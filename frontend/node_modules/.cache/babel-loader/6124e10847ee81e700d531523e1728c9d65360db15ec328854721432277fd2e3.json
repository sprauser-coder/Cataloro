{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/layout/ModernHeader.js\",\n  _s = $RefreshSig$();\n/**\n * CATALORO - Ultra-Modern Header Navigation - TEST SASCHA\n * Sleek header with comprehensive navigation and enhanced notifications\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { Bell, User, Heart, MessageCircle, Settings, LogOut, Package, Moon, Sun, Menu, X, Store, BarChart3, DollarSign, Shield, Filter, List, Zap, ChevronDown, Check, CheckCheck, Star, Clock, Eye, TrendingUp, Trash2, RefreshCw, Volume2, VolumeX, BellOff, Globe, Plus, ShoppingCart, HelpCircle, Mail, FileText, Home, Camera, Calendar, Download, Upload, Edit, EyeOff, Lock, Unlock, Key, Users, UserPlus, Phone, Smartphone, Monitor, Tablet, Laptop, Activity, Award, Target, Compass, Map, Navigation, Bookmark, Tag, SortAsc, Grid, Layers, Archive, Folder, File, Image, Video, Music, Headphones, Mic, Play, Pause, Square, SkipBack, SkipForward, Repeat, Shuffle, Share, ExternalLink, Link as LinkIcon, Copy, AlertTriangle, AlertCircle, Info, CheckCircle } from 'lucide-react';\nimport { APP_ROUTES } from '../../config/directions';\nimport { useAuth } from '../../context/AuthContext';\nimport { useMarketplace } from '../../context/MarketplaceContext';\nimport { useNotifications } from '../../context/NotificationContext';\nimport { liveService } from '../../services/liveService';\nimport usePermissions from '../../hooks/usePermissions';\nimport { useMenuSettings } from '../../hooks/useMenuSettings';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ModernHeader({\n  darkMode,\n  toggleDarkMode,\n  isMobileMenuOpen,\n  setIsMobileMenuOpen\n}) {\n  _s();\n  var _user$full_name, _user$username;\n  const {\n    user,\n    logout\n  } = useAuth();\n  const {\n    favoriteCount\n  } = useMarketplace();\n  const {\n    showToast\n  } = useNotifications();\n  const {\n    permissions,\n    isAdmin,\n    isSeller,\n    isBuyer,\n    isAdminLevel,\n    getUserDisplay\n  } = usePermissions();\n  const {\n    isMenuItemVisible\n  } = useMenuSettings();\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showTendersMenu, setShowTendersMenu] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [unreadNotifications, setUnreadNotifications] = useState(0);\n  const [unreadMessages, setUnreadMessages] = useState(0);\n  const [sessionReadMessageIds, setSessionReadMessageIds] = useState(new Set()); // Moved to component level\n  const [siteBranding, setSiteBranding] = useState({});\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  const [notificationFilter, setNotificationFilter] = useState('all'); // all, unread, read\n  const [lastNotificationCheck, setLastNotificationCheck] = useState(Date.now());\n  const navigate = useNavigate();\n  const location = useLocation();\n  const userMenuRef = useRef(null);\n  const notificationRef = useRef(null);\n\n  // Enhanced notification sound\n  const playNotificationSound = () => {\n    if (soundEnabled) {\n      try {\n        const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmIdBz6S3fPNeSsFJICO89iMOQkXZL7n6KdUFAg+ltryxnkpBSl+zfDZjjkKGGG+6OSlSxELStPx07dORgk2jNnuw3MoByJ9yvDQjj0KFmSx5eeScxELTanxx4A=');\n        audio.volume = 0.3;\n        audio.play().catch(console.error);\n      } catch (error) {\n        console.error('Could not play notification sound:', error);\n      }\n    }\n  };\n\n  // Delete notification (enhanced with backend API call)\n  const deleteNotification = async (notificationId, event, showFeedback = true) => {\n    if (event) event.stopPropagation();\n    try {\n      // Remove from local state immediately with animation\n      const deletedNotification = notifications.find(n => n.id === notificationId);\n\n      // Add removal animation class before removing\n      const notificationElement = document.querySelector(`[data-notification-id=\"${notificationId}\"]`);\n      if (notificationElement) {\n        notificationElement.classList.add('notification-removing');\n        setTimeout(() => {\n          setNotifications(notifications.filter(n => n.id !== notificationId));\n          if (deletedNotification && !deletedNotification.is_read) {\n            setUnreadNotifications(prev => Math.max(0, prev - 1));\n          }\n        }, 300); // Match animation duration\n      } else {\n        // Immediate removal if element not found\n        setNotifications(notifications.filter(n => n.id !== notificationId));\n        if (deletedNotification && !deletedNotification.is_read) {\n          setUnreadNotifications(prev => Math.max(0, prev - 1));\n        }\n      }\n\n      // Backend API call to delete notification permanently\n      try {\n        const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/user/${user === null || user === void 0 ? void 0 : user.id}/notifications/${notificationId}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          console.warn('Failed to delete notification from backend:', response.statusText);\n        }\n      } catch (apiError) {\n        console.error('API error deleting notification:', apiError);\n      }\n\n      // Optional feedback\n      if (showFeedback) {\n        console.log('Notification removed');\n      }\n    } catch (error) {\n      console.error('Failed to delete notification:', error);\n    }\n  };\n\n  // Enhanced action handlers with auto-delete\n  const handleMarkAsRead = async (notificationId, event) => {\n    event.stopPropagation();\n    try {\n      await markNotificationAsRead(notificationId);\n      // Auto-delete after marking as read\n      setTimeout(() => {\n        deleteNotification(notificationId, null, false);\n      }, 1000); // 1 second delay to show the action was completed\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n    }\n  };\n  const handleAcceptRequest = async (notificationId, event) => {\n    event.stopPropagation();\n    try {\n      // Navigate to pending sales for approval\n      setShowNotifications(false);\n      navigate('/pending-sales');\n      // Auto-delete the notification\n      setTimeout(() => {\n        deleteNotification(notificationId, null, false);\n      }, 500);\n    } catch (error) {\n      console.error('Failed to handle accept request:', error);\n    }\n  };\n  const handleDeclineRequest = async (notificationId, event) => {\n    event.stopPropagation();\n    try {\n      // TODO: Add actual reject functionality\n      console.log('Request declined');\n      // Auto-delete the notification immediately\n      deleteNotification(notificationId, null, false);\n    } catch (error) {\n      console.error('Failed to handle decline request:', error);\n    }\n  };\n  const handleReplyToMessage = async (notificationId, event) => {\n    event.stopPropagation();\n    try {\n      // Navigate to messages\n      setShowNotifications(false);\n      navigate('/messages');\n      // Auto-delete the notification\n      setTimeout(() => {\n        deleteNotification(notificationId, null, false);\n      }, 500);\n    } catch (error) {\n      console.error('Failed to handle reply to message:', error);\n    }\n  };\n\n  // Enhanced notification filtering\n  const getFilteredNotifications = () => {\n    let filtered = notifications;\n    switch (notificationFilter) {\n      case 'unread':\n        filtered = notifications.filter(n => !n.is_read);\n        break;\n      case 'read':\n        filtered = notifications.filter(n => n.is_read);\n        break;\n      default:\n        filtered = notifications;\n    }\n    return filtered.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\n  };\n  // Load notifications from backend with enhanced features and rate limit handling\n  const loadNotifications = async (showNewNotificationAlert = false) => {\n    if (!(user !== null && user !== void 0 && user.id)) return;\n    try {\n      const userNotifications = await liveService.getUserNotifications(user.id);\n      const userMessages = await liveService.getUserMessages(user.id);\n\n      // Ensure we have arrays to work with\n      const notificationsArray = Array.isArray(userNotifications) ? userNotifications : [];\n      const messagesArray = Array.isArray(userMessages) ? userMessages : [];\n\n      // Check for new notifications since last check\n      if (showNewNotificationAlert && notifications.length > 0) {\n        const newNotifications = notificationsArray.filter(n => new Date(n.created_at) > new Date(lastNotificationCheck) && !n.is_read);\n        if (newNotifications.length > 0) {\n          playNotificationSound();\n          // Show browser notification if supported\n          if ('Notification' in window && Notification.permission === 'granted') {\n            new Notification(`${newNotifications.length} new notification${newNotifications.length > 1 ? 's' : ''}`, {\n              body: newNotifications[0].title,\n              icon: '/favicon.ico',\n              tag: 'cataloro-notification'\n            });\n          }\n        }\n      }\n      setNotifications(notificationsArray);\n      setUnreadNotifications(notificationsArray.filter(n => !n.is_read).length);\n      setUnreadMessages(messagesArray.filter(m => !m.is_read && m.sender_id !== user.id).length);\n      setLastNotificationCheck(Date.now());\n    } catch (error) {\n      var _error$message;\n      console.error('Failed to load notifications:', error);\n\n      // Handle rate limiting specifically\n      if ((_error$message = error.message) !== null && _error$message !== void 0 && _error$message.includes('429') || error.status === 429) {\n        console.warn('⚠️ Rate limit detected - backing off notifications polling');\n        // Don't reset data on rate limit, just log the warning\n        return;\n      }\n\n      // Use empty array as fallback for other errors\n      setNotifications([]);\n      setUnreadNotifications(0);\n      setUnreadMessages(0);\n    }\n  };\n\n  // Mark notification as read with animation\n  const markNotificationAsRead = async notificationId => {\n    try {\n      await liveService.markNotificationRead(user.id, notificationId);\n      setNotifications(notifications.map(n => n.id === notificationId ? {\n        ...n,\n        is_read: true\n      } : n));\n      setUnreadNotifications(prev => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n    }\n  };\n\n  // Mark all notifications as read with bulk operation\n  const markAllNotificationsAsRead = async () => {\n    try {\n      const unreadIds = notifications.filter(n => !n.is_read).map(n => n.id);\n      await Promise.all(unreadIds.map(id => liveService.markNotificationRead(user.id, id)));\n      setNotifications(notifications.map(n => ({\n        ...n,\n        is_read: true\n      })));\n      setUnreadNotifications(0);\n    } catch (error) {\n      console.error('Failed to mark all notifications as read:', error);\n    }\n  };\n\n  // Request notification permission on component mount\n  const requestNotificationPermission = () => {\n    if ('Notification' in window && Notification.permission === 'default') {\n      Notification.requestPermission().then(permission => {\n        console.log('Notification permission:', permission);\n      });\n    }\n  };\n  useEffect(() => {\n    // Function to load branding and notification data\n    const loadData = () => {\n      // Load site branding from localStorage\n      const brandingData = localStorage.getItem('cataloro_site_branding');\n      if (brandingData) {\n        try {\n          const parsedBranding = JSON.parse(brandingData);\n          console.log('Header loading branding data:', parsedBranding);\n          setSiteBranding(parsedBranding);\n        } catch (error) {\n          console.error('Error parsing branding data:', error);\n        }\n      } else {\n        console.log('No branding data found in localStorage');\n      }\n    };\n\n    // Load initial data\n    loadData();\n\n    // Load notifications if user is available\n    if (user !== null && user !== void 0 && user.id) {\n      loadNotifications();\n      // Disabled automatic notification permission request to avoid browser errors\n      // requestNotificationPermission(); // Only request on user interaction\n\n      // Set up real-time notification polling every 5 minutes (reduced from 2 minutes to prevent rate limiting)\n      const notificationInterval = setInterval(() => {\n        loadNotifications(true);\n      }, 300000); // 5 minutes instead of 2 minutes\n\n      // Listen for custom events when messages are marked as read\n      const handleMessagesMarkedAsRead = event => {\n        var _event$detail, _event$detail2;\n        console.log('📧 ModernHeader received messagesMarkedAsRead event with detail:', event.detail);\n        const messageIds = ((_event$detail = event.detail) === null || _event$detail === void 0 ? void 0 : _event$detail.messageIds) || [];\n        const count = ((_event$detail2 = event.detail) === null || _event$detail2 === void 0 ? void 0 : _event$detail2.count) || 0;\n        console.log(`🔢 Reducing unread message count by ${count} (current: ${unreadMessages})`);\n\n        // Update session read message tracking\n        setSessionReadMessageIds(prev => {\n          const updated = new Set(prev);\n          messageIds.forEach(id => updated.add(id));\n          console.log('📝 Updated session read message IDs:', Array.from(updated));\n          return updated;\n        });\n\n        // Immediately reduce unread count by the number of messages marked as read\n        setUnreadMessages(prev => {\n          const newCount = Math.max(0, prev - count);\n          console.log(`📊 Updated unread messages count: ${prev} → ${newCount}`);\n          return newCount;\n        });\n\n        // Also refresh from server to sync\n        console.log('🔄 Triggering loadNotifications to sync with server');\n        loadNotifications(true);\n      };\n      const handleMessagesSessionReset = () => {\n        console.log('🔄 Messages session reset - restoring original unread counts');\n        setSessionReadMessageIds(new Set());\n        // Reload notifications to get true unread count from server\n        loadNotifications(true);\n      };\n      window.addEventListener('messagesMarkedAsRead', handleMessagesMarkedAsRead);\n      window.addEventListener('messagesSessionReset', handleMessagesSessionReset);\n      return () => {\n        clearInterval(notificationInterval);\n        window.removeEventListener('messagesMarkedAsRead', handleMessagesMarkedAsRead);\n        window.removeEventListener('messagesSessionReset', handleMessagesSessionReset);\n      };\n    }\n\n    // Listen for localStorage changes (when admin updates branding)\n    const handleStorageChange = e => {\n      if (e.key === 'cataloro_site_branding') {\n        loadData();\n      }\n    };\n\n    // Listen for custom events when branding is updated\n    const handleBrandingUpdate = () => {\n      loadData();\n    };\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('brandingUpdated', handleBrandingUpdate);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('brandingUpdated', handleBrandingUpdate);\n    };\n  }, [user === null || user === void 0 ? void 0 : user.id]);\n\n  // Load sound preference from localStorage\n  useEffect(() => {\n    const soundPref = localStorage.getItem('cataloro_notification_sound');\n    setSoundEnabled(soundPref !== 'false');\n  }, []);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (userMenuRef.current && !userMenuRef.current.contains(event.target)) {\n        setShowUserMenu(false);\n      }\n      if (notificationRef.current && !notificationRef.current.contains(event.target)) {\n        setShowNotifications(false);\n      }\n      if (showTendersMenu && !event.target.closest('.tenders-dropdown')) {\n        setShowTendersMenu(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showUserMenu, showNotifications, showTendersMenu]);\n\n  // Smart notification click handler\n  const handleNotificationClick = async notification => {\n    try {\n      // Mark notification as read first\n      await markNotificationAsRead(notification.id);\n\n      // Close notifications dropdown\n      setShowNotifications(false);\n\n      // Navigate based on notification type\n      switch (notification.type) {\n        case 'tender_accepted':\n          // Navigate to Buy > Bought Items tab\n          navigate('/buy?tab=bought-items');\n          break;\n        case 'tender_offer':\n        case 'new_tender_offer':\n          // Navigate to Sell > Sell Tenders tab\n          navigate('/sell?tab=tenders');\n          if (notification.listing_id) {\n            // Add listing parameter if available\n            setTimeout(() => {\n              const urlParams = new URLSearchParams(window.location.search);\n              urlParams.set('listing', notification.listing_id);\n              navigate('/sell?tab=tenders&' + urlParams.toString(), {\n                replace: true\n              });\n            }, 100);\n          }\n          break;\n        case 'tender_rejected':\n          // Navigate to Buy > Items (keeping existing behavior but with new Buy page structure)\n          navigate('/buy?tab=tenders');\n          break;\n        case 'order_completed':\n        case 'transaction_completed':\n        case 'transaction_marked_completed':\n          // Navigate to Buy > Bought Items\n          navigate('/buy?tab=bought-items');\n          break;\n        case 'transaction_fully_completed':\n        case 'order_fully_completed':\n          // Navigate to Buy > Completed\n          navigate('/buy?tab=completed');\n          break;\n        case 'order_shipped':\n        case 'listing_sold':\n          // Navigate to My Listings page with Closed filter (keep existing for seller notifications)\n          navigate('/my-listings');\n          setTimeout(() => {\n            const urlParams = new URLSearchParams();\n            urlParams.set('filter', 'closed');\n            navigate('/my-listings?' + urlParams.toString(), {\n              replace: true\n            });\n          }, 100);\n          break;\n        case 'message':\n        case 'new_message':\n          // Navigate to Messages page (keep existing)\n          if (notification.message_id) {\n            navigate(`/messages?id=${notification.message_id}`);\n          } else {\n            navigate('/messages');\n          }\n          break;\n        case 'buy_request':\n        case 'purchase_request':\n          // Navigate to My Listings page with Active filter (keep existing)\n          navigate('/my-listings');\n          setTimeout(() => {\n            const urlParams = new URLSearchParams();\n            urlParams.set('filter', 'active');\n            navigate('/my-listings?' + urlParams.toString(), {\n              replace: true\n            });\n          }, 100);\n          break;\n        case 'buy_approved':\n        case 'purchase_approved':\n          // Navigate to deals page instead of cart (keep existing)\n          navigate('/deals');\n          break;\n        case 'buy_rejected':\n        case 'purchase_rejected':\n          // Navigate to browse page to find alternatives (keep existing)\n          navigate('/browse');\n          break;\n        case 'favorite':\n        case 'wishlist_update':\n          // Navigate to favorites page (keep existing)\n          navigate('/favorites');\n          break;\n        case 'listing_approved':\n        case 'listing_updated':\n          // Navigate to My Listings (keep existing)\n          navigate('/my-listings');\n          break;\n        case 'profile_update':\n        case 'account_update':\n          // Navigate to profile settings (keep existing)\n          navigate('/profile');\n          break;\n        case 'new_user_registration':\n        case 'user_registration':\n          // For ADMIN users: Navigate to Admin Panel > Users tab\n          if ((user === null || user === void 0 ? void 0 : user.role) === 'admin' || user !== null && user !== void 0 && user.is_admin) {\n            navigate('/admin?tab=users');\n          } else {\n            // For non-admin users, go to notifications center\n            navigate('/notifications');\n          }\n          break;\n        case 'system':\n        case 'announcement':\n          // Navigate to notifications center for full details (keep existing)\n          navigate('/notifications');\n          break;\n        default:\n          // For unknown notification types, go to notifications center (keep existing)\n          navigate('/notifications');\n          break;\n      }\n      showToast(`Navigating to ${notification.title}`, 'info');\n    } catch (error) {\n      console.error('Error handling notification click:', error);\n      showToast('Error navigating from notification', 'error');\n    }\n  };\n\n  // Handle logout functionality\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n    showToast('Logged out successfully', 'success');\n  };\n  const isActive = path => location.pathname === path;\n\n  // Icon mapping for custom menu items\n  const iconMap = {\n    Store,\n    Plus,\n    MessageCircle,\n    DollarSign,\n    ShoppingCart,\n    Heart,\n    Bell,\n    User,\n    Settings,\n    LogOut,\n    Package,\n    Shield,\n    Menu,\n    X,\n    Sun,\n    Moon,\n    Globe,\n    BarChart3,\n    TrendingUp,\n    HelpCircle,\n    Mail,\n    FileText,\n    Home,\n    Star,\n    Camera,\n    Calendar,\n    Clock,\n    Download,\n    Upload,\n    Edit,\n    Trash2,\n    Eye,\n    EyeOff,\n    Lock,\n    Unlock,\n    Key,\n    Users,\n    UserPlus,\n    Phone,\n    Smartphone,\n    Monitor,\n    Tablet,\n    Laptop,\n    Zap,\n    Activity,\n    Award,\n    Target,\n    Compass,\n    Map,\n    Navigation,\n    Bookmark,\n    Tag,\n    Filter,\n    SortAsc,\n    List,\n    Grid,\n    Layers,\n    Archive,\n    Folder,\n    File,\n    Image,\n    Video,\n    Music,\n    Headphones,\n    Mic,\n    Volume2,\n    Play,\n    Pause,\n    Square,\n    SkipBack,\n    SkipForward,\n    Repeat,\n    Shuffle,\n    Share,\n    ExternalLink,\n    LinkIcon,\n    Copy,\n    Check,\n    AlertTriangle,\n    AlertCircle,\n    Info,\n    CheckCircle\n  };\n\n  // Define navigation items for the main nav (excluding items that have dedicated sections)\n  const allNavigationItems = [{\n    label: 'About',\n    path: '/info',\n    icon: Globe,\n    key: 'about'\n  }, {\n    label: 'Browse',\n    path: '/browse',\n    icon: Store,\n    key: 'browse'\n  }, {\n    label: 'Buy',\n    path: '/buy',\n    icon: ShoppingCart,\n    key: 'buy'\n  }, {\n    label: 'Sell',\n    path: '/sell',\n    icon: Package,\n    key: 'sell'\n  }, {\n    label: 'Notifications',\n    path: '/notifications',\n    icon: Bell,\n    key: 'notifications'\n  }];\n\n  // Filter navigation items based on menu visibility settings\n  const navigationItems = allNavigationItems.filter(item => isMenuItemVisible('desktop_menu', item.key));\n\n  // Get custom menu items - these should appear first by default\n  const {\n    getCustomMenuItems\n  } = useMenuSettings();\n  const customMenuItems = getCustomMenuItems('desktop_menu');\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-white/20 shadow-lg shadow-black/5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-pink-600/5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between h-20\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-8\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/browse\",\n            className: \"flex items-center space-x-3 group header-logo\",\n            children: [siteBranding.logo_light_url || siteBranding.logo_dark_url || siteBranding.logo_url ?\n            /*#__PURE__*/\n            // Custom Logo Mode - FULL LOGO REPLACEMENT (NO TEXT)\n            _jsxDEV(\"div\", {\n              className: \"relative\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: darkMode ? siteBranding.logo_dark_url || siteBranding.logo_url : siteBranding.logo_light_url || siteBranding.logo_url,\n                alt: siteBranding.site_name || 'Cataloro',\n                className: \"h-8 sm:h-12 max-w-[120px] sm:max-w-[200px] object-contain group-hover:opacity-90 transition-opacity duration-300\",\n                onError: e => {\n                  // Fallback to default icon + text if image fails\n                  e.target.style.display = 'none';\n                  e.target.parentElement.nextSibling.style.display = 'flex';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this) :\n            /*#__PURE__*/\n            // Default Icon + Text Mode\n            _jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 sm:w-12 sm:h-12 rounded-xl sm:rounded-2xl flex items-center justify-center relative overflow-hidden\",\n                  style: {\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    boxShadow: '0 8px 25px rgba(103, 126, 234, 0.4)'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Store, {\n                    className: \"w-5 h-5 sm:w-7 sm:h-7 text-white relative z-10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 641,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 636,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 rounded-2xl\",\n                  style: {\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    filter: 'blur(8px)',\n                    opacity: '0.3',\n                    transform: 'scale(1.1)'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 643,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-white/90 transition-colors header-title\",\n                  style: {\n                    background: 'linear-gradient(135deg, #1f2937 0%, #374151 100%)',\n                    WebkitBackgroundClip: 'text',\n                    WebkitTextFillColor: 'transparent'\n                  },\n                  children: siteBranding.site_name || 'Cataloro'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 3\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"hidden sm:block text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide\",\n                  children: siteBranding.site_description || 'ULTRA-MODERN MARKETPLACE'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"items-center space-x-3\",\n              style: {\n                display: 'none'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden\",\n                  style: {\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    boxShadow: '0 8px 25px rgba(103, 126, 234, 0.4)'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Store, {\n                    className: \"w-7 h-7 text-white relative z-10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 675,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"hidden sm:block\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                  children: siteBranding.site_name || 'Catal'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide\",\n                  children: siteBranding.site_description || 'ULTRA-MODERN MARKETPLACE'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"hidden lg:flex space-x-2\",\n            children: [customMenuItems.map(item => {\n              const isActive = location.pathname === item.url;\n              const isExternal = item.url.startsWith('http');\n              const IconComponent = iconMap[item.icon] || Star; // Default to Star if icon not found\n\n              return isExternal ? /*#__PURE__*/_jsxDEV(\"a\", {\n                href: item.url,\n                target: item.target || '_self',\n                rel: item.target === '_blank' ? 'noopener noreferrer' : undefined,\n                className: \"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10\",\n                children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 705,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: item.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 21\n                }, this), item.target === '_blank' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs opacity-60\",\n                  children: \"\\u2197\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 707,\n                  columnNumber: 50\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Link, {\n                to: item.url,\n                className: `flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ${isActive ? 'bg-gray-300/30 dark:bg-gray-500/30 text-gray-800 dark:text-white shadow-lg backdrop-blur-md border border-gray-300 dark:border-gray-500/30' : 'text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10'}`,\n                style: isActive ? darkMode ? {\n                  background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)',\n                  backdropFilter: 'blur(20px)',\n                  boxShadow: '0 4px 15px rgba(255, 255, 255, 0.1)'\n                } : {\n                  background: 'linear-gradient(135deg, rgba(156, 163, 175, 0.25) 0%, rgba(156, 163, 175, 0.15) 100%)',\n                  backdropFilter: 'blur(20px)',\n                  boxShadow: '0 4px 15px rgba(156, 163, 175, 0.2)'\n                } : {},\n                children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: item.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 21\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 19\n              }, this);\n            }), navigationItems.map(item => {\n              const Icon = item.icon;\n              const isActive = location.pathname === item.path;\n              return /*#__PURE__*/_jsxDEV(Link, {\n                to: item.path,\n                className: `flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ${isActive ? 'bg-gray-300/30 dark:bg-gray-500/30 text-gray-800 dark:text-white shadow-lg backdrop-blur-md border border-gray-300 dark:border-gray-500/30' : 'text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10'}`,\n                style: isActive ? darkMode ? {\n                  background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)',\n                  backdropFilter: 'blur(20px)',\n                  boxShadow: '0 4px 15px rgba(255, 255, 255, 0.1)'\n                } : {\n                  background: 'linear-gradient(135deg, rgba(156, 163, 175, 0.25) 0%, rgba(156, 163, 175, 0.15) 100%)',\n                  backdropFilter: 'blur(20px)',\n                  boxShadow: '0 4px 15px rgba(156, 163, 175, 0.2)'\n                } : {},\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: item.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 21\n                }, this)]\n              }, item.path, true, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 19\n              }, this);\n            }), isMenuItemVisible('desktop_menu', 'admin_panel') && /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin\",\n              className: `flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm shadow-lg backdrop-blur-md ${isAdminLevel() ? 'text-gray-900 dark:text-gray-900' : 'text-gray-700 dark:text-white/80'}`,\n              style: {\n                background: location.pathname === '/admin' ? isAdmin() ? 'linear-gradient(135deg, rgba(255, 193, 7, 0.9) 0%, rgba(255, 152, 0, 0.8) 100%)' : 'linear-gradient(135deg, rgba(147, 51, 234, 0.8) 0%, rgba(79, 70, 229, 0.7) 100%)' : isAdmin() ? 'linear-gradient(135deg, rgba(255, 193, 7, 0.7) 0%, rgba(255, 152, 0, 0.6) 100%)' : 'linear-gradient(135deg, rgba(147, 51, 234, 0.6) 0%, rgba(79, 70, 229, 0.5) 100%)',\n                backdropFilter: 'blur(20px)',\n                boxShadow: isAdmin() ? '0 4px 15px rgba(255, 193, 7, 0.3)' : '0 4px 15px rgba(147, 51, 234, 0.3)',\n                border: isAdmin() ? '1px solid rgba(255, 193, 7, 0.4)' : '1px solid rgba(147, 51, 234, 0.4)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: isAdmin() ? 'Admin' : 'Manager'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hidden lg:flex items-center space-x-2\",\n            children: [isMenuItemVisible('desktop_menu', 'messages') && /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/messages\",\n              className: \"relative p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 17\n              }, this), unreadMessages > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium\",\n                children: unreadMessages\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 804,\n              columnNumber: 17\n            }, this), isMenuItemVisible('desktop_menu', 'favorites') && /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/favorites\",\n              className: \"relative p-2 text-gray-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 19\n              }, this), favoriteCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium\",\n                children: favoriteCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 17\n            }, this), isMenuItemVisible('desktop_menu', 'create_listing') && /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/create-listing\",\n              className: \"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group\",\n              style: {\n                background: darkMode ? 'linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)' : 'linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%)',\n                backdropFilter: 'blur(20px)',\n                borderRadius: '16px',\n                border: darkMode ? '1px solid rgba(34, 197, 94, 0.2)' : '1px solid rgba(34, 197, 94, 0.15)'\n              },\n              title: \"Create New Listing\",\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                className: \"w-5 h-5 text-green-600 dark:text-green-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            ref: notificationRef,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowNotifications(!showNotifications),\n              className: \"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group\",\n              style: {\n                background: darkMode ? 'linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)' : 'linear-gradient(135deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0.04) 100%)',\n                backdropFilter: 'blur(20px)',\n                borderRadius: '16px',\n                border: darkMode ? '1px solid rgba(255, 255, 255, 0.1)' : '1px solid rgba(0, 0, 0, 0.1)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Bell, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 17\n              }, this), unreadNotifications > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute -top-2 -right-2 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold text-[10px]\",\n                style: {\n                  background: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',\n                  boxShadow: '0 4px 15px rgba(250, 112, 154, 0.4)'\n                },\n                children: unreadNotifications\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 15\n            }, this), showNotifications && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute right-0 mt-3 w-80 max-w-[90vw] rounded-2xl shadow-2xl py-3 z-50 notifications-dropdown-enhanced animate-in\",\n              style: {\n                background: darkMode ? 'rgba(0, 0, 0, 0.95)' : 'rgba(255, 255, 255, 0.95)',\n                backdropFilter: 'blur(25px)',\n                border: darkMode ? '1px solid rgba(255, 255, 255, 0.2)' : '1px solid rgba(0, 0, 0, 0.2)',\n                animation: 'slideDown 0.3s ease-out'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-4 py-3 border-b border-white/10\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-bold text-gray-900 dark:text-white text-base flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(Bell, {\n                      className: \"w-4 h-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 897,\n                      columnNumber: 25\n                    }, this), \"Notifications\", unreadNotifications > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full\",\n                      children: unreadNotifications\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 900,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 896,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 895,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-1.5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                      value: notificationFilter,\n                      onChange: e => setNotificationFilter(e.target.value),\n                      className: \"text-xs bg-transparent border border-white/20 rounded-md px-1.5 py-1 text-gray-600 dark:text-white/80 focus:outline-none focus:ring-1 focus:ring-blue-500 min-w-0 w-16\",\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"all\",\n                        children: \"All\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 916,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"unread\",\n                        children: \"New\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 917,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"read\",\n                        children: \"Read\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 918,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 911,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        const newSoundEnabled = !soundEnabled;\n                        setSoundEnabled(newSoundEnabled);\n                        localStorage.setItem('cataloro_notification_sound', newSoundEnabled.toString());\n                      },\n                      className: \"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors\",\n                      title: soundEnabled ? 'Disable sound' : 'Enable sound',\n                      children: soundEnabled ? /*#__PURE__*/_jsxDEV(Volume2, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 931,\n                        columnNumber: 43\n                      }, this) : /*#__PURE__*/_jsxDEV(VolumeX, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 931,\n                        columnNumber: 81\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 922,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => loadNotifications(),\n                      className: \"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors\",\n                      title: \"Refresh\",\n                      children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 939,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 934,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 909,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: unreadNotifications > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: markAllNotificationsAsRead,\n                      className: \"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium transition-colors\",\n                      children: \"Mark all read\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 946,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 944,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 908,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"max-h-80 overflow-y-auto custom-scrollbar\",\n                children: getFilteredNotifications().length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-4 py-6 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(Bell, {\n                      className: \"w-6 h-6 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 962,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 961,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-600 dark:text-gray-400 font-medium text-sm\",\n                    children: notificationFilter === 'all' ? 'No notifications yet' : notificationFilter === 'unread' ? 'No unread notifications' : 'No read notifications'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 964,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 dark:text-gray-500 mt-1\",\n                    children: \"We'll notify you when something important happens\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 969,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 960,\n                  columnNumber: 23\n                }, this) : getFilteredNotifications().map((notification, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  \"data-notification-id\": notification.id,\n                  onClick: () => handleNotificationClick(notification),\n                  className: `group px-4 py-3 hover:bg-white/5 dark:hover:bg-white/5 cursor-pointer border-l-3 transition-all duration-300 ${!notification.is_read ? 'bg-blue-50/30 dark:bg-blue-900/30' : ''} ${index === 0 ? 'animate-in' : ''}`,\n                  style: {\n                    borderColor: notification.type === 'message' ? '#667eea' : notification.type === 'favorite' ? '#f093fb' : notification.type === 'payment' ? '#43e97b' : notification.type === 'buy_request' ? '#fbbf24' : notification.type === 'buy_approved' ? '#10b981' : notification.type === 'buy_rejected' ? '#ef4444' : notification.type === 'tender_accepted' ? '#10b981' : notification.type === 'tender_offer' ? '#f59e0b' : notification.type === 'tender_rejected' ? '#ef4444' : notification.type === 'new_tender_offer' ? '#f59e0b' : notification.type === 'order_completed' ? '#10b981' : '#9ca3af',\n                    animationDelay: `${index * 0.1}s`\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-start space-x-2.5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `p-1.5 rounded-full flex-shrink-0 ${notification.type === 'message' ? 'bg-blue-100 text-blue-600' : notification.type === 'favorite' ? 'bg-pink-100 text-pink-600' : notification.type === 'payment' ? 'bg-green-100 text-green-600' : notification.type === 'buy_request' ? 'bg-yellow-100 text-yellow-600' : notification.type === 'buy_approved' ? 'bg-green-100 text-green-600' : notification.type === 'buy_rejected' ? 'bg-red-100 text-red-600' : 'bg-gray-100 text-gray-600'}`,\n                      children: notification.type === 'message' ? /*#__PURE__*/_jsxDEV(MessageCircle, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1008,\n                        columnNumber: 66\n                      }, this) : notification.type === 'favorite' ? /*#__PURE__*/_jsxDEV(Heart, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1009,\n                        columnNumber: 67\n                      }, this) : notification.type === 'payment' ? /*#__PURE__*/_jsxDEV(DollarSign, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1010,\n                        columnNumber: 66\n                      }, this) : notification.type === 'buy_request' ? /*#__PURE__*/_jsxDEV(Package, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1011,\n                        columnNumber: 70\n                      }, this) : notification.type === 'buy_approved' ? /*#__PURE__*/_jsxDEV(Check, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1012,\n                        columnNumber: 71\n                      }, this) : notification.type === 'buy_rejected' ? /*#__PURE__*/_jsxDEV(X, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1013,\n                        columnNumber: 71\n                      }, this) : /*#__PURE__*/_jsxDEV(Bell, {\n                        className: \"w-3.5 h-3.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1014,\n                        columnNumber: 32\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 999,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1 min-w-0 overflow-hidden\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-start justify-between\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex-1 min-w-0 pr-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: `text-sm font-semibold truncate ${!notification.is_read ? 'text-gray-900 dark:text-white' : 'text-gray-700 dark:text-gray-300'}`,\n                            children: notification.title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1021,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-600 dark:text-white/70 mt-0.5 line-clamp-2 leading-tight\",\n                            children: notification.message\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1024,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1020,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center space-x-1 flex-shrink-0\",\n                          children: [!notification.is_read && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-1.5 h-1.5 bg-blue-600 rounded-full\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1030,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: e => deleteNotification(notification.id, e),\n                            className: \"opacity-0 group-hover:opacity-100 p-0.5 text-gray-400 hover:text-red-600 transition-all duration-200\",\n                            title: \"Delete\",\n                            children: /*#__PURE__*/_jsxDEV(Trash2, {\n                              className: \"w-3 h-3\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1038,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1033,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1028,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1019,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between mt-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center text-xs text-gray-500 dark:text-gray-400\",\n                          children: [/*#__PURE__*/_jsxDEV(Clock, {\n                            className: \"w-3 h-3 mr-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1046,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"truncate\",\n                            children: [new Date(notification.created_at).toLocaleDateString(), \" \", new Date(notification.created_at).toLocaleTimeString([], {\n                              hour: '2-digit',\n                              minute: '2-digit'\n                            })]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1047,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1045,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center space-x-1 flex-shrink-0\",\n                          children: [!notification.is_read && /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: e => handleMarkAsRead(notification.id, e),\n                            className: \"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200\",\n                            title: \"Mark read\",\n                            children: /*#__PURE__*/_jsxDEV(CheckCheck, {\n                              className: \"w-3 h-3\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1060,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1055,\n                            columnNumber: 37\n                          }, this), notification.type === 'buy_request' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: e => handleAcceptRequest(notification.id, e),\n                              className: \"p-1 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-900/70 transition-all duration-200\",\n                              title: \"Accept\",\n                              children: /*#__PURE__*/_jsxDEV(Check, {\n                                className: \"w-3 h-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1072,\n                                columnNumber: 41\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1067,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: e => handleDeclineRequest(notification.id, e),\n                              className: \"p-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/70 transition-all duration-200\",\n                              title: \"Decline\",\n                              children: /*#__PURE__*/_jsxDEV(X, {\n                                className: \"w-3 h-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1079,\n                                columnNumber: 41\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1074,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true), notification.type === 'message' && /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: e => handleReplyToMessage(notification.id, e),\n                            className: \"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200\",\n                            title: \"Reply\",\n                            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n                              className: \"w-3 h-3\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1090,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1085,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1053,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1044,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1018,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 997,\n                    columnNumber: 27\n                  }, this)\n                }, notification.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 958,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-4 py-2 border-t border-white/10\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/notifications\",\n                    className: \"text-xs text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white font-medium flex items-center transition-colors\",\n                    onClick: () => setShowNotifications(false),\n                    children: [\"View all notifications\", /*#__PURE__*/_jsxDEV(TrendingUp, {\n                      className: \"w-3 h-3 ml-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1111,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1105,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                    children: [getFilteredNotifications().length, \" total\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1114,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1104,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1103,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 855,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleDarkMode,\n            className: \"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200\",\n            children: darkMode ? /*#__PURE__*/_jsxDEV(Sun, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1128,\n              columnNumber: 27\n            }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1128,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            ref: userMenuRef,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowUserMenu(!showUserMenu),\n              className: \"flex items-center space-x-3 p-2 rounded-2xl transition-all duration-300 group\",\n              style: {\n                background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%)',\n                backdropFilter: 'blur(20px)',\n                border: '1px solid rgba(255, 255, 255, 0.2)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-10 h-10 rounded-2xl flex items-center justify-center relative overflow-hidden\",\n                style: {\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                  boxShadow: '0 6px 20px rgba(103, 126, 234, 0.4)'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1146,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white font-bold text-sm relative z-10\",\n                  children: (user === null || user === void 0 ? void 0 : (_user$full_name = user.full_name) === null || _user$full_name === void 0 ? void 0 : _user$full_name.charAt(0)) || (user === null || user === void 0 ? void 0 : (_user$username = user.username) === null || _user$username === void 0 ? void 0 : _user$username.charAt(0)) || 'U'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1147,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1142,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"hidden sm:block text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-gray-900 dark:text-white\",\n                  children: (user === null || user === void 0 ? void 0 : user.username) || (user === null || user === void 0 ? void 0 : user.full_name) || 'User'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1152,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 dark:text-white/70 font-medium uppercase tracking-wide\",\n                  children: user === null || user === void 0 ? void 0 : user.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1155,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: `w-4 h-4 text-gray-700 dark:text-white/80 transition-transform duration-300 ${showUserMenu ? 'rotate-180' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 15\n            }, this), showUserMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute right-0 mt-3 w-72 rounded-2xl shadow-2xl py-2 z-50 profile-dropdown-enhanced\",\n              style: {\n                background: darkMode ? 'rgba(0, 0, 0, 0.95)' : 'rgba(255, 255, 255, 0.95)',\n                backdropFilter: 'blur(25px)',\n                border: darkMode ? '1px solid rgba(255, 255, 255, 0.2)' : '1px solid rgba(0, 0, 0, 0.2)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-6 py-4 border-b border-white/10\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-base font-bold text-gray-900 dark:text-white\",\n                      children: (user === null || user === void 0 ? void 0 : user.username) || (user === null || user === void 0 ? void 0 : user.full_name)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1176,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 dark:text-white/70\",\n                      children: user === null || user === void 0 ? void 0 : user.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1179,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1175,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col items-end\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `inline-flex px-3 py-1 text-xs font-semibold rounded-full ${getUserDisplay().badge === 'Admin' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300' : getUserDisplay().badge === 'Manager' ? 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300' : getUserDisplay().badge === 'Seller' ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300' : 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300'}`,\n                      children: getUserDisplay().badge\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1183,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1182,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1174,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"py-2\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/profile\",\n                  className: \"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group\",\n                  onClick: () => setShowUserMenu(false),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300\",\n                    style: {\n                      background: 'linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.1))'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(User, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1207,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1204,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Profile Settings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1209,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1199,\n                  columnNumber: 21\n                }, this), permissions.selling.canManageListings && /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/my-listings\",\n                  className: \"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group\",\n                  onClick: () => setShowUserMenu(false),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300\",\n                    style: {\n                      background: 'linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(245, 87, 108, 0.1))'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Package, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1222,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1219,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"My Listings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1224,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1214,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/profile/${user === null || user === void 0 ? void 0 : user.id}`,\n                  className: \"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group\",\n                  onClick: () => setShowUserMenu(false),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300\",\n                    style: {\n                      background: 'linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 197, 253, 0.1))'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Globe, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1236,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1233,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"View Public Profile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1238,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1228,\n                  columnNumber: 21\n                }, this), permissions.ui.showAdminPanelLink && isMenuItemVisible('desktop_menu', 'admin_panel') && /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/admin\",\n                  className: \"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group\",\n                  onClick: () => setShowUserMenu(false),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300\",\n                    style: {\n                      background: isAdmin() ? 'linear-gradient(135deg, rgba(250, 112, 154, 0.2), rgba(254, 225, 64, 0.1))' : 'linear-gradient(135deg, rgba(147, 51, 234, 0.2), rgba(79, 70, 229, 0.1))'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Shield, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1253,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1248,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: isAdmin() ? 'Admin Panel' : 'Manager Panel'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1255,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1243,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t border-white/10 pt-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleLogout,\n                  className: \"flex items-center w-full px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-red-600 dark:hover:text-red-300 hover:bg-red-500/10 dark:hover:bg-red-500/10 transition-all duration-300 group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2 rounded-lg mr-3 group-hover:bg-red-500/20 transition-all duration-300\",\n                    style: {\n                      background: 'linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1))'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(LogOut, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1268,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1265,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Sign Out\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1270,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1261,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsMobileMenuOpen(!isMobileMenuOpen),\n            className: \"lg:hidden p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200\",\n            children: isMobileMenuOpen ? /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1282,\n              columnNumber: 35\n            }, this) : /*#__PURE__*/_jsxDEV(Menu, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1282,\n              columnNumber: 63\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 609,\n    columnNumber: 5\n  }, this);\n}\n_s(ModernHeader, \"7hpBS18mzE7J+RTkTmiTM/mnXHc=\", false, function () {\n  return [useAuth, useMarketplace, useNotifications, usePermissions, useMenuSettings, useNavigate, useLocation, useMenuSettings];\n});\n_c = ModernHeader;\nexport default ModernHeader;\nvar _c;\n$RefreshReg$(_c, \"ModernHeader\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useLocation","useNavigate","Bell","User","Heart","MessageCircle","Settings","LogOut","Package","Moon","Sun","Menu","X","Store","BarChart3","DollarSign","Shield","Filter","List","Zap","ChevronDown","Check","CheckCheck","Star","Clock","Eye","TrendingUp","Trash2","RefreshCw","Volume2","VolumeX","BellOff","Globe","Plus","ShoppingCart","HelpCircle","Mail","FileText","Home","Camera","Calendar","Download","Upload","Edit","EyeOff","Lock","Unlock","Key","Users","UserPlus","Phone","Smartphone","Monitor","Tablet","Laptop","Activity","Award","Target","Compass","Map","Navigation","Bookmark","Tag","SortAsc","Grid","Layers","Archive","Folder","File","Image","Video","Music","Headphones","Mic","Play","Pause","Square","SkipBack","SkipForward","Repeat","Shuffle","Share","ExternalLink","LinkIcon","Copy","AlertTriangle","AlertCircle","Info","CheckCircle","APP_ROUTES","useAuth","useMarketplace","useNotifications","liveService","usePermissions","useMenuSettings","jsxDEV","_jsxDEV","Fragment","_Fragment","ModernHeader","darkMode","toggleDarkMode","isMobileMenuOpen","setIsMobileMenuOpen","_s","_user$full_name","_user$username","user","logout","favoriteCount","showToast","permissions","isAdmin","isSeller","isBuyer","isAdminLevel","getUserDisplay","isMenuItemVisible","showUserMenu","setShowUserMenu","showNotifications","setShowNotifications","showTendersMenu","setShowTendersMenu","notifications","setNotifications","unreadNotifications","setUnreadNotifications","unreadMessages","setUnreadMessages","sessionReadMessageIds","setSessionReadMessageIds","Set","siteBranding","setSiteBranding","soundEnabled","setSoundEnabled","notificationFilter","setNotificationFilter","lastNotificationCheck","setLastNotificationCheck","Date","now","navigate","location","userMenuRef","notificationRef","playNotificationSound","audio","Audio","volume","play","catch","console","error","deleteNotification","notificationId","event","showFeedback","stopPropagation","deletedNotification","find","n","id","notificationElement","document","querySelector","classList","add","setTimeout","filter","is_read","prev","Math","max","response","fetch","process","env","REACT_APP_BACKEND_URL","method","headers","ok","warn","statusText","apiError","log","handleMarkAsRead","markNotificationAsRead","handleAcceptRequest","handleDeclineRequest","handleReplyToMessage","getFilteredNotifications","filtered","sort","a","b","created_at","loadNotifications","showNewNotificationAlert","userNotifications","getUserNotifications","userMessages","getUserMessages","notificationsArray","Array","isArray","messagesArray","length","newNotifications","window","Notification","permission","body","title","icon","tag","m","sender_id","_error$message","message","includes","status","markNotificationRead","map","markAllNotificationsAsRead","unreadIds","Promise","all","requestNotificationPermission","requestPermission","then","loadData","brandingData","localStorage","getItem","parsedBranding","JSON","parse","notificationInterval","setInterval","handleMessagesMarkedAsRead","_event$detail","_event$detail2","detail","messageIds","count","updated","forEach","from","newCount","handleMessagesSessionReset","addEventListener","clearInterval","removeEventListener","handleStorageChange","e","key","handleBrandingUpdate","soundPref","handleClickOutside","current","contains","target","closest","handleNotificationClick","notification","type","listing_id","urlParams","URLSearchParams","search","set","toString","replace","message_id","role","is_admin","handleLogout","isActive","path","pathname","iconMap","allNavigationItems","label","navigationItems","item","getCustomMenuItems","customMenuItems","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","logo_light_url","logo_dark_url","logo_url","src","alt","site_name","onError","style","display","parentElement","nextSibling","background","boxShadow","opacity","transform","WebkitBackgroundClip","WebkitTextFillColor","site_description","url","isExternal","startsWith","IconComponent","href","rel","undefined","backdropFilter","Icon","border","borderRadius","ref","onClick","animation","value","onChange","newSoundEnabled","setItem","index","borderColor","animationDelay","toLocaleDateString","toLocaleTimeString","hour","minute","full_name","charAt","username","email","badge","selling","canManageListings","ui","showAdminPanelLink","_c","$RefreshReg$"],"sources":["/app/frontend/src/components/layout/ModernHeader.js"],"sourcesContent":["/**\n * CATALORO - Ultra-Modern Header Navigation - TEST SASCHA\n * Sleek header with comprehensive navigation and enhanced notifications\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { \n  Bell, \n  User, \n  Heart,\n  MessageCircle,\n  Settings,\n  LogOut,\n  Package,\n  Moon,\n  Sun,\n  Menu,\n  X,\n  Store,\n  BarChart3,\n  DollarSign,\n  Shield,\n  Filter,\n  List,\n  Zap,\n  ChevronDown,\n  Check,\n  CheckCheck,\n  Star,\n  Clock,\n  Eye,\n  TrendingUp,\n  Trash2,\n  RefreshCw,\n  Volume2,\n  VolumeX,\n  BellOff,\n  Globe,\n  Plus,\n  ShoppingCart,\n  HelpCircle, Mail, FileText, Home, Camera,\n  Calendar, Download, Upload, Edit, EyeOff, Lock,\n  Unlock, Key, Users, UserPlus, Phone, Smartphone, Monitor, Tablet,\n  Laptop, Activity, Award, Target, Compass, Map, Navigation,\n  Bookmark, Tag, SortAsc, Grid, Layers, Archive, Folder,\n  File, Image, Video, Music, Headphones, Mic, Play, Pause,\n  Square, SkipBack, SkipForward, Repeat, Shuffle, Share, ExternalLink,\n  Link as LinkIcon, Copy, AlertTriangle, AlertCircle, Info, CheckCircle\n} from 'lucide-react';\nimport { APP_ROUTES } from '../../config/directions';\nimport { useAuth } from '../../context/AuthContext';\nimport { useMarketplace } from '../../context/MarketplaceContext';\nimport { useNotifications } from '../../context/NotificationContext';\nimport { liveService } from '../../services/liveService';\nimport usePermissions from '../../hooks/usePermissions';\nimport { useMenuSettings } from '../../hooks/useMenuSettings';\n\nfunction ModernHeader({ darkMode, toggleDarkMode, isMobileMenuOpen, setIsMobileMenuOpen }) {\n  const { user, logout } = useAuth();\n  const { favoriteCount } = useMarketplace();\n  const { showToast } = useNotifications();\n  const { permissions, isAdmin, isSeller, isBuyer, isAdminLevel, getUserDisplay } = usePermissions();\n  const { isMenuItemVisible } = useMenuSettings();\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showTendersMenu, setShowTendersMenu] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [unreadNotifications, setUnreadNotifications] = useState(0);\n  const [unreadMessages, setUnreadMessages] = useState(0);\n  const [sessionReadMessageIds, setSessionReadMessageIds] = useState(new Set()); // Moved to component level\n  const [siteBranding, setSiteBranding] = useState({});\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  const [notificationFilter, setNotificationFilter] = useState('all'); // all, unread, read\n  const [lastNotificationCheck, setLastNotificationCheck] = useState(Date.now());\n  const navigate = useNavigate();\n  const location = useLocation();\n  const userMenuRef = useRef(null);\n  const notificationRef = useRef(null);\n\n  // Enhanced notification sound\n  const playNotificationSound = () => {\n    if (soundEnabled) {\n      try {\n        const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmIdBz6S3fPNeSsFJICO89iMOQkXZL7n6KdUFAg+ltryxnkpBSl+zfDZjjkKGGG+6OSlSxELStPx07dORgk2jNnuw3MoByJ9yvDQjj0KFmSx5eeScxELTanxx4A=');\n        audio.volume = 0.3;\n        audio.play().catch(console.error);\n      } catch (error) {\n        console.error('Could not play notification sound:', error);\n      }\n    }\n  };\n\n  // Delete notification (enhanced with backend API call)\n  const deleteNotification = async (notificationId, event, showFeedback = true) => {\n    if (event) event.stopPropagation();\n    try {\n      // Remove from local state immediately with animation\n      const deletedNotification = notifications.find(n => n.id === notificationId);\n      \n      // Add removal animation class before removing\n      const notificationElement = document.querySelector(`[data-notification-id=\"${notificationId}\"]`);\n      if (notificationElement) {\n        notificationElement.classList.add('notification-removing');\n        setTimeout(() => {\n          setNotifications(notifications.filter(n => n.id !== notificationId));\n          if (deletedNotification && !deletedNotification.is_read) {\n            setUnreadNotifications(prev => Math.max(0, prev - 1));\n          }\n        }, 300); // Match animation duration\n      } else {\n        // Immediate removal if element not found\n        setNotifications(notifications.filter(n => n.id !== notificationId));\n        if (deletedNotification && !deletedNotification.is_read) {\n          setUnreadNotifications(prev => Math.max(0, prev - 1));\n        }\n      }\n      \n      // Backend API call to delete notification permanently\n      try {\n        const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/user/${user?.id}/notifications/${notificationId}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        \n        if (!response.ok) {\n          console.warn('Failed to delete notification from backend:', response.statusText);\n        }\n      } catch (apiError) {\n        console.error('API error deleting notification:', apiError);\n      }\n      \n      // Optional feedback\n      if (showFeedback) {\n        console.log('Notification removed');\n      }\n      \n    } catch (error) {\n      console.error('Failed to delete notification:', error);\n    }\n  };\n\n  // Enhanced action handlers with auto-delete\n  const handleMarkAsRead = async (notificationId, event) => {\n    event.stopPropagation();\n    try {\n      await markNotificationAsRead(notificationId);\n      // Auto-delete after marking as read\n      setTimeout(() => {\n        deleteNotification(notificationId, null, false);\n      }, 1000); // 1 second delay to show the action was completed\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n    }\n  };\n\n  const handleAcceptRequest = async (notificationId, event) => {\n    event.stopPropagation();\n    try {\n      // Navigate to pending sales for approval\n      setShowNotifications(false);\n      navigate('/pending-sales');\n      // Auto-delete the notification\n      setTimeout(() => {\n        deleteNotification(notificationId, null, false);\n      }, 500);\n    } catch (error) {\n      console.error('Failed to handle accept request:', error);\n    }\n  };\n\n  const handleDeclineRequest = async (notificationId, event) => {\n    event.stopPropagation();\n    try {\n      // TODO: Add actual reject functionality\n      console.log('Request declined');\n      // Auto-delete the notification immediately\n      deleteNotification(notificationId, null, false);\n    } catch (error) {\n      console.error('Failed to handle decline request:', error);\n    }\n  };\n\n  const handleReplyToMessage = async (notificationId, event) => {\n    event.stopPropagation();\n    try {\n      // Navigate to messages\n      setShowNotifications(false);\n      navigate('/messages');\n      // Auto-delete the notification\n      setTimeout(() => {\n        deleteNotification(notificationId, null, false);\n      }, 500);\n    } catch (error) {\n      console.error('Failed to handle reply to message:', error);\n    }\n  };\n\n  // Enhanced notification filtering\n  const getFilteredNotifications = () => {\n    let filtered = notifications;\n    \n    switch (notificationFilter) {\n      case 'unread':\n        filtered = notifications.filter(n => !n.is_read);\n        break;\n      case 'read':\n        filtered = notifications.filter(n => n.is_read);\n        break;\n      default:\n        filtered = notifications;\n    }\n    \n    return filtered.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\n  };\n  // Load notifications from backend with enhanced features and rate limit handling\n  const loadNotifications = async (showNewNotificationAlert = false) => {\n    if (!user?.id) return;\n    \n    try {\n      const userNotifications = await liveService.getUserNotifications(user.id);\n      const userMessages = await liveService.getUserMessages(user.id);\n      \n      // Ensure we have arrays to work with\n      const notificationsArray = Array.isArray(userNotifications) ? userNotifications : [];\n      const messagesArray = Array.isArray(userMessages) ? userMessages : [];\n      \n      // Check for new notifications since last check\n      if (showNewNotificationAlert && notifications.length > 0) {\n        const newNotifications = notificationsArray.filter(n => \n          new Date(n.created_at) > new Date(lastNotificationCheck) && !n.is_read\n        );\n        \n        if (newNotifications.length > 0) {\n          playNotificationSound();\n          // Show browser notification if supported\n          if ('Notification' in window && Notification.permission === 'granted') {\n            new Notification(`${newNotifications.length} new notification${newNotifications.length > 1 ? 's' : ''}`, {\n              body: newNotifications[0].title,\n              icon: '/favicon.ico',\n              tag: 'cataloro-notification'\n            });\n          }\n        }\n      }\n      \n      setNotifications(notificationsArray);\n      setUnreadNotifications(notificationsArray.filter(n => !n.is_read).length);\n      setUnreadMessages(messagesArray.filter(m => !m.is_read && m.sender_id !== user.id).length);\n      setLastNotificationCheck(Date.now());\n    } catch (error) {\n      console.error('Failed to load notifications:', error);\n      \n      // Handle rate limiting specifically\n      if (error.message?.includes('429') || error.status === 429) {\n        console.warn('⚠️ Rate limit detected - backing off notifications polling');\n        // Don't reset data on rate limit, just log the warning\n        return;\n      }\n      \n      // Use empty array as fallback for other errors\n      setNotifications([]);\n      setUnreadNotifications(0);\n      setUnreadMessages(0);\n    }\n  };\n\n  // Mark notification as read with animation\n  const markNotificationAsRead = async (notificationId) => {\n    try {\n      await liveService.markNotificationRead(user.id, notificationId);\n      setNotifications(notifications.map(n => \n        n.id === notificationId ? { ...n, is_read: true } : n\n      ));\n      setUnreadNotifications(prev => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n    }\n  };\n\n  // Mark all notifications as read with bulk operation\n  const markAllNotificationsAsRead = async () => {\n    try {\n      const unreadIds = notifications.filter(n => !n.is_read).map(n => n.id);\n      await Promise.all(unreadIds.map(id => liveService.markNotificationRead(user.id, id)));\n      setNotifications(notifications.map(n => ({ ...n, is_read: true })));\n      setUnreadNotifications(0);\n    } catch (error) {\n      console.error('Failed to mark all notifications as read:', error);\n    }\n  };\n\n  // Request notification permission on component mount\n  const requestNotificationPermission = () => {\n    if ('Notification' in window && Notification.permission === 'default') {\n      Notification.requestPermission().then(permission => {\n        console.log('Notification permission:', permission);\n      });\n    }\n  };\n\n  useEffect(() => {\n    // Function to load branding and notification data\n    const loadData = () => {\n      // Load site branding from localStorage\n      const brandingData = localStorage.getItem('cataloro_site_branding');\n      if (brandingData) {\n        try {\n          const parsedBranding = JSON.parse(brandingData);\n          console.log('Header loading branding data:', parsedBranding);\n          setSiteBranding(parsedBranding);\n        } catch (error) {\n          console.error('Error parsing branding data:', error);\n        }\n      } else {\n        console.log('No branding data found in localStorage');\n      }\n    };\n\n    // Load initial data\n    loadData();\n    \n    // Load notifications if user is available\n    if (user?.id) {\n      loadNotifications();\n      // Disabled automatic notification permission request to avoid browser errors\n      // requestNotificationPermission(); // Only request on user interaction\n      \n      // Set up real-time notification polling every 5 minutes (reduced from 2 minutes to prevent rate limiting)\n      const notificationInterval = setInterval(() => {\n        loadNotifications(true);\n      }, 300000); // 5 minutes instead of 2 minutes\n      \n      // Listen for custom events when messages are marked as read\n      const handleMessagesMarkedAsRead = (event) => {\n        console.log('📧 ModernHeader received messagesMarkedAsRead event with detail:', event.detail);\n        const messageIds = event.detail?.messageIds || [];\n        const count = event.detail?.count || 0;\n        \n        console.log(`🔢 Reducing unread message count by ${count} (current: ${unreadMessages})`);\n        \n        // Update session read message tracking\n        setSessionReadMessageIds(prev => {\n          const updated = new Set(prev);\n          messageIds.forEach(id => updated.add(id));\n          console.log('📝 Updated session read message IDs:', Array.from(updated));\n          return updated;\n        });\n        \n        // Immediately reduce unread count by the number of messages marked as read\n        setUnreadMessages(prev => {\n          const newCount = Math.max(0, prev - count);\n          console.log(`📊 Updated unread messages count: ${prev} → ${newCount}`);\n          return newCount;\n        });\n        \n        // Also refresh from server to sync\n        console.log('🔄 Triggering loadNotifications to sync with server');\n        loadNotifications(true);\n      };\n      \n      const handleMessagesSessionReset = () => {\n        console.log('🔄 Messages session reset - restoring original unread counts');\n        setSessionReadMessageIds(new Set());\n        // Reload notifications to get true unread count from server\n        loadNotifications(true);\n      };\n      \n      window.addEventListener('messagesMarkedAsRead', handleMessagesMarkedAsRead);\n      window.addEventListener('messagesSessionReset', handleMessagesSessionReset);\n      \n      return () => {\n        clearInterval(notificationInterval);\n        window.removeEventListener('messagesMarkedAsRead', handleMessagesMarkedAsRead);\n        window.removeEventListener('messagesSessionReset', handleMessagesSessionReset);\n      };\n    }\n\n    // Listen for localStorage changes (when admin updates branding)\n    const handleStorageChange = (e) => {\n      if (e.key === 'cataloro_site_branding') {\n        loadData();\n      }\n    };\n\n    // Listen for custom events when branding is updated\n    const handleBrandingUpdate = () => {\n      loadData();\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('brandingUpdated', handleBrandingUpdate);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('brandingUpdated', handleBrandingUpdate);\n    };\n  }, [user?.id]);\n\n  // Load sound preference from localStorage\n  useEffect(() => {\n    const soundPref = localStorage.getItem('cataloro_notification_sound');\n    setSoundEnabled(soundPref !== 'false');\n  }, []);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (userMenuRef.current && !userMenuRef.current.contains(event.target)) {\n        setShowUserMenu(false);\n      }\n      if (notificationRef.current && !notificationRef.current.contains(event.target)) {\n        setShowNotifications(false);\n      }\n      if (showTendersMenu && !event.target.closest('.tenders-dropdown')) {\n        setShowTendersMenu(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showUserMenu, showNotifications, showTendersMenu]);\n\n  // Smart notification click handler\n  const handleNotificationClick = async (notification) => {\n    try {\n      // Mark notification as read first\n      await markNotificationAsRead(notification.id);\n      \n      // Close notifications dropdown\n      setShowNotifications(false);\n      \n      // Navigate based on notification type\n      switch (notification.type) {\n        case 'tender_accepted':\n          // Navigate to Buy > Bought Items tab\n          navigate('/buy?tab=bought-items');\n          break;\n          \n        case 'tender_offer':\n        case 'new_tender_offer':\n          // Navigate to Sell > Sell Tenders tab\n          navigate('/sell?tab=tenders');\n          if (notification.listing_id) {\n            // Add listing parameter if available\n            setTimeout(() => {\n              const urlParams = new URLSearchParams(window.location.search);\n              urlParams.set('listing', notification.listing_id);\n              navigate('/sell?tab=tenders&' + urlParams.toString(), { replace: true });\n            }, 100);\n          }\n          break;\n          \n        case 'tender_rejected':\n          // Navigate to Buy > Items (keeping existing behavior but with new Buy page structure)\n          navigate('/buy?tab=tenders');\n          break;\n          \n        case 'order_completed':\n        case 'transaction_completed':\n        case 'transaction_marked_completed':\n          // Navigate to Buy > Bought Items\n          navigate('/buy?tab=bought-items');\n          break;\n          \n        case 'transaction_fully_completed':\n        case 'order_fully_completed':\n          // Navigate to Buy > Completed\n          navigate('/buy?tab=completed');\n          break;\n          \n        case 'order_shipped':\n        case 'listing_sold':\n          // Navigate to My Listings page with Closed filter (keep existing for seller notifications)\n          navigate('/my-listings');\n          setTimeout(() => {\n            const urlParams = new URLSearchParams();\n            urlParams.set('filter', 'closed');\n            navigate('/my-listings?' + urlParams.toString(), { replace: true });\n          }, 100);\n          break;\n          \n        case 'message':\n        case 'new_message':\n          // Navigate to Messages page (keep existing)\n          if (notification.message_id) {\n            navigate(`/messages?id=${notification.message_id}`);\n          } else {\n            navigate('/messages');\n          }\n          break;\n          \n        case 'buy_request':\n        case 'purchase_request':\n          // Navigate to My Listings page with Active filter (keep existing)\n          navigate('/my-listings');\n          setTimeout(() => {\n            const urlParams = new URLSearchParams();\n            urlParams.set('filter', 'active');\n            navigate('/my-listings?' + urlParams.toString(), { replace: true });\n          }, 100);\n          break;\n          \n        case 'buy_approved':\n        case 'purchase_approved':\n          // Navigate to deals page instead of cart (keep existing)\n          navigate('/deals');\n          break;\n          \n        case 'buy_rejected':\n        case 'purchase_rejected':\n          // Navigate to browse page to find alternatives (keep existing)\n          navigate('/browse');\n          break;\n          \n        case 'favorite':\n        case 'wishlist_update':\n          // Navigate to favorites page (keep existing)\n          navigate('/favorites');\n          break;\n          \n        case 'listing_approved':\n        case 'listing_updated':\n          // Navigate to My Listings (keep existing)\n          navigate('/my-listings');\n          break;\n          \n        case 'profile_update':\n        case 'account_update':\n          // Navigate to profile settings (keep existing)\n          navigate('/profile');\n          break;\n          \n        case 'new_user_registration':\n        case 'user_registration':\n          // For ADMIN users: Navigate to Admin Panel > Users tab\n          if (user?.role === 'admin' || user?.is_admin) {\n            navigate('/admin?tab=users');\n          } else {\n            // For non-admin users, go to notifications center\n            navigate('/notifications');\n          }\n          break;\n          \n        case 'system':\n        case 'announcement':\n          // Navigate to notifications center for full details (keep existing)\n          navigate('/notifications');\n          break;\n          \n        default:\n          // For unknown notification types, go to notifications center (keep existing)\n          navigate('/notifications');\n          break;\n      }\n      \n      showToast(`Navigating to ${notification.title}`, 'info');\n      \n    } catch (error) {\n      console.error('Error handling notification click:', error);\n      showToast('Error navigating from notification', 'error');\n    }\n  };\n  \n  // Handle logout functionality\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n    showToast('Logged out successfully', 'success');\n  };\n\n  const isActive = (path) => location.pathname === path;\n\n  // Icon mapping for custom menu items\n  const iconMap = {\n    Store, Plus, MessageCircle, DollarSign, ShoppingCart, Heart, Bell, User,\n    Settings, LogOut, Package, Shield, Menu, X, Sun, Moon, Globe,\n    BarChart3, TrendingUp, HelpCircle, Mail, FileText, Home, Star, Camera,\n    Calendar, Clock, Download, Upload, Edit, Trash2, Eye, EyeOff, Lock,\n    Unlock, Key, Users, UserPlus, Phone, Smartphone, Monitor, Tablet,\n    Laptop, Zap, Activity, Award, Target, Compass, Map, Navigation,\n    Bookmark, Tag, Filter, SortAsc, List, Grid, Layers, Archive, Folder,\n    File, Image, Video, Music, Headphones, Mic, Volume2, Play, Pause,\n    Square, SkipBack, SkipForward, Repeat, Shuffle, Share, ExternalLink,\n    LinkIcon, Copy, Check, AlertTriangle, AlertCircle, Info, CheckCircle\n  };\n\n  // Define navigation items for the main nav (excluding items that have dedicated sections)\n  const allNavigationItems = [\n    { label: 'About', path: '/info', icon: Globe, key: 'about' },\n    { label: 'Browse', path: '/browse', icon: Store, key: 'browse' },\n    { label: 'Buy', path: '/buy', icon: ShoppingCart, key: 'buy' },\n    { label: 'Sell', path: '/sell', icon: Package, key: 'sell' },\n    { label: 'Notifications', path: '/notifications', icon: Bell, key: 'notifications' },\n  ];\n\n  // Filter navigation items based on menu visibility settings\n  const navigationItems = allNavigationItems.filter(item => \n    isMenuItemVisible('desktop_menu', item.key)\n  );\n\n  // Get custom menu items - these should appear first by default\n  const { getCustomMenuItems } = useMenuSettings();\n  const customMenuItems = getCustomMenuItems('desktop_menu');\n\n  return (\n    <header className=\"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-white/20 shadow-lg shadow-black/5\">\n      <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-pink-600/5\"></div>\n      <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-20\">\n          \n          {/* Logo and Brand - ENHANCED WITH DYNAMIC BRANDING */}\n          <div className=\"flex items-center space-x-8\">\n            <Link to=\"/browse\" className=\"flex items-center space-x-3 group header-logo\">\n              {(siteBranding.logo_light_url || siteBranding.logo_dark_url || siteBranding.logo_url) ? (\n                // Custom Logo Mode - FULL LOGO REPLACEMENT (NO TEXT)\n                <div className=\"relative\">\n                  <img \n                    src={darkMode ? (siteBranding.logo_dark_url || siteBranding.logo_url) : (siteBranding.logo_light_url || siteBranding.logo_url)}\n                    alt={siteBranding.site_name || 'Cataloro'}\n                    className=\"h-8 sm:h-12 max-w-[120px] sm:max-w-[200px] object-contain group-hover:opacity-90 transition-opacity duration-300\"\n                    onError={(e) => {\n                      // Fallback to default icon + text if image fails\n                      e.target.style.display = 'none';\n                      e.target.parentElement.nextSibling.style.display = 'flex';\n                    }}\n                  />\n                </div>\n              ) : (\n                // Default Icon + Text Mode\n                <>\n                  {/* Icon Container */}\n                  <div className=\"relative\">\n                    <div className=\"w-8 h-8 sm:w-12 sm:h-12 rounded-xl sm:rounded-2xl flex items-center justify-center relative overflow-hidden\" style={{\n                      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                      boxShadow: '0 8px 25px rgba(103, 126, 234, 0.4)'\n                    }}>\n                      <div className=\"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n                      <Store className=\"w-5 h-5 sm:w-7 sm:h-7 text-white relative z-10\" />\n                    </div>\n                    <div className=\"absolute inset-0 rounded-2xl\" style={{\n                      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                      filter: 'blur(8px)',\n                      opacity: '0.3',\n                      transform: 'scale(1.1)'\n                    }}></div>\n                  </div>\n                  \n                  {/* Brand Text */}\n                  <div className=\"block\">\n  <h1 className=\"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-white/90 transition-colors header-title\" style={{\n                      background: 'linear-gradient(135deg, #1f2937 0%, #374151 100%)',\n                      WebkitBackgroundClip: 'text',\n                      WebkitTextFillColor: 'transparent'\n                    }}>\n                      {siteBranding.site_name || 'Cataloro'}\n                    </h1>\n                    <p className=\"hidden sm:block text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide\">\n                      {siteBranding.site_description || 'ULTRA-MODERN MARKETPLACE'}\n                    </p>\n                  </div>\n                </>\n              )}\n              \n              {/* Fallback Icon + Text (hidden by default, shown if logo fails to load) */}\n              <div className=\"items-center space-x-3\" style={{ display: 'none' }}>\n                <div className=\"relative\">\n                  <div className=\"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden\" style={{\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    boxShadow: '0 8px 25px rgba(103, 126, 234, 0.4)'\n                  }}>\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n                    <Store className=\"w-7 h-7 text-white relative z-10\" />\n                  </div>\n                </div>\n                <div className=\"hidden sm:block\">\n                  <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                    {siteBranding.site_name || 'Catal'}\n                  </h1>\n                  <p className=\"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide\">\n                    {siteBranding.site_description || 'ULTRA-MODERN MARKETPLACE'}\n                  </p>\n                </div>\n              </div>\n            </Link>\n\n            {/* Navigation Links */}\n            <nav className=\"hidden lg:flex space-x-2\">\n              {/* Custom Menu Items - Render First */}\n              {customMenuItems.map((item) => {\n                const isActive = location.pathname === item.url;\n                const isExternal = item.url.startsWith('http');\n                const IconComponent = iconMap[item.icon] || Star; // Default to Star if icon not found\n                \n                return isExternal ? (\n                  <a\n                    key={item.id}\n                    href={item.url}\n                    target={item.target || '_self'}\n                    rel={item.target === '_blank' ? 'noopener noreferrer' : undefined}\n                    className=\"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10\"\n                  >\n                    <IconComponent className=\"w-4 h-4\" />\n                    <span className=\"font-medium\">{item.label}</span>\n                    {item.target === '_blank' && <span className=\"text-xs opacity-60\">↗</span>}\n                  </a>\n                ) : (\n                  <Link\n                    key={item.id}\n                    to={item.url}\n                    className={`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ${\n                      isActive\n                        ? 'bg-gray-300/30 dark:bg-gray-500/30 text-gray-800 dark:text-white shadow-lg backdrop-blur-md border border-gray-300 dark:border-gray-500/30'\n                        : 'text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10'\n                    }`}\n                    style={isActive ? (darkMode ? {\n                      background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)',\n                      backdropFilter: 'blur(20px)',\n                      boxShadow: '0 4px 15px rgba(255, 255, 255, 0.1)'\n                    } : {\n                      background: 'linear-gradient(135deg, rgba(156, 163, 175, 0.25) 0%, rgba(156, 163, 175, 0.15) 100%)',\n                      backdropFilter: 'blur(20px)',\n                      boxShadow: '0 4px 15px rgba(156, 163, 175, 0.2)'\n                    }) : {}}\n                  >\n                    <IconComponent className=\"w-4 h-4\" />\n                    <span className=\"font-medium\">{item.label}</span>\n                  </Link>\n                );\n              })}\n\n              {/* Default Navigation Items - Render After Custom Items */}\n              {navigationItems.map((item) => {\n                const Icon = item.icon;\n                const isActive = location.pathname === item.path;\n                \n                return (\n                  <Link\n                    key={item.path}\n                    to={item.path}\n                    className={`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ${\n                      isActive\n                        ? 'bg-gray-300/30 dark:bg-gray-500/30 text-gray-800 dark:text-white shadow-lg backdrop-blur-md border border-gray-300 dark:border-gray-500/30'\n                        : 'text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10'\n                    }`}\n                    style={isActive ? (darkMode ? {\n                      background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)',\n                      backdropFilter: 'blur(20px)',\n                      boxShadow: '0 4px 15px rgba(255, 255, 255, 0.1)'\n                    } : {\n                      background: 'linear-gradient(135deg, rgba(156, 163, 175, 0.25) 0%, rgba(156, 163, 175, 0.15) 100%)',\n                      backdropFilter: 'blur(20px)',\n                      boxShadow: '0 4px 15px rgba(156, 163, 175, 0.2)'\n                    }) : {}}\n                  >\n                    <Icon className=\"w-4 h-4\" />\n                    <span className=\"font-medium\">{item.label}</span>\n                  </Link>\n                );\n              })}\n              \n              {/* Buy and Sell links removed from sidebar - they are now in main navigation */}\n              \n              {/* Admin Link - Menu settings visibility */}\n              {isMenuItemVisible('desktop_menu', 'admin_panel') && (\n                <Link\n                  to=\"/admin\"\n                  className={`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm shadow-lg backdrop-blur-md ${\n                    isAdminLevel() ? 'text-gray-900 dark:text-gray-900' : 'text-gray-700 dark:text-white/80'\n                  }`}\n                  style={{\n                    background: location.pathname === '/admin' \n                      ? (isAdmin() \n                          ? 'linear-gradient(135deg, rgba(255, 193, 7, 0.9) 0%, rgba(255, 152, 0, 0.8) 100%)'\n                          : 'linear-gradient(135deg, rgba(147, 51, 234, 0.8) 0%, rgba(79, 70, 229, 0.7) 100%)')\n                      : (isAdmin()\n                          ? 'linear-gradient(135deg, rgba(255, 193, 7, 0.7) 0%, rgba(255, 152, 0, 0.6) 100%)'\n                          : 'linear-gradient(135deg, rgba(147, 51, 234, 0.6) 0%, rgba(79, 70, 229, 0.5) 100%)'),\n                    backdropFilter: 'blur(20px)',\n                    boxShadow: isAdmin() \n                      ? '0 4px 15px rgba(255, 193, 7, 0.3)'\n                      : '0 4px 15px rgba(147, 51, 234, 0.3)',\n                    border: isAdmin() \n                      ? '1px solid rgba(255, 193, 7, 0.4)'\n                      : '1px solid rgba(147, 51, 234, 0.4)'\n                  }}\n                >\n                  <Shield className=\"w-4 h-4\" />\n                  <span className=\"font-medium\">{isAdmin() ? 'Admin' : 'Manager'}</span>\n                </Link>\n              )}\n            </nav>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex items-center space-x-2\">\n            \n            {/* Quick Actions (Desktop) */}\n            <div className=\"hidden lg:flex items-center space-x-2\">\n              {/* Messages */}\n              {isMenuItemVisible('desktop_menu', 'messages') && (\n                <Link\n                  to=\"/messages\"\n                  className=\"relative p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200\"\n                >\n                <MessageCircle className=\"w-6 h-6\" />\n                {unreadMessages > 0 && (\n                  <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium\">\n                    {unreadMessages}\n                  </span>\n                )}\n              </Link>\n              )}\n\n              {/* Favorites */}\n              {isMenuItemVisible('desktop_menu', 'favorites') && (\n                <Link\n                  to=\"/favorites\"\n                  className=\"relative p-2 text-gray-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200\"\n                >\n                  <Heart className=\"w-6 h-6\" />\n                  {favoriteCount > 0 && (\n                    <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium\">\n                      {favoriteCount}\n                    </span>\n                  )}\n                </Link>\n              )}\n\n              {/* Create Listing Button (replaced shopping cart) */}\n              {isMenuItemVisible('desktop_menu', 'create_listing') && (\n                <Link\n                  to=\"/create-listing\"\n                  className=\"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group\"\n                style={{\n                  background: darkMode \n                    ? 'linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)'\n                    : 'linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%)',\n                  backdropFilter: 'blur(20px)',\n                  borderRadius: '16px',\n                  border: darkMode \n                    ? '1px solid rgba(34, 197, 94, 0.2)'\n                    : '1px solid rgba(34, 197, 94, 0.15)'\n                }}\n                title=\"Create New Listing\"\n              >\n                <Plus className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n              </Link>\n              )}\n            </div>\n\n            {/* Notifications */}\n            <div className=\"relative\" ref={notificationRef}>\n              <button\n                onClick={() => setShowNotifications(!showNotifications)}\n                className=\"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group\"\n                style={{\n                  background: darkMode \n                    ? 'linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)'\n                    : 'linear-gradient(135deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0.04) 100%)',\n                  backdropFilter: 'blur(20px)',\n                  borderRadius: '16px',\n                  border: darkMode \n                    ? '1px solid rgba(255, 255, 255, 0.1)'\n                    : '1px solid rgba(0, 0, 0, 0.1)'\n                }}\n              >\n                <Bell className=\"w-5 h-5\" />\n                {unreadNotifications > 0 && (\n                  <span className=\"absolute -top-2 -right-2 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold text-[10px]\" style={{\n                    background: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',\n                    boxShadow: '0 4px 15px rgba(250, 112, 154, 0.4)'\n                  }}>\n                    {unreadNotifications}\n                  </span>\n                )}\n              </button>\n\n              {/* Enhanced Notifications Dropdown - Redesigned for Better Width Management */}\n              {showNotifications && (\n                <div className=\"absolute right-0 mt-3 w-80 max-w-[90vw] rounded-2xl shadow-2xl py-3 z-50 notifications-dropdown-enhanced animate-in\" style={{\n                  background: darkMode \n                    ? 'rgba(0, 0, 0, 0.95)'\n                    : 'rgba(255, 255, 255, 0.95)',\n                  backdropFilter: 'blur(25px)',\n                  border: darkMode \n                    ? '1px solid rgba(255, 255, 255, 0.2)' \n                    : '1px solid rgba(0, 0, 0, 0.2)',\n                  animation: 'slideDown 0.3s ease-out'\n                }}>\n                  {/* Compact Header with Controls */}\n                  <div className=\"px-4 py-3 border-b border-white/10\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <h3 className=\"font-bold text-gray-900 dark:text-white text-base flex items-center\">\n                        <Bell className=\"w-4 h-4 mr-2\" />\n                        Notifications\n                        {unreadNotifications > 0 && (\n                          <span className=\"ml-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full\">\n                            {unreadNotifications}\n                          </span>\n                        )}\n                      </h3>\n                    </div>\n                    \n                    {/* Compact Controls */}\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-1.5\">\n                        {/* Compact Filter Dropdown */}\n                        <select\n                          value={notificationFilter}\n                          onChange={(e) => setNotificationFilter(e.target.value)}\n                          className=\"text-xs bg-transparent border border-white/20 rounded-md px-1.5 py-1 text-gray-600 dark:text-white/80 focus:outline-none focus:ring-1 focus:ring-blue-500 min-w-0 w-16\"\n                        >\n                          <option value=\"all\">All</option>\n                          <option value=\"unread\">New</option>\n                          <option value=\"read\">Read</option>\n                        </select>\n                        \n                        {/* Compact Action Buttons */}\n                        <button\n                          onClick={() => {\n                            const newSoundEnabled = !soundEnabled;\n                            setSoundEnabled(newSoundEnabled);\n                            localStorage.setItem('cataloro_notification_sound', newSoundEnabled.toString());\n                          }}\n                          className=\"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors\"\n                          title={soundEnabled ? 'Disable sound' : 'Enable sound'}\n                        >\n                          {soundEnabled ? <Volume2 className=\"w-3.5 h-3.5\" /> : <VolumeX className=\"w-3.5 h-3.5\" />}\n                        </button>\n                        \n                        <button \n                          onClick={() => loadNotifications()}\n                          className=\"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors\"\n                          title=\"Refresh\"\n                        >\n                          <RefreshCw className=\"w-3.5 h-3.5\" />\n                        </button>\n                      </div>\n                      \n                      {/* Quick Actions */}\n                      <div className=\"flex items-center\">\n                        {unreadNotifications > 0 && (\n                          <button \n                            onClick={markAllNotificationsAsRead}\n                            className=\"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium transition-colors\"\n                          >\n                            Mark all read\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Scrollable Notifications List */}\n                  <div className=\"max-h-80 overflow-y-auto custom-scrollbar\">\n                    {getFilteredNotifications().length === 0 ? (\n                      <div className=\"px-4 py-6 text-center\">\n                        <div className=\"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3\">\n                          <Bell className=\"w-6 h-6 text-gray-400\" />\n                        </div>\n                        <p className=\"text-gray-600 dark:text-gray-400 font-medium text-sm\">\n                          {notificationFilter === 'all' ? 'No notifications yet' : \n                           notificationFilter === 'unread' ? 'No unread notifications' : \n                           'No read notifications'}\n                        </p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">\n                          We'll notify you when something important happens\n                        </p>\n                      </div>\n                    ) : (\n                      getFilteredNotifications().map((notification, index) => (\n                        <div\n                          key={notification.id}\n                          data-notification-id={notification.id}\n                          onClick={() => handleNotificationClick(notification)}\n                          className={`group px-4 py-3 hover:bg-white/5 dark:hover:bg-white/5 cursor-pointer border-l-3 transition-all duration-300 ${\n                            !notification.is_read ? 'bg-blue-50/30 dark:bg-blue-900/30' : ''\n                          } ${index === 0 ? 'animate-in' : ''}`}\n                          style={{\n                            borderColor: notification.type === 'message' ? '#667eea' :\n                                      notification.type === 'favorite' ? '#f093fb' :\n                                      notification.type === 'payment' ? '#43e97b' :\n                                      notification.type === 'buy_request' ? '#fbbf24' :\n                                      notification.type === 'buy_approved' ? '#10b981' :\n                                      notification.type === 'buy_rejected' ? '#ef4444' :\n                                      notification.type === 'tender_accepted' ? '#10b981' :\n                                      notification.type === 'tender_offer' ? '#f59e0b' :\n                                      notification.type === 'tender_rejected' ? '#ef4444' :\n                                      notification.type === 'new_tender_offer' ? '#f59e0b' :\n                                      notification.type === 'order_completed' ? '#10b981' : '#9ca3af',\n                            animationDelay: `${index * 0.1}s`\n                          }}\n                        >\n                          <div className=\"flex items-start space-x-2.5\">\n                            {/* Compact Icon */}\n                            <div className={`p-1.5 rounded-full flex-shrink-0 ${\n                              notification.type === 'message' ? 'bg-blue-100 text-blue-600' :\n                              notification.type === 'favorite' ? 'bg-pink-100 text-pink-600' :\n                              notification.type === 'payment' ? 'bg-green-100 text-green-600' :\n                              notification.type === 'buy_request' ? 'bg-yellow-100 text-yellow-600' :\n                              notification.type === 'buy_approved' ? 'bg-green-100 text-green-600' :\n                              notification.type === 'buy_rejected' ? 'bg-red-100 text-red-600' :\n                              'bg-gray-100 text-gray-600'\n                            }`}>\n                              {notification.type === 'message' ? <MessageCircle className=\"w-3.5 h-3.5\" /> :\n                               notification.type === 'favorite' ? <Heart className=\"w-3.5 h-3.5\" /> :\n                               notification.type === 'payment' ? <DollarSign className=\"w-3.5 h-3.5\" /> :\n                               notification.type === 'buy_request' ? <Package className=\"w-3.5 h-3.5\" /> :\n                               notification.type === 'buy_approved' ? <Check className=\"w-3.5 h-3.5\" /> :\n                               notification.type === 'buy_rejected' ? <X className=\"w-3.5 h-3.5\" /> :\n                               <Bell className=\"w-3.5 h-3.5\" />}\n                            </div>\n                            \n                            {/* Compact Content */}\n                            <div className=\"flex-1 min-w-0 overflow-hidden\">\n                              <div className=\"flex items-start justify-between\">\n                                <div className=\"flex-1 min-w-0 pr-2\">\n                                  <p className={`text-sm font-semibold truncate ${!notification.is_read ? 'text-gray-900 dark:text-white' : 'text-gray-700 dark:text-gray-300'}`}>\n                                    {notification.title}\n                                  </p>\n                                  <p className=\"text-xs text-gray-600 dark:text-white/70 mt-0.5 line-clamp-2 leading-tight\">\n                                    {notification.message}\n                                  </p>\n                                </div>\n                                <div className=\"flex items-center space-x-1 flex-shrink-0\">\n                                  {!notification.is_read && (\n                                    <div className=\"w-1.5 h-1.5 bg-blue-600 rounded-full\"></div>\n                                  )}\n                                  {/* Compact Delete Button */}\n                                  <button\n                                    onClick={(e) => deleteNotification(notification.id, e)}\n                                    className=\"opacity-0 group-hover:opacity-100 p-0.5 text-gray-400 hover:text-red-600 transition-all duration-200\"\n                                    title=\"Delete\"\n                                  >\n                                    <Trash2 className=\"w-3 h-3\" />\n                                  </button>\n                                </div>\n                              </div>\n                              \n                              {/* Compact Footer with Time and Actions */}\n                              <div className=\"flex items-center justify-between mt-2\">\n                                <div className=\"flex items-center text-xs text-gray-500 dark:text-gray-400\">\n                                  <Clock className=\"w-3 h-3 mr-1\" />\n                                  <span className=\"truncate\">\n                                    {new Date(notification.created_at).toLocaleDateString()} {new Date(notification.created_at).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                                  </span>\n                                </div>\n                                \n                                {/* Compact Action Buttons */}\n                                <div className=\"flex items-center space-x-1 flex-shrink-0\">\n                                  {!notification.is_read && (\n                                    <button\n                                      onClick={(e) => handleMarkAsRead(notification.id, e)}\n                                      className=\"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200\"\n                                      title=\"Mark read\"\n                                    >\n                                      <CheckCheck className=\"w-3 h-3\" />\n                                    </button>\n                                  )}\n                                  \n                                  {/* Quick Actions for Different Types */}\n                                  {notification.type === 'buy_request' && (\n                                    <>\n                                      <button\n                                        onClick={(e) => handleAcceptRequest(notification.id, e)}\n                                        className=\"p-1 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-900/70 transition-all duration-200\"\n                                        title=\"Accept\"\n                                      >\n                                        <Check className=\"w-3 h-3\" />\n                                      </button>\n                                      <button \n                                        onClick={(e) => handleDeclineRequest(notification.id, e)}\n                                        className=\"p-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/70 transition-all duration-200\"\n                                        title=\"Decline\"\n                                      >\n                                        <X className=\"w-3 h-3\" />\n                                      </button>\n                                    </>\n                                  )}\n                                  \n                                  {notification.type === 'message' && (\n                                    <button\n                                      onClick={(e) => handleReplyToMessage(notification.id, e)}\n                                      className=\"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200\"\n                                      title=\"Reply\"\n                                    >\n                                      <MessageCircle className=\"w-3 h-3\" />\n                                    </button>\n                                  )}\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                  \n                  {/* Compact Footer */}\n                  <div className=\"px-4 py-2 border-t border-white/10\">\n                    <div className=\"flex items-center justify-between\">\n                      <Link\n                        to=\"/notifications\"\n                        className=\"text-xs text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white font-medium flex items-center transition-colors\"\n                        onClick={() => setShowNotifications(false)}\n                      >\n                        View all notifications\n                        <TrendingUp className=\"w-3 h-3 ml-1\" />\n                      </Link>\n                      \n                      <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {getFilteredNotifications().length} total\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Dark Mode Toggle */}\n            <button\n              onClick={toggleDarkMode}\n              className=\"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200\"\n            >\n              {darkMode ? <Sun className=\"w-6 h-6\" /> : <Moon className=\"w-6 h-6\" />}\n            </button>\n\n            {/* User Profile */}\n            <div className=\"relative\" ref={userMenuRef}>\n              <button\n                onClick={() => setShowUserMenu(!showUserMenu)}\n                className=\"flex items-center space-x-3 p-2 rounded-2xl transition-all duration-300 group\"\n                style={{\n                  background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%)',\n                  backdropFilter: 'blur(20px)',\n                  border: '1px solid rgba(255, 255, 255, 0.2)'\n                }}\n              >\n                <div className=\"w-10 h-10 rounded-2xl flex items-center justify-center relative overflow-hidden\" style={{\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                  boxShadow: '0 6px 20px rgba(103, 126, 234, 0.4)'\n                }}>\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n                  <span className=\"text-white font-bold text-sm relative z-10\">\n                    {user?.full_name?.charAt(0) || user?.username?.charAt(0) || 'U'}\n                  </span>\n                </div>\n                <div className=\"hidden sm:block text-left\">\n                  <p className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n                    {user?.username || user?.full_name || 'User'}\n                  </p>\n                  <p className=\"text-xs text-gray-600 dark:text-white/70 font-medium uppercase tracking-wide\">\n                    {user?.role}\n                  </p>\n                </div>\n                <ChevronDown className={`w-4 h-4 text-gray-700 dark:text-white/80 transition-transform duration-300 ${showUserMenu ? 'rotate-180' : ''}`} />\n              </button>\n\n              {/* Modern User Dropdown Menu - 95% BACKGROUND OPACITY */}\n              {showUserMenu && (\n                <div className=\"absolute right-0 mt-3 w-72 rounded-2xl shadow-2xl py-2 z-50 profile-dropdown-enhanced\" style={{\n                  background: darkMode \n                    ? 'rgba(0, 0, 0, 0.95)'\n                    : 'rgba(255, 255, 255, 0.95)',\n                  backdropFilter: 'blur(25px)',\n                  border: darkMode \n                    ? '1px solid rgba(255, 255, 255, 0.2)' \n                    : '1px solid rgba(0, 0, 0, 0.2)'\n                }}>\n                  <div className=\"px-6 py-4 border-b border-white/10\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-base font-bold text-gray-900 dark:text-white\">\n                          {user?.username || user?.full_name}\n                        </p>\n                        <p className=\"text-sm text-gray-600 dark:text-white/70\">{user?.email}</p>\n                      </div>\n                      {/* Role Badge - Clean single display */}\n                      <div className=\"flex flex-col items-end\">\n                        <span className={`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${\n                          getUserDisplay().badge === 'Admin' \n                            ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300'\n                            : getUserDisplay().badge === 'Manager'\n                            ? 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300'\n                            : getUserDisplay().badge === 'Seller'\n                            ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300'\n                            : 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300'\n                        }`}>\n                          {getUserDisplay().badge}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"py-2\">\n                    <Link\n                      to=\"/profile\"\n                      className=\"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group\"\n                      onClick={() => setShowUserMenu(false)}\n                    >\n                      <div className=\"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300\" style={{\n                        background: 'linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.1))'\n                      }}>\n                        <User className=\"w-4 h-4\" />\n                      </div>\n                      <span className=\"font-medium\">Profile Settings</span>\n                    </Link>\n                    \n                    {/* My Listings - Only for sellers and admins */}\n                    {permissions.selling.canManageListings && (\n                      <Link\n                        to=\"/my-listings\"\n                        className=\"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group\"\n                        onClick={() => setShowUserMenu(false)}\n                      >\n                        <div className=\"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300\" style={{\n                          background: 'linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(245, 87, 108, 0.1))'\n                        }}>\n                          <Package className=\"w-4 h-4\" />\n                        </div>\n                        <span className=\"font-medium\">My Listings</span>\n                      </Link>\n                    )}\n                    \n                    <Link\n                      to={`/profile/${user?.id}`}\n                      className=\"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group\"\n                      onClick={() => setShowUserMenu(false)}\n                    >\n                      <div className=\"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300\" style={{\n                        background: 'linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 197, 253, 0.1))'\n                      }}>\n                        <Globe className=\"w-4 h-4\" />\n                      </div>\n                      <span className=\"font-medium\">View Public Profile</span>\n                    </Link>\n                    \n                    {/* Admin Panel - Role-based access */}\n                    {permissions.ui.showAdminPanelLink && isMenuItemVisible('desktop_menu', 'admin_panel') && (\n                      <Link\n                        to=\"/admin\"\n                        className=\"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group\"\n                        onClick={() => setShowUserMenu(false)}\n                      >\n                        <div className=\"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300\" style={{\n                          background: isAdmin()\n                            ? 'linear-gradient(135deg, rgba(250, 112, 154, 0.2), rgba(254, 225, 64, 0.1))'\n                            : 'linear-gradient(135deg, rgba(147, 51, 234, 0.2), rgba(79, 70, 229, 0.1))'\n                        }}>\n                          <Shield className=\"w-4 h-4\" />\n                        </div>\n                        <span className=\"font-medium\">{isAdmin() ? 'Admin Panel' : 'Manager Panel'}</span>\n                      </Link>\n                    )}\n                  </div>\n                  \n                  <div className=\"border-t border-white/10 pt-2\">\n                    <button\n                      onClick={handleLogout}\n                      className=\"flex items-center w-full px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-red-600 dark:hover:text-red-300 hover:bg-red-500/10 dark:hover:bg-red-500/10 transition-all duration-300 group\"\n                    >\n                      <div className=\"p-2 rounded-lg mr-3 group-hover:bg-red-500/20 transition-all duration-300\" style={{\n                        background: 'linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1))'\n                      }}>\n                        <LogOut className=\"w-4 h-4\" />\n                      </div>\n                      <span className=\"font-medium\">Sign Out</span>\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Mobile Menu Toggle */}\n            <button\n              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n              className=\"lg:hidden p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200\"\n            >\n              {isMobileMenuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default ModernHeader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}