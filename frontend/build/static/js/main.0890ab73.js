/*! For license information please see main.0890ab73.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},539:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},620:(e,t,r)=>{var n=r(6913),a=r(4052),i=r(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==n(e)}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[i,s,o].join("|")+")"+c+l+")*"),u="(?:"+[i+n+"?",n,s,o,r].join("|")+")",h=RegExp(a+"(?="+a+")|"+u+d,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,r)=>{var n=r(8895),a=r(7116);e.exports=function e(t,r,i,s,o){var l=-1,c=t.length;for(i||(i=a),o||(o=[]);++l<c;){var d=t[l];r>0&&i(d)?r>1?e(d,r-1,i,s,o):n(o,d):s||(o[o.length]=d)}return o}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var n=r(1141),a=r(6686),i=r(9841),s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=o.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):s.test(e)?NaN:+e}},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,r)=>{var n=r(3211),a=r(6571),i=r(9194),s=r(6686);e.exports=function(e,t,r){if(!s(r))return!1;var o=typeof t;return!!("number"==o?a(r)&&i(t,r.length):"string"==o&&t in r)&&n(r[t],e)}},977:(e,t,r)=>{var n=r(9096),a=r(4416);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},1141:(e,t,r)=>{var n=r(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},1153:(e,t,r)=>{"use strict";var n=r(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1268:(e,t,r)=>{var n=r(5428),a=r(7574),i=r(6832),s=i&&i.isTypedArray,o=s?a(s):n;e.exports=o},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1497:(e,t,r)=>{"use strict";var n=r(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,s){if(s!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},1629:(e,t,r)=>{var n=r(6913),a=r(6686);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1733:(e,t,r)=>{var n=r(1775),a=r(4664),i=r(9096);e.exports=function(e,t){var r={};return t=i(t,3),a(e,function(e,a,i){n(r,a,t(e,a,i))}),r}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},2086:(e,t,r)=>{"use strict";e.exports=r(5082)},2154:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,function(e,n,a){return!(r=t(e,n,a))}),!!r}},2322:(e,t,r)=>{var n=r(6913),a=r(5990),i=r(2761),s=Function.prototype,o=Object.prototype,l=s.toString,c=o.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}},2520:(e,t,r)=>{var n=r(5816),a=r(9096),i=r(9140),s=Math.max;e.exports=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var l=null==r?0:i(r);return l<0&&(l=s(o+l,0)),n(e,a(t,3),l)}},2536:(e,t,r)=>{var n=r(149),a=r(2969),i=r(9096),s=r(8883),o=r(320),l=r(7574),c=r(5893),d=r(3279),u=r(4052);e.exports=function(e,t,r){t=t.length?n(t,function(e){return u(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[d];var h=-1;t=n(t,l(i));var f=s(e,function(e,r,a){return{criteria:n(t,function(t){return t(e)}),index:++h,value:e}});return o(f,function(e,t){return c(e,t,r)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2555:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function i(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{A:()=>o})},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},2597:(e,t,r)=>{var n=r(4052),a=r(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var n=r(5043),a=r(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(p,e)||!u.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var R,I=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case _:return"Profiler";case N:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return z(e(t))}catch(r){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function ie(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var xe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Ne=null;function _e(e){if(e=ba(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Se(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Oe(e,t){return e(t)}function Ee(){}var Ce=!1;function Pe(e,t,r){if(Ce)return e(t,r);Ce=!0;try{return Oe(e,t,r)}finally{Ce=!1,(null!==ke||null!==Ne)&&(Ee(),Ae())}}function Te(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Me=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Me=!1}function De(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Re=!1,Ie=null,Fe=!1,Be=null,Ue={onError:function(e){Re=!0,Ie=e}};function qe(e,t,r,n,a,i,s,o,l){Re=!1,Ie=null,De.apply(Ue,arguments)}function ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(ze(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Ve(a),e;if(s===n)return Ve(a),t;s=s.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Je=a.unstable_requestPaint,Xe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&r;if(0!==s){var o=s&~a;0!==o?n=ut(o):0!==(i&=s)&&(n=ut(i))}else 0!==(s=r&~a)?n=ut(s):0!==i&&(n=ut(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-st(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,kt,Nt,_t,St=!1,At=[],Ot=null,Et=null,Ct=null,Pt=new Map,Tt=new Map,Mt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=ya(e.target);if(null!==t){var r=ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void _t(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Bt(e,t,r){Ft(e)&&r.delete(t)}function Ut(){St=!1,null!==Ot&&Ft(Ot)&&(Ot=null),null!==Et&&Ft(Et)&&(Et=null),null!==Ct&&Ft(Ct)&&(Ct=null),Pt.forEach(Bt),Tt.forEach(Bt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return qt(t,e)}if(0<At.length){qt(At[0],e);for(var r=1;r<At.length;r++){var n=At[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ot&&qt(Ot,e),null!==Et&&qt(Et,e),null!==Ct&&qt(Ct,e),Pt.forEach(t),Tt.forEach(t),r=0;r<Mt.length;r++)(n=Mt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(r=Mt[0]).blockedOn;)It(r),null===r.blockedOn&&Mt.shift()}var Ht=v.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,r,n){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,r,n)}finally{bt=a,Ht.transition=i}}function Kt(e,t,r,n){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,r,n)}finally{bt=a,Ht.transition=i}}function Gt(e,t,r,n){if(Vt){var a=$t(e,t,r,n);if(null===a)Vn(e,t,n,Yt,r),Dt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Ot=Rt(Ot,e,t,r,n,a),!0;case"dragenter":return Et=Rt(Et,e,t,r,n,a),!0;case"mouseover":return Ct=Rt(Ct,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Pt.set(i,Rt(Pt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Tt.set(i,Rt(Tt.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=$t(e,t,r,n))&&Vn(e,t,n,Yt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Vn(e,t,n,null,r)}}var Yt=null;function $t(e,t,r,n){if(Yt=null,null!==(e=ya(e=we(n))))if(null===(t=ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Qe:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Qt=null;function er(){if(Qt)return Qt;var e,t,r=Zt,n=r.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[i-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,sr,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),dr=I({},lr,{view:0,detail:0}),ur=ar(dr),hr=I({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ir=e.screenX-or.screenX,sr=e.screenY-or.screenY):sr=ir=0,or=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),fr=ar(hr),pr=ar(I({},hr,{dataTransfer:0})),mr=ar(I({},dr,{relatedTarget:0})),gr=ar(I({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=I({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(xr),br=ar(I({},lr,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Nr(){return kr}var _r=I({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=ar(_r),Ar=ar(I({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Or=ar(I({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Er=ar(I({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cr=I({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pr=ar(Cr),Tr=[9,13,27,32],Mr=d&&"CompositionEvent"in window,Lr=null;d&&"documentMode"in document&&(Lr=document.documentMode);var Dr=d&&"TextEvent"in window&&!Lr,Rr=d&&(!Mr||Lr&&8<Lr&&11>=Lr),Ir=String.fromCharCode(32),Fr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Tr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qr=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function Vr(e,t,r,n){Se(n),0<(t=Kn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Kr=null;function Gr(e){Fn(e,0)}function Yr(e){if(G(va(e)))return e}function $r(e,t){if("change"===e)return t}var Jr=!1;if(d){var Xr;if(d){var Zr="oninput"in document;if(!Zr){var Qr=document.createElement("div");Qr.setAttribute("oninput","return;"),Zr="function"===typeof Qr.oninput}Xr=Zr}else Xr=!1;Jr=Xr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),Kr=Wr=null)}function tn(e){if("value"===e.propertyName&&Yr(Kr)){var t=[];Vr(t,Kr,e,we(e)),Pe(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),Kr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Kr)}function an(e,t){if("click"===e)return Yr(t)}function sn(e,t){if("input"===e||"change"===e)return Yr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=dn(r,i);var s=dn(r,n);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,xn=null,yn=null,bn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==gn||gn!==Y(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Kn(xn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},kn={},Nn={};function _n(e){if(kn[e])return kn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Nn)return kn[e]=r[t];return e}d&&(Nn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var Sn=_n("animationend"),An=_n("animationiteration"),On=_n("animationstart"),En=_n("transitionend"),Cn=new Map,Pn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Cn.set(e,t),l(t,[e])}for(var Mn=0;Mn<Pn.length;Mn++){var Ln=Pn[Mn];Tn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Tn(Sn,"onAnimationEnd"),Tn(An,"onAnimationIteration"),Tn(On,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function In(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,s,o,l,c){if(qe.apply(this,arguments),Re){if(!Re)throw Error(i(198));var d=Ie;Re=!1,Ie=null,Fe||(Fe=!0,Be=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;In(a,o,c),i=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;In(a,o,c),i=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Bn(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(Hn(t,e,2,!1),r.add(n))}function Un(e,t,r){var n=0;t&&(n|=4),Hn(r,e,n,t)}var qn="_reactListening"+Math.random().toString(36).slice(2);function zn(e){if(!e[qn]){e[qn]=!0,s.forEach(function(t){"selectionchange"!==t&&(Rn.has(t)||Un(t,!1,e),Un(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qn]||(t[qn]=!0,Un("selectionchange",!1,t))}}function Hn(e,t,r,n){switch(Jt(t)){case 1:var a=Wt;break;case 4:a=Kt;break;default:a=Gt}r=a.bind(null,t,r,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ya(o)))return;if(5===(l=s.tag)||6===l){n=i=s;continue e}o=o.parentNode}}n=n.return}Pe(function(){var n=i,a=we(r),s=[];e:{var o=Cn.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Or;break;case Sn:case An:case On:l=gr;break;case En:l=Er;break;case"scroll":l=ur;break;case"wheel":l=Pr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Te(p,h))&&d.push(Wn(p,m,f)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,r,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!ya(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ya(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ar,m="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:va(l),f=null==c?o:va(c),(o=new d(m,p+"leave",l,r,a)).target=u,o.relatedTarget=f,m=null,ya(a)===n&&((d=new d(h,p+"enter",c,r,a)).target=f,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,p=0,f=d=l;f;f=Gn(f))p++;for(f=0,m=h;m;m=Gn(m))f++;for(;0<p-f;)d=Gn(d),p--;for(;0<f-p;)h=Gn(h),f--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Gn(d),h=Gn(h)}d=null}else d=null;null!==l&&Yn(s,o,l,d,!1),null!==c&&null!==u&&Yn(s,u,c,d,!0)}if("select"===(l=(o=n?va(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$r;else if(Hr(o))if(Jr)g=sn;else{g=nn;var x=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=an);switch(g&&(g=g(e,n))?Vr(s,g,r,a):(x&&x(e,o,n),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=n?va(n):window,e){case"focusin":(Hr(x)||"true"===x.contentEditable)&&(gn=x,xn=n,yn=null);break;case"focusout":yn=xn=gn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,vn(s,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":vn(s,r,a)}var y;if(Mr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qr?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Rr&&"ko"!==r.locale&&(qr||"onCompositionStart"!==b?"onCompositionEnd"===b&&qr&&(y=er()):(Zt="value"in(Xt=a)?Xt.value:Xt.textContent,qr=!0)),0<(x=Kn(n,b)).length&&(b=new br(b,e,null,r,a),s.push({event:b,listeners:x}),y?b.data=y:null!==(y=Ur(r))&&(b.data=y))),(y=Dr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Fr=!0,Ir);case"textInput":return(e=t.data)===Ir&&Fr?null:e;default:return null}}(e,r):function(e,t){if(qr)return"compositionend"===e||!Mr&&Br(e,t)?(e=er(),Qt=Zt=Xt=null,qr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Kn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),s.push({event:a,listeners:n}),a.data=y))}Fn(s,t)})}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Te(e,r))&&n.unshift(Wn(e,i,a)),null!=(i=Te(e,t))&&n.push(Wn(e,i,a))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,a){for(var i=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Te(r,i))&&s.unshift(Wn(r,l,o)):a||null!=(l=Te(r,i))&&s.push(Wn(r,l,o))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var $n=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace($n,"\n").replace(Jn,"")}function Zn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(i(425))}function Qn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout(function(){throw e})}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void zt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);zt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,fa="__reactProps$"+ua,pa="__reactContainer$"+ua,ma="__reactEvents$"+ua,ga="__reactListeners$"+ua,xa="__reactHandles$"+ua;function ya(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=da(e);null!==e;){if(r=e[ha])return r;e=da(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var ja=[],ka=-1;function Na(e){return{current:e}}function _a(e){0>ka||(e.current=ja[ka],ja[ka]=null,ka--)}function Sa(e,t){ka++,ja[ka]=e.current,e.current=t}var Aa={},Oa=Na(Aa),Ea=Na(!1),Ca=Aa;function Pa(e,t){var r=e.type.contextTypes;if(!r)return Aa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){_a(Ea),_a(Oa)}function La(e,t,r){if(Oa.current!==Aa)throw Error(i(168));Sa(Oa,t),Sa(Ea,r)}function Da(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return I({},r,n)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,Ca=Oa.current,Sa(Oa,e),Sa(Ea,Ea.current),!0}function Ia(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Da(e,t,Ca),n.__reactInternalMemoizedMergedChildContext=e,_a(Ea),_a(Oa),Sa(Oa,e)):_a(Ea),Sa(Ea,r)}var Fa=null,Ba=!1,Ua=!1;function qa(e){null===Fa?Fa=[e]:Fa.push(e)}function za(){if(!Ua&&null!==Fa){Ua=!0;var e=0,t=bt;try{var r=Fa;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ge(Qe,za),a}finally{bt=t,Ua=!1}}return null}var Ha=[],Va=0,Wa=null,Ka=0,Ga=[],Ya=0,$a=null,Ja=1,Xa="";function Za(e,t){Ha[Va++]=Ka,Ha[Va++]=Wa,Wa=e,Ka=t}function Qa(e,t,r){Ga[Ya++]=Ja,Ga[Ya++]=Xa,Ga[Ya++]=$a,$a=e;var n=Ja;e=Xa;var a=32-st(n)-1;n&=~(1<<a),r+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Ja=1<<32-st(t)+a|r<<a|n,Xa=i+e}else Ja=1<<i|r<<a|n,Xa=e}function ei(e){null!==e.return&&(Za(e,1),Qa(e,1,0))}function ti(e){for(;e===Wa;)Wa=Ha[--Va],Ha[Va]=null,Ka=Ha[--Va],Ha[Va]=null;for(;e===$a;)$a=Ga[--Ya],Ga[Ya]=null,Xa=Ga[--Ya],Ga[Ya]=null,Ja=Ga[--Ya],Ga[Ya]=null}var ri=null,ni=null,ai=!1,ii=null;function si(e,t){var r=Pc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==$a?{id:Ja,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Pc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ni;if(t){var r=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ca(r.nextSibling);var n=ri;t&&oi(e,t)?si(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function ui(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(li(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ni;e;)e=ca(e.nextSibling)}function fi(){ni=ri=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=v.ReactCurrentBatchConfig;function gi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Ic(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===k?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&yi(i)===t.type)?((n=a(t,r.props)).ref=gi(e,t,r),n.return=e,n):((n=Lc(r.type,r.key,r.props,null,e.mode,n)).ref=gi(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,i){return null===t||7!==t.tag?((t=Dc(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Lc(t.type,t.key,t.props,null,e.mode,r)).ref=gi(e,null,t),r.return=e,r;case j:return(t=Fc(t,e.mode,r)).return=e,t;case T:return h(e,(0,t._init)(t._payload),r)}if(te(t)||D(t))return(t=Dc(t,e.mode,r,null)).return=e,t;xi(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case j:return r.key===a?d(e,t,r,n):null;case T:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||D(r))return null!==a?null:u(e,t,r,n,null);xi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case j:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case T:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||D(n))return u(t,e=e.get(r)||null,n,a,null);xi(t,n)}return null}function m(a,i,o,l){for(var c=null,d=null,u=i,m=i=0,g=null;null!==u&&m<o.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var x=f(a,u,o[m],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(a,u),i=s(x,i,m),null===d?c=x:d.sibling=x,d=x,u=g}if(m===o.length)return r(a,u),ai&&Za(a,m),c;if(null===u){for(;m<o.length;m++)null!==(u=h(a,o[m],l))&&(i=s(u,i,m),null===d?c=u:d.sibling=u,d=u);return ai&&Za(a,m),c}for(u=n(a,u);m<o.length;m++)null!==(g=p(u,a,m,o[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),i=s(g,i,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),ai&&Za(a,m),c}function g(a,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,m=o,g=o=0,x=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(x=m,m=null):x=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=x);break}e&&m&&null===b.alternate&&t(a,m),o=s(b,o,g),null===u?d=b:u.sibling=b,u=b,m=x}if(y.done)return r(a,m),ai&&Za(a,g),d;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(o=s(y,o,g),null===u?d=y:u.sibling=y,u=y);return ai&&Za(a,g),d}for(m=n(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach(function(e){return t(a,e)}),ai&&Za(a,g),d}return function e(n,i,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=i;null!==d;){if(d.key===c){if((c=s.type)===k){if(7===d.tag){r(n,d.sibling),(i=a(d,s.props.children)).return=n,n=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&yi(c)===d.type){r(n,d.sibling),(i=a(d,s.props)).ref=gi(n,d,s),i.return=n,n=i;break e}r(n,d);break}t(n,d),d=d.sibling}s.type===k?((i=Dc(s.props.children,n.mode,l,s.key)).return=n,n=i):((l=Lc(s.type,s.key,s.props,null,n.mode,l)).ref=gi(n,i,s),l.return=n,n=l)}return o(n);case j:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){r(n,i.sibling),(i=a(i,s.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Fc(s,n.mode,l)).return=n,n=i}return o(n);case T:return e(n,i,(d=s._init)(s._payload),l)}if(te(s))return m(n,i,s,l);if(D(s))return g(n,i,s,l);xi(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,s)).return=n,n=i):(r(n,i),(i=Ic(s,n.mode,l)).return=n,n=i),o(n)):r(n,i)}}var vi=bi(!0),wi=bi(!1),ji=Na(null),ki=null,Ni=null,_i=null;function Si(){_i=Ni=ki=null}function Ai(e){var t=ji.current;_a(ji),e._currentValue=t}function Oi(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){ki=e,_i=Ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===Ni){if(null===ki)throw Error(i(308));Ni=e,ki.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var Pi=null;function Ti(e){null===Pi?Pi=[e]:Pi.push(e)}function Mi(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ti(t)):(r.next=a.next,a.next=r),t.interleaved=r,Li(e,n)}function Li(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Di=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ol)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Li(e,r)}return null===(a=n.interleaved)?(t.next=t,Ti(n)):(t.next=a.next,a.next=t),n.interleaved=t,Li(e,r)}function Ui(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function qi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=s:i=i.next=s,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zi(e,t,r,n){var a=e.updateQueue;Di=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=a.baseState;for(s=0,d=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){u=p.call(f,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,u,h):p)||void 0===h)break e;u=I({},u,h);break e;case 2:Di=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,s|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Rl|=s,e.lanes=s,e.memoizedState=u}}function Hi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Vi={},Wi=Na(Vi),Ki=Na(Vi),Gi=Na(Vi);function Yi(e){if(e===Vi)throw Error(i(174));return e}function $i(e,t){switch(Sa(Gi,t),Sa(Ki,e),Sa(Wi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(Wi),Sa(Wi,t)}function Ji(){_a(Wi),_a(Ki),_a(Gi)}function Xi(e){Yi(Gi.current);var t=Yi(Wi.current),r=le(t,e.type);t!==r&&(Sa(Ki,e),Sa(Wi,r))}function Zi(e){Ki.current===e&&(_a(Wi),_a(Ki))}var Qi=Na(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function rs(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var ns=v.ReactCurrentDispatcher,as=v.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,ds=!1,us=0,hs=0;function fs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function ms(e,t,r,n,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ns.current=null===e||null===e.memoizedState?Zs:Qs,e=r(n,a),ds){s=0;do{if(ds=!1,us=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,ns.current=eo,e=r(n,a)}while(ds)}if(ns.current=Xs,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function gs(){var e=0!==us;return us=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function vs(e){var t=ys(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=os,a=n.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(null!==a){s=a.next,n=n.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((is&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,ss.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==s);null===c?o=n:c.next=l,on(n,t.memoizedState)||(bo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Rl|=s,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ws(e){var t=ys(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);on(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function js(){}function ks(e,t){var r=ss,n=ys(),a=t(),s=!on(n.memoizedState,a);if(s&&(n.memoizedState=a,bo=!0),n=n.queue,Ds(Ss.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(r.flags|=2048,Cs(9,_s.bind(null,r,n,a,t),void 0,null),null===El)throw Error(i(349));0!==(30&is)||Ns(r,t,a)}return a}function Ns(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _s(e,t,r,n){t.value=r,t.getSnapshot=n,As(t)&&Os(e)}function Ss(e,t,r){return r(function(){As(t)&&Os(e)})}function As(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Os(e){var t=Li(e,1);null!==t&&rc(t,e,1,-1)}function Es(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[t.memoizedState,e]}function Cs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ps(){return ys().memoizedState}function Ts(e,t,r,n){var a=xs();ss.flags|=e,a.memoizedState=Cs(1|t,r,void 0,void 0===n?null:n)}function Ms(e,t,r,n){var a=ys();n=void 0===n?null:n;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==n&&ps(n,s.deps))return void(a.memoizedState=Cs(t,r,i,n))}ss.flags|=e,a.memoizedState=Cs(1|t,r,i,n)}function Ls(e,t){return Ts(8390656,8,e,t)}function Ds(e,t){return Ms(2048,8,e,t)}function Rs(e,t){return Ms(4,2,e,t)}function Is(e,t){return Ms(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ms(4,4,Fs.bind(null,t,e),r)}function Us(){}function qs(e,t){var r=ys();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zs(e,t){var r=ys();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hs(e,t,r){return 0===(21&is)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=r):(on(r,t)||(r=mt(),ss.lanes|=r,Rl|=r,e.baseState=!0),t)}function Vs(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=as.transition;as.transition={};try{e(!1),t()}finally{bt=r,as.transition=n}}function Ws(){return ys().memoizedState}function Ks(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ys(e))$s(t,r);else if(null!==(r=Mi(e,t,r,n))){rc(r,e,n,ec()),Js(r,t,n)}}function Gs(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))$s(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,on(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ti(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Mi(e,t,a,n))&&(rc(r,e,n,a=ec()),Js(r,t,n))}}function Ys(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function $s(e,t){ds=cs=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Js(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Xs={readContext:Ci,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Ci,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Ls,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ts(4194308,4,Fs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var r=xs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Es,useDebugValue:Us,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Es(!1),t=e[0];return e=Vs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ss,a=xs();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===El)throw Error(i(349));0!==(30&is)||Ns(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Ls(Ss.bind(null,n,s,e),[e]),n.flags|=2048,Cs(9,_s.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=xs(),t=El.identifierPrefix;if(ai){var r=Xa;t=":"+t+"R"+(r=(Ja&~(1<<32-st(Ja)-1)).toString(32)+r),0<(r=us++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qs={readContext:Ci,useCallback:qs,useContext:Ci,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:Rs,useLayoutEffect:Is,useMemo:zs,useReducer:vs,useRef:Ps,useState:function(){return vs(bs)},useDebugValue:Us,useDeferredValue:function(e){return Hs(ys(),os.memoizedState,e)},useTransition:function(){return[vs(bs)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:Ws,unstable_isNewReconciler:!1},eo={readContext:Ci,useCallback:qs,useContext:Ci,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:Rs,useLayoutEffect:Is,useMemo:zs,useReducer:ws,useRef:Ps,useState:function(){return ws(bs)},useDebugValue:Us,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Hs(t,os.memoizedState,e)},useTransition:function(){return[ws(bs)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:Ws,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=I({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:I({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Fi(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Bi(e,i,a))&&(rc(t,e,a,n),Ui(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Fi(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Bi(e,i,a))&&(rc(t,e,a,n),Ui(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Fi(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bi(e,a,n))&&(rc(t,e,n,r),Ui(t,e,n))}};function ao(e,t,r,n,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,i))}function io(e,t,r){var n=!1,a=Aa,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(a=Ta(t)?Ca:Oa.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Pa(e,a):Aa),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ci(i):(i=Ta(t)?Ca:Oa.current,a.context=Pa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ro(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),zi(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=q(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,r){(r=Fi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vl||(Vl=!0,Wl=n),uo(0,t)},r}function po(e,t,r){(r=Fi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function mo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=_c.bind(null,e,t,r),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fi(-1,1)).tag=2,Bi(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=v.ReactCurrentOwner,bo=!1;function vo(e,t,r,n){t.child=null===e?wi(t,null,r,n):vi(t,e.child,r,n)}function wo(e,t,r,n,a){r=r.render;var i=t.ref;return Ei(t,a),n=ms(e,t,r,n,i,a),r=gs(),null===e||bo?(ai&&r&&ei(t),t.flags|=1,vo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function jo(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Tc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Lc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ko(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(s,n)&&e.ref===t.ref)return Vo(e,t,a)}return t.flags|=1,(e=Mc(i,n)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(bo=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Vo(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,r,n,a)}function No(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Ml,Tl),Tl|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Ml,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Sa(Ml,Tl),Tl|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Sa(Ml,Tl),Tl|=n;return vo(e,t,a,r),t.child}function _o(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,r,n,a){var i=Ta(r)?Ca:Oa.current;return i=Pa(t,i),Ei(t,a),r=ms(e,t,r,n,i,a),n=gs(),null===e||bo?(ai&&n&&ei(t),t.flags|=1,vo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function Ao(e,t,r,n,a){if(Ta(r)){var i=!0;Ra(t)}else i=!1;if(Ei(t,a),null===t.stateNode)Ho(e,t),io(t,r,n),oo(t,r,n,a),n=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ci(c):c=Pa(t,c=Ta(r)?Ca:Oa.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==n||l!==c)&&so(t,s,n,c),Di=!1;var h=t.memoizedState;s.state=h,zi(t,n,s,a),l=t.memoizedState,o!==n||h!==l||Ea.current||Di?("function"===typeof d&&(ro(t,r,d,n),l=t.memoizedState),(o=Di||ao(t,r,o,n,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Ii(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ci(l):l=Pa(t,l=Ta(r)?Ca:Oa.current);var f=r.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||h!==l)&&so(t,s,n,l),Di=!1,h=t.memoizedState,s.state=h,zi(t,n,s,a);var p=t.memoizedState;o!==u||h!==p||Ea.current||Di?("function"===typeof f&&(ro(t,r,f,n),p=t.memoizedState),(c=Di||ao(t,r,c,n,h,p,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Oo(e,t,r,n,i,a)}function Oo(e,t,r,n,a,i){_o(e,t);var s=0!==(128&t.flags);if(!n&&!s)return a&&Ia(t,r,!1),Vo(e,t,i);n=t.stateNode,yo.current=t;var o=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=vi(t,e.child,null,i),t.child=vi(t,null,o,i)):vo(e,t,o,i),t.memoizedState=n.state,a&&Ia(t,r,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),$i(e,t.containerInfo)}function Co(e,t,r,n,a){return fi(),pi(a),t.flags|=256,vo(e,t,r,n),t.child}var Po,To,Mo,Lo,Do={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Io(e,t,r){var n,a=t.pendingProps,s=Qi.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Sa(Qi,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,a,0,null),e=Dc(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(r),t.memoizedState=Do,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,a,s,o){if(r)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,n=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Rc({mode:"visible",children:n.children},a,0,null),(s=Dc(s,a,o,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&vi(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Do,s);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Bo(e,t,o,n=co(s=Error(i(419)),n,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(n=El)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Li(e,a),rc(n,e,a,-1))}return mc(),Bo(e,t,o,n=co(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ni=ca(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(Ga[Ya++]=Ja,Ga[Ya++]=Xa,Ga[Ya++]=$a,Ja=e.id,Xa=e.overflow,$a=t),t=Fo(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,s,r);if(o){o=a.fallback,l=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?o=Mc(n,o):(o=Dc(o,l,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Do,a}return e=(o=e.child).sibling,a=Mc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,r,n){return null!==n&&pi(n),vi(t,e.child,null,r),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Oi(e.return,t,r)}function qo(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function zo(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(vo(e,t,n.children,r),0!==(2&(n=Qi.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,r,t);else if(19===e.tag)Uo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sa(Qi,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===es(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),qo(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}qo(t,!0,r,null,i);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Mc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Mc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Go(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Ta(t.type)&&Ma(),Ko(t),null;case 3:return n=t.stateNode,Ji(),_a(Ea),_a(Oa),rs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),To(e,t),Ko(t),null;case 5:Zi(t);var a=Yi(Gi.current);if(r=t.type,null!==e&&null!=t.stateNode)Mo(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Ko(t),null}if(e=Yi(Wi.current),ui(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ha]=t,n[fa]=s,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(a=0;a<Dn.length;a++)Bn(Dn[a],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":J(n,s),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Bn("invalid",n);break;case"textarea":ae(n,s),Bn("invalid",n)}for(var l in ye(r,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bn("scroll",n)}switch(r){case"input":K(n),Q(n,s,!0);break;case"textarea":K(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Qn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[fa]=n,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),a=n;break;case"iframe":case"object":case"embed":Bn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Dn.length;a++)Bn(Dn[a],e);a=n;break;case"source":Bn("error",e),a=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),a=n;break;case"details":Bn("toggle",e),a=n;break;case"input":J(e,n),a=$(e,n),Bn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=I({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Bn("invalid",e)}for(s in ye(r,a),c=a)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Bn("scroll",e):null!=d&&b(e,s,d,l))}switch(r){case"input":K(e),Q(e,n,!1);break;case"textarea":K(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Qn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=Yi(Gi.current),Yi(Wi.current),ui(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(s=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Zn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Ko(t),null;case 13:if(_a(Qi),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,s=!1;else if(s=ui(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qi.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Ji(),To(e,t),null===e&&zn(t.stateNode.containerInfo),Ko(t),null;case 10:return Ai(t.type._context),Ko(t),null;case 19:if(_a(Qi),null===(s=t.memoizedState))return Ko(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)Wo(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Wo(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sa(Qi,1&Qi.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>zl&&(t.flags|=128,n=!0,Wo(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=es(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Ko(t),null}else 2*Xe()-s.renderingStartTime>zl&&1073741824!==r&&(t.flags|=128,n=!0,Wo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,r=Qi.current,Sa(Qi,n?1&r|2:1&r),t):(Ko(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Yo(e,t){switch(ti(t),t.tag){case 1:return Ta(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),_a(Ea),_a(Oa),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(_a(Qi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Qi),null;case 4:return Ji(),null;case 10:return Ai(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Po=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},To=function(){},Mo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Yi(Wi.current);var i,s=null;switch(r){case"input":a=$(e,a),n=$(e,n),s=[];break;case"select":a=I({},a,{value:void 0}),n=I({},n,{value:void 0}),s=[];break;case"textarea":a=ne(e,a),n=ne(e,n),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Qn)}for(d in ye(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Bn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Lo=function(e,t,r,n){r!==n&&(t.flags|=4)};var $o=!1,Jo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Qo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Nc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Nc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,r,i)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Qn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(o){}switch(r.tag){case 5:Jo||Qo(r,t);case 6:var n=dl,a=ul;dl=null,hl(e,t,r),ul=a,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),zt(e)):la(dl,r.stateNode));break;case 4:n=dl,a=ul,dl=r.stateNode.containerInfo,ul=!0,hl(e,t,r),dl=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(r,t,s),a=a.next}while(a!==n)}hl(e,t,r);break;case 1:if(!Jo&&(Qo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Nc(r,t,o)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Jo=(n=Jo)||null!==r.memoizedState,hl(e,t,r),Jo=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xo),t.forEach(function(t){var n=Oc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(i(160));fl(s,o,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Nc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),xl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){Nc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:ml(t,e),xl(e),512&n&&null!==r&&Qo(r,r.return);break;case 5:if(ml(t,e),xl(e),512&n&&null!==r&&Qo(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Nc(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==r?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(a,s),be(l,o);var d=be(l,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):b(a,u,h,d)}switch(l){case"input":Z(a,s);break;case"textarea":ie(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?re(a,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?re(a,!!s.multiple,s.defaultValue,!0):re(a,!!s.multiple,s.multiple?[]:"",!1))}a[fa]=s}catch(g){Nc(e,e.return,g)}}break;case 6:if(ml(t,e),xl(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Nc(e,e.return,g)}}break;case 3:if(ml(t,e),xl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:ml(t,e),xl(e);break;case 13:ml(t,e),xl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(ql=Xe())),4&n&&pl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Jo=(d=Jo)||u,ml(t,e),Jo=d):ml(t,e),xl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(h=Zo=u;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Qo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nc(n,r,g)}}break;case 5:Qo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Zo=p):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),xl(e),4&n&&pl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Zo=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Zo;){var a=Zo,i=a.child;if(22===a.tag&&n){var s=null!==a.memoizedState||$o;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=$o;var c=Jo;if($o=s,(Jo=l)&&!c)for(Zo=a;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?jl(a):null!==l?(l.return=s,Zo=l):jl(a);for(;null!==i;)Zo=i,bl(i,t,r),i=i.sibling;Zo=a,$o=o,Jo=c}vl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zo=i):vl(e)}}function vl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Jo)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Hi(t,s,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Hi(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(i(163))}Jo||512&t.flags&&al(t)}catch(f){Nc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zo=r;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zo=r;break}Zo=t.return}}function jl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Nc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Nc(t,a,l)}}var i=t.return;try{al(t)}catch(l){Nc(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Nc(t,s,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var kl,Nl=Math.ceil,_l=v.ReactCurrentDispatcher,Sl=v.ReactCurrentOwner,Al=v.ReactCurrentBatchConfig,Ol=0,El=null,Cl=null,Pl=0,Tl=0,Ml=Na(0),Ll=0,Dl=null,Rl=0,Il=0,Fl=0,Bl=null,Ul=null,ql=0,zl=1/0,Hl=null,Vl=!1,Wl=null,Kl=null,Gl=!1,Yl=null,$l=0,Jl=0,Xl=null,Zl=-1,Ql=0;function ec(){return 0!==(6&Ol)?Xe():-1!==Zl?Zl:Zl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,r,n){if(50<Jl)throw Jl=0,Xl=null,Error(i(185));xt(e,r,n),0!==(2&Ol)&&e===El||(e===El&&(0===(2&Ol)&&(Il|=r),4===Ll&&oc(e,Pl)),nc(e,n),1===r&&0===Ol&&0===(1&t.mode)&&(zl=Xe()+500,Ba&&za()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&r)&&0===(o&n)||(a[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var n=ht(e,e===El?Pl:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Ba=!0,qa(e)}(lc.bind(null,e)):qa(lc.bind(null,e)),sa(function(){0===(6&Ol)&&za()}),r=null;else{switch(vt(n)){case 1:r=Qe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ec(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Zl=-1,Ql=0,0!==(6&Ol))throw Error(i(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var n=ht(e,e===El?Pl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var a=Ol;Ol|=2;var s=pc();for(El===e&&Pl===t||(Hl=null,zl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Si(),_l.current=s,Ol=a,null!==Cl?t=0:(El=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=ic(e,a))),1===t)throw r=Dl,hc(e,0),oc(e,n),nc(e,Xe()),r;if(6===t)oc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!on(i(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,n))&&(0!==(s=pt(e))&&(n=s,t=ic(e,s))),1===t))throw r=Dl,hc(e,0),oc(e,n),nc(e,Xe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Ul,Hl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=ql+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wc.bind(null,e,Ul,Hl),t);break}wc(e,Ul,Hl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-st(n);s=1<<o,(o=t[o])>a&&(a=o),n&=~s}if(n=a,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nl(n/1960))-n)){e.timeoutHandle=na(wc.bind(null,e,Ul,Hl),n);break}wc(e,Ul,Hl);break;default:throw Error(i(329))}}}return nc(e,Xe()),e.callbackNode===r?ac.bind(null,e):null}function ic(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=r,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Ol))throw Error(i(327));jc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ic(e,n))}if(1===r)throw r=Dl,hc(e,0),oc(e,t),nc(e,Xe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Hl),nc(e,Xe()),null}function cc(e,t){var r=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=r)&&(zl=Xe()+500,Ba&&za())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Ol)&&jc();var t=Ol;Ol|=1;var r=Al.transition,n=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=n,Al.transition=r,0===(6&(Ol=t))&&za()}}function uc(){Tl=Ml.current,_a(Ml)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Cl)for(r=Cl.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ma();break;case 3:Ji(),_a(Ea),_a(Oa),rs();break;case 5:Zi(n);break;case 4:Ji();break;case 13:case 19:_a(Qi);break;case 10:Ai(n.type._context);break;case 22:case 23:uc()}r=r.return}if(El=e,Cl=e=Mc(e.current,null),Pl=Tl=t,Ll=0,Dl=null,Fl=Il=Rl=0,Ul=Bl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(n=(r=Pi[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var s=i.next;i.next=a,n.next=s}r.pending=n}Pi=null}return e}function fc(e,t){for(;;){var r=Cl;try{if(Si(),ns.current=Xs,cs){for(var n=ss.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}cs=!1}if(is=0,ls=os=ss=null,ds=!1,us=0,Sl.current=null,null===r||null===r.return){Ll=1,Dl=t,Cl=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&mo(s,d,t),c=d;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,d,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),pi(lo(c,l));break e}}s=c=lo(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[s]:Bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qi(s,fo(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,qi(s,po(s,l,t));break e}}s=s.return}while(null!==s)}vc(r)}catch(v){t=v,Cl===r&&null!==r&&(Cl=r=r.return);continue}break}}function pc(){var e=_l.current;return _l.current=Xs,null===e?Xs:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===El||0===(268435455&Rl)&&0===(268435455&Il)||oc(El,Pl)}function gc(e,t){var r=Ol;Ol|=2;var n=pc();for(El===e&&Pl===t||(Hl=null,hc(e,t));;)try{xc();break}catch(a){fc(e,a)}if(Si(),Ol=r,_l.current=n,null!==Cl)throw Error(i(261));return El=null,Pl=0,Ll}function xc(){for(;null!==Cl;)bc(Cl)}function yc(){for(;null!==Cl&&!$e();)bc(Cl)}function bc(e){var t=kl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?vc(e):Cl=t,Sl.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Go(r,t,Tl)))return void(Cl=r)}else{if(null!==(r=Yo(r,t)))return r.flags&=32767,void(Cl=r);if(null===e)return Ll=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,r){var n=bt,a=Al.transition;try{Al.transition=null,bt=1,function(e,t,r,n){do{jc()}while(null!==Yl);if(0!==(6&Ol))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-st(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,s),e===El&&(Cl=El=null,Pl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Gl||(Gl=!0,Ec(tt,function(){return jc(),null})),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Al.transition,Al.transition=null;var o=bt;bt=1;var l=Ol;Ol|=4,Sl.current=null,function(e,t){if(ea=Vt,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(w){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++d===a&&(l=o),f===s&&++u===n&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Vt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,x=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(i(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,r),gl(r,e),pn(ta),Vt=!!ea,ta=ea=null,e.current=r,yl(r,e,a),Je(),Ol=l,bt=o,Al.transition=s}else e.current=r;if(Gl&&(Gl=!1,Yl=e,$l=a),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Wl,Wl=null,e;0!==(1&$l)&&0!==e.tag&&jc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,za()}(e,t,r,n)}finally{Al.transition=a,bt=n}return null}function jc(){if(null!==Yl){var e=vt($l),t=Al.transition,r=bt;try{if(Al.transition=null,bt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Ol))throw Error(i(331));var a=Ol;for(Ol|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:rl(8,u,s)}var h=u.child;if(null!==h)h.return=u,Zo=h;else for(;null!==Zo;){var f=(u=Zo).sibling,p=u.return;if(il(u),u===d){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Zo=y;break e}Zo=s.return}}var b=e.current;for(Zo=b;null!==Zo;){var v=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,Zo=v;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){Nc(l,l.return,j)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Ol=a,za(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(j){}n=!0}return n}finally{bt=r,Al.transition=t}}return!1}function kc(e,t,r){e=Bi(e,t=fo(0,t=lo(r,t),1),1),t=ec(),null!==e&&(xt(e,1,t),nc(e,t))}function Nc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Kl||!Kl.has(n))){t=Bi(t,e=po(t,e=lo(r,e),1),1),e=ec(),null!==t&&(xt(t,1,e),nc(t,e));break}}t=t.return}}function _c(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Pl&r)===r&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Xe()-ql?hc(e,0):Fl|=r),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Li(e,t))&&(xt(e,t,r),nc(e,r))}function Ac(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Oc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Sc(e,r)}function Ec(e,t){return Ge(e,t)}function Cc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,r,n){return new Cc(e,t,r,n)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var r=e.alternate;return null===r?((r=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,n,a,s){var o=2;if(n=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Dc(r.children,a,s,t);case N:o=8,a|=8;break;case _:return(e=Pc(12,r,t,2|a)).elementType=_,e.lanes=s,e;case E:return(e=Pc(13,r,t,a)).elementType=E,e.lanes=s,e;case C:return(e=Pc(19,r,t,a)).elementType=C,e.lanes=s,e;case M:return Rc(r,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case A:o=9;break e;case O:o=11;break e;case P:o=14;break e;case T:o=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Dc(e,t,r,n){return(e=Pc(7,e,n,t)).lanes=r,e}function Rc(e,t,r,n){return(e=Pc(22,e,n,t)).elementType=M,e.lanes=r,e.stateNode={isHidden:!1},e}function Ic(e,t,r){return(e=Pc(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,n,a,i,s,o,l){return e=new Bc(e,t,r,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function qc(e){if(!e)return Aa;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Ta(r))return Da(e,r,t)}return t}function zc(e,t,r,n,a,i,s,o,l){return(e=Uc(r,n,!0,e,0,i,0,o,l)).context=qc(null),r=e.current,(i=Fi(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Bi(r,i,a),e.current.lanes=a,xt(e,a,n),nc(e,n),e}function Hc(e,t,r,n){var a=t.current,i=ec(),s=tc(a);return r=qc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fi(i,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Bi(a,t,s))&&(rc(e,a,s,i),Ui(e,a,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)bo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bo=!1,function(e,t,r){switch(t.tag){case 3:Eo(t),fi();break;case 5:Xi(t);break;case 1:Ta(t.type)&&Ra(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Sa(ji,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Sa(Qi,1&Qi.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Io(e,t,r):(Sa(Qi,1&Qi.current),null!==(e=Vo(e,t,r))?e.sibling:null);Sa(Qi,1&Qi.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return zo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Qi,Qi.current),n)break;return null;case 22:case 23:return t.lanes=0,No(e,t,r)}return Vo(e,t,r)}(e,t,r);bo=0!==(131072&e.flags)}else bo=!1,ai&&0!==(1048576&t.flags)&&Qa(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ho(e,t),e=t.pendingProps;var a=Pa(t,Oa.current);Ei(t,r),a=ms(null,t,n,e,a,r);var s=gs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(n)?(s=!0,Ra(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ri(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,r),t=Oo(null,t,n,!0,s,r)):(t.tag=0,ai&&s&&ei(t),vo(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===P)return 14}return 2}(n),e=to(n,e),a){case 0:t=So(null,t,n,e,r);break e;case 1:t=Ao(null,t,n,e,r);break e;case 11:t=wo(null,t,n,e,r);break e;case 14:t=jo(null,t,n,to(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,So(e,t,n,a=t.elementType===n?a:to(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ao(e,t,n,a=t.elementType===n?a:to(n,a),r);case 3:e:{if(Eo(t),null===e)throw Error(i(387));n=t.pendingProps,a=(s=t.memoizedState).element,Ii(e,t),zi(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Co(e,t,n,r,a=lo(Error(i(423)),t));break e}if(n!==a){t=Co(e,t,n,r,a=lo(Error(i(424)),t));break e}for(ni=ca(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=wi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fi(),n===a){t=Vo(e,t,r);break e}vo(e,t,n,r)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),n=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,ra(n,a)?o=null:null!==s&&ra(n,s)&&(t.flags|=32),_o(e,t),vo(e,t,o,r),t.child;case 6:return null===e&&ci(t),null;case 13:return Io(e,t,r);case 4:return $i(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=vi(t,null,n,r):vo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,wo(e,t,n,a=t.elementType===n?a:to(n,a),r);case 7:return vo(e,t,t.pendingProps,r),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Sa(ji,n._currentValue),n._currentValue=o,null!==s)if(on(s.value,o)){if(s.children===a.children&&!Ea.current){t=Vo(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=Fi(-1,r&-r)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),Oi(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Oi(o,r,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}vo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ei(t,r),n=n(a=Ci(a)),t.flags|=1,vo(e,t,n,r),t.child;case 14:return a=to(n=t.type,t.pendingProps),jo(e,t,n,a=to(n.type,a),r);case 15:return ko(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),Ho(e,t),t.tag=1,Ta(n)?(e=!0,Ra(t)):e=!1,Ei(t,r),io(t,n,a),oo(t,n,a,r),Oo(null,t,n,!0,e,r);case 19:return zo(e,t,r);case 22:return No(e,t,r)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Qc(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Vc(s);o.call(e)}}Hc(t,s,e,a)}else s=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Vc(s);i.call(e)}}var s=zc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pa]=s.current,zn(8===e.nodeType?e.parentNode:e),dc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Vc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pa]=l.current,zn(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,r,n)}),l}(r,t,e,a,n);return Vc(s)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[pa]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&0!==t&&t<Mt[r].priority;r++);Mt.splice(r,0,e),0===r&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Xe()),0===(6&Ol)&&(zl=Xe()+500,za()))}break;case 13:dc(function(){var t=Li(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Kc(e,1)}},jt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)rc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),r=Li(e,t);if(null!==r)rc(r,e,t,ec());Kc(e,t)}},Nt=function(){return bt},_t=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},je=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(i(90));G(n),Z(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Oe=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[ba,va,wa,Se,Ae,cc]},td={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(rd),it=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var r=!1,n="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,zn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Xc(t))throw Error(i(200));return Qc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,s="",o=Gc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=zc(t,null,e,1,null!=r?r:null,a,0,s,o),e[pa]=t.current,zn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new $c(t)},t.render=function(e,t,r){if(!Xc(t))throw Error(i(200));return Qc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xc(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Qc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var n=r(5193),a=r(2761),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(9096);e.exports=function(e,t){return e&&e.length?n(e,i(t,2),a):void 0}},2823:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=s(r(5043)),l=s(r(7950)),c=s(r(9853)),d=s(r(7680)),u=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,n,a){var i,s,o,l;"text-change"===e?null===(s=(i=r).onEditorChangeText)||void 0===s||s.call(i,r.editor.root.innerHTML,t,a,r.unprivilegedEditor):"selection-change"===e&&(null===(l=(o=r).onEditorChangeSelection)||void 0===l||l.call(o,t,a,r.unprivilegedEditor))};var n=r.isControlled()?t.value:t.defaultValue;return r.value=null!==n&&void 0!==n?n:"",r}return n(t,e),t.prototype.validateProps=function(e){var t;if(o.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(e.children)&&"textarea"===(null===(t=o.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,n=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var a=this.getEditorContents(),s=null!==(r=e.value)&&void 0!==r?r:"";this.isEqualValue(s,a)||this.setEditorContents(this.editor,s)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),i(this.cleanProps,this.dirtyProps).some(function(t){return!c.default(e[t],n.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(r){return!c.default(e[r],t.props[r])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,s=(n=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var o=this.editor;o.setContents(n),h(function(){return r.setEditorSelection(o,s)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var n=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),h(function(){return r.setEditorSelection(e,n)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,n;(null===(n=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===n?void 0:n.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,n=t.preserveWhitespace,i={key:this.state.generation,ref:function(t){e.editingArea=t}};return o.default.Children.count(r)?o.default.cloneElement(o.default.Children.only(r),i):n?o.default.createElement("pre",a({},i)):o.default.createElement("div",a({},i))},t.prototype.render=function(){var e;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,n){var a,i;if(this.editor){var s=this.isDelta(this.value)?n.getContents():n.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,null===(i=(a=this.props).onChange)||void 0===i||i.call(a,e,t,r,n))}},t.prototype.onEditorChangeSelection=function(e,t,r){var n,a,i,s,o,l;if(this.editor){var d=this.getEditorSelection(),u=!d&&e,h=d&&!e;c.default(e,d)||(this.selection=e,null===(a=(n=this.props).onChangeSelection)||void 0===a||a.call(n,e,t,r),u?null===(s=(i=this.props).onFocus)||void 0===s||s.call(i,e,t,r):h&&(null===(l=(o=this.props).onBlur)||void 0===l||l.call(o,d,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(o.default.Component);function h(e){Promise.resolve().then(e)}e.exports=u},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},2969:(e,t,r)=>{var n=r(5324),a=r(914);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[a(t[r++])];return r&&r==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},3204:(e,t,r)=>{var n=r(3343),a=r(2777),i=r(4052),s=r(4543),o=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),d=!r&&a(e),u=!r&&!d&&s(e),h=!r&&!d&&!u&&l(e),f=r||d||u||h,p=f?n(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,r)=>{var n=r(9676),a=r(929),i=r(7303);e.exports=function(e){return function(t,r,s){return s&&"number"!=typeof s&&a(t,r,s)&&(r=s=void 0),t=i(t),void 0===r?(r=t,t=0):r=i(r),s=void 0===s?t<r?1:-1:i(s),n(t,r,s,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},3366:(e,t,r)=>{var n=r(7894),a=r(9057);e.exports=function(e,t){return null!=e&&a(e,t,n)}},3411:(e,t,r)=>{var n=r(149),a=r(9096),i=r(8883),s=r(4052);e.exports=function(e,t){return(s(e)?n:i)(e,a(t,3))}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},3536:function(e,t,r){var n;e=r.nmd(e),function(){var a,i="Expected a function",s="__lodash_hash_undefined__",o="__lodash_placeholder__",l=16,c=32,d=64,u=128,h=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,x=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",d],["rearg",h]],y="[object Arguments]",b="[object Array]",v="[object Boolean]",w="[object Date]",j="[object Error]",k="[object Function]",N="[object GeneratorFunction]",_="[object Map]",S="[object Number]",A="[object Object]",O="[object Promise]",E="[object RegExp]",C="[object Set]",P="[object String]",T="[object Symbol]",M="[object WeakMap]",L="[object ArrayBuffer]",D="[object DataView]",R="[object Float32Array]",I="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",q="[object Uint8Array]",z="[object Uint8ClampedArray]",H="[object Uint16Array]",V="[object Uint32Array]",W=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,J=RegExp(Y.source),X=RegExp($.source),Z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(ae.source),se=/^\s+/,oe=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,je=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Ne="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ee="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",Te="["+Ne+"]",Me="["+Ce+"]",Le="["+_e+"]",De="\\d+",Re="["+Se+"]",Ie="["+Ae+"]",Fe="[^"+Ne+Ce+De+Se+Ae+Oe+"]",Be="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Ne+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Oe+"]",Ve="\\u200d",We="(?:"+Ie+"|"+Fe+")",Ke="(?:"+He+"|"+Fe+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+Le+"|"+Be+")"+"?",Je="["+Ee+"]?",Xe=Je+$e+("(?:"+Ve+"(?:"+[Ue,qe,ze].join("|")+")"+Je+$e+")*"),Ze="(?:"+[Re,qe,ze].join("|")+")"+Xe,Qe="(?:"+[Ue+Le+"?",Le,qe,ze,Te].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(Le,"g"),rt=RegExp(Be+"(?="+Be+")|"+Qe+Xe,"g"),nt=RegExp([He+"?"+Ie+"+"+Ge+"(?="+[Me,He,"$"].join("|")+")",Ke+"+"+Ye+"(?="+[Me,He+We,"$"].join("|")+")",He+"?"+We+"+"+Ge,He+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ze].join("|"),"g"),at=RegExp("["+Ve+Ne+_e+Ee+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,lt={};lt[R]=lt[I]=lt[F]=lt[B]=lt[U]=lt[q]=lt[z]=lt[H]=lt[V]=!0,lt[y]=lt[b]=lt[L]=lt[v]=lt[D]=lt[w]=lt[j]=lt[k]=lt[_]=lt[S]=lt[A]=lt[E]=lt[C]=lt[P]=lt[M]=!1;var ct={};ct[y]=ct[b]=ct[L]=ct[D]=ct[v]=ct[w]=ct[R]=ct[I]=ct[F]=ct[B]=ct[U]=ct[_]=ct[S]=ct[A]=ct[E]=ct[C]=ct[P]=ct[T]=ct[q]=ct[z]=ct[H]=ct[V]=!0,ct[j]=ct[k]=ct[M]=!1;var dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,ht=parseInt,ft="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),gt=t&&!t.nodeType&&t,xt=gt&&e&&!e.nodeType&&e,yt=xt&&xt.exports===gt,bt=yt&&ft.process,vt=function(){try{var e=xt&&xt.require&&xt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),wt=vt&&vt.isArrayBuffer,jt=vt&&vt.isDate,kt=vt&&vt.isMap,Nt=vt&&vt.isRegExp,_t=vt&&vt.isSet,St=vt&&vt.isTypedArray;function At(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ot(e,t,r,n){for(var a=-1,i=null==e?0:e.length;++a<i;){var s=e[a];t(n,s,r(s),e)}return n}function Et(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Ct(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Tt(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}function Mt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Lt(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function Dt(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function Rt(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function It(e,t,r,n){var a=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r}function Ft(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function Bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ut=Gt("length");function qt(e,t,r){var n;return r(e,function(e,r,a){if(t(e,r,a))return n=r,!1}),n}function zt(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function Ht(e,t,r){return t===t?function(e,t,r){var n=r-1,a=e.length;for(;++n<a;)if(e[n]===t)return n;return-1}(e,t,r):zt(e,Wt,r)}function Vt(e,t,r,n){for(var a=r-1,i=e.length;++a<i;)if(n(e[a],t))return a;return-1}function Wt(e){return e!==e}function Kt(e,t){var r=null==e?0:e.length;return r?Jt(e,t)/r:m}function Gt(e){return function(t){return null==t?a:t[e]}}function Yt(e){return function(t){return null==e?a:e[t]}}function $t(e,t,r,n,a){return a(e,function(e,a,i){r=n?(n=!1,e):t(r,e,a,i)}),r}function Jt(e,t){for(var r,n=-1,i=e.length;++n<i;){var s=t(e[n]);s!==a&&(r=r===a?s:r+s)}return r}function Xt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Zt(e){return e?e.slice(0,mr(e)+1).replace(se,""):e}function Qt(e){return function(t){return e(t)}}function er(e,t){return Dt(t,function(t){return e[t]})}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&Ht(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}var ar=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),ir=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sr(e){return"\\"+dt[e]}function or(e){return at.test(e)}function lr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function cr(e,t){return function(r){return e(t(r))}}function dr(e,t){for(var r=-1,n=e.length,a=0,i=[];++r<n;){var s=e[r];s!==t&&s!==o||(e[r]=o,i[a++]=r)}return i}function ur(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function hr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function fr(e){return or(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Ut(e)}function pr(e){return or(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function mr(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var gr=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var xr=function e(t){var r=(t=null==t?mt:xr.defaults(mt.Object(),t,xr.pick(mt,st))).Array,n=t.Date,oe=t.Error,Ne=t.Function,_e=t.Math,Se=t.Object,Ae=t.RegExp,Oe=t.String,Ee=t.TypeError,Ce=r.prototype,Pe=Ne.prototype,Te=Se.prototype,Me=t["__core-js_shared__"],Le=Pe.toString,De=Te.hasOwnProperty,Re=0,Ie=function(){var e=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Te.toString,Be=Le.call(Se),Ue=mt._,qe=Ae("^"+Le.call(De).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=yt?t.Buffer:a,He=t.Symbol,Ve=t.Uint8Array,We=ze?ze.allocUnsafe:a,Ke=cr(Se.getPrototypeOf,Se),Ge=Se.create,Ye=Te.propertyIsEnumerable,$e=Ce.splice,Je=He?He.isConcatSpreadable:a,Xe=He?He.iterator:a,Ze=He?He.toStringTag:a,Qe=function(){try{var e=ui(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,at=n&&n.now!==mt.Date.now&&n.now,dt=t.setTimeout!==mt.setTimeout&&t.setTimeout,ft=_e.ceil,pt=_e.floor,gt=Se.getOwnPropertySymbols,xt=ze?ze.isBuffer:a,bt=t.isFinite,vt=Ce.join,Ut=cr(Se.keys,Se),Yt=_e.max,yr=_e.min,br=n.now,vr=t.parseInt,wr=_e.random,jr=Ce.reverse,kr=ui(t,"DataView"),Nr=ui(t,"Map"),_r=ui(t,"Promise"),Sr=ui(t,"Set"),Ar=ui(t,"WeakMap"),Or=ui(Se,"create"),Er=Ar&&new Ar,Cr={},Pr=Ii(kr),Tr=Ii(Nr),Mr=Ii(_r),Lr=Ii(Sr),Dr=Ii(Ar),Rr=He?He.prototype:a,Ir=Rr?Rr.valueOf:a,Fr=Rr?Rr.toString:a;function Br(e){if(eo(e)&&!Hs(e)&&!(e instanceof Hr)){if(e instanceof zr)return e;if(De.call(e,"__wrapped__"))return Fi(e)}return new zr(e)}var Ur=function(){function e(){}return function(t){if(!Qs(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=a,r}}();function qr(){}function zr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Kr;++t<r;)this.add(e[t])}function Yr(e){var t=this.__data__=new Wr(e);this.size=t.size}function $r(e,t){var r=Hs(e),n=!r&&zs(e),a=!r&&!n&&Gs(e),i=!r&&!n&&!a&&lo(e),s=r||n||a||i,o=s?Xt(e.length,Oe):[],l=o.length;for(var c in e)!t&&!De.call(e,c)||s&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yi(c,l))||o.push(c);return o}function Jr(e){var t=e.length;return t?e[Yn(0,t-1)]:a}function Xr(e,t){return Li(Ea(e),on(t,0,e.length))}function Zr(e){return Li(Ea(e))}function Qr(e,t,r){(r!==a&&!Bs(e[t],r)||r===a&&!(t in e))&&an(e,t,r)}function en(e,t,r){var n=e[t];De.call(e,t)&&Bs(n,r)&&(r!==a||t in e)||an(e,t,r)}function tn(e,t){for(var r=e.length;r--;)if(Bs(e[r][0],t))return r;return-1}function rn(e,t,r,n){return hn(e,function(e,a,i){t(n,e,r(e),i)}),n}function nn(e,t){return e&&Ca(t,Po(t),e)}function an(e,t,r){"__proto__"==t&&Qe?Qe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var n=-1,i=t.length,s=r(i),o=null==e;++n<i;)s[n]=o?a:So(e,t[n]);return s}function on(e,t,r){return e===e&&(r!==a&&(e=e<=r?e:r),t!==a&&(e=e>=t?e:t)),e}function ln(e,t,r,n,i,s){var o,l=1&t,c=2&t,d=4&t;if(r&&(o=i?r(e,n,i,s):r(e)),o!==a)return o;if(!Qs(e))return e;var u=Hs(e);if(u){if(o=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!l)return Ea(e,o)}else{var h=pi(e),f=h==k||h==N;if(Gs(e))return ka(e,l);if(h==A||h==y||f&&!i){if(o=c||f?{}:gi(e),!l)return c?function(e,t){return Ca(e,fi(e),t)}(e,function(e,t){return e&&Ca(t,To(t),e)}(o,e)):function(e,t){return Ca(e,hi(e),t)}(e,nn(o,e))}else{if(!ct[h])return i?e:{};o=function(e,t,r){var n=e.constructor;switch(t){case L:return Na(e);case v:case w:return new n(+e);case D:return function(e,t){var r=t?Na(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case R:case I:case F:case B:case U:case q:case z:case H:case V:return _a(e,r);case _:return new n;case S:case P:return new n(e);case E:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new n;case T:return a=e,Ir?Se(Ir.call(a)):{}}var a}(e,h,l)}}s||(s=new Yr);var p=s.get(e);if(p)return p;s.set(e,o),io(e)?e.forEach(function(n){o.add(ln(n,t,r,n,e,s))}):to(e)&&e.forEach(function(n,a){o.set(a,ln(n,t,r,a,e,s))});var m=u?a:(d?c?ai:ni:c?To:Po)(e);return Et(m||e,function(n,a){m&&(n=e[a=n]),en(o,a,ln(n,t,r,a,e,s))}),o}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Se(e);n--;){var i=r[n],s=t[i],o=e[i];if(o===a&&!(i in e)||!s(o))return!1}return!0}function dn(e,t,r){if("function"!=typeof e)throw new Ee(i);return Ci(function(){e.apply(a,r)},t)}function un(e,t,r,n){var a=-1,i=Mt,s=!0,o=e.length,l=[],c=t.length;if(!o)return l;r&&(t=Dt(t,Qt(r))),n?(i=Lt,s=!1):t.length>=200&&(i=tr,s=!1,t=new Gr(t));e:for(;++a<o;){var d=e[a],u=null==r?d:r(d);if(d=n||0!==d?d:0,s&&u===u){for(var h=c;h--;)if(t[h]===u)continue e;l.push(d)}else i(t,u,n)||l.push(d)}return l}Br.templateSettings={escape:Z,evaluate:Q,interpolate:ee,variable:"",imports:{_:Br}},Br.prototype=qr.prototype,Br.prototype.constructor=Br,zr.prototype=Ur(qr.prototype),zr.prototype.constructor=zr,Hr.prototype=Ur(qr.prototype),Hr.prototype.constructor=Hr,Vr.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},Vr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vr.prototype.get=function(e){var t=this.__data__;if(Or){var r=t[e];return r===s?a:r}return De.call(t,e)?t[e]:a},Vr.prototype.has=function(e){var t=this.__data__;return Or?t[e]!==a:De.call(t,e)},Vr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Or&&t===a?s:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=tn(t,e);return!(r<0)&&(r==t.length-1?t.pop():$e.call(t,r,1),--this.size,!0)},Wr.prototype.get=function(e){var t=this.__data__,r=tn(t,e);return r<0?a:t[r][1]},Wr.prototype.has=function(e){return tn(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=tn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Kr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Nr||Wr),string:new Vr}},Kr.prototype.delete=function(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t},Kr.prototype.get=function(e){return ci(this,e).get(e)},Kr.prototype.has=function(e){return ci(this,e).has(e)},Kr.prototype.set=function(e,t){var r=ci(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Gr.prototype.add=Gr.prototype.push=function(e){return this.__data__.set(e,s),this},Gr.prototype.has=function(e){return this.__data__.has(e)},Yr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Yr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Yr.prototype.get=function(e){return this.__data__.get(e)},Yr.prototype.has=function(e){return this.__data__.has(e)},Yr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Nr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Kr(n)}return r.set(e,t),this.size=r.size,this};var hn=Ma(vn),fn=Ma(wn,!0);function pn(e,t){var r=!0;return hn(e,function(e,n,a){return r=!!t(e,n,a)}),r}function mn(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(null!=o&&(l===a?o===o&&!oo(o):r(o,l)))var l=o,c=s}return c}function gn(e,t){var r=[];return hn(e,function(e,n,a){t(e,n,a)&&r.push(e)}),r}function xn(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=xi),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?xn(o,t-1,r,n,a):Rt(a,o):n||(a[a.length]=o)}return a}var yn=La(),bn=La(!0);function vn(e,t){return e&&yn(e,t,Po)}function wn(e,t){return e&&bn(e,t,Po)}function jn(e,t){return Tt(t,function(t){return Js(e[t])})}function kn(e,t){for(var r=0,n=(t=ba(t,e)).length;null!=e&&r<n;)e=e[Ri(t[r++])];return r&&r==n?e:a}function Nn(e,t,r){var n=t(e);return Hs(e)?n:Rt(n,r(e))}function _n(e){return null==e?e===a?"[object Undefined]":"[object Null]":Ze&&Ze in Se(e)?function(e){var t=De.call(e,Ze),r=e[Ze];try{e[Ze]=a;var n=!0}catch(s){}var i=Fe.call(e);n&&(t?e[Ze]=r:delete e[Ze]);return i}(e):function(e){return Fe.call(e)}(e)}function Sn(e,t){return e>t}function An(e,t){return null!=e&&De.call(e,t)}function On(e,t){return null!=e&&t in Se(e)}function En(e,t,n){for(var i=n?Lt:Mt,s=e[0].length,o=e.length,l=o,c=r(o),d=1/0,u=[];l--;){var h=e[l];l&&t&&(h=Dt(h,Qt(t))),d=yr(h.length,d),c[l]=!n&&(t||s>=120&&h.length>=120)?new Gr(l&&h):a}h=e[0];var f=-1,p=c[0];e:for(;++f<s&&u.length<d;){var m=h[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?tr(p,g):i(u,g,n))){for(l=o;--l;){var x=c[l];if(!(x?tr(x,g):i(e[l],g,n)))continue e}p&&p.push(g),u.push(m)}}return u}function Cn(e,t,r){var n=null==(e=Ai(e,t=ba(t,e)))?e:e[Ri($i(t))];return null==n?a:At(n,e,r)}function Pn(e){return eo(e)&&_n(e)==y}function Tn(e,t,r,n,i){return e===t||(null==e||null==t||!eo(e)&&!eo(t)?e!==e&&t!==t:function(e,t,r,n,i,s){var o=Hs(e),l=Hs(t),c=o?b:pi(e),d=l?b:pi(t),u=(c=c==y?A:c)==A,h=(d=d==y?A:d)==A,f=c==d;if(f&&Gs(e)){if(!Gs(t))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new Yr),o||lo(e)?ti(e,t,r,n,i,s):function(e,t,r,n,a,i,s){switch(r){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case v:case w:case S:return Bs(+e,+t);case j:return e.name==t.name&&e.message==t.message;case E:case P:return e==t+"";case _:var o=lr;case C:var l=1&n;if(o||(o=ur),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=2,s.set(e,t);var d=ti(o(e),o(t),n,a,i,s);return s.delete(e),d;case T:if(Ir)return Ir.call(e)==Ir.call(t)}return!1}(e,t,c,r,n,i,s);if(!(1&r)){var p=u&&De.call(e,"__wrapped__"),m=h&&De.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,x=m?t.value():t;return s||(s=new Yr),i(g,x,r,n,s)}}if(!f)return!1;return s||(s=new Yr),function(e,t,r,n,i,s){var o=1&r,l=ni(e),c=l.length,d=ni(t),u=d.length;if(c!=u&&!o)return!1;var h=c;for(;h--;){var f=l[h];if(!(o?f in t:De.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var x=o;for(;++h<c;){var y=e[f=l[h]],b=t[f];if(n)var v=o?n(b,y,f,t,e,s):n(y,b,f,e,t,s);if(!(v===a?y===b||i(y,b,r,n,s):v)){g=!1;break}x||(x="constructor"==f)}if(g&&!x){var w=e.constructor,j=t.constructor;w==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof j&&j instanceof j||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,r,n,i,s)}(e,t,r,n,Tn,i))}function Mn(e,t,r,n){var i=r.length,s=i,o=!n;if(null==e)return!s;for(e=Se(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var c=(l=r[i])[0],d=e[c],u=l[1];if(o&&l[2]){if(d===a&&!(c in e))return!1}else{var h=new Yr;if(n)var f=n(d,u,c,e,t,h);if(!(f===a?Tn(u,d,3,n,h):f))return!1}}return!0}function Ln(e){return!(!Qs(e)||(t=e,Ie&&Ie in t))&&(Js(e)?qe:ye).test(Ii(e));var t}function Dn(e){return"function"==typeof e?e:null==e?nl:"object"==typeof e?Hs(e)?qn(e[0],e[1]):Un(e):hl(e)}function Rn(e){if(!ki(e))return Ut(e);var t=[];for(var r in Se(e))De.call(e,r)&&"constructor"!=r&&t.push(r);return t}function In(e){if(!Qs(e))return function(e){var t=[];if(null!=e)for(var r in Se(e))t.push(r);return t}(e);var t=ki(e),r=[];for(var n in e)("constructor"!=n||!t&&De.call(e,n))&&r.push(n);return r}function Fn(e,t){return e<t}function Bn(e,t){var n=-1,a=Ws(e)?r(e.length):[];return hn(e,function(e,r,i){a[++n]=t(e,r,i)}),a}function Un(e){var t=di(e);return 1==t.length&&t[0][2]?_i(t[0][0],t[0][1]):function(r){return r===e||Mn(r,e,t)}}function qn(e,t){return vi(e)&&Ni(t)?_i(Ri(e),t):function(r){var n=So(r,e);return n===a&&n===t?Ao(r,e):Tn(t,n,3)}}function zn(e,t,r,n,i){e!==t&&yn(t,function(s,o){if(i||(i=new Yr),Qs(s))!function(e,t,r,n,i,s,o){var l=Oi(e,r),c=Oi(t,r),d=o.get(c);if(d)return void Qr(e,r,d);var u=s?s(l,c,r+"",e,t,o):a,h=u===a;if(h){var f=Hs(c),p=!f&&Gs(c),m=!f&&!p&&lo(c);u=c,f||p||m?Hs(l)?u=l:Ks(l)?u=Ea(l):p?(h=!1,u=ka(c,!0)):m?(h=!1,u=_a(c,!0)):u=[]:no(c)||zs(c)?(u=l,zs(l)?u=xo(l):Qs(l)&&!Js(l)||(u=gi(c))):h=!1}h&&(o.set(c,u),i(u,c,n,s,o),o.delete(c));Qr(e,r,u)}(e,t,o,r,zn,n,i);else{var l=n?n(Oi(e,o),s,o+"",e,t,i):a;l===a&&(l=s),Qr(e,o,l)}},To)}function Hn(e,t){var r=e.length;if(r)return yi(t+=t<0?r:0,r)?e[t]:a}function Vn(e,t,r){t=t.length?Dt(t,function(e){return Hs(e)?function(t){return kn(t,1===e.length?e[0]:e)}:e}):[nl];var n=-1;t=Dt(t,Qt(li()));var a=Bn(e,function(e,r,a){var i=Dt(t,function(t){return t(e)});return{criteria:i,index:++n,value:e}});return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(a,function(e,t){return function(e,t,r){var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;for(;++n<s;){var l=Sa(a[n],i[n]);if(l)return n>=o?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)})}function Wn(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var s=t[n],o=kn(e,s);r(o,s)&&Qn(i,ba(s,e),o)}return i}function Kn(e,t,r,n){var a=n?Vt:Ht,i=-1,s=t.length,o=e;for(e===t&&(t=Ea(t)),r&&(o=Dt(e,Qt(r)));++i<s;)for(var l=0,c=t[i],d=r?r(c):c;(l=a(o,d,l,n))>-1;)o!==e&&$e.call(o,l,1),$e.call(e,l,1);return e}function Gn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==i){var i=a;yi(a)?$e.call(e,a,1):ua(e,a)}}return e}function Yn(e,t){return e+pt(wr()*(t-e+1))}function $n(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=pt(t/2))&&(e+=e)}while(t);return r}function Jn(e,t){return Pi(Si(e,t,nl),e+"")}function Xn(e){return Jr(Uo(e))}function Zn(e,t){var r=Uo(e);return Li(r,on(t,0,r.length))}function Qn(e,t,r,n){if(!Qs(e))return e;for(var i=-1,s=(t=ba(t,e)).length,o=s-1,l=e;null!=l&&++i<s;){var c=Ri(t[i]),d=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=o){var u=l[c];(d=n?n(u,c,l):a)===a&&(d=Qs(u)?u:yi(t[i+1])?[]:{})}en(l,c,d),l=l[c]}return e}var ea=Er?function(e,t){return Er.set(e,t),e}:nl,ta=Qe?function(e,t){return Qe(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:nl;function ra(e){return Li(Uo(e))}function na(e,t,n){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=r(i);++a<i;)s[a]=e[a+t];return s}function aa(e,t){var r;return hn(e,function(e,n,a){return!(r=t(e,n,a))}),!!r}function ia(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;n<a;){var i=n+a>>>1,s=e[i];null!==s&&!oo(s)&&(r?s<=t:s<t)?n=i+1:a=i}return a}return sa(e,t,nl,r)}function sa(e,t,r,n){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=r(t))!==t,l=null===t,c=oo(t),d=t===a;i<s;){var u=pt((i+s)/2),h=r(e[u]),f=h!==a,p=null===h,m=h===h,g=oo(h);if(o)var x=n||m;else x=d?m&&(n||f):l?m&&f&&(n||!p):c?m&&f&&!p&&(n||!g):!p&&!g&&(n?h<=t:h<t);x?i=u+1:s=u}return yr(s,4294967294)}function oa(e,t){for(var r=-1,n=e.length,a=0,i=[];++r<n;){var s=e[r],o=t?t(s):s;if(!r||!Bs(o,l)){var l=o;i[a++]=0===s?0:s}}return i}function la(e){return"number"==typeof e?e:oo(e)?m:+e}function ca(e){if("string"==typeof e)return e;if(Hs(e))return Dt(e,ca)+"";if(oo(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function da(e,t,r){var n=-1,a=Mt,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=Lt;else if(i>=200){var c=t?null:$a(e);if(c)return ur(c);s=!1,a=tr,l=new Gr}else l=t?[]:o;e:for(;++n<i;){var d=e[n],u=t?t(d):d;if(d=r||0!==d?d:0,s&&u===u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),o.push(d)}else a(l,u,r)||(l!==o&&l.push(u),o.push(d))}return o}function ua(e,t){return null==(e=Ai(e,t=ba(t,e)))||delete e[Ri($i(t))]}function ha(e,t,r,n){return Qn(e,t,r(kn(e,t)),n)}function fa(e,t,r,n){for(var a=e.length,i=n?a:-1;(n?i--:++i<a)&&t(e[i],i,e););return r?na(e,n?0:i,n?i+1:a):na(e,n?i+1:0,n?a:i)}function pa(e,t){var r=e;return r instanceof Hr&&(r=r.value()),It(t,function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))},r)}function ma(e,t,n){var a=e.length;if(a<2)return a?da(e[0]):[];for(var i=-1,s=r(a);++i<a;)for(var o=e[i],l=-1;++l<a;)l!=i&&(s[i]=un(s[i]||o,e[l],t,n));return da(xn(s,1),t,n)}function ga(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var l=n<s?t[n]:a;r(o,e[n],l)}return o}function xa(e){return Ks(e)?e:[]}function ya(e){return"function"==typeof e?e:nl}function ba(e,t){return Hs(e)?e:vi(e,t)?[e]:Di(yo(e))}var va=Jn;function wa(e,t,r){var n=e.length;return r=r===a?n:r,!t&&r>=n?e:na(e,t,r)}var ja=rt||function(e){return mt.clearTimeout(e)};function ka(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function Na(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function _a(e,t){var r=t?Na(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Sa(e,t){if(e!==t){var r=e!==a,n=null===e,i=e===e,s=oo(e),o=t!==a,l=null===t,c=t===t,d=oo(t);if(!l&&!d&&!s&&e>t||s&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!d&&e<t||d&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}function Aa(e,t,n,a){for(var i=-1,s=e.length,o=n.length,l=-1,c=t.length,d=Yt(s-o,0),u=r(c+d),h=!a;++l<c;)u[l]=t[l];for(;++i<o;)(h||i<s)&&(u[n[i]]=e[i]);for(;d--;)u[l++]=e[i++];return u}function Oa(e,t,n,a){for(var i=-1,s=e.length,o=-1,l=n.length,c=-1,d=t.length,u=Yt(s-l,0),h=r(u+d),f=!a;++i<u;)h[i]=e[i];for(var p=i;++c<d;)h[p+c]=t[c];for(;++o<l;)(f||i<s)&&(h[p+n[o]]=e[i++]);return h}function Ea(e,t){var n=-1,a=e.length;for(t||(t=r(a));++n<a;)t[n]=e[n];return t}function Ca(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var l=t[s],c=n?n(r[l],e[l],l,r,e):a;c===a&&(c=e[l]),i?an(r,l,c):en(r,l,c)}return r}function Pa(e,t){return function(r,n){var a=Hs(r)?Ot:rn,i=t?t():{};return a(r,e,li(n,2),i)}}function Ta(e){return Jn(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:a,o=i>2?r[2]:a;for(s=e.length>3&&"function"==typeof s?(i--,s):a,o&&bi(r[0],r[1],o)&&(s=i<3?a:s,i=1),t=Se(t);++n<i;){var l=r[n];l&&e(t,l,n,s)}return t})}function Ma(e,t){return function(r,n){if(null==r)return r;if(!Ws(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Se(r);(t?i--:++i<a)&&!1!==n(s[i],i,s););return r}}function La(e){return function(t,r,n){for(var a=-1,i=Se(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(!1===r(i[l],l,i))break}return t}}function Da(e){return function(t){var r=or(t=yo(t))?pr(t):a,n=r?r[0]:t.charAt(0),i=r?wa(r,1).join(""):t.slice(1);return n[e]()+i}}function Ra(e){return function(t){return It(Xo(Ho(t).replace(et,"")),e,"")}}function Ia(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Ur(e.prototype),n=e.apply(r,t);return Qs(n)?n:r}}function Fa(e){return function(t,r,n){var i=Se(t);if(!Ws(t)){var s=li(r,3);t=Po(t),r=function(e){return s(i[e],e,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:a}}function Ba(e){return ri(function(t){var r=t.length,n=r,s=zr.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new Ee(i);if(s&&!l&&"wrapper"==si(o))var l=new zr([],!0)}for(n=l?n:r;++n<r;){var c=si(o=t[n]),d="wrapper"==c?ii(o):a;l=d&&wi(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[si(d[0])].apply(l,d[3]):1==o.length&&wi(o)?l[c]():l.thru(o)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Hs(n))return l.plant(n).value();for(var a=0,i=r?t[a].apply(this,e):n;++a<r;)i=t[a].call(this,i);return i}})}function Ua(e,t,n,i,s,o,l,c,d,h){var f=t&u,p=1&t,m=2&t,g=24&t,x=512&t,y=m?a:Ia(e);return function u(){for(var b=arguments.length,v=r(b),w=b;w--;)v[w]=arguments[w];if(g)var j=oi(u),k=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(v,j);if(i&&(v=Aa(v,i,s,g)),o&&(v=Oa(v,o,l,g)),b-=k,g&&b<h){var N=dr(v,j);return Ga(e,t,Ua,u.placeholder,n,v,N,c,d,h-b)}var _=p?n:this,S=m?_[e]:e;return b=v.length,c?v=function(e,t){var r=e.length,n=yr(t.length,r),i=Ea(e);for(;n--;){var s=t[n];e[n]=yi(s,r)?i[s]:a}return e}(v,c):x&&b>1&&v.reverse(),f&&d<b&&(v.length=d),this&&this!==mt&&this instanceof u&&(S=y||Ia(S)),S.apply(_,v)}}function qa(e,t){return function(r,n){return function(e,t,r,n){return vn(e,function(e,a,i){t(n,r(e),a,i)}),n}(r,e,t(n),{})}}function za(e,t){return function(r,n){var i;if(r===a&&n===a)return t;if(r!==a&&(i=r),n!==a){if(i===a)return n;"string"==typeof r||"string"==typeof n?(r=ca(r),n=ca(n)):(r=la(r),n=la(n)),i=e(r,n)}return i}}function Ha(e){return ri(function(t){return t=Dt(t,Qt(li())),Jn(function(r){var n=this;return e(t,function(e){return At(e,n,r)})})})}function Va(e,t){var r=(t=t===a?" ":ca(t)).length;if(r<2)return r?$n(t,e):t;var n=$n(t,ft(e/fr(t)));return or(t)?wa(pr(n),0,e).join(""):n.slice(0,e)}function Wa(e){return function(t,n,i){return i&&"number"!=typeof i&&bi(t,n,i)&&(n=i=a),t=fo(t),n===a?(n=t,t=0):n=fo(n),function(e,t,n,a){for(var i=-1,s=Yt(ft((t-e)/(n||1)),0),o=r(s);s--;)o[a?s:++i]=e,e+=n;return o}(t,n,i=i===a?t<n?1:-1:fo(i),e)}}function Ka(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=go(t),r=go(r)),e(t,r)}}function Ga(e,t,r,n,i,s,o,l,u,h){var f=8&t;t|=f?c:d,4&(t&=~(f?d:c))||(t&=-4);var p=[e,t,i,f?s:a,f?o:a,f?a:s,f?a:o,l,u,h],m=r.apply(a,p);return wi(e)&&Ei(m,p),m.placeholder=n,Ti(m,e,t)}function Ya(e){var t=_e[e];return function(e,r){if(e=go(e),(r=null==r?0:yr(po(r),292))&&bt(e)){var n=(yo(e)+"e").split("e");return+((n=(yo(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var $a=Sr&&1/ur(new Sr([,-0]))[1]==f?function(e){return new Sr(e)}:ll;function Ja(e){return function(t){var r=pi(t);return r==_?lr(t):r==C?hr(t):function(e,t){return Dt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Xa(e,t,n,s,f,p,m,g){var x=2&t;if(!x&&"function"!=typeof e)throw new Ee(i);var y=s?s.length:0;if(y||(t&=-97,s=f=a),m=m===a?m:Yt(po(m),0),g=g===a?g:po(g),y-=f?f.length:0,t&d){var b=s,v=f;s=f=a}var w=x?a:ii(e),j=[e,t,n,s,f,b,v,p,m,g];if(w&&function(e,t){var r=e[1],n=t[1],a=r|n,i=a<131,s=n==u&&8==r||n==u&&r==h&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!i&&!s)return e;1&n&&(e[2]=t[2],a|=1&r?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Aa(c,l,t[4]):l,e[4]=c?dr(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Oa(c,l,t[6]):l,e[6]=c?dr(e[5],o):t[6]);(l=t[7])&&(e[7]=l);n&u&&(e[8]=null==e[8]?t[8]:yr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(j,w),e=j[0],t=j[1],n=j[2],s=j[3],f=j[4],!(g=j[9]=j[9]===a?x?0:e.length:Yt(j[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==l?function(e,t,n){var i=Ia(e);return function s(){for(var o=arguments.length,l=r(o),c=o,d=oi(s);c--;)l[c]=arguments[c];var u=o<3&&l[0]!==d&&l[o-1]!==d?[]:dr(l,d);return(o-=u.length)<n?Ga(e,t,Ua,s.placeholder,a,l,u,a,a,n-o):At(this&&this!==mt&&this instanceof s?i:e,this,l)}}(e,t,g):t!=c&&33!=t||f.length?Ua.apply(a,j):function(e,t,n,a){var i=1&t,s=Ia(e);return function t(){for(var o=-1,l=arguments.length,c=-1,d=a.length,u=r(d+l),h=this&&this!==mt&&this instanceof t?s:e;++c<d;)u[c]=a[c];for(;l--;)u[c++]=arguments[++o];return At(h,i?n:this,u)}}(e,t,n,s);else var k=function(e,t,r){var n=1&t,a=Ia(e);return function t(){return(this&&this!==mt&&this instanceof t?a:e).apply(n?r:this,arguments)}}(e,t,n);return Ti((w?ea:Ei)(k,j),e,t)}function Za(e,t,r,n){return e===a||Bs(e,Te[r])&&!De.call(n,r)?t:e}function Qa(e,t,r,n,i,s){return Qs(e)&&Qs(t)&&(s.set(t,e),zn(e,t,a,Qa,s),s.delete(t)),e}function ei(e){return no(e)?a:e}function ti(e,t,r,n,i,s){var o=1&r,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=s.get(e),u=s.get(t);if(d&&u)return d==t&&u==e;var h=-1,f=!0,p=2&r?new Gr:a;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(n)var x=o?n(g,m,h,t,e,s):n(m,g,h,e,t,s);if(x!==a){if(x)continue;f=!1;break}if(p){if(!Bt(t,function(e,t){if(!tr(p,t)&&(m===e||i(m,e,r,n,s)))return p.push(t)})){f=!1;break}}else if(m!==g&&!i(m,g,r,n,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function ri(e){return Pi(Si(e,a,Vi),e+"")}function ni(e){return Nn(e,Po,hi)}function ai(e){return Nn(e,To,fi)}var ii=Er?function(e){return Er.get(e)}:ll;function si(e){for(var t=e.name+"",r=Cr[t],n=De.call(Cr,t)?r.length:0;n--;){var a=r[n],i=a.func;if(null==i||i==e)return a.name}return t}function oi(e){return(De.call(Br,"placeholder")?Br:e).placeholder}function li(){var e=Br.iteratee||al;return e=e===al?Dn:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function di(e){for(var t=Po(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Ni(a)]}return t}function ui(e,t){var r=function(e,t){return null==e?a:e[t]}(e,t);return Ln(r)?r:a}var hi=gt?function(e){return null==e?[]:(e=Se(e),Tt(gt(e),function(t){return Ye.call(e,t)}))}:ml,fi=gt?function(e){for(var t=[];e;)Rt(t,hi(e)),e=Ke(e);return t}:ml,pi=_n;function mi(e,t,r){for(var n=-1,a=(t=ba(t,e)).length,i=!1;++n<a;){var s=Ri(t[n]);if(!(i=null!=e&&r(e,s)))break;e=e[s]}return i||++n!=a?i:!!(a=null==e?0:e.length)&&Zs(a)&&yi(s,a)&&(Hs(e)||zs(e))}function gi(e){return"function"!=typeof e.constructor||ki(e)?{}:Ur(Ke(e))}function xi(e){return Hs(e)||zs(e)||!!(Je&&e&&e[Je])}function yi(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,r){if(!Qs(r))return!1;var n=typeof t;return!!("number"==n?Ws(r)&&yi(t,r.length):"string"==n&&t in r)&&Bs(r[t],e)}function vi(e,t){if(Hs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!oo(e))||(re.test(e)||!te.test(e)||null!=t&&e in Se(t))}function wi(e){var t=si(e),r=Br[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=ii(r);return!!n&&e===n[0]}(kr&&pi(new kr(new ArrayBuffer(1)))!=D||Nr&&pi(new Nr)!=_||_r&&pi(_r.resolve())!=O||Sr&&pi(new Sr)!=C||Ar&&pi(new Ar)!=M)&&(pi=function(e){var t=_n(e),r=t==A?e.constructor:a,n=r?Ii(r):"";if(n)switch(n){case Pr:return D;case Tr:return _;case Mr:return O;case Lr:return C;case Dr:return M}return t});var ji=Me?Js:gl;function ki(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function Ni(e){return e===e&&!Qs(e)}function _i(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==a||e in Se(r)))}}function Si(e,t,n){return t=Yt(t===a?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=Yt(a.length-t,0),o=r(s);++i<s;)o[i]=a[t+i];i=-1;for(var l=r(t+1);++i<t;)l[i]=a[i];return l[t]=n(o),At(e,this,l)}}function Ai(e,t){return t.length<2?e:kn(e,na(t,0,-1))}function Oi(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ei=Mi(ea),Ci=dt||function(e,t){return mt.setTimeout(e,t)},Pi=Mi(ta);function Ti(e,t,r){var n=t+"";return Pi(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Et(x,function(r){var n="_."+r[0];t&r[1]&&!Mt(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(de):[]}(n),r)))}function Mi(e){var t=0,r=0;return function(){var n=br(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function Li(e,t){var r=-1,n=e.length,i=n-1;for(t=t===a?n:t;++r<t;){var s=Yn(r,i),o=e[s];e[s]=e[r],e[r]=o}return e.length=t,e}var Di=function(e){var t=Ms(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,function(e,r,n,a){t.push(n?a.replace(fe,"$1"):r||e)}),t});function Ri(e){if("string"==typeof e||oo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ii(e){if(null!=e){try{return Le.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fi(e){if(e instanceof Hr)return e.clone();var t=new zr(e.__wrapped__,e.__chain__);return t.__actions__=Ea(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bi=Jn(function(e,t){return Ks(e)?un(e,xn(t,1,Ks,!0)):[]}),Ui=Jn(function(e,t){var r=$i(t);return Ks(r)&&(r=a),Ks(e)?un(e,xn(t,1,Ks,!0),li(r,2)):[]}),qi=Jn(function(e,t){var r=$i(t);return Ks(r)&&(r=a),Ks(e)?un(e,xn(t,1,Ks,!0),a,r):[]});function zi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:po(r);return a<0&&(a=Yt(n+a,0)),zt(e,li(t,3),a)}function Hi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==a&&(i=po(r),i=r<0?Yt(n+i,0):yr(i,n-1)),zt(e,li(t,3),i,!0)}function Vi(e){return(null==e?0:e.length)?xn(e,1):[]}function Wi(e){return e&&e.length?e[0]:a}var Ki=Jn(function(e){var t=Dt(e,xa);return t.length&&t[0]===e[0]?En(t):[]}),Gi=Jn(function(e){var t=$i(e),r=Dt(e,xa);return t===$i(r)?t=a:r.pop(),r.length&&r[0]===e[0]?En(r,li(t,2)):[]}),Yi=Jn(function(e){var t=$i(e),r=Dt(e,xa);return(t="function"==typeof t?t:a)&&r.pop(),r.length&&r[0]===e[0]?En(r,a,t):[]});function $i(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Ji=Jn(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Kn(e,t):e}var Zi=ri(function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Gn(e,Dt(t,function(e){return yi(e,r)?+e:e}).sort(Sa)),n});function Qi(e){return null==e?e:jr.call(e)}var es=Jn(function(e){return da(xn(e,1,Ks,!0))}),ts=Jn(function(e){var t=$i(e);return Ks(t)&&(t=a),da(xn(e,1,Ks,!0),li(t,2))}),rs=Jn(function(e){var t=$i(e);return t="function"==typeof t?t:a,da(xn(e,1,Ks,!0),a,t)});function ns(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,function(e){if(Ks(e))return t=Yt(e.length,t),!0}),Xt(t,function(t){return Dt(e,Gt(t))})}function as(e,t){if(!e||!e.length)return[];var r=ns(e);return null==t?r:Dt(r,function(e){return At(t,a,e)})}var is=Jn(function(e,t){return Ks(e)?un(e,t):[]}),ss=Jn(function(e){return ma(Tt(e,Ks))}),os=Jn(function(e){var t=$i(e);return Ks(t)&&(t=a),ma(Tt(e,Ks),li(t,2))}),ls=Jn(function(e){var t=$i(e);return t="function"==typeof t?t:a,ma(Tt(e,Ks),a,t)}),cs=Jn(ns);var ds=Jn(function(e){var t=e.length,r=t>1?e[t-1]:a;return r="function"==typeof r?(e.pop(),r):a,as(e,r)});function us(e){var t=Br(e);return t.__chain__=!0,t}function hs(e,t){return t(e)}var fs=ri(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Hr&&yi(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:hs,args:[i],thisArg:a}),new zr(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(a),e})):this.thru(i)});var ps=Pa(function(e,t,r){De.call(e,r)?++e[r]:an(e,r,1)});var ms=Fa(zi),gs=Fa(Hi);function xs(e,t){return(Hs(e)?Et:hn)(e,li(t,3))}function ys(e,t){return(Hs(e)?Ct:fn)(e,li(t,3))}var bs=Pa(function(e,t,r){De.call(e,r)?e[r].push(t):an(e,r,[t])});var vs=Jn(function(e,t,n){var a=-1,i="function"==typeof t,s=Ws(e)?r(e.length):[];return hn(e,function(e){s[++a]=i?At(t,e,n):Cn(e,t,n)}),s}),ws=Pa(function(e,t,r){an(e,r,t)});function js(e,t){return(Hs(e)?Dt:Bn)(e,li(t,3))}var ks=Pa(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var Ns=Jn(function(e,t){if(null==e)return[];var r=t.length;return r>1&&bi(e,t[0],t[1])?t=[]:r>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),Vn(e,xn(t,1),[])}),_s=at||function(){return mt.Date.now()};function Ss(e,t,r){return t=r?a:t,t=e&&null==t?e.length:t,Xa(e,u,a,a,a,a,t)}function As(e,t){var r;if("function"!=typeof t)throw new Ee(i);return e=po(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=a),r}}var Os=Jn(function(e,t,r){var n=1;if(r.length){var a=dr(r,oi(Os));n|=c}return Xa(e,n,t,r,a)}),Es=Jn(function(e,t,r){var n=3;if(r.length){var a=dr(r,oi(Es));n|=c}return Xa(t,n,e,r,a)});function Cs(e,t,r){var n,s,o,l,c,d,u=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ee(i);function m(t){var r=n,i=s;return n=s=a,u=t,l=e.apply(i,r)}function g(e){var r=e-d;return d===a||r>=t||r<0||f&&e-u>=o}function x(){var e=_s();if(g(e))return y(e);c=Ci(x,function(e){var r=t-(e-d);return f?yr(r,o-(e-u)):r}(e))}function y(e){return c=a,p&&n?m(e):(n=s=a,l)}function b(){var e=_s(),r=g(e);if(n=arguments,s=this,d=e,r){if(c===a)return function(e){return u=e,c=Ci(x,t),h?m(e):l}(d);if(f)return ja(c),c=Ci(x,t),m(d)}return c===a&&(c=Ci(x,t)),l}return t=go(t)||0,Qs(r)&&(h=!!r.leading,o=(f="maxWait"in r)?Yt(go(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),b.cancel=function(){c!==a&&ja(c),u=0,n=d=s=c=a},b.flush=function(){return c===a?l:y(_s())},b}var Ps=Jn(function(e,t){return dn(e,1,t)}),Ts=Jn(function(e,t,r){return dn(e,go(t)||0,r)});function Ms(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ee(i);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(Ms.Cache||Kr),r}function Ls(e){if("function"!=typeof e)throw new Ee(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ms.Cache=Kr;var Ds=va(function(e,t){var r=(t=1==t.length&&Hs(t[0])?Dt(t[0],Qt(li())):Dt(xn(t,1),Qt(li()))).length;return Jn(function(n){for(var a=-1,i=yr(n.length,r);++a<i;)n[a]=t[a].call(this,n[a]);return At(e,this,n)})}),Rs=Jn(function(e,t){var r=dr(t,oi(Rs));return Xa(e,c,a,t,r)}),Is=Jn(function(e,t){var r=dr(t,oi(Is));return Xa(e,d,a,t,r)}),Fs=ri(function(e,t){return Xa(e,h,a,a,a,t)});function Bs(e,t){return e===t||e!==e&&t!==t}var Us=Ka(Sn),qs=Ka(function(e,t){return e>=t}),zs=Pn(function(){return arguments}())?Pn:function(e){return eo(e)&&De.call(e,"callee")&&!Ye.call(e,"callee")},Hs=r.isArray,Vs=wt?Qt(wt):function(e){return eo(e)&&_n(e)==L};function Ws(e){return null!=e&&Zs(e.length)&&!Js(e)}function Ks(e){return eo(e)&&Ws(e)}var Gs=xt||gl,Ys=jt?Qt(jt):function(e){return eo(e)&&_n(e)==w};function $s(e){if(!eo(e))return!1;var t=_n(e);return t==j||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!no(e)}function Js(e){if(!Qs(e))return!1;var t=_n(e);return t==k||t==N||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==po(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function Qs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eo(e){return null!=e&&"object"==typeof e}var to=kt?Qt(kt):function(e){return eo(e)&&pi(e)==_};function ro(e){return"number"==typeof e||eo(e)&&_n(e)==S}function no(e){if(!eo(e)||_n(e)!=A)return!1;var t=Ke(e);if(null===t)return!0;var r=De.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Le.call(r)==Be}var ao=Nt?Qt(Nt):function(e){return eo(e)&&_n(e)==E};var io=_t?Qt(_t):function(e){return eo(e)&&pi(e)==C};function so(e){return"string"==typeof e||!Hs(e)&&eo(e)&&_n(e)==P}function oo(e){return"symbol"==typeof e||eo(e)&&_n(e)==T}var lo=St?Qt(St):function(e){return eo(e)&&Zs(e.length)&&!!lt[_n(e)]};var co=Ka(Fn),uo=Ka(function(e,t){return e<=t});function ho(e){if(!e)return[];if(Ws(e))return so(e)?pr(e):Ea(e);if(Xe&&e[Xe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Xe]());var t=pi(e);return(t==_?lr:t==C?ur:Uo)(e)}function fo(e){return e?(e=go(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function po(e){var t=fo(e),r=t%1;return t===t?r?t-r:t:0}function mo(e){return e?on(po(e),0,g):0}function go(e){if("number"==typeof e)return e;if(oo(e))return m;if(Qs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var r=xe.test(e);return r||be.test(e)?ht(e.slice(2),r?2:8):ge.test(e)?m:+e}function xo(e){return Ca(e,To(e))}function yo(e){return null==e?"":ca(e)}var bo=Ta(function(e,t){if(ki(t)||Ws(t))Ca(t,Po(t),e);else for(var r in t)De.call(t,r)&&en(e,r,t[r])}),vo=Ta(function(e,t){Ca(t,To(t),e)}),wo=Ta(function(e,t,r,n){Ca(t,To(t),e,n)}),jo=Ta(function(e,t,r,n){Ca(t,Po(t),e,n)}),ko=ri(sn);var No=Jn(function(e,t){e=Se(e);var r=-1,n=t.length,i=n>2?t[2]:a;for(i&&bi(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],o=To(s),l=-1,c=o.length;++l<c;){var d=o[l],u=e[d];(u===a||Bs(u,Te[d])&&!De.call(e,d))&&(e[d]=s[d])}return e}),_o=Jn(function(e){return e.push(a,Qa),At(Lo,a,e)});function So(e,t,r){var n=null==e?a:kn(e,t);return n===a?r:n}function Ao(e,t){return null!=e&&mi(e,t,On)}var Oo=qa(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r},el(nl)),Eo=qa(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),De.call(e,t)?e[t].push(r):e[t]=[r]},li),Co=Jn(Cn);function Po(e){return Ws(e)?$r(e):Rn(e)}function To(e){return Ws(e)?$r(e,!0):In(e)}var Mo=Ta(function(e,t,r){zn(e,t,r)}),Lo=Ta(function(e,t,r,n){zn(e,t,r,n)}),Do=ri(function(e,t){var r={};if(null==e)return r;var n=!1;t=Dt(t,function(t){return t=ba(t,e),n||(n=t.length>1),t}),Ca(e,ai(e),r),n&&(r=ln(r,7,ei));for(var a=t.length;a--;)ua(r,t[a]);return r});var Ro=ri(function(e,t){return null==e?{}:function(e,t){return Wn(e,t,function(t,r){return Ao(e,r)})}(e,t)});function Io(e,t){if(null==e)return{};var r=Dt(ai(e),function(e){return[e]});return t=li(t),Wn(e,r,function(e,r){return t(e,r[0])})}var Fo=Ja(Po),Bo=Ja(To);function Uo(e){return null==e?[]:er(e,Po(e))}var qo=Ra(function(e,t,r){return t=t.toLowerCase(),e+(r?zo(t):t)});function zo(e){return Jo(yo(e).toLowerCase())}function Ho(e){return(e=yo(e))&&e.replace(we,ar).replace(tt,"")}var Vo=Ra(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Wo=Ra(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Ko=Da("toLowerCase");var Go=Ra(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var Yo=Ra(function(e,t,r){return e+(r?" ":"")+Jo(t)});var $o=Ra(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Jo=Da("toUpperCase");function Xo(e,t,r){return e=yo(e),(t=r?a:t)===a?function(e){return it.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Zo=Jn(function(e,t){try{return At(e,a,t)}catch(r){return $s(r)?r:new oe(r)}}),Qo=ri(function(e,t){return Et(t,function(t){t=Ri(t),an(e,t,Os(e[t],e))}),e});function el(e){return function(){return e}}var tl=Ba(),rl=Ba(!0);function nl(e){return e}function al(e){return Dn("function"==typeof e?e:ln(e,1))}var il=Jn(function(e,t){return function(r){return Cn(r,e,t)}}),sl=Jn(function(e,t){return function(r){return Cn(e,r,t)}});function ol(e,t,r){var n=Po(t),a=jn(t,n);null!=r||Qs(t)&&(a.length||!n.length)||(r=t,t=e,e=this,a=jn(t,Po(t)));var i=!(Qs(r)&&"chain"in r)||!!r.chain,s=Js(e);return Et(a,function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__);return(r.__actions__=Ea(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Rt([this.value()],arguments))})}),e}function ll(){}var cl=Ha(Dt),dl=Ha(Pt),ul=Ha(Bt);function hl(e){return vi(e)?Gt(Ri(e)):function(e){return function(t){return kn(t,e)}}(e)}var fl=Wa(),pl=Wa(!0);function ml(){return[]}function gl(){return!1}var xl=za(function(e,t){return e+t},0),yl=Ya("ceil"),bl=za(function(e,t){return e/t},1),vl=Ya("floor");var wl=za(function(e,t){return e*t},1),jl=Ya("round"),kl=za(function(e,t){return e-t},0);return Br.after=function(e,t){if("function"!=typeof t)throw new Ee(i);return e=po(e),function(){if(--e<1)return t.apply(this,arguments)}},Br.ary=Ss,Br.assign=bo,Br.assignIn=vo,Br.assignInWith=wo,Br.assignWith=jo,Br.at=ko,Br.before=As,Br.bind=Os,Br.bindAll=Qo,Br.bindKey=Es,Br.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Hs(e)?e:[e]},Br.chain=us,Br.chunk=function(e,t,n){t=(n?bi(e,t,n):t===a)?1:Yt(po(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,l=r(ft(i/t));s<i;)l[o++]=na(e,s,s+=t);return l},Br.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var i=e[t];i&&(a[n++]=i)}return a},Br.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Rt(Hs(n)?Ea(n):[n],xn(t,1))},Br.cond=function(e){var t=null==e?0:e.length,r=li();return e=t?Dt(e,function(e){if("function"!=typeof e[1])throw new Ee(i);return[r(e[0]),e[1]]}):[],Jn(function(r){for(var n=-1;++n<t;){var a=e[n];if(At(a[0],this,r))return At(a[1],this,r)}})},Br.conforms=function(e){return function(e){var t=Po(e);return function(r){return cn(r,e,t)}}(ln(e,1))},Br.constant=el,Br.countBy=ps,Br.create=function(e,t){var r=Ur(e);return null==t?r:nn(r,t)},Br.curry=function e(t,r,n){var i=Xa(t,8,a,a,a,a,a,r=n?a:r);return i.placeholder=e.placeholder,i},Br.curryRight=function e(t,r,n){var i=Xa(t,l,a,a,a,a,a,r=n?a:r);return i.placeholder=e.placeholder,i},Br.debounce=Cs,Br.defaults=No,Br.defaultsDeep=_o,Br.defer=Ps,Br.delay=Ts,Br.difference=Bi,Br.differenceBy=Ui,Br.differenceWith=qi,Br.drop=function(e,t,r){var n=null==e?0:e.length;return n?na(e,(t=r||t===a?1:po(t))<0?0:t,n):[]},Br.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?na(e,0,(t=n-(t=r||t===a?1:po(t)))<0?0:t):[]},Br.dropRightWhile=function(e,t){return e&&e.length?fa(e,li(t,3),!0,!0):[]},Br.dropWhile=function(e,t){return e&&e.length?fa(e,li(t,3),!0):[]},Br.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&bi(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=po(r))<0&&(r=-r>i?0:i+r),(n=n===a||n>i?i:po(n))<0&&(n+=i),n=r>n?0:mo(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Br.filter=function(e,t){return(Hs(e)?Tt:gn)(e,li(t,3))},Br.flatMap=function(e,t){return xn(js(e,t),1)},Br.flatMapDeep=function(e,t){return xn(js(e,t),f)},Br.flatMapDepth=function(e,t,r){return r=r===a?1:po(r),xn(js(e,t),r)},Br.flatten=Vi,Br.flattenDeep=function(e){return(null==e?0:e.length)?xn(e,f):[]},Br.flattenDepth=function(e,t){return(null==e?0:e.length)?xn(e,t=t===a?1:po(t)):[]},Br.flip=function(e){return Xa(e,512)},Br.flow=tl,Br.flowRight=rl,Br.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n},Br.functions=function(e){return null==e?[]:jn(e,Po(e))},Br.functionsIn=function(e){return null==e?[]:jn(e,To(e))},Br.groupBy=bs,Br.initial=function(e){return(null==e?0:e.length)?na(e,0,-1):[]},Br.intersection=Ki,Br.intersectionBy=Gi,Br.intersectionWith=Yi,Br.invert=Oo,Br.invertBy=Eo,Br.invokeMap=vs,Br.iteratee=al,Br.keyBy=ws,Br.keys=Po,Br.keysIn=To,Br.map=js,Br.mapKeys=function(e,t){var r={};return t=li(t,3),vn(e,function(e,n,a){an(r,t(e,n,a),e)}),r},Br.mapValues=function(e,t){var r={};return t=li(t,3),vn(e,function(e,n,a){an(r,n,t(e,n,a))}),r},Br.matches=function(e){return Un(ln(e,1))},Br.matchesProperty=function(e,t){return qn(e,ln(t,1))},Br.memoize=Ms,Br.merge=Mo,Br.mergeWith=Lo,Br.method=il,Br.methodOf=sl,Br.mixin=ol,Br.negate=Ls,Br.nthArg=function(e){return e=po(e),Jn(function(t){return Hn(t,e)})},Br.omit=Do,Br.omitBy=function(e,t){return Io(e,Ls(li(t)))},Br.once=function(e){return As(2,e)},Br.orderBy=function(e,t,r,n){return null==e?[]:(Hs(t)||(t=null==t?[]:[t]),Hs(r=n?a:r)||(r=null==r?[]:[r]),Vn(e,t,r))},Br.over=cl,Br.overArgs=Ds,Br.overEvery=dl,Br.overSome=ul,Br.partial=Rs,Br.partialRight=Is,Br.partition=ks,Br.pick=Ro,Br.pickBy=Io,Br.property=hl,Br.propertyOf=function(e){return function(t){return null==e?a:kn(e,t)}},Br.pull=Ji,Br.pullAll=Xi,Br.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Kn(e,t,li(r,2)):e},Br.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Kn(e,t,a,r):e},Br.pullAt=Zi,Br.range=fl,Br.rangeRight=pl,Br.rearg=Fs,Br.reject=function(e,t){return(Hs(e)?Tt:gn)(e,Ls(li(t,3)))},Br.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],i=e.length;for(t=li(t,3);++n<i;){var s=e[n];t(s,n,e)&&(r.push(s),a.push(n))}return Gn(e,a),r},Br.rest=function(e,t){if("function"!=typeof e)throw new Ee(i);return Jn(e,t=t===a?t:po(t))},Br.reverse=Qi,Br.sampleSize=function(e,t,r){return t=(r?bi(e,t,r):t===a)?1:po(t),(Hs(e)?Xr:Zn)(e,t)},Br.set=function(e,t,r){return null==e?e:Qn(e,t,r)},Br.setWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:Qn(e,t,r,n)},Br.shuffle=function(e){return(Hs(e)?Zr:ra)(e)},Br.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&bi(e,t,r)?(t=0,r=n):(t=null==t?0:po(t),r=r===a?n:po(r)),na(e,t,r)):[]},Br.sortBy=Ns,Br.sortedUniq=function(e){return e&&e.length?oa(e):[]},Br.sortedUniqBy=function(e,t){return e&&e.length?oa(e,li(t,2)):[]},Br.split=function(e,t,r){return r&&"number"!=typeof r&&bi(e,t,r)&&(t=r=a),(r=r===a?g:r>>>0)?(e=yo(e))&&("string"==typeof t||null!=t&&!ao(t))&&!(t=ca(t))&&or(e)?wa(pr(e),0,r):e.split(t,r):[]},Br.spread=function(e,t){if("function"!=typeof e)throw new Ee(i);return t=null==t?0:Yt(po(t),0),Jn(function(r){var n=r[t],a=wa(r,0,t);return n&&Rt(a,n),At(e,this,a)})},Br.tail=function(e){var t=null==e?0:e.length;return t?na(e,1,t):[]},Br.take=function(e,t,r){return e&&e.length?na(e,0,(t=r||t===a?1:po(t))<0?0:t):[]},Br.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?na(e,(t=n-(t=r||t===a?1:po(t)))<0?0:t,n):[]},Br.takeRightWhile=function(e,t){return e&&e.length?fa(e,li(t,3),!1,!0):[]},Br.takeWhile=function(e,t){return e&&e.length?fa(e,li(t,3)):[]},Br.tap=function(e,t){return t(e),e},Br.throttle=function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new Ee(i);return Qs(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Cs(e,t,{leading:n,maxWait:t,trailing:a})},Br.thru=hs,Br.toArray=ho,Br.toPairs=Fo,Br.toPairsIn=Bo,Br.toPath=function(e){return Hs(e)?Dt(e,Ri):oo(e)?[e]:Ea(Di(yo(e)))},Br.toPlainObject=xo,Br.transform=function(e,t,r){var n=Hs(e),a=n||Gs(e)||lo(e);if(t=li(t,4),null==r){var i=e&&e.constructor;r=a?n?new i:[]:Qs(e)&&Js(i)?Ur(Ke(e)):{}}return(a?Et:vn)(e,function(e,n,a){return t(r,e,n,a)}),r},Br.unary=function(e){return Ss(e,1)},Br.union=es,Br.unionBy=ts,Br.unionWith=rs,Br.uniq=function(e){return e&&e.length?da(e):[]},Br.uniqBy=function(e,t){return e&&e.length?da(e,li(t,2)):[]},Br.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?da(e,a,t):[]},Br.unset=function(e,t){return null==e||ua(e,t)},Br.unzip=ns,Br.unzipWith=as,Br.update=function(e,t,r){return null==e?e:ha(e,t,ya(r))},Br.updateWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:ha(e,t,ya(r),n)},Br.values=Uo,Br.valuesIn=function(e){return null==e?[]:er(e,To(e))},Br.without=is,Br.words=Xo,Br.wrap=function(e,t){return Rs(ya(t),e)},Br.xor=ss,Br.xorBy=os,Br.xorWith=ls,Br.zip=cs,Br.zipObject=function(e,t){return ga(e||[],t||[],en)},Br.zipObjectDeep=function(e,t){return ga(e||[],t||[],Qn)},Br.zipWith=ds,Br.entries=Fo,Br.entriesIn=Bo,Br.extend=vo,Br.extendWith=wo,ol(Br,Br),Br.add=xl,Br.attempt=Zo,Br.camelCase=qo,Br.capitalize=zo,Br.ceil=yl,Br.clamp=function(e,t,r){return r===a&&(r=t,t=a),r!==a&&(r=(r=go(r))===r?r:0),t!==a&&(t=(t=go(t))===t?t:0),on(go(e),t,r)},Br.clone=function(e){return ln(e,4)},Br.cloneDeep=function(e){return ln(e,5)},Br.cloneDeepWith=function(e,t){return ln(e,5,t="function"==typeof t?t:a)},Br.cloneWith=function(e,t){return ln(e,4,t="function"==typeof t?t:a)},Br.conformsTo=function(e,t){return null==t||cn(e,t,Po(t))},Br.deburr=Ho,Br.defaultTo=function(e,t){return null==e||e!==e?t:e},Br.divide=bl,Br.endsWith=function(e,t,r){e=yo(e),t=ca(t);var n=e.length,i=r=r===a?n:on(po(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Br.eq=Bs,Br.escape=function(e){return(e=yo(e))&&X.test(e)?e.replace($,ir):e},Br.escapeRegExp=function(e){return(e=yo(e))&&ie.test(e)?e.replace(ae,"\\$&"):e},Br.every=function(e,t,r){var n=Hs(e)?Pt:pn;return r&&bi(e,t,r)&&(t=a),n(e,li(t,3))},Br.find=ms,Br.findIndex=zi,Br.findKey=function(e,t){return qt(e,li(t,3),vn)},Br.findLast=gs,Br.findLastIndex=Hi,Br.findLastKey=function(e,t){return qt(e,li(t,3),wn)},Br.floor=vl,Br.forEach=xs,Br.forEachRight=ys,Br.forIn=function(e,t){return null==e?e:yn(e,li(t,3),To)},Br.forInRight=function(e,t){return null==e?e:bn(e,li(t,3),To)},Br.forOwn=function(e,t){return e&&vn(e,li(t,3))},Br.forOwnRight=function(e,t){return e&&wn(e,li(t,3))},Br.get=So,Br.gt=Us,Br.gte=qs,Br.has=function(e,t){return null!=e&&mi(e,t,An)},Br.hasIn=Ao,Br.head=Wi,Br.identity=nl,Br.includes=function(e,t,r,n){e=Ws(e)?e:Uo(e),r=r&&!n?po(r):0;var a=e.length;return r<0&&(r=Yt(a+r,0)),so(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&Ht(e,t,r)>-1},Br.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:po(r);return a<0&&(a=Yt(n+a,0)),Ht(e,t,a)},Br.inRange=function(e,t,r){return t=fo(t),r===a?(r=t,t=0):r=fo(r),function(e,t,r){return e>=yr(t,r)&&e<Yt(t,r)}(e=go(e),t,r)},Br.invoke=Co,Br.isArguments=zs,Br.isArray=Hs,Br.isArrayBuffer=Vs,Br.isArrayLike=Ws,Br.isArrayLikeObject=Ks,Br.isBoolean=function(e){return!0===e||!1===e||eo(e)&&_n(e)==v},Br.isBuffer=Gs,Br.isDate=Ys,Br.isElement=function(e){return eo(e)&&1===e.nodeType&&!no(e)},Br.isEmpty=function(e){if(null==e)return!0;if(Ws(e)&&(Hs(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||lo(e)||zs(e)))return!e.length;var t=pi(e);if(t==_||t==C)return!e.size;if(ki(e))return!Rn(e).length;for(var r in e)if(De.call(e,r))return!1;return!0},Br.isEqual=function(e,t){return Tn(e,t)},Br.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:a)?r(e,t):a;return n===a?Tn(e,t,a,r):!!n},Br.isError=$s,Br.isFinite=function(e){return"number"==typeof e&&bt(e)},Br.isFunction=Js,Br.isInteger=Xs,Br.isLength=Zs,Br.isMap=to,Br.isMatch=function(e,t){return e===t||Mn(e,t,di(t))},Br.isMatchWith=function(e,t,r){return r="function"==typeof r?r:a,Mn(e,t,di(t),r)},Br.isNaN=function(e){return ro(e)&&e!=+e},Br.isNative=function(e){if(ji(e))throw new oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ln(e)},Br.isNil=function(e){return null==e},Br.isNull=function(e){return null===e},Br.isNumber=ro,Br.isObject=Qs,Br.isObjectLike=eo,Br.isPlainObject=no,Br.isRegExp=ao,Br.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=p},Br.isSet=io,Br.isString=so,Br.isSymbol=oo,Br.isTypedArray=lo,Br.isUndefined=function(e){return e===a},Br.isWeakMap=function(e){return eo(e)&&pi(e)==M},Br.isWeakSet=function(e){return eo(e)&&"[object WeakSet]"==_n(e)},Br.join=function(e,t){return null==e?"":vt.call(e,t)},Br.kebabCase=Vo,Br.last=$i,Br.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==a&&(i=(i=po(r))<0?Yt(n+i,0):yr(i,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):zt(e,Wt,i,!0)},Br.lowerCase=Wo,Br.lowerFirst=Ko,Br.lt=co,Br.lte=uo,Br.max=function(e){return e&&e.length?mn(e,nl,Sn):a},Br.maxBy=function(e,t){return e&&e.length?mn(e,li(t,2),Sn):a},Br.mean=function(e){return Kt(e,nl)},Br.meanBy=function(e,t){return Kt(e,li(t,2))},Br.min=function(e){return e&&e.length?mn(e,nl,Fn):a},Br.minBy=function(e,t){return e&&e.length?mn(e,li(t,2),Fn):a},Br.stubArray=ml,Br.stubFalse=gl,Br.stubObject=function(){return{}},Br.stubString=function(){return""},Br.stubTrue=function(){return!0},Br.multiply=wl,Br.nth=function(e,t){return e&&e.length?Hn(e,po(t)):a},Br.noConflict=function(){return mt._===this&&(mt._=Ue),this},Br.noop=ll,Br.now=_s,Br.pad=function(e,t,r){e=yo(e);var n=(t=po(t))?fr(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return Va(pt(a),r)+e+Va(ft(a),r)},Br.padEnd=function(e,t,r){e=yo(e);var n=(t=po(t))?fr(e):0;return t&&n<t?e+Va(t-n,r):e},Br.padStart=function(e,t,r){e=yo(e);var n=(t=po(t))?fr(e):0;return t&&n<t?Va(t-n,r)+e:e},Br.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),vr(yo(e).replace(se,""),t||0)},Br.random=function(e,t,r){if(r&&"boolean"!=typeof r&&bi(e,t,r)&&(t=r=a),r===a&&("boolean"==typeof t?(r=t,t=a):"boolean"==typeof e&&(r=e,e=a)),e===a&&t===a?(e=0,t=1):(e=fo(e),t===a?(t=e,e=0):t=fo(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=wr();return yr(e+i*(t-e+ut("1e-"+((i+"").length-1))),t)}return Yn(e,t)},Br.reduce=function(e,t,r){var n=Hs(e)?It:$t,a=arguments.length<3;return n(e,li(t,4),r,a,hn)},Br.reduceRight=function(e,t,r){var n=Hs(e)?Ft:$t,a=arguments.length<3;return n(e,li(t,4),r,a,fn)},Br.repeat=function(e,t,r){return t=(r?bi(e,t,r):t===a)?1:po(t),$n(yo(e),t)},Br.replace=function(){var e=arguments,t=yo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Br.result=function(e,t,r){var n=-1,i=(t=ba(t,e)).length;for(i||(i=1,e=a);++n<i;){var s=null==e?a:e[Ri(t[n])];s===a&&(n=i,s=r),e=Js(s)?s.call(e):s}return e},Br.round=jl,Br.runInContext=e,Br.sample=function(e){return(Hs(e)?Jr:Xn)(e)},Br.size=function(e){if(null==e)return 0;if(Ws(e))return so(e)?fr(e):e.length;var t=pi(e);return t==_||t==C?e.size:Rn(e).length},Br.snakeCase=Go,Br.some=function(e,t,r){var n=Hs(e)?Bt:aa;return r&&bi(e,t,r)&&(t=a),n(e,li(t,3))},Br.sortedIndex=function(e,t){return ia(e,t)},Br.sortedIndexBy=function(e,t,r){return sa(e,t,li(r,2))},Br.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ia(e,t);if(n<r&&Bs(e[n],t))return n}return-1},Br.sortedLastIndex=function(e,t){return ia(e,t,!0)},Br.sortedLastIndexBy=function(e,t,r){return sa(e,t,li(r,2),!0)},Br.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ia(e,t,!0)-1;if(Bs(e[r],t))return r}return-1},Br.startCase=Yo,Br.startsWith=function(e,t,r){return e=yo(e),r=null==r?0:on(po(r),0,e.length),t=ca(t),e.slice(r,r+t.length)==t},Br.subtract=kl,Br.sum=function(e){return e&&e.length?Jt(e,nl):0},Br.sumBy=function(e,t){return e&&e.length?Jt(e,li(t,2)):0},Br.template=function(e,t,r){var n=Br.templateSettings;r&&bi(e,t,r)&&(t=a),e=yo(e),t=wo({},t,n,Za);var i,s,o=wo({},t.imports,n.imports,Za),l=Po(o),c=er(o,l),d=0,u=t.interpolate||je,h="__p += '",f=Ae((t.escape||je).source+"|"+u.source+"|"+(u===ee?pe:je).source+"|"+(t.evaluate||je).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(f,function(t,r,n,a,o,l){return n||(n=a),h+=e.slice(d,l).replace(ke,sr),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),h+="';\n";var m=De.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new oe("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(W,""):h).replace(K,"$1").replace(G,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Zo(function(){return Ne(l,p+"return "+h).apply(a,c)});if(g.source=h,$s(g))throw g;return g},Br.times=function(e,t){if((e=po(e))<1||e>p)return[];var r=g,n=yr(e,g);t=li(t),e-=g;for(var a=Xt(n,t);++r<e;)t(r);return a},Br.toFinite=fo,Br.toInteger=po,Br.toLength=mo,Br.toLower=function(e){return yo(e).toLowerCase()},Br.toNumber=go,Br.toSafeInteger=function(e){return e?on(po(e),-9007199254740991,p):0===e?e:0},Br.toString=yo,Br.toUpper=function(e){return yo(e).toUpperCase()},Br.trim=function(e,t,r){if((e=yo(e))&&(r||t===a))return Zt(e);if(!e||!(t=ca(t)))return e;var n=pr(e),i=pr(t);return wa(n,rr(n,i),nr(n,i)+1).join("")},Br.trimEnd=function(e,t,r){if((e=yo(e))&&(r||t===a))return e.slice(0,mr(e)+1);if(!e||!(t=ca(t)))return e;var n=pr(e);return wa(n,0,nr(n,pr(t))+1).join("")},Br.trimStart=function(e,t,r){if((e=yo(e))&&(r||t===a))return e.replace(se,"");if(!e||!(t=ca(t)))return e;var n=pr(e);return wa(n,rr(n,pr(t))).join("")},Br.truncate=function(e,t){var r=30,n="...";if(Qs(t)){var i="separator"in t?t.separator:i;r="length"in t?po(t.length):r,n="omission"in t?ca(t.omission):n}var s=(e=yo(e)).length;if(or(e)){var o=pr(e);s=o.length}if(r>=s)return e;var l=r-fr(n);if(l<1)return n;var c=o?wa(o,0,l).join(""):e.slice(0,l);if(i===a)return c+n;if(o&&(l+=c.length-l),ao(i)){if(e.slice(l).search(i)){var d,u=c;for(i.global||(i=Ae(i.source,yo(me.exec(i))+"g")),i.lastIndex=0;d=i.exec(u);)var h=d.index;c=c.slice(0,h===a?l:h)}}else if(e.indexOf(ca(i),l)!=l){var f=c.lastIndexOf(i);f>-1&&(c=c.slice(0,f))}return c+n},Br.unescape=function(e){return(e=yo(e))&&J.test(e)?e.replace(Y,gr):e},Br.uniqueId=function(e){var t=++Re;return yo(e)+t},Br.upperCase=$o,Br.upperFirst=Jo,Br.each=xs,Br.eachRight=ys,Br.first=Wi,ol(Br,function(){var e={};return vn(Br,function(t,r){De.call(Br.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),Br.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Br[e].placeholder=Br}),Et(["drop","take"],function(e,t){Hr.prototype[e]=function(r){r=r===a?1:Yt(po(r),0);var n=this.__filtered__&&!t?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=yr(r,n.__takeCount__):n.__views__.push({size:yr(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Et(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Et(["head","last"],function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}}),Et(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}}),Hr.prototype.compact=function(){return this.filter(nl)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Jn(function(e,t){return"function"==typeof e?new Hr(this):this.map(function(r){return Cn(r,e,t)})}),Hr.prototype.reject=function(e){return this.filter(Ls(li(e)))},Hr.prototype.slice=function(e,t){e=po(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==a&&(r=(t=po(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(g)},vn(Hr.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Br[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);i&&(Br.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,l=t instanceof Hr,c=o[0],d=l||Hs(t),u=function(e){var t=i.apply(Br,Rt([e],o));return n&&h?t[0]:t};d&&r&&"function"==typeof c&&1!=c.length&&(l=d=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=l&&!f;if(!s&&d){t=m?t:new Hr(this);var g=e.apply(t,o);return g.__actions__.push({func:hs,args:[u],thisArg:a}),new zr(g,h)}return p&&m?e.apply(this,o):(g=this.thru(u),p?n?g.value()[0]:g.value():g)})}),Et(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ce[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Br.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(Hs(a)?a:[],e)}return this[r](function(r){return t.apply(Hs(r)?r:[],e)})}}),vn(Hr.prototype,function(e,t){var r=Br[t];if(r){var n=r.name+"";De.call(Cr,n)||(Cr[n]=[]),Cr[n].push({name:t,func:r})}}),Cr[Ua(a,2).name]=[{name:"wrapper",func:a}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Ea(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ea(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ea(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Hs(e),n=t<0,a=r?e.length:0,i=function(e,t,r){var n=-1,a=r.length;for(;++n<a;){var i=r[n],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=yr(t,e+s);break;case"takeRight":e=Yt(e,t-s)}}return{start:e,end:t}}(0,a,this.__views__),s=i.start,o=i.end,l=o-s,c=n?o:s-1,d=this.__iteratees__,u=d.length,h=0,f=yr(l,this.__takeCount__);if(!r||!n&&a==l&&f==l)return pa(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<u;){var x=d[m],y=x.iteratee,b=x.type,v=y(g);if(2==b)g=v;else if(!v){if(1==b)continue e;break e}}p[h++]=g}return p},Br.prototype.at=fs,Br.prototype.chain=function(){return us(this)},Br.prototype.commit=function(){return new zr(this.value(),this.__chain__)},Br.prototype.next=function(){this.__values__===a&&(this.__values__=ho(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Br.prototype.plant=function(e){for(var t,r=this;r instanceof qr;){var n=Fi(r);n.__index__=0,n.__values__=a,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Br.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:hs,args:[Qi],thisArg:a}),new zr(t,this.__chain__)}return this.thru(Qi)},Br.prototype.toJSON=Br.prototype.valueOf=Br.prototype.value=function(){return pa(this.__wrapped__,this.__actions__)},Br.prototype.first=Br.prototype.head,Xe&&(Br.prototype[Xe]=function(){return this}),Br}();mt._=xr,(n=function(){return xr}.call(t,r,t,e))===a||(e.exports=n)}.call(this)},3538:(e,t,r)=>{var n=r(755),a=r(3411);e.exports=function(e,t){return n(a(e,t),1)}},3668:(e,t,r)=>{var n=r(8902),a=r(2587),i=r(8114);e.exports=function(e,t,r,s,o,l){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<d;){var x=e[p],y=t[p];if(s)var b=c?s(y,x,p,t,e,l):s(x,y,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!i(g,t)&&(x===e||o(x,e,r,s,l)))return g.push(t)})){m=!1;break}}else if(x!==y&&!o(x,y,r,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,r)=>{var n=r(6140),a=r(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3781:(e,t,r)=>{var n=r(9417),a=r(8673);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var i=t[r],s=e[i];t[r]=[i,s,n(s)]}return t}},3871:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,r)=>{var n=r(396),a=r(2866),i=r(2597),s=r(914);e.exports=function(e){return i(e)?n(s(e)):a(e)}},3950:(e,t,r)=>{var n=r(6686),a=r(4757),i=r(801),s=Math.max,o=Math.min;e.exports=function(e,t,r){var l,c,d,u,h,f,p=0,m=!1,g=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=l,n=c;return l=c=void 0,p=t,u=e.apply(n,r)}function b(e){var r=e-f;return void 0===f||r>=t||r<0||g&&e-p>=d}function v(){var e=a();if(b(e))return w(e);h=setTimeout(v,function(e){var r=t-(e-f);return g?o(r,d-(e-p)):r}(e))}function w(e){return h=void 0,x&&l?y(e):(l=c=void 0,u)}function j(){var e=a(),r=b(e);if(l=arguments,c=this,f=e,r){if(void 0===h)return function(e){return p=e,h=setTimeout(v,t),m?y(e):u}(f);if(g)return clearTimeout(h),h=setTimeout(v,t),y(f)}return void 0===h&&(h=setTimeout(v,t)),u}return t=i(t)||0,n(r)&&(m=!!r.leading,d=(g="maxWait"in r)?s(i(r.maxWait)||0,t):d,x="trailing"in r?!!r.trailing:x),j.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},j.flush=function(){return void 0===h?u:w(a())},j}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,r)=>{var n=r(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,r,n,a){t.push(n?a.replace(i,"$1"):r||e)}),t});e.exports=s},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var v=b.prototype=new y;v.constructor=b,m(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,a)&&!N.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:r,type:e,key:s,ref:o,props:i,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===i?"."+O(l,0):i,w(s)?(a="",null!=e&&(a=e.replace(A,"$&/")+"/"),E(s,t,a,"",function(e){return e})):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+O(o=e[c],c);l+=E(o,t,a,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,a,d=i+O(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,r){if(null==e)return e;var n=[],a=0;return E(e,n,"","",function(e){return t.call(r,e,a++)}),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},M={transition:null},L={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,r){C(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,r){return T.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,r){return T.current.useReducer(e,t,r)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return T.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4262:(e,t,r)=>{var n=r(8895),a=r(4052);e.exports=function(e,t,r){var i=t(e);return a(e)?i:n(i,r(e))}},4391:(e,t,r)=>{"use strict";var n=r(7950);t.H=n.createRoot,n.hydrateRoot},4416:(e,t,r)=>{var n=r(8902),a=r(5866),i=r(1558),s=r(8114),o=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,d=a,u=e.length,h=!0,f=[],p=f;if(r)h=!1,d=i;else if(u>=200){var m=t?null:o(e);if(m)return l(m);h=!1,d=s,p=new n}else p=t?[]:f;e:for(;++c<u;){var g=e[c],x=t?t(g):g;if(g=r||0!==g?g:0,h&&x===x){for(var y=p.length;y--;)if(p[y]===x)continue e;t&&p.push(x),f.push(g)}else d(p,x,r)||(p!==f&&p.push(x),f.push(g))}return f}},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),a=r(14),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,o=s&&s.exports===i?n.Buffer:void 0,l=(o?o.isBuffer:void 0)||a;e.exports=l},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},4552:(e,t,r)=>{var n=r(9812),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch(l){}var a=s.call(e);return n&&(t?e[o]=r:delete e[o]),a}},4597:(e,t,r)=>{var n=r(2587),a=r(9096),i=r(2165),s=r(4052),o=r(929);e.exports=function(e,t,r){var l=s(e)?n:i;return r&&o(e,t,r)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var n=r(4258),a=r(8673);e.exports=function(e,t){return e&&n(e,t,a)}},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,function(e,n,a){return r=!!t(e,n,a)}),r}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},4816:(e,t,r)=>{var n=r(7251),a=r(7159),i=r(438),s=r(9394),o=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},5029:(e,t,r)=>{var n=r(6989),a=r(3097),i=r(3366),s=r(2597),o=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return s(e)&&o(t)?l(c(e),t):function(r){var s=a(r,e);return void 0===s&&s===t?i(r,e):n(t,s,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5082:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case m:case p:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return x(e)===i}},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},5324:(e,t,r)=>{var n=r(4052),a=r(2597),i=r(4079),s=r(1069);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:i(s(e))}},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},5428:(e,t,r)=>{var n=r(6913),a=r(6173),i=r(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!s[n(e)]}},5538:(e,t,r)=>{var n=r(7160),a=r(4545),i=r(793),s=r(7760),o=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},5636:(e,t,r)=>{var n=r(1170),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=a(i.length-t,0),l=Array(o);++s<o;)l[s]=i[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=i[s];return c[t]=r(l),n(e,this,c)}}},5647:(e,t,r)=>{var n=r(3279),a=r(5636),i=r(6350);e.exports=function(e,t){return i(a(e,t,n),e+"")}},5652:(e,t,r)=>{var n=r(4664),a=r(6516)(n);e.exports=a},5654:(e,t,r)=>{var n=r(7937),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,r)=>{var n=r(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,s,o){var l=1&r,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in t:a.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=l;++u<d;){var x=e[h=c[u]],y=t[h];if(i)var b=l?i(y,x,h,t,e,o):i(x,y,h,e,t,o);if(!(void 0===b?x===y||s(x,y,r,i,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var v=e.constructor,w=t.constructor;v==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}},5797:(e,t,r)=>{var n=r(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},5816:e=>{e.exports=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var a=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++a<o;){var c=n(i[a],s[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(!1===r(i[l],l,i))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var n=r(8325),a=r(6578)(n);e.exports=a},6361:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},6399:(e,t,r)=>{var n=r(5538),a=r(3668),i=r(9987),s=r(5752),o=r(6924),l=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,x){var y=l(e),b=l(t),v=y?h:o(e),w=b?h:o(t),j=(v=v==u?f:v)==f,k=(w=w==u?f:w)==f,N=v==w;if(N&&c(e)){if(!c(t))return!1;y=!0,j=!1}if(N&&!j)return x||(x=new n),y||d(e)?a(e,t,r,m,g,x):i(e,t,v,r,m,g,x);if(!(1&r)){var _=j&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(_||S){var A=_?e.value():e,O=S?t.value():t;return x||(x=new n),g(A,O,r,m,x)}}return!!N&&(x||(x=new n),s(e,t,r,m,g,x))}},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&!1!==a(o[s],s,o););return r}}},6532:(e,t,r)=>{var n=r(5538),a=r(6989);e.exports=function(e,t,r,i){var s=r.length,o=s,l=!i;if(null==e)return!o;for(e=Object(e);s--;){var c=r[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var d=(c=r[s])[0],u=e[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var f=new n;if(i)var p=i(u,h,d,e,t,f);if(!(void 0===p?a(h,u,3,i,f):p))return!1}}return!0}},6552:(e,t,r)=>{var n=r(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},6571:(e,t,r)=>{var n=r(1629),a=r(6173);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),i=16-(a-n);if(n=a,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,i=e===e,s=n(e),o=void 0!==t,l=null===t,c=t===t,d=n(t);if(!l&&!d&&!s&&e>t||s&&o&&c&&!l&&!d||a&&o&&c||!r&&c||!i)return 1;if(!a&&!s&&!d&&e<t||d&&r&&i&&!a&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,r)=>{var n=r(9742),a=r(61),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},6788:(e,t,r)=>{var n=r(7160),a=r(5204),i=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!a||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,s=i&&i.exports===a&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},6913:(e,t,r)=>{var n=r(9812),a=r(4552),i=r(6095),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?a(e):i(e)}},6924:(e,t,r)=>{var n=r(7685),a=r(5204),i=r(5387),s=r(2070),o=r(6600),l=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(n),g=c(a),x=c(i),y=c(s),b=c(o),v=l;(n&&v(new n(new ArrayBuffer(1)))!=p||a&&v(new a)!=d||i&&v(i.resolve())!=u||s&&v(new s)!=h||o&&v(new o)!=f)&&(v=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return p;case g:return d;case x:return u;case y:return h;case b:return f}return t}),e.exports=v},6954:(e,t,r)=>{var n=r(1629),a=r(7857),i=r(6686),s=r(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?h:o).test(s(e))}},6989:(e,t,r)=>{var n=r(6399),a=r(2761);e.exports=function e(t,r,i,s,o){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,i,s,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var n=r(5295),a=r(4746),i=r(9096),s=r(4052),o=r(929);e.exports=function(e,t,r){var l=s(e)?n:a;return r&&o(e,t,r)&&(t=void 0),l(e,i(t,3))}},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7116:(e,t,r)=>{var n=r(9812),a=r(2777),i=r(4052),s=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(s&&e&&e[s])}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var n=r(7563),a=r(9935),i=r(4190),s=r(1946),o=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,r))c<a&&0>i(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>i(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function w(e){if(g=!1,v(e),!m)if(null!==n(c))m=!0,M(j);else{var t=n(d);null!==t&&L(w,t.startTime-e)}}function j(e,r){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var i=f;try{for(v(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!E());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(c)&&a(c),v(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&L(w,u.startTime-r),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,_=null,S=-1,A=5,O=-1;function E(){return!(t.unstable_now()-O<A)}function C(){if(null!==_){var e=t.unstable_now();O=e;var r=!0;try{r=_(!0,e)}finally{r?k():(N=!1,_=null)}}else N=!1}if("function"===typeof b)k=function(){b(C)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=C,k=function(){T.postMessage(null)}}else k=function(){x(C,0)};function M(e){_=e,N||(N=!0,k())}function L(e,r){S=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,r(d,e),null===n(c)&&e===n(d)&&(g?(y(S),S=-1):g=!0,L(w,i-s))):(e.sortIndex=o,r(c,e),m||p||(m=!0,M(j))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},7251:(e,t,r)=>{var n=r(8724),a=r(7160),i=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||a),string:new n}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new a(n,i||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,s=new Array(i);a<i;a++)s[a]=n[a].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,i,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,a),!0;case 5:return d.fn.call(d.context,t,n,a,i),!0;case 6:return d.fn.call(d.context,t,n,a,i,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,f=d.length;for(c=0;c<f;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||s(this,i);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},7303:(e,t,r)=>{var n=r(801),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,r)=>{var n=r(755),a=r(2536),i=r(5647),s=r(929),o=i(function(e,t){if(null==e)return[];var r=t.length;return r>1&&s(e,t[0],t[1])?t=[]:r>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])});e.exports=o},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},7676:(e,t,r)=>{var n=r(8189),a=r(6311),i=r(9115),s=r(1069);e.exports=function(e){return function(t){t=s(t);var r=a(t)?i(t):void 0,o=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return o[e]()+l}}},7680:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),a=r(18),i=r(19),s=r(45),o=r(46),l=r(47),c=r(48),d=r(49),u=r(12),h=r(32),f=r(33),p=r(31),m=r(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n.default,Format:a.default,Leaf:i.default,Embed:c.default,Scroll:s.default,Block:l.default,Inline:o.default,Text:d.default,Attributor:{Attribute:u.default,Class:h.default,Style:f.default,Store:p.default}};t.default=g},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return n(t,e),t}(Error);t.ParchmentError=a;var i,s={},o={},l={},c={};function d(e,t){var r;if(void 0===t&&(t=i.ANY),"string"===typeof e)r=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"===typeof e)e&i.LEVEL&i.BLOCK?r=c.block:e&i.LEVEL&i.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var a in n)if(r=o[n[a]])break;r=r||l[e.tagName]}return null==r?null:t&i.LEVEL&r.scope&&t&i.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(i=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new a("Unable to create "+e+" blot");var n=r,i=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(i,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map(function(t){return e(t)});var n=t[0];if("string"!==typeof n.blotName&&"string"!==typeof n.attrName)throw new a("Invalid definition");if("abstract"===n.blotName)throw new a("Cannot register abstract class");return c[n.blotName||n.attrName]=n,"string"===typeof n.keyName?s[n.keyName]=n:(null!=n.className&&(o[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(function(e){return e.toUpperCase()}):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(function(e){null!=l[e]&&null!=n.className||(l[e]=n)}))),n}},function(e,t,r){var n=r(51),a=r(11),i=r(3),s=r(20),o=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},l.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"===typeof r){if("number"===typeof e.delete&&"number"===typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"===typeof r.delete&&null!=e.insert&&(t-=1,"object"!==typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(a(e.attributes,r.attributes)){if("string"===typeof e.insert&&"string"===typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(n){(e(n)?t:r).push(n)}),[t,r]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+s.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var r=[],n=s.iterator(this.ops),a=0;a<t&&n.hasNext();){var i;a<e?i=n.next(e-a):(i=n.next(t-a),r.push(i)),a+=s.length(i)}return new l(r)},l.prototype.compose=function(e){var t=s.iterator(this.ops),r=s.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"===typeof i.retain&&null==i.attributes){for(var o=i.retain;"insert"===t.peekType()&&t.peekLength()<=o;)o-=t.peekLength(),n.push(t.next());i.retain-o>0&&r.next(i.retain-o)}for(var c=new l(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===t.peekType())c.push(t.next());else{var d=Math.min(t.peekLength(),r.peekLength()),u=t.next(d),h=r.next(d);if("number"===typeof h.retain){var f={};"number"===typeof u.retain?f.retain=d:f.insert=u.insert;var p=s.attributes.compose(u.attributes,h.attributes,"number"===typeof u.retain);if(p&&(f.attributes=p),c.push(f),!r.hasNext()&&a(c.ops[c.ops.length-1],f)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"===typeof h.delete&&"number"===typeof u.retain&&c.push(h)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var r=[this,e].map(function(t){return t.map(function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:o;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),i=new l,c=n(r[0],r[1],t),d=s.iterator(this.ops),u=s.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(u.peekLength(),t),i.push(u.next(r));break;case n.DELETE:r=Math.min(t,d.peekLength()),d.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(d.peekLength(),u.peekLength(),t);var o=d.next(r),l=u.next(r);a(o.insert,l.insert)?i.retain(r,s.attributes.diff(o.attributes,l.attributes)):i.push(l).delete(r)}t-=r}}),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var r=s.iterator(this.ops),n=new l,a=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),o=s.length(i)-r.peekLength(),c="string"===typeof i.insert?i.insert.indexOf(t,o)-o:-1;if(c<0)n.push(r.next());else if(c>0)n.push(r.next(c));else{if(!1===e(n,r.next(1).attributes||{},a))return;a+=1,n=new l}}n.length()>0&&e(n,{},a)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var r=s.iterator(this.ops),n=s.iterator(e.ops),a=new l;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())a.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),o=r.next(i),c=n.next(i);if(o.delete)continue;c.delete?a.push(c):a.retain(i,s.attributes.transform(o.attributes,c.attributes,t))}else a.retain(s.length(r.next()));return a.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var r=s.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var a=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=a),n+=a):e-=Math.min(a,e-n)}return e},e.exports=l},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,a=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!i)return!1;for(t in e);return"undefined"===typeof t||r.call(e,t)},l=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,r,n,a,i,d,u=arguments[0],h=1,f=arguments.length,p=!1;for("boolean"===typeof u&&(p=u,u=arguments[1]||{},h=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});h<f;++h)if(null!=(t=arguments[h]))for(r in t)n=c(u,r),u!==(a=c(t,r))&&(p&&a&&(o(a)||(i=s(a)))?(i?(i=!1,d=n&&s(n)?n:[]):d=n&&o(n)?n:{},l(u,{name:r,newValue:e(p,d,a)})):"undefined"!==typeof a&&l(u,{name:r,newValue:a}));return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=u(r(3)),s=u(r(2)),o=u(r(0)),l=u(r(16)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),n(t,[{key:"attach",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new o.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=o.default.query(e,o.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,n){if("string"===typeof r&&r.endsWith("\n")){var i=o.default.create(g.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n)}}]),t}(o.default.Embed);m.scope=o.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){h(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return p(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(o.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),x(t))},new s.default).insert("\n",x(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,n,i){r<=0||(o.default.query(n,o.default.Scope.BLOCK)?e+r===this.length()&&this.format(n,i):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,r,n){if(null!=n)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);if(0!==r.length){var i=r.split("\n"),s=i.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var o=this;i.reduce(function(e,t){return(o=o.split(e,!0)).insertAt(0,t),t.length},e+s.length)}}},{key:"insertBefore",value:function(e,r){var n=this.children.head;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),n instanceof l.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},i}}]),t}(o.default.Block);function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:x(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[c.default,o.default.Embed,d.default],t.bubbleFormats=x,t.BlockEmbed=m,t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(50);var s=g(r(2)),o=g(r(14)),l=g(r(8)),c=g(r(9)),d=g(r(0)),u=r(15),h=g(u),f=g(r(3)),p=g(r(10)),m=g(r(34));function g(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,p.default)("quill"),b=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=v(t,n),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var a=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=d.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new o.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e){e===l.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(e,t){var n=r.selection.lastRange,a=n&&0===n.length?n.index:void 0;w.call(r,function(){return r.editor.update(null,t,a)},e)});var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+a+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),p.default.level(e)}},{key:"find",value:function(e){return e.__quill||d.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var a=e.attrName||e.blotName;"string"===typeof a?this.register("formats/"+a,e,t):Object.keys(e).forEach(function(n){r.register(n,e[n],t)})}else null==this.imports[e]||n||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?d.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,i=j(e,t,r),s=a(i,4);return e=s[0],t=s[1],r=s[3],w.call(this,function(){return n.editor.deleteText(e,t)},r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,function(){var n=r.getSelection(!0),a=new s.default;if(null==n)return a;if(d.default.query(e,d.default.Scope.BLOCK))a=r.editor.formatLine(n.index,n.length,x({},e,t));else{if(0===n.length)return r.selection.format(e,t),a;a=r.editor.formatText(n.index,n.length,x({},e,t))}return r.setSelection(n,l.default.sources.SILENT),a},n)}},{key:"formatLine",value:function(e,t,r,n,i){var s,o=this,l=j(e,t,r,n,i),c=a(l,4);return e=c[0],t=c[1],s=c[2],i=c[3],w.call(this,function(){return o.editor.formatLine(e,t,s)},i,e,0)}},{key:"formatText",value:function(e,t,r,n,i){var s,o=this,l=j(e,t,r,n,i),c=a(l,4);return e=c[0],t=c[1],s=c[2],i=c[3],w.call(this,function(){return o.editor.formatText(e,t,s)},i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=j(e,t),n=a(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=j(e,t),n=a(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,function(){return a.editor.insertEmbed(t,r,n)},i,t)}},{key:"insertText",value:function(e,t,r,n,i){var s,o=this,l=j(e,0,r,n,i),c=a(l,4);return e=c[0],s=c[2],i=c[3],w.call(this,function(){return o.editor.insertText(e,t,s)},i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,i=j(e,t,r),s=a(i,4);return e=s[0],t=s[1],r=s[3],w.call(this,function(){return n.editor.removeFormat(e,t)},r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,function(){e=new s.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),a=t.editor.applyDelta(e),i=a.ops[a.ops.length-1];return null!=i&&"string"===typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),a.delete(1)),n.compose(a)},r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var i=j(t,r,n),s=a(i,4);t=s[0],r=s[1],n=s[3],this.selection.setRange(new u.Range(t,r),n),n!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,r=(new s.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,function(){return e=new s.default(e),t.editor.applyDelta(e,r)},r,!0)}}]),e}();function v(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var r=(0,f.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var r=b.import("modules/"+t);return null==r?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},b.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e},{}),t}function w(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new s.default;var a=null==r?null:this.getSelection(),i=this.editor.delta,o=e();if(null!=a&&(!0===r&&(r=a.index),null==n?a=k(a,o,t):0!==n&&(a=k(a,r,n,t)),this.setSelection(a,l.default.sources.SILENT)),o.length()>0){var c,d,u=[l.default.events.TEXT_CHANGE,o,i,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(u)),t!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,u)}return o}function j(e,t,r,a,i){var s={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(i=a,a=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(i=a,a=r,r=t,t=0),"object"===("undefined"===typeof r?"undefined":n(r))?(s=r,i=a):"string"===typeof r&&(null!=a?s[r]=a:i=r),[e,t,s,i=i||l.default.sources.API]}function k(e,t,r,n){if(null==e)return null;var i=void 0,o=void 0;if(t instanceof s.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,n!==l.default.sources.USER)}),d=a(c,2);i=d[0],o=d[1]}else{var h=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&n===l.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)}),f=a(h,2);i=f[0],o=f[1]}return new u.Range(i,o-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:s.default,parchment:d.default,"core/module":c.default,"core/theme":m.default},t.expandConfig=v,t.overload=j,t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=o(r(7)),s=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,r,n,i){if(t.compare(this.statics.blotName,n)<0&&s.default.query(n,s.default.Scope.BLOT)){var o=this.isolate(e,r);i&&o.wrap(n,i)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,i)}},{key:"optimize",value:function(e){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var n=t.order.indexOf(e),a=t.order.indexOf(r);return n>=0||a>=0?n-a:e===r?0:e<r?-1:1}}]),t}(s.default.Inline);l.allowedChildren=[l,s.default.Embed,i.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default.Text);t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=s(r(54));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,s(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)})})});var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",o.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){o.log.apply(o,arguments),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach(function(t){var n=t.node,a=t.handler;(e.target===n||n.contains(e.target))&&a.apply(void 0,[e].concat(r))})}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(i.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};n.DEFAULTS={},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],a="warn";function i(e){if(n.indexOf(e)<=n.indexOf(a)){for(var t,r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];(t=console)[e].apply(t,i)}}function s(e){return n.reduce(function(t,r){return t[r]=i.bind(console,r,e),t},{})}i.level=s.level=function(e){a=e},t.default=s},function(e,t,r){var n=Array.prototype.slice,a=r(52),i=r(53),s=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var c,d;if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),s(e,t,r));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var u=a(e),h=a(t)}catch(f){return!1}if(u.length!=h.length)return!1;for(u.sort(),h.sort(),c=u.length-1;c>=0;c--)if(u[c]!=h[c])return!1;for(c=u.length-1;c>=0;c--)if(d=u[c],!s(e[d],t[d],r))return!1;return typeof e===typeof t}(e,t,r))};function o(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var a=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|a:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=u(r(2)),o=u(r(0)),l=u(r(4)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(c.default);m.blotName="code",m.tagName="CODE";var g=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),a(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,r){return t.insert(r).insert("\n",e.formats())},new s.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var a=this.descendant(d.default,this.length()-1),s=n(a,1)[0];null!=s&&s.deleteAt(s.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,n,a){if(0!==r&&null!=o.default.query(n,o.default.Scope.BLOCK)&&(n!==this.statics.blotName||a!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+r)){var s=this.newlineIndex(e,!0)+1,l=i-s+1,c=this.isolate(s,l),d=c.next;c.format(n,a),d instanceof t&&d.formatAt(0,e-s+r-l,n,a)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var a=this.descendant(d.default,e),i=n(a,2),s=i[0],o=i[1];s.insertAt(o,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(o.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=o.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof o.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=m,t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=x(r(2)),o=x(r(20)),l=x(r(0)),c=x(r(13)),d=x(r(24)),u=r(4),h=x(u),f=x(r(16)),p=x(r(21)),m=x(r(11)),g=x(r(3));function x(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var r=(0,p.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,p.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)},new s.default)}(e)).reduce(function(e,s){var c=s.retain||s.delete||s.insert.length||1,d=s.attributes||{};if(null!=s.insert){if("string"===typeof s.insert){var f=s.insert;f.endsWith("\n")&&r&&(r=!1,f=f.slice(0,-1)),e>=i&&!f.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,f);var p=t.scroll.line(e),m=a(p,2),x=m[0],y=m[1],b=(0,g.default)({},(0,u.bubbleFormats)(x));if(x instanceof h.default){var v=x.descendant(l.default.Leaf,y),w=a(v,1)[0];b=(0,g.default)(b,(0,u.bubbleFormats)(w))}d=o.default.attributes.diff(b,d)||{}}else if("object"===n(s.insert)){var j=Object.keys(s.insert)[0];if(null==j)return e;t.scroll.insertAt(e,j,s.insert[j])}i+=c}return Object.keys(d).forEach(function(r){t.scroll.formatAt(e,c,r,d[r])}),e+c},0),e.reduce(function(e,r){return"number"===typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new s.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach(function(a){if(null==r.scroll.whitelist||r.scroll.whitelist[a]){var i=r.scroll.lines(e,Math.max(t,1)),s=t;i.forEach(function(t){var i=t.length();if(t instanceof c.default){var o=e-t.offset(r.scroll),l=t.newlineIndex(o+s)-o+1;t.formatAt(o,l,a,n[a])}else t.format(a,n[a]);s-=i})}}),this.scroll.optimize(),this.update((new s.default).retain(e).retain(t,(0,p.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach(function(a){r.scroll.formatAt(e,t,a,n[a])}),this.update((new s.default).retain(e).retain(t,(0,p.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new s.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach(function(e){var t=a(e,1)[0];t instanceof h.default?r.push(t):t instanceof l.default.Leaf&&n.push(t)}):(r=this.scroll.lines(e,t),n=this.scroll.descendants(l.default.Leaf,e,t));var i=[r,n].map(function(e){if(0===e.length)return{};for(var t=(0,u.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=v((0,u.bubbleFormats)(r),t)}return t});return g.default.apply(g.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new s.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach(function(a){r.scroll.formatAt(e,t.length,a,n[a])}),this.update((new s.default).retain(e).insert(t,(0,p.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===h.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),i=a(n,2),o=i[0],l=i[1],d=0,u=new s.default;null!=o&&(d=o instanceof c.default?o.newlineIndex(l)-l+1:o.length()-l,u=o.delta().slice(l,l+d-1).insert("\n"));var h=this.getContents(e,t+d).diff((new s.default).insert(r).concat(u)),f=(new s.default).retain(e).concat(h);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var a=l.default.find(t[0].target),i=(0,u.bubbleFormats)(a),o=a.offset(this.scroll),c=t[0].oldValue.replace(d.default.CONTENTS,""),h=(new s.default).insert(c),f=(new s.default).insert(a.value());e=(new s.default).retain(o).concat(h.diff(f,r)).reduce(function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)},new s.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}();function v(e,t){return Object.keys(t).reduce(function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r},{})}t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(0)),s=c(r(21)),o=c(r(11)),l=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=(0,c(r(10)).default)("quill:selection"),f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.index=t,this.length=r},p=function(){function e(t,r){var n=this;u(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){n.mouseDown||setTimeout(n.update.bind(n,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&n.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var r=t.range,a=r.startNode,i=r.startOffset,s=r.endNode,o=r.endOffset;n.setNativeRange(a,i,s,o)}}),this.update(l.default.sources.SILENT)}return a(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=i.default.find(r.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var a=n.split(r.start.offset);n.parent.insertBefore(this.cursor,a)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var a=void 0,i=this.scroll.leaf(e),s=n(i,2),o=s[0],l=s[1];if(null==o)return null;var c=o.position(l,!0),d=n(c,2);a=d[0],l=d[1];var u=document.createRange();if(t>0){u.setStart(a,l);var h=this.scroll.leaf(e+t),f=n(h,2);if(o=f[0],l=f[1],null==o)return null;var p=o.position(l,!0),m=n(p,2);return a=m[0],l=m[1],u.setEnd(a,l),u.getBoundingClientRect()}var g="left",x=void 0;return a instanceof Text?(l<a.data.length?(u.setStart(a,l),u.setEnd(a,l+1)):(u.setStart(a,l-1),u.setEnd(a,l),g="right"),x=u.getBoundingClientRect()):(x=o.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:x.top+x.height,height:x.height,left:x[g],right:x[g],top:x.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return h.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var a=r.map(function(e){var r=n(e,2),a=r[0],s=r[1],o=i.default.find(a,!0),l=o.offset(t.scroll);return 0===s?l:o instanceof i.default.Container?l+o.length():l+o.index(a,s)}),s=Math.min(Math.max.apply(Math,d(a)),this.scroll.length()-1),o=Math.min.apply(Math,[s].concat(d(a)));return new f(o,s-o)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r}),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],a=[],i=this.scroll.length();return r.forEach(function(e,r){e=Math.min(i-1,e);var s,o=t.scroll.leaf(e),l=n(o,2),c=l[0],d=l[1],u=c.position(d,0!==r),h=n(u,2);s=h[0],d=h[1],a.push(s,d)}),a.length<2&&(a=a.concat(a)),a}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var a=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,a)),s=n(i,1)[0],o=s;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,a));o=n(l,1)[0]}if(null!=s&&null!=o){var c=e.getBoundingClientRect();r.top<c.top?e.scrollTop-=c.top-r.top:r.bottom>c.bottom&&(e.scrollTop+=r.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||a||e!==s.startContainer||t!==s.startOffset||r!==s.endContainer||n!==s.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var o=document.createRange();o.setStart(e,t),o.setEnd(r,n),i.removeAllRanges(),i.addRange(o)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(r=t,t=!1),h.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,d(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,r=this.getRange(),a=n(r,2),i=a[0],c=a[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,o.default)(t,this.lastRange)){var d;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var u,h=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(t),e];(d=this.emitter).emit.apply(d,[l.default.events.EDITOR_CHANGE].concat(h)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}}}]),e}();function m(e,t){try{t.parentNode}catch(r){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(0),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"insertInto",value:function(e,r){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=s)&&n.__esModule?n:{default:n}).default.Embed);o.blotName="break",o.tagName="BR",t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(44),i=r(30),s=r(1),o=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return n(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var r=l(t);e.insertBefore(r,e.children.head||void 0)}catch(n){if(n instanceof s.ParchmentError)return;throw n}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,r){e.deleteAt(t,r)})},t.prototype.descendant=function(e,r){var n=this.children.find(r),a=n[0],i=n[1];return null==e.blotName&&e(a)||null!=e.blotName&&a instanceof e?[a,i]:a instanceof t?a.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var a=[],i=n;return this.children.forEachAt(r,n,function(r,n,s){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&a.push(r),r instanceof t&&(a=a.concat(r.descendants(e,n,i))),i-=s}),a},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,function(e,t,a){e.formatAt(t,a,r,n)})},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),a=n[0],i=n[1];if(a)a.insertAt(i,t,r);else{var o=null==r?s.create("text",t):s.create(t,r);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(r){e.insertBefore(r,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=s.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),a=n[0],i=n[1],s=[[this,e]];return a instanceof t?s.concat(a.path(i,r)):(null!=a&&s.push([a,i]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),function(e,n,a){e=e.split(n,t),r.appendChild(e)}),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],a=[];e.forEach(function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),a.push.apply(a,e.removedNodes))}),a.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}}),n.filter(function(e){return e.parentNode==r.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var n=l(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))})},t}(i.default);function l(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(r){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),i=r(31),s=r(17),o=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new i.default(r.domNode),r}return n(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=o.query(e);r instanceof a.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some(function(e){return e.target===n.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(r,n){var a=e.prototype.wrap.call(this,r,n);return a instanceof t&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},t}(s.default);t.default=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(30),i=r(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=i.Scope.INLINE_BLOT,t}(a.default);t.default=s},function(e,t,r){var n=r(11),a=r(3),i={attributes:{compose:function(e,t,r){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=a(!0,{},t);for(var i in r||(n=Object.keys(n).reduce(function(e,t){return null!=n[t]&&(e[t]=n[t]),e},{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(r,a){return n(e[a],t[a])||(r[a]=void 0===t[a]?null:t[a]),r},{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!==typeof e)return t;if("object"===typeof t){if(!r)return t;var n=Object.keys(t).reduce(function(r,n){return void 0===e[n]&&(r[n]=t[n]),r},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var a={};return t.attributes&&(a.attributes=t.attributes),"number"===typeof t.retain?a.retain=e:"string"===typeof t.insert?a.insert=t.insert.substr(r,e):a.insert=t.insert,a}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},function(e,t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(o){t=function(){}}try{r=Set}catch(o){r=function(){}}try{n=Promise}catch(o){n=function(){}}function a(i,o,l,c,d){"object"===typeof o&&(l=o.depth,c=o.prototype,d=o.includeNonEnumerable,o=o.circular);var u=[],h=[],f="undefined"!=typeof Buffer;return"undefined"==typeof o&&(o=!0),"undefined"==typeof l&&(l=1/0),function i(l,p){if(null===l)return null;if(0===p)return l;var m,g;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,r))m=new r;else if(e(l,n))m=new n(function(e,t){l.then(function(t){e(i(t,p-1))},function(e){t(i(e,p-1))})});else if(a.__isArray(l))m=[];else if(a.__isRegExp(l))m=new RegExp(l.source,s(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(a.__isDate(l))m=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):"undefined"==typeof c?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(c),g=c)}if(o){var x=u.indexOf(l);if(-1!=x)return h[x];u.push(l),h.push(m)}for(var y in e(l,t)&&l.forEach(function(e,t){var r=i(t,p-1),n=i(e,p-1);m.set(r,n)}),e(l,r)&&l.forEach(function(e){var t=i(e,p-1);m.add(t)}),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(m[y]=i(l[y],p-1))}if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(l);for(y=0;y<v.length;y++){var w=v[y];(!(k=Object.getOwnPropertyDescriptor(l,w))||k.enumerable||d)&&(m[w]=i(l[w],p-1),k.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(d){var j=Object.getOwnPropertyNames(l);for(y=0;y<j.length;y++){var k,N=j[y];(k=Object.getOwnPropertyDescriptor(l,N))&&k.enumerable||(m[N]=i(l[N],p-1),Object.defineProperty(m,N,{enumerable:!1}))}}return m}(i,l)}function i(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=i,a.__isDate=function(e){return"object"===typeof e&&"[object Date]"===i(e)},a.__isArray=function(e){return"object"===typeof e&&"[object Array]"===i(e)},a.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===i(e)},a.__getRegExpFlags=s,a}();"object"===typeof e&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=f(r(0)),o=f(r(8)),l=r(4),c=f(l),d=f(r(16)),u=f(r(13)),h=f(r(25));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return e instanceof c.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=r.emitter,Array.isArray(r.whitelist)&&(n.whitelist=r.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),n.domNode.addEventListener("DOMNodeInserted",function(){}),n.optimize(),n.enable(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var a=this.line(e),s=n(a,2),o=s[0],c=s[1],h=this.line(e+r),f=n(h,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=f&&o!==f&&c>0){if(o instanceof l.BlockEmbed||f instanceof l.BlockEmbed)return void this.optimize();if(o instanceof u.default){var p=o.newlineIndex(o.length(),!0);if(p>-1&&(o=o.split(p+1))===f)return void this.optimize()}else if(f instanceof u.default){var m=f.newlineIndex(0);m>-1&&f.split(m+1)}var g=f.children.head instanceof d.default?null:f.children.head;o.moveChildren(f,g),o.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,n,a){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,a),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==s.default.query(r,s.default.Scope.BLOCK)){var a=s.default.create(this.statics.defaultChild);this.appendChild(a),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),a.insertAt(0,r,n)}else{var o=s.default.create(r,n);this.appendChild(o)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===s.default.Scope.INLINE_BLOT){var n=s.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(p,e)}},{key:"lines",value:function(){return function e(t,r,n){var a=[],i=n;return t.children.forEachAt(r,n,function(t,r,n){p(t)?a.push(t):t instanceof s.default.Container&&(a=a.concat(e(t,r,i))),i-=n}),a}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(o.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=o.default.sources.USER;"string"===typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(o.default.events.SCROLL_BEFORE_UPDATE,r,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(o.default.events.SCROLL_UPDATE,r,e)}}}]),t}(s.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,h.default],t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=m(r(21)),o=m(r(11)),l=m(r(3)),c=m(r(2)),d=m(r(20)),u=m(r(0)),h=m(r(5)),f=m(r(10)),p=m(r(9));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.bindings={},Object.keys(n.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])}),n.addBinding({key:t.keys.ENTER,shiftKey:null},N),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),n.addBinding({key:t.keys.DELETE},{collapsed:!0},j)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},k),n.addBinding({key:t.keys.DELETE},{collapsed:!1},k),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),n.listen(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=A(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(r){return!!t[r]!==e[r]&&null!==t[r]})&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=A(e);if(null==n||null==n.key)return x.warn("Attempted to add invalid keyboard binding",n);"function"===typeof t&&(t={handler:t}),"function"===typeof r&&(r={handler:r}),n=(0,l.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(r){if(!r.defaultPrevented){var i=r.which||r.keyCode,s=(e.bindings[i]||[]).filter(function(e){return t.match(r,e)});if(0!==s.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),d=a(c,2),h=d[0],f=d[1],p=e.quill.getLeaf(l.index),m=a(p,2),g=m[0],x=m[1],y=0===l.length?[g,x]:e.quill.getLeaf(l.index+l.length),b=a(y,2),v=b[0],w=b[1],j=g instanceof u.default.Text?g.value().slice(0,x):"",k=v instanceof u.default.Text?v.value().slice(w):"",N={collapsed:0===l.length,empty:0===l.length&&h.length()<=1,format:e.quill.getFormat(l),offset:f,prefix:j,suffix:k};s.some(function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==N.format[e]}))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,o.default)(t.format[e],N.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix))&&!(null!=t.suffix&&!t.suffix.test(N.suffix))&&!0!==t.handler.call(e,l,N)})&&r.preventDefault()}}}})}}]),t}(p.default);function v(e,t){var r,n=e===b.keys.LEFT?"prefix":"suffix";return g(r={key:e,shiftKey:t,altKey:null},n,/^$/),g(r,"handler",function(r){var n=r.index;e===b.keys.RIGHT&&(n+=r.length+1);var i=this.quill.getLeaf(n);return!(a(i,1)[0]instanceof u.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,h.default.sources.USER):this.quill.setSelection(r.index-1,h.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,h.default.sources.USER):this.quill.setSelection(r.index+r.length+1,h.default.sources.USER),!1)}),r}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=a(r,1)[0],i={};if(0===t.offset){var s=this.quill.getLine(e.index-1),o=a(s,1)[0];if(null!=o&&o.length()>1){var l=n.formats(),c=this.quill.getFormat(e.index-1,1);i=d.default.attributes.diff(l,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,h.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-u,u,i,h.default.sources.USER),this.quill.focus()}}function j(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},i=0,s=this.quill.getLine(e.index),o=a(s,1)[0];if(t.offset>=o.length()-1){var l=this.quill.getLine(e.index+1),c=a(l,1)[0];if(c){var u=o.formats(),f=this.quill.getFormat(e.index,1);n=d.default.attributes.diff(u,f)||{},i=c.length()}}this.quill.deleteText(e.index,r,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,r,n,h.default.sources.USER)}}function k(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),a=t[t.length-1].formats();r=d.default.attributes.diff(a,n)||{}}this.quill.deleteText(e,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,h.default.sources.USER),this.quill.setSelection(e.index,h.default.sources.SILENT),this.quill.focus()}function N(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce(function(e,r){return u.default.query(r,u.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e},{});this.quill.insertText(e.index,"\n",n,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],h.default.sources.USER))})}function _(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=u.default.query("code-block"),n=t.index,i=t.length,s=this.quill.scroll.descendant(r,n),o=a(s,2),l=o[0],c=o[1];if(null!=l){var d=this.quill.getIndex(l),f=l.newlineIndex(c,!0)+1,p=l.newlineIndex(d+c+i),m=l.domNode.textContent.slice(f,p).split("\n");c=0,m.forEach(function(t,a){e?(l.insertAt(f+c,r.TAB),c+=r.TAB.length,0===a?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(l.deleteAt(f+c,r.TAB.length),c-=r.TAB.length,0===a?n-=r.TAB.length:i-=r.TAB.length),c+=t.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(n,i,h.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],h.default.sources.USER)}}}function A(e){if("string"===typeof e||"number"===typeof e)return A({key:e});if("object"===("undefined"===typeof e?"undefined":n(e))&&(e=(0,s.default)(e,!1)),"string"===typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,h.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,h.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,h.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=a(t,2),n=r[0],i=r[1],s=(0,l.default)({},n.formats(),{list:"checked"}),o=(new c.default).retain(e.index).insert("\n",s).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=a(r,2),i=n[0],s=n[1],o=(new c.default).retain(e.index).insert("\n",t.format).retain(i.length()-s-1).retain(1,{header:null});this.quill.updateContents(o,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),i=a(n,2),s=i[0],o=i[1];if(o>r)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",h.default.sources.USER),this.quill.history.cutoff();var d=(new c.default).retain(e.index-o).delete(r+1).retain(s.length()-2-o).retain(1,{list:l});this.quill.updateContents(d,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,h.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=a(t,2),n=r[0],i=r[1],s=(new c.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,h.default.sources.USER)}},"embed left":v(b.keys.LEFT,!1),"embed left shift":v(b.keys.LEFT,!0),"embed right":v(b.keys.RIGHT,!1),"embed right shift":v(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=l(r(0)),o=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=r,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var n=this,i=0;null!=n&&n.statics.scope!==s.default.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(i,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),a=void 0,i=void 0,l=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var c=[e,r.start.offset,r.end.offset];a=c[0],i=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var d=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof o.default?(a=this.next.domNode,this.next.insertAt(0,d),this.textNode.data=t.CONTENTS):(this.textNode.data=d,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var u=[i,l].map(function(e){return Math.max(0,Math.min(a.data.length,e-1))}),h=n(u,2);return i=h[0],l=h[1],{startNode:a,startOffset:i,endNode:a,endOffset:l}}}}},{key:"update",value:function(e,t){var r=this;if(e.some(function(e){return"characterData"===e.type&&e.target===r.textNode})){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(s.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(0)),a=r(4),i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);o.allowedChildren=[i.default,a.BlockEmbed,o],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(0),o=(n=s)&&n.__esModule?n:{default:n},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):r}}]),t}(o.default.Attributor.Style),c=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),d=new l("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=s)&&n.__esModule?n:{default:n}).default);function l(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}o.blotName="link",o.tagName="A",o.SANITIZED_URL="about:blank",o.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=o,t.sanitize=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o(r(23)),s=o(r(107));function o(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){r.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case i.default.keys.ENTER:r.togglePicker();break;case i.default.keys.ESCAPE:r.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return a(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",function(){t.selectItem(r,!0)}),r.addEventListener("keydown",function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":n(Event))){var a=document.createEvent("Event");a.initEvent("change",!0,!0),this.select.dispatchEvent(a)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=x(r(0)),a=x(r(5)),i=r(4),s=x(i),o=x(r(16)),l=x(r(25)),c=x(r(24)),d=x(r(35)),u=x(r(6)),h=x(r(22)),f=x(r(7)),p=x(r(55)),m=x(r(42)),g=x(r(23));function x(e){return e&&e.__esModule?e:{default:e}}a.default.register({"blots/block":s.default,"blots/block/embed":i.BlockEmbed,"blots/break":o.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":d.default,"blots/inline":u.default,"blots/scroll":h.default,"blots/text":f.default,"modules/clipboard":p.default,"modules/history":m.default,"modules/keyboard":g.default}),n.default.register(s.default,o.default,c.default,u.default,h.default,f.default),t.default=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,a){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&a)i.wrap(r,a);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var s=n.create(this.statics.scope);i.wrap(s),s.format(r,a)}},e.prototype.insertAt=function(e,t,r){var a=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(a,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"===typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"===typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),a=r(32),i=r(33),s=r(1),o=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=a.default.keys(this.domNode),o=i.default.keys(this.domNode);t.concat(r).concat(o).forEach(function(t){var r=s.query(t,s.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=e.attributes[r].value(e.domNode),t},{})},e}();t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function a(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){a(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(a(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function a(e){var t=e.split("-"),r=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[a(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[a(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[a(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();a.DEFAULTS={modules:{}},a.themes={default:a},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=o(r(0)),s=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(e){r.contentNode.appendChild(e)}),r.leftGuard=document.createTextNode(l),r.rightGuard=document.createTextNode(l),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof s.default){var a=this.prev.length();this.prev.insertAt(a,n),t={startNode:this.prev.domNode,startOffset:a+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=l,t}},{key:"update",value:function(e,t){var r=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}})}}]),t}(i.default.Embed);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},s={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new i.default.Attributor.Attribute("align","align",s),l=new i.default.Attributor.Class("align","ql-align",s),c=new i.default.Attributor.Style("align","text-align",s);t.AlignAttribute=o,t.AlignClass=l,t.AlignStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},s=r(26),o=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),l=new s.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=o,t.BackgroundStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},s={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},o=new i.default.Attributor.Attribute("direction","dir",s),l=new i.default.Attributor.Class("direction","ql-direction",s),c=new i.default.Attributor.Style("direction","direction",s);t.DirectionAttribute=o,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(0),o=(n=s)&&n.__esModule?n:{default:n},l={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new o.default.Attributor.Class("font","ql-font",l),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(o.default.Attributor.Style),u=new d("font","font-family",l);t.FontStyle=u,t.FontClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},s=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=s,t.SizeStyle=o},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(0)),i=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,function(e,t,r,a){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&a!==i.default.sources.USER?n.transform(t):n.record(t,r))}),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],i.default.sources.USER),this.ignoreChange=!1;var n=l(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var a=this.stack.undo.pop();r=r.compose(a.undo),e=a.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(s(r(9)).default);function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=a.default.query(e,a.default.Scope.BLOCK)}))}(e)&&(r-=1),r}o.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=o,t.getLastChangeIndex=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=p(r(3)),s=p(r(2)),o=p(r(8)),l=p(r(23)),c=p(r(34)),d=p(r(59)),u=p(r(60)),h=p(r(28)),f=p(r(61));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],v=[!1,"serif","monospace"],w=["1","2","3",!1],j=["small",!1,"large","huge"],k=function(e){function t(e,r){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(r.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach(function(e){e.container.contains(r.target)||e.close()})}),n}return x(t,e),n(t,[{key:"addModule",value:function(e){var r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"===typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}})})}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&_(e,y),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&_(e,b,"background"===r?"#ffffff":"#000000"),new d.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?_(e,v):e.classList.contains("ql-header")?_(e,w):e.classList.contains("ql-size")&&_(e,j)),new h.default(e)}),this.quill.on(o.default.events.EDITOR_CHANGE,function(){r.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);k.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new s.default).retain(n.index).delete(n.length).insert({image:r.target.result}),o.default.sources.USER),e.quill.setSelection(n.index+1,o.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(e){function t(e,r){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return x(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,o.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var r=this.quill.getSelection(!0);if(null!=r){var n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",o.default.sources.USER),this.quill.setSelection(n+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)})}t.BaseTooltip=N,t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var a=r.length();if(e<a||t&&e===a&&(null==r.next||0!==r.next.length()))return[r,e];e-=a}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,a=this.find(e),i=a[0],s=e-a[1],o=this.iterator(i);(n=o())&&s<e+t;){var l=n.length();e>s?r(n,e-s,Math.min(t,s+l-e)):r(n,0,Math.min(l,e+t-s)),s+=l}},e.prototype.map=function(e){return this.reduce(function(t,r){return t.push(e(r)),t},[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),i=r(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},o=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver(function(e){r.update(e)}),r.observer.observe(r.domNode,s),r.attach(),r}return n(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,a){this.update(),e.prototype.formatAt.call(this,t,r,n,a)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)t.push(s.pop());for(var o=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[i.DATA_KEY].mutations&&(e.domNode[i.DATA_KEY].mutations=[]),t&&o(e.parent))},l=function(e){null!=e.domNode[i.DATA_KEY]&&null!=e.domNode[i.DATA_KEY].mutations&&(e instanceof a.default&&e.children.forEach(l),e.optimize(r))},c=t,d=0;c.length>0;d+=1){if(d>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=i.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(o(i.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=i.find(e,!1);o(t,!1),t instanceof a.default&&t.children.forEach(function(e){o(e,!1)})})):"attributes"===e.type&&o(t.prev)),o(t))}),this.children.forEach(l),s=(c=[].slice.call(this.observer.takeRecords())).slice();s.length>0;)t.push(s.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map(function(e){var t=i.find(e.target,!0);return null==t?null:null==t.domNode[i.DATA_KEY].mutations?(t.domNode[i.DATA_KEY].mutations=[e],t):(t.domNode[i.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==n&&null!=e.domNode[i.DATA_KEY]&&e.update(e.domNode[i.DATA_KEY].mutations||[],r)}),null!=this.domNode[i.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="DIV",t}(a.default);t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(18),i=r(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var i=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach(function(e){e instanceof a.default||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,r,n,a){null!=this.formats()[n]||i.query(n,i.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,a):e.prototype.formatAt.call(this,t,r,n,a)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var a=this.next;a instanceof t&&a.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,a.formats())&&(a.moveChildren(this),a.remove())},t.blotName="inline",t.scope=i.Scope.INLINE_BLOT,t.tagName="SPAN",t}(a.default);t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(18),i=r(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(r){var n=i.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=i.query(r,i.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,a){null!=i.query(n,i.Scope.BLOCK)?this.format(n,a):e.prototype.formatAt.call(this,t,r,n,a)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=i.query(r,i.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var a=this.split(t),s=i.create(r,n);a.parent.insertBefore(s,a)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="P",t}(a.default);t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,a){0===t&&r===this.length()?this.format(n,a):e.prototype.formatAt.call(this,t,r,n,a)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(19),i=r(1),s=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return n(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=i.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some(function(e){return"characterData"===e.type&&e.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=i.Scope.INLINE_BLOT,t}(a.default);t.default=s},function(e,t,r){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:a.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,a=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(a,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var r=-1;function n(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var d=i(e,t),u=e.substring(0,d);d=s(e=e.substring(d),t=t.substring(d));var h=e.substring(e.length-d),f=function(e,t){var o;if(!e)return[[1,t]];if(!t)return[[r,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,d=l.indexOf(c);if(-1!=d)return o=[[1,l.substring(0,d)],[0,c],[1,l.substring(d+c.length)]],e.length>t.length&&(o[0][0]=o[2][0]=r),o;if(1==c.length)return[[r,e],[1,t]];var u=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function a(e,t,r){for(var n,a,o,l,c=e.substring(r,r+Math.floor(e.length/4)),d=-1,u="";-1!=(d=t.indexOf(c,d+1));){var h=i(e.substring(r),t.substring(d)),f=s(e.substring(0,r),t.substring(0,d));u.length<f+h&&(u=t.substring(d-f,d)+t.substring(d,d+h),n=e.substring(0,r-f),a=e.substring(r+h),o=t.substring(0,d-f),l=t.substring(d+h))}return 2*u.length>=e.length?[n,a,o,l,u]:null}var o,l,c,d,u,h=a(r,n,Math.ceil(r.length/4)),f=a(r,n,Math.ceil(r.length/2));if(!h&&!f)return null;o=f?h&&h[4].length>f[4].length?h:f:h,e.length>t.length?(l=o[0],c=o[1],d=o[2],u=o[3]):(d=o[0],u=o[1],l=o[2],c=o[3]);var p=o[4];return[l,c,d,u,p]}(e,t);if(u){var h=u[0],f=u[1],p=u[2],m=u[3],g=u[4],x=n(h,p),y=n(f,m);return x.concat([[0,g]],y)}return function(e,t){for(var n=e.length,i=t.length,s=Math.ceil((n+i)/2),o=s,l=2*s,c=new Array(l),d=new Array(l),u=0;u<l;u++)c[u]=-1,d[u]=-1;c[o+1]=0,d[o+1]=0;for(var h=n-i,f=h%2!=0,p=0,m=0,g=0,x=0,y=0;y<s;y++){for(var b=-y+p;b<=y-m;b+=2){for(var v=o+b,w=(S=b==-y||b!=y&&c[v-1]<c[v+1]?c[v+1]:c[v-1]+1)-b;S<n&&w<i&&e.charAt(S)==t.charAt(w);)S++,w++;if(c[v]=S,S>n)m+=2;else if(w>i)p+=2;else if(f&&(N=o+h-b)>=0&&N<l&&-1!=d[N]&&S>=(k=n-d[N]))return a(e,t,S,w)}for(var j=-y+g;j<=y-x;j+=2){for(var k,N=o+j,_=(k=j==-y||j!=y&&d[N-1]<d[N+1]?d[N+1]:d[N-1]+1)-j;k<n&&_<i&&e.charAt(n-k-1)==t.charAt(i-_-1);)k++,_++;if(d[N]=k,k>n)x+=2;else if(_>i)g+=2;else if(!f){var S;if((v=o+h-j)>=0&&v<l&&-1!=c[v])if(w=o+(S=c[v])-v,S>=(k=n-k))return a(e,t,S,w)}}}return[[r,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return u&&f.unshift([0,u]),h&&f.push([0,h]),o(f),null!=l&&(f=function(e,t){var n=function(e,t){if(0===t)return[0,e];for(var n=0,a=0;a<e.length;a++){var i=e[a];if(i[0]===r||0===i[0]){var s=n+i[1].length;if(t===s)return[a+1,e];if(t<s){e=e.slice();var o=t-n,l=[i[0],i[1].slice(0,o)],c=[i[0],i[1].slice(o)];return e.splice(a,1,l,c),[a+1,e]}n=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),a=n[1],i=n[0],s=a[i],o=a[i+1];if(null==s)return e;if(0!==s[0])return e;if(null!=o&&s[1]+o[1]===o[1]+s[1])return a.splice(i,2,o,s),c(a,i,2);if(null!=o&&0===o[1].indexOf(s[1])){a.splice(i,2,[o[0],s[1]],[0,s[1]]);var l=o[1].slice(s[1].length);return l.length>0&&a.splice(i+2,0,[o[0],l]),c(a,i,3)}return e}(f,l)),f=function(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},i=2;i<e.length;i+=1)0===e[i-2][0]&&a(e[i-2][1])&&e[i-1][0]===r&&n(e[i-1][1])&&1===e[i][0]&&n(e[i][1])&&(t=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));if(!t)return e;var s=[];for(i=0;i<e.length;i+=1)e[i][1].length>0&&s.push(e[i]);return s}(f)}function a(e,t,r,a){var i=e.substring(0,r),s=t.substring(0,a),o=e.substring(r),l=t.substring(a),c=n(i,s),d=n(o,l);return c.concat(d)}function i(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),a=n,i=0;r<a;)e.substring(i,a)==t.substring(i,a)?i=r=a:n=a,a=Math.floor((n-r)/2+r);return a}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),a=n,i=0;r<a;)e.substring(e.length-a,e.length-i)==t.substring(t.length-a,t.length-i)?i=r=a:n=a,a=Math.floor((n-r)/2+r);return a}function o(e){e.push([0,""]);for(var t,n=0,a=0,l=0,c="",d="";n<e.length;)switch(e[n][0]){case 1:l++,d+=e[n][1],n++;break;case r:a++,c+=e[n][1],n++;break;case 0:a+l>1?(0!==a&&0!==l&&(0!==(t=i(d,c))&&(n-a-l>0&&0==e[n-a-l-1][0]?e[n-a-l-1][1]+=d.substring(0,t):(e.splice(0,0,[0,d.substring(0,t)]),n++),d=d.substring(t),c=c.substring(t)),0!==(t=s(d,c))&&(e[n][1]=d.substring(d.length-t)+e[n][1],d=d.substring(0,d.length-t),c=c.substring(0,c.length-t))),0===a?e.splice(n-l,a+l,[1,d]):0===l?e.splice(n-a,a+l,[r,c]):e.splice(n-a-l,a+l,[r,c],[1,d]),n=n-a-l+(a?1:0)+(l?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,l=0,a=0,c="",d=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),u=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),u=!0)),n++;u&&o(e)}var l=n;function c(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var a=e[n],i=e[n+1];a[0]===i[1]&&e.splice(n,2,[a[0],a[1]+i[1]])}return e}l.INSERT=1,l.DELETE=r,l.EQUAL=0,e.exports=l},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"===typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?n:a).supported=n,t.unsupported=a},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function a(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,t,a=[];if(0===this._eventsCount)return a;for(t in e=this._events)r.call(e,t)&&a.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e,t){var r=n?n+e:e,a=this._events[r];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var i=0,s=a.length,o=new Array(s);i<s;i++)o[i]=a[i].fn;return o},s.prototype.emit=function(e,t,r,a,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,i),!0;case 6:return d.fn.call(d.context,t,r,a,i,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,f=d.length;for(c=0;c<f;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,r){var a=new i(t,r||this),s=n?n+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],a]:this._events[s].push(a):(this._events[s]=a,this._eventsCount++),this},s.prototype.once=function(e,t,r){var a=new i(t,r||this,!0),s=n?n+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],a]:this._events[s].push(a):(this._events[s]=a,this._eventsCount++),this},s.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return 0===--this._eventsCount?this._events=new a:delete this._events[s],this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||(0===--this._eventsCount?this._events=new a:delete this._events[s]);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new a:delete this._events[s]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new a:delete this._events[t])):(this._events=new a,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=n,s.EventEmitter=s,"undefined"!==typeof e&&(e.exports=s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=b(r(3)),o=b(r(2)),l=b(r(0)),c=b(r(5)),d=b(r(10)),u=b(r(9)),h=r(36),f=r(37),p=b(r(13)),m=r(26),g=r(38),x=r(39),y=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=(0,d.default)("quill:clipboard"),j="__ql-matcher",k=[[Node.TEXT_NODE,I],[Node.TEXT_NODE,D],["br",function(e,t){return E(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};return n.fontStyle&&"italic"===O(e).fontStyle&&(r.italic=!0),n.fontWeight&&(O(e).fontWeight.startsWith("bold")||parseInt(O(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=A(t,r)),parseFloat(n.textIndent||0)>0&&(t=(new o.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=l.default.query(e);if(null==r||"list-item"!==r.blotName||!E(t,"\n"))return t;for(var n=-1,a=e.parentNode;!a.classList.contains("ql-clipboard");)"list"===(l.default.query(a)||{}).blotName&&(n+=1),a=a.parentNode;return n<=0?t:t.compose((new o.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new o.default}]],N=[h.AlignAttribute,g.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),_=[h.AlignStyle,f.BackgroundStyle,m.ColorStyle,g.DirectionStyle,x.FontStyle,y.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),S=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],k.concat(n.options.matchers).forEach(function(e){var t=a(e,2),i=t[0],s=t[1];(r.matchVisual||s!==R)&&n.addMatcher(i,s)}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[p.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new o.default).insert(r,v({},p.default.blotName,t[p.default.blotName]))}var n=this.prepareMatching(),i=a(n,2),s=i[0],l=i[1],c=P(this.container,s,l);return E(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new o.default).retain(c.length()-1).delete(1))),w.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new o.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new o.default).retain(r.index),a=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,c.default.sources.USER),t.quill.setSelection(n.length()-r.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=a,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach(function(n){var i=a(n,2),s=i[0],o=i[1];switch(s){case Node.TEXT_NODE:r.push(o);break;case Node.ELEMENT_NODE:t.push(o);break;default:[].forEach.call(e.container.querySelectorAll(s),function(e){e[j]=e[j]||[],e[j].push(o)})}}),[t,r]}}]),t}(u.default);function A(e,t,r){return"object"===("undefined"===typeof t?"undefined":n(t))?Object.keys(t).reduce(function(e,r){return A(e,r,t[r])},e):e.reduce(function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,s.default)({},v({},t,r),n.attributes))},new o.default)}function O(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function E(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var a=e.ops[n];if("string"!==typeof a.insert)break;r=a.insert+r}return r.slice(-1*t.length)===t}function C(e){if(0===e.childNodes.length)return!1;var t=O(e);return["block","list-item"].indexOf(t.display)>-1}function P(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,r){return r(e,t)},new o.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(n,a){var i=P(a,t,r);return a.nodeType===e.ELEMENT_NODE&&(i=t.reduce(function(e,t){return t(a,e)},i),i=(a[j]||[]).reduce(function(e,t){return t(a,e)},i)),n.concat(i)},new o.default):new o.default}function T(e,t,r){return A(r,e,!0)}function M(e,t){var r=l.default.Attributor.Attribute.keys(e),n=l.default.Attributor.Class.keys(e),a=l.default.Attributor.Style.keys(e),i={};return r.concat(n).concat(a).forEach(function(t){var r=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=r&&(i[r.attrName]=r.value(e),i[r.attrName])||(null==(r=N[t])||r.attrName!==t&&r.keyName!==t||(i[r.attrName]=r.value(e)||void 0),null==(r=_[t])||r.attrName!==t&&r.keyName!==t||(r=_[t],i[r.attrName]=r.value(e)||void 0))}),Object.keys(i).length>0&&(t=A(t,i)),t}function L(e,t){var r=l.default.query(e);if(null==r)return t;if(r.prototype instanceof l.default.Embed){var n={},a=r.value(e);null!=a&&(n[r.blotName]=a,t=(new o.default).insert(n,r.formats(e)))}else"function"===typeof r.formats&&(t=A(t,r.blotName,r.formats(e)));return t}function D(e,t){return E(t,"\n")||(C(e)||t.length()>0&&e.nextSibling&&C(e.nextSibling))&&t.insert("\n"),t}function R(e,t){if(C(e)&&null!=e.nextElementSibling&&!E(t,"\n\n")){var r=e.offsetHeight+parseFloat(O(e).marginTop)+parseFloat(O(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function I(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!O(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&C(e.parentNode)||null!=e.previousSibling&&C(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&C(e.parentNode)||null!=e.nextSibling&&C(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=M,t.matchBlot=L,t.matchNewline=D,t.matchSpacing=R,t.matchText=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=s)&&n.__esModule?n:{default:n}).default);o.blotName="bold",o.tagName=["STRONG","B"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r(2)),s=d(r(0)),o=d(r(5)),l=d(r(10)),c=d(r(9));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=(0,l.default)("quill:toolbar"),f=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a,i=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(i.options.container)){var s=document.createElement("div");m(s,i.options.container),e.container.parentNode.insertBefore(s,e.container),i.container=s}else"string"===typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(e){i.addHandler(e,i.options.handlers[e])}),[].forEach.call(i.container.querySelectorAll("button, select"),function(e){i.attach(e)}),i.quill.on(o.default.events.EDITOR_CHANGE,function(e,t){e===o.default.events.SELECTION_CHANGE&&i.update(t)}),i.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)}),i):(a=h.error("Container required for toolbar",i.options),u(i,a))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void h.warn("ignoring attaching to disabled format",r,e);if(null==s.default.query(r))return void h.warn("ignoring attaching to nonexistent format",r,e)}var a="SELECT"===e.tagName?"change":"click";e.addEventListener(a,function(a){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),a.preventDefault();t.quill.focus();var d=t.quill.selection.getRange(),u=n(d,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,l);else if(s.default.query(r).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+r)))return;t.quill.updateContents((new i.default).retain(u.index).delete(u.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,l)),o.default.sources.USER)}else t.quill.format(r,l,o.default.sources.USER);t.update(u)}),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(r){var a=n(r,2),i=a[0],s=a[1];if("SELECT"===s.tagName){var o=void 0;if(null==e)o=null;else if(null==t[i])o=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){var l=t[i];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),o=s.querySelector('option[value="'+l+'"]')}null==o?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(null==e)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var c=t[i]===s.getAttribute("value")||null!=t[i]&&t[i].toString()===s.getAttribute("value")||null==t[i]&&!s.getAttribute("value");s.classList.toggle("ql-active",c)}else s.classList.toggle("ql-active",null!=t[i])})}}]),t}(c.default);function p(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(function(e){if("string"===typeof e)p(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)}),e.appendChild(n)}(r,t,n):p(r,t,n)}}),e.appendChild(r)})}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach(function(t){null!=s.default.query(t,s.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,o.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",o.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,o.default.sources.USER),this.quill.format("direction",e,o.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var a="+1"===e?1:-1;"rtl"===r.direction&&(a*=-1),this.quill.format("indent",n+a,o.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,o.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,o.default.sources.USER):this.quill.format("list","unchecked",o.default.sources.USER):this.quill.format("list",e,o.default.sources.USER)}}},t.default=f,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(28),o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=r,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildItem",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var n=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=a:n.style.fill=a)}}]),t}(((n=s)&&n.__esModule?n:{default:n}).default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(28),o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=r[e.getAttribute("data-value")||""]}),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=s)&&n.__esModule?n:{default:n}).default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"}),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),i=0;if(a.right>n.right&&(i=n.right-a.right,this.root.style.left=t+i+"px"),a.left<n.left&&(i=n.left-a.left,this.root.style.left=t+i+"px"),a.bottom>n.bottom){var s=a.bottom-a.top,o=e.bottom-e.top+s;this.root.style.top=r-o+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=f(r(3)),o=f(r(8)),l=r(43),c=f(l),d=f(r(27)),u=r(15),h=f(r(41));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=x);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-snow"),n}return g(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),h.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,r){e.handlers.link.call(e,!r.format.link)})}}]),t}(c.default);y.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){p(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.preview=n.root.querySelector("a.ql-preview"),n}return g(t,e),i(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,o.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(t,r,a){if(null!=t){if(0===t.length&&a===o.default.sources.USER){var i=e.quill.scroll.descendant(d.default,t.index),s=n(i,2),l=s[0],c=s[1];if(null!=l){e.linkRange=new u.Range(t.index-c,l.length());var h=d.default.formats(l.domNode);return e.preview.textContent=h,e.preview.setAttribute("href",h),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=D(r(29)),a=r(36),i=r(38),s=r(64),o=D(r(65)),l=D(r(66)),c=r(67),d=D(c),u=r(37),h=r(26),f=r(39),p=r(40),m=D(r(56)),g=D(r(68)),x=D(r(27)),y=D(r(69)),b=D(r(70)),v=D(r(71)),w=D(r(72)),j=D(r(73)),k=r(13),N=D(k),_=D(r(74)),S=D(r(75)),A=D(r(57)),O=D(r(41)),E=D(r(28)),C=D(r(59)),P=D(r(60)),T=D(r(61)),M=D(r(108)),L=D(r(62));function D(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":p.SizeStyle},!0),n.default.register({"formats/align":a.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":s.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":f.FontClass,"formats/size":p.SizeClass,"formats/blockquote":o.default,"formats/code-block":N.default,"formats/header":l.default,"formats/list":d.default,"formats/bold":m.default,"formats/code":k.Code,"formats/italic":g.default,"formats/link":x.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":v.default,"formats/image":w.default,"formats/video":j.default,"formats/list/item":c.ListItem,"modules/formula":_.default,"modules/syntax":S.default,"modules/toolbar":A.default,"themes/bubble":M.default,"themes/snow":L.default,"ui/icons":O.default,"ui/picker":E.default,"ui/icon-picker":P.default,"ui/color-picker":C.default,"ui/tooltip":T.default},!0),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(0),o=(n=s)&&n.__esModule?n:{default:n},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var n=this.value(e)||0;r="+1"===r?n+1:n-1}return 0===r?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(o.default.Attributor.Class),c=new l("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default);i.blotName="blockquote",i.tagName="blockquote",t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=l(r(0)),s=l(r(4)),o=l(r(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),n(t,[{key:"format",value:function(e,r){e!==f.blotName||r?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:a(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(s.default);h.blotName="list-item",h.tagName="LI";var f=function(e){function t(e){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=r.statics.formats(e),a=i.default.find(t.target);"checked"===n?a.format("list","unchecked"):"unchecked"===n&&a.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),r}return u(t,e),n(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof h)a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var n=null==r?this.length():r.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=i.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(o.default);f.blotName="list",f.scope=i.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[h],t.ListItem=h,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(56),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default);i.blotName="italic",i.tagName=["EM","I"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=s)&&n.__esModule?n:{default:n}).default);o.blotName="script",o.tagName=["SUB","SUP"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default);i.blotName="strike",i.tagName="S",t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default);i.blotName="underline",i.tagName="U",t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(0),o=(n=s)&&n.__esModule?n:{default:n},l=r(27),c=["alt","height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(4),o=r(27),l=(n=o)&&n.__esModule?n:{default:n},c=["height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=l(r(35)),s=l(r(5)),o=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),n(t,null,[{key:"create",value:function(e){var r=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var f=function(e){function t(){c(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),n(t,null,[{key:"register",value:function(){s.default.register(h,!0)}}]),t}(o.default);t.FormulaBlot=h,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},i=l(r(0)),s=l(r(5)),o=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(r(13)).default);h.className="ql-syntax";var f=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),p=function(e){function t(e,r){c(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!==typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var a=null;return n.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(a),a=setTimeout(function(){n.highlight(),a=null},n.options.interval)}),n.highlight(),n}return u(t,e),n(t,null,[{key:"register",value:function(){s.default.register(f,!0),s.default.register(h,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(h).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(s.default.sources.SILENT),null!=t&&this.quill.setSelection(t,s.default.sources.SILENT)}}}]),t}(o.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=h,t.CodeToken=f,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(3)),s=u(r(8)),o=r(43),l=u(o),c=r(15),d=u(r(41));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,r){h(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=m);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-bubble"),n}return p(t,e),a(t,[{key:"extendToolbar",value:function(e){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default)}}]),t}(l.default);g.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(e){function t(e,r){h(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.on(s.default.events.EDITOR_CHANGE,function(e,t,r,a){if(e===s.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&a===s.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var o=i[i.length-1],l=n.quill.getIndex(o),d=Math.min(o.length()-1,t.index+t.length-l),u=n.quill.getBounds(new c.Range(l,d));n.position(u)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()}),n}return p(t,e),a(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),a=this.root.querySelector(".ql-tooltip-arrow");if(a.style.marginLeft="",0===r)return r;a.style.marginLeft=-1*r-a.offsetWidth/2+"px"}}]),t}(o.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=x,t.default=g},function(e,t,r){e.exports=r(63)}]).default},e.exports=t()},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_ADS_CONFIG:()=>a,activateAd:()=>f,calculateExpirationDate:()=>d,deactivateExpiredAds:()=>m,executeExpirationEvents:()=>p,getAdsConfiguration:()=>s,getTimeRemaining:()=>h,initializeAdsConfiguration:()=>i,isAdExpired:()=>u,loadAndApplyAdsConfiguration:()=>l,saveAdsConfiguration:()=>o,trackAdClick:()=>c});var n=r(2555);const a={adsManager:{browsePageAd:{active:!0,image:null,description:"Browse Page Advertisement Space",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0,startDate:null,expirationDate:null,expirationEvents:["deactivate"]},favoriteAd:{active:!1,image:null,description:"",runtime:"1 month",width:"100%",height:"200px",url:"",clicks:0,startDate:null,expirationDate:null,expirationEvents:["deactivate"],notificationMethods:["notificationCenter"],notificationUsers:[]},messengerAd:{active:!1,image:null,description:"",runtime:"1 month",width:"250px",height:"400px",url:"",clicks:0,startDate:null,expirationDate:null,expirationEvents:["deactivate"],notificationMethods:["notificationCenter"],notificationUsers:[]},footerAd:{active:!1,logo:null,companyName:"",runtime:"1 month",url:"",clicks:0,startDate:null,expirationDate:null,expirationEvents:["deactivate"],notificationMethods:["notificationCenter"],notificationUsers:[]}},heroSectionEnabled:!0,featuredProductsEnabled:!0,categoriesShowcase:!0,testimonialSection:!1,footerEnabled:!0},i=()=>{try{console.log("\ud83d\udd27 Initializing ads configuration...");const t=localStorage.getItem("cataloro_site_config");let r={};if(t)try{r=JSON.parse(t)}catch(e){console.warn("\u26a0\ufe0f Invalid existing config, using defaults:",e),r={}}const i=(0,n.A)((0,n.A)((0,n.A)({},a),r),{},{adsManager:(0,n.A)((0,n.A)({},a.adsManager),r.adsManager||{})});return i.heroSectionEnabled=!0,localStorage.setItem("cataloro_site_config",JSON.stringify(i)),console.log("\u2705 Ads configuration initialized:",i),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:i.adsManager})),i}catch(e){return console.error("\u274c Failed to initialize ads configuration:",e),a}},s=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){return JSON.parse(e).adsManager||a.adsManager}return a.adsManager}catch(e){return console.error("\u274c Failed to get ads configuration:",e),a.adsManager}},o=e=>{try{const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),r=(0,n.A)((0,n.A)({},t),{},{adsManager:e,heroSectionEnabled:!0});return localStorage.setItem("cataloro_site_config",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:e})),console.log("\u2705 Ads configuration saved:",e),!0}catch(t){return console.error("\u274c Failed to save ads configuration:",t),!1}},l=()=>{try{const e=i();return!1===e.heroSectionEnabled&&(e.heroSectionEnabled=!0,localStorage.setItem("cataloro_site_config",JSON.stringify(e))),console.log("\u2705 Ads configuration loaded and applied on startup"),e}catch(e){return console.warn("\u26a0\ufe0f Could not load ads configuration:",e),i()}},c=e=>{try{const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");if(t.adsManager&&t.adsManager[e])return t.adsManager[e].clicks=(t.adsManager[e].clicks||0)+1,localStorage.setItem("cataloro_site_config",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adClicked",{detail:{adType:e,clicks:t.adsManager[e].clicks}})),console.log("\ud83d\udd17 Ad click tracked: ".concat(e," (Total clicks: ").concat(t.adsManager[e].clicks,")")),t.adsManager[e].clicks}catch(t){console.error("\u274c Failed to track ad click:",t)}return 0},d=(e,t)=>{if(!e)return null;const r=new Date(e),n=new Date(r);if(t.startsWith("custom_")){const e=t.match(/custom_(\d+)d_(\d+)h_(\d+)m/);if(e){const t=parseInt(e[1])||0,r=parseInt(e[2])||0,a=parseInt(e[3])||0;return n.setDate(n.getDate()+t),n.setHours(n.getHours()+r),n.setMinutes(n.getMinutes()+a),n.toISOString()}}if(t.includes("days")||t.includes("hours")||t.includes("minutes")){const e=t.match(/(\d+)\s*days?/),r=t.match(/(\d+)\s*hours?/),a=t.match(/(\d+)\s*minutes?/),i=e?parseInt(e[1]):0,s=r?parseInt(r[1]):0,o=a?parseInt(a[1]):0;return n.setDate(n.getDate()+i),n.setHours(n.getHours()+s),n.setMinutes(n.getMinutes()+o),n.toISOString()}switch(t){case"1 minute":n.setMinutes(n.getMinutes()+1);break;case"5 minutes":n.setMinutes(n.getMinutes()+5);break;case"1 hour":n.setHours(n.getHours()+1);break;case"1 day":n.setDate(n.getDate()+1);break;case"1 week":n.setDate(n.getDate()+7);break;case"1 month":default:n.setMonth(n.getMonth()+1);break;case"3 months":n.setMonth(n.getMonth()+3);break;case"12 months":case"1 year":n.setFullYear(n.getFullYear()+1)}return n.toISOString()},u=e=>!!e.expirationDate&&new Date>new Date(e.expirationDate),h=e=>{if(!e)return null;const t=new Date,r=new Date(e)-t;if(r<=0)return{expired:!0};return{days:Math.floor(r/864e5),hours:Math.floor(r%864e5/36e5),minutes:Math.floor(r%36e5/6e4),seconds:Math.floor(r%6e4/1e3),expired:!1}},f=(e,t)=>{try{const r=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");r.adsManager||(r.adsManager={}),r.adsManager[e]||(r.adsManager[e]={});const a=(new Date).toISOString(),i=d(a,t.runtime||"1 month");return r.adsManager[e]=(0,n.A)((0,n.A)((0,n.A)({},r.adsManager[e]),t),{},{active:!0,startDate:a,expirationDate:i}),localStorage.setItem("cataloro_site_config",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:r.adsManager})),console.log("\ud83d\udd52 Ad activated: ".concat(e," (Expires: ").concat(i,")")),!0}catch(r){return console.error("\u274c Failed to activate ad:",r),!1}},p=(e,t)=>{const r=t.expirationEvents||[];console.log("\ud83d\udd14 Executing expiration events for ".concat(e,":"),r),r.forEach(r=>{switch(r){case"notify":console.log("\ud83d\udce7 Sending admin notification for expired ad: ".concat(e)),window.dispatchEvent(new CustomEvent("adExpiredNotification",{detail:{adType:e,adConfig:t,message:'Advertisement "'.concat(e,'" has expired')}}));break;case"deactivate":console.log("\u274c Deactivating expired ad: ".concat(e));break;case"reset":console.log("\ud83d\udd04 Resetting duration for ad: ".concat(e));try{const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");if(t.adsManager&&t.adsManager[e]){const r=(new Date).toISOString(),n=t.adsManager[e].runtime,a=d(r,n);t.adsManager[e].startDate=r,t.adsManager[e].expirationDate=a,t.adsManager[e].active=!0,localStorage.setItem("cataloro_site_config",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:t.adsManager})),console.log("\ud83d\udd04 Ad duration reset for ".concat(e," until:"),a)}}catch(n){console.error("Error resetting ad duration for ".concat(e,":"),n)}break;default:console.warn("Unknown expiration event: ".concat(r))}})},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");if(!t.adsManager)return;let r=!1;return Object.keys(t.adsManager).forEach(n=>{const a=t.adsManager[n];if(a.active&&u(a)){var i,s;if(e)return void console.log("\ud83d\udd27 Skipping automatic expiration for ".concat(n," - manual admin control active"));p(n,a);const o=null===(i=a.expirationEvents)||void 0===i?void 0:i.includes("reset"),l=null===(s=a.expirationEvents)||void 0===s?void 0:s.includes("deactivate");o&&!l?console.log("\ud83d\udd04 Ad ".concat(n," expired but configured for reset - automatic reactivation handled")):(l||!o&&!l)&&(t.adsManager[n].active=!1,r=!0,console.log("\ud83d\udd52 Ad expired and automatically deactivated: ".concat(n," (can be manually reactivated by admin)")))}}),r&&(localStorage.setItem("cataloro_site_config",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:t.adsManager}))),r}catch(t){return console.error("\u274c Failed to deactivate expired ads:",t),!1}}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var n=r(3440),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,r)=>{var n=r(6954),a=r(4657);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,r)=>{var n=r(2070),a=r(5713),i=r(2074),s=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=s},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=u(1286742750677284.5),x={};function y(e,t){var r,n,a,i,s,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),o?O(t,h):t;if(c=e.d,d=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=s,l=c.length),i>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=d.length)<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?O(t,h):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function v(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=_(r)),i+=n;(r=7-(n=(s=e[t])+"").length)&&(i+=_(r))}else if(0===s)return"0";for(;s%10===0;)s/=10;return i+s}x.absoluteValue=x.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},x.comparedTo=x.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},x.decimalPlaces=x.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},x.dividedBy=x.div=function(e){return w(this,new this.constructor(e))},x.dividedToIntegerBy=x.idiv=function(e){var t=this.constructor;return O(w(this,new t(e),0,1),t.precision)},x.equals=x.eq=function(e){return!this.cmp(e)},x.exponent=function(){return k(this)},x.greaterThan=x.gt=function(e){return this.cmp(e)>0},x.greaterThanOrEqualTo=x.gte=function(e){return this.cmp(e)>=0},x.isInteger=x.isint=function(){return this.e>this.d.length-2},x.isNegative=x.isneg=function(){return this.s<0},x.isPositive=x.ispos=function(){return this.s>0},x.isZero=function(){return 0===this.s},x.lessThan=x.lt=function(e){return this.cmp(e)<0},x.lessThanOrEqualTo=x.lte=function(e){return this.cmp(e)<1},x.logarithm=x.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(o=!1,t=w(S(r,s),S(e,s),s),o=!0,O(t,i))},x.minus=x.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):y(t,(e.s=-e.s,e))},x.modulo=x.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=w(r,e,0,1).times(e),o=!0,r.minus(t)):O(new n(r),a)},x.naturalExponential=x.exp=function(){return j(this)},x.naturalLogarithm=x.ln=function(){return S(this)},x.negated=x.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},x.plus=x.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):E(t,(e.s=-e.s,e))},x.precision=x.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},x.squareRoot=x.sqrt=function(){var e,t,r,n,a,i,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=k(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=v(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new d(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new d(a.toString()),a=s=(r=d.precision)+3;;)if(n=(i=n).plus(w(c,i,s+2)).times(.5),v(i.d).slice(0,s)===(t=v(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(O(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;s+=4}return o=!0,O(n,r)},x.times=x.mul=function(e){var t,r,n,a,i,s,l,c,d,u=this,h=u.constructor,f=u.d,m=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,(c=f.length)<(d=m.length)&&(i=f,f=m,m=i,s=c,c=d,d=s),i=[],n=s=c+d;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,o?O(e,h.precision):e},x.toDecimalPlaces=x.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,i),void 0===t?t=n.rounding:b(t,0,8),O(r,e+k(r)+1,t))},x.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=C(n,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),r=C(n=O(new a(n),e+1,t),!0,e+1)),r},x.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?C(a):(b(e,0,i),void 0===t?t=s.rounding:b(t,0,8),r=C((n=O(new s(a),e+k(a)+1,t)).abs(),!1,e+k(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},x.toInteger=x.toint=function(){var e=this,t=e.constructor;return O(new t(e),k(e)+1,t.rounding)},x.toNumber=function(){return+this},x.toPower=x.pow=function(e){var t,r,n,i,s,c,d=this,h=d.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(d=new h(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(a))return d;if(n=h.precision,e.eq(a))return O(d,n);if(c=(t=e.e)>=(r=e.d.length-1),s=d.s,c){if((r=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(n/7+4),o=!1;r%2&&P((i=i.times(d)).d,t),0!==(r=u(r/2));)P((d=d.times(d)).d,t);return o=!0,e.s<0?new h(a).div(i):O(i,n)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,o=!1,i=e.times(S(d,n+12)),o=!0,(i=j(i)).s=s,i},x.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?n=C(a,(r=k(a))<=s.toExpNeg||r>=s.toExpPos):(b(e,1,i),void 0===t?t=s.rounding:b(t,0,8),n=C(a=O(new s(a),e,t),e<=(r=k(a))||r<=s.toExpNeg,e)),n},x.toSignificantDigits=x.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,i),void 0===t?t=r.rounding:b(t,0,8)),O(new r(this),e,t)},x.toString=x.valueOf=x.val=x.toJSON=function(){var e=this,t=k(e),r=e.constructor;return C(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,s){var o,c,d,u,h,f,m,g,x,y,b,v,w,j,N,_,S,A,E=n.constructor,C=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,S=T.length,N=P.length,g=(m=new E(C)).d=[],d=0;T[d]==(P[d]||0);)++d;if(T[d]>(P[d]||0)&&--c,(v=null==i?i=E.precision:s?i+(k(n)-k(a))+1:i)<0)return new E(0);if(v=v/7+2|0,d=0,1==S)for(u=0,T=T[0],v++;(d<N||u)&&v--;d++)w=u*p+(P[d]||0),g[d]=w/T|0,u=w%T|0;else{for((u=p/(T[0]+1)|0)>1&&(T=e(T,u),P=e(P,u),S=T.length,N=P.length),j=S,y=(x=P.slice(0,S)).length;y<S;)x[y++]=0;(A=T.slice()).unshift(0),_=T[0],T[1]>=p/2&&++_;do{u=0,(o=t(T,x,S,y))<0?(b=x[0],S!=y&&(b=b*p+(x[1]||0)),(u=b/_|0)>1?(u>=p&&(u=p-1),1==(o=t(h=e(T,u),x,f=h.length,y=x.length))&&(u--,r(h,S<f?A:T,f))):(0==u&&(o=u=1),h=T.slice()),(f=h.length)<y&&h.unshift(0),r(x,h,y),-1==o&&(o=t(T,x,S,y=x.length))<1&&(u++,r(x,S<y?A:T,y)),y=x.length):0===o&&(u++,x=[0]),g[d++]=u,o&&x[0]?x[y++]=P[j]||0:(x=[P[j]],y=1)}while((j++<N||void 0!==x[0])&&v--)}return g[0]||g.shift(),m.e=c,O(m,s?i+k(m)+1:i)}}();function j(e,t){var r,n,i,s,l,c=0,u=0,f=e.constructor,p=f.precision;if(k(e)>16)throw Error(d+k(e));if(!e.s)return new f(a);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(l+=Math.log(h(2,u))/Math.LN10*2+5|0,r=n=i=new f(a),f.precision=l;;){if(n=O(n.times(e),l),r=r.times(++c),v((s=i.plus(w(n,r,l))).d).slice(0,l)===v(i.d).slice(0,l)){for(;u--;)i=O(i.times(i),l);return f.precision=p,null==t?(o=!0,O(i,p)):i}i=s}}function k(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function N(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function S(e,t){var r,n,i,s,c,d,u,h,f,p=1,m=e,g=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new x(0);if(null==t?(o=!1,h=y):h=t,m.eq(10))return null==t&&(o=!0),N(x,h);if(h+=10,x.precision=h,n=(r=v(g)).charAt(0),s=k(m),!(Math.abs(s)<15e14))return u=N(x,h+2,y).times(s+""),m=S(new x(n+"."+r.slice(1)),h-10).plus(u),x.precision=y,null==t?(o=!0,O(m,y)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=v((m=m.times(e)).d)).charAt(0),p++;for(s=k(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1)),d=c=m=w(m.minus(a),m.plus(a),h),f=O(m.times(m),h),i=3;;){if(c=O(c.times(f),h),v((u=d.plus(w(c,new x(i),h))).d).slice(0,h)===v(d.d).slice(0,h))return d=d.times(2),0!==s&&(d=d.plus(N(x,h+2,y).times(s+""))),d=w(d,new x(p),h),x.precision=y,null==t?(o=!0,O(d,y)):d;d=u,i+=2}}function A(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=u(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(d+r)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,r){var n,a,i,s,l,c,f,m,x=e.d;for(s=1,i=x[0];i>=10;i/=10)s++;if((n=t-s)<0)n+=7,a=t,f=x[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=x.length))return e;for(f=i=x[m],s=1;i>=10;i/=10)s++;a=(n%=7)-7+s}if(void 0!==r&&(l=f/(i=h(10,s-a-1))%10|0,c=t<0||void 0!==x[m+1]||f%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,s-a):0:x[m-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return c?(i=k(e),x.length=1,t=t-i-1,x[0]=h(10,(7-t%7)%7),e.e=u(-t/7)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(0==n?(x.length=m,i=1,m--):(x.length=m+1,i=h(10,7-n),x[m]=a>0?(f/h(10,s-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(x[0]+=i)==p&&(x[0]=1,++e.e);break}if(x[m]+=i,x[m]!=p)break;x[m--]=0,i=1}for(n=x.length;0===x[--n];)x.pop();if(o&&(e.e>g||e.e<-g))throw Error(d+k(e));return e}function E(e,t){var r,n,a,i,s,l,c,d,u,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?O(t,m):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),s=d-n){for((u=s<0)?(r=c,s=-s,l=h.length):(r=h,n=d,l=c.length),s>(a=Math.max(Math.ceil(m/7),l)+2)&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for((u=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}s=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>s;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?O(t,m):t):new f(0)}function C(e,t,r){var n,a=k(e),i=v(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+_(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_(-a-1)+i,r&&(n=r-s)>0&&(i+=_(n))):a>=s?(i+=_(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+_(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=_(n))),e.s<0?"-"+i:i}function P(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(u(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}s=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);A(t,e)}if(i.prototype=x,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(s),s.default=s.Decimal=s,a=new s(1),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},8325:(e,t,r)=>{var n=r(2541),a=r(5654),i=r(3279),s=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=s},8468:(e,t,r)=>{var n=r(5816),a=r(644),i=r(4020);e.exports=function(e,t,r){return t===t?i(e,t,r):n(e,a,r)}},8541:(e,t,r)=>{var n=r(9812),a=r(149),i=r(4052),s=r(9841),o=n?n.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(s(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8673:(e,t,r)=>{var n=r(3204),a=r(3713),i=r(6571);e.exports=function(e){return i(e)?n(e):a(e)}},8724:(e,t,r)=>{var n=r(7615),a=r(5051),i=r(2154),s=r(8734),o=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},8734:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8883:(e,t,r)=>{var n=r(5652),a=r(6571);e.exports=function(e,t){var r=-1,i=a(e)?Array(e.length):[];return n(e,function(e,n,a){i[++r]=t(e,n,a)}),i}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},8902:(e,t,r)=>{var n=r(4816),a=r(6179),i=r(6704);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=a,s.prototype.has=i,e.exports=s},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},9057:(e,t,r)=>{var n=r(5324),a=r(2777),i=r(4052),s=r(9194),o=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var h=l(t[c]);if(!(u=null!=e&&r(e,h)))break;e=e[h]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&o(d)&&s(h,d)&&(i(e)||a(e))}},9096:(e,t,r)=>{var n=r(9256),a=r(5029),i=r(3279),s=r(4052),o=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?a(e[0],e[1]):n(e):o(e)}},9115:(e,t,r)=>{var n=r(5967),a=r(6311),i=r(715);e.exports=function(e){return a(e)?i(e):n(e)}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},9256:(e,t,r)=>{var n=r(6532),a=r(3781),i=r(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},9364:(e,t,r)=>{var n=r(9742),a=r(9096),i=r(61);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),i):void 0}},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},9395:(e,t,r)=>{var n=r(4262),a=r(9621),i=r(8673);e.exports=function(e){return n(e,i,a)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},9621:(e,t,r)=>{var n=r(7529),a=r(7828),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(e){return null==e?[]:(e=Object(e),n(s(e),function(t){return i.call(e,t)}))}:a;e.exports=o},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,i){for(var s=-1,o=r(t((n-e)/(a||1)),0),l=Array(o);o--;)l[i?o:++s]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var a=-1,i=e.length;++a<i;){var s=e[a],o=t(s);if(null!=o&&(void 0===l?o===o&&!n(o):r(o,l)))var l=o,c=s}return c}},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},9841:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},9889:(e,t,r)=>{var n=r(3950),a=r(6686);e.exports=function(e,t,r){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),n(e,t,{leading:i,maxWait:t,trailing:s})}},9935:(e,t,r)=>{var n=r(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var n=r(9812),a=r(2929),i=r(3211),s=r(3668),o=r(4160),l=r(2074),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,u,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=o;case"[object Set]":var p=1&n;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;n|=2,h.set(e,t);var g=s(f(e),f(t),n,c,u,h);return h.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,r)=>{var n=r(9096),a=r(6571),i=r(8673);e.exports=function(e){return function(t,r,s){var o=Object(t);if(!a(t)){var l=n(r,3);t=i(t),r=function(e){return l(o[e],e,o)}}var c=e(t,r,s);return c>-1?o[l?t[c]:c]:void 0}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,r.d(i,s),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+".e68ce003.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="cataloro-marketplace:";r.l=(n,a,i,s)=>{if(e[n])e[n].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[a];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(r)),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((r,n)=>a=e[t]=[r,n]);n.push(a[2]=i);var s=r.p+r.u(t),o=new Error;r.l(s,n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var a,i,s=n[0],o=n[1],l=n[2],c=0;if(s.some(t=>0!==e[t])){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)l(r)}for(t&&t(n);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkcataloro_marketplace=self.webpackChunkcataloro_marketplace||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Ht,hasStandardBrowserEnv:()=>Wt,hasStandardBrowserWebWorkerEnv:()=>Kt,navigator:()=>Vt,origin:()=>Gt});var t={};r.r(t),r.d(t,{Decoder:()=>ui,Encoder:()=>ci,PacketType:()=>li,protocol:()=>oi});var n={};r.r(n),r.d(n,{scaleBand:()=>Tp,scaleDiverging:()=>cv,scaleDivergingLog:()=>dv,scaleDivergingPow:()=>hv,scaleDivergingSqrt:()=>fv,scaleDivergingSymlog:()=>uv,scaleIdentity:()=>nx,scaleImplicit:()=>Cp,scaleLinear:()=>rx,scaleLog:()=>hx,scaleOrdinal:()=>Pp,scalePoint:()=>Lp,scalePow:()=>wx,scaleQuantile:()=>Mx,scaleQuantize:()=>Lx,scaleRadial:()=>Nx,scaleSequential:()=>rv,scaleSequentialLog:()=>nv,scaleSequentialPow:()=>iv,scaleSequentialQuantile:()=>ov,scaleSequentialSqrt:()=>sv,scaleSequentialSymlog:()=>av,scaleSqrt:()=>jx,scaleSymlog:()=>gx,scaleThreshold:()=>Dx,scaleTime:()=>Zb,scaleUtc:()=>Qb,tickFormat:()=>ex});var a,i=r(5043),s=r.t(i,2),o=r(4391),l=r(7950),c=r.t(l,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,r,n){return void 0===r&&(r=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function x(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function y(e,t,r,n){void 0===n&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=a.Pop,c=null,f=x();function x(){return(o.state||{idx:null}).idx}function y(){l=a.Pop;let e=x(),t=null==e?null:e-f;f=e,c&&c({action:l,location:v.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:g(e);return r=r.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==f&&(f=0,o.replaceState(d({},o.state,{idx:f}),""));let v={get action(){return l},get location(){return e(i,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(u,y),c=e,()=>{i.removeEventListener(u,y),c=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let n=m(v.location,e,t);r&&r(n,e),f=x()+1;let d=p(n,f),u=v.createHref(n);try{o.pushState(d,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(u)}s&&c&&c({action:l,location:v.location,delta:1})},replace:function(e,t){l=a.Replace;let n=m(v.location,e,t);r&&r(n,e),f=x();let i=p(n,f),d=v.createHref(n);o.replaceState(i,"",d),s&&c&&c({action:l,location:v.location,delta:0})},go:e=>o.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,r){return void 0===r&&(r="/"),w(e,t,r,!1)}function w(e,t,r,n){let a=D(("string"===typeof t?x(t):t).pathname||"/",r);if(null==a)return null;let i=j(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=L(a);s=T(i[o],e,n)}return s}function j(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(h(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let o=U([n,s.relativePath]),l=r.concat(s);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),j(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of k(e.path))a(e,t,n);else a(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let s=k(n.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,_=3,S=2,A=1,O=10,E=-2,C=e=>"*"===e;function P(e,t){let r=e.split("/"),n=r.length;return r.some(C)&&(n+=E),t&&(n+=S),r.filter(e=>!C(e)).reduce((e,t)=>e+(N.test(t)?_:""===t?A:O),n)}function T(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:U([i,d.pathname]),pathnameBase:q(U([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=U([i,d.pathnameBase]))}return s}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function R(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let r=I(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function B(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=x(e):(a=d({},e),h(!a.pathname||!a.pathname.includes("?"),R("?","pathname","search",a)),h(!a.pathname||!a.pathname.includes("#"),R("#","pathname","hash",a)),h(!a.search||!a.search.includes("#"),R("#","search","hash",a)));let i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(null==o)i=r;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?x(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:z(n),hash:H(a)}}(a,i),c=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],K=(new Set(W),["get",...W]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}const Y=i.createContext(null);const $=i.createContext(null);const J=i.createContext(null);const X=i.createContext(null);const Z=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=i.createContext(null);function ee(){return null!=i.useContext(X)}function te(){return ee()||h(!1),i.useContext(X).location}function re(e){i.useContext(J).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(Z);return e?function(){let{router:e}=me(fe.UseNavigateStable),t=xe(pe.UseNavigateStable),r=i.useRef(!1);return re(()=>{r.current=!0}),i.useCallback(function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,G({fromRouteId:t},a)))},[e,t])}():function(){ee()||h(!1);let e=i.useContext(Y),{basename:t,future:r,navigator:n}=i.useContext(J),{matches:a}=i.useContext(Z),{pathname:s}=te(),o=JSON.stringify(F(a,r.v7_relativeSplatPath)),l=i.useRef(!1);re(()=>{l.current=!0});let c=i.useCallback(function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof r)return void n.go(r);let i=B(r,JSON.parse(o),s,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:U([t,i.pathname])),(a.replace?n.replace:n.push)(i,a.state,a)},[t,n,o,s,e]);return c}()}const ae=i.createContext(null);function ie(){let{matches:e}=i.useContext(Z),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=i.useContext(J),{matches:a}=i.useContext(Z),{pathname:s}=te(),o=JSON.stringify(F(a,n.v7_relativeSplatPath));return i.useMemo(()=>B(e,JSON.parse(o),s,"path"===r),[e,o,s,r])}function oe(e,t,r,n){ee()||h(!1);let{navigator:s}=i.useContext(J),{matches:o}=i.useContext(Z),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,f=te();if(t){var p;let e="string"===typeof t?x(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||h(!1),u=e}else u=f;let m=u.pathname||"/",g=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(e,{pathname:g});let b=he(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:U([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,n);return t&&b?i.createElement(X.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:a.Pop}},b):b}function le(){let e=function(){var e;let t=i.useContext(Q),r=ge(pe.UseRouteError),n=xe(pe.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),r?i.createElement("pre",{style:a},r):null,null)}const ce=i.createElement(le,null);class de extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Z.Provider,{value:this.props.routeContext},i.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:r,children:n}=e,a=i.useContext(Y);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),i.createElement(Z.Provider,{value:t},n)}function he(e,t,r,n){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=n)&&s.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,n,a)=>{let s,u=!1,h=null,f=null;var p;r&&(s=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||ce,c&&(d<0&&0===a?(p="route-fallback",!1||ye[p]||(ye[p]=!0),u=!0,f=null):d===a&&(u=!0,f=n.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=s?h:u?f:n.route.Component?i.createElement(n.route.Component,null):n.route.element?n.route.element:e,i.createElement(ue,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?i.createElement(de,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function me(e){let t=i.useContext(Y);return t||h(!1),t}function ge(e){let t=i.useContext($);return t||h(!1),t}function xe(e){let t=function(){let e=i.useContext(Z);return e||h(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||h(!1),r.route.id}const ye={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ve(e){let{to:t,replace:r,state:n,relative:a}=e;ee()||h(!1);let{future:s,static:o}=i.useContext(J),{matches:l}=i.useContext(Z),{pathname:c}=te(),d=ne(),u=B(t,F(l,s.v7_relativeSplatPath),c,"path"===a),f=JSON.stringify(u);return i.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function we(e){return function(e){let t=i.useContext(Z).outlet;return t?i.createElement(ae.Provider,{value:e},t):t}(e.context)}function je(e){h(!1)}function ke(e){let{basename:t="/",children:r=null,location:n,navigationType:s=a.Pop,navigator:o,static:l=!1,future:c}=e;ee()&&h(!1);let d=t.replace(/^\/*/,"/"),u=i.useMemo(()=>({basename:d,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof n&&(n=x(n));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=n,b=i.useMemo(()=>{let e=D(f,d);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:s}},[d,f,p,m,g,y,s]);return null==b?null:i.createElement(J.Provider,{value:u},i.createElement(X.Provider,{children:r,value:b}))}function Ne(e){let{children:t,location:r}=e;return oe(_e(t),r)}new Promise(()=>{});i.Component;function _e(e,t){void 0===t&&(t=[]);let r=[];return i.Children.forEach(e,(e,n)=>{if(!i.isValidElement(e))return;let a=[...t,n];if(e.type===i.Fragment)return void r.push.apply(r,_e(e.props.children,a));e.type!==je&&h(!1),e.props.index&&e.props.children&&h(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=_e(e.props.children,a)),r.push(s)}),r}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Se.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function Oe(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(rC){}new Map;const Ce=s.startTransition;c.flushSync,s.useId;function Pe(e){let{basename:t,children:r,future:n,window:a}=e,s=i.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return m("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,o)));let l=s.current,[c,d]=i.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=i.useCallback(e=>{u&&Ce?Ce(()=>d(e)):d(e)},[d,u]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>be(n),[n]),i.createElement(ke,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=i.forwardRef(function(e,t){let r,{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=e,p=Ae(e,Ee),{basename:m}=i.useContext(J),x=!1;if("string"===typeof d&&Me.test(d)&&(r=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=D(t.pathname,m);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:x=!0}catch(rC){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;ee()||h(!1);let{basename:n,navigator:a}=i.useContext(J),{hash:s,pathname:o,search:l}=se(e,{relative:r}),c=o;return"/"!==n&&(c="/"===o?n:U([n,o])),a.createHref({pathname:c,search:l,hash:s})}(d,{relative:a}),b=function(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),d=te(),u=se(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:g(d)===g(u);c(e,{replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,s,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});return i.createElement("a",Se({},p,{href:r||y,onClick:x||s?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var De,Re;function Ie(e){let t=i.useRef(Oe(e)),r=i.useRef(!1),n=te(),a=i.useMemo(()=>function(e,t){let r=Oe(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(n.search,r.current?null:t.current),[n.search]),s=ne(),o=i.useCallback((e,t)=>{const n=Oe("function"===typeof e?e(a):e);r.current=!0,s("?"+n,t)},[s,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Fe=r(2555);function Be(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ue}=Object.prototype,{getPrototypeOf:qe}=Object,{iterator:ze,toStringTag:He}=Symbol,Ve=(e=>t=>{const r=Ue.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),We=e=>(e=e.toLowerCase(),t=>Ve(t)===e),Ke=e=>t=>typeof t===e,{isArray:Ge}=Array,Ye=Ke("undefined");function $e(e){return null!==e&&!Ye(e)&&null!==e.constructor&&!Ye(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Je=We("ArrayBuffer");const Xe=Ke("string"),Ze=Ke("function"),Qe=Ke("number"),et=e=>null!==e&&"object"===typeof e,tt=e=>{if("object"!==Ve(e))return!1;const t=qe(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(He in e)&&!(ze in e)},rt=We("Date"),nt=We("File"),at=We("Blob"),it=We("FileList"),st=We("URLSearchParams"),[ot,lt,ct,dt]=["ReadableStream","Request","Response","Headers"].map(We);function ut(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ge(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if($e(e))return;const n=a?Object.getOwnPropertyNames(e):Object.keys(e),i=n.length;let s;for(r=0;r<i;r++)s=n[r],t.call(null,e[s],s,e)}}function ht(e,t){if($e(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const ft="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,pt=e=>!Ye(e)&&e!==ft;const mt=(gt="undefined"!==typeof Uint8Array&&qe(Uint8Array),e=>gt&&e instanceof gt);var gt;const xt=We("HTMLFormElement"),yt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),bt=We("RegExp"),vt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ut(r,(r,a)=>{let i;!1!==(i=t(r,a,e))&&(n[a]=i||r)}),Object.defineProperties(e,n)};const wt=We("AsyncFunction"),jt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],ft.addEventListener("message",e=>{let{source:t,data:a}=e;t===ft&&a===r&&n.length&&n.shift()()},!1),e=>{n.push(e),ft.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Ze(ft.postMessage)),kt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ft):"undefined"!==typeof process&&process.nextTick||jt,Nt={isArray:Ge,isArrayBuffer:Je,isBuffer:$e,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ze(e.append)&&("formdata"===(t=Ve(e))||"object"===t&&Ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Je(e.buffer),t},isString:Xe,isNumber:Qe,isBoolean:e=>!0===e||!1===e,isObject:et,isPlainObject:tt,isEmptyObject:e=>{if(!et(e)||$e(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(rC){return!1}},isReadableStream:ot,isRequest:lt,isResponse:ct,isHeaders:dt,isUndefined:Ye,isDate:rt,isFile:nt,isBlob:at,isRegExp:bt,isFunction:Ze,isStream:e=>et(e)&&Ze(e.pipe),isURLSearchParams:st,isTypedArray:mt,isFileList:it,forEach:ut,merge:function e(){const{caseless:t}=pt(this)&&this||{},r={},n=(n,a)=>{const i=t&&ht(r,a)||a;tt(r[i])&&tt(n)?r[i]=e(r[i],n):tt(n)?r[i]=e({},n):Ge(n)?r[i]=n.slice():r[i]=n};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ut(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ut(t,(t,n)=>{r&&Ze(t)?e[n]=Be(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,i,s;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],n&&!n(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==r&&qe(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ve,kindOfTest:We,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Ge(e))return e;let t=e.length;if(!Qe(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[ze]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:xt,hasOwnProperty:yt,hasOwnProp:yt,reduceDescriptors:vt,freezeMethods:e=>{vt(e,(t,r)=>{if(Ze(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Ze(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Ge(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ht,global:ft,isContextDefined:pt,isSpecCompliantForm:function(e){return!!(e&&Ze(e.append)&&"FormData"===e[He]&&e[ze])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(et(e)){if(t.indexOf(e)>=0)return;if($e(e))return e;if(!("toJSON"in e)){t[n]=e;const a=Ge(e)?[]:{};return ut(e,(e,t)=>{const i=r(e,n+1);!Ye(i)&&(a[t]=i)}),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:wt,isThenable:e=>e&&(et(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),setImmediate:jt,asap:kt,isIterable:e=>null!=e&&Ze(e[ze])};function _t(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Nt.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Nt.toJSONObject(this.config),code:this.code,status:this.status}}});const St=_t.prototype,At={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{At[e]={value:e}}),Object.defineProperties(_t,At),Object.defineProperty(St,"isAxiosError",{value:!0}),_t.from=(e,t,r,n,a,i)=>{const s=Object.create(St);return Nt.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),_t.call(s,e.message,t,r,n,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const Ot=_t;function Et(e){return Nt.isPlainObject(e)||Nt.isArray(e)}function Ct(e){return Nt.endsWith(e,"[]")?e.slice(0,-2):e}function Pt(e,t,r){return e?e.concat(t).map(function(e,t){return e=Ct(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Tt=Nt.toFlatObject(Nt,{},null,function(e){return/^is[A-Z]/.test(e)});const Mt=function(e,t,r){if(!Nt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=Nt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Nt.isUndefined(t[e])})).metaTokens,a=r.visitor||c,i=r.dots,s=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Nt.isSpecCompliantForm(t);if(!Nt.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Nt.isDate(e))return e.toISOString();if(Nt.isBoolean(e))return e.toString();if(!o&&Nt.isBlob(e))throw new Ot("Blob is not supported. Use a Buffer instead.");return Nt.isArrayBuffer(e)||Nt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let o=e;if(e&&!a&&"object"===typeof e)if(Nt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Nt.isArray(e)&&function(e){return Nt.isArray(e)&&!e.some(Et)}(e)||(Nt.isFileList(e)||Nt.endsWith(r,"[]"))&&(o=Nt.toArray(e)))return r=Ct(r),o.forEach(function(e,n){!Nt.isUndefined(e)&&null!==e&&t.append(!0===s?Pt([r],n,i):null===s?r:r+"[]",l(e))}),!1;return!!Et(e)||(t.append(Pt(a,r,i),l(e)),!1)}const d=[],u=Object.assign(Tt,{defaultVisitor:c,convertValue:l,isVisitable:Et});if(!Nt.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Nt.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),Nt.forEach(r,function(r,i){!0===(!(Nt.isUndefined(r)||null===r)&&a.call(t,r,Nt.isString(i)?i.trim():i,n,u))&&e(r,n?n.concat(i):[i])}),d.pop()}}(e),t};function Lt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Dt(e,t){this._pairs=[],e&&Mt(e,this,t)}const Rt=Dt.prototype;Rt.append=function(e,t){this._pairs.push([e,t])},Rt.toString=function(e){const t=e?function(t){return e.call(this,t,Lt)}:Lt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const It=Dt;function Ft(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bt(e,t,r){if(!t)return e;const n=r&&r.encode||Ft;Nt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(i=a?a(t,r):Nt.isURLSearchParams(t)?t.toString():new It(t,r).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Ut=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Nt.forEach(this.handlers,function(t){null!==t&&e(t)})}},qt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:It,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ht="undefined"!==typeof window&&"undefined"!==typeof document,Vt="object"===typeof navigator&&navigator||void 0,Wt=Ht&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Kt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Gt=Ht&&window.location.href||"http://localhost",Yt=(0,Fe.A)((0,Fe.A)({},e),zt);const $t=function(e){function t(e,r,n,a){let i=e[a++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),o=a>=e.length;if(i=!i&&Nt.isArray(n)?n.length:i,o)return Nt.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!s;n[i]&&Nt.isObject(n[i])||(n[i]=[]);return t(e,r,n[i],a)&&Nt.isArray(n[i])&&(n[i]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}(n[i])),!s}if(Nt.isFormData(e)&&Nt.isFunction(e.entries)){const r={};return Nt.forEachEntry(e,(e,n)=>{t(function(e){return Nt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const Jt={transitional:qt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=Nt.isObject(e);a&&Nt.isHTMLForm(e)&&(e=new FormData(e));if(Nt.isFormData(e))return n?JSON.stringify($t(e)):e;if(Nt.isArrayBuffer(e)||Nt.isBuffer(e)||Nt.isStream(e)||Nt.isFile(e)||Nt.isBlob(e)||Nt.isReadableStream(e))return e;if(Nt.isArrayBufferView(e))return e.buffer;if(Nt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Mt(e,new Yt.classes.URLSearchParams,(0,Fe.A)({visitor:function(e,t,r,n){return Yt.isNode&&Nt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Nt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Mt(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(Nt.isString(e))try{return(t||JSON.parse)(e),Nt.trim(e)}catch(rC){if("SyntaxError"!==rC.name)throw rC}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Jt.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Nt.isResponse(e)||Nt.isReadableStream(e))return e;if(e&&Nt.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(rC){if(r){if("SyntaxError"===rC.name)throw Ot.from(rC,Ot.ERR_BAD_RESPONSE,this,null,this.response);throw rC}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Nt.forEach(["delete","get","head","post","put","patch"],e=>{Jt.headers[e]={}});const Xt=Jt,Zt=Nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qt=Symbol("internals");function er(e){return e&&String(e).trim().toLowerCase()}function tr(e){return!1===e||null==e?e:Nt.isArray(e)?e.map(tr):String(e)}function rr(e,t,r,n,a){return Nt.isFunction(n)?n.call(this,t,r):(a&&(t=r),Nt.isString(t)?Nt.isString(n)?-1!==t.indexOf(n):Nt.isRegExp(n)?n.test(t):void 0:void 0)}class nr{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=er(t);if(!a)throw new Error("header name must be a non-empty string");const i=Nt.findKey(n,a);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=tr(e))}const i=(e,t)=>Nt.forEach(e,(e,r)=>a(e,r,t));if(Nt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Nt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&Zt[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(Nt.isObject(e)&&Nt.isIterable(e)){let r,n,a={};for(const t of e){if(!Nt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?Nt.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}i(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=er(e)){const r=Nt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Nt.isFunction(t))return t.call(this,e,r);if(Nt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=er(e)){const r=Nt.findKey(this,e);return!(!r||void 0===this[r]||t&&!rr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=er(e)){const a=Nt.findKey(r,e);!a||t&&!rr(0,r[a],a,t)||(delete r[a],n=!0)}}return Nt.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!rr(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return Nt.forEach(this,(n,a)=>{const i=Nt.findKey(r,a);if(i)return t[i]=tr(n),void delete t[a];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();s!==a&&delete t[a],t[s]=tr(n),r[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Nt.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Nt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Qt]=this[Qt]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=er(e);t[n]||(!function(e,t){const r=Nt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[n]=!0)}return Nt.isArray(e)?e.forEach(n):n(e),this}}nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Nt.reduceDescriptors(nr.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),Nt.freezeMethods(nr);const ar=nr;function ir(e,t){const r=this||Xt,n=t||r,a=ar.from(n.headers);let i=n.data;return Nt.forEach(e,function(e){i=e.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function sr(e){return!(!e||!e.__CANCEL__)}function or(e,t,r){Ot.call(this,null==e?"canceled":e,Ot.ERR_CANCELED,t,r),this.name="CanceledError"}Nt.inherits(or,Ot,{__CANCEL__:!0});const lr=or;function cr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Ot("Request failed with status code "+r.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const dr=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[s];a||(a=l),r[i]=o,n[i]=l;let d=s,u=0;for(;d!==i;)u+=r[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const ur=function(e,t){let r,n,a=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=i,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?s(l,e):(r=l,n||(n=setTimeout(()=>{n=null,s(r)},i-t)))},()=>r&&s(r)]},hr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=dr(50,250);return ur(r=>{const i=r.loaded,s=r.lengthComputable?r.total:void 0,o=i-n,l=a(o);n=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})},r)},fr=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},pr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Nt.asap(()=>e(...r))},mr=Yt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Yt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,gr=Yt.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const s=[e+"="+encodeURIComponent(t)];Nt.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Nt.isString(n)&&s.push("path="+n),Nt.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xr(e,t,r){let n=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const yr=e=>e instanceof ar?(0,Fe.A)({},e):e;function br(e,t){t=t||{};const r={};function n(e,t,r,n){return Nt.isPlainObject(e)&&Nt.isPlainObject(t)?Nt.merge.call({caseless:n},e,t):Nt.isPlainObject(t)?Nt.merge({},t):Nt.isArray(t)?t.slice():t}function a(e,t,r,a){return Nt.isUndefined(t)?Nt.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function i(e,t){if(!Nt.isUndefined(t))return n(void 0,t)}function s(e,t){return Nt.isUndefined(t)?Nt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,a,i){return i in t?n(r,a):i in e?n(void 0,r):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,r)=>a(yr(e),yr(t),0,!0)};return Nt.forEach(Object.keys((0,Fe.A)((0,Fe.A)({},e),t)),function(n){const i=l[n]||a,s=i(e[n],t[n],n);Nt.isUndefined(s)&&i!==o||(r[n]=s)}),r}const vr=e=>{const t=br({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=ar.from(o),t.url=Bt(xr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Nt.isFormData(n))if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Yt.hasStandardBrowserEnv&&(a&&Nt.isFunction(a)&&(a=a(t)),a||!1!==a&&mr(t.url))){const e=i&&s&&gr.read(s);e&&o.set(i,e)}return t},wr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=vr(e);let a=n.data;const i=ar.from(n.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:f}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=ar.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());cr(function(e){t(e),p()},function(e){r(e),p()},{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new Ot("Request aborted",Ot.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new Ot("Network Error",Ot.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||qt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Ot(t,a.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,e,m)),m=null},void 0===a&&i.setContentType(null),"setRequestHeader"in m&&Nt.forEach(i.toJSON(),function(e,t){m.setRequestHeader(t,e)}),Nt.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),u&&"json"!==u&&(m.responseType=n.responseType),f&&([l,d]=hr(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=hr(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{m&&(r(!t||t.type?new lr(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);x&&-1===Yt.protocols.indexOf(x)?r(new Ot("Unsupported protocol "+x+":",Ot.ERR_BAD_REQUEST,e)):m.send(a||null)})},jr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Ot?t:new lr(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,a(new Ot("timeout ".concat(t," of ms exceeded"),Ot.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=n;return o.unsubscribe=()=>Nt.asap(s),o}};function kr(e,t){this.v=e,this.k=t}function Nr(e){return function(){return new _r(e.apply(this,arguments))}}function _r(e){var t,r;function n(t,r){try{var i=e[t](r),s=i.value,o=s instanceof kr;Promise.resolve(o?s.v:s).then(function(r){if(o){var l="return"===t?"return":"next";if(!s.k||r.done)return n(l,r);r=e[l](r).value}a(i.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise(function(i,s){var o={key:e,arg:a,resolve:i,reject:s,next:null};r?r=r.next=o:(t=r=o,n(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Sr(e){return new kr(e,0)}function Ar(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new kr(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Or(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Er(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Er(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Er=function(e){this.s=e,this.n=e.next},Er.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Er(e)}_r.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_r.prototype.next=function(e){return this._invoke("next",e)},_r.prototype.throw=function(e){return this._invoke("throw",e)},_r.prototype.return=function(e){return this._invoke("return",e)};const Cr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Pr=function(){var e=Nr(function*(e,t){var r,n=!1,a=!1;try{for(var i,s=Or(Tr(e));n=!(i=yield Sr(s.next())).done;n=!1){const e=i.value;yield*Ar(Or(Cr(e,t)))}}catch(o){a=!0,r=o}finally{try{n&&null!=s.return&&(yield Sr(s.return()))}finally{if(a)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Tr=function(){var e=Nr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Ar(Or(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Sr(t.read());if(e)break;yield r}}finally{yield Sr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Mr=(e,t,r,n)=>{const a=Pr(e,t);let i,s=0,o=e=>{i||(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return o(),void e.close();let i=n.byteLength;if(r){let e=s+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},Lr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Dr=Lr&&"function"===typeof ReadableStream,Rr=Lr&&("function"===typeof TextEncoder?(Ir=new TextEncoder,e=>Ir.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ir;const Fr=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(rC){return!1}},Br=Dr&&Fr(()=>{let e=!1;const t=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ur=Dr&&Fr(()=>Nt.isReadableStream(new Response("").body)),qr={stream:Ur&&(e=>e.body)};var zr;Lr&&(zr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qr[e]&&(qr[e]=Nt.isFunction(zr[e])?t=>t[e]():(t,r)=>{throw new Ot("Response type '".concat(e,"' is not supported"),Ot.ERR_NOT_SUPPORT,r)})}));const Hr=async(e,t)=>{const r=Nt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Nt.isBlob(e))return e.size;if(Nt.isSpecCompliantForm(e)){const t=new Request(Yt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Nt.isArrayBufferView(e)||Nt.isArrayBuffer(e)?e.byteLength:(Nt.isURLSearchParams(e)&&(e+=""),Nt.isString(e)?(await Rr(e)).byteLength:void 0)})(t):r},Vr=Lr&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=vr(e);c=c?(c+"").toLowerCase():"text";let f,p=jr([a,i&&i.toAbortSignal()],s);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&Br&&"get"!==r&&"head"!==r&&0!==(g=await Hr(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(Nt.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=fr(g,hr(pr(l)));n=Mr(r.body,65536,e,t)}}Nt.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,(0,Fe.A)((0,Fe.A)({},h),{},{signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?u:void 0}));let i=await fetch(f,h);const s=Ur&&("stream"===c||"response"===c);if(Ur&&(o||s&&m)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=Nt.toFiniteNumber(i.headers.get("content-length")),[r,n]=o&&fr(t,hr(pr(o),!0))||[];i=new Response(Mr(i.body,65536,r,()=>{n&&n(),m&&m()}),e)}c=c||"text";let x=await qr[Nt.findKey(qr,c)||"text"](i,e);return!s&&m&&m(),await new Promise((t,r)=>{cr(t,r,{data:x,headers:ar.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})})}catch(x){if(m&&m(),x&&"TypeError"===x.name&&/Load failed|fetch/i.test(x.message))throw Object.assign(new Ot("Network Error",Ot.ERR_NETWORK,e,f),{cause:x.cause||x});throw Ot.from(x,x&&x.code,e,f)}}),Wr={http:null,xhr:wr,fetch:Vr};Nt.forEach(Wr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(rC){}Object.defineProperty(e,"adapterName",{value:t})}});const Kr=e=>"- ".concat(e),Gr=e=>Nt.isFunction(e)||null===e||!1===e,Yr=e=>{e=Nt.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){let t;if(r=e[i],n=r,!Gr(r)&&(n=Wr[(t=String(r)).toLowerCase()],void 0===n))throw new Ot("Unknown adapter '".concat(t,"'"));if(n)break;a[t||"#"+i]=n}if(!n){const e=Object.entries(a).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let r=t?e.length>1?"since :\n"+e.map(Kr).join("\n"):" "+Kr(e[0]):"as no adapter specified";throw new Ot("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function $r(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lr(null,e)}function Jr(e){$r(e),e.headers=ar.from(e.headers),e.data=ir.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Yr(e.adapter||Xt.adapter)(e).then(function(t){return $r(e),t.data=ir.call(e,e.transformResponse,t),t.headers=ar.from(t.headers),t},function(t){return sr(t)||($r(e),t&&t.response&&(t.response.data=ir.call(e,e.transformResponse,t.response),t.response.headers=ar.from(t.response.headers))),Promise.reject(t)})}const Xr="1.11.0",Zr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Qr={};Zr.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Xr+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,i)=>{if(!1===e)throw new Ot(n(a," has been removed"+(t?" in "+t:"")),Ot.ERR_DEPRECATED);return t&&!Qr[a]&&(Qr[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,i)}},Zr.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const en={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const t=e[i],r=void 0===t||s(t,i,e);if(!0!==r)throw new Ot("option "+i+" must be "+r,Ot.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Ot("Unknown option "+i,Ot.ERR_BAD_OPTION)}},validators:Zr},tn=en.validators;class rn{constructor(e){this.defaults=e||{},this.interceptors={request:new Ut,response:new Ut}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(rC){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=br(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&en.assertOptions(r,{silentJSONParsing:tn.transitional(tn.boolean),forcedJSONParsing:tn.transitional(tn.boolean),clarifyTimeoutError:tn.transitional(tn.boolean)},!1),null!=n&&(Nt.isFunction(n)?t.paramsSerializer={serialize:n}:en.assertOptions(n,{encode:tn.function,serialize:tn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),en.assertOptions(t,{baseUrl:tn.spelling("baseURL"),withXsrfToken:tn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&Nt.merge(a.common,a[t.method]);a&&Nt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=ar.concat(i,a);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Jr.bind(this),void 0];for(e.unshift(...s),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Jr.call(this,h)}catch(f){return Promise.reject(f)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Bt(xr((e=br(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Nt.forEach(["delete","get","head","options"],function(e){rn.prototype[e]=function(t,r){return this.request(br(r||{},{method:e,url:t,data:(r||{}).data}))}}),Nt.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(br(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}rn.prototype[e]=t(),rn.prototype[e+"Form"]=t(!0)});const nn=rn;class an{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,a){r.reason||(r.reason=new lr(e,n,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new an(function(t){e=t});return{token:t,cancel:e}}}const sn=an;const on={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(on).forEach(e=>{let[t,r]=e;on[r]=t});const ln=on;const cn=function e(t){const r=new nn(t),n=Be(nn.prototype.request,r);return Nt.extend(n,nn.prototype,r,{allOwnKeys:!0}),Nt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(br(t,r))},n}(Xt);cn.Axios=nn,cn.CanceledError=lr,cn.CancelToken=sn,cn.isCancel=sr,cn.VERSION=Xr,cn.toFormData=Mt,cn.AxiosError=Ot,cn.Cancel=cn.CanceledError,cn.all=function(e){return Promise.all(e)},cn.spread=function(e){return function(t){return e.apply(null,t)}},cn.isAxiosError=function(e){return Nt.isObject(e)&&!0===e.isAxiosError},cn.mergeConfig=br,cn.AxiosHeaders=ar,cn.formToJSON=e=>$t(Nt.isHTMLForm(e)?new FormData(e):e),cn.getAdapter=Yr,cn.HttpStatusCode=ln,cn.default=cn;const dn=cn,un={development:{BACKEND_URL:"https://basket-loader.preview.emergentagent.com",FRONTEND_URL:"https://basket-loader.preview.emergentagent.com"},production:{BACKEND_URL:"https://basket-loader.preview.emergentagent.com",FRONTEND_URL:"http://217.154.0.82"}},hn=un.production,fn={API_BASE_URL:"".concat(hn.BACKEND_URL,"/api")},pn={AUTH:{LOGIN:"".concat(hn.BACKEND_URL,"/api/auth/login"),REGISTER:"".concat(hn.BACKEND_URL,"/api/auth/register"),LOGOUT:"".concat(hn.BACKEND_URL,"/api/auth/logout"),PROFILE:"".concat(hn.BACKEND_URL,"/api/auth/profile"),REFRESH:"".concat(hn.BACKEND_URL,"/api/auth/refresh")},MARKETPLACE:{LISTINGS:"".concat(hn.BACKEND_URL,"/api/listings"),BROWSE:"".concat(hn.BACKEND_URL,"/api/marketplace/browse"),FAVORITES:"".concat(hn.BACKEND_URL,"/api/marketplace/favorites"),SEARCH:"".concat(hn.BACKEND_URL,"/api/marketplace/search")},USER:{MY_LISTINGS:"".concat(hn.BACKEND_URL,"/api/user/my-listings/{user_id}"),MY_DEALS:"".concat(hn.BACKEND_URL,"/api/user/my-deals/{user_id}"),NOTIFICATIONS:"".concat(hn.BACKEND_URL,"/api/user/{user_id}/notifications"),PROFILE:"".concat(hn.BACKEND_URL,"/api/user/profile")},ADMIN:{DASHBOARD:"".concat(hn.BACKEND_URL,"/api/admin/dashboard"),USERS:"".concat(hn.BACKEND_URL,"/api/admin/users"),SETTINGS:"".concat(hn.BACKEND_URL,"/api/admin/settings"),KPIS:"".concat(hn.BACKEND_URL,"/api/admin/kpis"),LOGO:"".concat(hn.BACKEND_URL,"/api/admin/logo")}},mn={HOME:"/",BROWSE:"/browse",MY_LISTINGS:"/my-listings",TENDERS:"/tenders",MY_TENDERS:"/my-tenders",ADMIN_PANEL:"/admin",FAVORITES:"/favorites",NOTIFICATIONS:"/notifications",PROFILE:"/profile",LOGIN:"/login",REGISTER:"/register",INFO:"/info"},gn={APP_NAME:"Cataloro",LOGO_URL:"/assets/logo.png",DEFAULT_AVATAR:"/assets/default-avatar.png",PAGINATION_SIZE:12,NOTIFICATION_TIMEOUT:5e3},xn={USER:"user",ADMIN:"admin",MODERATOR:"moderator"};const yn=new class{constructor(){dn.defaults.timeout=1e4,dn.interceptors.request.use(e=>{const t=localStorage.getItem("cataloro_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),dn.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),window.location.href="/login"),Promise.reject(e)})}async login(e,t){try{return(await dn.post(pn.AUTH.LOGIN,{email:e,password:t})).data}catch(a){var r,n;throw new Error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Login failed")}}async register(e){try{return(await dn.post(pn.AUTH.REGISTER,e)).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Registration failed")}}async logout(){try{await dn.post(pn.AUTH.LOGOUT)}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}}async getProfile(e){try{return(await dn.get(pn.AUTH.PROFILE.replace("{user_id}",e))).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch profile")}}async refreshToken(){try{const e=await dn.post(pn.AUTH.REFRESH),{token:t}=e.data;return localStorage.setItem("cataloro_token",t),t}catch(e){throw new Error("Token refresh failed")}}isAuthenticated(){return!!localStorage.getItem("cataloro_token")}getCurrentUser(){try{const e=localStorage.getItem("cataloro_user");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing user data:",e),null}}getToken(){return localStorage.getItem("cataloro_token")}};var bn=r(579);const vn={user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},wn="LOGIN_START",jn="LOGIN_SUCCESS",kn="LOGIN_FAILURE",Nn="LOGOUT",_n="SET_USER",Sn="CLEAR_ERROR";function An(e,t){switch(t.type){case wn:return(0,Fe.A)((0,Fe.A)({},e),{},{isLoading:!0,error:null});case jn:return(0,Fe.A)((0,Fe.A)({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null});case kn:return(0,Fe.A)((0,Fe.A)({},e),{},{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t.payload});case Nn:return(0,Fe.A)({},vn);case _n:return(0,Fe.A)((0,Fe.A)({},e),{},{user:t.payload});case Sn:return(0,Fe.A)((0,Fe.A)({},e),{},{error:null});default:return e}}const On=(0,i.createContext)();function En(e){let{children:t}=e;const[r,n]=(0,i.useReducer)(An,vn);(0,i.useEffect)(()=>{const e=localStorage.getItem("cataloro_token"),t=localStorage.getItem("cataloro_user");if(e&&t)try{n({type:jn,payload:{token:e,user:JSON.parse(t)}})}catch(r){console.error("Error parsing stored user data:",r),localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}},[]);const a=async(e,t)=>{n({type:wn});try{const r=await yn.login(e,t);return localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),n({type:jn,payload:r}),r}catch(r){throw n({type:kn,payload:r.message}),r}},s=()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.role)===xn.ADMIN},o=(0,Fe.A)((0,Fe.A)({},r),{},{login:a,register:async e=>{n({type:wn});try{const t=await yn.register(e);return t.user_id?await a(e.email,e.password):t}catch(t){throw n({type:kn,payload:t.message}),t}},logout:()=>{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),n({type:Nn})},clearError:()=>{n({type:Sn})},updateUser:e=>{localStorage.setItem("cataloro_user",JSON.stringify(e)),n({type:_n,payload:e})},isAdmin:s,isModerator:()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.role)===xn.MODERATOR||s()},hasPermission:e=>{if(!r.user)return!1;const t={[xn.USER]:1,[xn.MODERATOR]:2,[xn.ADMIN]:3};return t[r.user.role]>=t[e]}});return(0,bn.jsx)(On.Provider,{value:o,children:t})}function Cn(){const e=(0,i.useContext)(On);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Pn=new class{async getUserNotifications(e){try{return(await dn.get(pn.USER.NOTIFICATIONS.replace("{user_id}",e))).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch notifications")}}async markAsRead(e,t){try{await dn.put("".concat(pn.USER.NOTIFICATIONS.replace("{user_id}",e),"/").concat(t,"/read"))}catch(a){var r,n;throw new Error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Failed to mark notification as read")}}async markAllAsRead(e){try{await dn.put("".concat(pn.USER.NOTIFICATIONS.replace("{user_id}",e),"/read-all"))}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to mark all notifications as read")}}async deleteNotification(e,t){try{await dn.delete("".concat(pn.USER.NOTIFICATIONS.replace("{user_id}",e),"/").concat(t))}catch(a){var r,n;throw new Error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Failed to delete notification")}}},Tn={notifications:[],unreadCount:0,isLoading:!1,error:null},Mn="FETCH_START",Ln="FETCH_SUCCESS",Dn="FETCH_FAILURE",Rn="MARK_AS_READ",In="MARK_ALL_AS_READ",Fn="ADD_NOTIFICATION",Bn="REMOVE_NOTIFICATION";function Un(e,t){switch(t.type){case Mn:return(0,Fe.A)((0,Fe.A)({},e),{},{isLoading:!0,error:null});case Ln:const r=t.payload,n=r.filter(e=>!e.is_read).length;return(0,Fe.A)((0,Fe.A)({},e),{},{notifications:r,unreadCount:n,isLoading:!1,error:null});case Dn:return(0,Fe.A)((0,Fe.A)({},e),{},{isLoading:!1,error:t.payload});case Rn:const a=e.notifications.map(e=>e.id===t.payload?(0,Fe.A)((0,Fe.A)({},e),{},{is_read:!0}):e);return(0,Fe.A)((0,Fe.A)({},e),{},{notifications:a,unreadCount:Math.max(0,e.unreadCount-1)});case In:return(0,Fe.A)((0,Fe.A)({},e),{},{notifications:e.notifications.map(e=>(0,Fe.A)((0,Fe.A)({},e),{},{is_read:!0})),unreadCount:0});case Fn:return(0,Fe.A)((0,Fe.A)({},e),{},{notifications:[t.payload,...e.notifications],unreadCount:e.unreadCount+1});case Bn:const i=e.notifications.filter(e=>e.id!==t.payload);return(0,Fe.A)((0,Fe.A)({},e),{},{notifications:i,unreadCount:i.filter(e=>!e.is_read).length});default:return e}}const qn=(0,i.createContext)();function zn(e){let{children:t}=e;const[r,n]=(0,i.useReducer)(Un,Tn),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n({type:Fn,payload:(0,Fe.A)({id:Date.now().toString(),user_id:t,created_at:(new Date).toISOString(),is_read:!1},e)})},s=e=>{n({type:Bn,payload:e})},o=(0,Fe.A)((0,Fe.A)({},r),{},{fetchNotifications:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){n({type:Mn});try{const t=await Pn.getUserNotifications(e);n({type:Ln,payload:t})}catch(t){n({type:Dn,payload:t.message})}}},markAsRead:async e=>{try{await Pn.markAsRead(e),n({type:Rn,payload:e})}catch(t){console.error("Error marking notification as read:",t)}},markAllAsRead:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)try{await Pn.markAllAsRead(e),n({type:In})}catch(t){console.error("Error marking all notifications as read:",t)}},addNotification:a,removeNotification:s,showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";a({title:t.charAt(0).toUpperCase()+t.slice(1),message:e,type:t}),setTimeout(()=>{s(Date.now().toString())},5e3)}});return(0,bn.jsx)(qn.Provider,{value:o,children:t})}function Hn(){const e=(0,i.useContext)(qn);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e}const Vn=new class{async browseListings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e);return(await dn.get("".concat(fn.API_BASE_URL,"/marketplace/browse?").concat(t))).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch listings")}}async getMyListings(e){try{return(await dn.get(pn.USER.MY_LISTINGS.replace("{user_id}",e))).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch your listings")}}async getMyDeals(e){try{return(await dn.get(pn.USER.MY_DEALS.replace("{user_id}",e))).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch your deals")}}async createListing(e){try{return(await dn.post("".concat(fn.API_BASE_URL,"/listings"),e)).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to create listing")}}async updateListing(e,t){try{return(await dn.put("".concat(pn.MARKETPLACE.LISTINGS,"/").concat(e),t)).data}catch(a){var r,n;throw new Error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Failed to update listing")}}async deleteListing(e){try{await dn.delete("".concat(pn.MARKETPLACE.LISTINGS,"/").concat(e))}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete listing")}}async searchListings(e){try{return(await dn.get("".concat(pn.MARKETPLACE.SEARCH,"?q=").concat(encodeURIComponent(e)))).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Search failed")}}};const Wn=new class{constructor(){this.baseURL=fn.API_BASE_URL,this.rateLimitBackoff={}}async handleRateLimitedRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=e.split("?")[0];if(this.rateLimitBackoff[n]&&Date.now()<this.rateLimitBackoff[n])throw console.warn("\u23f3 Rate limit backoff active for ".concat(n," - skipping request")),new Error("Rate limit backoff - request skipped");try{const a=await fetch(e,t);if(429===a.status){const a=3e4*Math.pow(2,r);if(this.rateLimitBackoff[n]=Date.now()+a,console.warn("\ud83d\udea6 Rate limit hit for ".concat(n," - backing off for ").concat(a/1e3,"s")),r<3)return await new Promise(e=>setTimeout(e,a)),this.handleRateLimitedRequest(e,t,r+1);throw new Error("429 Too Many Requests - Max retries exceeded")}if(delete this.rateLimitBackoff[n],!a.ok)throw new Error("HTTP error! status: ".concat(a.status));return a}catch(a){if(a.message.includes("429")||a.message.includes("Rate limit"))throw a;throw console.error("Request error:",a),a}}async getUserFavorites(e){try{const t=await this.handleRateLimitedRequest("".concat(this.baseURL,"/user/").concat(e,"/favorites"));return await t.json()}catch(t){throw console.error("Error fetching favorites:",t),t}}async addToFavorites(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/favorites/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error adding to favorites:",r),r}}async removeFromFavorites(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/favorites/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error removing from favorites:",r),r}}async getUserMessages(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching messages:",t),t}}async sendMessage(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error sending message:",r),r}}async markMessageRead(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages/").concat(t,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error marking message as read:",r),r}}async getUserNotifications(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching notifications:",t),t}}async createNotification(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error creating notification:",r),r}}async markNotificationRead(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications/").concat(t,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error marking notification as read:",r),r}}async searchUsers(e){try{const t=await fetch("".concat(this.baseURL,"/users/search?q=").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error searching users:",t),t}}},Kn={favorites:[],favoriteCount:0,searchQuery:"",activeFilters:{type:"all",priceFrom:0,priceTo:1e4,rating:0,location:"all"},allProducts:[],filteredProducts:[],categories:[],recentlyViewed:[],notifications:[],messages:[],viewMode:"grid",sortBy:"newest",isLoading:!1,appliedPromo:null,availablePromos:[{code:"SAVE10",discount:.1,description:"10% off your order"},{code:"FREESHIP",shippingDiscount:!0,description:"Free shipping"},{code:"WELCOME20",discount:.2,description:"20% off first order",minAmount:100}]},Gn={APPLY_PROMO:"APPLY_PROMO",REMOVE_PROMO:"REMOVE_PROMO",ADD_TO_FAVORITES:"ADD_TO_FAVORITES",REMOVE_FROM_FAVORITES:"REMOVE_FROM_FAVORITES",SET_FAVORITES:"SET_FAVORITES",SET_PRODUCTS:"SET_PRODUCTS",SET_FILTERED_PRODUCTS:"SET_FILTERED_PRODUCTS",ADD_PRODUCT:"ADD_PRODUCT",UPDATE_PRODUCT:"UPDATE_PRODUCT",DELETE_PRODUCT:"DELETE_PRODUCT",SET_SEARCH_QUERY:"SET_SEARCH_QUERY",SET_FILTERS:"SET_FILTERS",SET_SORT_BY:"SET_SORT_BY",SET_VIEW_MODE:"SET_VIEW_MODE",SET_LOADING:"SET_LOADING",ADD_NOTIFICATION:"ADD_NOTIFICATION",REMOVE_NOTIFICATION:"REMOVE_NOTIFICATION",ADD_TO_RECENTLY_VIEWED:"ADD_TO_RECENTLY_VIEWED",ADD_MESSAGE:"ADD_MESSAGE",MARK_MESSAGE_READ:"MARK_MESSAGE_READ"};function Yn(e,t){switch(t.type){case Gn.ADD_TO_FAVORITES:return e.favorites.some(e=>e.id===t.payload.id)?e:(0,Fe.A)((0,Fe.A)({},e),{},{favorites:[...e.favorites,t.payload],favoriteCount:e.favoriteCount+1});case Gn.REMOVE_FROM_FAVORITES:return(0,Fe.A)((0,Fe.A)({},e),{},{favorites:e.favorites.filter(e=>e.id!==t.payload),favoriteCount:Math.max(0,e.favoriteCount-1)});case Gn.SET_FAVORITES:return(0,Fe.A)((0,Fe.A)({},e),{},{favorites:t.payload,favoriteCount:t.payload.length});case Gn.SET_PRODUCTS:{const r=[...t.payload].sort((t,r)=>{switch(e.sortBy){case"price_low":return t.price-r.price;case"price_high":return r.price-t.price;case"rating":return(r.rating||0)-(t.rating||0);case"popular":return(r.views||0)-(t.views||0);default:return new Date(r.created_at||r.createdAt)-new Date(t.created_at||t.createdAt)}});return(0,Fe.A)((0,Fe.A)({},e),{},{allProducts:t.payload,filteredProducts:r})}case Gn.SET_FILTERED_PRODUCTS:return(0,Fe.A)((0,Fe.A)({},e),{},{filteredProducts:t.payload});case Gn.SET_SEARCH_QUERY:return(0,Fe.A)((0,Fe.A)({},e),{},{searchQuery:t.payload});case Gn.SET_FILTERS:return(0,Fe.A)((0,Fe.A)({},e),{},{activeFilters:(0,Fe.A)((0,Fe.A)({},e.activeFilters),t.payload)});case Gn.SET_SORT_BY:return(0,Fe.A)((0,Fe.A)({},e),{},{sortBy:t.payload});case Gn.SET_VIEW_MODE:return(0,Fe.A)((0,Fe.A)({},e),{},{viewMode:t.payload});case Gn.APPLY_PROMO:{const r=e.availablePromos.find(e=>e.code===t.payload);return(0,Fe.A)((0,Fe.A)({},e),{},{appliedPromo:r||null})}case Gn.REMOVE_PROMO:return(0,Fe.A)((0,Fe.A)({},e),{},{appliedPromo:null});case Gn.ADD_NOTIFICATION:return(0,Fe.A)((0,Fe.A)({},e),{},{notifications:[t.payload,...e.notifications]});case Gn.REMOVE_NOTIFICATION:return(0,Fe.A)((0,Fe.A)({},e),{},{notifications:e.notifications.filter(e=>e.id!==t.payload)});case Gn.ADD_TO_RECENTLY_VIEWED:{const r=e.recentlyViewed.filter(e=>e.id!==t.payload.id);return(0,Fe.A)((0,Fe.A)({},e),{},{recentlyViewed:[t.payload,...r].slice(0,10)})}case Gn.SET_LOADING:return(0,Fe.A)((0,Fe.A)({},e),{},{isLoading:t.payload});default:return e}}const $n=(0,i.createContext)();function Jn(e){let{children:t}=e;const[r,n]=(0,i.useReducer)(Yn,Kn);(0,i.useEffect)(()=>{const e=localStorage.getItem("cataloro_cart"),t=localStorage.getItem("cataloro_favorites");if(e)try{JSON.parse(e).forEach(e=>{n({type:Gn.ADD_TO_CART,payload:e})})}catch(r){console.error("Error loading cart from storage:",r)}if(t)try{JSON.parse(t).forEach(e=>{n({type:Gn.ADD_TO_FAVORITES,payload:e})})}catch(r){console.error("Error loading favorites from storage:",r)}a()},[]),(0,i.useEffect)(()=>{localStorage.setItem("cataloro_favorites",JSON.stringify(r.favorites))},[r.favorites]);const a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n({type:Gn.SET_LOADING,payload:!0});try{const t=e||r.activeFilters,a={};t.type&&"all"!==t.type&&(a.type=t.type),t.priceFrom>0&&(a.price_from=t.priceFrom),t.priceTo<1e4&&(a.price_to=t.priceTo);const i=await Vn.browseListings(a);let s;if(console.log("\u2705 Loaded real listings from API with filters:",a,i),!Array.isArray(i))throw new Error("Invalid API response format: expected array");s=i,console.log("\ud83d\udccb Processing listings:",s.length),s.length>0&&(console.log("\ud83d\udd0d First listing raw data:",JSON.stringify(s[0],null,2)),console.log("\ud83d\udd0d First listing seller data:",s[0].seller));const o=s.map((e,t)=>{var r,n,a,i,s,o,l,c;const d={id:e.id,title:e.title,description:e.description,price:parseFloat(e.price)||0,originalPrice:1.1*(parseFloat(e.price)||0),category:e.category,condition:e.condition,location:e.location||"Unknown",images:e.images||[],bid_info:e.bid_info||{has_bids:!1,total_bids:0,highest_bid:parseFloat(e.price)||0,highest_bidder_id:""},time_info:e.time_info||{has_time_limit:!1,is_expired:!1,time_remaining_seconds:null,expires_at:null,status_text:null},seller:(0,Fe.A)((0,Fe.A)({},e.seller),{},{name:(null===(r=e.seller)||void 0===r?void 0:r.name)||"Unknown Seller",username:(null===(n=e.seller)||void 0===n?void 0:n.username)||"Unknown",email:(null===(a=e.seller)||void 0===a?void 0:a.email)||"",is_business:(null===(i=e.seller)||void 0===i?void 0:i.is_business)||!1,business_name:(null===(s=e.seller)||void 0===s?void 0:s.business_name)||"",verified:(null===(o=e.seller)||void 0===o?void 0:o.verified)||!1,location:(null===(l=e.seller)||void 0===l?void 0:l.location)||"Unknown"}),address:e.address||{},created_at:e.created_at,updated_at:e.updated_at,rating:4.5,reviewCount:Math.floor(100*Math.random())+10,isHotDeal:Math.random()>.7,hasFastShipping:Math.random()>.6,verified:(null===(c=e.seller)||void 0===c?void 0:c.verified)||!1,inStock:!0,quantity:1,tags:e.tags||[],features:e.features||[]};return 0===t&&(console.log("\ud83d\udd04 First listing transformed:",JSON.stringify(d,null,2)),console.log("\ud83d\udd04 First listing seller after transform:",d.seller)),d});return n({type:Gn.SET_PRODUCTS,payload:o}),n({type:Gn.SET_LOADING,payload:!1}),void console.log("\ud83c\udf89 Successfully loaded",o.length,"real listings from API")}catch(a){console.error("Failed to load listings from API:",a)}console.log("\u26a0\ufe0f Using demo data - no real listings found");const t=[{id:"1",title:"MacBook Pro 16-inch M3 Max",description:"Professional laptop with M3 Max chip, perfect for developers and creators. Includes original box and all accessories.",price:2499,originalPrice:2799,category:"Electronics",subcategory:"Laptops",seller:{name:"TechGuru123",username:"TechGuru123",email:"techguru123@example.com",rating:4.9,reviews:156,verified:!0,is_business:!1,location:"San Francisco, CA"},images:["https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500","https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?w=500","https://images.unsplash.com/photo-1585337701044-7305994ea6fb?w=500"],condition:"Like New",views:234,favorites:45,createdAt:(new Date).toISOString(),features:["M3 Max Chip","64GB RAM","2TB SSD","Space Gray","16-inch Display"],shipping:"Free shipping",estimatedDelivery:"2-3 business days",rating:4.8,reviewCount:156,tags:["Hot Deal","Fast Shipping","Professional"],inStock:!0,quantity:1},{id:"2",title:"Vintage Gibson Les Paul Standard 1959",description:"Authentic 1959 Gibson Les Paul in museum-quality condition. This is a collector's dream with incredible tone and playability.",price:45e3,originalPrice:55e3,category:"Music",subcategory:"Guitars",seller:{name:"VintageGuitars_Pro",username:"VintageGuitars_Pro",email:"vintage.guitars.pro@example.com",rating:4.9,reviews:89,verified:!0,is_business:!0,company_name:"Vintage Guitars Pro LLC",location:"Nashville, TN"},images:["https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=500","https://images.unsplash.com/photo-1564186763535-ebb21ef5277f?w=500","https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=500"],condition:"Excellent",views:1289,favorites:267,createdAt:new Date(Date.now()-864e5).toISOString(),features:["1959 Model","Original Case","Certificate of Authenticity","Museum Quality"],shipping:"Insured shipping - $150",estimatedDelivery:"3-5 business days",rating:4.9,reviewCount:89,tags:["Vintage","Authenticated","Collector Item"],inStock:!0,quantity:1},{id:"3",title:"Louis Vuitton Neverfull MM",description:"Authentic Louis Vuitton handbag in pristine condition. Perfect for daily use with elegant design.",price:1850,originalPrice:2200,category:"Fashion",subcategory:"Handbags",seller:{name:"LuxuryItems_NYC",username:"LuxuryItems_NYC",email:"luxury.items.nyc@example.com",rating:4.7,reviews:245,verified:!0,is_business:!0,company_name:"Luxury Items NYC Inc.",location:"New York, NY"},images:["https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=500","https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500"],condition:"Excellent",views:456,favorites:189,createdAt:new Date(Date.now()-1728e5).toISOString(),features:["Authentic","Dust Bag Included","Care Instructions","Serial Number"],shipping:"Express delivery - $25",estimatedDelivery:"1-2 business days",rating:4.6,reviewCount:245,tags:["Luxury","Authentic","Designer"],inStock:!0,quantity:1},{id:"4",title:"Gaming PC - RTX 4090 Build",description:"Ultimate gaming PC with RTX 4090, perfect for 4K gaming, streaming, and content creation.",price:4200,originalPrice:4800,category:"Electronics",subcategory:"Computers",seller:{name:"PCBuilder_Expert",rating:4.9,reviews:78,verified:!0,location:"Austin, TX"},images:["https://images.unsplash.com/photo-1587831990711-23ca6441447b?w=500"],condition:"New",views:698,favorites:212,createdAt:new Date(Date.now()-432e5).toISOString(),features:["RTX 4090","Intel i9-13900K","64GB RAM","Custom Cooling"],shipping:"Free shipping",estimatedDelivery:"3-5 business days",rating:5,reviewCount:78,tags:["Gaming","Custom Built","High Performance"],inStock:!0,quantity:1},{id:"5",title:"iPhone 15 Pro Max 1TB",description:"Latest iPhone 15 Pro Max in Natural Titanium with maximum storage capacity.",price:1599,category:"Electronics",subcategory:"Smartphones",seller:{name:"AppleStore_Certified",rating:4.8,reviews:324,verified:!0,location:"Cupertino, CA"},images:["https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=500"],condition:"New",views:1205,favorites:398,createdAt:new Date(Date.now()-216e5).toISOString(),features:["1TB Storage","Natural Titanium","Pro Camera System","A17 Pro Chip"],shipping:"Free shipping",estimatedDelivery:"1-2 business days",rating:4.8,reviewCount:324,tags:["Latest Model","Premium","Fast Shipping"],inStock:!0,quantity:1}];n({type:Gn.SET_PRODUCTS,payload:t})},s={addToFavorites:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r.favorites.some(t=>t.id===e.id))l("Already in favorites!","info");else try{t&&await Wn.addToFavorites(t,e.id),n({type:Gn.ADD_TO_FAVORITES,payload:e}),l("Added ".concat(e.title," to favorites!"),"success")}catch(a){console.error("Error adding to favorites:",a),n({type:Gn.ADD_TO_FAVORITES,payload:e}),l("Added ".concat(e.title," to favorites!"),"success")}},removeFromFavorites:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t&&await Wn.removeFromFavorites(t,e),n({type:Gn.REMOVE_FROM_FAVORITES,payload:e}),l("Removed from favorites","info")}catch(r){console.error("Error removing from favorites:",r),n({type:Gn.REMOVE_FROM_FAVORITES,payload:e}),l("Removed from favorites","info")}},loadUserFavorites:async e=>{try{const t=await Wn.getUserFavorites(e);n({type:Gn.SET_FAVORITES,payload:t})}catch(t){console.error("Error loading user favorites:",t)}},setSearchQuery:async e=>{n({type:Gn.SET_SEARCH_QUERY,payload:e}),("all"!==r.activeFilters.type||r.activeFilters.priceFrom>0||r.activeFilters.priceTo<1e4)&&await a(r.activeFilters),o(e,r.activeFilters,r.sortBy)},setFilters:async e=>{const t=(0,Fe.A)((0,Fe.A)({},r.activeFilters),e);n({type:Gn.SET_FILTERS,payload:e}),void 0!==e.type||void 0!==e.priceFrom||void 0!==e.priceTo?await a(t):o(r.searchQuery,t,r.sortBy)},setSortBy:e=>{n({type:Gn.SET_SORT_BY,payload:e}),o(r.searchQuery,r.activeFilters,e)},setViewMode:e=>{n({type:Gn.SET_VIEW_MODE,payload:e})},applyPromo:e=>{const t=r.availablePromos.find(t=>t.code===e.toUpperCase());return t?t.minAmount&&r.cartTotal<t.minAmount?(l("Minimum order of $".concat(t.minAmount," required for this promo"),"error"),!1):(n({type:Gn.APPLY_PROMO,payload:e.toUpperCase()}),l("Promo code applied: ".concat(t.description),"success"),!0):(l("Invalid promo code","error"),!1)},removePromo:()=>{n({type:Gn.REMOVE_PROMO}),l("Promo code removed","info")},refreshListings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;await a(e)},addToRecentlyViewed:e=>{n({type:Gn.ADD_TO_RECENTLY_VIEWED,payload:e})},setLoading:e=>{n({type:Gn.SET_LOADING,payload:e})}},o=(e,t,a)=>{let i=[...r.allProducts];e&&(i=i.filter(t=>{var r;return t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())||(null===(r=t.features)||void 0===r?void 0:r.some(t=>t.toLowerCase().includes(e.toLowerCase())))||t.add_info&&t.add_info.toLowerCase().includes(e.toLowerCase())})),"all"!==t.type&&(i=i.filter(e=>{var r;const n=!0===(null===(r=e.seller)||void 0===r?void 0:r.is_business);return"Business"===t.type?n:"Private"!==t.type||!n})),void 0!==t.priceFrom&&void 0!==t.priceTo&&(i=i.filter(e=>e.price>=t.priceFrom&&e.price<=t.priceTo)),t.rating>0&&(i=i.filter(e=>(e.rating||0)>=t.rating)),i.sort((e,t)=>{switch(a){case"price_low":return e.price-t.price;case"price_high":return t.price-e.price;case"rating":return(t.rating||0)-(e.rating||0);case"popular":return(t.views||0)-(e.views||0);default:return new Date(t.created_at)-new Date(e.created_at)}}),n({type:Gn.SET_FILTERED_PRODUCTS,payload:i})},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const r={id:Date.now(),message:e,type:t,timestamp:(new Date).toISOString()};n({type:Gn.ADD_NOTIFICATION,payload:r}),setTimeout(()=>{n({type:Gn.REMOVE_NOTIFICATION,payload:r.id})},5e3)},c=(0,Fe.A)((0,Fe.A)((0,Fe.A)({},r),s),{},{showNotification:l});return(0,bn.jsx)($n.Provider,{value:c,children:t})}function Xn(){const e=(0,i.useContext)($n);if(!e)throw new Error("useMarketplace must be used within a MarketplaceProvider");return e}const Zn=Object.create(null);Zn.open="0",Zn.close="1",Zn.ping="2",Zn.pong="3",Zn.message="4",Zn.upgrade="5",Zn.noop="6";const Qn=Object.create(null);Object.keys(Zn).forEach(e=>{Qn[Zn[e]]=e});const ea={type:"error",data:"parser error"},ta="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ra="function"===typeof ArrayBuffer,na=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,aa=(e,t,r)=>{let{type:n,data:a}=e;return ta&&a instanceof Blob?t?r(a):ia(a,r):ra&&(a instanceof ArrayBuffer||na(a))?t?r(a):ia(new Blob([a]),r):r(Zn[n]+(a||""))},ia=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function sa(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let oa;const la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ca="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)ca[la.charCodeAt(r)]=r;const da="function"===typeof ArrayBuffer,ua=(e,t)=>{if("string"!==typeof e)return{type:"message",data:fa(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:ha(e.substring(1),t)};return Qn[r]?e.length>1?{type:Qn[r],data:e.substring(1)}:{type:Qn[r]}:ea},ha=(e,t)=>{if(da){const r=(e=>{let t,r,n,a,i,s=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<o;t+=4)r=ca[e.charCodeAt(t)],n=ca[e.charCodeAt(t+1)],a=ca[e.charCodeAt(t+2)],i=ca[e.charCodeAt(t+3)],d[l++]=r<<2|n>>4,d[l++]=(15&n)<<4|a>>2,d[l++]=(3&a)<<6|63&i;return c})(e);return fa(r,t)}return{base64:!0,data:e}},fa=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,pa=String.fromCharCode(30);function ma(){return new TransformStream({transform(e,t){!function(e,t){ta&&e.data instanceof Blob?e.data.arrayBuffer().then(sa).then(t):ra&&(e.data instanceof ArrayBuffer||na(e.data))?t(sa(e.data)):aa(e,!1,e=>{oa||(oa=new TextEncoder),t(oa.encode(e))})}(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let ga;function xa(e){return e.reduce((e,t)=>e+t.length,0)}function ya(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function ba(e){if(e)return function(e){for(var t in ba.prototype)e[t]=ba.prototype[t];return e}(e)}ba.prototype.on=ba.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},ba.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},ba.prototype.off=ba.prototype.removeListener=ba.prototype.removeAllListeners=ba.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},ba.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},ba.prototype.emitReserved=ba.prototype.emit,ba.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},ba.prototype.hasListeners=function(e){return!!this.listeners(e).length};const va="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function wa(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}const ja=va.setTimeout,ka=va.clearTimeout;function Na(e,t){t.useNativeTimers?(e.setTimeoutFn=ja.bind(va),e.clearTimeoutFn=ka.bind(va)):(e.setTimeoutFn=va.setTimeout.bind(va),e.clearTimeoutFn=va.clearTimeout.bind(va))}function _a(e){return"string"===typeof e?function(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}class Sa extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Aa extends ba{constructor(e){super(),this.writable=!1,Na(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new Sa(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=ua(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}const Oa="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ea={};let Ca,Pa=0,Ta=0;function Ma(e){let t="";do{t=Oa[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function La(){const e=Ma(+new Date);return e!==Ca?(Pa=0,Ca=e):e+"."+Ma(Pa++)}for(;Ta<64;Ta++)Ea[Oa[Ta]]=Ta;let Da=!1;try{Da="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(nC){}const Ra=Da;function Ia(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Ra))return new XMLHttpRequest}catch(rC){}if(!t)try{return new(va[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(rC){}}function Fa(){}const Ba=null!=new Ia({xdomain:!1}).responseType;class Ua extends ba{constructor(e,t){super(),Na(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=wa(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const r=this.xhr=new Ia(t);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(rC){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(rC){}try{r.setRequestHeader("Accept","*/*")}catch(rC){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(r)),4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"===typeof r.status?r.status:0)},0))},r.send(this.data)}catch(rC){return void this.setTimeoutFn(()=>{this.onError(rC)},0)}"undefined"!==typeof document&&(this.index=Ua.requestsCount++,Ua.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Fa,e)try{this.xhr.abort()}catch(rC){}"undefined"!==typeof document&&delete Ua.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Ua.requestsCount=0,Ua.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",qa);else if("function"===typeof addEventListener){addEventListener("onpagehide"in va?"pagehide":"unload",qa,!1)}function qa(){for(let e in Ua.requests)Ua.requests.hasOwnProperty(e)&&Ua.requests[e].abort()}const za="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ha=va.WebSocket||va.MozWebSocket,Va="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const Wa={websocket:class extends Aa{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=Va?{}:wa(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Va?new Ha(e,t,r):t?new Ha(e,t):new Ha(e)}catch(nC){return this.emitReserved("error",nC)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;aa(r,this.supportsBinary,e=>{try{this.ws.send(e)}catch(rC){}n&&za(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=La()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Ha}},webtransport:class extends Aa{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=function(e,t){ga||(ga=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(s,o){for(r.push(s);;){if(0===n){if(xa(r)<1)break;const e=ya(r,1);i=128===(128&e[0]),a=127&e[0],n=a<126?3:126===a?1:2}else if(1===n){if(xa(r)<2)break;const e=ya(r,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(xa(r)<8)break;const e=ya(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){o.enqueue(ea);break}a=i*Math.pow(2,32)+t.getUint32(4),n=3}else{if(xa(r)<a)break;const e=ya(r,a);o.enqueue(ua(i?e:ga.decode(e),t)),n=0}if(0===a||a>e){o.enqueue(ea);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=ma();n.readable.pipeTo(e.writable),this.writer=n.writable.getWriter();const a=()=>{r.read().then(e=>{let{done:t,value:r}=e;t||(this.onPacket(r),a())}).catch(e=>{})};a();const i={type:"open"};this.query.sid&&(i.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(i).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this.writer.write(r).then(()=>{n&&za(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends Aa{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}const t=e&&e.forceBase64;this.supportsBinary=Ba&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(pa),n=[];for(let a=0;a<r.length;a++){const e=ua(r[a],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((e,i)=>{aa(e,!1,e=>{n[i]=e,++a===r&&t(n.join(pa))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=La()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ua(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}},Ka=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ga=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ya(e){if(e.length>2e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=Ka.exec(e||""),i={},s=14;for(;s--;)i[Ga[s]]=a[s]||"";return-1!=r&&-1!=n&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,i.path),i.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}(0,i.query),i}class $a extends ba{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=Ya(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Ya(t.host).host),Na(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Wa[e](r)}open(){let e;if(this.opts.rememberUpgrade&&$a.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(rC){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(e){let t=this.createTransport(e),r=!1;$a.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;$a.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function a(){r||(r=!0,c(),t.close(),t=null)}const i=e=>{const r=new Error("probe error: "+e);r.transport=t.name,a(),this.emitReserved("upgradeError",r)};function s(){i("transport closed")}function o(){i("socket closed")}function l(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",n),t.removeListener("error",i),t.removeListener("close",s),this.off("close",o),this.off("upgrading",l)};t.once("open",n),t.once("error",i),t.once("close",s),this.once("close",o),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onOpen(){if(this.readyState="open",$a.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=_a(r)),t>0&&e>this.maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){$a.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}$a.protocol=4;$a.protocol;const Ja="function"===typeof ArrayBuffer,Xa=Object.prototype.toString,Za="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Xa.call(Blob),Qa="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Xa.call(File);function ei(e){return Ja&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Za&&e instanceof Blob||Qa&&e instanceof File}function ti(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(ti(e[t]))return!0;return!1}if(ei(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ti(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&ti(e[r]))return!0;return!1}function ri(e){const t=[],r=e.data,n=e;return n.data=ni(r,t),n.attachments=t.length,{packet:n,buffers:t}}function ni(e,t){if(!e)return e;if(ei(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=ni(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=ni(e[n],t));return r}return e}function ai(e,t){return e.data=ii(e.data,t),delete e.attachments,e}function ii(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=ii(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ii(e[r],t));return e}const si=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],oi=5;var li;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(li||(li={}));class ci{constructor(e){this.replacer=e}encode(e){return e.type!==li.EVENT&&e.type!==li.ACK||!ti(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===li.EVENT?li.BINARY_EVENT:li.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==li.BINARY_EVENT&&e.type!==li.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ri(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function di(e){return"[object Object]"===Object.prototype.toString.call(e)}class ui extends ba{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===li.BINARY_EVENT;r||t.type===li.BINARY_ACK?(t.type=r?li.EVENT:li.ACK,this.reconstructor=new hi(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ei(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===li[r.type])throw new Error("unknown packet type "+r.type);if(r.type===li.BINARY_EVENT||r.type===li.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(n,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!ui.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(rC){return!1}}static isPayloadValid(e,t){switch(e){case li.CONNECT:return di(t);case li.DISCONNECT:return void 0===t;case li.CONNECT_ERROR:return"string"===typeof t||di(t);case li.EVENT:case li.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===si.indexOf(t[0]));case li.ACK:case li.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hi{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=ai(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function fi(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const pi=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class mi extends ba{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[fi(e,"open",this.onopen.bind(this)),fi(e,"packet",this.onpacket.bind(this)),fi(e,"error",this.onerror.bind(this)),fi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(pi.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:li.EVENT,data:r,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof r[r.length-1]){const e=this.ids++,t=r.pop();this._registerAckCallback(e,t),a.id=e}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const a=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},a),s=function(){n.io.clearTimeoutFn(i);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,r)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise((t,n)=>{const a=(e,r)=>e?n(e):t(r);a.withError=!0,r.push(a),this.emit(e,...r)})}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];r(null,...i)}return n.pending=!1,t._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:li.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case li.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case li.EVENT:case li.BINARY_EVENT:this.onevent(e);break;case li.ACK:case li.BINARY_ACK:this.onack(e);break;case li.DISCONNECT:this.ondisconnect();break;case li.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];t.packet({type:li.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:li.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function gi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}gi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},gi.prototype.reset=function(){this.attempts=0},gi.prototype.setMin=function(e){this.ms=e},gi.prototype.setMax=function(e){this.max=e},gi.prototype.setJitter=function(e){this.jitter=e};class xi extends ba{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(r=e,e=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,Na(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=r.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new gi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=e;const a=r.parser||t;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $a(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=fi(t,"open",function(){r.onopen(),e&&e()}),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=fi(t,"error",a);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn(()=>{n(),a(new Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(n),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(fi(e,"ping",this.onping.bind(this)),fi(e,"data",this.ondata.bind(this)),fi(e,"error",this.onerror.bind(this)),fi(e,"close",this.onclose.bind(this)),fi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(rC){this.onclose("parse error",rC)}}ondecoded(e){za(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new mi(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const yi={};function bi(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=Ya(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,a=r.id,i=r.path,s=yi[a]&&i in yi[a].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?o=new xi(n,t):(yi[a]||(yi[a]=new xi(n,t)),o=yi[a]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(bi,{Manager:xi,Socket:mi,io:bi,connect:bi});const vi=(0,i.createContext)(),wi=e=>{let{children:t}=e;const[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)({}),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("currentUser")||"{}");return e.id&&p(e),()=>{f.current&&f.current.disconnect()}},[]);const p=e=>{try{const t=bi("https://basket-loader.preview.emergentagent.com".replace("/api","").replace("http","ws"),{transports:["websocket","polling"],auth:{user_id:e.id,username:e.username,user_role:e.user_role}});t.on("connect",()=>{console.log("\u2705 WebSocket connected"),s(!0),n(t),f.current=t}),t.on("disconnect",()=>{console.log("\u274c WebSocket disconnected"),s(!1)}),t.on("connection_confirmed",e=>{console.log("\ud83d\udd17 Connection confirmed:",e),t.emit("get_online_users",{})}),t.on("online_users",e=>{l(e.users||[])}),t.on("user_status_update",e=>{"online"===e.status?l(t=>{const r=t.some(t=>t.user_id===e.user_id);return r?t:[...t,{user_id:e.user_id,username:e.username,last_activity:e.timestamp}]}):l(t=>t.filter(t=>t.user_id!==e.user_id))}),t.on("notification",e=>{d(t=>[e,...t.slice(0,49)]),"granted"===Notification.permission&&new Notification(e.title||"Cataloro Notification",{body:e.message,icon:"/favicon.ico"})}),t.on("new_message",e=>{d(t=>[{type:"message",title:"New message from ".concat(e.sender_username),message:e.message,timestamp:e.timestamp,data:e},...t.slice(0,49)])}),t.on("new_bid",e=>{const{listing_id:t,bid:r,auction_status:n}=e;h(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[t]:n})),d(t=>[{type:"bid",title:"New Bid Placed",message:"\u20ac".concat(r.amount," bid on ").concat(r.listing_id),timestamp:r.timestamp,data:e},...t.slice(0,49)])}),t.on("bid_received",e=>{d(t=>[{type:"bid_received",title:"Bid Received on Your Listing",message:"".concat(e.bid.bidder_username," bid \u20ac").concat(e.bid.amount),timestamp:e.bid.timestamp,data:e},...t.slice(0,49)])}),t.on("auction_status",e=>{h(t=>(0,Fe.A)((0,Fe.A)({},t),{},{[e.listing_id]:e.auction}))}),t.on("listing_update",e=>{console.log("\ud83d\udccb Listing updated:",e)}),t.on("error",e=>{console.error("\u274c WebSocket error:",e)})}catch(t){console.error("Failed to initialize WebSocket:",t)}};(0,i.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]);const m={socket:r,isConnected:a,onlineUsers:o,notifications:c,liveAuctions:u,joinRoom:(e,t)=>{r&&a&&r.emit("join_room",{room_type:e,room_id:t})},leaveRoom:(e,t)=>{r&&a&&r.emit("leave_room",{room_type:e,room_id:t})},sendMessage:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";r&&a&&r.emit("send_message",{recipient_id:e,message:t,type:n})},placeBid:(e,t)=>{r&&a&&r.emit("place_bid",{listing_id:e,bid_amount:t})},watchListing:e=>{r&&a&&r.emit("watch_listing",{listing_id:e})},unwatchListing:e=>{r&&a&&r.emit("unwatch_listing",{listing_id:e})},clearNotifications:()=>{d([])},markNotificationAsRead:e=>{d(t=>t.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{read:!0}):t))}};return(0,bn.jsx)(vi.Provider,{value:m,children:t})};var ji={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ki=["color","size","strokeWidth","absoluteStrokeWidth","children"],Ni=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_i=(e,t)=>{const r=(0,i.forwardRef)((r,n)=>{let{color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=r,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(r,ki);return(0,i.createElement)("svg",(0,Fe.A)((0,Fe.A)({ref:n},ji),{},{width:s,height:s,stroke:a,strokeWidth:l?24*Number(o)/Number(s):o,className:"lucide lucide-".concat(Ni(e))},d),[...t.map(e=>{let[t,r]=e;return(0,i.createElement)(t,r)}),...(Array.isArray(c)?c:[c])||[]])});return r.displayName="".concat(e),r},Si=_i("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ai=_i("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Oi=_i("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ei=_i("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Ci=_i("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Pi=_i("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Ti=_i("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Mi=_i("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Li=_i("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Di=_i("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Ri=_i("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Ii=_i("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Fi=_i("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Bi=_i("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ui=_i("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qi=_i("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),zi=_i("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Hi=_i("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Vi=_i("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Wi=_i("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Ki=_i("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Gi=_i("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Yi=_i("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),$i=_i("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ji=_i("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Xi=()=>{const{user:e}=Cn(),t=e?e.user_role||e.role||"user":null,r="Admin-Manager"===t?"Manager":(null===e||void 0===e?void 0:e.badge)||("admin"===(null===e||void 0===e?void 0:e.role)?"Admin":"Buyer"),n={adminPanel:{canAccess:"Admin"===t||"Admin-Manager"===t,canAccessUserManagement:"Admin"===t||"Admin-Manager"===t,canAccessListingsManagement:"Admin"===t||"Admin-Manager"===t,canAccessDatDatabase:"Admin"===t||"Admin-Manager"===t,canAccessAdsManager:"Admin"===t,canAccessSystemNotifications:"Admin"===t,canDeleteDatabase:"Admin"===t,canUploadExcel:"Admin"===t},browse:{canAccess:!0,canViewMarketRange:!0,canViewSellerInfo:!0,canViewLocation:!0,canViewTimeLeft:!0,canViewBidInfo:!0,canPlaceBid:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t,canSeeBiddingControls:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t},tenders:{canAccess:!0,canSubmitTender:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t,canManageTenders:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,canViewMyTenders:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t,canViewTenderManagement:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t},selling:{canCreateListing:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,canManageListings:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,canAccessSellingFunctions:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t},user:{canAccessProfile:!0,canAccessMessages:!0,canAccessNotifications:!0,canAccessFavorites:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t},ui:{showAdminPanelLink:"Admin"===t||"Admin-Manager"===t,showTenderManagementLink:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,showMyTendersLink:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t,showCreateListingLink:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,showSellingFeatures:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,showBuyingFeatures:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t}},a=()=>"Admin"===t,i=()=>"Admin-Manager"===t,s=()=>"User-Seller"===t,o=()=>"User-Buyer"===t,l=()=>"Admin"===t||"Admin-Manager"===t;return{permissions:n,userRole:t,badge:r,isAdmin:a,isAdminManager:i,isSeller:s,isBuyer:o,isAdminLevel:l,hasPermission:(e,t)=>{var r;return(null===(r=n[e])||void 0===r?void 0:r[t])||!1},canAccess:e=>{switch(e){case"admin":return n.adminPanel.canAccess;case"browse-bidding":return n.browse.canPlaceBid;case"tenders":return n.tenders.canAccess;case"selling":return n.selling.canAccessSellingFunctions;case"favorites":return n.user.canAccessFavorites;default:return!1}},getUserDisplay:()=>({role:t,badge:r,name:(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||"User",email:(null===e||void 0===e?void 0:e.email)||"",isAdmin:a(),isAdminManager:i(),isSeller:s(),isBuyer:o(),isAdminLevel:l()})}},Zi=Xi;const Qi=function(e){var t,r;let{darkMode:n,toggleDarkMode:a,isMobileMenuOpen:s,setIsMobileMenuOpen:o}=e;const{user:l,logout:c}=Cn(),{favoriteCount:d}=Xn(),{showToast:u}=Hn(),{permissions:h,isAdmin:f,isSeller:p,isBuyer:m,isAdminLevel:g,getUserDisplay:x}=Zi(),[y,b]=(0,i.useState)(!1),[v,w]=(0,i.useState)(!1),[j,k]=(0,i.useState)(!1),[N,_]=(0,i.useState)([]),[S,A]=(0,i.useState)(0),[O,E]=(0,i.useState)(0),[C,P]=(0,i.useState)(new Set),[T,M]=(0,i.useState)({}),[L,D]=(0,i.useState)(!0),[R,I]=(0,i.useState)("all"),[F,B]=(0,i.useState)(Date.now()),U=ne(),q=te(),z=(0,i.useRef)(null),H=(0,i.useRef)(null),V=async function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&t.stopPropagation();try{const t=N.find(t=>t.id===e),a=document.querySelector('[data-notification-id="'.concat(e,'"]'));a?(a.classList.add("notification-removing"),setTimeout(()=>{_(N.filter(t=>t.id!==e)),t&&!t.is_read&&A(e=>Math.max(0,e-1))},300)):(_(N.filter(t=>t.id!==e)),t&&!t.is_read&&A(e=>Math.max(0,e-1)));try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(null===l||void 0===l?void 0:l.id,"/notifications/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});t.ok||console.warn("Failed to delete notification from backend:",t.statusText)}catch(n){console.error("API error deleting notification:",n)}r&&console.log("Notification removed")}catch(a){console.error("Failed to delete notification:",a)}},W=()=>{let e=N;switch(R){case"unread":e=N.filter(e=>!e.is_read);break;case"read":e=N.filter(e=>e.is_read);break;default:e=N}return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))},K=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==l&&void 0!==l&&l.id)try{const t=await Wn.getUserNotifications(l.id),r=await Wn.getUserMessages(l.id);if(e&&N.length>0){const e=t.filter(e=>new Date(e.created_at)>new Date(F)&&!e.is_read);e.length>0&&((()=>{if(L)try{const e=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmIdBz6S3fPNeSsFJICO89iMOQkXZL7n6KdUFAg+ltryxnkpBSl+zfDZjjkKGGG+6OSlSxELStPx07dORgk2jNnuw3MoByJ9yvDQjj0KFmSx5eeScxELTanxx4A=");e.volume=.3,e.play().catch(console.error)}catch(e){console.error("Could not play notification sound:",e)}})(),"Notification"in window&&"granted"===Notification.permission&&new Notification("".concat(e.length," new notification").concat(e.length>1?"s":""),{body:e[0].title,icon:"/favicon.ico",tag:"cataloro-notification"}))}_(t),A(t.filter(e=>!e.is_read).length),E(r.filter(e=>!e.is_read&&e.sender_id!==l.id).length),B(Date.now())}catch(r){var t;if(console.error("Failed to load notifications:",r),null!==(t=r.message)&&void 0!==t&&t.includes("429")||429===r.status)return void console.warn("\u26a0\ufe0f Rate limit detected - backing off notifications polling");_([]),A(0),E(0)}},G=async e=>{try{await Wn.markNotificationRead(l.id,e),_(N.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{is_read:!0}):t)),A(e=>Math.max(0,e-1))}catch(t){console.error("Failed to mark notification as read:",t)}};(0,i.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("cataloro_site_branding");if(e)try{const t=JSON.parse(e);console.log("Header loading branding data:",t),M(t)}catch(t){console.error("Error parsing branding data:",t)}else console.log("No branding data found in localStorage")};if(e(),null!==l&&void 0!==l&&l.id){K(),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{console.log("Notification permission:",e)});const e=setInterval(()=>{K(!0)},12e4),t=e=>{var t,r;console.log("\ud83d\udce7 ModernHeader received messagesMarkedAsRead event with detail:",e.detail);const n=(null===(t=e.detail)||void 0===t?void 0:t.messageIds)||[],a=(null===(r=e.detail)||void 0===r?void 0:r.count)||0;console.log("\ud83d\udd22 Reducing unread message count by ".concat(a," (current: ").concat(O,")")),P(e=>{const t=new Set(e);return n.forEach(e=>t.add(e)),console.log("\ud83d\udcdd Updated session read message IDs:",Array.from(t)),t}),E(e=>{const t=Math.max(0,e-a);return console.log("\ud83d\udcca Updated unread messages count: ".concat(e," \u2192 ").concat(t)),t}),console.log("\ud83d\udd04 Triggering loadNotifications to sync with server"),K(!0)},r=()=>{console.log("\ud83d\udd04 Messages session reset - restoring original unread counts"),P(new Set),K(!0)};return window.addEventListener("messagesMarkedAsRead",t),window.addEventListener("messagesSessionReset",r),()=>{clearInterval(e),window.removeEventListener("messagesMarkedAsRead",t),window.removeEventListener("messagesSessionReset",r)}}const t=t=>{"cataloro_site_branding"===t.key&&e()},r=()=>{e()};return window.addEventListener("storage",t),window.addEventListener("brandingUpdated",r),()=>{window.removeEventListener("storage",t),window.removeEventListener("brandingUpdated",r)}},[null===l||void 0===l?void 0:l.id]),(0,i.useEffect)(()=>{const e=localStorage.getItem("cataloro_notification_sound");D("false"!==e)},[]),(0,i.useEffect)(()=>{const e=e=>{z.current&&!z.current.contains(e.target)&&b(!1),H.current&&!H.current.contains(e.target)&&w(!1),j&&!e.target.closest(".tenders-dropdown")&&k(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[y,v,j]);const Y=[{label:"About",path:"/info",icon:Si},{label:"Browse",path:"/browse",icon:Ai}];return(0,bn.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-white/20 shadow-lg shadow-black/5",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-pink-600/5"}),(0,bn.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,bn.jsxs)(Le,{to:"/browse",className:"flex items-center space-x-3 group header-logo",children:[T.logo_light_url||T.logo_dark_url||T.logo_url?(0,bn.jsx)("div",{className:"relative",children:(0,bn.jsx)("img",{src:n?T.logo_dark_url||T.logo_url:T.logo_light_url||T.logo_url,alt:T.site_name||"Cataloro",className:"h-12 max-w-[200px] object-contain group-hover:opacity-90 transition-opacity duration-300",onError:e=>{e.target.style.display="none",e.target.parentElement.nextSibling.style.display="flex"}})}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 25px rgba(103, 126, 234, 0.4)"},children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,bn.jsx)(Ai,{className:"w-7 h-7 text-white relative z-10"})]}),(0,bn.jsx)("div",{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",filter:"blur(8px)",opacity:"0.3",transform:"scale(1.1)"}})]}),(0,bn.jsxs)("div",{className:"hidden sm:block",children:[(0,bn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-white/90 transition-colors header-title",style:{background:"linear-gradient(135deg, #1f2937 0%, #374151 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:T.site_name||"Cataloro"}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide",children:T.site_description||"ULTRA-MODERN MARKETPLACE"})]})]}),(0,bn.jsxs)("div",{className:"items-center space-x-3",style:{display:"none"},children:[(0,bn.jsx)("div",{className:"relative",children:(0,bn.jsxs)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 25px rgba(103, 126, 234, 0.4)"},children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,bn.jsx)(Ai,{className:"w-7 h-7 text-white relative z-10"})]})}),(0,bn.jsxs)("div",{className:"hidden sm:block",children:[(0,bn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:T.site_name||"Cataloro"}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide",children:T.site_description||"ULTRA-MODERN MARKETPLACE"})]})]})]}),(0,bn.jsxs)("nav",{className:"hidden lg:flex space-x-2",children:[Y.map(e=>{const t=e.icon,r=q.pathname===e.path;return(0,bn.jsxs)(Le,{to:e.path,className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ".concat(r?"bg-white/20 dark:bg-white/20 text-gray-900 dark:text-white shadow-lg backdrop-blur-md":"text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10"),style:r?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.1)"}:{},children:[(0,bn.jsx)(t,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"font-medium",children:e.label})]},e.path)}),h.ui.showTenderManagementLink||h.ui.showMyTendersLink?(0,bn.jsxs)(Le,{to:mn.TENDERS,className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ".concat("/tenders"===q.pathname||"/my-tenders"===q.pathname?"bg-white/20 dark:bg-white/20 text-gray-900 dark:text-white shadow-lg backdrop-blur-md":"text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10"),style:"/tenders"===q.pathname||"/my-tenders"===q.pathname?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.1)"}:{},children:[(0,bn.jsx)(Oi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"font-medium",children:"Tenders"})]}):null,(h.ui.showBuyingFeatures||h.ui.showAdminPanelLink)&&(0,bn.jsxs)(Le,{to:"/buy-management",className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ".concat("/buy-management"===q.pathname?"bg-white/20 dark:bg-white/20 text-gray-900 dark:text-white shadow-lg backdrop-blur-md":"text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10"),style:"/buy-management"===q.pathname?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.1)"}:{},children:[(0,bn.jsx)(Ei,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"font-medium",children:"Inventory"})]}),h.ui.showAdminPanelLink&&(0,bn.jsxs)(Le,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm shadow-lg backdrop-blur-md ".concat(g()?"text-gray-900 dark:text-gray-900":"text-gray-700 dark:text-white/80"),style:{background:"/admin"===q.pathname?f()?"linear-gradient(135deg, rgba(255, 193, 7, 0.9) 0%, rgba(255, 152, 0, 0.8) 100%)":"linear-gradient(135deg, rgba(147, 51, 234, 0.8) 0%, rgba(79, 70, 229, 0.7) 100%)":f()?"linear-gradient(135deg, rgba(255, 193, 7, 0.7) 0%, rgba(255, 152, 0, 0.6) 100%)":"linear-gradient(135deg, rgba(147, 51, 234, 0.6) 0%, rgba(79, 70, 229, 0.5) 100%)",backdropFilter:"blur(20px)",boxShadow:f()?"0 4px 15px rgba(255, 193, 7, 0.3)":"0 4px 15px rgba(147, 51, 234, 0.3)",border:f()?"1px solid rgba(255, 193, 7, 0.4)":"1px solid rgba(147, 51, 234, 0.4)"},children:[(0,bn.jsx)(Ci,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"font-medium",children:f()?"Admin":"Manager"})]})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsxs)("div",{className:"hidden lg:flex items-center space-x-2",children:[(0,bn.jsxs)(Le,{to:"/messages",className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200",children:[(0,bn.jsx)(Pi,{className:"w-6 h-6"}),O>0&&(0,bn.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:O})]}),(0,bn.jsxs)(Le,{to:"/favorites",className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200",children:[(0,bn.jsx)(Ti,{className:"w-6 h-6"}),d>0&&(0,bn.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:d})]}),(0,bn.jsx)(Le,{to:"/create-listing",className:"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group",style:{background:n?"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)":"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%)",backdropFilter:"blur(20px)",borderRadius:"16px",border:n?"1px solid rgba(34, 197, 94, 0.2)":"1px solid rgba(34, 197, 94, 0.15)"},title:"Create New Listing",children:(0,bn.jsx)(Mi,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]}),(0,bn.jsxs)("div",{className:"relative",ref:H,children:[(0,bn.jsxs)("button",{onClick:()=>w(!v),className:"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group",style:{background:n?"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)":"linear-gradient(135deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0.04) 100%)",backdropFilter:"blur(20px)",borderRadius:"16px",border:n?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,bn.jsx)(Li,{className:"w-5 h-5"}),S>0&&(0,bn.jsx)("span",{className:"absolute -top-2 -right-2 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold text-[10px]",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",boxShadow:"0 4px 15px rgba(250, 112, 154, 0.4)"},children:S})]}),v&&(0,bn.jsxs)("div",{className:"absolute right-0 mt-3 w-80 max-w-[90vw] rounded-2xl shadow-2xl py-3 z-50 notifications-dropdown-enhanced animate-in",style:{background:n?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(25px)",border:n?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)",animation:"slideDown 0.3s ease-out"},children:[(0,bn.jsxs)("div",{className:"px-4 py-3 border-b border-white/10",children:[(0,bn.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,bn.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white text-base flex items-center",children:[(0,bn.jsx)(Li,{className:"w-4 h-4 mr-2"}),"Notifications",S>0&&(0,bn.jsx)("span",{className:"ml-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full animate-pulse",children:S})]})}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,bn.jsxs)("select",{value:R,onChange:e=>I(e.target.value),className:"text-xs bg-transparent border border-white/20 rounded-md px-1.5 py-1 text-gray-600 dark:text-white/80 focus:outline-none focus:ring-1 focus:ring-blue-500 min-w-0 w-16",children:[(0,bn.jsx)("option",{value:"all",children:"All"}),(0,bn.jsx)("option",{value:"unread",children:"New"}),(0,bn.jsx)("option",{value:"read",children:"Read"})]}),(0,bn.jsx)("button",{onClick:()=>{const e=!L;D(e),localStorage.setItem("cataloro_notification_sound",e.toString())},className:"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors",title:L?"Disable sound":"Enable sound",children:L?(0,bn.jsx)(Di,{className:"w-3.5 h-3.5"}):(0,bn.jsx)(Ri,{className:"w-3.5 h-3.5"})}),(0,bn.jsx)("button",{onClick:()=>K(),className:"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors",title:"Refresh",children:(0,bn.jsx)(Ii,{className:"w-3.5 h-3.5"})})]}),(0,bn.jsx)("div",{className:"flex items-center",children:S>0&&(0,bn.jsx)("button",{onClick:async()=>{try{const e=N.filter(e=>!e.is_read).map(e=>e.id);await Promise.all(e.map(e=>Wn.markNotificationRead(l.id,e))),_(N.map(e=>(0,Fe.A)((0,Fe.A)({},e),{},{is_read:!0}))),A(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}},className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium transition-colors",children:"Mark all read"})})]})]}),(0,bn.jsx)("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:0===W().length?(0,bn.jsxs)("div",{className:"px-4 py-6 text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,bn.jsx)(Li,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"all"===R?"No notifications yet":"unread"===R?"No unread notifications":"No read notifications"}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"We'll notify you when something important happens"})]}):W().map((e,t)=>(0,bn.jsx)("div",{"data-notification-id":e.id,onClick:()=>(async e=>{try{switch(await G(e.id),w(!1),e.type){case"tender_accepted":U("/tenders"),setTimeout(()=>{const e=new URLSearchParams;e.set("tab","my-tenders"),U("/tenders?"+e.toString(),{replace:!0})},100);break;case"tender_offer":case"new_tender_offer":U("/tenders"),setTimeout(()=>{const t=new URLSearchParams;t.set("tab","manage"),e.listing_id&&t.set("listing",e.listing_id),U("/tenders?"+t.toString(),{replace:!0})},100);break;case"tender_rejected":U("/tenders"),setTimeout(()=>{const e=new URLSearchParams;e.set("tab","my-tenders"),U("/tenders?"+e.toString(),{replace:!0})},100);break;case"order_completed":case"order_shipped":case"listing_sold":U("/my-listings"),setTimeout(()=>{const e=new URLSearchParams;e.set("filter","closed"),U("/my-listings?"+e.toString(),{replace:!0})},100);break;case"message":case"new_message":e.message_id?U("/messages?id=".concat(e.message_id)):U("/messages");break;case"buy_request":case"purchase_request":U("/my-listings"),setTimeout(()=>{const e=new URLSearchParams;e.set("filter","active"),U("/my-listings?"+e.toString(),{replace:!0})},100);break;case"buy_approved":case"purchase_approved":U("/deals");break;case"buy_rejected":case"purchase_rejected":U("/browse");break;case"favorite":case"wishlist_update":U("/favorites");break;case"listing_approved":case"listing_updated":U("/my-listings");break;case"profile_update":case"account_update":U("/profile");break;default:U("/notifications")}u("Navigating to ".concat(e.title),"info")}catch(t){console.error("Error handling notification click:",t),u("Error navigating from notification","error")}})(e),className:"group px-4 py-3 hover:bg-white/5 dark:hover:bg-white/5 cursor-pointer border-l-3 transition-all duration-300 ".concat(e.is_read?"":"bg-blue-50/30 dark:bg-blue-900/30"," ").concat(0===t?"animate-in":""),style:{borderColor:"message"===e.type?"#667eea":"favorite"===e.type?"#f093fb":"payment"===e.type?"#43e97b":"buy_request"===e.type?"#fbbf24":"buy_approved"===e.type?"#10b981":"buy_rejected"===e.type?"#ef4444":"tender_accepted"===e.type?"#10b981":"tender_offer"===e.type?"#f59e0b":"tender_rejected"===e.type?"#ef4444":"new_tender_offer"===e.type?"#f59e0b":"order_completed"===e.type?"#10b981":"#9ca3af",animationDelay:"".concat(.1*t,"s")},children:(0,bn.jsxs)("div",{className:"flex items-start space-x-2.5",children:[(0,bn.jsx)("div",{className:"p-1.5 rounded-full flex-shrink-0 ".concat("message"===e.type?"bg-blue-100 text-blue-600":"favorite"===e.type?"bg-pink-100 text-pink-600":"payment"===e.type?"bg-green-100 text-green-600":"buy_request"===e.type?"bg-yellow-100 text-yellow-600":"buy_approved"===e.type?"bg-green-100 text-green-600":"buy_rejected"===e.type?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"," ").concat(e.is_read?"":"animate-pulse"),children:"message"===e.type?(0,bn.jsx)(Pi,{className:"w-3.5 h-3.5"}):"favorite"===e.type?(0,bn.jsx)(Ti,{className:"w-3.5 h-3.5"}):"payment"===e.type?(0,bn.jsx)(Oi,{className:"w-3.5 h-3.5"}):"buy_request"===e.type?(0,bn.jsx)(Fi,{className:"w-3.5 h-3.5"}):"buy_approved"===e.type?(0,bn.jsx)(Bi,{className:"w-3.5 h-3.5"}):"buy_rejected"===e.type?(0,bn.jsx)(Ui,{className:"w-3.5 h-3.5"}):(0,bn.jsx)(Li,{className:"w-3.5 h-3.5"})}),(0,bn.jsxs)("div",{className:"flex-1 min-w-0 overflow-hidden",children:[(0,bn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,bn.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,bn.jsx)("p",{className:"text-sm font-semibold truncate ".concat(e.is_read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:e.title}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 mt-0.5 line-clamp-2 leading-tight",children:e.message})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[!e.is_read&&(0,bn.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),(0,bn.jsx)("button",{onClick:t=>V(e.id,t),className:"opacity-0 group-hover:opacity-100 p-0.5 text-gray-400 hover:text-red-600 transition-all duration-200",title:"Delete",children:(0,bn.jsx)(qi,{className:"w-3 h-3"})})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,bn.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,bn.jsx)(zi,{className:"w-3 h-3 mr-1"}),(0,bn.jsxs)("span",{className:"truncate",children:[new Date(e.created_at).toLocaleDateString()," ",new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[!e.is_read&&(0,bn.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{await G(e),setTimeout(()=>{V(e,null,!1)},1e3)}catch(r){console.error("Failed to mark notification as read:",r)}})(e.id,t),className:"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200",title:"Mark read",children:(0,bn.jsx)(Hi,{className:"w-3 h-3"})}),"buy_request"===e.type&&(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{w(!1),U("/pending-sales"),setTimeout(()=>{V(e,null,!1)},500)}catch(r){console.error("Failed to handle accept request:",r)}})(e.id,t),className:"p-1 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-900/70 transition-all duration-200",title:"Accept",children:(0,bn.jsx)(Bi,{className:"w-3 h-3"})}),(0,bn.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{console.log("Request declined"),V(e,null,!1)}catch(r){console.error("Failed to handle decline request:",r)}})(e.id,t),className:"p-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/70 transition-all duration-200",title:"Decline",children:(0,bn.jsx)(Ui,{className:"w-3 h-3"})})]}),"message"===e.type&&(0,bn.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{w(!1),U("/messages"),setTimeout(()=>{V(e,null,!1)},500)}catch(r){console.error("Failed to handle reply to message:",r)}})(e.id,t),className:"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200",title:"Reply",children:(0,bn.jsx)(Pi,{className:"w-3 h-3"})})]})]})]})]})},e.id))}),(0,bn.jsx)("div",{className:"px-4 py-2 border-t border-white/10",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)(Le,{to:"/notifications",className:"text-xs text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white font-medium flex items-center transition-colors",onClick:()=>w(!1),children:["View all notifications",(0,bn.jsx)(Vi,{className:"w-3 h-3 ml-1"})]}),(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[W().length," total"]})]})})]})]}),(0,bn.jsx)("button",{onClick:a,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200",children:n?(0,bn.jsx)(Wi,{className:"w-6 h-6"}):(0,bn.jsx)(Ki,{className:"w-6 h-6"})}),(0,bn.jsxs)("div",{className:"relative",ref:z,children:[(0,bn.jsxs)("button",{onClick:()=>b(!y),className:"flex items-center space-x-3 p-2 rounded-2xl transition-all duration-300 group",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,bn.jsxs)("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",boxShadow:"0 6px 20px rgba(79, 172, 254, 0.4)"},children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,bn.jsx)("span",{className:"text-white font-bold text-sm relative z-10",children:(null===l||void 0===l||null===(t=l.full_name)||void 0===t?void 0:t.charAt(0))||(null===l||void 0===l||null===(r=l.username)||void 0===r?void 0:r.charAt(0))||"U"})]}),(0,bn.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,bn.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===l||void 0===l?void 0:l.full_name)||(null===l||void 0===l?void 0:l.username)||"User"}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium uppercase tracking-wide",children:null===l||void 0===l?void 0:l.role})]}),(0,bn.jsx)(Gi,{className:"w-4 h-4 text-gray-700 dark:text-white/80 transition-transform duration-300 ".concat(y?"rotate-180":"")})]}),y&&(0,bn.jsxs)("div",{className:"absolute right-0 mt-3 w-72 rounded-2xl shadow-2xl py-2 z-50 profile-dropdown-enhanced",style:{background:n?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(25px)",border:n?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)"},children:[(0,bn.jsx)("div",{className:"px-6 py-4 border-b border-white/10",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-base font-bold text-gray-900 dark:text-white",children:(null===l||void 0===l?void 0:l.full_name)||(null===l||void 0===l?void 0:l.username)}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-white/70",children:null===l||void 0===l?void 0:l.email})]}),(0,bn.jsx)("div",{className:"flex flex-col items-end",children:(0,bn.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full ".concat("Admin"===x().badge?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"Manager"===x().badge?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"Seller"===x().badge?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:x().badge})})]})}),(0,bn.jsxs)("div",{className:"py-2",children:[(0,bn.jsxs)(Le,{to:"/profile",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>b(!1),children:[(0,bn.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.1))"},children:(0,bn.jsx)(Yi,{className:"w-4 h-4"})}),(0,bn.jsx)("span",{className:"font-medium",children:"Profile Settings"})]}),h.selling.canManageListings&&(0,bn.jsxs)(Le,{to:"/my-listings",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>b(!1),children:[(0,bn.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(245, 87, 108, 0.1))"},children:(0,bn.jsx)(Fi,{className:"w-4 h-4"})}),(0,bn.jsx)("span",{className:"font-medium",children:"My Listings"})]}),(0,bn.jsxs)(Le,{to:"/profile/".concat(null===l||void 0===l?void 0:l.id),className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>b(!1),children:[(0,bn.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 197, 253, 0.1))"},children:(0,bn.jsx)(Si,{className:"w-4 h-4"})}),(0,bn.jsx)("span",{className:"font-medium",children:"View Public Profile"})]}),h.ui.showAdminPanelLink&&(0,bn.jsxs)(Le,{to:"/admin",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>b(!1),children:[(0,bn.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:f()?"linear-gradient(135deg, rgba(250, 112, 154, 0.2), rgba(254, 225, 64, 0.1))":"linear-gradient(135deg, rgba(147, 51, 234, 0.2), rgba(79, 70, 229, 0.1))"},children:(0,bn.jsx)(Ci,{className:"w-4 h-4"})}),(0,bn.jsx)("span",{className:"font-medium",children:f()?"Admin Panel":"Manager Panel"})]})]}),(0,bn.jsx)("div",{className:"border-t border-white/10 pt-2",children:(0,bn.jsxs)("button",{onClick:()=>{c(),U("/login"),u("Logged out successfully","success")},className:"flex items-center w-full px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-red-600 dark:hover:text-red-300 hover:bg-red-500/10 dark:hover:bg-red-500/10 transition-all duration-300 group",children:[(0,bn.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-red-500/20 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1))"},children:(0,bn.jsx)($i,{className:"w-4 h-4"})}),(0,bn.jsx)("span",{className:"font-medium",children:"Sign Out"})]})})]})]}),(0,bn.jsx)("button",{onClick:()=>o(!s),className:"lg:hidden p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200",children:s?(0,bn.jsx)(Ui,{className:"w-6 h-6"}):(0,bn.jsx)(Ji,{className:"w-6 h-6"})})]})]})})]})},es=_i("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ts=_i("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),rs=_i("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),ns=_i("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const as=function(e){var t,r,n;let{isOpen:a,onClose:s}=e;const[o,l]=(0,i.useState)(null),c=te();(0,i.useEffect)(()=>{const e=localStorage.getItem("cataloro_user");if(e)try{l(JSON.parse(e))}catch(t){console.error("Error parsing user data:",t)}},[]);const d=e=>c.pathname===e,u="admin"===(null===o||void 0===o?void 0:o.role),h=[{title:"Marketplace",items:[{label:"About Platform",path:"/info",icon:Si},{label:"Browse All",path:"/browse",icon:Ai},{label:"Search",path:"/search",icon:es},{label:"Trending",path:"/trending",icon:Vi}]},{title:"My Account",items:[{label:"My Listings",path:"/my-listings",icon:Fi},{label:"My Deals",path:"/my-deals",icon:Oi},{label:"Messages",path:"/messages",icon:Pi},{label:"Favorites",path:"/favorites",icon:Ti},{label:"Cart",path:"/cart",icon:Ei}]},{title:"Selling",items:[{label:"Create Listing",path:"/create-listing",icon:Mi},{label:"Seller Analytics",path:"/analytics",icon:ts},{label:"Performance",path:"/performance",icon:rs}]}];return u&&h.push({title:"Admin",items:[{label:"Admin Dashboard",path:"/admin",icon:Ci},{label:"Site Analytics",path:"/admin/analytics",icon:ts},{label:"User Management",path:"/admin/users",icon:Yi}]}),h.push({title:"Settings",items:[{label:"Profile",path:"/profile",icon:Yi},{label:"Notifications",path:"/notifications",icon:Li},{label:"Settings",path:"/settings",icon:ns}]}),(0,bn.jsxs)("div",{className:"fixed top-0 left-0 h-full w-80 bg-white dark:bg-gray-900 shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ".concat(a?"translate-x-0":"-translate-x-full"," lg:hidden"),children:[(0,bn.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white font-bold text-lg",children:"C"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Cataloro"}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Modern Marketplace"})]})]}),o&&(0,bn.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white font-medium text-sm",children:(null===(t=o.full_name)||void 0===t?void 0:t.charAt(0))||(null===(r=o.username)||void 0===r?void 0:r.charAt(0))||"U"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:o.full_name||o.username}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===(n=o.role)||void 0===n?void 0:n.toUpperCase()})]})]})})]}),(0,bn.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,bn.jsx)("div",{className:"p-4 space-y-6",children:h.map(e=>(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 font-semibold mb-3 px-2",children:e.title}),(0,bn.jsx)("div",{className:"space-y-1",children:e.items.map(e=>{const t=e.icon;return(0,bn.jsxs)(Le,{to:e.path,onClick:s,className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ".concat(d(e.path)?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,bn.jsx)(t,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:e.label})]},e.path)})})]},e.title))})}),(0,bn.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,bn.jsx)("div",{className:"text-center",children:(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cataloro v2.0 - Ultra Modern"})})})]})},is=_i("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ss=_i("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),os=_i("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ls=_i("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),cs=_i("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),ds=_i("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),us=_i("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),hs=_i("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);const fs=function(){var e,t,n,a,s;const[o,l]=(0,i.useState)({}),c=function(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const r=JSON.parse(e);t(r.adsManager||null)}}catch(e){console.warn("Could not load ads configuration")}};e();const r=()=>{e()};return window.addEventListener("adsConfigUpdated",r),window.addEventListener("storage",r),()=>{window.removeEventListener("adsConfigUpdated",r),window.removeEventListener("storage",r)}},[]),e}();(0,i.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_branding");if(e){const t=JSON.parse(e);l(t)}}catch(e){console.error("Error loading branding data in footer:",e)}};e();const t=()=>{e()};return window.addEventListener("brandingUpdated",t),window.addEventListener("storage",t),()=>{window.removeEventListener("brandingUpdated",t),window.removeEventListener("storage",t)}},[]);const d=()=>({enabled:!0,companyInfo:{name:"Cataloro",tagline:"Modern Marketplace for Everyone",description:"Discover, buy, and sell amazing products in our trusted marketplace. Connect with sellers worldwide and find exactly what you're looking for.",logo:"/logo.png"},contact:{email:"hello@cataloro.com",phone:"+1 (555) 123-4567",address:"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:"https://facebook.com/cataloro",twitter:"https://twitter.com/cataloro",instagram:"https://instagram.com/cataloro",linkedin:"https://linkedin.com/company/cataloro",youtube:"https://youtube.com/cataloro"},links:{about:[{label:"About Us",url:"/about"},{label:"Our Story",url:"/story"},{label:"Careers",url:"/careers"},{label:"Press",url:"/press"}],marketplace:[{label:"Browse Products",url:"/browse"},{label:"Sell on Cataloro",url:"/sell"},{label:"Seller Center",url:"/seller"}],support:[{label:"Help Center",url:"/help"},{label:"Contact Support",url:"/support"},{label:"Community",url:"/community"},{label:"Safety",url:"/safety"}],legal:[{label:"Privacy Policy",url:"/privacy"},{label:"Terms of Service",url:"/terms"},{label:"Cookie Policy",url:"/cookies"},{label:"Seller Agreement",url:"/seller-terms"}]},style:{backgroundColor:"#1f2937",textColor:"#ffffff",linkColor:"#60a5fa",borderColor:"#374151"}}),u=(()=>{try{var e,t,r,n;const a=localStorage.getItem("cataloro_footer_config"),i=d();if(!a)return i;const s=JSON.parse(a);return(0,Fe.A)((0,Fe.A)((0,Fe.A)({},i),s),{},{companyInfo:(0,Fe.A)((0,Fe.A)({},i.companyInfo),s.companyInfo),contact:(0,Fe.A)((0,Fe.A)({},i.contact),s.contact),social:(0,Fe.A)((0,Fe.A)({},i.social),s.social),links:(0,Fe.A)((0,Fe.A)((0,Fe.A)({},i.links),s.links),{},{about:(null===(e=s.links)||void 0===e?void 0:e.about)||i.links.about,marketplace:(null===(t=s.links)||void 0===t?void 0:t.marketplace)||i.links.marketplace,support:(null===(r=s.links)||void 0===r?void 0:r.support)||i.links.support,legal:(null===(n=s.links)||void 0===n?void 0:n.legal)||i.links.legal}),style:(0,Fe.A)((0,Fe.A)({},i.style),s.style)})}catch(a){return console.error("Error parsing footer config:",a),d()}})();if(!u.enabled)return null;const h={backgroundColor:u.style.backgroundColor,color:u.style.textColor,borderColor:u.style.borderColor},f={color:u.style.linkColor};return(0,bn.jsx)("footer",{style:h,className:"bg-gray-900 text-white border-t",children:(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,bn.jsx)("div",{className:"py-12",children:(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,bn.jsxs)("div",{className:"lg:col-span-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[o.logo_dark_url&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChAI9jU77zgAAAABJRU5ErkJggg=="!==o.logo_dark_url?(0,bn.jsx)("div",{className:"flex flex-col space-y-2",children:(0,bn.jsx)("img",{src:o.logo_dark_url,alt:o.site_name||u.companyInfo.name,className:"h-12 max-w-[200px] object-contain",onError:e=>{e.target.style.display="none",e.target.parentElement.nextElementSibling.style.display="flex"}})}):o.logo_light_url&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChAI9jU77zgAAAABJRU5ErkJggg=="!==o.logo_light_url?(0,bn.jsx)("div",{className:"flex flex-col space-y-2",children:(0,bn.jsx)("img",{src:o.logo_light_url,alt:o.site_name||u.companyInfo.name,className:"h-12 max-w-[200px] object-contain",onError:e=>{e.target.style.display="none",e.target.parentElement.nextElementSibling.style.display="flex"}})}):(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,bn.jsx)(Ai,{className:"w-6 h-6 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:o.site_name||u.companyInfo.name}),(0,bn.jsx)("p",{className:"text-sm text-gray-400",children:o.site_description||u.companyInfo.tagline})]})]}),(0,bn.jsxs)("div",{className:"items-center space-x-3",style:{display:"none"},children:[(0,bn.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,bn.jsx)(Ai,{className:"w-6 h-6 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:o.site_name||u.companyInfo.name}),(0,bn.jsx)("p",{className:"text-sm text-gray-400",children:o.site_description||u.companyInfo.tagline})]})]})]}),(0,bn.jsx)("p",{className:"text-gray-300 text-sm mb-6 leading-relaxed",children:u.companyInfo.description}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,bn.jsx)(is,{className:"w-4 h-4 text-blue-400"}),(0,bn.jsx)("a",{href:"mailto:".concat(u.contact.email),style:f,className:"hover:text-blue-300",children:u.contact.email})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,bn.jsx)(ss,{className:"w-4 h-4 text-blue-400"}),(0,bn.jsx)("a",{href:"tel:".concat(u.contact.phone),style:f,className:"hover:text-blue-300",children:u.contact.phone})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,bn.jsx)(os,{className:"w-4 h-4 text-blue-400"}),(0,bn.jsx)("span",{className:"text-gray-300",children:u.contact.address})]}),(null===c||void 0===c||null===(e=c.footerAd)||void 0===e?void 0:e.active)&&c.footerAd.logo&&c.footerAd.companyName&&(0,bn.jsxs)("div",{className:"text-sm text-gray-400 mt-4 pt-4 border-t border-gray-700 ".concat(c.footerAd.url?"cursor-pointer hover:text-gray-300 transition-colors":""),onClick:()=>{if(c.footerAd.url){try{Promise.resolve().then(r.bind(r,7784)).then(e=>{let{trackAdClick:t}=e;t("footerAd")})}catch(e){console.warn("Could not track ad click:",e)}console.log("Footer ad clicked:",c.footerAd.url),window.open(c.footerAd.url,"_blank")}},children:[(0,bn.jsx)("div",{className:"mb-2",children:(0,bn.jsx)("span",{children:"In cooperation with:"})}),(0,bn.jsx)("div",{className:"mb-2",children:(0,bn.jsx)("img",{src:c.footerAd.logo,alt:c.footerAd.companyName,className:"h-8 object-contain object-left",style:{width:"140px",display:"block"}})}),(0,bn.jsx)("div",{children:(0,bn.jsx)("span",{className:"font-medium text-gray-300",children:c.footerAd.companyName})})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"About"}),(0,bn.jsx)("ul",{className:"space-y-3",children:((null===(t=u.links)||void 0===t?void 0:t.about)||[]).map((e,t)=>(0,bn.jsx)("li",{children:(0,bn.jsx)(Le,{to:e.url,style:f,className:"text-sm hover:text-blue-300",children:e.label})},t))})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Marketplace"}),(0,bn.jsx)("ul",{className:"space-y-3",children:((null===(n=u.links)||void 0===n?void 0:n.marketplace)||[]).map((e,t)=>(0,bn.jsx)("li",{children:(0,bn.jsx)(Le,{to:e.url,style:f,className:"text-sm hover:text-blue-300",children:e.label})},t))})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),(0,bn.jsx)("ul",{className:"space-y-3 mb-6",children:((null===(a=u.links)||void 0===a?void 0:a.support)||[]).map((e,t)=>(0,bn.jsx)("li",{children:(0,bn.jsx)(Le,{to:e.url,style:f,className:"text-sm hover:text-blue-300",children:e.label})},t))}),(0,bn.jsx)("h5",{className:"text-md font-semibold mb-3",children:"Legal"}),(0,bn.jsx)("ul",{className:"space-y-2",children:((null===(s=u.links)||void 0===s?void 0:s.legal)||[]).map((e,t)=>(0,bn.jsx)("li",{children:(0,bn.jsx)(Le,{to:e.url,style:f,className:"text-xs hover:text-blue-300",children:e.label})},t))})]})]})}),(0,bn.jsx)("div",{style:{borderColor:u.style.borderColor},className:"border-t py-6",children:(0,bn.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-400",children:"Follow us:"}),(0,bn.jsxs)("div",{className:"flex space-x-3",children:[u.social.facebook&&(0,bn.jsx)("a",{href:u.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,bn.jsx)(ls,{className:"w-5 h-5"})}),u.social.twitter&&(0,bn.jsx)("a",{href:u.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,bn.jsx)(cs,{className:"w-5 h-5"})}),u.social.instagram&&(0,bn.jsx)("a",{href:u.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-pink-400",children:(0,bn.jsx)(ds,{className:"w-5 h-5"})}),u.social.linkedin&&(0,bn.jsx)("a",{href:u.social.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,bn.jsx)(us,{className:"w-5 h-5"})}),u.social.youtube&&(0,bn.jsx)("a",{href:u.social.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-red-400",children:(0,bn.jsx)(hs,{className:"w-5 h-5"})})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,bn.jsxs)("span",{children:["\xa9 2025 ",u.companyInfo.name,". Made with"]}),(0,bn.jsx)(Ti,{className:"w-4 h-4 text-red-400"}),(0,bn.jsx)("span",{children:"for amazing marketplace experiences."})]})]})})]})})},ps=_i("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ms=_i("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),gs=_i("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xs=_i("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const ys=function(){const[e,t]=(0,i.useState)([]),{user:r,isAuthenticated:n}=Cn();(0,i.useEffect)(()=>{if(n&&null!==r&&void 0!==r&&r.id){a();const e=setInterval(()=>{a()},18e4);return()=>clearInterval(e)}},[n,null===r||void 0===r?void 0:r.id]);const a=async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(r.id,"/system-notifications"));if(e.ok){const t=await e.json();(t.notifications||[]).forEach((e,t)=>{setTimeout(()=>{o(e.message,e.type||"info",e.show_duration||5e3,e.id),s(e.id)},1e3*t)})}}catch(e){console.error("Error loading system notifications:",e)}},s=async e=>{try{await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(r.id,"/system-notifications/").concat(e,"/view"),{method:"POST"})}catch(t){console.error("Error marking notification as viewed:",t)}},o=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=Date.now()+Math.random(),s={id:i,message:e,type:r,duration:n,systemNotificationId:a};t(e=>[...e,s]),setTimeout(()=>{l(i)},n)},l=e=>{t(t=>t.filter(t=>t.id!==e))},c=e=>{switch(e){case"success":return(0,bn.jsx)(ps,{className:"w-5 h-5 text-green-600"});case"error":return(0,bn.jsx)(ms,{className:"w-5 h-5 text-red-600"});case"warning":return(0,bn.jsx)(gs,{className:"w-5 h-5 text-orange-600"});case"welcome":return(0,bn.jsx)(Li,{className:"w-5 h-5 text-purple-600"});default:return(0,bn.jsx)(xs,{className:"w-5 h-5 text-blue-600"})}},d=e=>{switch(e){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200";case"warning":return"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-800 dark:text-orange-200";case"welcome":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-800 dark:text-purple-200";default:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"}},u=async e=>{if(n&&null!==r&&void 0!==r&&r.id)try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(r.id,"/system-notifications"));if(t.ok){const r=(await t.json()).notifications||[];r.filter(t=>t.event_trigger===e).forEach((e,t)=>{setTimeout(()=>{o(e.message,e.type||"info",e.show_duration||5e3,e.id),s(e.id)},1e3*t)})}}catch(t){console.error("Error loading event-triggered system notifications:",t)}};return(0,i.useEffect)(()=>(window.showToast=o,window.triggerSystemNotifications=u,()=>{delete window.showToast,delete window.triggerSystemNotifications}),[n,null===r||void 0===r?void 0:r.id]),0===e.length?null:(0,bn.jsx)("div",{className:"fixed top-20 right-4 z-50 space-y-2",children:e.map(e=>(0,bn.jsx)("div",{className:"max-w-sm w-full ".concat(d(e.type)," border rounded-lg p-4 shadow-lg backdrop-blur-sm transition-all duration-300 transform animate-slide-in-right"),children:(0,bn.jsxs)("div",{className:"flex items-start",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:c(e.type)}),(0,bn.jsx)("div",{className:"ml-3 flex-1",children:(0,bn.jsx)("p",{className:"text-sm font-medium",children:e.message})}),(0,bn.jsx)("button",{onClick:()=>l(e.id),className:"ml-4 flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]})},e.id))})},bs=e=>{try{const t=document.getElementById("cataloro-site-config-styles");t&&t.remove();const r=document.createElement("style");r.id="cataloro-site-config-styles";const n="\n      /* Site Configuration Styles */\n      :root {\n        --primary-color: ".concat(e.primaryColor||"#3B82F6",";\n        --secondary-color: ").concat(e.secondaryColor||"#8B5CF6",";\n        --accent-color: ").concat(e.accentColor||"#10B981",";\n      }\n      \n      /* Footer Configuration */\n      ").concat(e.footerEnabled?"":"\n      footer {\n        display: none !important;\n      }\n      ","\n      \n      /* Hero Section Control - ALWAYS ENABLED */\n      /* Hero section is essential for the marketplace experience */\n      ").concat("","\n      \n      /* Featured Products Control */\n      ").concat(e.featuredProductsEnabled?"":"\n      .featured-products-section {\n        display: none !important;\n      }\n      ","\n      \n      /* Categories Showcase Control */\n      ").concat(e.categoriesShowcase?"":"\n      .categories-showcase {\n        display: none !important;\n      }\n      ","\n      \n      /* Newsletter Signup Control */\n      ").concat(e.newsletterSignup?"":"\n      .newsletter-section {\n        display: none !important;\n      }\n      ","\n      \n      /* Wishlist/Favorites Control */\n      ").concat(e.wishlistEnabled?"":"\n      .wishlist-button,\n      .favorites-button,\n      .add-to-favorites {\n        display: none !important;\n      }\n      ","\n      \n      /* Product Reviews Control */\n      ").concat(e.productReviews?"":"\n      .reviews-section,\n      .product-reviews,\n      .review-button {\n        display: none !important;\n      }\n      ","\n      \n      /* Compare Feature Control */\n      ").concat(e.compareFeature?"":"\n      .compare-button,\n      .product-compare {\n        display: none !important;\n      }\n      ","\n      \n      /* Advanced Filters Control */\n      ").concat(e.advancedFilters?"":"\n      .advanced-filters,\n      .filter-panel {\n        display: none !important;\n      }\n      ","\n      \n      /* Search Bar Prominence */\n      ").concat(e.searchBarProminent?"\n      .search-bar-container {\n        transform: scale(1.1);\n        box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);\n        border: 2px solid var(--primary-color);\n      }\n      ":"","\n      \n      /* Compact Mode */\n      ").concat(e.compactMode?"\n      .product-card {\n        padding: 0.5rem !important;\n      }\n      .hero-section {\n        min-height: 200px !important;\n      }\n      .page-padding {\n        padding: 1rem !important;\n      }\n      ":"","\n      \n      /* Custom CSS */\n      ").concat(e.customCSS||"","\n    ");if(r.textContent=n,document.head.appendChild(r),e.footerEnabled){const t={enabled:e.footerEnabled,companyInfo:{name:e.footerCompanyName||"Cataloro",tagline:e.footerTagline||"Modern Marketplace for Everyone",description:e.footerDescription||"Discover, buy, and sell amazing products in our trusted marketplace."},contact:{email:e.footerEmail||"hello@cataloro.com",phone:e.footerPhone||"+1 (555) 123-4567",address:e.footerAddress||"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:e.footerFacebook||"",twitter:e.footerTwitter||"",instagram:e.footerInstagram||"",linkedin:e.footerLinkedin||"",youtube:e.footerYoutube||""},style:{backgroundColor:e.footerBackgroundColor||"#1f2937",textColor:e.footerTextColor||"#ffffff",linkColor:e.footerLinkColor||"#60a5fa",borderColor:"#374151"}};localStorage.setItem("cataloro_footer_config",JSON.stringify(t))}else localStorage.removeItem("cataloro_footer_config");const a={heroSectionEnabled:!0,featuredProductsEnabled:!1!==e.featuredProductsEnabled,categoriesShowcase:!1!==e.categoriesShowcase,testimonialSection:!1!==e.testimonialSection,newsletterSignup:!1!==e.newsletterSignup,searchBarProminent:e.searchBarProminent||!1,userRegistration:!1!==e.userRegistration,guestBrowsing:!1!==e.guestBrowsing,productReviews:!1!==e.productReviews,wishlistEnabled:!1!==e.wishlistEnabled,compareFeature:e.compareFeature||!1,advancedFilters:!1!==e.advancedFilters,bulkOperations:e.bulkOperations||!1,productVariations:e.productVariations||!1,inventoryTracking:e.inventoryTracking||!1,compactMode:e.compactMode||!1,animationsEnabled:!1!==e.animationsEnabled};return localStorage.setItem("cataloro_feature_flags",JSON.stringify(a)),window.dispatchEvent(new CustomEvent("featureFlagsUpdated",{detail:a})),console.log("\u2705 Site configuration applied successfully",a),!0}catch(t){return console.error("\u274c Error applying site configuration:",t),!1}};const vs=function(){const[e,t]=(0,i.useState)(!1),[r,n]=(0,i.useState)(!0),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),c=te();if((0,i.useEffect)(()=>{const e=localStorage.getItem("cataloro_token"),r=localStorage.getItem("cataloro_user");if(e&&r)try{JSON.parse(r),t(!0)}catch(a){localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),t(!1)}else t(!1);n(!1)},[]),(0,i.useEffect)(()=>{"true"===localStorage.getItem("cataloro_dark_mode")&&(s(!0),document.documentElement.classList.add("dark")),(()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const t=JSON.parse(e);return bs(t),console.log("\u2705 Site configuration loaded and applied on startup"),!0}return!1}catch(e){return console.warn("\u26a0\ufe0f Could not load site configuration:",e),!1}})()},[]),(0,i.useEffect)(()=>{l(!1)},[c]),r)return(0,bn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Cataloro..."})]})});const d=["/profile/"].some(e=>c.pathname.startsWith(e));return e||d?(0,bn.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300 ".concat(a?"dark":""),children:[(0,bn.jsx)(Qi,{darkMode:a,toggleDarkMode:()=>{const e=!a;s(e),localStorage.setItem("cataloro_dark_mode",e.toString()),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},isMobileMenuOpen:o,setIsMobileMenuOpen:l}),(0,bn.jsx)(as,{isOpen:o,onClose:()=>l(!1)}),(0,bn.jsx)("main",{className:"pt-20 min-h-screen",children:(0,bn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,bn.jsx)(we,{})})}),(0,bn.jsx)(fs,{}),(0,bn.jsx)(ys,{}),o&&(0,bn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)})]}):(0,bn.jsx)(ve,{to:"/login",replace:!0})},ws=_i("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),js=_i("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),ks=_i("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Ns=_i("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),_s=_i("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ss=_i("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),As=_i("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var Os=r(7784);function Es(e){let{timeInfo:t}=e;const[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(null===t||void 0===t||!t.has_time_limit||void 0===t.time_remaining_seconds||null===t.time_remaining_seconds)return;let e=t.time_remaining_seconds;n(e),s(e<=0);const r=setInterval(()=>{n(e=>e<=1?(s(!0),0):e-1)},1e3);return()=>clearInterval(r)},[t]);return null!==t&&void 0!==t&&t.has_time_limit?(0,bn.jsx)("span",{children:a?"EXPIRED":(e=>{if(e<=0)return"EXPIRED";const t=Math.floor(e/86400),r=Math.floor(e%86400/3600),n=Math.floor(e%3600/60),a=e%60;return t>0?"".concat(t,"d ").concat(r,"h ").concat(n,"m"):r>0?"".concat(r,"h ").concat(n,"m"):n>0?"".concat(n,"m ").concat(a,"s"):"".concat(a,"s")})(r)}):null}function Cs(e){var t,r,n,a,s,o,l,c,d,u,h,f,p,m,g,x,y,b,v,w,j,k,N,_,S,A,O,E,C,P,T,M,L,D,R,I,F,B,U,q,z,H,V,W,K,G,Y,$,J,X,Z;let{item:Q,viewMode:ee,onSubmitTender:te,onFavoriteToggle:re,onMessageSeller:ae,isInFavorites:ie,isSubmittingTender:se,tenderConfirmation:oe,priceRangeSettings:le,userActiveBids:ce,user:de,permissions:ue}=e;const[he,fe]=(0,i.useState)(0),[pe,me]=(0,i.useState)(null),[ge,xe]=(0,i.useState)(!1),ye=ne(),be="grid"===ee,ve=de&&((null===(t=Q.seller)||void 0===t?void 0:t.username)===de.username||Q.seller_id===de.id||(null===(r=Q.seller)||void 0===r?void 0:r.id)===de.id),we=(null===ue||void 0===ue||null===(n=ue.browse)||void 0===n?void 0:n.canPlaceBid)&&!ve;i.useEffect(()=>{var e,t;console.log("\ud83d\udd0d ProductCard [".concat(null===(e=Q.id)||void 0===e?void 0:e.slice(0,8),"] - ").concat(Q.title,":"),{seller_username:null===(t=Q.seller)||void 0===t?void 0:t.username,seller_id:Q.seller_id,user_username:null===de||void 0===de?void 0:de.username,user_id:null===de||void 0===de?void 0:de.id,isOwner:ve,canPlaceBid:we})},[Q.id,Q.seller,Q.seller_id,null===de||void 0===de?void 0:de.username,null===de||void 0===de?void 0:de.id,ve,we]),(0,i.useEffect)(()=>{(async()=>{if("Catalysts"===Q.category&&(Q.catalyst_id||Q.title)){xe(!0);try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();let r=null;r=Q.catalyst_id?t.find(e=>e.cat_id===Q.catalyst_id):t.find(e=>e.name&&e.name.toLowerCase()===Q.title.toLowerCase()),r&&r.total_price&&me(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{xe(!1)}}})()},[Q.catalyst_id,Q.title,Q.category]);return(0,bn.jsxs)("div",{className:"product-card group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer ".concat(be?"hover:-translate-y-1":"flex space-x-4 p-4"),onClick:()=>{ye("/product/".concat(Q.id))},children:[(0,bn.jsxs)("div",{className:"relative ".concat(be?"":"w-48 h-48 flex-shrink-0"),children:[(0,bn.jsx)("div",{className:"absolute inset-0 cursor-pointer z-10",onClick:e=>{e.stopPropagation(),ye("/product/".concat(Q.id))},title:"View product details"}),(0,bn.jsx)("img",{src:(null===(a=Q.images)||void 0===a?void 0:a[he])||(null===(s=Q.images)||void 0===s?void 0:s[0])||"/api/placeholder/400/300",alt:Q.title,className:"object-cover transition-transform duration-300 group-hover:scale-[1.02] ".concat(be?"w-full h-64":"w-full h-full rounded-lg")}),Q.images&&Q.images.length>1&&(0,bn.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 z-20",children:Q.images.map((e,t)=>(0,bn.jsx)("div",{className:"w-2 h-2 rounded-full cursor-pointer ".concat(t===he?"bg-white":"bg-white/50"),onClick:e=>{e.stopPropagation(),fe(t)}},t))}),(0,bn.jsxs)("div",{className:"absolute top-2 left-2 space-y-1 z-20",children:[null===(o=Q.tags)||void 0===o?void 0:o.map(e=>(0,bn.jsx)("span",{className:"inline-block bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:e},e)),(0,bn.jsx)("div",{children:(0,bn.jsx)("span",{className:"inline-block text-white text-xs px-2 py-1 rounded-full font-medium ".concat(null!==(l=Q.seller)&&void 0!==l&&l.is_business?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"),children:null!==(c=Q.seller)&&void 0!==c&&c.is_business?"Business":"Private"})})]}),(0,bn.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,bn.jsx)("button",{onClick:e=>re(Q,e),className:"favorites-button wishlist-button add-to-favorites p-3 backdrop-blur-lg rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 ".concat(ie(Q.id)?"bg-red-500/90 text-white shadow-red-500/25":"bg-white/90 dark:bg-gray-800/90 text-gray-700 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500"),title:ie(Q.id)?"Remove from favorites":"Add to favorites",children:ie(Q.id)?(0,bn.jsx)(Ti,{className:"w-5 h-5 fill-current animate-pulse"}):(0,bn.jsx)(Ti,{className:"w-5 h-5"})})}),(0,bn.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full flex items-center z-20",children:[(0,bn.jsx)(Ss,{className:"w-3 h-3 mr-1"}),Q.views]})]}),(0,bn.jsxs)("div",{className:"".concat(be?"p-4":"flex-1 min-w-0"),children:[(0,bn.jsx)("div",{className:"mb-3",children:(0,bn.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors ".concat(be?"text-lg line-clamp-2":"text-xl"),children:Q.title})}),(0,bn.jsx)("div",{className:"mb-3",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",(null!==(d=Q.bid_info)&&void 0!==d&&d.has_bids&&null!==(u=Q.bid_info)&&void 0!==u&&u.highest_bid?Q.bid_info.highest_bid:Q.price).toFixed(2)]}),(null===(h=Q.bid_info)||void 0===h?void 0:h.has_bids)&&(0,bn.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:["\u20ac",Q.price.toFixed(2)," starting"]})]})}),"Catalysts"===Q.category&&(0,bn.jsx)("div",{className:"mb-3",children:ge?(0,bn.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,bn.jsx)("div",{className:"w-3 h-3 border border-gray-400 border-t-transparent rounded-full animate-spin mr-2"}),"Loading market range..."]}):pe?(0,bn.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 dark:from-indigo-900/40 dark:via-blue-900/40 dark:to-cyan-900/40 border border-indigo-100 dark:border-indigo-800/60 shadow-sm",children:[(0,bn.jsx)("div",{className:"absolute top-0 right-0 w-12 h-12 bg-gradient-to-bl from-indigo-200/20 to-transparent dark:from-indigo-600/10 rounded-bl-full"}),(0,bn.jsx)("div",{className:"relative p-3",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"p-1.5 rounded-lg bg-gradient-to-r from-indigo-500 to-blue-500 shadow-sm",children:(0,bn.jsx)(As,{className:"w-3 h-3 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300 uppercase tracking-wide",children:"Market Range"}),(0,bn.jsxs)("div",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-100 leading-tight",children:["\u20ac",(pe*(100-le.price_range_min_percent)/100).toFixed(0)," - \u20ac",(pe*(100+le.price_range_max_percent)/100).toFixed(0)]})]})]})})]}):null}),(0,bn.jsx)("div",{className:"mb-3",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold ".concat(null!==(f=Q.seller)&&void 0!==f&&f.is_business?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-green-500 to-emerald-600"),children:(0,bn.jsx)("span",{children:((null===(p=Q.seller)||void 0===p?void 0:p.username)||(null===(m=Q.seller)||void 0===m?void 0:m.name)||"U").charAt(0).toUpperCase()})}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null===(g=Q.seller)||void 0===g?void 0:g.username)||(null===(x=Q.seller)||void 0===x?void 0:x.name)||"Unknown User"}),(null===(y=Q.seller)||void 0===y?void 0:y.verified)&&(0,bn.jsx)("span",{className:"text-blue-500 text-xs",children:"\u2713 Verified"})]})]})}),(0,bn.jsx)("div",{className:"mb-3",children:(0,bn.jsxs)("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[(0,bn.jsx)(os,{className:"w-4 h-4 mr-1"}),(0,bn.jsx)("span",{className:"text-sm",children:((e,t,r)=>{const n=(null===(e=Q.address)||void 0===e?void 0:e.city)||"",a=(null===(t=Q.address)||void 0===t?void 0:t.country)||"";if(n||a){const e=[n,a].filter(Boolean);return e.length>0?e.join(", "):"Location not specified"}if(null!==(r=Q.seller)&&void 0!==r&&r.location){const e=Q.seller.location.split(",").map(e=>e.trim());return e.length>=2?e.slice(-2).join(", "):e[0]}return"Location not specified"})()})]})}),(0,bn.jsx)("div",{className:"mb-3",children:(0,bn.jsxs)("div",{className:"relative overflow-hidden rounded-xl border-2 ".concat(null!==(b=Q.time_info)&&void 0!==b&&b.has_time_limit?Q.time_info.is_expired||Q.time_info.time_remaining_seconds<=3600?"border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30":Q.time_info.time_remaining_seconds<=21600?"border-orange-200 dark:border-orange-800 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/30":Q.time_info.time_remaining_seconds<=86400?"border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30"),children:[(0,bn.jsx)("div",{className:"absolute top-0 right-0 w-12 h-12 rounded-bl-full ".concat(null!==(v=Q.time_info)&&void 0!==v&&v.has_time_limit?Q.time_info.is_expired||Q.time_info.time_remaining_seconds<=3600?"bg-gradient-to-bl from-red-200/20 to-transparent dark:from-red-600/10":Q.time_info.time_remaining_seconds<=21600?"bg-gradient-to-bl from-orange-200/20 to-transparent dark:from-orange-600/10":Q.time_info.time_remaining_seconds<=86400?"bg-gradient-to-bl from-yellow-200/20 to-transparent dark:from-yellow-600/10":"bg-gradient-to-bl from-green-200/20 to-transparent dark:from-green-600/10":"bg-gradient-to-bl from-green-200/20 to-transparent dark:from-green-600/10")}),(0,bn.jsx)("div",{className:"relative p-3",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"p-1.5 rounded-lg shadow-sm ".concat(null!==(w=Q.time_info)&&void 0!==w&&w.has_time_limit?Q.time_info.is_expired||Q.time_info.time_remaining_seconds<=3600?"bg-gradient-to-r from-red-500 to-red-600":Q.time_info.time_remaining_seconds<=21600?"bg-gradient-to-r from-orange-500 to-orange-600":Q.time_info.time_remaining_seconds<=86400?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-green-500 to-green-600"),children:(0,bn.jsx)(zi,{className:"w-3 h-3 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide ".concat(null!==(j=Q.time_info)&&void 0!==j&&j.has_time_limit?Q.time_info.is_expired||Q.time_info.time_remaining_seconds<=3600?"text-red-700 dark:text-red-300":Q.time_info.time_remaining_seconds<=21600?"text-orange-700 dark:text-orange-300":Q.time_info.time_remaining_seconds<=86400?"text-yellow-700 dark:text-yellow-300":"text-green-700 dark:text-green-300":"text-green-700 dark:text-green-300"),children:null!==(k=Q.time_info)&&void 0!==k&&k.has_time_limit?Q.time_info.is_expired?"Expired":"Time Left":"Without Time Limit"}),(0,bn.jsx)("div",{className:"text-sm font-bold leading-tight ".concat(null!==(N=Q.time_info)&&void 0!==N&&N.has_time_limit?Q.time_info.is_expired||Q.time_info.time_remaining_seconds<=3600?"text-red-900 dark:text-red-100":Q.time_info.time_remaining_seconds<=21600?"text-orange-900 dark:text-orange-100":Q.time_info.time_remaining_seconds<=86400?"text-yellow-900 dark:text-yellow-100":"text-green-900 dark:text-green-100":"text-green-900 dark:text-green-100"),children:null!==(_=Q.time_info)&&void 0!==_&&_.has_time_limit?(0,bn.jsx)(Es,{timeInfo:Q.time_info}):"Always Available"})]})]})})]})}),(0,bn.jsxs)("div",{className:"mb-3",children:[(null===(S=Q.bid_info)||void 0===S?void 0:S.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&(null===(A=Q.bid_info)||void 0===A?void 0:A.has_bids)&&(0,bn.jsx)("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,bn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("p",{className:"text-blue-800 dark:text-blue-300 font-semibold text-sm",children:"\ud83c\udf89 You're the highest bidder!"}),(0,bn.jsxs)("p",{className:"text-blue-700 dark:text-blue-400 text-xs",children:["Your bid of \u20ac",Q.bid_info.highest_bid.toFixed(2)," is currently winning"]})]})]})}),we?(0,bn.jsxs)("div",{className:"flex space-x-2",onClick:e=>e.stopPropagation(),children:[(0,bn.jsx)("div",{className:"flex-1",children:(0,bn.jsx)("input",{type:"number",min:(null===(O=Q.bid_info)||void 0===O?void 0:O.highest_bid)||Q.price||0,step:"10",placeholder:null!==(E=Q.time_info)&&void 0!==E&&E.is_expired||(null===(C=Q.bid_info)||void 0===C?void 0:C.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(P=Q.bid_info)&&void 0!==P&&P.has_bids?"Bid...":"Min: \u20ac".concat(((null===(T=Q.bid_info)||void 0===T?void 0:T.highest_bid)||Q.price||0).toFixed(2)),disabled:(null===(M=Q.time_info)||void 0===M?void 0:M.is_expired)||(null===(L=Q.bid_info)||void 0===L?void 0:L.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&(null===(D=Q.bid_info)||void 0===D?void 0:D.has_bids),className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(null!==(R=Q.time_info)&&void 0!==R&&R.is_expired?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 cursor-not-allowed":(null===(I=Q.bid_info)||void 0===I?void 0:I.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(F=Q.bid_info)&&void 0!==F&&F.has_bids?"border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 cursor-not-allowed":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"),onClick:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),onChange:e=>{e.stopPropagation();e.target.dataset.offerAmount=e.target.value}})}),(0,bn.jsx)("button",{onClick:e=>{var t,r,n,a;if(e.stopPropagation(),null!==(t=Q.time_info)&&void 0!==t&&t.is_expired)return void alert("This listing has expired. No more bids can be placed.");if((null===(r=Q.bid_info)||void 0===r?void 0:r.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(n=Q.bid_info)&&void 0!==n&&n.has_bids)return void alert("You are already the highest bidder! Wait for others to place higher bids.");const i=(null===(a=e.target.parentElement.previousElementSibling)||void 0===a?void 0:a.querySelector("input"))||e.target.parentElement.parentElement.querySelector("input"),s=parseFloat((null===i||void 0===i?void 0:i.value)||0);s&&s>=(Q.highest_bid||Q.price||0)?(te(Q,s),i.value=""):alert("Please enter an amount of at least \u20ac".concat((Q.highest_bid||Q.price||0).toFixed(2)))},disabled:se||(null===(B=Q.time_info)||void 0===B?void 0:B.is_expired)||(null===(U=Q.bid_info)||void 0===U?void 0:U.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&(null===(q=Q.bid_info)||void 0===q?void 0:q.has_bids),className:"px-6 py-2.5 rounded-lg font-medium transition-colors flex items-center space-x-2 ".concat(null!==(z=Q.time_info)&&void 0!==z&&z.is_expired?"bg-red-400 text-red-100 cursor-not-allowed":(null===(H=Q.bid_info)||void 0===H?void 0:H.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(V=Q.bid_info)&&void 0!==V&&V.has_bids?"bg-blue-400 text-blue-100 cursor-not-allowed":"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white"),title:null!==(W=Q.time_info)&&void 0!==W&&W.is_expired?"Listing has expired":(null===(K=Q.bid_info)||void 0===K?void 0:K.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(G=Q.bid_info)&&void 0!==G&&G.has_bids?"You are the highest bidder":"Submit tender offer",children:null!==(Y=Q.time_info)&&void 0!==Y&&Y.is_expired?(0,bn.jsx)("span",{children:"EXPIRED"}):(null===($=Q.bid_info)||void 0===$?void 0:$.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(J=Q.bid_info)&&void 0!==J&&J.has_bids?(0,bn.jsx)("span",{children:"WINNING"}):se?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Submitting..."})]}):(0,bn.jsx)("span",{children:"Offer"})})]}):ve?(0,bn.jsxs)("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,bn.jsx)("span",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Your Listing - Bidding Disabled"})]}),(0,bn.jsx)("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"You cannot bid on your own listing."}),(0,bn.jsxs)("div",{className:"mt-2 flex items-center justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-yellow-600 dark:text-yellow-400",children:"Current highest bid:"}),(0,bn.jsxs)("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:["\u20ac",((null===(X=Q.bid_info)||void 0===X?void 0:X.highest_bid)||Q.price||0).toFixed(2)]})]})]}):(0,bn.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Seller Account - Bidding Disabled"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Seller accounts can view all bid information but cannot place bids. Switch to a buyer account to participate in bidding."}),(0,bn.jsxs)("div",{className:"mt-2 flex items-center justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Current highest bid:"}),(0,bn.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:["\u20ac",((null===(Z=Q.bid_info)||void 0===Z?void 0:Z.highest_bid)||Q.price||0).toFixed(2)]})]})]}),(null===oe||void 0===oe?void 0:oe.visible)&&(0,bn.jsx)("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 animate-pulse",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,bn.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("p",{className:"text-green-800 dark:text-green-300 font-semibold text-sm",children:"\u2705 Tender Submitted Successfully!"}),(0,bn.jsxs)("p",{className:"text-green-700 dark:text-green-400 text-xs",children:["Your offer of \u20ac",oe.amount.toFixed(2)," has been submitted to the seller"]})]})]})}),Q.highest_bid&&(0,bn.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-yellow-800 dark:text-yellow-300 font-medium",children:"Current highest bid:"}),(0,bn.jsxs)("span",{className:"text-yellow-900 dark:text-yellow-200 font-bold",children:["\u20ac",parseFloat(Q.highest_bid).toFixed(2)]})]})})]}),(0,bn.jsx)("div",{className:"mt-2 flex items-center justify-end text-xs text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700 pt-2",children:(0,bn.jsx)("span",{children:Q.created_at?new Date(Q.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):Q.createdAt?new Date(Q.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):Q.date?new Date(Q.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Date not available"})})]})]})}const Ps=function(){var e,t,r,n,a,s;const{user:o}=Cn(),{showToast:l}=Hn(),{permissions:c}=Zi(),d=(ne(),function(){const[e,t]=(0,i.useState)(null),[r,n]=(0,i.useState)(0);return(0,i.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(console.log("\ud83d\udd0d ModernBrowsePage - Loading ads config from localStorage:",e?"exists":"not found"),e){const r=JSON.parse(e);console.log("\ud83d\udd0d ModernBrowsePage - Parsed config:",r),console.log("\ud83d\udd0d ModernBrowsePage - AdsManager exists:",!!r.adsManager),r.adsManager?(console.log("\ud83d\udd0d ModernBrowsePage - Setting ads config:",r.adsManager),t(r.adsManager),r.adsManager.browsePageAd&&console.log("\ud83d\udd0d ModernBrowsePage - Browse page ad image URL:",r.adsManager.browsePageAd.image)):(console.log("\u26a0\ufe0f ModernBrowsePage - No adsManager in config, using defaults"),t({browsePageAd:{active:!0,image:null,description:"Advertisement Space",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0}}))}else console.log("\u26a0\ufe0f ModernBrowsePage - No saved config found, using defaults"),t({browsePageAd:{active:!0,image:null,description:"Advertisement Space",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0}})}catch(e){console.error("\u274c ModernBrowsePage - Error loading ads configuration:",e),t({browsePageAd:{active:!0,image:null,description:"Advertisement Space",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0}})}};e();const r=t=>{console.log("\ud83d\udd0d ModernBrowsePage - Ads config update event received:",t.detail),n(e=>e+1),setTimeout(e,100)},a=t=>{"cataloro_site_config"===t.key&&(console.log("\ud83d\udd0d ModernBrowsePage - Storage change detected"),n(e=>e+1),setTimeout(e,100))};return window.addEventListener("adsConfigUpdated",r),window.addEventListener("storage",a),()=>{window.removeEventListener("adsConfigUpdated",r),window.removeEventListener("storage",a)}},[r]),(0,i.useEffect)(()=>{console.log("\ud83d\udd0d ModernBrowsePage - Current adsConfig state:",e),null!==e&&void 0!==e&&e.browsePageAd&&(console.log("\ud83d\udd0d ModernBrowsePage - Browse page ad config:",e.browsePageAd),console.log("\ud83d\udd0d ModernBrowsePage - Browse page ad image URL:",e.browsePageAd.image))},[e]),e}()),{filteredProducts:u,addToFavorites:h,removeFromFavorites:f,favorites:p,setSearchQuery:m,setFilters:g,setSortBy:x,setViewMode:y,searchQuery:b,activeFilters:v,sortBy:w,viewMode:j,isLoading:k,refreshListings:N}=Xn(),[_,S]=(0,i.useState)(!1),[A,O]=(0,i.useState)(null),[E,C]=(0,i.useState)(""),[P,T]=(0,i.useState)(!1),[M,L]=(0,i.useState)({}),[D,R]=(0,i.useState)({}),[I,F]=(0,i.useState)({price_range_min_percent:10,price_range_max_percent:10}),[B,U]=(0,i.useState)({}),[q,z]=(0,i.useState)({show:!1,bidAmount:0,itemTitle:"",itemId:"",success:!1}),H=e=>p.some(t=>t.id===e),V=async(e,t)=>{t.preventDefault(),t.stopPropagation(),o?H(e.id)?await f(e.id,o.id):await h(e,o.id):l("Please login to add favorites","info")},W=(e,t)=>{t.preventDefault(),t.stopPropagation(),o?e.seller_id!==o.id?(O(e),C("Hi! I'm interested in your listing \"".concat(e.title,'". Is it still available?')),S(!0)):l("You can't message yourself about your own listing","info"):l("Please login to message sellers","info")},[K,G]=(0,i.useState)(!1),[Y,$]=(0,i.useState)({title:"Discover Amazing Products",description:"From electronics to fashion, find everything you need in one place",height:400,image_url:"",search_placeholder:"Search for anything you need..."}),J=b,X=v,Z=w,Q=j,ee=u;(0,i.useEffect)(()=>{(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{$(JSON.parse(e))}catch(t){console.error("Error loading hero content:",t)}})();const e=e=>{$(e.detail)};return window.addEventListener("heroContentUpdated",e),()=>{window.removeEventListener("heroContentUpdated",e)}},[]),(0,i.useEffect)(()=>{(async()=>{try{const e="https://basket-loader.preview.emergentagent.com",t=await fetch("".concat(e,"/api/marketplace/price-range-settings"));if(t.ok){const e=await t.json();F(e)}}catch(e){console.error("Error fetching price range settings:",e)}})(),(async()=>{if(null!==o&&void 0!==o&&o.id)try{const e="https://basket-loader.preview.emergentagent.com",t=await fetch("".concat(e,"/api/user/").concat(o.id,"/active-bids"));if(t.ok){const{active_bids:e}=await t.json();U(e)}}catch(e){console.error("Error fetching user active bids:",e)}})()},[null===o||void 0===o?void 0:o.id]);const te=async(e,t)=>{var r,n;if(!o)return void l("Please login to submit tender offers","error");if((null===(r=e.seller)||void 0===r?void 0:r.username)===o.username||e.seller_id===o.id||(null===(n=e.seller)||void 0===n?void 0:n.id)===o.id)l("You cannot bid on your own listing","error");else{L(t=>(0,Fe.A)((0,Fe.A)({},t),{},{[e.id]:!0}));try{const r=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({listing_id:e.id,buyer_id:o.id,offer_amount:parseFloat(t)})}),n=await r.json();r.ok?(z({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!0}),R(r=>(0,Fe.A)((0,Fe.A)({},r),{},{[e.id]:{amount:parseFloat(t),timestamp:new Date,visible:!0}})),setTimeout(()=>{R(t=>(0,Fe.A)((0,Fe.A)({},t),{},{[e.id]:(0,Fe.A)((0,Fe.A)({},t[e.id]),{},{visible:!1})}))},5e3),setTimeout(()=>{N()},1e3)):400===r.status?z({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:n.detail||"Invalid tender offer"}):z({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:"Failed to submit tender offer"})}catch(a){console.error("Error submitting tender:",a),z({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:"Network error. Please check your connection and try again."})}finally{L(t=>(0,Fe.A)((0,Fe.A)({},t),{},{[e.id]:!1}))}}},re=e=>{g(e)},ae=e=>{y(e)};return k?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading amazing products..."})]})}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsxs)("div",{className:"hero-section relative text-white overflow-hidden ".concat("full_width"===Y.display_mode?"w-screen":"w-full"),style:(()=>{const e=(e,t)=>{const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!r)return e;const n=parseInt(r[1],16),a=parseInt(r[2],16),i=parseInt(r[3],16);return"rgba(".concat(n,", ").concat(a,", ").concat(i,", ").concat(t,")")},t="full_width"===Y.display_mode,r=Y.gradient_opacity||.8,n={height:"".concat(Y.height||400,"px"),minHeight:"300px",marginTop:"-2rem",marginBottom:"2rem"};switch(t?(n.marginLeft="calc(-50vw + 50%)",n.marginRight="calc(-50vw + 50%)"):(n.marginLeft="0",n.marginRight="0",n.borderRadius="1rem"),"image"!==Y.background_type&&"image-gradient"!==Y.background_type||(n.backgroundSize=Y.background_size||"cover",n.backgroundPosition=Y.background_position||"center",n.backgroundRepeat=Y.background_repeat||"no-repeat"),Y.background_type){case"gradient":return(0,Fe.A)((0,Fe.A)({},n),{},{background:"linear-gradient(to right, ".concat(Y.background_gradient_from||"#3f6ec7",", ").concat(Y.background_gradient_to||"#ec4899",")")});case"solid":return(0,Fe.A)((0,Fe.A)({},n),{},{background:Y.background_color||"#3B82F6"});case"image":return(0,Fe.A)((0,Fe.A)({},n),{},{background:Y.background_image?"linear-gradient(rgba(0,0,0,".concat(.5*r,"), rgba(0,0,0,").concat(.5*r,")), url(").concat(Y.background_image,")"):"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)"});case"image-gradient":const t=e(Y.background_gradient_from||"#3f6ec7",r),a=e(Y.background_gradient_to||"#ec4899",r);return(0,Fe.A)((0,Fe.A)({},n),{},{background:Y.background_image?"linear-gradient(to right, ".concat(t,", ").concat(a,"), url(").concat(Y.background_image,")"):"linear-gradient(to right, ".concat(Y.background_gradient_from||"#3f6ec7",", ").concat(Y.background_gradient_to||"#ec4899",")")});default:return(0,Fe.A)((0,Fe.A)({},n),{},{background:"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)"})}})(),children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,bn.jsxs)("div",{className:"relative z-10 text-center flex flex-col justify-center h-full px-8 max-w-7xl mx-auto",children:[Y.image_url&&(0,bn.jsx)("div",{className:"mb-6 flex justify-center",children:(0,bn.jsx)("img",{src:Y.image_url,alt:"Hero",className:"max-h-24 max-w-48 object-contain"})}),(0,bn.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:Y.title||"Discover Amazing Products"}),(0,bn.jsx)("p",{className:"text-xl mb-8 opacity-90 max-w-3xl mx-auto",children:Y.description||"From electronics to fashion, find everything you need in one place"}),(0,bn.jsx)("div",{className:"w-full",children:(0,bn.jsx)("div",{className:"search-bar-container relative bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 max-w-4xl mx-auto",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(es,{className:"absolute left-6 text-white/70 w-6 h-6"}),(0,bn.jsx)("input",{type:"text",placeholder:Y.search_placeholder||"Search for anything you need...",value:J,onChange:e=>{return t=e.target.value,void m(t);var t},className:"w-full pl-16 pr-4 py-4 bg-transparent text-white placeholder-white/70 text-lg focus:outline-none"}),(0,bn.jsx)("button",{onClick:()=>{var e;J.trim()&&(null===(e=document.getElementById("search-results"))||void 0===e||e.scrollIntoView({behavior:"smooth"}))},className:"flex-shrink-0 px-8 py-4 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white rounded-xl font-semibold transition-all duration-200 hover:scale-105",children:"Search"})]})})})]})]}),(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{id:"search-results",className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between ".concat("full_width"===Y.display_mode?"mt-8":""),children:[(0,bn.jsxs)("div",{className:"flex items-center gap-4 text-gray-600 dark:text-gray-300",children:[(0,bn.jsxs)("span",{className:"text-lg font-semibold",children:[ee.length," Result",1!==ee.length?"s":"",J&&' for "'.concat(J,'"')]}),(0,bn.jsxs)("button",{onClick:async()=>{try{l("Refreshing listings...","info"),await N(),l("Listings refreshed!","success")}catch(e){console.error("Failed to refresh listings:",e),l("Failed to refresh listings","error")}},className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg font-medium transition-all duration-200 hover:scale-105",title:"Refresh listings from server",children:[(0,bn.jsx)(Ii,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("button",{onClick:()=>G(!K),className:"flex items-center space-x-2 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[(0,bn.jsx)(ws,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Filters"})]}),(0,bn.jsxs)("select",{value:Z,onChange:e=>(e=>{x(e)})(e.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[(0,bn.jsx)("option",{value:"newest",children:"Newest First"}),(0,bn.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,bn.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,bn.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,bn.jsx)("option",{value:"popular",children:"Most Popular"})]}),(0,bn.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[(0,bn.jsx)("button",{onClick:()=>ae("grid"),className:"p-2 rounded-lg transition-all duration-200 ".concat("grid"===Q?"bg-white dark:bg-gray-700 shadow-sm text-blue-600":"text-gray-600 dark:text-gray-400"),children:(0,bn.jsx)(js,{className:"w-5 h-5"})}),(0,bn.jsx)("button",{onClick:()=>ae("list"),className:"p-2 rounded-lg transition-all duration-200 ".concat("list"===Q?"bg-white dark:bg-gray-700 shadow-sm text-blue-600":"text-gray-600 dark:text-gray-400"),children:(0,bn.jsx)(ks,{className:"w-5 h-5"})})]})]})]}),K&&(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Advanced Filters"}),(0,bn.jsx)("button",{onClick:()=>G(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,bn.jsx)(Ui,{className:"w-5 h-5"})})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,bn.jsxs)("select",{value:X.type,onChange:e=>re((0,Fe.A)((0,Fe.A)({},X),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-10 leading-none",children:[(0,bn.jsx)("option",{value:"all",children:"All Types"}),(0,bn.jsx)("option",{value:"Private",children:"Private"}),(0,bn.jsx)("option",{value:"Business",children:"Business"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range (\u20ac)"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 h-10",children:[(0,bn.jsx)("div",{className:"flex-1",children:(0,bn.jsx)("input",{type:"number",placeholder:"From",min:"0",value:X.priceFrom,onChange:e=>re((0,Fe.A)((0,Fe.A)({},X),{},{priceFrom:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm h-full"})}),(0,bn.jsx)("span",{className:"text-gray-500 dark:text-gray-400 flex-shrink-0",children:"-"}),(0,bn.jsx)("div",{className:"flex-1",children:(0,bn.jsx)("input",{type:"number",placeholder:"To",min:"0",value:X.priceTo,onChange:e=>re((0,Fe.A)((0,Fe.A)({},X),{},{priceTo:parseInt(e.target.value)||1e4})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm h-full"})})]}),(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["From \u20ac",X.priceFrom," to \u20ac",X.priceTo]})]}),(0,bn.jsxs)("div",{className:"flex flex-col",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Actions"}),(0,bn.jsx)("button",{onClick:()=>re({type:"all",priceFrom:0,priceTo:1e4,location:"all",rating:0}),className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors h-10",children:"Clear Filters"})]})]})]}),(0,bn.jsx)("div",{className:"mt-6",children:0===ee.length?(0,bn.jsxs)("div",{className:"text-center py-16",children:[(0,bn.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,bn.jsx)(es,{className:"w-8 h-8 text-gray-400"})}),(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No products found"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:J?"Try adjusting your search terms or filters":"Be the first to create a listing!"}),(0,bn.jsx)(Le,{to:"/create-listing",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Create Your First Listing"})]}):(0,bn.jsxs)("div",{className:"flex gap-6",children:[(0,bn.jsx)("div",{className:"".concat(null!==d&&void 0!==d&&null!==(e=d.browsePageAd)&&void 0!==e&&e.active?"flex-1":"w-full"),children:(0,bn.jsx)("div",{className:"grid"===Q?null!==d&&void 0!==d&&null!==(t=d.browsePageAd)&&void 0!==t&&t.active?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:ee.map(e=>(0,bn.jsx)(Cs,{item:e,viewMode:Q,onSubmitTender:te,onFavoriteToggle:V,onMessageSeller:W,isInFavorites:H,isSubmittingTender:M[e.id]||!1,tenderConfirmation:D[e.id],priceRangeSettings:I,userActiveBids:B,user:o,permissions:c},e.id))})}),(null===d||void 0===d||null===(r=d.browsePageAd)||void 0===r?void 0:r.active)&&(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-all duration-200 ".concat(d.browsePageAd.url?"cursor-pointer hover:scale-[1.02]":""),style:{width:d.browsePageAd.width||"300px",height:d.browsePageAd.height||"600px"},onClick:e=>{if(console.log("\ud83d\udd17 Ad clicked!"),console.log("\ud83d\udd17 Event details:",{target:e.target.tagName,currentTarget:e.currentTarget.tagName,url:d.browsePageAd.url}),d.browsePageAd.url){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),console.log("\ud83d\udd17 Opening URL in new tab:",d.browsePageAd.url),(0,Os.trackAdClick)("browsePageAd");try{const e=window.open(d.browsePageAd.url,"_blank","noopener,noreferrer");if(e)e.focus(),console.log("\u2705 Successfully opened URL in new tab");else{console.log("\u274c Popup blocked - trying alternative method");const e=document.createElement("a");e.href=d.browsePageAd.url,e.target="_blank",e.rel="noopener noreferrer",document.body.appendChild(e),e.click(),document.body.removeChild(e),console.log("\u2705 Opened URL using fallback method")}}catch(t){console.error("\u274c Failed to open URL:",t)}return!1}console.log("\ud83d\udd17 No URL configured for ad")},children:d.browsePageAd.image?(0,bn.jsxs)("div",{className:"relative w-full h-full",children:[(0,bn.jsx)("img",{src:d.browsePageAd.image,alt:d.browsePageAd.description||"Advertisement",className:"w-full h-full object-cover",onError:e=>{console.error("Ad image failed to load:",d.browsePageAd.image),e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,bn.jsxs)("div",{className:"absolute inset-0 flex-col items-center justify-center p-6 text-center hidden",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,bn.jsx)(Ns,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Advertisement Space"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:d.browsePageAd.description})]})]}):(0,bn.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 text-center h-full",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,bn.jsx)(Ns,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Advertisement Space"}),d.browsePageAd.description?(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:d.browsePageAd.description}):(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Your ad will appear here"}),(0,bn.jsxs)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:["Runtime: ",d.browsePageAd.runtime||"1 month"]}),d.browsePageAd.clicks>0&&(0,bn.jsxs)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:[d.browsePageAd.clicks," clicks"]})]})})})]})}),ee.length>0&&(0,bn.jsx)("div",{className:"text-center pt-8",children:(0,bn.jsx)("button",{className:"px-8 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Load More Products"})}),_&&A&&(0,bn.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full",children:[(0,bn.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,bn.jsx)(Pi,{className:"w-6 h-6 mr-2"}),"Message Seller"]}),(0,bn.jsx)("button",{onClick:()=>S(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,bn.jsx)(Ui,{className:"w-6 h-6"})})]})}),(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-start space-x-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[(0,bn.jsx)("img",{src:(null===(n=A.images)||void 0===n?void 0:n[0])||"/api/placeholder/400/300",alt:A.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,bn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,bn.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:A.title}),(0,bn.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",parseFloat(A.price||0).toFixed(2)]}),(0,bn.jsxs)("div",{className:"flex items-center mt-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)(Yi,{className:"w-4 h-4 mr-1"}),"Seller: ","string"===typeof A.seller?A.seller:(null===(a=A.seller)||void 0===a?void 0:a.name)||A.seller_id||"Unknown"]})]})]}),(0,bn.jsxs)("div",{className:"mb-6",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Message"}),(0,bn.jsx)("textarea",{value:E,onChange:e=>C(e.target.value),rows:4,className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Type your message to the seller..."})]}),(0,bn.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,bn.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,bn.jsx)("button",{onClick:async()=>{if(E.trim()&&A)try{T(!0),await Wn.sendMessage(o.id,{recipient_id:A.seller_id,subject:"Inquiry about: ".concat(A.title),content:E}),l("Message sent successfully!","success"),S(!1),C(""),O(null)}catch(e){console.error("Failed to send message:",e),l("Failed to send message. Please try again.","error")}finally{T(!1)}else l("Please enter a message","error")},disabled:!E.trim()||P,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-xl font-medium transition-colors flex items-center",children:P?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(_s,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})}),q.show&&(0,bn.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full",children:[(0,bn.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 ".concat(q.success?"bg-gradient-to-r from-green-600 to-emerald-600":"bg-gradient-to-r from-red-600 to-pink-600"),children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("h3",{className:"text-xl font-bold text-white flex items-center",children:q.success?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,bn.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Bid Submitted Successfully!"]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,bn.jsx)("path",{fillRule:"evenodd",d:"18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Bid Submission Failed"]})}),(0,bn.jsx)("button",{onClick:()=>z((0,Fe.A)((0,Fe.A)({},q),{},{show:!1})),className:"text-white hover:text-gray-200 transition-colors",children:(0,bn.jsx)(Ui,{className:"w-6 h-6"})})]})}),(0,bn.jsx)("div",{className:"p-6",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsxs)("div",{className:"mb-4",children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:q.itemTitle}),(0,bn.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",null===(s=q.bidAmount)||void 0===s?void 0:s.toFixed(2)]})]}),q.success?(0,bn.jsx)("div",{className:"space-y-3",children:(0,bn.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[(0,bn.jsx)("p",{className:"text-green-800 dark:text-green-300 font-medium",children:"\ud83c\udf89 Your tender offer has been submitted successfully!"}),(0,bn.jsx)("p",{className:"text-green-700 dark:text-green-400 text-sm mt-1",children:"The seller will be notified and can accept or decline your offer."})]})}):(0,bn.jsx)("div",{className:"space-y-3",children:(0,bn.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[(0,bn.jsxs)("p",{className:"text-red-800 dark:text-red-300 font-medium",children:["\u274c ",q.errorMessage]}),(0,bn.jsx)("p",{className:"text-red-700 dark:text-red-400 text-sm mt-1",children:"Please check your bid amount and try again."})]})}),(0,bn.jsx)("div",{className:"mt-6",children:(0,bn.jsx)("button",{onClick:()=>z((0,Fe.A)((0,Fe.A)({},q),{},{show:!1})),className:"w-full px-6 py-3 rounded-xl font-medium transition-colors ".concat(q.success?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"),children:q.success?"Great!":"Try Again"})})]})})]})})]})]})},Ts=_i("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ms=e=>{let{basePrice:t,baseCurrency:r="EUR",showAlternativePrices:n=!0,primaryCurrency:a=null,compact:s=!1,className:o=""}=e;const[l,c]=(0,i.useState)({}),[d,u]=(0,i.useState)(!0),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(null),g=["USD","GBP","CHF","CAD","JPY"];(0,i.useEffect)(()=>{x(),y()},[]);const x=async()=>{try{const e="https://basket-loader.preview.emergentagent.com",t=await fetch("".concat(e,"/api/v2/currency/rates")),r=await t.json();r.success&&c(r.rates)}catch(e){console.error("Failed to fetch exchange rates:",e),c({EUR:1,USD:1.17,GBP:.868,CHF:1.05,CAD:1.48,JPY:130.5})}finally{u(!1)}},y=()=>{JSON.parse(localStorage.getItem("currentUser")||"{}");const e=localStorage.getItem("preferred_currency");a?m(a):e&&m(e)},b=(e,t,r)=>{if(t===r)return e;return e/(l[t]||1)*(l[r]||1)},v=(e,t)=>{const r={EUR:"\u20ac",USD:"$",GBP:"\xa3",CHF:"CHF",CAD:"C$",JPY:"\xa5",AUD:"A$",SEK:"kr",NOK:"kr",DKK:"kr"}[t]||t,n=e.toLocaleString(void 0,{minimumFractionDigits:"JPY"===t?0:2,maximumFractionDigits:"JPY"===t?0:2});return"".concat(r).concat(n)},w=()=>p||r;if(d)return(0,bn.jsx)("div",{className:"".concat(s?"text-sm":"text-lg"," ").concat(o),children:(0,bn.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-6 w-20 rounded"})});const j=(()=>{const e=w(),n=b(t,r,e);return{price:n,currency:e,formatted:v(n,e)}})(),k=(()=>{const e=w(),n=h?Object.keys(l).filter(t=>t!==e):g.filter(t=>t!==e);return n.map(e=>{const n=b(t,r,e);return{currency:e,price:n,formatted:v(n,e)}}).slice(0,h?10:3)})();return s?(0,bn.jsx)("div",{className:"".concat(o),children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:j.formatted}),n&&k.length>0&&(0,bn.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["\u2248 ",k[0].formatted]})]})}):(0,bn.jsxs)("div",{className:"".concat(o),children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.formatted}),p&&p!==r&&(0,bn.jsx)("span",{className:"text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:"Preferred"})]}),n&&k.length>0&&(0,bn.jsxs)("div",{className:"space-y-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Si,{className:"w-4 h-4 text-gray-400"}),(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Other currencies:"}),(0,bn.jsx)("button",{onClick:()=>f(!h),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 flex items-center space-x-1",children:h?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Ts,{className:"w-3 h-3"}),(0,bn.jsx)("span",{children:"Show less"})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Ss,{className:"w-3 h-3"}),(0,bn.jsx)("span",{children:"Show all"})]})})]}),(0,bn.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map(e=>{let{currency:t,formatted:r}=e;return(0,bn.jsx)("span",{className:"text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:r},t)})})]}),r!==w()&&(0,bn.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-500",children:["Original price: ",v(t,r)," ",r]})]})},Ls=_i("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ds=_i("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Rs=_i("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Is=e=>{let{listingId:t,currentUserId:r=null,limit:n=4,onItemClick:a,className:s=""}=e;const[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null);(0,i.useEffect)(()=>{t&&f()},[t,n]);const f=async()=>{try{d(!0),h(null);const e="https://basket-loader.preview.emergentagent.com",r=await fetch("".concat(e,"/api/v2/ai/similar/").concat(t,"?limit=").concat(n));if(!r.ok)throw new Error("Failed to fetch similar items");const a=await r.json();if(!a.success)throw new Error(a.error||"Failed to load similar items");l(a.similar_items||[])}catch(u){console.error("Failed to fetch similar items:",u),h(u.message),l([])}finally{d(!1)}},p=async(e,n)=>{if(r)try{const a="https://basket-loader.preview.emergentagent.com";await fetch("".concat(a,"/api/v2/ai/interaction"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:r,listing_id:e,interaction_type:n,context:{source:"similar_items",original_listing:t}})})}catch(u){console.error("Failed to track interaction:",u)}},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR";return"".concat({EUR:"\u20ac",USD:"$",GBP:"\xa3"}[t]||t).concat((null===e||void 0===e?void 0:e.toLocaleString())||0)};return c?(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-600 ".concat(s),children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,bn.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,bn.jsx)(Ls,{className:"w-5 h-5 text-purple-600"})}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Similar Items"})]}),(0,bn.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Finding similar items..."})]})})]}):u?(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-600 ".concat(s),children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,bn.jsx)(Ls,{className:"w-5 h-5 text-purple-600"})}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Similar Items"})]}),(0,bn.jsx)("button",{onClick:f,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,bn.jsx)(Ii,{className:"w-4 h-4"})})]}),(0,bn.jsxs)("div",{className:"text-center py-8",children:[(0,bn.jsx)("div",{className:"text-red-500 mb-2",children:"Failed to load similar items"}),(0,bn.jsx)("button",{onClick:f,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200",children:"Try again"})]})]}):0===o.length?(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-600 ".concat(s),children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,bn.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,bn.jsx)(Ls,{className:"w-5 h-5 text-purple-600"})}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Similar Items"})]}),(0,bn.jsxs)("div",{className:"text-center py-8",children:[(0,bn.jsx)(Ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,bn.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Similar Items Found"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"We couldn't find any items similar to this one."})]})]}):(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-600 ".concat(s),children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,bn.jsx)(Ls,{className:"w-5 h-5 text-purple-600"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Similar Items"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"You might also like these items"})]})]}),(0,bn.jsx)("button",{onClick:f,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Refresh similar items",children:(0,bn.jsx)(Ii,{className:"w-4 h-4"})})]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:o.map((e,t)=>{const r=e.listing,n=(i=e.similarity_reasons)&&0!==i.length?i.slice(0,2):[];var i;return(0,bn.jsxs)("div",{onClick:()=>(async e=>{await p(e.listing.id,"view"),a&&a(e.listing)})(e),className:"group bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-600 transition-all cursor-pointer",children:[(0,bn.jsx)("div",{className:"aspect-square bg-gray-200 dark:bg-gray-600 rounded-lg mb-3 overflow-hidden",children:r.images&&r.images.length>0?(0,bn.jsx)("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):(0,bn.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,bn.jsx)(Ls,{className:"w-8 h-8 text-gray-400"})})}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white line-clamp-2 text-sm group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:r.title||"Untitled Listing"}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m(r.price)}),e.similarity_score&&(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)(Ds,{className:"w-3 h-3 text-yellow-500"}),(0,bn.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(100*e.similarity_score).toFixed(0),"% match"]})]})]}),r.category&&(0,bn.jsx)("span",{className:"inline-block px-2 py-1 text-xs bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded border",children:r.category}),n.length>0&&(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Similar: ",n.join(", ")]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between pt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[(0,bn.jsx)(Ss,{className:"w-3 h-3"}),(0,bn.jsx)("span",{children:"View details"})]}),(0,bn.jsx)(Rs,{className:"w-4 h-4 text-purple-500 transform group-hover:translate-x-1 transition-transform"})]})]})]},"similar-".concat(r.id,"-").concat(t))})}),o.length>=n&&(0,bn.jsx)("div",{className:"mt-6 text-center",children:(0,bn.jsxs)("button",{onClick:()=>{p(t,"similar_items_expand")},className:"inline-flex items-center space-x-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200 font-medium transition-colors",children:[(0,bn.jsx)("span",{children:"View more similar items"}),(0,bn.jsx)(Rs,{className:"w-4 h-4"})]})})]})},Fs=e=>{let{listing:t,currentUser:r,onBidPlaced:n}=e;const{isConnected:a,liveAuctions:s,placeBid:o,watchListing:l,unwatchListing:c}=(()=>{const e=(0,i.useContext)(vi);if(!e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e})(),[d,u]=(0,i.useState)(""),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)([]),[g,x]=(0,i.useState)(!1),y=t.id,b=s[y],v=t.price,w=(null===b||void 0===b?void 0:b.current_high_bid)||v,j=(null===r||void 0===r?void 0:r.id)===t.seller_id;(0,i.useEffect)(()=>(a&&y&&(l(y),x(!0)),()=>{a&&y&&(c(y),x(!1))}),[a,y,l,c]),(0,i.useEffect)(()=>{const e=w+1;(!d||parseFloat(d)<e)&&u(e.toString())},[w,d]);const k=e=>{const t=new Date,r=new Date(e),n=Math.floor((t-r)/6e4);if(n<1)return"Just now";if(n<60)return"".concat(n,"m ago");const a=Math.floor(n/60);return a<24?"".concat(a,"h ago"):"".concat(Math.floor(a/24),"d ago")};return j?(0,bn.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsxs)("div",{className:"text-gray-500 mb-2",children:[(0,bn.jsx)("span",{className:"inline-block w-3 h-3 bg-gray-400 rounded-full mr-2"}),"Your Listing - Bidding Disabled"]}),b&&(0,bn.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,bn.jsxs)("p",{children:["Current High Bid: ",(0,bn.jsxs)("strong",{children:["\u20ac",b.current_high_bid]})]}),(0,bn.jsxs)("p",{children:["Total Bids: ",b.bid_count]}),b.last_bid_time&&(0,bn.jsxs)("p",{children:["Last Bid: ",k(b.last_bid_time)]})]})]})}):(0,bn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat(a?"bg-green-500 animate-pulse":"bg-gray-400")}),(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:a?"Live Bidding":"Connecting..."}),g&&(0,bn.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Watching"})]}),b&&(0,bn.jsxs)("div",{className:"text-xs text-gray-500",children:[b.bid_count," bids"]})]}),(0,bn.jsxs)("div",{className:"mb-4",children:[(0,bn.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Current High Bid"}),(0,bn.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["\u20ac",w.toFixed(2)]}),b&&b.last_bid_time&&(0,bn.jsx)("div",{className:"text-xs text-gray-500",children:k(b.last_bid_time)})]}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Your Bid (minimum: \u20ac",(w+1).toFixed(2),")"]}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"\u20ac"}),(0,bn.jsx)("input",{type:"number",step:"0.01",min:w+1,value:d,onChange:e=>u(e.target.value),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"".concat((w+1).toFixed(2)),disabled:!a||h})]})]}),(0,bn.jsx)("button",{onClick:async()=>{if(!d||h||j)return;const e=parseFloat(d);if(e<=w)alert("Bid must be higher than current high bid of \u20ac".concat(w));else{f(!0);try{o(y,e);const t="https://basket-loader.preview.emergentagent.com";await fetch("".concat(t,"/v2/ai/interaction"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:r.id,listing_id:y,interaction_type:"bid",context:{bid_amount:e}})}),m(t=>[{id:"bid_".concat(Date.now()),amount:e,bidder:r.username,timestamp:(new Date).toISOString(),isOwn:!0},...t.slice(0,9)]),n&&n(e)}catch(t){console.error("Failed to place bid:",t),alert("Failed to place bid. Please try again.")}f(!1)}},disabled:!a||h||!d||parseFloat(d)<=w,className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(!a||h||!d||parseFloat(d)<=w?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:h?(0,bn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,bn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Placing Bid..."]}):"Place Bid - \u20ac".concat(d)})]}),(0,bn.jsx)("div",{className:"mt-3 flex space-x-2",children:[1,5,10,25].map(e=>{const t=w+e;return(0,bn.jsxs)("button",{onClick:()=>u(t.toString()),className:"flex-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 py-1 px-2 rounded transition-colors",disabled:!a,children:["+\u20ac",e]},e)})}),p.length>0&&(0,bn.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,bn.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Your Recent Bids"}),(0,bn.jsx)("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:p.map(e=>(0,bn.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,bn.jsxs)("span",{className:"text-gray-600",children:["\u20ac",e.amount]}),(0,bn.jsx)("span",{className:"text-gray-500",children:k(e.timestamp)})]},e.id))})]}),!a&&(0,bn.jsx)("div",{className:"mt-3 text-center text-sm text-gray-500",children:(0,bn.jsx)("div",{className:"animate-pulse",children:"Reconnecting to live bidding..."})})]})},Bs=_i("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Us=_i("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),qs=_i("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function zs(e){let{timeInfo:t}=e;const[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(null===t||void 0===t||!t.has_time_limit||void 0===t.time_remaining_seconds||null===t.time_remaining_seconds)return;let e=t.time_remaining_seconds;n(e),s(e<=0);const r=setInterval(()=>{n(e=>e<=1?(s(!0),0):e-1)},1e3);return()=>clearInterval(r)},[t]);return null!==t&&void 0!==t&&t.has_time_limit?(0,bn.jsx)("span",{children:a?"EXPIRED":(e=>{if(e<=0)return"EXPIRED";const t=Math.floor(e/86400),r=Math.floor(e%86400/3600),n=Math.floor(e%3600/60),a=e%60;return t>0?"".concat(t,"d ").concat(r,"h ").concat(n,"m"):r>0?"".concat(r,"h ").concat(n,"m"):n>0?"".concat(n,"m ").concat(a,"s"):"".concat(a,"s")})(r)}):null}function Hs(e){let{weight:t,ptPpm:r,pdPpm:n,rhPpm:a,ptG:s,pdG:o,rhG:l}=e;const[c,d]=(0,i.useState)(null);let u,h,f;return(0,i.useEffect)(()=>{(async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/price-settings"));if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Failed to fetch price settings:",e)}})()},[]),void 0!==s&&void 0!==o&&void 0!==l?(u=s,h=o,f=l):c&&t&&(r||n||a)?(u=t&&r?t*r/1e3*(c.renumeration_pt||.98):0,h=t&&n?t*n/1e3*(c.renumeration_pd||.98):0,f=t&&a?t*a/1e3*(c.renumeration_rh||.9):0):(u=0,h=0,f=0),t||u||h||f?(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,bn.jsx)(As,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Catalyst Content"}),(0,bn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"Admin Only"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,bn.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[(0,bn.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase font-medium mb-1",children:"Weight"}),(0,bn.jsxs)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[t||0,"g"]})]}),(0,bn.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[(0,bn.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase font-medium mb-1",children:"Pt g"}),(0,bn.jsx)("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:(u||0).toFixed(4)})]}),(0,bn.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[(0,bn.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400 uppercase font-medium mb-1",children:"Pd g"}),(0,bn.jsx)("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:(h||0).toFixed(4)})]}),(0,bn.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[(0,bn.jsx)("div",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase font-medium mb-1",children:"Rh g"}),(0,bn.jsx)("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:(f||0).toFixed(4)})]})]}),(0,bn.jsxs)("div",{className:"mt-4 text-xs text-blue-600 dark:text-blue-400",children:[(0,bn.jsx)(As,{className:"w-4 h-4 inline mr-1"}),"Content values visible only to Admin and Manager users for catalyst analysis."]})]}):null}const Vs=function(){var e,t,r,n,a,s,o,l,c,d,u,h,f,p,m,g,x,y,b,v,w,j,k,N,_,S,A,O,E,C,P,T,M,L,D,R,I,F,B,U,q,z;const{productId:H}=ie(),V=ne(),{user:W}=Cn(),{showToast:K}=Hn(),{permissions:G}=Zi(),Y="Admin"===(null===G||void 0===G?void 0:G.userRole)||"Manager"===(null===G||void 0===G?void 0:G.userRole)||(null===G||void 0===G?void 0:G.hasPermission)&&(G.hasPermission("admin")||G.hasPermission("manager"))||!1;console.log("ProductDetailPage - Permission Debug:",{userRole:null===G||void 0===G?void 0:G.userRole,isAdminOrManager:Y,permissions:G});const{allProducts:$,addToFavorites:J,removeFromFavorites:X,favorites:Z,addToRecentlyViewed:Q,showNotification:ee}=Xn(),[te,re]=(0,i.useState)(null),[ae,se]=(0,i.useState)(0),[oe,le]=(0,i.useState)("description"),[ce,de]=(0,i.useState)(!0),[ue,he]=(0,i.useState)(""),[fe,pe]=(0,i.useState)(!1),[me,ge]=(0,i.useState)(null),[xe,ye]=(0,i.useState)(null),[be,ve]=(0,i.useState)(!1);(0,i.useEffect)(()=>{te&&console.log("ProductDetailPage - Catalyst Data Debug:",{productId:te.id,title:te.title,ceramic_weight:te.ceramic_weight,pt_ppm:te.pt_ppm,pd_ppm:te.pd_ppm,rh_ppm:te.rh_ppm,pt_g:te.pt_g,pd_g:te.pd_g,rh_g:te.rh_g,hasCatalystData:!!(te.ceramic_weight||te.pt_ppm||te.pd_ppm||te.rh_ppm||te.pt_g||te.pd_g||te.rh_g)})},[te]);const we=(null===te||void 0===te||null===(e=te.time_info)||void 0===e?void 0:e.is_expired)||!1;if((0,i.useEffect)(()=>{const e=$.find(e=>e.id===H);e?(re(e),Q(e),de(!1)):V("/browse")},[H,$,V,Q]),(0,i.useEffect)(()=>{(async()=>{if(te&&"Catalysts"===te.category&&(te.catalyst_id||te.title)){ve(!0);try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();let r=null;r=te.catalyst_id?t.find(e=>e.cat_id===te.catalyst_id):t.find(e=>e.name&&e.name.toLowerCase()===te.title.toLowerCase()),r&&r.total_price&&ye(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{ve(!1)}}})()},[te]),ce||!te)return(0,bn.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading product details..."})]})});const je=Z.some(e=>e.id===te.id),ke=te.images||[te.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500"],Ne=$.filter(e=>e.id!==te.id&&e.category===te.category).slice(0,4);return(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)("button",{onClick:()=>V("/browse"),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Browse"}),(0,bn.jsx)("span",{children:"\u203a"}),(0,bn.jsx)("span",{className:"text-gray-900 dark:text-white",children:te.title})]}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"relative group",children:[(0,bn.jsx)("img",{src:ke[ae],alt:te.title,className:"w-full h-96 object-cover rounded-xl"}),ke.length>1&&(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("button",{onClick:()=>se(e=>0===e?ke.length-1:e-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,bn.jsx)(Bs,{className:"w-5 h-5"})}),(0,bn.jsx)("button",{onClick:()=>se(e=>e===ke.length-1?0:e+1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,bn.jsx)(Us,{className:"w-5 h-5"})})]})]}),ke.length>1&&(0,bn.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:ke.map((e,t)=>(0,bn.jsx)("button",{onClick:()=>se(t),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ".concat(ae===t?"border-blue-500":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:(0,bn.jsx)("img",{src:e,alt:"".concat(te.title," - ").concat(t+1),className:"w-full h-full object-cover"})},t))})]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:te.title}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400 mb-4",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4"}),(0,bn.jsxs)("span",{children:[te.views||0," views"]})]})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-4",children:(0,bn.jsxs)("button",{onClick:()=>{je?X(te.id):J(te)},className:"flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ".concat(je?"bg-red-50 border-red-200 text-red-600 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,bn.jsx)(Ti,{className:"w-5 h-5 ".concat(je?"fill-current":"")}),(0,bn.jsx)("span",{children:je?"Remove from Favorites":"Add to Favorites"})]})}),(0,bn.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/40 rounded-xl p-6 border-2 border-green-200 dark:border-green-800",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-sm font-semibold text-green-700 dark:text-green-300 uppercase tracking-wide mb-1",children:null!==(t=te.bid_info)&&void 0!==t&&t.has_bids?"Current Highest Bid":"Starting Price"}),(0,bn.jsx)(Ms,{basePrice:null!==(r=te.bid_info)&&void 0!==r&&r.has_bids&&null!==(n=te.bid_info)&&void 0!==n&&n.highest_bid?te.bid_info.highest_bid:te.price,baseCurrency:"EUR",showAlternativePrices:!0,compact:!1}),(null===(a=te.bid_info)||void 0===a?void 0:a.has_bids)&&(0,bn.jsxs)("div",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:["Starting price: \u20ac",te.price.toLocaleString()]})]}),(0,bn.jsxs)("div",{className:"text-right",children:[(0,bn.jsx)("div",{className:"bg-green-600 text-white px-4 py-2 rounded-full text-sm font-medium",children:null!==(s=te.bid_info)&&void 0!==s&&s.has_bids?"".concat(te.bid_info.total_bids||0," bids"):"No bids yet"}),(null===(o=te.bid_info)||void 0===o?void 0:o.has_bids)&&(0,bn.jsx)("div",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"Total bids received"})]})]})}),te.market_range&&(0,bn.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)(Vi,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Market Range"})]}),(0,bn.jsx)("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:te.market_range})]}),(0,bn.jsx)("div",{className:"rounded-xl border-2 p-6 ".concat(null!==(l=te.time_info)&&void 0!==l&&l.has_time_limit?te.time_info.is_expired||te.time_info.time_remaining_seconds<=3600?"border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30":te.time_info.time_remaining_seconds<=21600?"border-orange-200 dark:border-orange-800 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/30":te.time_info.time_remaining_seconds<=86400?"border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30"),children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 rounded-lg shadow-sm ".concat(null!==(c=te.time_info)&&void 0!==c&&c.has_time_limit?te.time_info.is_expired||te.time_info.time_remaining_seconds<=3600?"bg-gradient-to-r from-red-500 to-red-600":te.time_info.time_remaining_seconds<=21600?"bg-gradient-to-r from-orange-500 to-orange-600":te.time_info.time_remaining_seconds<=86400?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-green-500 to-green-600"),children:(0,bn.jsx)(zi,{className:"w-5 h-5 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-sm font-medium uppercase tracking-wide ".concat(null!==(d=te.time_info)&&void 0!==d&&d.has_time_limit?te.time_info.is_expired||te.time_info.time_remaining_seconds<=3600?"text-red-700 dark:text-red-300":te.time_info.time_remaining_seconds<=21600?"text-orange-700 dark:text-orange-300":te.time_info.time_remaining_seconds<=86400?"text-yellow-700 dark:text-yellow-300":"text-green-700 dark:text-green-300":"text-green-700 dark:text-green-300"),children:null!==(u=te.time_info)&&void 0!==u&&u.has_time_limit?te.time_info.is_expired?"Expired":"Time Left":"Without Time Limit"}),(0,bn.jsx)("div",{className:"text-xl font-bold leading-tight ".concat(null!==(h=te.time_info)&&void 0!==h&&h.has_time_limit?te.time_info.is_expired||te.time_info.time_remaining_seconds<=3600?"text-red-900 dark:text-red-100":te.time_info.time_remaining_seconds<=21600?"text-orange-900 dark:text-orange-100":te.time_info.time_remaining_seconds<=86400?"text-yellow-900 dark:text-yellow-100":"text-green-900 dark:text-green-100":"text-green-900 dark:text-green-100"),children:null!==(f=te.time_info)&&void 0!==f&&f.has_time_limit?(0,bn.jsx)(zs,{timeInfo:te.time_info}):"Always Available"})]})]})}),Y&&(0,bn.jsx)(Hs,{weight:te.ceramic_weight,ptPpm:te.pt_ppm,pdPpm:te.pd_ppm,rhPpm:te.rh_ppm,ptG:te.pt_g,pdG:te.pd_g,rhG:te.rh_g}),(0,bn.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/40 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:((null===(p=te.seller)||void 0===p?void 0:p.username)||(null===(m=te.seller)||void 0===m?void 0:m.name)||"U").charAt(0).toUpperCase()}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 uppercase tracking-wide mb-1",children:"Sold by"}),(0,bn.jsx)("div",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:(null===(g=te.seller)||void 0===g?void 0:g.username)||(null===(x=te.seller)||void 0===x?void 0:x.name)||"Unknown Seller"}),(null===(y=te.seller)||void 0===y?void 0:y.is_business)&&(null===(b=te.seller)||void 0===b?void 0:b.business_name)&&(0,bn.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:te.seller.business_name})]}),(0,bn.jsxs)("div",{className:"text-right",children:[(0,bn.jsx)("button",{onClick:()=>V("/profile/".concat(te.seller_id)),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"View Profile"}),(null===(v=te.seller)||void 0===v?void 0:v.verified)&&(0,bn.jsxs)("div",{className:"flex items-center justify-end space-x-1 mt-2",children:[(0,bn.jsx)(qs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),(0,bn.jsx)("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Verified"})]})]})]})}),(0,bn.jsx)("div",{children:(0,bn.jsx)("span",{className:"inline-block bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-sm px-3 py-1 rounded-full font-medium",children:te.category})}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)(os,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:te.location||"Location not specified"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400 text-sm mb-6",children:[(0,bn.jsx)(zi,{className:"w-4 h-4"}),(0,bn.jsxs)("span",{children:["Listed on ",new Date(te.created_at).toLocaleDateString()]})]}),(0,bn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 space-y-4",children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bidding Information"}),null!==(w=te.bid_info)&&void 0!==w&&w.has_bids?(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Current Highest Bid:"}),(0,bn.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:["\u20ac",te.bid_info.highest_bid.toFixed(2)]})]}):(0,bn.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 italic",children:"No bids yet - be the first to bid!"}),(null===(j=te.bid_info)||void 0===j?void 0:j.user_bid)&&(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Your Current Bid:"}),(0,bn.jsxs)("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",te.bid_info.user_bid.toFixed(2)]})]}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Tender Offer:"}),(null===(k=te.seller)||void 0===k?void 0:k.username)===(null===W||void 0===W?void 0:W.username)||te.seller_id===(null===W||void 0===W?void 0:W.id)||(null===(N=te.seller)||void 0===N?void 0:N.id)===(null===W||void 0===W?void 0:W.id)?(0,bn.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 text-center",children:[(0,bn.jsx)("div",{className:"text-yellow-700 dark:text-yellow-300 font-medium",children:"You cannot bid on your own listing"}),(0,bn.jsx)("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 mt-1",children:"This is your product listing"})]}):(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("input",{type:"number",step:"0.01",min:(null===(_=te.bid_info)||void 0===_?void 0:_.highest_bid)||te.price,value:ue,onChange:e=>he(e.target.value),disabled:we||(null===(S=te.bid_info)||void 0===S?void 0:S.highest_bidder_id)===(null===W||void 0===W?void 0:W.id)&&(null===(A=te.bid_info)||void 0===A?void 0:A.has_bids),className:"flex-1 px-3 py-2 border rounded-lg text-sm ".concat(we||(null===(O=te.bid_info)||void 0===O?void 0:O.highest_bidder_id)===(null===W||void 0===W?void 0:W.id)&&null!==(E=te.bid_info)&&void 0!==E&&E.has_bids?"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500"),placeholder:null!==(C=te.time_info)&&void 0!==C&&C.is_expired?"Expired":(null===(P=te.bid_info)||void 0===P?void 0:P.highest_bidder_id)===(null===W||void 0===W?void 0:W.id)&&null!==(T=te.bid_info)&&void 0!==T&&T.has_bids?"You have the highest bid":"Minimum: \u20ac".concat(((null===(M=te.bid_info)||void 0===M?void 0:M.highest_bid)||te.price||0).toFixed(2))}),(0,bn.jsx)("button",{onClick:async()=>{var e,t,r;if(!W)return void K("Please login to submit tender offers","error");if((null===(e=te.seller)||void 0===e?void 0:e.username)===W.username||te.seller_id===W.id||(null===(t=te.seller)||void 0===t?void 0:t.id)===W.id)return void K("You cannot bid on your own listing","error");const n=parseFloat(ue),a=(null===(r=te.bid_info)||void 0===r?void 0:r.highest_bid)||te.price||0;if(!n||n<a)K("Please enter an amount of at least \u20ac".concat(a.toFixed(2)),"error");else{pe(!0);try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({listing_id:te.id,buyer_id:W.id,offer_amount:n})}),t=await e.json();var i;if(e.ok)K("Tender offer of \u20ac".concat(n.toFixed(2)," submitted successfully!"),"success"),he(""),ge({amount:n,timestamp:new Date,visible:!0}),setTimeout(()=>{ge(e=>e?(0,Fe.A)((0,Fe.A)({},e),{},{visible:!1}):null)},8e3),n>((null===(i=te.bid_info)||void 0===i?void 0:i.highest_bid)||te.highest_bid||0)&&re(e=>{var t;return(0,Fe.A)((0,Fe.A)({},e),{},{highest_bid:n,bid_info:(0,Fe.A)((0,Fe.A)({},e.bid_info),{},{has_bids:!0,highest_bid:n,total_bids:((null===(t=e.bid_info)||void 0===t?void 0:t.total_bids)||0)+1})})});else 400===e.status?K(t.detail||"Invalid tender offer","error"):K(t.detail||"Failed to submit tender offer","error")}catch(s){console.error("Error submitting tender:",s),K("Failed to submit tender offer. Please try again.","error")}finally{pe(!1)}}},disabled:fe||we||(null===(L=te.bid_info)||void 0===L?void 0:L.highest_bidder_id)===(null===W||void 0===W?void 0:W.id)&&(null===(D=te.bid_info)||void 0===D?void 0:D.has_bids),className:"px-4 py-2 rounded-lg font-medium transition-colors text-sm ".concat(fe||we||(null===(R=te.bid_info)||void 0===R?void 0:R.highest_bidder_id)===(null===W||void 0===W?void 0:W.id)&&null!==(I=te.bid_info)&&void 0!==I&&I.has_bids?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:fe?"Submitting...":"Submit Bid"})]})]}),(null===(F=te.time_info)||void 0===F?void 0:F.has_time_limit)&&(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Time Remaining:"}),(0,bn.jsx)("span",{className:"font-bold ".concat(te.time_info.is_expired||te.time_info.time_remaining_seconds<=3600?"text-red-600 dark:text-red-400":te.time_info.time_remaining_seconds<=86400?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"),children:te.time_info.is_expired?"EXPIRED":te.time_info.time_remaining_display||"Active"})]})]})]})]})}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,bn.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[{id:"description",label:"Description"},{id:"seller",label:"Seller Info"}].map(e=>(0,bn.jsx)("button",{onClick:()=>le(e.id),className:"px-6 py-4 font-medium transition-colors ".concat(oe===e.id?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.id))}),(0,bn.jsxs)("div",{className:"p-6",children:["description"===oe&&(0,bn.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,bn.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:te.description||"No description available for this product."})}),"seller"===oe&&(0,bn.jsx)("div",{className:"space-y-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:((null===(B=te.seller)||void 0===B?void 0:B.name)||te.seller||"S")[0]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[(0,bn.jsx)("span",{children:(null===(U=te.seller)||void 0===U?void 0:U.name)||te.seller||"Verified Seller"}),(null===(q=te.seller)||void 0===q?void 0:q.verified)&&(0,bn.jsx)(qs,{className:"w-5 h-5 text-blue-600"})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:(null===(z=te.seller)||void 0===z?void 0:z.location)&&(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)(os,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:te.seller.location})]})})]})]})})]})]}),Ne.length>0&&(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Related Products"}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Ne.map(e=>{var t;return(0,bn.jsxs)("div",{className:"group cursor-pointer",onClick:()=>V("/product/".concat(e.id)),children:[(0,bn.jsx)("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden mb-3",children:(0,bn.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=300",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),(0,bn.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors line-clamp-2",children:e.title}),(0,bn.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-1",children:["\u20ac",e.price.toFixed(2)]})]},e.id)})})]}),W&&!we&&(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Live Bidding"}),(0,bn.jsx)(Fs,{listing:te,currentUser:W,onBidPlaced:e=>{K("Bid of \u20ac".concat(e," placed successfully!"),"success"),window.location.reload()}})]}),(0,bn.jsx)(Is,{listingId:te.id,currentUserId:null===W||void 0===W?void 0:W.id,limit:4,onItemClick:e=>{V("/product/".concat(e.id))}})]})},Ws=_i("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Ks=_i("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);function Gs(e){var t;let{listing:r,onDelete:n}=e;const[a,s]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=e=>{a&&!e.target.closest(".listing-menu-container")&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]);return(0,bn.jsxs)("div",{className:"listing-tile",children:[(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("img",{src:(null===(t=r.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:r.title,className:"listing-image"}),(0,bn.jsx)("span",{className:"absolute top-3 left-3 px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"sold":default:return"bg-gray-100 dark:bg-gray-700/50 text-gray-800 dark:text-gray-300";case"draft":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";case"expired":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}})(r.status||(r.is_draft?"draft":"active"))),children:(r.status||(r.is_draft?"DRAFT":"ACTIVE")).toUpperCase()}),(r.is_draft||"draft"===r.status)&&(0,bn.jsx)("div",{className:"absolute top-3 right-16 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold animate-pulse",children:"DRAFT"}),(0,bn.jsxs)("div",{className:"absolute top-3 right-3 listing-menu-container",children:[(0,bn.jsx)("button",{onClick:e=>{e.stopPropagation(),s(!a)},className:"p-2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-full hover:bg-white dark:hover:bg-gray-800 transition-all duration-200 shadow-lg",children:(0,bn.jsx)(Ws,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),a&&(0,bn.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 py-2 z-50 backdrop-blur-xl",children:[(r.is_draft||"draft"===r.status)&&(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsxs)(Le,{to:"/edit-listing/".concat(r.id),onClick:e=>{e.stopPropagation(),s(!1)},className:"w-full text-left px-4 py-3 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center transition-colors duration-200",children:[(0,bn.jsx)(Ks,{className:"w-4 h-4 mr-3"}),"Finish & Publish"]}),(0,bn.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"})]}),!(r.is_draft||"draft"===r.status)&&(0,bn.jsxs)(Le,{to:"/product/".concat(r.id),onClick:e=>{e.stopPropagation(),s(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center transition-colors duration-200",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4 mr-3"}),"View Details"]}),(0,bn.jsxs)(Le,{to:"/edit-listing/".concat(r.id),onClick:e=>{e.stopPropagation(),s(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center transition-colors duration-200",children:[(0,bn.jsx)(Ks,{className:"w-4 h-4 mr-3"}),r.is_draft||"draft"===r.status?"Continue Editing":"Edit Listing"]}),(0,bn.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),(0,bn.jsxs)("button",{onClick:e=>{e.stopPropagation(),n(r.id),s(!1)},className:"w-full text-left px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center transition-colors duration-200",children:[(0,bn.jsx)(qi,{className:"w-4 h-4 mr-3"}),"Delete Listing"]})]})]})]}),(0,bn.jsxs)("div",{className:"listing-content",children:[(0,bn.jsx)("h3",{className:"listing-title text-gray-900 dark:text-white",children:r.title}),(0,bn.jsxs)("p",{className:"listing-price",children:["\u20ac",r.price.toFixed(2)]}),(0,bn.jsx)("p",{className:"listing-description text-gray-600 dark:text-gray-300",children:r.description}),(0,bn.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,bn.jsx)("span",{className:"inline-block bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs px-3 py-1 rounded-full font-medium backdrop-blur-md",children:r.category}),(0,bn.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()})]})]})]})}const Ys=function(){const{user:e}=Cn(),{showToast:t}=Hn(),[r]=Ie(),n=r.get("filter"),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(n||"all"),u=ne();(0,i.useEffect)(()=>{const e=new URLSearchParams(window.location.search);"all"!==c?e.set("filter",c):e.delete("filter");const t="".concat(window.location.pathname).concat(e.toString()?"?"+e.toString():"");window.history.replaceState({},"",t)},[c]),(0,i.useEffect)(()=>{const e=r.get("filter");e&&e!==c&&d(e)},[r]),(0,i.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&h()},[null===e||void 0===e?void 0:e.id]);const h=async()=>{try{l(!0);const t=await Vn.getMyListings(e.id);s(t)}catch(r){t("Failed to load your listings","error"),console.error("Failed to fetch listings:",r)}finally{l(!1)}},f=async e=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await Vn.deleteListing(e),s(a.filter(t=>t.id!==e)),t("Listing deleted successfully","success")}catch(r){t("Failed to delete listing","error")}},p=e=>{d(e)},m=()=>{u("/create-listing")},g=(()=>{switch(c){case"active":return a.filter(e=>"active"===e.status);case"drafts":return a.filter(e=>"draft"===e.status||e.is_draft);case"closed":return a.filter(e=>"sold"===e.status||"closed"===e.status);default:return a}})();return o?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsx)("div",{className:"spinner"})}):(0,bn.jsxs)("div",{className:"fade-in",children:[(0,bn.jsx)("div",{className:"mb-8",children:(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"My Listings"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your marketplace listings"})]}),(0,bn.jsxs)("button",{onClick:m,className:"cataloro-button-primary flex items-center",children:[(0,bn.jsx)(Mi,{className:"w-5 h-5 mr-2"}),"Create New Listing"]})]})}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-4",children:[(0,bn.jsx)("button",{onClick:()=>p("all"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("all"===c?"ring-2 ring-blue-500 bg-blue-50/20 dark:bg-blue-900/20":""),children:(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:a.length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})}),(0,bn.jsx)("button",{onClick:()=>p("active"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("active"===c?"ring-2 ring-green-500 bg-green-50/20 dark:bg-green-900/20":""),children:(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:a.filter(e=>"active"===e.status).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})}),(0,bn.jsx)("button",{onClick:()=>p("closed"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("closed"===c?"ring-2 ring-red-500 bg-red-50/20 dark:bg-red-900/20":""),children:(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:a.filter(e=>"sold"===e.status||"closed"===e.status).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Closed"}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Sold & completed"})]})}),(0,bn.jsx)("button",{onClick:()=>p("drafts"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("drafts"===c?"ring-2 ring-orange-500 bg-orange-50/20 dark:bg-orange-900/20":""),children:(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:a.filter(e=>"draft"===e.status||e.is_draft).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Drafts"}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Finish & publish later"})]})})]}),"all"!==c&&(0,bn.jsxs)("div",{className:"mb-4 flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,bn.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Showing ",c," listings (",g.length," items)"]}),(0,bn.jsx)("button",{onClick:()=>d("all"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show All"})]}),0===g.length?(0,bn.jsx)("div",{className:"text-center py-12",children:(0,bn.jsxs)("div",{className:"cataloro-card-glass p-12",children:[(0,bn.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,bn.jsx)(Mi,{className:"w-12 h-12 text-gray-600 dark:text-gray-300"})}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"No listings yet"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Create your first listing to start selling on our modern marketplace"}),(0,bn.jsx)("button",{onClick:m,className:"cataloro-button-primary",children:"Create Your First Listing"})]})}):(0,bn.jsx)("div",{className:"listings-grid",children:g.map(e=>(0,bn.jsx)(Gs,{listing:e,onDelete:f},e.id))})]})},$s=_i("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Js=_i("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Xs=_i("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Zs=_i("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Qs=_i("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),eo=_i("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const to=function(){var e;const t=ne(),r=Xi(),n="Admin"===(null===r||void 0===r?void 0:r.userRole)||"Admin-Manager"===(null===r||void 0===r?void 0:r.userRole)||(null===r||void 0===r||null===(e=r.ui)||void 0===e?void 0:e.showAdminPanelLink)||!1,[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[f,p]=(0,i.useState)({title:"",description:"",price:"",category:"General",condition:"New",street:"",post_code:"",city:"",country:"",shipping:"pickup",shipping_cost:"",tags:[],features:[],has_time_limit:!1,time_limit_hours:24}),[m,g]=(0,i.useState)(!0),[x,y]=(0,i.useState)({street:"",post_code:"",city:"",country:""}),[b,v]=(0,i.useState)([]),[w,j]=(0,i.useState)([]),[k,N]=(0,i.useState)([]),[_,S]=(0,i.useState)([]),[A,O]=(0,i.useState)(!1),[E,C]=(0,i.useState)(null),[P,T]=(0,i.useState)(!1),[M,L]=(0,i.useState)([]),[D,R]=(0,i.useState)(!1),[I,F]=(0,i.useState)(!1),[B,U]=(0,i.useState)(""),[q,z]=(0,i.useState)("");(0,i.useEffect)(()=>{V(),H()},[]),(0,i.useEffect)(()=>{var e;console.log("CreateListingPage - Debug Info:"),console.log("  permissions:",r),console.log("  permissions.ui:",null===r||void 0===r?void 0:r.ui),console.log("  permissions.ui.showAdminPanelLink:",null===r||void 0===r||null===(e=r.ui)||void 0===e?void 0:e.showAdminPanelLink),console.log("  isAdminOrManager:",n),console.log("  selectedCatalyst:",E),console.log("  unifiedCalculations length:",k.length)},[r,n,E,k]);const H=()=>{try{const e=localStorage.getItem("cataloro_user");if(e){const t=JSON.parse(e),r={street:t.street||"",post_code:t.post_code||"",city:t.city||"",country:t.country||""};y(r),m&&(r.street||r.city)&&p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{street:r.street,post_code:r.post_code,city:r.city,country:r.country}))}}catch(e){console.error("Failed to load profile address:",e)}},V=async()=>{try{T(!0);const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/unified-calculations"));if(e.ok){const t=await e.json();N(t),console.log("Loaded unified calculations:",t.length,"entries"),console.log("Sample unified calculation:",t[0])}}catch(e){console.error("Failed to fetch unified calculations:",e)}finally{T(!1)}},W=e=>{const{name:t,value:r}=e.target;p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[t]:r}))},K=e=>{const t=(e=>{const t=k.find(t=>t.cat_id===e);return console.log("Looking for price for catalyst:",e,"Found calculation:",t),(null===t||void 0===t?void 0:t.total_price)||null})(e);if(!t)return null;const r=.9*t,n=1.1*t;return{basePrice:parseFloat(t),minPrice:parseFloat(r.toFixed(2)),maxPrice:parseFloat(n.toFixed(2))}};return(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,bn.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,bn.jsxs)("div",{className:"mb-8",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,bn.jsx)(Le,{to:"/my-listings",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,bn.jsx)($s,{className:"w-5 h-5"})}),(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create New Listing"})]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Fill in the details below to create your marketplace listing"})]}),(0,bn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e=["title","description","price"];for(let t of e)if(!f[t].trim())return alert("Please fill in the ".concat(t.replace("_"," ")," field")),!1;return parseFloat(f.price)<=0?(alert("Please enter a valid price"),!1):0!==c.length||(alert("Please add at least one image"),!1)})()){s(!0);try{const e=localStorage.getItem("cataloro_user"),r=e?JSON.parse(e):null;if(!r)return alert("Please log in to create a listing"),void t("/login");const n=(0,Fe.A)((0,Fe.A)({},f),{},{price:parseFloat(f.price),shipping_cost:f.shipping_cost?parseFloat(f.shipping_cost):0,seller_id:r.id,seller:{name:r.name||r.full_name||r.email,username:r.username||r.name||r.email,email:r.email,verified:r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||null,location:[f.street,f.city,f.country].filter(Boolean).join(", ")||"Not specified"},address:{street:f.street,post_code:f.post_code,city:f.city,country:f.country,use_profile_address:m},images:u,created_at:(new Date).toISOString(),has_time_limit:f.has_time_limit,time_limit_hours:f.has_time_limit?f.time_limit_hours:null},E&&{catalyst_id:E.cat_id,catalyst_name:E.name,is_catalyst_listing:!0,calculated_price:E.total_price,ceramic_weight:E.weight,pt_g:E.pt_g,pd_g:E.pd_g,rh_g:E.rh_g,catalyst_specs:{weight:E.weight,total_price:E.total_price,pt_g:E.pt_g,pd_g:E.pd_g,rh_g:E.rh_g,is_override:E.is_override}});await Vn.createListing(n),alert("Listing created successfully!"),t("/my-listings")}catch(r){console.error("Failed to create listing:",r),alert("Failed to create listing. Please try again.")}finally{s(!1)}}},className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Js,{className:"w-6 h-6 mr-2"}),"Product Images"]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[u.map((e,t)=>(0,bn.jsxs)("div",{className:"relative group",children:[(0,bn.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),(0,bn.jsx)("button",{type:"button",onClick:()=>(e=>{d(t=>t.filter((t,r)=>r!==e)),h(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]},t)),(0,bn.jsxs)("label",{className:"w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[(0,bn.jsx)(Xs,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,bn.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Add Images"}),(0,bn.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return void alert("Please select only image files");if(e.size>5242880)return void alert("File size must be less than 5MB");d(t=>[...t,e]);const t=new FileReader;t.onload=e=>{h(t=>[...t,e.target.result])},t.readAsDataURL(e)})},className:"hidden"})]})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload up to 8 images. First image will be the main photo. Max 5MB per image."})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Zs,{className:"w-6 h-6 mr-2"}),"Basic Information"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title *",(0,bn.jsxs)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2 flex items-center",children:[(0,bn.jsx)(As,{className:"w-3 h-3 mr-1"}),"(Type to search Cat Database - ",k.length," catalysts available)"]})]}),(0,bn.jsx)("input",{type:"text",name:"title",value:f.title,onChange:e=>{const t=e.target.value;if(p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{title:t})),t.length>0){const e=k.filter(e=>{var r,n,a;const i=t.toLowerCase();return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===(n=e.cat_id)||void 0===n?void 0:n.toLowerCase().includes(i))||(null===(a=e.add_info)||void 0===a?void 0:a.toLowerCase().includes(i))}).slice(0,8);S(e),O(e.length>0)}else S([]),O(!1),C(null)},onFocus:()=>f.title&&O(_.length>0),placeholder:"Enter item title or search catalyst name/ID/additional info...",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0}),A&&(0,bn.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-80 overflow-y-auto",children:[(0,bn.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,bn.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)(As,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cat Database Matches (",_.length,")",(0,bn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to auto-fill"})]})}),_.map(e=>{const t=K(e.cat_id);return(0,bn.jsx)("div",{onClick:()=>(e=>{C(e),console.log("Selected catalyst:",e);let t="Catalyst: ".concat(e.name||"Professional Grade Catalyst","\n\nSpecifications:\n\u2022 Weight: ").concat(e.weight||"N/A","g\n\nProfessional grade catalyst suitable for automotive and industrial applications.");e.add_info&&e.add_info.trim()&&(t+="\n\nAdditional Information:\n".concat(e.add_info)),console.log("Final description:",t),p(r=>(0,Fe.A)((0,Fe.A)({},r),{},{title:e.name||e.cat_id,category:"Catalysts",description:t})),O(!1)})(e),className:"p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,bn.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.name}),(0,bn.jsx)(Qs,{className:"w-4 h-4 text-yellow-500",title:"Auto-fill enabled"})]}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:(0,bn.jsxs)("div",{className:"flex flex-col",children:[(0,bn.jsx)("span",{className:"text-gray-500",children:"Weight"}),(0,bn.jsxs)("span",{className:"font-medium",children:[e.ceramic_weight,"g"]})]})})]}),t&&(0,bn.jsxs)("div",{className:"ml-4 text-right",children:[(0,bn.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["\u20ac",t.minPrice.toFixed(2)," - \u20ac",t.maxPrice.toFixed(2)]}),(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[(0,bn.jsx)(As,{className:"w-3 h-3 mr-1"}),"Market Range"]})]})]})},e.cat_id)}),_.length>0&&(0,bn.jsx)("div",{onClick:()=>{C(null),O(!1),p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{description:"",price:"",category:"General"}))},className:"p-4 hover:bg-orange-50 dark:hover:bg-orange-900/20 cursor-pointer border-t border-gray-200 dark:border-gray-600 transition-all duration-200 group",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,bn.jsx)("span",{className:"font-semibold text-orange-600 dark:text-orange-400 group-hover:text-orange-700 dark:group-hover:text-orange-300 transition-colors",children:"\ud83c\udd93 Catalyst not in Database"}),(0,bn.jsx)(Mi,{className:"w-4 h-4 text-orange-500",title:"Create free listing"})]}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Create a free listing with custom price and description"})]}),(0,bn.jsx)("div",{className:"ml-4 text-right",children:(0,bn.jsx)("div",{className:"text-sm font-bold text-orange-600 dark:text-orange-400",children:"Custom Input"})})]})}),0===_.length&&f.title.length>2&&(0,bn.jsxs)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:[(0,bn.jsxs)("p",{className:"mb-3",children:['No catalysts found matching "',f.title,'"']}),(0,bn.jsxs)("button",{type:"button",onClick:()=>{C(null),O(!1),p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{category:"General"}))},className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center space-x-2 mx-auto",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Create Free Listing"})]})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Description *",E&&(0,bn.jsxs)("span",{className:"text-purple-600 dark:text-purple-400 text-xs ml-2 flex items-center",children:[(0,bn.jsx)(Qs,{className:"w-3 h-3 mr-1"}),"Auto-generated from catalyst specifications"]})]}),(0,bn.jsx)("textarea",{name:"description",value:f.description,onChange:W,placeholder:"Provide a detailed description of your item...",rows:E?8:4,className:"w-full px-4 py-3 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 transition-all duration-200 ".concat(E?"border-purple-300 dark:border-purple-600 focus:border-purple-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500"),required:!0}),E&&(0,bn.jsxs)("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-2 flex items-center",children:[(0,bn.jsx)(As,{className:"w-3 h-3 mr-1"}),"Description includes catalyst specifications and current market information"]})]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Starting Price * (\u20ac)",E&&(0,bn.jsxs)("span",{className:"text-green-600 dark:text-green-400 text-xs ml-2 flex items-center",children:[(0,bn.jsx)(Qs,{className:"w-3 h-3 mr-1"}),"Auto-calculated from catalyst data"]})]}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"\u20ac"}),(0,bn.jsx)("input",{type:"number",name:"price",value:f.price,onChange:W,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-all duration-200 ".concat(E?"border-green-300 dark:border-green-600 focus:border-green-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500"),required:!0}),E&&(0,bn.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,bn.jsx)("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded text-xs font-medium",children:"Auto-filled"})})]})]})}),E&&(0,bn.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-6 mt-6",children:[(0,bn.jsxs)("h4",{className:"font-bold text-blue-900 dark:text-blue-100 mb-4 flex items-center text-lg",children:[(0,bn.jsx)(As,{className:"w-5 h-5 mr-2"}),"Selected Catalyst: ",E.name,(0,bn.jsx)("span",{className:"ml-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Auto-filled"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Catalyst Name"}),(0,bn.jsx)("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:E.name})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Ceramic Weight"}),(0,bn.jsxs)("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:[E.weight,"g"]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Market Range"}),(0,bn.jsx)("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:K(E.cat_id)?(0,bn.jsxs)(bn.Fragment,{children:["\u20ac",K(E.cat_id).minPrice.toFixed(2)," - \u20ac",K(E.cat_id).maxPrice.toFixed(2)]}):"N/A"})]})]}),(0,bn.jsx)("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,bn.jsxs)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:[(0,bn.jsx)("strong",{children:"Auto-filled fields:"})," Title, Category, Price, and Description have been automatically populated based on this catalyst's data and current market calculations."]})})]}),n&&E&&(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,bn.jsx)(Vi,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Selected Catalyst Content"}),(0,bn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Preview"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,bn.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-100 dark:border-green-800",children:[(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 uppercase font-medium mb-1",children:"Weight"}),(0,bn.jsxs)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[E.weight||0,"g"]})]}),(0,bn.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-100 dark:border-green-800",children:[(0,bn.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase font-medium mb-1",children:"Pt g"}),(0,bn.jsx)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:(E.pt_g||0).toFixed(4)})]}),(0,bn.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-100 dark:border-green-800",children:[(0,bn.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400 uppercase font-medium mb-1",children:"Pd g"}),(0,bn.jsx)("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:(E.pd_g||0).toFixed(4)})]}),(0,bn.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-100 dark:border-green-800",children:[(0,bn.jsx)("div",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase font-medium mb-1",children:"Rh g"}),(0,bn.jsx)("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:(E.rh_g||0).toFixed(4)})]})]}),(0,bn.jsxs)("div",{className:"mt-4 text-xs text-green-600 dark:text-green-400 flex items-center",children:[(0,bn.jsx)(As,{className:"w-4 h-4 mr-1"}),"Content values from unified catalyst calculations - will be saved with your listing"]})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,bn.jsx)(os,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,bn.jsx)("input",{type:"checkbox",checked:m,onChange:e=>{return t=e.target.checked,g(t),void p(t?e=>(0,Fe.A)((0,Fe.A)({},e),{},{street:x.street,post_code:x.post_code,city:x.city,country:x.country}):e=>(0,Fe.A)((0,Fe.A)({},e),{},{street:"",post_code:"",city:"",country:""}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,bn.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)(Yi,{className:"w-3 h-3 mr-1"}),"Use profile address"]})]})]}),m?(0,bn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,bn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg mr-3",children:(0,bn.jsx)(Yi,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Using Profile Address"}),(0,bn.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Address from your profile settings"})]})]}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-100 dark:border-blue-700",children:x.street||x.city?(0,bn.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[x.street&&(0,bn.jsx)("div",{children:x.street}),(0,bn.jsxs)("div",{className:"flex space-x-2",children:[x.post_code&&(0,bn.jsx)("span",{children:x.post_code}),x.city&&(0,bn.jsx)("span",{children:x.city})]}),x.country&&(0,bn.jsx)("div",{children:x.country})]}):(0,bn.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No address in profile. Please uncheck to enter address manually."})})]}):(0,bn.jsxs)("div",{className:"space-y-4 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,bn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg mr-3",children:(0,bn.jsx)(os,{className:"w-4 h-4 text-green-600 dark:text-green-300"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-100",children:"Custom Address"}),(0,bn.jsx)("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Enter address for this listing"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,bn.jsx)("input",{type:"text",name:"street",value:f.street,onChange:W,placeholder:"Enter street address",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,bn.jsx)("input",{type:"text",name:"post_code",value:f.post_code,onChange:W,placeholder:"Postal/ZIP code",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),(0,bn.jsx)("input",{type:"text",name:"city",value:f.city,onChange:W,placeholder:"Enter city",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),(0,bn.jsx)("input",{type:"text",name:"country",value:f.country,onChange:W,placeholder:"Enter country",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(zi,{className:"w-6 h-6 mr-2"}),"Time Limit (Optional)"]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"checkbox",id:"has_time_limit",name:"has_time_limit",checked:f.has_time_limit,onChange:e=>p((0,Fe.A)((0,Fe.A)({},f),{},{has_time_limit:e.target.checked})),className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,bn.jsx)("label",{htmlFor:"has_time_limit",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Set a time limit for this listing"})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add urgency to your listing! When time runs out, the highest bidder automatically wins."}),f.has_time_limit&&(0,bn.jsxs)("div",{className:"space-y-6 bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Duration"}),(0,bn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:24,label:"24 Hours",desc:"1 day"},{value:48,label:"48 Hours",desc:"2 days"},{value:168,label:"1 Week",desc:"7 days"},{value:720,label:"1 Month",desc:"30 days"}].map(e=>(0,bn.jsxs)("label",{className:"relative",children:[(0,bn.jsx)("input",{type:"radio",name:"time_limit_hours",value:e.value,checked:f.time_limit_hours===e.value,onChange:e=>p((0,Fe.A)((0,Fe.A)({},f),{},{time_limit_hours:parseInt(e.target.value)})),className:"sr-only"}),(0,bn.jsx)("div",{className:"p-3 rounded-lg border-2 cursor-pointer transition-all ".concat(f.time_limit_hours===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"font-semibold text-sm",children:e.label}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.desc})]})})]},e.value))})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[(0,bn.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preview"}),(0,bn.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Your listing will expire in ",(0,bn.jsx)("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:24===f.time_limit_hours?"1 day":48===f.time_limit_hours?"2 days":168===f.time_limit_hours?"1 week":"1 month"})," after publication.",(0,bn.jsx)("br",{}),"The countdown timer will appear as a ",(0,bn.jsx)("span",{className:"font-medium",children:"separate badge below the market range"})," of your listing image."]})]}),(0,bn.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:[(0,bn.jsx)(gs,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5"}),(0,bn.jsxs)("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:[(0,bn.jsx)("strong",{children:"Important:"})," When your listing expires, the highest bidder at that moment will automatically win, regardless of how many bids were placed. You can extend the time limit later if needed."]})]})]})]})]}),(0,bn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ready to publish your listing?"}),(0,bn.jsx)("p",{className:"text-blue-100",children:"Review all information above and click create to publish your listing to the marketplace."})]}),(0,bn.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,bn.jsx)(Le,{to:"/browse",className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,bn.jsx)("button",{type:"button",onClick:async()=>{l(!0);try{const e=localStorage.getItem("cataloro_user"),r=e?JSON.parse(e):null;if(!r)return alert("Please log in to save draft"),void t("/login");const n=(0,Fe.A)((0,Fe.A)({},f),{},{price:f.price?parseFloat(f.price):0,shipping_cost:f.shipping_cost?parseFloat(f.shipping_cost):0,seller_id:r.id,seller:{name:r.name||r.full_name||r.email,username:r.username||r.name||r.email,email:r.email,verified:r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||null,location:[f.street,f.city,f.country].filter(Boolean).join(", ")||"Not specified"},address:{street:f.street,post_code:f.post_code,city:f.city,country:f.country,use_profile_address:m},images:u,created_at:(new Date).toISOString(),status:"draft",is_draft:!0},E&&{catalyst_id:E.cat_id,catalyst_name:E.name,is_catalyst_listing:!0,calculated_price:E.total_price,ceramic_weight:E.weight,pt_g:E.pt_g,pd_g:E.pd_g,rh_g:E.rh_g,catalyst_specs:{weight:E.weight,total_price:E.total_price,pt_g:E.pt_g,pd_g:E.pd_g,rh_g:E.rh_g,is_override:E.is_override}});await Vn.createListing(n),alert("Draft saved successfully! You can finish it later from My Listings."),t("/my-listings")}catch(e){console.error("Failed to save draft:",e),alert("Failed to save draft. Please try again.")}finally{l(!1)}},disabled:o||a,className:"px-6 py-3 bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-400 text-white rounded-lg font-medium transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:o?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Saving..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(eo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Save as Draft"})]})}),(0,bn.jsx)("button",{type:"submit",disabled:a||o,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-semibold transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:a?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Creating..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(ps,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Create Listing"})]})})]})]})})]})]})})},ro=_i("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),no=_i("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);const ao=function(){const e=ne(),{id:t}=ie(),[r,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[f,p]=(0,i.useState)({title:"",description:"",price:"",category:"General",condition:"New",street:"",post_code:"",city:"",country:"",shipping:"pickup",shipping_cost:"",tags:[],features:[]}),[m,g]=(0,i.useState)(!0),[x,y]=(0,i.useState)({street:"",post_code:"",city:"",country:""}),[b,v]=(0,i.useState)(""),[w,j]=(0,i.useState)("");(0,i.useEffect)(()=>{k(),N()},[t]);const k=async()=>{try{var e,r,n,a,i,o,c;s(!0),l(null);const d=localStorage.getItem("cataloro_user"),u=d?JSON.parse(d):null;if(!u)return void l("Please log in to edit listings");const f=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/listings/").concat(t));if(!f.ok)throw new Error("Failed to fetch listing data");const m=await f.json();if(m.seller_id!==u.id)return void l("You can only edit your own listings");p({title:m.title||"",description:m.description||"",price:(null===(e=m.price)||void 0===e?void 0:e.toString())||"",category:m.category||"General",condition:m.condition||"New",street:(null===(r=m.address)||void 0===r?void 0:r.street)||m.street||"",post_code:(null===(n=m.address)||void 0===n?void 0:n.post_code)||m.post_code||"",city:(null===(a=m.address)||void 0===a?void 0:a.city)||m.city||"",country:(null===(i=m.address)||void 0===i?void 0:i.country)||m.country||"",shipping:m.shipping||"pickup",shipping_cost:(null===(o=m.shipping_cost)||void 0===o?void 0:o.toString())||"",tags:m.tags||[],features:m.features||[]}),m.images&&m.images.length>0&&h(m.images),g((null===(c=m.address)||void 0===c?void 0:c.use_profile_address)||!1)}catch(nC){console.error("Failed to load listing:",nC),l("Failed to load listing data")}finally{s(!1)}},N=()=>{try{const e=localStorage.getItem("cataloro_user");if(e){const t=JSON.parse(e),r={street:t.street||"",post_code:t.post_code||"",city:t.city||"",country:t.country||""};y(r)}}catch(o){console.error("Failed to load profile address:",o)}},_=e=>{const{name:t,value:r}=e.target;p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[t]:r}))},S=()=>{b.trim()&&!f.tags.includes(b.trim())&&(p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{tags:[...e.tags,b.trim()]})),v(""))},A=()=>{w.trim()&&!f.features.includes(w.trim())&&(p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{features:[...e.features,w.trim()]})),j(""))};return a?(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,bn.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,bn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)(ro,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading listing data..."})]})})})}):o?(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,bn.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,bn.jsxs)("div",{className:"text-center py-16",children:[(0,bn.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,bn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Error Loading Listing"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:o}),(0,bn.jsxs)(Le,{to:"/my-listings",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)($s,{className:"w-5 h-5 mr-2"}),"Back to My Listings"]})]})})}):(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,bn.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,bn.jsxs)("div",{className:"mb-8",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,bn.jsx)(Le,{to:"/my-listings",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,bn.jsx)($s,{className:"w-5 h-5"})}),(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Edit Listing"})]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Update your listing details below"})]}),(0,bn.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e=["title","description","price"];for(let t of e)if(!f[t].trim())return alert("Please fill in the ".concat(t.replace("_"," ")," field")),!1;return parseFloat(f.price)<=0?(alert("Please enter a valid price"),!1):0!==u.length||(alert("Please add at least one image"),!1)})()){n(!0);try{const r=localStorage.getItem("cataloro_user"),n=r?JSON.parse(r):null;if(!n)return alert("Please log in to update listing"),void e("/login");const a=(0,Fe.A)((0,Fe.A)({},f),{},{price:parseFloat(f.price),shipping_cost:f.shipping_cost?parseFloat(f.shipping_cost):0,seller_id:n.id,seller:{name:n.name||n.full_name||n.email,username:n.username||n.name||n.email,email:n.email,verified:n.verified||!1,is_business:n.is_business||!1,company_name:n.company_name||null,location:[f.street,f.city,f.country].filter(Boolean).join(", ")||"Not specified"},address:{street:f.street,post_code:f.post_code,city:f.city,country:f.country,use_profile_address:m},images:u,updated_at:(new Date).toISOString()});if(!(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/listings/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw new Error("Failed to update listing");alert("Listing updated successfully!"),e("/my-listings")}catch(o){console.error("Failed to update listing:",o),alert("Failed to update listing. Please try again.")}finally{n(!1)}}},className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Js,{className:"w-6 h-6 mr-2"}),"Product Images"]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[u.map((e,t)=>(0,bn.jsxs)("div",{className:"relative group",children:[(0,bn.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),(0,bn.jsx)("button",{type:"button",onClick:()=>(e=>{d(t=>t.filter((t,r)=>r!==e)),h(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]},t)),(0,bn.jsxs)("label",{className:"w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[(0,bn.jsx)(Xs,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,bn.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Add Images"}),(0,bn.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return void alert("Please select only image files");if(e.size>5242880)return void alert("File size must be less than 5MB");d(t=>[...t,e]);const t=new FileReader;t.onload=e=>{h(t=>[...t,e.target.result])},t.readAsDataURL(e)})},className:"hidden"})]})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload up to 8 images. First image will be the main photo. Max 5MB per image."})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Zs,{className:"w-6 h-6 mr-2"}),"Basic Information"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),(0,bn.jsx)("input",{type:"text",name:"title",value:f.title,onChange:_,placeholder:"Enter item title",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),(0,bn.jsx)("textarea",{name:"description",value:f.description,onChange:_,placeholder:"Provide a detailed description of your item...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price * (\u20ac)"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"\u20ac"}),(0,bn.jsx)("input",{type:"number",name:"price",value:f.price,onChange:_,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,bn.jsx)("select",{name:"category",value:f.category,onChange:_,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:["Catalysts","Electronics","Fashion & Clothing","Home & Garden","Sports & Outdoors","Books & Media","Music & Instruments","Automotive","Real Estate","Jobs & Services","Collectibles & Antiques","Health & Beauty","Toys & Games"].map(e=>(0,bn.jsx)("option",{value:e,children:e},e))})]})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,bn.jsx)(os,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,bn.jsx)("input",{type:"checkbox",checked:m,onChange:e=>{return t=e.target.checked,g(t),void(t&&p(e=>(0,Fe.A)((0,Fe.A)({},e),{},{street:x.street,post_code:x.post_code,city:x.city,country:x.country})));var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,bn.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)(Yi,{className:"w-3 h-3 mr-1"}),"Use profile address"]})]})]}),m?(0,bn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,bn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg mr-3",children:(0,bn.jsx)(Yi,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Using Profile Address"}),(0,bn.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Address from your profile settings"})]})]}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-100 dark:border-blue-700",children:x.street||x.city?(0,bn.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[x.street&&(0,bn.jsx)("div",{children:x.street}),(0,bn.jsxs)("div",{className:"flex space-x-2",children:[x.post_code&&(0,bn.jsx)("span",{children:x.post_code}),x.city&&(0,bn.jsx)("span",{children:x.city})]}),x.country&&(0,bn.jsx)("div",{children:x.country})]}):(0,bn.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No address in profile. Please uncheck to enter address manually."})})]}):(0,bn.jsxs)("div",{className:"space-y-4 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,bn.jsx)("input",{type:"text",name:"street",value:f.street,onChange:_,placeholder:"Enter street address",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,bn.jsx)("input",{type:"text",name:"post_code",value:f.post_code,onChange:_,placeholder:"Postal/ZIP code",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),(0,bn.jsx)("input",{type:"text",name:"city",value:f.city,onChange:_,placeholder:"Enter city",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),(0,bn.jsx)("input",{type:"text",name:"country",value:f.country,onChange:_,placeholder:"Enter country",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,bn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Shipping & Delivery"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Options"}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsxs)("label",{className:"flex items-center",children:[(0,bn.jsx)("input",{type:"radio",name:"shipping",value:"pickup",checked:"pickup"===f.shipping,onChange:_,className:"mr-2"}),(0,bn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Local pickup only"})]}),(0,bn.jsxs)("label",{className:"flex items-center",children:[(0,bn.jsx)("input",{type:"radio",name:"shipping",value:"shipping",checked:"shipping"===f.shipping,onChange:_,className:"mr-2"}),(0,bn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"I can ship this item"})]}),(0,bn.jsxs)("label",{className:"flex items-center",children:[(0,bn.jsx)("input",{type:"radio",name:"shipping",value:"both",checked:"both"===f.shipping,onChange:_,className:"mr-2"}),(0,bn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Both pickup and shipping"})]})]})]}),("shipping"===f.shipping||"both"===f.shipping)&&(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Cost (\u20ac)"}),(0,bn.jsx)("input",{type:"number",name:"shipping_cost",value:f.shipping_cost,onChange:_,placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(no,{className:"w-6 h-6 mr-2"}),"Tags & Features"]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (Optional)"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Add a tag",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),S())}),(0,bn.jsx)("button",{type:"button",onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:(0,bn.jsx)(Mi,{className:"w-4 h-4"})})]}),(0,bn.jsx)("div",{className:"flex flex-wrap gap-2",children:f.tags.map((e,t)=>(0,bn.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm",children:[e,(0,bn.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>(0,Fe.A)((0,Fe.A)({},t),{},{tags:t.tags.filter(t=>t!==e)}))})(e),className:"ml-2 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:(0,bn.jsx)(Ui,{className:"w-3 h-3"})})]},t))})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Key Features (Optional)"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("input",{type:"text",value:w,onChange:e=>j(e.target.value),placeholder:"Add a feature",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),A())}),(0,bn.jsx)("button",{type:"button",onClick:A,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:(0,bn.jsx)(Mi,{className:"w-4 h-4"})})]}),(0,bn.jsx)("div",{className:"space-y-2",children:f.features.map((e,t)=>(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,bn.jsx)("span",{className:"text-green-800 dark:text-green-200",children:e}),(0,bn.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>(0,Fe.A)((0,Fe.A)({},t),{},{features:t.features.filter(t=>t!==e)}))})(e),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:(0,bn.jsx)(qi,{className:"w-4 h-4"})})]},t))})]})]})]}),(0,bn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ready to update your listing?"}),(0,bn.jsx)("p",{className:"text-blue-100",children:"Review all information above and click update to save your changes."})]}),(0,bn.jsxs)("div",{className:"flex space-x-4",children:[(0,bn.jsx)(Le,{to:"/my-listings",className:"px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-lg font-medium transition-colors",children:"Cancel"}),(0,bn.jsx)("button",{type:"submit",disabled:r,className:"px-8 py-3 bg-white/20 hover:bg-white/30 disabled:bg-white/10 text-white rounded-lg font-semibold transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:r?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Updating..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(eo,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Update Listing"})]})})]})]})})]})]})})},io=_i("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),so=_i("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),oo=_i("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const lo=function(){const{user:e}=Cn(),{showToast:t}=Hn(),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{e&&c()},[e]);const c=async()=>{if(e){s(!0);try{const r=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/seller/").concat(e.id));if(r.ok){const e=await r.json();n(e)}else console.error("Failed to fetch pending orders"),t("Failed to load pending orders","error")}catch(r){console.error("Error fetching pending orders:",r),t("Failed to load pending orders","error")}finally{s(!1)}}},d=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const n=Math.floor(r/36e5),a=Math.floor(r%36e5/6e4);if(n>24){const e=Math.floor(n/24),t=n%24;return"".concat(e,"d ").concat(t,"h remaining")}return n>0?"".concat(n,"h ").concat(a,"m remaining"):"".concat(a,"m remaining")},u=e=>{const t=new Date,r=(new Date(e).getTime()-t.getTime())/36e5;return r<=0?"text-red-600 dark:text-red-400":r<=6?"text-orange-600 dark:text-orange-400":r<=24?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"};return a?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading pending sales..."})]})}):(0,bn.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Pending Sales"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage incoming buy requests for your listings"})]}),(0,bn.jsxs)("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,bn.jsx)(Ii,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Refresh"})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,bn.jsx)(Fi,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Pending Requests"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,bn.jsx)(io,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",r.reduce((e,t)=>{var r;return e+((null===(r=t.listing)||void 0===r?void 0:r.price)||0)},0).toFixed(2)]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Potential Revenue"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,bn.jsx)(zi,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.filter(e=>{const t=new Date(e.expires_at),r=new Date;return(t.getTime()-r.getTime())/36e5<=6}).length}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Expiring Soon"})]})]})})]}),0===r.length?(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)(Fi,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No pending buy requests"}),(0,bn.jsx)("p",{className:"text-gray-500 dark:text-gray-500",children:"When someone wants to buy your items, they'll appear here."})]}):(0,bn.jsx)("div",{className:"space-y-6",children:r.map(r=>{var n,a,i,s,h,f,p;return(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,bn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,bn.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0",children:null!==(n=r.listing)&&void 0!==n&&n.image?(0,bn.jsx)("img",{src:r.listing.image,alt:r.listing.title,className:"w-full h-full object-cover"}):(0,bn.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,bn.jsx)(Fi,{className:"w-8 h-8 text-gray-400"})})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:(null===(a=r.listing)||void 0===a?void 0:a.title)||"Unknown Item"}),(0,bn.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:["\u20ac",(null===(i=r.listing)||void 0===i||null===(s=i.price)||void 0===s?void 0:s.toFixed(2))||"0.00"]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Yi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:(null===(h=r.buyer)||void 0===h?void 0:h.full_name)||(null===(f=r.buyer)||void 0===f?void 0:f.username)||"Unknown Buyer"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(is,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:(null===(p=r.buyer)||void 0===p?void 0:p.email)||"N/A"})]})]})]})]}),(0,bn.jsxs)("div",{className:"text-right",children:[(0,bn.jsxs)("div",{className:"text-sm font-medium ".concat(u(r.expires_at)),children:[(0,bn.jsx)(zi,{className:"w-4 h-4 inline mr-1"}),d(r.expires_at)]}),(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(0,bn.jsx)(so,{className:"w-3 h-3 inline mr-1"}),"Requested ",new Date(r.created_at).toLocaleDateString()]})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("button",{onClick:()=>(async r=>{l(r);try{const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})}),a=await n.json();n.ok?(t("Buy request rejected. The buyer has been notified.","info"),c()):t(a.detail||"Failed to reject request","error")}catch(n){console.error("Error rejecting order:",n),t("Failed to reject request. Please try again.","error")}finally{l(null)}})(r.id),disabled:o===r.id,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",children:[(0,bn.jsx)(oo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Reject"})]}),(0,bn.jsxs)("button",{onClick:()=>(async r=>{l(r);try{const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/").concat(r,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})}),a=await n.json();n.ok?(t("Buy request approved! The buyer has been notified.","success"),c()):410===n.status?(t("This request has expired","warning"),c()):t(a.detail||"Failed to approve request","error")}catch(n){console.error("Error approving order:",n),t("Failed to approve request. Please try again.","error")}finally{l(null)}})(r.id),disabled:o===r.id,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,bn.jsx)(ps,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:o===r.id?"Processing...":"Approve Sale"})]})]})]})},r.id)})})]})},co=_i("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),uo=_i("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ho=_i("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const fo=function(){const{user:e}=Cn(),{showToast:t}=Hn(),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)("buyer"),[f,p]=(0,i.useState)("all"),[m,g]=(0,i.useState)("newest");(0,i.useEffect)(()=>{e&&x()},[e]);const x=async()=>{if(e){l(!0);try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/buyer/").concat(e.id));if(t.ok){const e=await t.json();n(e)}const r=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/seller/").concat(e.id));if(r.ok){const e=await r.json();s(e)}}catch(r){console.error("Error fetching orders:",r),t("Failed to load requests","error")}finally{l(!1)}}},y=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const n=Math.floor(r/36e5),a=Math.floor(r%36e5/6e4);if(n>24){const e=Math.floor(n/24),t=n%24;return"".concat(e,"d ").concat(t,"h")}return n>0?"".concat(n,"h ").concat(a,"m"):"".concat(a,"m")},b=e=>{switch(e){case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"approved":return"text-green-600 bg-green-50 border-green-200";case"rejected":return"text-red-600 bg-red-50 border-red-200";case"expired":default:return"text-gray-600 bg-gray-50 border-gray-200";case"cancelled":return"text-orange-600 bg-orange-50 border-orange-200"}},v=e=>{switch(e){case"pending":return(0,bn.jsx)(zi,{className:"w-4 h-4"});case"approved":return(0,bn.jsx)(ps,{className:"w-4 h-4"});case"rejected":case"cancelled":return(0,bn.jsx)(oo,{className:"w-4 h-4"});case"expired":return(0,bn.jsx)(so,{className:"w-4 h-4"});default:return(0,bn.jsx)(Fi,{className:"w-4 h-4"})}},w=(e,t)=>{let r=e;return"all"!==f&&(r=r.filter(e=>e.status===f)),r.sort((e,t)=>{var r,n,a,i;switch(m){case"oldest":return new Date(e.created_at)-new Date(t.created_at);case"price_high":return((null===(r=t.listing)||void 0===r?void 0:r.price)||0)-((null===(n=e.listing)||void 0===n?void 0:n.price)||0);case"price_low":return((null===(a=e.listing)||void 0===a?void 0:a.price)||0)-((null===(i=t.listing)||void 0===i?void 0:i.price)||0);default:return new Date(t.created_at)-new Date(e.created_at)}}),r},j=(()=>{const e=[...r,...a];return{total:e.length,pending:e.filter(e=>"pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length,totalValue:e.reduce((e,t)=>{var r;return e+((null===(r=t.listing)||void 0===r?void 0:r.price)||0)},0)}})(),k=w("buyer"===u?r:"seller"===u?a:[...r,...a]);return o?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading all requests..."})]})}):(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,bn.jsx)(co,{className:"w-8 h-8 mr-3 text-blue-600"}),"All Requests"]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage all your buy and sell requests in one place"})]}),(0,bn.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,bn.jsx)(Ii,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Refresh"})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,bn.jsx)(Fi,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.total}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Requests"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,bn.jsx)(zi,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.pending}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Pending"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,bn.jsx)(ps,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.approved}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Approved"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,bn.jsx)(Oi,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",j.totalValue.toFixed(2)]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Value"})]})]})})]}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,bn.jsxs)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,bn.jsxs)("button",{onClick:()=>h("buyer"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("buyer"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["My Purchases (",r.length,")"]}),(0,bn.jsxs)("button",{onClick:()=>h("seller"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("seller"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["My Sales (",a.length,")"]}),(0,bn.jsxs)("button",{onClick:()=>h("all"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("all"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["All Requests (",j.total,")"]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(uo,{className:"w-4 h-4 text-gray-500"}),(0,bn.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"all",children:"All Status"}),(0,bn.jsx)("option",{value:"pending",children:"Pending"}),(0,bn.jsx)("option",{value:"approved",children:"Approved"}),(0,bn.jsx)("option",{value:"rejected",children:"Rejected"}),(0,bn.jsx)("option",{value:"expired",children:"Expired"}),(0,bn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(ho,{className:"w-4 h-4 text-gray-500"}),(0,bn.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"newest",children:"Newest First"}),(0,bn.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,bn.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,bn.jsx)("option",{value:"price_low",children:"Price: Low to High"})]})]})]})]})}),0===k.length?(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)(Fi,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No requests found"}),(0,bn.jsxs)("p",{className:"text-gray-500 dark:text-gray-500",children:["buyer"===u&&"You haven't made any purchase requests yet.","seller"===u&&"You haven't received any sale requests yet.","all"===u&&"No requests match your current filters."]})]}):(0,bn.jsx)("div",{className:"space-y-6",children:k.map(n=>{var a,i,s,o,l,u,h,f;const p=r.some(e=>e.id===n.id);return(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,bn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,bn.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0",children:null!==(a=n.listing)&&void 0!==a&&a.image?(0,bn.jsx)("img",{src:n.listing.image,alt:n.listing.title,className:"w-full h-full object-cover"}):(0,bn.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,bn.jsx)(Fi,{className:"w-8 h-8 text-gray-400"})})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null===(i=n.listing)||void 0===i?void 0:i.title)||"Unknown Item"}),(0,bn.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(b(n.status)),children:[v(n.status),(0,bn.jsx)("span",{className:"ml-1 capitalize",children:n.status})]}),(0,bn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(p?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:p?"Purchase":"Sale"})]}),(0,bn.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:["\u20ac",(null===(s=n.listing)||void 0===s||null===(o=s.price)||void 0===o?void 0:o.toFixed(2))||"0.00"]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Yi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:p?"Seller: ".concat((null===(l=n.seller)||void 0===l?void 0:l.username)||"Unknown"):"Buyer: ".concat((null===(u=n.buyer)||void 0===u?void 0:u.username)||"Unknown")})]}),"approved"===n.status&&(null===(h=n.seller)||void 0===h?void 0:h.email)&&(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(is,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:n.seller.email})]})]})]})]}),(0,bn.jsxs)("div",{className:"text-right",children:["pending"===n.status&&(0,bn.jsxs)("div",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400 mb-1",children:[(0,bn.jsx)(zi,{className:"w-4 h-4 inline mr-1"}),y(n.expires_at)," remaining"]}),(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(0,bn.jsx)(so,{className:"w-3 h-3 inline mr-1"}),"Created ",new Date(n.created_at).toLocaleDateString()]}),n.approved_at&&(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Approved ",new Date(n.approved_at).toLocaleDateString()]})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:["pending"===n.status&&!p&&(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(n.ok)t("Request rejected","info"),x();else{const e=await n.json();t(e.detail||"Failed to reject request","error")}}catch(n){console.error("Error rejecting order:",n),t("Failed to reject request","error")}finally{d(null)}})(n.id),disabled:c===n.id,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",children:[(0,bn.jsx)(oo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Reject"})]}),(0,bn.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/").concat(r,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(n.ok)t("Request approved successfully!","success"),x();else{const e=await n.json();t(e.detail||"Failed to approve request","error")}}catch(n){console.error("Error approving order:",n),t("Failed to approve request","error")}finally{d(null)}})(n.id),disabled:c===n.id,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,bn.jsx)(ps,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:c===n.id?"Processing...":"Approve Sale"})]})]}),"pending"===n.status&&p&&(0,bn.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/").concat(r,"/cancel"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_id:e.id})});if(n.ok)t("Request cancelled successfully","success"),x();else{const e=await n.json();t(e.detail||"Failed to cancel request","error")}}catch(n){console.error("Error cancelling order:",n),t("Failed to cancel request","error")}finally{d(null)}})(n.id),disabled:c===n.id,className:"flex items-center space-x-2 px-4 py-2 border border-red-300 text-red-700 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:[(0,bn.jsx)(oo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Cancel Request"})]}),(0,bn.jsxs)(Le,{to:"/product/".concat(null===(f=n.listing)||void 0===f?void 0:f.id),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"View Listing"})]}),"approved"===n.status&&(0,bn.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,bn.jsx)(Pi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Message"})]})]})]})},n.id)})})]})},po=_i("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),mo=_i("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),go=_i("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),xo=_i("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),yo=_i("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),bo=_i("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),vo=_i("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),wo=_i("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),jo=_i("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ko=_i("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),No=_i("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),_o=_i("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),So=_i("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Ao=_i("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Oo=_i("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),Eo=_i("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Co=_i("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const Po=new class{async getDashboard(){try{return(await dn.get("".concat(pn.ADMIN.DASHBOARD,"?_t=").concat(Date.now()))).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch dashboard data")}}async getKPIs(){try{return(await dn.get(pn.ADMIN.KPIS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch KPIs")}}async getAllUsers(){try{return(await dn.get(pn.ADMIN.USERS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch users")}}async updateUser(e,t){try{return(await dn.put(pn.ADMIN.USERS.replace("{user_id}",e),t)).data}catch(a){var r,n;throw new Error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Failed to update user")}}async deleteUser(e){try{await dn.delete("".concat(pn.ADMIN.USERS,"/").concat(e))}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete user")}}async suspendUser(e){try{return(await dn.put("".concat(pn.ADMIN.USERS,"/").concat(e,"/suspend"))).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to suspend user")}}async activateUser(e){try{return(await dn.put("".concat(pn.ADMIN.USERS,"/").concat(e,"/activate"))).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to activate user")}}async getSettings(){try{return(await dn.get(pn.ADMIN.SETTINGS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch settings")}}async updateSettings(e){try{return(await dn.put(pn.ADMIN.SETTINGS,e)).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to update settings")}}async uploadLogo(e){try{const t=new FormData;t.append("logo",e);return(await dn.post(pn.ADMIN.LOGO,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){var t,r;throw new Error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to upload logo")}}async getSystemStats(){try{return(await dn.get("".concat(pn.ADMIN.DASHBOARD,"/stats"))).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch system stats")}}};var To=r(2823),Mo=r.n(To);const Lo=_i("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Do=_i("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ro=_i("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Io=_i("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Fo=_i("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Bo=function(){var e,t,r,n,a,s,o,l,c;const[d,u]=(0,i.useState)({seo:{title:"Cataloro - Ultra-Modern Marketplace Platform",description:"Experience the future of online commerce with cutting-edge marketplace featuring real-time messaging, intelligent notifications, and seamless transactions.",keywords:"marketplace, ecommerce, online shopping, buy sell, real-time messaging",ogImage:"",canonicalUrl:"/info"},hero:{title:"Cataloro",subtitle:"Ultra-Modern Marketplace Platform",description:"Experience the future of online commerce with our cutting-edge marketplace featuring real-time messaging, intelligent notifications, advanced search, and seamless transactions.",primaryButtonText:"Get Started",primaryButtonLink:"/login",secondaryButtonText:"Browse Marketplace",secondaryButtonLink:"/browse",backgroundStyle:"gradient",backgroundImage:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center",heroImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center",showHeroImage:!0,heroImagePosition:"right",showLogo:!0,logoAnimation:!0,showVideo:!1,videoUrl:""},stats:[{label:"Active Users",value:"10K+",icon:"users",color:"blue"},{label:"Products Listed",value:"50K+",icon:"package",color:"green"},{label:"Successful Deals",value:"25K+",icon:"trending",color:"purple"},{label:"User Rating",value:"4.9\u2605",icon:"star",color:"yellow"}],features:{title:"Platform Features",description:"Discover all the powerful features that make our marketplace the most advanced platform for buying and selling.",backgroundImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=1080&fit=crop&crop=center",showIcons:!0,categories:[{id:"marketplace-core",name:"Marketplace Core",description:"Essential marketplace functionality with advanced search and product management.",icon:"store",color:"blue-purple",features:["Real-time search with auto-suggestions","Advanced filtering and categorization","Smart product recommendations","Price comparison tools"]},{id:"shopping-experience",name:"Shopping Experience",description:"Seamless shopping with cart management, favorites, and secure transactions.",icon:"shopping-cart",color:"green-teal",features:["One-click shopping cart","Wishlist and favorites system","Secure payment processing","48-hour approval system"]},{id:"communication",name:"Communication",description:"Real-time messaging, notifications, and user profile management.",icon:"message-circle",color:"orange-red",features:["Real-time chat system","Smart notifications","User verification system","Review and rating system"]},{id:"management-tools",name:"Management Tools",description:"Comprehensive admin and user management tools with analytics.",icon:"settings",color:"purple-pink",features:["Advanced analytics dashboard","Inventory management","Bulk operations","Performance insights"]}]},testimonials:{enabled:!0,title:"What Our Users Say",description:"Join thousands of satisfied users who trust Cataloro for their marketplace needs.",items:[{id:"1",name:"Sarah Johnson",role:"Power Seller",avatar:"",content:"Cataloro has transformed how I sell online. The real-time messaging and advanced analytics have boosted my sales by 300%!",rating:5},{id:"2",name:"Mike Chen",role:"Regular Buyer",avatar:"",content:"The search functionality is incredible. I can find exactly what Im looking for in seconds. Best marketplace experience ever!",rating:5},{id:"3",name:"Emily Rodriguez",role:"Business Owner",avatar:"",content:"The admin tools and inventory management features have streamlined our entire operation. Highly recommended!",rating:5}]},cta:{title:"Ready to Transform Your Trading?",description:"Join thousands of users experiencing the future of online commerce. Create your account today and start buying or selling with confidence.",primaryButtonText:"Start Your Journey",primaryButtonLink:"/login",secondaryButtonText:"Explore Platform",secondaryButtonLink:"/browse",backgroundStyle:"gradient",backgroundImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center",showStats:!0},about:{enabled:!0,title:"About Cataloro",subtitle:"Revolutionizing Digital Commerce",description:"Founded with the vision to transform online trading, we combine cutting-edge technology with user-centric design to create the ultimate marketplace experience.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center",features:["AI-Powered Matching","Real-time Communication","Advanced Security","Global Reach"]},"about-html":{enabled:!0,title:"About Page HTML Editor",htmlContent:'<div class="about-page">\n        <h1>Welcome to Cataloro</h1>\n        <p>This is the about page content. You can edit this HTML directly.</p>\n        <div class="features">\n          <h2>Our Features</h2>\n          <ul>\n            <li>Real-time messaging</li>\n            <li>Advanced search</li>\n            <li>Secure payments</li>\n          </ul>\n        </div>\n      </div>',cssStyles:"/* About Page Styles */\n.about-page {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 2rem;\n  font-family: system-ui, -apple-system, sans-serif;\n}\n\n.about-page h1 {\n  color: #1f2937;\n  font-size: 2.5rem;\n  margin-bottom: 1rem;\n}\n\n.about-page p {\n  color: #6b7280;\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n}\n\n.features h2 {\n  color: #374151;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n}\n\n.features ul {\n  list-style-type: disc;\n  padding-left: 1.5rem;\n}\n\n.features li {\n  color: #6b7280;\n  margin-bottom: 0.5rem;\n}"},team:{enabled:!0,title:"Meet Our Team",description:"Passionate experts dedicated to revolutionizing digital commerce.",backgroundImage:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&h=1080&fit=crop&crop=center",members:[]},footer:{companyDescription:"Cataloro is the future of online commerce, providing cutting-edge marketplace solutions for modern buyers and sellers.",socialLinks:{twitter:"",facebook:"",instagram:"",linkedin:""},footerLinks:[{title:"About",url:"/info"},{title:"Contact",url:"/contact"},{title:"Privacy",url:"/privacy"},{title:"Terms",url:"/terms"}]}}),[h,f]=(0,i.useState)("seo"),[p,m]=(0,i.useState)(!1),[g,x]=(0,i.useState)(null),[y,b]=(0,i.useState)(!1),[v,w]=(0,i.useState)("desktop"),[j,k]=(0,i.useState)(!1),N={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image","video"],["code-block"],["clean"]]},_=["header","bold","italic","underline","strike","blockquote","color","background","list","bullet","indent","align","link","image","video","code-block"],S=async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/content"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))}});if(e.ok){const t=await e.json();u(e=>(0,Fe.A)((0,Fe.A)({},e),t))}}catch(e){console.error("Load error:",e)}};(0,i.useEffect)(()=>{const e=setInterval(()=>{d&&localStorage.setItem("cataloro_cms_draft",JSON.stringify(d))},3e4);return()=>clearInterval(e)},[d]),(0,i.useEffect)(()=>{S();const e=localStorage.getItem("cataloro_cms_draft");if(e)try{const t=JSON.parse(e);u(e=>(0,Fe.A)((0,Fe.A)({},e),t))}catch(t){console.error("Error loading draft:",t)}},[]);const A=(e,t)=>{u(r=>(0,Fe.A)((0,Fe.A)({},r),{},{seo:(0,Fe.A)((0,Fe.A)({},r.seo),{},{[e]:t})}))},O=(e,t)=>{u(r=>(0,Fe.A)((0,Fe.A)({},r),{},{hero:(0,Fe.A)((0,Fe.A)({},r.hero),{},{[e]:t})}))},E=(e,t,r)=>{u(n=>(0,Fe.A)((0,Fe.A)({},n),{},{stats:n.stats.map((n,a)=>a===e?(0,Fe.A)((0,Fe.A)({},n),{},{[t]:r}):n)}))},C=(e,t)=>{u(r=>(0,Fe.A)((0,Fe.A)({},r),{},{features:(0,Fe.A)((0,Fe.A)({},r.features),{},{[e]:t})}))},P=(e,t,r)=>{u(n=>(0,Fe.A)((0,Fe.A)({},n),{},{features:(0,Fe.A)((0,Fe.A)({},n.features),{},{categories:n.features.categories.map(n=>n.id===e?(0,Fe.A)((0,Fe.A)({},n),{},{[t]:r}):n)})}))},T=(e,t)=>{u(r=>(0,Fe.A)((0,Fe.A)({},r),{},{testimonials:(0,Fe.A)((0,Fe.A)({},r.testimonials),{},{[e]:t})}))},M=(e,t,r)=>{u(n=>(0,Fe.A)((0,Fe.A)({},n),{},{testimonials:(0,Fe.A)((0,Fe.A)({},n.testimonials),{},{items:n.testimonials.items.map(n=>n.id===e?(0,Fe.A)((0,Fe.A)({},n),{},{[t]:r}):n)})}))},L=(e,t)=>{u(r=>(0,Fe.A)((0,Fe.A)({},r),{},{cta:(0,Fe.A)((0,Fe.A)({},r.cta),{},{[e]:t})}))},D=(e,t)=>{u(r=>(0,Fe.A)((0,Fe.A)({},r),{},{about:(0,Fe.A)((0,Fe.A)({},r.about),{},{[e]:t})}))},R=(e,t)=>{u(r=>(0,Fe.A)((0,Fe.A)({},r),{},{footer:(0,Fe.A)((0,Fe.A)({},r.footer),{},{[e]:t})}))},I=(e,t)=>{u(r=>(0,Fe.A)((0,Fe.A)({},r),{},{"about-html":(0,Fe.A)((0,Fe.A)({},r["about-html"]),{},{[e]:t})}))},F=async(e,t,r)=>{k(!0);try{const n=new FormData;n.append("image",e),n.append("section",t),n.append("field",r);const a=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:n});if(!a.ok)throw new Error("Upload failed");{const e=await a.json(),n="".concat("https://basket-loader.preview.emergentagent.com").concat(e.imageUrl);"seo"===t?A(r,n):"hero"===t?u(e=>(0,Fe.A)((0,Fe.A)({},e),{},{hero:(0,Fe.A)((0,Fe.A)({},e.hero),{},{[r]:n})})):"about"===t?u(e=>(0,Fe.A)((0,Fe.A)({},e),{},{about:(0,Fe.A)((0,Fe.A)({},e.about),{},{[r]:n})})):"features"===t&&u(e=>(0,Fe.A)((0,Fe.A)({},e),{},{features:(0,Fe.A)((0,Fe.A)({},e.features),{},{[r]:n})})),x("upload-success"),setTimeout(()=>x(null),3e3)}}catch(n){console.error("Image upload error:",n)}finally{k(!1)}},B=[{id:"seo",name:"SEO & Meta",icon:es},{id:"hero",name:"Hero Section",icon:ko},{id:"stats",name:"Statistics",icon:ts},{id:"about",name:"About Section",icon:rs},{id:"about-html",name:"About Page HTML",icon:Zs},{id:"features",name:"Features",icon:ns},{id:"testimonials",name:"Testimonials",icon:mo},{id:"cta",name:"Call to Action",icon:Lo},{id:"footer",name:"Footer",icon:Si}];return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center space-x-3",children:[(0,bn.jsx)(Do,{className:"w-8 h-8 text-blue-600"}),(0,bn.jsx)("span",{children:"Advanced Content Management"})]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Comprehensive content management with SEO, media, and advanced editing capabilities"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Auto-save: Active"}),g&&(0,bn.jsxs)("div",{className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat("success"===g?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["success"===g?(0,bn.jsx)(ps,{className:"w-4 h-4"}):(0,bn.jsx)(ms,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"text-sm font-medium",children:"success"===g?"Content saved!":"Save failed"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,bn.jsx)("button",{onClick:()=>w("desktop"),className:"p-2 rounded transition-colors ".concat("desktop"===v?"bg-white dark:bg-gray-700 shadow":""),children:(0,bn.jsx)(Ns,{className:"w-4 h-4"})}),(0,bn.jsx)("button",{onClick:()=>w("mobile"),className:"p-2 rounded transition-colors ".concat("mobile"===v?"bg-white dark:bg-gray-700 shadow":""),children:(0,bn.jsx)(yo,{className:"w-4 h-4"})})]}),(0,bn.jsxs)("button",{onClick:()=>b(!y),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:y?"Edit Mode":"Preview"})]}),(0,bn.jsxs)("button",{onClick:()=>window.open("/info","_blank"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-colors duration-200",children:[(0,bn.jsx)(Ro,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Live Preview"})]}),(0,bn.jsxs)("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,bn.jsx)(Ii,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Reload"})]}),(0,bn.jsxs)("button",{onClick:async()=>{m(!0),x(null);try{if(!(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/content"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify((0,Fe.A)((0,Fe.A)({},d),{},{lastUpdated:(new Date).toISOString(),version:Date.now()}))})).ok)throw new Error("Failed to save content");x("success"),setTimeout(()=>x(null),3e3)}catch(e){console.error("Save error:",e),x("error"),setTimeout(()=>x(null),3e3)}finally{m(!1)}},disabled:p,className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[(0,bn.jsx)(eo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:p?"Saving...":"Save Changes"})]})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,bn.jsx)("div",{className:"lg:col-span-1",children:(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6 backdrop-blur-2xl border-white/30 sticky top-6",children:[(0,bn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,bn.jsx)(Zs,{className:"w-5 h-5 text-blue-600"}),(0,bn.jsx)("span",{children:"Content Sections"})]}),(0,bn.jsx)("div",{className:"space-y-2",children:B.map(e=>{const t=e.icon;return(0,bn.jsxs)("button",{onClick:()=>f(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat(h===e.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 scale-105":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,bn.jsx)(t,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"font-medium",children:e.name})]},e.id)})}),(0,bn.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/20",children:[(0,bn.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Quick Actions"}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsxs)("button",{onClick:()=>window.open("/info","_blank"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,bn.jsx)(Ro,{className:"w-3 h-3"}),(0,bn.jsx)("span",{children:"View Live Site"})]}),(0,bn.jsxs)("button",{onClick:()=>{const e=JSON.stringify(d,null,2);navigator.clipboard.writeText(e),alert("Content copied to clipboard!")},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,bn.jsx)(Io,{className:"w-3 h-3"}),(0,bn.jsx)("span",{children:"Copy Content"})]})]})]})]})}),(0,bn.jsx)("div",{className:"lg:col-span-3",children:(0,bn.jsxs)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30 min-h-[600px]",children:["seo"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,bn.jsx)(es,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"SEO & Meta Tags"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Page Title (SEO)"}),(0,bn.jsx)("input",{type:"text",value:d.seo.title,onChange:e=>A("title",e.target.value),className:"cataloro-input",placeholder:"Cataloro - Ultra-Modern Marketplace Platform"}),(0,bn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Max 60 characters recommended. Current: ",d.seo.title.length]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Meta Description"}),(0,bn.jsx)("textarea",{value:d.seo.description,onChange:e=>A("description",e.target.value),className:"cataloro-input h-24 resize-none",placeholder:"Experience the future of online commerce..."}),(0,bn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Max 160 characters recommended. Current: ",d.seo.description.length]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Keywords (comma-separated)"}),(0,bn.jsx)("input",{type:"text",value:d.seo.keywords,onChange:e=>A("keywords",e.target.value),className:"cataloro-input",placeholder:"marketplace, ecommerce, online shopping, buy sell"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Open Graph Image URL"}),(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("input",{type:"text",value:d.seo.ogImage,onChange:e=>A("ogImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://example.com/og-image.jpg"}),(0,bn.jsx)("button",{onClick:()=>document.getElementById("og-image-upload").click(),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",disabled:j,children:(0,bn.jsx)(Xs,{className:"w-4 h-4"})}),(0,bn.jsx)("input",{id:"og-image-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"seo","ogImage"),className:"hidden"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Canonical URL"}),(0,bn.jsx)("input",{type:"text",value:d.seo.canonicalUrl,onChange:e=>A("canonicalUrl",e.target.value),className:"cataloro-input",placeholder:"/info"})]})]})]})]}),"hero"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,bn.jsx)(ko,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Hero Section with Images"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Main Title"}),(0,bn.jsx)("input",{type:"text",value:d.hero.title,onChange:e=>O("title",e.target.value),className:"cataloro-input",placeholder:"Cataloro"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Subtitle"}),(0,bn.jsx)("input",{type:"text",value:d.hero.subtitle,onChange:e=>O("subtitle",e.target.value),className:"cataloro-input",placeholder:"The Future of Online Marketplace"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),(0,bn.jsx)(Mo(),{value:d.hero.description,onChange:e=>O("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,bn.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,bn.jsx)(Js,{className:"w-5 h-5 text-blue-600"}),(0,bn.jsx)("span",{children:"Hero PNG/Image (Foreground)"})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:d.hero.showHeroImage||!1,onChange:e=>O("showHeroImage",e.target.checked),className:"rounded border-gray-300"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Show Hero Image"})]}),d.hero.showHeroImage&&(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Position:"}),(0,bn.jsxs)("select",{value:d.hero.heroImagePosition||"right",onChange:e=>O("heroImagePosition",e.target.value),className:"text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded px-2 py-1",children:[(0,bn.jsx)("option",{value:"left",children:"Left"}),(0,bn.jsx)("option",{value:"right",children:"Right"})]})]})]}),d.hero.showHeroImage&&(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Hero Image URL (PNG, JPG, or any format)"}),(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("input",{type:"url",value:d.hero.heroImage||"",onChange:e=>O("heroImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600"}),(0,bn.jsxs)("button",{onClick:()=>document.getElementById("hero-image-upload").click(),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-colors flex items-center space-x-2 shadow-lg",disabled:j,children:[(0,bn.jsx)(Xs,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Upload PNG"})]}),(0,bn.jsx)("input",{id:"hero-image-upload",type:"file",accept:"image/*,.png,.jpg,.jpeg,.gif,.webp",onChange:e=>e.target.files[0]&&F(e.target.files[0],"hero","heroImage"),className:"hidden"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Supports PNG, JPG, JPEG, GIF, WebP. Recommended: 800x600px or higher."})]}),d.hero.heroImage&&(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("div",{className:"relative bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg p-4",children:[(0,bn.jsx)("img",{src:d.hero.heroImage,alt:"Hero Image Preview",className:"w-full h-48 object-contain rounded-lg"}),(0,bn.jsx)("button",{onClick:()=>O("heroImage",""),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",title:"Remove Image",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}),(0,bn.jsx)("div",{className:"mt-2 text-center",children:(0,bn.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Preview - Position: ",d.hero.heroImagePosition||"right"]})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select Hero Images"}),(0,bn.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1556761175-4b46a572b786?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=600&fit=crop&crop=center"].map((e,t)=>(0,bn.jsxs)("button",{onClick:()=>O("heroImage",e),className:"relative group",title:"Hero Image ".concat(t+1),children:[(0,bn.jsx)("img",{src:e,alt:"Hero ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity border-2 border-transparent group-hover:border-blue-500"}),(0,bn.jsx)("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,bn.jsx)(ps,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Professional stock images optimized for hero sections"})]})]})]})]}),(0,bn.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,bn.jsx)(jo,{className:"w-5 h-5 text-purple-600"}),(0,bn.jsx)("span",{children:"Hero Background Image"})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Background Image URL"}),(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("input",{type:"url",value:d.hero.backgroundImage||"",onChange:e=>O("backgroundImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080"}),(0,bn.jsxs)("button",{onClick:()=>document.getElementById("hero-bg-upload").click(),className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors flex items-center space-x-2",disabled:j,children:[(0,bn.jsx)(Xs,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Upload"})]}),(0,bn.jsx)("input",{id:"hero-bg-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"hero","backgroundImage"),className:"hidden"})]})]}),d.hero.backgroundImage&&(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("img",{src:d.hero.backgroundImage,alt:"Hero Background Preview",className:"w-full h-32 object-cover rounded-lg"}),(0,bn.jsx)("button",{onClick:()=>O("backgroundImage",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select Stock Images"}),(0,bn.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&h=1080&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center"].map((e,t)=>(0,bn.jsxs)("button",{onClick:()=>O("backgroundImage",e),className:"relative group",children:[(0,bn.jsx)("img",{src:e,alt:"Stock ".concat(t+1),className:"w-full h-20 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,bn.jsx)("div",{className:"absolute inset-0 bg-purple-600/0 group-hover:bg-purple-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,bn.jsx)(ps,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Primary Button"}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("input",{type:"text",value:d.hero.primaryButtonText,onChange:e=>O("primaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Start Trading Now"}),(0,bn.jsx)("input",{type:"text",value:d.hero.primaryButtonLink,onChange:e=>O("primaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/login"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Secondary Button"}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("input",{type:"text",value:d.hero.secondaryButtonText,onChange:e=>O("secondaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Explore Features"}),(0,bn.jsx)("input",{type:"text",value:d.hero.secondaryButtonLink,onChange:e=>O("secondaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/browse"})]})]})]}),(0,bn.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,bn.jsx)(Fo,{className:"w-5 h-5 text-green-600"}),(0,bn.jsx)("span",{children:"Hero Video (Optional)"})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:d.hero.showVideo||!1,onChange:e=>O("showVideo",e.target.checked),className:"rounded border-gray-300"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Video"})]})}),d.hero.showVideo&&(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Video URL (YouTube, Vimeo, etc.)"}),(0,bn.jsx)("input",{type:"url",value:d.hero.videoUrl||"",onChange:e=>O("videoUrl",e.target.value),className:"cataloro-input",placeholder:"https://player.vimeo.com/video/123456789"})]})]})]})]}),"about"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)(rs,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About Section"})]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(e=d.about)||void 0===e?void 0:e.enabled)||!1,onChange:e=>D("enabled",e.target.checked),className:"rounded border-gray-300"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Section"})]})]}),(null===(t=d.about)||void 0===t?void 0:t.enabled)&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,bn.jsx)("input",{type:"text",value:(null===(r=d.about)||void 0===r?void 0:r.title)||"",onChange:e=>D("title",e.target.value),className:"cataloro-input",placeholder:"About Cataloro"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Subtitle"}),(0,bn.jsx)("input",{type:"text",value:(null===(n=d.about)||void 0===n?void 0:n.subtitle)||"",onChange:e=>D("subtitle",e.target.value),className:"cataloro-input",placeholder:"Revolutionizing Digital Commerce"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),(0,bn.jsx)(Mo(),{value:(null===(a=d.about)||void 0===a?void 0:a.description)||"",onChange:e=>D("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,bn.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,bn.jsx)(Js,{className:"w-5 h-5 text-blue-600"}),(0,bn.jsx)("span",{children:"About Section Image"})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"About Image URL"}),(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("input",{type:"url",value:(null===(s=d.about)||void 0===s?void 0:s.image)||"",onChange:e=>D("image",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600"}),(0,bn.jsxs)("button",{onClick:()=>document.getElementById("about-image-upload").click(),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",disabled:j,children:[(0,bn.jsx)(Xs,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Upload"})]}),(0,bn.jsx)("input",{id:"about-image-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"about","image"),className:"hidden"})]})]}),(null===(o=d.about)||void 0===o?void 0:o.image)&&(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("img",{src:d.about.image,alt:"About Section Preview",className:"w-full h-48 object-cover rounded-lg"}),(0,bn.jsx)("button",{onClick:()=>D("image",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select About Images"}),(0,bn.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1556761175-b413da4baf72?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center"].map((e,t)=>(0,bn.jsxs)("button",{onClick:()=>D("image",e),className:"relative group",children:[(0,bn.jsx)("img",{src:e,alt:"About Stock ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,bn.jsx)("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,bn.jsx)(ps,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Key Features (one per line)"}),(0,bn.jsx)("textarea",{value:(null===(l=d.about)||void 0===l||null===(c=l.features)||void 0===c?void 0:c.join("\n"))||"",onChange:e=>D("features",e.target.value.split("\n").filter(e=>e.trim())),className:"cataloro-input h-24 resize-none",placeholder:"AI-Powered Matching\nReal-time Communication\nAdvanced Security\nGlobal Reach"})]})]})]}),"stats"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)(ts,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Statistics Section"})]}),(0,bn.jsxs)("button",{onClick:()=>{u(e=>(0,Fe.A)((0,Fe.A)({},e),{},{stats:[...e.stats,{label:"New Stat",value:"0",icon:"zap",color:"blue"}]}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Add Stat"})]})]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.stats.map((e,t)=>(0,bn.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg relative",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,bn.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["Statistic ",t+1]}),d.stats.length>1&&(0,bn.jsx)("button",{onClick:()=>(e=>{u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{stats:t.stats.filter((t,r)=>r!==e)}))})(t),className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Value"}),(0,bn.jsx)("input",{type:"text",value:e.value,onChange:e=>E(t,"value",e.target.value),className:"cataloro-input text-sm",placeholder:"10K+"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Label"}),(0,bn.jsx)("input",{type:"text",value:e.label,onChange:e=>E(t,"label",e.target.value),className:"cataloro-input text-sm",placeholder:"Active Users"})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Icon"}),(0,bn.jsxs)("select",{value:e.icon,onChange:e=>E(t,"icon",e.target.value),className:"cataloro-input text-sm",children:[(0,bn.jsx)("option",{value:"users",children:"Users"}),(0,bn.jsx)("option",{value:"package",children:"Package"}),(0,bn.jsx)("option",{value:"trending",children:"Trending"}),(0,bn.jsx)("option",{value:"star",children:"Star"}),(0,bn.jsx)("option",{value:"zap",children:"Zap"}),(0,bn.jsx)("option",{value:"target",children:"Target"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Color"}),(0,bn.jsxs)("select",{value:e.color,onChange:e=>E(t,"color",e.target.value),className:"cataloro-input text-sm",children:[(0,bn.jsx)("option",{value:"blue",children:"Blue"}),(0,bn.jsx)("option",{value:"green",children:"Green"}),(0,bn.jsx)("option",{value:"purple",children:"Purple"}),(0,bn.jsx)("option",{value:"yellow",children:"Yellow"}),(0,bn.jsx)("option",{value:"red",children:"Red"}),(0,bn.jsx)("option",{value:"pink",children:"Pink"})]})]})]})]})]},t))})]}),"features"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)(ns,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Features Section"})]}),(0,bn.jsxs)("button",{onClick:()=>{const e="category-".concat(Date.now());u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{features:(0,Fe.A)((0,Fe.A)({},t.features),{},{categories:[...t.features.categories,{id:e,name:"New Category",description:"Category description",icon:"zap",color:"blue-purple",features:["Feature 1","Feature 2"]}]})}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Add Category"})]})]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,bn.jsx)("input",{type:"text",value:d.features.title,onChange:e=>C("title",e.target.value),className:"cataloro-input",placeholder:"Platform Features"})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-4 pt-6",children:(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:d.features.showIcons,onChange:e=>C("showIcons",e.target.checked),className:"rounded border-gray-300"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Icons"})]})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Description"}),(0,bn.jsx)(Mo(),{value:d.features.description,onChange:e=>C("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Feature Categories"}),d.features.categories.map((e,t)=>(0,bn.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsxs)("h5",{className:"font-medium text-gray-900 dark:text-white",children:["Category ",t+1]}),(0,bn.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>(0,Fe.A)((0,Fe.A)({},e),{},{features:(0,Fe.A)((0,Fe.A)({},e.features),{},{categories:e.features.categories.filter(e=>e.id!==t)})}));var t},className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Category Name"}),(0,bn.jsx)("input",{type:"text",value:e.name,onChange:t=>P(e.id,"name",t.target.value),className:"cataloro-input text-sm",placeholder:"Category name"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Color Scheme"}),(0,bn.jsxs)("select",{value:e.color,onChange:t=>P(e.id,"color",t.target.value),className:"cataloro-input text-sm",children:[(0,bn.jsx)("option",{value:"blue-purple",children:"Blue to Purple"}),(0,bn.jsx)("option",{value:"green-teal",children:"Green to Teal"}),(0,bn.jsx)("option",{value:"orange-red",children:"Orange to Red"}),(0,bn.jsx)("option",{value:"purple-pink",children:"Purple to Pink"})]})]})]}),(0,bn.jsxs)("div",{className:"mb-4",children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),(0,bn.jsx)("textarea",{value:e.description,onChange:t=>P(e.id,"description",t.target.value),className:"cataloro-input text-sm h-20 resize-none",placeholder:"Category description"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Features (one per line)"}),(0,bn.jsx)("textarea",{value:e.features.join("\n"),onChange:t=>P(e.id,"features",t.target.value.split("\n").filter(e=>e.trim())),className:"cataloro-input text-sm h-24 resize-none",placeholder:"Feature 1\nFeature 2\nFeature 3"})]})]},e.id))]})]})]}),"testimonials"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)(mo,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Testimonials Section"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:d.testimonials.enabled,onChange:e=>T("enabled",e.target.checked),className:"rounded border-gray-300"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Section"})]}),(0,bn.jsxs)("button",{onClick:()=>{const e="testimonial-".concat(Date.now());u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{testimonials:(0,Fe.A)((0,Fe.A)({},t.testimonials),{},{items:[...t.testimonials.items,{id:e,name:"New User",role:"Customer",avatar:"",content:"Great experience with Cataloro!",rating:5}]})}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Add Testimonial"})]})]})]}),d.testimonials.enabled&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,bn.jsx)("input",{type:"text",value:d.testimonials.title,onChange:e=>T("title",e.target.value),className:"cataloro-input",placeholder:"What Our Users Say"})]})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Description"}),(0,bn.jsx)("textarea",{value:d.testimonials.description,onChange:e=>T("description",e.target.value),className:"cataloro-input h-20 resize-none",placeholder:"Join thousands of satisfied users..."})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Testimonials"}),d.testimonials.items.map((e,t)=>(0,bn.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsxs)("h5",{className:"font-medium text-gray-900 dark:text-white",children:["Testimonial ",t+1]}),(0,bn.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>(0,Fe.A)((0,Fe.A)({},e),{},{testimonials:(0,Fe.A)((0,Fe.A)({},e.testimonials),{},{items:e.testimonials.items.filter(e=>e.id!==t)})}));var t},className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Name"}),(0,bn.jsx)("input",{type:"text",value:e.name,onChange:t=>M(e.id,"name",t.target.value),className:"cataloro-input text-sm",placeholder:"John Doe"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Role"}),(0,bn.jsx)("input",{type:"text",value:e.role,onChange:t=>M(e.id,"role",t.target.value),className:"cataloro-input text-sm",placeholder:"Power Seller"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Rating"}),(0,bn.jsxs)("select",{value:e.rating,onChange:t=>M(e.id,"rating",parseInt(t.target.value)),className:"cataloro-input text-sm",children:[(0,bn.jsx)("option",{value:5,children:"5 Stars"}),(0,bn.jsx)("option",{value:4,children:"4 Stars"}),(0,bn.jsx)("option",{value:3,children:"3 Stars"}),(0,bn.jsx)("option",{value:2,children:"2 Stars"}),(0,bn.jsx)("option",{value:1,children:"1 Star"})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Testimonial Content"}),(0,bn.jsx)("textarea",{value:e.content,onChange:t=>M(e.id,"content",t.target.value),className:"cataloro-input text-sm h-20 resize-none",placeholder:"This platform has been amazing..."})]})]},e.id))]})]})]}),"cta"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,bn.jsx)(Lo,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Call to Action Section"})]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CTA Title"}),(0,bn.jsx)("input",{type:"text",value:d.cta.title,onChange:e=>L("title",e.target.value),className:"cataloro-input",placeholder:"Ready to Get Started?"})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-4 pt-6",children:(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:d.cta.showStats,onChange:e=>L("showStats",e.target.checked),className:"rounded border-gray-300"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Stats"})]})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CTA Description"}),(0,bn.jsx)(Mo(),{value:d.cta.description,onChange:e=>L("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Primary Button"}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("input",{type:"text",value:d.cta.primaryButtonText,onChange:e=>L("primaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Start Your Journey"}),(0,bn.jsx)("input",{type:"text",value:d.cta.primaryButtonLink,onChange:e=>L("primaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/login"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Secondary Button"}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("input",{type:"text",value:d.cta.secondaryButtonText,onChange:e=>L("secondaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Explore Platform"}),(0,bn.jsx)("input",{type:"text",value:d.cta.secondaryButtonLink,onChange:e=>L("secondaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/browse"})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Background Style"}),(0,bn.jsxs)("select",{value:d.cta.backgroundStyle,onChange:e=>L("backgroundStyle",e.target.value),className:"cataloro-input",children:[(0,bn.jsx)("option",{value:"gradient",children:"Gradient"}),(0,bn.jsx)("option",{value:"solid",children:"Solid Color"}),(0,bn.jsx)("option",{value:"image",children:"Background Image"})]})]})]})]}),"about-html"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,bn.jsx)(Zs,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About Page HTML Editor"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"HTML Content"}),(0,bn.jsx)("textarea",{value:d["about-html"].htmlContent,onChange:e=>I("htmlContent",e.target.value),className:"cataloro-input font-mono text-sm h-64 resize-none",placeholder:"Enter your HTML content here..."})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CSS Styles"}),(0,bn.jsx)("textarea",{value:d["about-html"].cssStyles,onChange:e=>I("cssStyles",e.target.value),className:"cataloro-input font-mono text-sm h-32 resize-none",placeholder:"Enter your CSS styles here..."})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-3",children:(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:d["about-html"].enabled,onChange:e=>I("enabled",e.target.checked),className:"rounded"}),(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Enable HTML About Page"})]})})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Live Preview"}),(0,bn.jsxs)("button",{onClick:()=>window.open("/about","_blank"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-colors",children:[(0,bn.jsx)(Ro,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"View Full Page"})]})]}),(0,bn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,bn.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Preview"})}),(0,bn.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-900 min-h-[300px]",children:[(0,bn.jsx)("style",{dangerouslySetInnerHTML:{__html:d["about-html"].cssStyles}}),(0,bn.jsx)("div",{dangerouslySetInnerHTML:{__html:d["about-html"].htmlContent},className:"prose dark:prose-invert max-w-none"})]})]}),(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,bn.jsx)("p",{children:"\u2022 HTML and CSS will be applied to the About page"}),(0,bn.jsx)("p",{children:"\u2022 Changes are saved automatically every 30 seconds"}),(0,bn.jsx)("p",{children:'\u2022 Use the "View Full Page" button to see the complete rendered page'})]})]})]})]}),"footer"===h&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,bn.jsx)(Si,{className:"w-6 h-6 text-blue-600"}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Footer Section"})]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Company Description"}),(0,bn.jsx)("textarea",{value:d.footer.companyDescription,onChange:e=>R("companyDescription",e.target.value),className:"cataloro-input h-24 resize-none",placeholder:"Cataloro is the future of online commerce..."})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Social Media Links"}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Twitter"}),(0,bn.jsx)("input",{type:"url",value:d.footer.socialLinks.twitter,onChange:e=>R("socialLinks",(0,Fe.A)((0,Fe.A)({},d.footer.socialLinks),{},{twitter:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://twitter.com/cataloro"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Facebook"}),(0,bn.jsx)("input",{type:"url",value:d.footer.socialLinks.facebook,onChange:e=>R("socialLinks",(0,Fe.A)((0,Fe.A)({},d.footer.socialLinks),{},{facebook:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://facebook.com/cataloro"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Instagram"}),(0,bn.jsx)("input",{type:"url",value:d.footer.socialLinks.instagram,onChange:e=>R("socialLinks",(0,Fe.A)((0,Fe.A)({},d.footer.socialLinks),{},{instagram:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://instagram.com/cataloro"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"LinkedIn"}),(0,bn.jsx)("input",{type:"url",value:d.footer.socialLinks.linkedin,onChange:e=>R("socialLinks",(0,Fe.A)((0,Fe.A)({},d.footer.socialLinks),{},{linkedin:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://linkedin.com/company/cataloro"})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Footer Links (JSON format)"}),(0,bn.jsx)("textarea",{value:JSON.stringify(d.footer.footerLinks,null,2),onChange:e=>{try{const t=JSON.parse(e.target.value);R("footerLinks",t)}catch(t){}},className:"cataloro-input h-32 resize-none font-mono text-sm",placeholder:'[{"title": "About", "url": "/info"}]'}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Format: [{"title": "Link Name", "url": "/path"}]'})]})]})]})]})})]})]})};const Uo=function(){var e;const[t,r]=(0,i.useState)([]),[n,a]=(0,i.useState)(!0),[s,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)({title:"",message:"",type:"success",event_trigger:"manual",target_users:"all",user_ids:[],show_duration:5e3,delay_before_show:0,expires_at:"",auto_dismiss:!0,is_active:!0}),{user:h}=Cn(),{showToast:f}=Hn(),p=[{value:"manual",label:"Manual Trigger",description:"Show immediately when activated"},{value:"login",label:"User Login",description:"Show when user logs in"},{value:"first_login",label:"First Login",description:"Show only on user's first login"},{value:"profile_update",label:"Profile Update",description:"Show after profile is updated"},{value:"purchase_complete",label:"Purchase Complete",description:"Show after successful purchase"},{value:"listing_published",label:"Listing Published",description:"Show after listing is published"},{value:"message_received",label:"Message Received",description:"Show when user receives a message"},{value:"daily",label:"Daily",description:"Show once per day"},{value:"weekly",label:"Weekly",description:"Show once per week"}],m=[{value:"success",label:"Success",color:"green",icon:ps},{value:"info",label:"Information",color:"blue",icon:xs},{value:"warning",label:"Warning",color:"yellow",icon:ms},{value:"error",label:"Error",color:"red",icon:ms},{value:"welcome",label:"Welcome",color:"purple",icon:Li}];(0,i.useEffect)(()=>{g()},[]);const g=async()=>{try{a(!0);const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/system-notifications"));if(!e.ok)throw new Error("Failed to load notifications");{const t=await e.json();r(t.notifications||[])}}catch(e){console.error("Error loading system notifications:",e),f("Failed to load system notifications","error")}finally{a(!1)}},x=()=>{u({title:"",message:"",type:"success",event_trigger:"manual",target_users:"all",user_ids:[],show_duration:5e3,delay_before_show:0,expires_at:"",auto_dismiss:!0,is_active:!0})},y=e=>{const t=m.find(t=>t.value===e),r=(null===t||void 0===t?void 0:t.icon)||Li;return(0,bn.jsx)(r,{className:"w-5 h-5"})},b=e=>{const t=m.find(t=>t.value===e);return(null===t||void 0===t?void 0:t.color)||"gray"},v=e=>{const t=e||"manual",r=p.find(e=>e.value===t);return(null===r||void 0===r?void 0:r.label)||"Manual Trigger"};return n?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,bn.jsx)(Li,{className:"w-7 h-7 mr-3 text-green-600"}),"System Notifications Manager"]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Manage green toast notifications that appear in the top right corner"})]}),(0,bn.jsxs)("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4 mr-2"}),"Create Notification"]})]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 gap-4",children:0===t.length?(0,bn.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl",children:[(0,bn.jsx)(Li,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,bn.jsx)("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No System Notifications"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Create your first system notification to manage green toast messages"})]}):t.map(e=>(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,bn.jsx)("div",{className:"p-3 rounded-lg bg-".concat(b(e.type),"-100 text-").concat(b(e.type),"-600"),children:y(e.type)}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.title}),(0,bn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"}),(0,bn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-".concat(b(e.type),"-100 text-").concat(b(e.type),"-800"),children:e.type})]}),(0,bn.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:e.message}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Qs,{className:"w-4 h-4 mr-1"}),(0,bn.jsx)("span",{children:v(e.event_trigger)})]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(mo,{className:"w-4 h-4 mr-1"}),(0,bn.jsx)("span",{children:"all"===e.target_users?"All Users":"Specific Users"})]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(zi,{className:"w-4 h-4 mr-1"}),(0,bn.jsxs)("span",{children:[e.show_duration/1e3,"s duration"]})]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4 mr-1"}),(0,bn.jsxs)("span",{children:[e.display_count||0," views"]})]})]}),e.expires_at&&(0,bn.jsxs)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)(so,{className:"w-4 h-4 inline mr-1"}),"Expires: ",new Date(e.expires_at).toLocaleDateString()]})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("button",{onClick:()=>(async e=>{try{if(!(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/system-notifications/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!e.is_active})})).ok)throw new Error("Failed to toggle notification");f("Notification ".concat(e.is_active?"deactivated":"activated","!"),"success"),g()}catch(t){console.error("Error toggling notification:",t),f("Failed to toggle notification","error")}})(e),className:"px-3 py-1 text-sm rounded-lg transition-colors ".concat(e.is_active?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:e.is_active?"Deactivate":"Activate"}),(0,bn.jsx)("button",{onClick:()=>(e=>{c(e),u({title:e.title||"",message:e.message||"",type:e.type||"success",event_trigger:e.event_trigger||"manual",target_users:e.target_users||"all",user_ids:e.user_ids||[],show_duration:e.show_duration||5e3,delay_before_show:e.delay_before_show||0,expires_at:e.expires_at?e.expires_at.split("T")[0]:"",auto_dismiss:!1!==e.auto_dismiss,is_active:!1!==e.is_active})})(e),className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-lg hover:bg-blue-200 transition-colors",children:(0,bn.jsx)(Ks,{className:"w-4 h-4"})}),(0,bn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this system notification?"))try{if(!(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/system-notifications/").concat(e),{method:"DELETE"})).ok)throw new Error("Failed to delete notification");f("System notification deleted successfully!","success"),g()}catch(t){console.error("Error deleting notification:",t),f("Failed to delete notification","error")}})(e.id),className:"px-3 py-1 bg-red-100 text-red-700 text-sm rounded-lg hover:bg-red-200 transition-colors",children:(0,bn.jsx)(qi,{className:"w-4 h-4"})})]})]})},e.id))}),(s||l)&&(0,bn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,bn.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l?"Edit System Notification":"Create New System Notification"}),(0,bn.jsx)("button",{onClick:()=>{o(!1),c(null),x()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,bn.jsx)(Ui,{className:"w-6 h-6"})})]})}),(0,bn.jsxs)("form",{onSubmit:l?async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/system-notifications/").concat(l.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,Fe.A)((0,Fe.A)({},d),{},{expires_at:d.expires_at||null}))})).ok)throw new Error("Failed to update notification");f("System notification updated successfully!","success"),c(null),x(),g()}catch(t){console.error("Error updating notification:",t),f("Failed to update notification","error")}}:async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/system-notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,Fe.A)((0,Fe.A)({},d),{},{created_by:h.id,expires_at:d.expires_at||null}))})).ok)throw new Error("Failed to create notification");f("System notification created successfully!","success"),o(!1),x(),g()}catch(t){console.error("Error creating notification:",t),f("Failed to create notification","error")}},className:"p-6 space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Title *"}),(0,bn.jsx)("input",{type:"text",value:d.title,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Welcome to the new Cataloro!",required:!0})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Type *"}),(0,bn.jsx)("select",{value:d.type,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:m.map(e=>(0,bn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message Content *"}),(0,bn.jsx)("textarea",{value:d.message,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{message:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter the notification message that will appear in the green toast...",required:!0})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Trigger *"}),(0,bn.jsx)("select",{value:d.event_trigger,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{event_trigger:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:p.map(e=>(0,bn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:null===(e=p.find(e=>e.value===d.event_trigger))||void 0===e?void 0:e.description})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Users"}),(0,bn.jsxs)("select",{value:d.target_users,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{target_users:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"all",children:"All Users"}),(0,bn.jsx)("option",{value:"new_users",children:"New Users Only"}),(0,bn.jsx)("option",{value:"returning_users",children:"Returning Users"}),(0,bn.jsx)("option",{value:"specific_ids",children:"Specific User IDs"})]})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delay Before Show (ms)"}),(0,bn.jsx)("input",{type:"number",value:d.delay_before_show,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{delay_before_show:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"500"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Show Duration (ms)"}),(0,bn.jsx)("input",{type:"number",value:d.show_duration,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{show_duration:parseInt(e.target.value)||5e3})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"1000",step:"1000"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expires On (Optional)"}),(0,bn.jsx)("input",{type:"date",value:d.expires_at,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{expires_at:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,bn.jsxs)("label",{className:"flex items-center",children:[(0,bn.jsx)("input",{type:"checkbox",checked:d.auto_dismiss,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{auto_dismiss:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,bn.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Auto Dismiss"})]}),(0,bn.jsxs)("label",{className:"flex items-center",children:[(0,bn.jsx)("input",{type:"checkbox",checked:d.is_active,onChange:e=>u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{is_active:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,bn.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})]}),(0,bn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,bn.jsx)("button",{type:"button",onClick:()=>{o(!1),c(null),x()},className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,bn.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,bn.jsx)(eo,{className:"w-4 h-4 mr-2"}),l?"Update":"Create"," Notification"]})]})]})]})})]})},qo=_i("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),zo=_i("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Ho=_i("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Vo=_i("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Wo=_i("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Ko=_i("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Go=_i("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Yo=_i("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),$o=_i("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Jo=function(e){let{showToast:t}=e;const[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)("visual"),[o,l]=(0,i.useState)({}),c=[{id:"user_onboarding",title:"User Onboarding & Registration",category:"Authentication",icon:qo,color:"bg-blue-500",status:"active",pages:["/login","/register","/profile"],steps:[{id:1,title:"Visit Homepage",page:"/",icon:Si,status:"completed"},{id:2,title:"Click Register",page:"/login",icon:qo,status:"completed"},{id:3,title:"Fill Registration Form",page:"/register",icon:Zs,status:"completed"},{id:4,title:"Email Verification",page:"/verify",icon:is,status:"completed"},{id:5,title:"Profile Setup",page:"/profile",icon:Yi,status:"completed"},{id:6,title:"Welcome Dashboard",page:"/browse",icon:zo,status:"completed"}],metrics:{completion_rate:"89%",avg_time:"3.5 min",drop_off_rate:"11%"}},{id:"product_listing",title:"Product Listing Creation",category:"Marketplace",icon:Fi,color:"bg-green-500",status:"active",pages:["/sell","/my-listings"],steps:[{id:1,title:"Navigate to Sell",page:"/sell",icon:Fi,status:"completed"},{id:2,title:"Choose Category",page:"/sell",icon:uo,status:"completed"},{id:3,title:"Add Product Details",page:"/sell",icon:Ks,status:"completed"},{id:4,title:"Upload Images",page:"/sell",icon:Xs,status:"completed"},{id:5,title:"Set Price & Condition",page:"/sell",icon:Oi,status:"completed"},{id:6,title:"Review & Publish",page:"/sell",icon:Ho,status:"completed"},{id:7,title:"Listing Goes Live",page:"/browse",icon:Ss,status:"completed"}],metrics:{success_rate:"94%",avg_time:"7.2 min",active_listings:"2,847"}},{id:"buy_process",title:"Buy/Purchase Process",category:"Transactions",icon:Ei,color:"bg-purple-500",status:"active",pages:["/browse","/product/:id","/my-deals","/pending-sales"],steps:[{id:1,title:"Browse Products",page:"/browse",icon:es,status:"completed"},{id:2,title:"View Product Details",page:"/product/:id",icon:Ss,status:"completed"},{id:3,title:"Click Buy Now",page:"/product/:id",icon:Ei,status:"completed"},{id:4,title:"Send Buy Request",page:"/cart",icon:is,status:"completed"},{id:5,title:"Seller Approval",page:"/pending-sales",icon:ps,status:"completed"},{id:6,title:"Payment Processing",page:"/payment",icon:Vo,status:"in_progress"},{id:7,title:"Order Completion",page:"/my-deals",icon:Ho,status:"completed"}],metrics:{conversion_rate:"67%",approval_rate:"82%",avg_transaction_value:"$249"}},{id:"messaging_system",title:"Real-time Messaging",category:"Communication",icon:Pi,color:"bg-indigo-500",status:"active",pages:["/messages"],steps:[{id:1,title:"Click Message Button",page:"/product/:id",icon:Pi,status:"completed"},{id:2,title:"Open Chat Interface",page:"/messages",icon:Pi,status:"completed"},{id:3,title:"Send/Receive Messages",page:"/messages",icon:is,status:"completed"},{id:4,title:"Real-time Notifications",page:"/messages",icon:Li,status:"completed"},{id:5,title:"Message History",page:"/messages",icon:zi,status:"completed"}],metrics:{response_rate:"78%",avg_response_time:"12 min",daily_messages:"1,234"}},{id:"notification_system",title:"Notification Management",category:"Communication",icon:Li,color:"bg-yellow-500",status:"active",pages:["/notifications"],steps:[{id:1,title:"Trigger Event",page:"Any",icon:Qs,status:"completed"},{id:2,title:"Generate Notification",page:"Backend",icon:Li,status:"completed"},{id:3,title:"Show in Header Bell",page:"Header",icon:Li,status:"completed"},{id:4,title:"Quick Actions Available",page:"Header",icon:Ho,status:"completed"},{id:5,title:"View All Notifications",page:"/notifications",icon:Ss,status:"completed"}],metrics:{delivery_rate:"99.2%",read_rate:"73%",action_rate:"45%"}},{id:"admin_management",title:"Admin Management",category:"Administration",icon:Ci,color:"bg-red-500",status:"active",pages:["/admin"],steps:[{id:1,title:"Admin Login",page:"/admin",icon:Ci,status:"completed"},{id:2,title:"Dashboard Overview",page:"/admin",icon:ts,status:"completed"},{id:3,title:"User Management",page:"/admin",icon:mo,status:"completed"},{id:4,title:"Listings Management",page:"/admin",icon:Fi,status:"completed"},{id:5,title:"Business Process View",page:"/admin",icon:Ai,status:"completed"},{id:6,title:"Site Settings",page:"/admin",icon:ns,status:"completed"}],metrics:{admin_sessions:"89/month",actions_per_session:"12.4",system_uptime:"99.8%"}},{id:"favorites_wishlist",title:"Favorites & Wishlist",category:"User Experience",icon:Ti,color:"bg-pink-500",status:"active",pages:["/favorites"],steps:[{id:1,title:"Heart Icon on Product",page:"/browse",icon:Ti,status:"completed"},{id:2,title:"Add to Favorites",page:"/product/:id",icon:Ti,status:"completed"},{id:3,title:"View Favorites List",page:"/favorites",icon:Ds,status:"completed"},{id:4,title:"Manage Favorites",page:"/favorites",icon:Ks,status:"completed"}],metrics:{favorites_per_user:"8.3",wishlist_conversion:"34%",total_favorites:"12,847"}},{id:"search_discovery",title:"Search & Discovery",category:"User Experience",icon:es,color:"bg-teal-500",status:"active",pages:["/browse","/search"],steps:[{id:1,title:"Enter Search Query",page:"/browse",icon:es,status:"completed"},{id:2,title:"Apply Filters",page:"/browse",icon:uo,status:"completed"},{id:3,title:"View Results",page:"/browse",icon:Ss,status:"completed"},{id:4,title:"Sort & Refine",page:"/browse",icon:uo,status:"completed"},{id:5,title:"Product Selection",page:"/product/:id",icon:Lo,status:"completed"}],metrics:{search_success_rate:"87%",avg_results:"23.7",filter_usage:"45%"}}],d=e=>{switch(e){case"completed":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30";case"in_progress":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/30";case"pending":return"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900/30";case"failed":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/30"}},u=(e,t)=>{const r=e.icon;return(0,bn.jsx)("div",{className:"p-3 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"in_progress"===e.status?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"),children:(0,bn.jsx)(r,{className:"w-5 h-5"})})};return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,bn.jsx)(Ai,{className:"w-8 h-8"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h2",{className:"text-3xl font-bold",children:"Business Process Map"}),(0,bn.jsx)("p",{className:"text-purple-100",children:"Visual overview of all marketplace business processes and user journeys"})]})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-4",children:(0,bn.jsx)("div",{className:"bg-white/20 px-4 py-2 rounded-lg backdrop-blur-sm",children:(0,bn.jsxs)("span",{className:"text-sm font-medium",children:[c.length," Active Processes"]})})})]})}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,bn.jsx)(mo,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"User Base"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total registered users"})]})]})}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Users"}),(0,bn.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"1,247"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Buyers"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-blue-600 dark:text-blue-400",children:"892"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Sellers"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:"234"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Admins/Managers"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-purple-600 dark:text-purple-400",children:"8"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Approval"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-orange-600 dark:text-orange-400",children:"23"})]})]})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,bn.jsx)(Ai,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Business Accounts"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Commercial registrations"})]})]})}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Business"}),(0,bn.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"156"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verified Business"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:"134"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Verification"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-orange-600 dark:text-orange-400",children:"22"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Premium Business"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-purple-600 dark:text-purple-400",children:"45"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Revenue Share"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-blue-600 dark:text-blue-400",children:"\u20ac12.4K"})]})]})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,bn.jsx)(bo,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Activity Overview"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Platform engagement"})]})]})}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Listings"}),(0,bn.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"2,847"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Bids"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-blue-600 dark:text-blue-400",children:"8,923"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed Deals"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:"1,234"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Messages Sent"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-purple-600 dark:text-purple-400",children:"15.6K"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Response Time"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-orange-600 dark:text-orange-400",children:"2.4h"})]})]})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,bn.jsx)(Oi,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Financial Summary"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Revenue metrics"})]})]})}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Revenue"}),(0,bn.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"\u20ac45.2K"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transaction Fees"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:"\u20ac3.4K"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subscription Revenue"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-blue-600 dark:text-blue-400",children:"\u20ac1.8K"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Deal Value"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-purple-600 dark:text-purple-400",children:"\u20ac127"})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Growth Rate"}),(0,bn.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:"+12.5%"})]})]})]})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl",children:(0,bn.jsx)(ts,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"User Role Distribution"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"RBAC system implementation overview"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,bn.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Buyers"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,bn.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sellers"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),(0,bn.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Managers"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,bn.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Admins"})]})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-900/30 p-4 rounded-xl border border-blue-200 dark:border-blue-800",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Ci,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,bn.jsx)("span",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"User-Buyer"})]}),(0,bn.jsx)("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"892"})]}),(0,bn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:"Active Bidders"}),(0,bn.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"743"})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:"Avg Bids/User"}),(0,bn.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"12.4"})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:"Success Rate"}),(0,bn.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"34%"})]})]})]}),(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-900/30 p-4 rounded-xl border border-green-200 dark:border-green-800",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Ai,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,bn.jsx)("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"User-Seller"})]}),(0,bn.jsx)("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"234"})]}),(0,bn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-green-700 dark:text-green-300",children:"Active Listings"}),(0,bn.jsx)("span",{className:"font-medium text-green-900 dark:text-green-100",children:"1,847"})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-green-700 dark:text-green-300",children:"Avg Price"}),(0,bn.jsx)("span",{className:"font-medium text-green-900 dark:text-green-100",children:"\u20ac145"})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-green-700 dark:text-green-300",children:"Completion Rate"}),(0,bn.jsx)("span",{className:"font-medium text-green-900 dark:text-green-100",children:"67%"})]})]})]}),(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-900/30 p-4 rounded-xl border border-purple-200 dark:border-purple-800",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(ns,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,bn.jsx)("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Admin-Manager"})]}),(0,bn.jsx)("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"5"})]}),(0,bn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-purple-700 dark:text-purple-300",children:"Users Managed"}),(0,bn.jsx)("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:"1,126"})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-purple-700 dark:text-purple-300",children:"Approvals/Day"}),(0,bn.jsx)("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:"23"})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-purple-700 dark:text-purple-300",children:"Response Time"}),(0,bn.jsx)("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:"1.2h"})]})]})]}),(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-900/30 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Ci,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),(0,bn.jsx)("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Admin"})]}),(0,bn.jsx)("span",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:"3"})]}),(0,bn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-yellow-700 dark:text-yellow-300",children:"System Access"}),(0,bn.jsx)("span",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Full"})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Actions/Day"}),(0,bn.jsx)("span",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"47"})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Uptime"}),(0,bn.jsx)("span",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"99.8%"})]})]})]})]})]}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Process View"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,bn.jsxs)("button",{onClick:()=>s("visual"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("visual"===a?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,bn.jsx)(Wo,{className:"w-4 h-4 mr-2 inline"}),"Visual Map"]}),(0,bn.jsxs)("button",{onClick:()=>s("list"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("list"===a?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,bn.jsx)(Ko,{className:"w-4 h-4 mr-2 inline"}),"List View"]})]})]})}),"visual"===a&&(0,bn.jsxs)("div",{className:"cataloro-card-glass p-8",children:[(0,bn.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8 flex items-center",children:[(0,bn.jsx)(Wo,{className:"w-6 h-6 mr-3"}),"Business Process Flow Diagram"]}),(0,bn.jsx)("div",{className:"space-y-8",children:c.map((e,r)=>(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,bn.jsx)("div",{className:"p-4 rounded-2xl ".concat(e.color," text-white mr-4"),children:(0,bn.jsx)(e.icon,{className:"w-8 h-8"})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.title}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.category})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.toUpperCase()}),(0,bn.jsx)("button",{onClick:()=>{return t=e.id,void l(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[t]:!e[t]}));var t},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:o[e.id]?(0,bn.jsx)(Go,{className:"w-5 h-5"}):(0,bn.jsx)(Yo,{className:"w-5 h-5"})})]})]}),(0,bn.jsxs)("div",{className:"ml-16 transition-all duration-300 ".concat(o[e.id]?"max-h-full opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:[(0,bn.jsx)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:e.steps.map((r,n)=>(0,bn.jsxs)(i.Fragment,{children:[(0,bn.jsxs)("div",{className:"flex flex-col items-center group cursor-pointer hover:scale-105 transition-transform",onClick:()=>t("Step: ".concat(r.title," (Page: ").concat(r.page,")"),"info"),children:[u(r),(0,bn.jsxs)("div",{className:"mt-2 text-center min-w-[120px]",children:[(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:r.title}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.page})]})]}),n<e.steps.length-1&&(0,bn.jsx)(Rs,{className:"w-6 h-6 text-gray-400 dark:text-gray-600 flex-shrink-0"})]},r.id))}),(0,bn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[(0,bn.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Process Metrics"}),(0,bn.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e.metrics).map(e=>{let[t,r]=e;return(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:t.replace("_"," ")})]},t)})})]})]}),r<c.length-1&&(0,bn.jsx)("div",{className:"flex justify-center mt-8",children:(0,bn.jsx)($o,{className:"w-8 h-8 text-gray-400 dark:text-gray-600"})})]},e.id))})]}),"list"===a&&(0,bn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(e=>(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-3 rounded-xl ".concat(e.color," text-white"),children:(0,bn.jsx)(e.icon,{className:"w-6 h-6"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.title}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.category})]})]}),(0,bn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.toUpperCase()})]}),(0,bn.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:Object.entries(e.metrics).map(e=>{let[t,r]=e;return(0,bn.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,bn.jsx)("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:t.replace("_"," ")})]},t)})}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Related Pages:"}),(0,bn.jsx)("div",{className:"flex flex-wrap gap-2",children:e.pages.map((e,t)=>(0,bn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-md text-xs",children:[(0,bn.jsx)(os,{className:"w-3 h-3 mr-1"}),e]},t))})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("button",{onClick:()=>n(e),className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 text-sm",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"View Details"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,bn.jsx)(zi,{className:"w-3 h-3"}),(0,bn.jsxs)("span",{children:[e.steps.length," steps"]})]})]})]},e.id))}),r&&(0,bn.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,bn.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("div",{className:"p-3 rounded-xl ".concat(r.color," text-white"),children:(0,bn.jsx)(r.icon,{className:"w-8 h-8"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r.category})]})]}),(0,bn.jsx)("button",{onClick:()=>n(null),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:(0,bn.jsx)(Ui,{className:"w-6 h-6"})})]})}),(0,bn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Process Steps"}),(0,bn.jsx)("div",{className:"space-y-4",children:r.steps.map((e,t)=>(0,bn.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat("completed"===e.status?"bg-green-500 text-white":"in_progress"===e.status?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"),children:t+1})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,bn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.replace("_"," ").toUpperCase()})]}),(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page: ",e.page]})]}),u(e)]},e.id))})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Performance Metrics"}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(r.metrics).map(e=>{let[t,r]=e;return(0,bn.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl",children:[(0,bn.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize mt-1",children:t.replace("_"," ")})]},t)})})]})]})]})}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Business Process Summary"}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.length}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Processes"})]}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:c.filter(e=>"active"===e.status).length}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Processes"})]}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:c.reduce((e,t)=>e+t.steps.length,0)}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Steps"})]}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:new Set(c.flatMap(e=>e.pages)).size}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unique Pages"})]})]})]})]})},Xo=e=>{let{showToast:t}=e;const[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(0),[c,d]=(0,i.useState)({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}),[u,h]=(0,i.useState)("comprehensive"),[f,p]=(0,i.useState)({includeCharts:!0,includeImages:!0,includeAnalytics:!0,watermark:!0,headerFooter:!0}),m=[{id:"users",title:"User Management Report",description:"Complete user database with profiles, activity, and statistics",icon:mo,color:"blue",estimatedSize:"2-5 MB",includes:["User profiles","Registration dates","Activity logs","Ratings","Transaction history"]},{id:"listings",title:"Listings & Products Report",description:"All marketplace listings with details and performance metrics",icon:Fi,color:"green",estimatedSize:"3-8 MB",includes:["Product details","Images","Pricing history","Views & favorites","Seller information"]},{id:"transactions",title:"Financial Transactions Report",description:"Complete transaction history and revenue analytics",icon:Oi,color:"yellow",estimatedSize:"1-3 MB",includes:["Transaction records","Payment methods","Revenue by period","Fee calculations","Refunds"]},{id:"analytics",title:"Platform Analytics Report",description:"Comprehensive performance metrics and user behavior",icon:ts,color:"purple",estimatedSize:"4-10 MB",includes:["Traffic analytics","Conversion rates","User engagement","Popular listings","Growth metrics"]},{id:"orders",title:"Orders & Fulfillment Report",description:"Order management and delivery tracking information",icon:Ei,color:"orange",estimatedSize:"2-6 MB",includes:["Order details","Delivery status","Customer feedback","Processing times","Returns"]},{id:"communications",title:"Communications Log",description:"Message history, notifications, and system communications",icon:is,color:"indigo",estimatedSize:"1-4 MB",includes:["Message threads","Notifications sent","Email campaigns","System alerts","Support tickets"]},{id:"system",title:"System Health Report",description:"Technical performance, errors, and maintenance logs",icon:vo,color:"red",estimatedSize:"1-2 MB",includes:["Error logs","Performance metrics","Database status","Security events","Backup history"]},{id:"business",title:"Business Intelligence Report",description:"Strategic insights, trends, and forecasting data",icon:Lo,color:"teal",estimatedSize:"3-7 MB",includes:["Market trends","Competitor analysis","Growth forecasts","ROI calculations","KPI dashboard"]}];return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h2",{className:"text-2xl font-bold mb-2 flex items-center",children:[(0,bn.jsx)(wo,{className:"w-8 h-8 mr-3"}),"PDF Export Center"]}),(0,bn.jsx)("p",{className:"text-green-100",children:"Export comprehensive reports and data in professional PDF format"})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-4",children:(0,bn.jsxs)("div",{className:"text-right",children:[(0,bn.jsxs)("div",{className:"text-sm text-green-100",children:["Selected: ",r.length," reports"]}),(0,bn.jsxs)("div",{className:"text-sm text-green-100",children:["Est. Size: ",(()=>{if(0===r.length)return"0 MB";const e=m.filter(e=>r.includes(e.id)),t=e.reduce((e,t)=>{const[r]=t.estimatedSize.split("-").map(e=>parseInt(e));return e+r},0),n=e.reduce((e,t)=>e+(t.estimatedSize.includes("-")?parseInt(t.estimatedSize.split("-")[1]):parseInt(t.estimatedSize)),0);return"".concat(t,"-").concat(n," MB")})()]})]})})]})}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(ns,{className:"w-5 h-5 mr-2"}),"Export Settings"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,bn.jsx)("input",{type:"date",value:c.start,onChange:e=>d(t=>(0,Fe.A)((0,Fe.A)({},t),{},{start:e.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),(0,bn.jsx)("input",{type:"date",value:c.end,onChange:e=>d(t=>(0,Fe.A)((0,Fe.A)({},t),{},{end:e.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Report Format"}),(0,bn.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"comprehensive",children:"Comprehensive Report"}),(0,bn.jsx)("option",{value:"summary",children:"Executive Summary"}),(0,bn.jsx)("option",{value:"detailed",children:"Detailed Analysis"}),(0,bn.jsx)("option",{value:"technical",children:"Technical Report"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Include Options"}),(0,bn.jsx)("div",{className:"space-y-2",children:[{key:"includeCharts",label:"Charts & Graphs"},{key:"includeImages",label:"Product Images"},{key:"includeAnalytics",label:"Analytics Data"},{key:"watermark",label:"Company Watermark"},{key:"headerFooter",label:"Header & Footer"}].map(e=>(0,bn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,bn.jsx)("input",{type:"checkbox",checked:f[e.key],onChange:t=>p(r=>(0,Fe.A)((0,Fe.A)({},r),{},{[e.key]:t.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.label})]},e.key))})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(bo,{className:"w-5 h-5 mr-2"}),"Export Controls"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("button",{onClick:()=>{n(m.map(e=>e.id))},className:"flex-1 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:"Select All"}),(0,bn.jsx)("button",{onClick:()=>{n([])},className:"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-lg text-sm font-medium hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:"Clear All"})]}),a&&(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Generating PDF..."}),(0,bn.jsxs)("span",{className:"text-gray-900 dark:text-white font-medium",children:[Math.round(o),"%"]})]}),(0,bn.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,bn.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(o,"%")}})})]}),(0,bn.jsx)("button",{onClick:async()=>{if(0!==r.length){s(!0),l(0);try{const e=setInterval(()=>{l(t=>t>=95?(clearInterval(e),95):t+15*Math.random())},500),n="https://basket-loader.preview.emergentagent.com",a={types:r,dateRange:c,format:u,options:f},i=await fetch("".concat(n,"/api/admin/export-pdf"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(a)});if(!i.ok)throw new Error("Export failed: ".concat(i.statusText));const o=await i.blob(),d=window.URL.createObjectURL(o),h=document.createElement("a");h.href=d;const p=(new Date).toISOString().slice(0,19).replace(/:/g,"-");h.download="cataloro-export-".concat(p,".pdf"),document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(d),clearInterval(e),l(100),setTimeout(()=>{s(!1),l(0),t("PDF export completed successfully!","success")},1e3)}catch(e){console.error("Export error:",e),s(!1),l(0),t("Export failed: ".concat(e.message),"error")}}else t("Please select at least one export type","warning")},disabled:a||0===r.length,className:"w-full px-6 py-3 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 ".concat(a||0===r.length?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-blue-600 text-white hover:from-green-700 hover:to-blue-700 transform hover:scale-105"),children:a?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Ii,{className:"w-5 h-5 animate-spin"}),(0,bn.jsx)("span",{children:"Generating PDF..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(wo,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Export Selected Reports"})]})}),(0,bn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Export Summary:"}),(0,bn.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{children:"Reports Selected:"}),(0,bn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:r.length})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{children:"Date Range:"}),(0,bn.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.ceil((new Date(c.end)-new Date(c.start))/864e5)," days"]})]}),(0,bn.jsxs)("div",{className:"flex justify-between",children:[(0,bn.jsx)("span",{children:"Format:"}),(0,bn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:u})]})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(zi,{className:"w-5 h-5 mr-2"}),"Recent Exports"]}),(0,bn.jsx)("div",{className:"space-y-3",children:[{date:"2025-09-08",type:"Complete Report",size:"12.5 MB",status:"completed"},{date:"2025-09-07",type:"User Analytics",size:"4.2 MB",status:"completed"},{date:"2025-09-06",type:"Financial Report",size:"2.8 MB",status:"completed"}].map((e,t)=>(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.type}),(0,bn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.date," \u2022 ",e.size]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(ps,{className:"w-4 h-4 text-green-500"}),(0,bn.jsx)("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:(0,bn.jsx)(Ss,{className:"w-4 h-4"})})]})]},t))})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Available Export Types"}),(0,bn.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Select the reports you want to include in your PDF export"})]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map(e=>{const t=e.icon,a=r.includes(e.id);return(0,bn.jsxs)("div",{onClick:()=>{return t=e.id,void n(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 transform hover:scale-105 ".concat(a?"border-".concat(e.color,"-500 bg-").concat(e.color,"-50 dark:bg-").concat(e.color,"-900/20 shadow-lg"):"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600"),children:[a&&(0,bn.jsx)("div",{className:"absolute top-2 right-2",children:(0,bn.jsx)(ps,{className:"w-5 h-5 text-".concat(e.color,"-600")})}),(0,bn.jsx)("div",{className:"w-12 h-12 rounded-lg bg-".concat(e.color,"-100 dark:bg-").concat(e.color,"-900/30 flex items-center justify-center mb-3"),children:(0,bn.jsx)(t,{className:"w-6 h-6 text-".concat(e.color,"-600 dark:text-").concat(e.color,"-400")})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 text-sm",children:e.title}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:e.description}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,bn.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Size:"}),(0,bn.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.estimatedSize})]}),(0,bn.jsxs)("div",{className:"space-y-1",children:[(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Includes:"}),(0,bn.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.includes.slice(0,2).map((t,r)=>(0,bn.jsx)("span",{className:"text-xs px-2 py-1 bg-".concat(e.color,"-100 dark:bg-").concat(e.color,"-900/20 text-").concat(e.color,"-700 dark:text-").concat(e.color,"-300 rounded"),children:t},r)),e.includes.length>2&&(0,bn.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",e.includes.length-2," more"]})]})]})]})]})]},e.id)})})]})]})};function Zo(e){let{dashboardData:t,loading:r}=e;const[n,a]=(0,i.useState)({}),[s,o]=(0,i.useState)("7d"),[l,c]=(0,i.useState)([]);(0,i.useEffect)(()=>{const e=setInterval(()=>{const e={timestamp:(new Date).toLocaleTimeString(),users:Math.floor(50*Math.random())+20,revenue:Math.floor(1e3*Math.random())+500,orders:Math.floor(10*Math.random())+5};c(t=>[...t.slice(-9),e])},6e4);return()=>clearInterval(e)},[]),(0,i.useEffect)(()=>{if(t){const e=()=>{var e,r,n;const a="7d"===s?7:"30d"===s?30:90,i=[],o=[],l=[],c=[],d=(null===(e=t.kpis)||void 0===e?void 0:e.total_users)||0,u=(null===(r=t.kpis)||void 0===r?void 0:r.revenue)||0,h=(null===(n=t.kpis)||void 0===n?void 0:n.total_deals)||0,f=u/Math.max(a,1),p=Math.max(Math.floor(d/Math.max(3*a,1)),1);for(let t=a-1;t>=0;t--){const e=new Date;e.setDate(e.getDate()-t),i.push(e.toLocaleDateString("en-US",{month:"short",day:"numeric"}));const r=.4*Math.random()-.2,n=.4*Math.random()-.2;o.push(Math.max(1,Math.floor(p*(1+r)))),l.push(Math.max(0,Math.floor(f*(1+n)))),c.push(Math.max(0,Math.floor(h/a*(1+n))))}return{labels:i,userData:o,revenueData:l,orderData:c}};a(e())}},[t,s]);if(r||!t)return(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading comprehensive dashboard..."})]})});const{kpis:d,recent_activity:u}=t,h={userGrowth:(d.total_users||0)/Math.max(1,(d.total_users||1)-10)*100-100,revenueGrowth:d.growth_rate||0,conversionRate:(d.total_deals||0)/Math.max(1,d.total_users||1)*100,avgOrderValue:(d.revenue||0)/Math.max(1,d.total_deals||1)};return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-emerald-600 rounded-2xl p-8 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),(0,bn.jsx)("p",{className:"text-purple-100",children:"Comprehensive marketplace analytics and insights"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-lg border border-white/30 focus:border-white/50 focus:outline-none",children:[(0,bn.jsx)("option",{value:"7d",className:"text-gray-900",children:"Last 7 days"}),(0,bn.jsx)("option",{value:"30d",className:"text-gray-900",children:"Last 30 days"}),(0,bn.jsx)("option",{value:"90d",className:"text-gray-900",children:"Last 90 days"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,bn.jsx)("span",{className:"text-sm",children:"Live Data"})]})]})]})}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-800",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"p-3 bg-blue-500 rounded-xl",children:(0,bn.jsx)(mo,{className:"w-6 h-6 text-white"})}),(0,bn.jsxs)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full ".concat(h.userGrowth>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[h.userGrowth>0?"+":"",h.userGrowth.toFixed(1),"%"]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:(d.total_users||0).toLocaleString()}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total Users"}),(0,bn.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-400 mb-3",children:["+",Math.floor(5*Math.random())+2," new today"]}),(0,bn.jsx)("div",{className:"mt-3 bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:(0,bn.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"78%"}})}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"78% retention rate"})]})]}),(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-2xl p-6 border border-emerald-200 dark:border-emerald-800",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"p-3 bg-emerald-500 rounded-xl",children:(0,bn.jsx)(Oi,{className:"w-6 h-6 text-white"})}),(0,bn.jsxs)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-green-700",children:["+",h.revenueGrowth.toFixed(1),"%"]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:["\u20ac",(d.revenue||0).toLocaleString()]}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total Revenue"}),(0,bn.jsxs)("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 mb-3",children:["\u20ac",Math.floor((d.revenue||0)/Math.max(1,d.total_deals||1)).toLocaleString()," avg/deal"]}),(0,bn.jsx)("div",{className:"mt-3 flex items-center space-x-1",children:[...Array(8)].map((e,t)=>(0,bn.jsx)("div",{className:"bg-emerald-300 w-1 rounded-full",style:{height:"".concat(20*Math.random()+10,"px")}},t))}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Monthly trend: \u2197 +12%"})]})]}),(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-2xl p-6 border border-orange-200 dark:border-orange-800",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"p-3 bg-orange-500 rounded-xl",children:(0,bn.jsx)(Fi,{className:"w-6 h-6 text-white"})}),(0,bn.jsx)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:"Live"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:(d.active_listings||0).toLocaleString()}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Active Listings"}),(0,bn.jsxs)("div",{className:"text-xs text-orange-600 dark:text-orange-400 mb-3",children:[(d.total_listings||0)-(d.active_listings||0)," inactive"]}),(0,bn.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-1",children:[(0,bn.jsx)("div",{className:"bg-green-400 h-2 rounded",title:"Active"}),(0,bn.jsx)("div",{className:"bg-yellow-400 h-2 rounded",title:"Pending"}),(0,bn.jsx)("div",{className:"bg-gray-400 h-2 rounded",title:"Inactive"})]}),(0,bn.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round((d.active_listings||0)/Math.max(1,d.total_listings||1)*100),"% active rate"]})]})]}),(0,bn.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-800",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"p-3 bg-purple-500 rounded-xl",children:(0,bn.jsx)(Vi,{className:"w-6 h-6 text-white"})}),(0,bn.jsx)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Excellent"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:[h.conversionRate.toFixed(1),"%"]}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Conversion Rate"}),(0,bn.jsxs)("div",{className:"text-xs text-purple-600 dark:text-purple-400 mb-3",children:[d.total_deals||0," successful deals"]}),(0,bn.jsx)("div",{className:"mt-3",children:(0,bn.jsx)("div",{className:"bg-purple-200 dark:bg-purple-800 rounded-full h-2",children:(0,bn.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(Math.min(h.conversionRate,100),"%")}})})}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Industry avg: 2.8%"})]})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,bn.jsx)(Ss,{className:"w-5 h-5 text-indigo-600"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(4.2*(d.total_users||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Page Views"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,bn.jsx)(xo,{className:"w-5 h-5 text-red-600"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"23.4%"}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Bounce Rate"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,bn.jsx)(zi,{className:"w-5 h-5 text-green-600"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"4m 32s"}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Avg Session"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,bn.jsx)(yo,{className:"w-5 h-5 text-blue-600"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"67.2%"}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Mobile"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,bn.jsx)(Pi,{className:"w-5 h-5 text-yellow-600"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(3.7*(d.total_deals||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Messages"})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,bn.jsx)(es,{className:"w-5 h-5 text-purple-600"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(2.1*(d.total_users||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Searches"})]})]})})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,bn.jsxs)("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,bn.jsx)(bo,{className:"w-5 h-5 mr-2 text-green-500"}),"Live Activity Stream"]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping"}),(0,bn.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Live Updates"})]})]}),(0,bn.jsx)("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:null===u||void 0===u?void 0:u.map((e,t)=>(0,bn.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,bn.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,bn.jsx)(bo,{className:"w-4 h-4 text-blue-600"})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.action}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,bn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()}),(0,bn.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Priority: High"})]})]})]},t))})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,bn.jsxs)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,bn.jsx)(vo,{className:"w-5 h-5 mr-2 text-green-500"}),"System Health"]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"CPU Usage"}),(0,bn.jsx)("span",{className:"text-sm text-green-600",children:"23%"})]}),(0,bn.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,bn.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"23%"}})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Memory"}),(0,bn.jsx)("span",{className:"text-sm text-yellow-600",children:"67%"})]}),(0,bn.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,bn.jsx)("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"67%"}})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Storage"}),(0,bn.jsx)("span",{className:"text-sm text-blue-600",children:"45%"})]}),(0,bn.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,bn.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"45%"}})})]}),(0,bn.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"API Response"}),(0,bn.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Excellent"})]}),(0,bn.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"142ms"}),(0,bn.jsx)("div",{className:"text-xs text-gray-500",children:"Average response time"})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl p-8",children:[(0,bn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center",children:"Quick Management Actions"}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,bn.jsxs)("button",{onClick:async()=>{try{const{kpis:e}=t,r=["Metric,Value,Date","Total Users,".concat(e.total_users||0,",").concat((new Date).toISOString()),"Total Revenue,".concat(e.total_revenue||0,",").concat((new Date).toISOString()),"Active Listings,".concat(e.active_products||0,",").concat((new Date).toISOString()),"Growth Rate,".concat(e.growth_rate||0,"%,").concat((new Date).toISOString())].join("\n"),n=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),i=URL.createObjectURL(n);a.setAttribute("href",i),a.setAttribute("download","dashboard-export-".concat((new Date).toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),console.log("Data exported successfully")}catch(e){console.error("Export failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500",children:[(0,bn.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,bn.jsx)(wo,{className:"w-6 h-6 text-purple-600"})}),(0,bn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Export Data"})]}),(0,bn.jsxs)("button",{onClick:async()=>{try{window.location.reload()}catch(e){console.error("Refresh failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500",children:[(0,bn.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,bn.jsx)(Ii,{className:"w-6 h-6 text-green-600"})}),(0,bn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Refresh Stats"})]}),(0,bn.jsxs)("button",{onClick:async()=>{try{console.log("System backup initiated"),alert("System backup has been initiated successfully!")}catch(e){console.error("Backup failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500",children:[(0,bn.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,bn.jsx)(Ci,{className:"w-6 h-6 text-blue-600"})}),(0,bn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"System Backup"})]}),(0,bn.jsxs)("button",{onClick:()=>{const{kpis:e,recent_activity:r}=t,n=window.open("","_blank");n.document.write('\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Cataloro Dashboard Report</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; }\n            .metric { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; display: flex; justify-content: space-between; }\n            .value { font-weight: bold; color: #333; }\n            .section { margin: 20px 0; }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <h1>Cataloro Marketplace Dashboard Report</h1>\n            <p>Generated on: '.concat((new Date).toLocaleString(),'</p>\n          </div>\n          \n          <div class="section">\n            <h2>Key Performance Indicators</h2>\n            <div class="metric"><span>Total Users:</span><span class="value">').concat((e.total_users||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Total Revenue:</span><span class="value">\u20ac').concat((e.total_revenue||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Active Listings:</span><span class="value">').concat((e.active_products||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Total Deals:</span><span class="value">').concat((e.total_deals||0).toLocaleString(),"</span></div>\n          </div>\n        </body>\n      </html>\n    ")),n.document.close()},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500",children:[(0,bn.jsx)("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-xl",children:(0,bn.jsx)(ts,{className:"w-6 h-6 text-orange-600"})}),(0,bn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"View Reports"})]})]})]})]})}function Qo(e){let{users:t,onUpdateUser:r,showToast:n}=e;const[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)("all"),[x,y]=(0,i.useState)("all"),[b,v]=(0,i.useState)("all"),w=t.filter(e=>{var t,r,n;const a=(null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))||(null===(n=e.full_name)||void 0===n?void 0:n.toLowerCase().includes(f.toLowerCase())),i="all"===m||e.user_role===m||!e.user_role&&e.role===m,s="all"===x||"active"===x&&e.is_active||"inactive"===x&&!e.is_active,o="all"===b||e.registration_status===b||"Approved"===b&&!e.registration_status;return a&&i&&s&&o}),j=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||u;if(e&&0!==c.length){if(["delete","suspend","reject"].includes(e)){const t="delete"===e?"delete":"suspend"===e?"suspend":"reject";if(!window.confirm("Are you sure you want to ".concat(t," ").concat(c.length," users? This action cannot be undone.")))return}try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users/bulk-action"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,user_ids:c})});if(t.ok){const a=await t.json(),{results:i}=a;i.success_count>0&&n("Successfully ".concat(e,"d ").concat(i.success_count," user").concat(1!==i.success_count?"s":""),"success"),i.failed_count>0&&(n("Failed to ".concat(e," ").concat(i.failed_count," user").concat(1!==i.failed_count?"s":""),"warning"),console.warn("Bulk action errors:",i.errors)),d([]),h(""),r()}else{const r=await t.json().catch(()=>({}));n("Failed to perform bulk ".concat(e,": ").concat(r.detail||"Unknown error"),"error")}}catch(t){console.error("Bulk action error:",t),n("Error performing bulk ".concat(e),"error")}}else n("No action selected or no users selected","warning")};return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,bn.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,bn.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,bn.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,bn.jsx)(mo,{className:"w-8 h-8 text-blue-500"})}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent flex items-center justify-center",children:t.length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Users"})]})]})}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,bn.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,bn.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,bn.jsx)(ps,{className:"w-8 h-8 text-green-500"})}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>e.is_active).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Active Users"})]})]})}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,bn.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,bn.jsx)("div",{className:"p-4 bg-purple-100/80 dark:bg-purple-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,bn.jsx)(Ci,{className:"w-8 h-8 text-purple-500"})}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>"Admin"===e.user_role||"Admin-Manager"===e.user_role||!e.user_role&&"admin"===e.role).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Admins"})]})]})}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,bn.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,bn.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,bn.jsx)(po,{className:"w-8 h-8 text-red-500"})}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>!e.is_active).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Suspended"})]})]})})]}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,bn.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between space-y-6 xl:space-y-0",children:[(0,bn.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Users"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",placeholder:"Search by name, email, or username...",value:f,onChange:e=>p(e.target.value),className:"pl-10 cataloro-input w-full"})]})]}),(0,bn.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Role"}),(0,bn.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"cataloro-input w-auto min-w-[140px]",children:[(0,bn.jsx)("option",{value:"all",children:"All Roles"}),(0,bn.jsx)("option",{value:"Admin",children:"Admin"}),(0,bn.jsx)("option",{value:"Admin-Manager",children:"Admin Manager"}),(0,bn.jsx)("option",{value:"User-Seller",children:"User Seller"}),(0,bn.jsx)("option",{value:"User-Buyer",children:"User Buyer"}),(0,bn.jsx)("option",{value:"admin",children:"Legacy Admin"}),(0,bn.jsx)("option",{value:"user",children:"Legacy User"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,bn.jsxs)("select",{value:x,onChange:e=>y(e.target.value),className:"cataloro-input w-auto min-w-[120px]",children:[(0,bn.jsx)("option",{value:"all",children:"All Status"}),(0,bn.jsx)("option",{value:"active",children:"Active"}),(0,bn.jsx)("option",{value:"inactive",children:"Suspended"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Registration Status"}),(0,bn.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"cataloro-input w-auto min-w-[120px]",children:[(0,bn.jsx)("option",{value:"all",children:"All Status"}),(0,bn.jsx)("option",{value:"Pending",children:"Pending"}),(0,bn.jsx)("option",{value:"Approved",children:"Approved"}),(0,bn.jsx)("option",{value:"Rejected",children:"Rejected"})]})]})]})]})}),c.length>0&&(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6 border-2 border-blue-200 dark:border-blue-800 shadow-xl",children:[(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,bn.jsx)("div",{className:"flex items-center space-x-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full animate-pulse"}),(0,bn.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[c.length," user",1!==c.length?"s":""," selected"]}),(0,bn.jsx)("div",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-sm font-medium rounded-full",children:"Ready for action"})]})}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,bn.jsxs)("button",{onClick:()=>j("activate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Activate selected users",children:[(0,bn.jsx)(ps,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Activate"})]}),(0,bn.jsxs)("button",{onClick:()=>j("suspend"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Suspend selected users",children:[(0,bn.jsx)(po,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Suspend"})]}),(0,bn.jsxs)("button",{onClick:()=>j("delete"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Delete selected users",children:[(0,bn.jsx)(qi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,bn.jsxs)("button",{onClick:()=>j("approve"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Approve pending users",children:[(0,bn.jsx)(ps,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Approve"})]}),(0,bn.jsxs)("button",{onClick:()=>j("reject"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Reject pending users",children:[(0,bn.jsx)(Ui,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Reject"})]})]})]}),(0,bn.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center lg:justify-start",children:[(0,bn.jsxs)("button",{onClick:()=>{const e=t.filter(e=>c.includes(e.id)),r=[["ID","Name","Email","Role","Status","Registration Status"].join(","),...e.map(e=>[e.id,e.full_name||e.username,e.email,e.user_role||("admin"===e.role?"Admin":"User-Buyer"),e.is_active?"Active":"Suspended",e.registration_status||"Approved"].join(","))].join("\n"),a=new Blob([r],{type:"text/csv"}),i=window.URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download="selected_users_".concat((new Date).toISOString().split("T")[0],".csv"),s.click(),window.URL.revokeObjectURL(i),n("Exported ".concat(c.length," users to CSV"),"success")},className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",title:"Export selected users to CSV",children:[(0,bn.jsx)(wo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Export CSV"})]}),(0,bn.jsxs)("button",{onClick:()=>{d([]),h("")},className:"flex items-center space-x-2 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",title:"Clear selection",children:[(0,bn.jsx)(Ui,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Clear Selection"})]})]})})]}),(0,bn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Management"}),(0,bn.jsxs)("button",{onClick:()=>{s(null),l(!0)},className:"cataloro-button-primary flex items-center space-x-2",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Create New User"})]})]}),(0,bn.jsx)("div",{className:"cataloro-card-glass overflow-hidden",children:(0,bn.jsx)("div",{className:"overflow-x-auto",children:(0,bn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,bn.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-md",children:(0,bn.jsxs)("tr",{children:[(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:(0,bn.jsx)("input",{type:"checkbox",onChange:e=>{return t=e.target.checked,void d(t?w.map(e=>e.id):[]);var t},checked:c.length===w.length&&w.length>0,className:"admin-checkbox purple-theme"})}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role & Badge"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Registration Status"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Active Status"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Joined"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,bn.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w.map(e=>{var t,a;return(0,bn.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bn.jsx)("input",{type:"checkbox",checked:c.includes(e.id),onChange:t=>{return r=e.id,n=t.target.checked,void d(n?[...c,r]:c.filter(e=>e!==r));var r,n},className:"admin-checkbox purple-theme"})}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white font-medium text-sm",children:(null===(t=e.full_name)||void 0===t?void 0:t.charAt(0))||(null===(a=e.username)||void 0===a?void 0:a.charAt(0))})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.full_name}),(0,bn.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email})]})]})}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bn.jsx)("div",{className:"space-y-1",children:(0,bn.jsx)("div",{className:"flex items-center space-x-2",children:(0,bn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Admin"===e.user_role||"Admin-Manager"===e.user_role||!e.user_role&&"admin"===e.role?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"User-Seller"===e.user_role?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:e.user_role||("admin"===e.role?"Admin":"User-Buyer")})})})}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Approved"!==e.registration_status&&e.registration_status?"Pending"===e.registration_status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.registration_status||"APPROVED"}),"Pending"===e.registration_status&&(0,bn.jsxs)("div",{className:"flex space-x-1",children:[(0,bn.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users/").concat(e,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?(n("User approved successfully","success"),r()):n("Failed to approve user","error")}catch(t){n("Error approving user","error"),console.error("Approve user error:",t)}})(e.id),className:"p-1 text-green-600 hover:text-green-900 hover:bg-green-50 rounded transition-colors",title:"Approve User",children:(0,bn.jsx)(ps,{className:"w-3 h-3"})}),(0,bn.jsx)("button",{onClick:()=>(async e=>{const t=prompt("Please provide a reason for rejection (optional):");if(null!==t)try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users/").concat(e,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:t||"No reason provided"})})).ok?(n("User rejected successfully","success"),r()):n("Failed to reject user","error")}catch(a){n("Error rejecting user","error"),console.error("Reject user error:",a)}})(e.id),className:"p-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Reject User",children:(0,bn.jsx)(Ui,{className:"w-3 h-3"})})]})]})}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:e.is_active?"ACTIVE":"SUSPENDED"})}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString()}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,bn.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,bn.jsx)("button",{onClick:()=>{s(e),l(!0)},className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit User",children:(0,bn.jsx)(Ks,{className:"w-4 h-4"})}),e.is_active?(0,bn.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users/").concat(e,"/suspend"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?(n("User suspended successfully","success"),r()):n("Failed to suspend user","error")}catch(t){n("Error suspending user","error"),console.error("Suspend user error:",t)}})(e.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Suspend User",children:(0,bn.jsx)(po,{className:"w-4 h-4"})}):(0,bn.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users/").concat(e,"/activate"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?(n("User activated successfully","success"),r()):n("Failed to activate user","error")}catch(t){n("Error activating user","error"),console.error("Activate user error:",t)}})(e.id),className:"p-2 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"Activate User",children:(0,bn.jsx)(ps,{className:"w-4 h-4"})}),(0,bn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok?(n("User deleted successfully","success"),r()):n("Failed to delete user","error")}catch(t){n("Error deleting user","error"),console.error("Delete user error:",t)}})(e.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete User",children:(0,bn.jsx)(qi,{className:"w-4 h-4"})})]})})]},e.id)})})]})})}),o&&(0,bn.jsx)(pl,{user:a,onClose:()=>{l(!1),s(null)},onSave:a?async e=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(n("User updated successfully","success"),l(!1),s(null),r()):n("Failed to update user","error")}catch(t){n("Error updating user","error"),console.error("Update user error:",t)}}:async e=>{try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)n("User created successfully","success"),l(!1),s(null),r();else{const e=await t.json();n(e.detail||"Failed to create user","error")}}catch(t){n("Error creating user","error"),console.error("Create user error:",t)}}})]})}function el(e){let{showToast:t}=e;const[r,n]=(0,i.useState)({title:"Discover Amazing Products",description:"From electronics to fashion, find everything you need in one place",height:400,image_url:"",search_placeholder:"Search for anything you need...",display_mode:"boxed",background_type:"gradient",background_color:"#3B82F6",background_gradient_from:"#3B82F6",background_gradient_to:"#EC4899",background_image:"",gradient_opacity:.8,background_size:"cover",background_repeat:"no-repeat",background_position:"center"}),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{n(JSON.parse(e))}catch(t){console.error("Error loading hero content:",t)}},[]);const x=(e,t)=>{n(r=>(0,Fe.A)((0,Fe.A)({},r),{},{[e]:t}))},y=()=>{s(null),l(""),n(e=>(0,Fe.A)((0,Fe.A)({},e),{},{image_url:""})),t("Hero image removed","info")};return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,bn.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,bn.jsx)(Ds,{className:"w-8 h-8"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h2",{className:"text-3xl font-bold",children:"Hero Selection"}),(0,bn.jsx)("p",{className:"text-purple-100",children:"Customize the main hero section on the Browse page"})]})]})}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8",children:[(0,bn.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,bn.jsx)(Ks,{className:"w-6 h-6 mr-3"}),"Edit Hero Content"]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Image (Optional)"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[o||r.image_url?(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center overflow-hidden",children:(0,bn.jsx)("img",{src:o||r.image_url,alt:"Hero",className:"w-full h-full object-contain"})}),(0,bn.jsx)("button",{onClick:y,className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}):(0,bn.jsx)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)(jo,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,bn.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No image uploaded"})]})}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("label",{className:"inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-pointer transition-colors",children:[(0,bn.jsx)(Xs,{className:"w-4 h-4 mr-2"}),"Upload Hero Image",(0,bn.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void t("Please select an image file (PNG, JPG, etc.)","error");if(r.size>2097152)return void t("File size must be less than 2MB","error");s(r);const e=new FileReader;e.onload=e=>{const t=e.target.result;l(t),n(e=>(0,Fe.A)((0,Fe.A)({},e),{},{image_url:t}))},e.readAsDataURL(r),t("Hero image ready - click Save & Apply to update the Browse page","info")}},className:"hidden"})]}),(o||r.image_url)&&(0,bn.jsx)("button",{onClick:y,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Remove Image"})]})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Upload a PNG/JPG image to display above the hero title. Recommended size: 200x100px (max 2MB)"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Title"}),(0,bn.jsx)("input",{type:"text",value:r.title,onChange:e=>x("title",e.target.value),placeholder:"Enter the main headline for the hero section",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg font-semibold"}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This appears as the main headline on the Browse page (recommended: 3-8 words)"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Description"}),(0,bn.jsx)("textarea",{value:r.description,onChange:e=>x("description",e.target.value),placeholder:"Enter a compelling description that appears below the title",rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This description appears below the title (recommended: 10-25 words)"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Search Bar Placeholder Text"}),(0,bn.jsx)("input",{type:"text",value:r.search_placeholder,onChange:e=>x("search_placeholder",e.target.value),placeholder:"Enter the placeholder text for the search bar",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:'This text appears inside the search bar when it\'s empty (e.g., "Search for anything you need...")'})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Section Height"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("input",{type:"range",min:"300",max:"800",step:"50",value:r.height||400,onChange:e=>x("height",parseInt(e.target.value)),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),(0,bn.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)("span",{children:"Compact (300px)"}),(0,bn.jsxs)("span",{className:"font-semibold text-purple-600 dark:text-purple-400 text-lg",children:["Current: ",r.height||400,"px"]}),(0,bn.jsx)("span",{children:"Extra Tall (800px)"})]}),(0,bn.jsx)("div",{className:"flex flex-wrap gap-2",children:[300,400,500,600,700,800].map(e=>(0,bn.jsxs)("button",{onClick:()=>x("height",e),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat((r.height||400)===e?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"px"]},e))})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Adjust the height of the hero section (300px = compact, 400px = standard, 600px+ = prominent)"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Display Mode"}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsx)("button",{onClick:()=>x("display_mode","boxed"),className:"p-4 border-2 rounded-lg transition-colors ".concat("boxed"===(r.display_mode||"boxed")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-full h-8 bg-gray-200 dark:bg-gray-600 rounded mb-2 mx-auto max-w-32"}),(0,bn.jsx)("span",{className:"text-sm font-medium",children:"Boxed"}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contained within margins"})]})}),(0,bn.jsx)("button",{onClick:()=>x("display_mode","full_width"),className:"p-4 border-2 rounded-lg transition-colors ".concat("full_width"===r.display_mode?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-full h-8 bg-gray-200 dark:bg-gray-600 rounded mb-2"}),(0,bn.jsx)("span",{className:"text-sm font-medium",children:"Full Width"}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Edge to edge display"})]})})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Choose how the hero section spans across the page"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Style"}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsx)("button",{onClick:()=>x("background_type","solid"),className:"p-4 border-2 rounded-lg transition-colors ".concat("solid"===r.background_type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-8 bg-blue-500 rounded mb-2 mx-auto"}),(0,bn.jsx)("span",{className:"text-sm font-medium",children:"Solid Color"})]})}),(0,bn.jsx)("button",{onClick:()=>x("background_type","gradient"),className:"p-4 border-2 rounded-lg transition-colors ".concat("gradient"===(r.background_type||"gradient")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded mb-2 mx-auto"}),(0,bn.jsx)("span",{className:"text-sm font-medium",children:"Gradient"})]})}),(0,bn.jsx)("button",{onClick:()=>x("background_type","image"),className:"p-4 border-2 rounded-lg transition-colors ".concat("image"===r.background_type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-8 bg-gray-300 dark:bg-gray-600 rounded mb-2 mx-auto flex items-center justify-center",children:(0,bn.jsx)("svg",{className:"w-6 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,bn.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-7 3 4 2-2 3 5z",clipRule:"evenodd"})})}),(0,bn.jsx)("span",{className:"text-sm font-medium",children:"Image Only"})]})}),(0,bn.jsx)("button",{onClick:()=>x("background_type","image-gradient"),className:"p-4 border-2 rounded-lg transition-colors ".concat("image-gradient"===r.background_type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-500/70 to-purple-500/70 rounded mb-2 mx-auto flex items-center justify-center relative",children:(0,bn.jsx)("svg",{className:"w-6 h-4 text-white relative z-10",fill:"currentColor",viewBox:"0 0 20 20",children:(0,bn.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-7 3 4 2-2 3 5z",clipRule:"evenodd"})})}),(0,bn.jsx)("span",{className:"text-sm font-medium",children:"Image + Gradient"})]})})]})]}),"solid"===r.background_type&&(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("input",{type:"color",value:r.background_color||"#3B82F6",onChange:e=>x("background_color",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:r.background_color||"#3B82F6",onChange:e=>x("background_color",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#3B82F6"})]})]}),("gradient"===r.background_type||"image-gradient"===r.background_type||!r.background_type)&&(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Gradient From Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("input",{type:"color",value:r.background_gradient_from||"#3B82F6",onChange:e=>x("background_gradient_from",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:r.background_gradient_from||"#3B82F6",onChange:e=>x("background_gradient_from",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#3B82F6"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Gradient To Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("input",{type:"color",value:r.background_gradient_to||"#EC4899",onChange:e=>x("background_gradient_to",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:r.background_gradient_to||"#EC4899",onChange:e=>x("background_gradient_to",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#EC4899"})]})]})]}),("image"===r.background_type||"image-gradient"===r.background_type)&&(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Image"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)(jo,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,bn.jsxs)("div",{className:"mt-4",children:[(0,bn.jsxs)("label",{htmlFor:"background-image-upload",className:"cursor-pointer",children:[(0,bn.jsx)("span",{className:"mt-2 block text-sm font-medium text-gray-900 dark:text-white",children:"Upload Background Image"}),(0,bn.jsx)("span",{className:"mt-1 block text-sm text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),(0,bn.jsx)("input",{id:"background-image-upload",type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void t("Please select an image file (PNG, JPG, etc.)","error");if(r.size>5242880)return void t("File size must be less than 5MB","error");d(r);const e=new FileReader;e.onload=e=>{const t=e.target.result;h(t),n(e=>(0,Fe.A)((0,Fe.A)({},e),{},{background_image:t}))},e.readAsDataURL(r),t("Background image ready - click Save & Apply to update the Browse page","info")}}})]}),(0,bn.jsx)("div",{className:"mt-4",children:(0,bn.jsxs)("button",{type:"button",onClick:()=>document.getElementById("background-image-upload").click(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[(0,bn.jsx)(Xs,{className:"w-4 h-4 mr-2"}),"Choose File"]})})]})}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,bn.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,bn.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,bn.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"or"})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Background Image URL"}),(0,bn.jsx)("input",{type:"url",value:r.background_image||"",onChange:e=>x("background_image",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=800"})]}),r.background_image&&(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("img",{src:r.background_image,alt:"Background Preview",className:"w-full h-32 object-cover rounded-lg",onError:()=>t("Failed to load background image","error")}),(0,bn.jsx)("button",{onClick:()=>x("background_image",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Quick Select Stock Images:"}),(0,bn.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=800&fit=crop&crop=center"].map((e,t)=>(0,bn.jsxs)("button",{onClick:()=>x("background_image",e),className:"relative group",children:[(0,bn.jsx)("img",{src:e,alt:"Stock ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,bn.jsx)("div",{className:"absolute inset-0 bg-purple-600/0 group-hover:bg-purple-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,bn.jsx)(ps,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Overlay Opacity"}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.gradient_opacity||.8,onChange:e=>x("gradient_opacity",parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),(0,bn.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)("span",{children:"Transparent (0%)"}),(0,bn.jsxs)("span",{className:"font-medium",children:[Math.round(100*(r.gradient_opacity||.8)),"%"]}),(0,bn.jsx)("span",{children:"Opaque (100%)"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"image"===r.background_type?"Controls the darkness of the overlay on the background image":"Controls the opacity of the gradient overlay on the background image"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Image Styling"}),(0,bn.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Image Size"}),(0,bn.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,bn.jsx)("button",{onClick:()=>x("background_size","cover"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("cover"===(r.background_size||"cover")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-8 h-6 bg-blue-500 rounded mb-1 mx-auto"}),(0,bn.jsx)("span",{className:"font-medium",children:"Cover"}),(0,bn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Fill area"})]})}),(0,bn.jsx)("button",{onClick:()=>x("background_size","contain"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("contain"===r.background_size?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded border-2 border-gray-300 mb-1 mx-auto"}),(0,bn.jsx)("span",{className:"font-medium",children:"Contain"}),(0,bn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Fit image"})]})}),(0,bn.jsx)("button",{onClick:()=>x("background_size","auto"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("auto"===r.background_size?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded mb-1 mx-auto"}),(0,bn.jsx)("span",{className:"font-medium",children:"Auto"}),(0,bn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Original"})]})})]})]}),(0,bn.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Image Repeat"}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,bn.jsx)("button",{onClick:()=>x("background_repeat","no-repeat"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("no-repeat"===(r.background_repeat||"no-repeat")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded mb-1 mx-auto"}),(0,bn.jsx)("span",{className:"font-medium",children:"No Repeat"})]})}),(0,bn.jsx)("button",{onClick:()=>x("background_repeat","repeat"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("repeat"===r.background_repeat?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-px w-6 h-6 mx-auto mb-1",children:[(0,bn.jsx)("div",{className:"bg-blue-500 rounded-tl"}),(0,bn.jsx)("div",{className:"bg-blue-500 rounded-tr"}),(0,bn.jsx)("div",{className:"bg-blue-500 rounded-bl"}),(0,bn.jsx)("div",{className:"bg-blue-500 rounded-br"})]}),(0,bn.jsx)("span",{className:"font-medium",children:"Repeat"})]})}),(0,bn.jsx)("button",{onClick:()=>x("background_repeat","repeat-x"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("repeat-x"===r.background_repeat?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsxs)("div",{className:"flex gap-px w-8 h-4 mx-auto mb-1",children:[(0,bn.jsx)("div",{className:"bg-blue-500 rounded-l flex-1"}),(0,bn.jsx)("div",{className:"bg-blue-500 flex-1"}),(0,bn.jsx)("div",{className:"bg-blue-500 rounded-r flex-1"})]}),(0,bn.jsx)("span",{className:"font-medium",children:"Repeat X"})]})}),(0,bn.jsx)("button",{onClick:()=>x("background_repeat","repeat-y"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("repeat-y"===r.background_repeat?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsxs)("div",{className:"flex flex-col gap-px w-4 h-8 mx-auto mb-1",children:[(0,bn.jsx)("div",{className:"bg-blue-500 rounded-t flex-1"}),(0,bn.jsx)("div",{className:"bg-blue-500 flex-1"}),(0,bn.jsx)("div",{className:"bg-blue-500 rounded-b flex-1"})]}),(0,bn.jsx)("span",{className:"font-medium",children:"Repeat Y"})]})})]})]}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Image Position"}),(0,bn.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,bn.jsx)("button",{onClick:()=>x("background_position","top-left"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("top-left"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Top Left"}),(0,bn.jsx)("button",{onClick:()=>x("background_position","top"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("top"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Top"}),(0,bn.jsx)("button",{onClick:()=>x("background_position","top-right"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("top-right"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Top Right"}),(0,bn.jsx)("button",{onClick:()=>x("background_position","left"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("left"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Left"}),(0,bn.jsx)("button",{onClick:()=>x("background_position","center"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("center"===(r.background_position||"center")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Center"}),(0,bn.jsx)("button",{onClick:()=>x("background_position","right"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("right"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Right"}),(0,bn.jsx)("button",{onClick:()=>x("background_position","bottom-left"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("bottom-left"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Bottom Left"}),(0,bn.jsx)("button",{onClick:()=>x("background_position","bottom"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("bottom"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Bottom"}),(0,bn.jsx)("button",{onClick:()=>x("background_position","bottom-right"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("bottom-right"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Bottom Right"})]})]})]})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8",children:[(0,bn.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,bn.jsx)(Ss,{className:"w-6 h-6 mr-3"}),"Live Preview"]}),(0,bn.jsxs)("div",{className:"relative text-white overflow-hidden w-full rounded-2xl",style:{height:"".concat(r.height||400,"px"),minHeight:"300px",background:(()=>{const e=(e,t)=>{const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!r)return e;const n=parseInt(r[1],16),a=parseInt(r[2],16),i=parseInt(r[3],16);return"rgba(".concat(n,", ").concat(a,", ").concat(i,", ").concat(t,")")},t=r.gradient_opacity||.8;switch(r.background_type){case"gradient":return"linear-gradient(to right, ".concat(r.background_gradient_from||"#3f6ec7",", ").concat(r.background_gradient_to||"#ec4899",")");case"solid":return r.background_color||"#3B82F6";case"image":return r.background_image?"linear-gradient(rgba(0,0,0,".concat(.5*t,"), rgba(0,0,0,").concat(.5*t,")), url(").concat(r.background_image,")"):"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)";case"image-gradient":const n=e(r.background_gradient_from||"#3f6ec7",t),a=e(r.background_gradient_to||"#ec4899",t);return r.background_image?"linear-gradient(to right, ".concat(n,", ").concat(a,"), url(").concat(r.background_image,")"):"linear-gradient(to right, ".concat(r.background_gradient_from||"#3f6ec7",", ").concat(r.background_gradient_to||"#ec4899",")");default:return"linear-gradient(to right, #3B82F6, #EC4899)"}})(),backgroundSize:"image"===r.background_type||"image-gradient"===r.background_type?r.background_size||"cover":"auto",backgroundPosition:"image"===r.background_type||"image-gradient"===r.background_type?r.background_position||"center":"auto",backgroundRepeat:("image"===r.background_type||"image-gradient"===r.background_type)&&r.background_repeat||"no-repeat",borderRadius:"full_width"===r.display_mode?"0":"1rem",marginLeft:"full_width"===r.display_mode?"-2rem":"0",marginRight:"full_width"===r.display_mode?"-2rem":"0"},children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,bn.jsxs)("div",{className:"relative z-10 text-center flex flex-col justify-center h-full px-8",children:[(o||r.image_url)&&(0,bn.jsx)("div",{className:"mb-6 flex justify-center",children:(0,bn.jsx)("img",{src:o||r.image_url,alt:"Hero",className:"max-h-24 max-w-48 object-contain"})}),(0,bn.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:r.title||"Enter your title above"}),(0,bn.jsx)("p",{className:"text-xl mb-8 opacity-90",children:r.description||"Enter your description above"}),(0,bn.jsx)("div",{className:"w-full",children:(0,bn.jsx)("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 max-w-4xl mx-auto",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(es,{className:"absolute left-6 text-white/70 w-6 h-6"}),(0,bn.jsx)("input",{type:"text",placeholder:r.search_placeholder||"Search for anything you need...",className:"w-full pl-16 pr-4 py-4 bg-transparent text-white placeholder-white/70 text-lg focus:outline-none",disabled:!0}),(0,bn.jsx)("div",{className:"flex-shrink-0 px-8 py-4 bg-white/20 backdrop-blur-sm text-white rounded-xl font-semibold",children:"Search"})]})})})]})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4 text-center",children:"\u2191 This is exactly how your hero section will appear on the Browse page"})]}),(0,bn.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h4",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[(0,bn.jsx)(eo,{className:"w-6 h-6 mr-2"}),"Save Hero Content"]}),(0,bn.jsx)("p",{className:"text-green-100",children:"Apply changes to the Browse page hero section. Changes take effect immediately."})]}),(0,bn.jsxs)("div",{className:"flex space-x-4",children:[(0,bn.jsxs)("button",{onClick:()=>{p(!f),f||t("\ud83d\udc41\ufe0f Preview mode enabled - see how it will look on the Browse page","info")},className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-medium",children:[(0,bn.jsx)(Ss,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Preview on Browse Page"})]}),(0,bn.jsx)("button",{onClick:async()=>{try{let e=(0,Fe.A)({},r);if(a){t("Uploading hero image...","info");const r=new FormData;r.append("image",a),r.append("section","hero"),r.append("field","image");const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/upload-image"),{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload hero image");{const t=await n.json();e.image_url="".concat("https://basket-loader.preview.emergentagent.com").concat(t.imageUrl)}}if(c){t("Uploading background image...","info");const r=new FormData;r.append("image",c),r.append("section","hero"),r.append("field","background");const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/upload-image"),{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload background image");{const t=await n.json();e.background_image="".concat("https://basket-loader.preview.emergentagent.com").concat(t.imageUrl)}}localStorage.setItem("cataloro_hero_content",JSON.stringify(e)),n(e),s(null),d(null),l(""),h(""),window.dispatchEvent(new CustomEvent("heroContentUpdated",{detail:e})),t("\u2705 Hero content saved successfully! Changes are live on the Browse page.","success"),g(!0),setTimeout(()=>g(!1),3e3)}catch(e){console.error("Save error:",e),t("\u274c Failed to save hero content: "+e.message,"error")}},className:"flex items-center space-x-2 backdrop-blur-sm text-white px-8 py-3 rounded-xl font-bold border transition-all duration-200 ".concat(m?"bg-green-500/30 hover:bg-green-500/40 border-green-400/30":"bg-white/20 hover:bg-white/30 border-white/20"),children:m?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(ps,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Settings Saved!"})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(eo,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Save & Apply"})]})})]})]})})]})}function tl(e){let{settings:t,onUpdateSettings:r,showToast:n}=e;const[a,s]=(0,i.useState)(t),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(""),[f,p]=(0,i.useState)("");(0,i.useEffect)(()=>{s(t)},[t]);const m=e=>{s((0,Fe.A)((0,Fe.A)({},a),{},{[e.target.name]:e.target.value}))},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void n("Please select an image file","error");if(r.size>2097152)return void n("File size must be less than 2MB","error");"light"===t?l(r):d(r);const e=new FileReader;e.onload=e=>{const r=e.target.result;"light"===t?(h(r),s(e=>(0,Fe.A)((0,Fe.A)({},e),{},{logo_light_url:r}))):(p(r),s(e=>(0,Fe.A)((0,Fe.A)({},e),{},{logo_dark_url:r})))},e.readAsDataURL(r),n("".concat("light"===t?"Light":"Dark"," mode logo ready - click Save Settings to apply"),"info")}},x=e=>{const t=document.querySelector(".header-logo img, .header-logo"),r=e.logo_light_url||e.logo_url,n=e.logo_dark_url||e.logo_url;if(t&&("IMG"===t.tagName&&(t.src=r||"/favicon.ico",t.alt=e.site_name||"Cataloro"),r&&n)){const e=document.getElementById("dynamic-logo-style")||document.createElement("style");e.id="dynamic-logo-style",e.textContent="\n          .header-logo img {\n            content: url('".concat(r,"');\n          }\n          .dark .header-logo img {\n            content: url('").concat(n,"');\n          }\n        "),document.head.appendChild(e)}if(e.site_name){const t=document.querySelector(".site-name, .header-title");t&&(t.textContent=e.site_name),document.title=e.site_name||"Cataloro"}if(r){const e=document.querySelector('link[rel="icon"]')||document.createElement("link");e.rel="icon",e.href=r,document.head.appendChild(e)}};return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Site Branding"}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Site Logos (Light & Dark Mode)"}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded mr-2"}),"Light Mode Logo"]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("div",{className:"w-20 h-20 bg-white border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center overflow-hidden",children:u||a.logo_light_url||a.logo_url?(0,bn.jsx)("img",{src:u||a.logo_light_url||a.logo_url,alt:"Light Logo",className:"w-full h-full object-contain"}):(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)(jo,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,bn.jsx)("span",{className:"text-xs text-gray-400",children:"Light"})]})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("label",{className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition-colors text-sm",children:[(0,bn.jsx)(Xs,{className:"w-4 h-4 mr-2"}),"Upload Light Logo",(0,bn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>g(e,"light"),className:"hidden"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For light backgrounds"})]})]})]}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)("div",{className:"w-4 h-4 bg-gray-800 border border-gray-600 rounded mr-2"}),"Dark Mode Logo"]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("div",{className:"w-20 h-20 bg-gray-800 border-2 border-dashed border-gray-600 rounded-xl flex items-center justify-center overflow-hidden",children:f||a.logo_dark_url?(0,bn.jsx)("img",{src:f||a.logo_dark_url,alt:"Dark Logo",className:"w-full h-full object-contain"}):(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)(jo,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,bn.jsx)("span",{className:"text-xs text-gray-400",children:"Dark"})]})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("label",{className:"inline-flex items-center px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-pointer transition-colors text-sm",children:[(0,bn.jsx)(Xs,{className:"w-4 h-4 mr-2"}),"Upload Dark Logo",(0,bn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>g(e,"dark"),className:"hidden"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For dark backgrounds"})]})]})]})]}),(0,bn.jsx)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,bn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,bn.jsx)("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",children:"\ud83d\udca1"}),(0,bn.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,bn.jsx)("strong",{children:"Logo Usage:"})," Upload both logos for automatic theme switching. Light logo shows on light backgrounds, dark logo shows on dark backgrounds. Recommended size: 200x60px or similar aspect ratio."]})]})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Name"}),(0,bn.jsx)("input",{type:"text",name:"site_name",value:a.site_name||"Cataloro",onChange:m,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter site name"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Description"}),(0,bn.jsx)("textarea",{name:"site_description",rows:3,value:a.site_description||"Modern Marketplace",onChange:m,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Enter site description"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Theme Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"relative",children:(0,bn.jsx)("input",{type:"color",name:"theme_color",value:a.theme_color||"#3B82F6",onChange:m,className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer bg-transparent"})}),(0,bn.jsx)("input",{type:"text",name:"theme_color",value:a.theme_color||"#3B82F6",onChange:m,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"#3B82F6"}),(0,bn.jsx)("div",{className:"w-12 h-12 rounded-lg border border-gray-300 dark:border-gray-600",style:{backgroundColor:a.theme_color||"#3B82F6"}})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Platform Configuration"}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"User Registration"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,bn.jsx)("input",{type:"checkbox",name:"allow_registration",checked:a.allow_registration||!0,onChange:e=>s((0,Fe.A)((0,Fe.A)({},a),{},{allow_registration:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,bn.jsxs)("div",{className:"ml-3",children:[(0,bn.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Allow new user registration"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable public user registration on the platform"})]})]}),(0,bn.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,bn.jsx)("input",{type:"checkbox",name:"require_approval",checked:a.require_approval||!1,onChange:e=>s((0,Fe.A)((0,Fe.A)({},a),{},{require_approval:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,bn.jsxs)("div",{className:"ml-3",children:[(0,bn.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Require admin approval"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"New users need admin approval before accessing the platform"})]})]}),(0,bn.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,bn.jsx)("input",{type:"checkbox",name:"email_notifications",checked:a.email_notifications||!0,onChange:e=>s((0,Fe.A)((0,Fe.A)({},a),{},{email_notifications:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,bn.jsxs)("div",{className:"ml-3",children:[(0,bn.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Email notifications"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Send email notifications for important events"})]})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Marketplace Features"}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commission Rate (%)"}),(0,bn.jsx)("input",{type:"number",name:"commission_rate",value:a.commission_rate||5,onChange:m,min:"0",max:"50",step:"0.1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max File Size (MB)"}),(0,bn.jsx)("input",{type:"number",name:"max_file_size",value:a.max_file_size||10,onChange:m,min:"1",max:"100",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]})]})]}),(0,bn.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h4",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[(0,bn.jsx)(eo,{className:"w-6 h-6 mr-2"}),"Save Site Branding"]}),(0,bn.jsx)("p",{className:"text-green-100",children:"Apply all branding changes including logos to the site header. Changes take effect immediately."}),(0,bn.jsx)("div",{className:"mt-2 text-sm text-green-100",children:"\u2713 Site Name & Description \u2022 \u2713 Light & Dark Mode Logos \u2022 \u2713 Theme Colors \u2022 \u2713 Platform Settings"})]}),(0,bn.jsxs)("button",{onClick:async()=>{try{localStorage.setItem("cataloro_site_branding",JSON.stringify(a)),window.dispatchEvent(new CustomEvent("brandingUpdated")),x(a),await Po.updateSettings(a),n("\u2705 Site branding saved and applied successfully! Logos now visible in header.","success"),r()}catch(e){x(a),n("\u2705 Site branding applied locally! Changes visible in header.","success")}},className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-xl font-bold shadow-lg border border-white/20",children:[(0,bn.jsx)(eo,{className:"w-6 h-6"}),(0,bn.jsx)("span",{className:"text-lg",children:"Save & Apply Changes"})]})]})})]})}function rl(e){var t,r,n,a;let{siteConfig:s,handleConfigChange:o,showToast:l}=e;const[c,d]=i.useState("browse"),[u,h]=i.useState(!1),[f,p]=i.useState(!1),m=(e,t,r)=>{var n,a,i,l,c;(console.log("\ud83d\udd27 Updating ad config: ".concat(e,".").concat(t," = ").concat(r)),"notificationUsers"===t||"notificationMethods"===t)&&console.log("\ud83d\udd0d ".concat(e," notification config update:"),{field:t,value:r,currentUsers:(null===(n=s.adsManager)||void 0===n||null===(a=n[e])||void 0===a||null===(i=a.notificationUsers)||void 0===i?void 0:i.length)||0,currentMethods:(null===(l=s.adsManager)||void 0===l||null===(c=l[e])||void 0===c?void 0:c.notificationMethods)||[]});const d=(0,Fe.A)((0,Fe.A)({},s.adsManager),{},{[e]:(0,Fe.A)((0,Fe.A)({},s.adsManager[e]),{},{[t]:r})});console.log("\ud83d\udd27 New adsManager:",d),o("adsManager",d)},g=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image";try{console.log("\ud83d\udd27 Starting image upload for ".concat(e,".").concat(r));const n=new FormData;n.append("image",t),n.append("section","ads_".concat(e)),n.append("field",r);const a=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/upload-image"),{method:"POST",body:n});if(!a.ok){const e=await a.text();throw console.error("Upload response error:",e),new Error("Upload failed: ".concat(a.status))}{const t=await a.json();console.log("\ud83d\udd27 Upload successful, result:",t);const n=t.url||t.imageUrl;if(!n)throw new Error("No image URL in response");{m(e,r,n);const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");t.adsManager||(t.adsManager={}),t.adsManager[e]||(t.adsManager[e]={}),t.adsManager[e][r]=n,t.adsManager[e].active=!1!==t.adsManager[e].active,t.adsManager[e].description=t.adsManager[e].description||"Advertisement",t.adsManager[e].runtime=t.adsManager[e].runtime||"1 month","browsePageAd"===e?(t.adsManager[e].width=t.adsManager[e].width||"300px",t.adsManager[e].height=t.adsManager[e].height||"600px"):"favoriteAd"===e?(t.adsManager[e].width=t.adsManager[e].width||"100%",t.adsManager[e].height=t.adsManager[e].height||"200px"):"messengerAd"===e&&(t.adsManager[e].width=t.adsManager[e].width||"250px",t.adsManager[e].height=t.adsManager[e].height||"400px"),t.adsManager[e].url=t.adsManager[e].url||"",t.adsManager[e].clicks=t.adsManager[e].clicks||0,localStorage.setItem("cataloro_site_config",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:t.adsManager})),l("".concat("logo"===r?"Logo":"Image"," uploaded and activated successfully!"),"success"),console.log("\ud83d\udd27 Image URL set and saved for ".concat(e,".").concat(r,":"),n),console.log("\ud83d\udd27 Updated localStorage config:",t)}}}catch(n){console.error("Image upload error:",n),l("Failed to upload image. Please try again.","error")}},x=[{id:"browse",label:"Browse Page Ad's",icon:Fi},{id:"favorite",label:"Favorite Ad's",icon:Ti},{id:"messenger",label:"Messenger Ad's",icon:Pi},{id:"footer",label:"Footer Ad's",icon:ko}],y=[{value:"1 minute",label:"1 Minute (Testing)"},{value:"5 minutes",label:"5 Minutes (Testing)"},{value:"1 hour",label:"1 Hour"},{value:"1 day",label:"1 Day"},{value:"1 week",label:"1 Week"},{value:"1 month",label:"1 Month"},{value:"3 months",label:"3 Months"},{value:"1 year",label:"1 Year"},{value:"custom",label:"\u23f1\ufe0f Custom Duration"}];return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-6 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Ad's Manager"}),(0,bn.jsx)("p",{className:"text-purple-100",children:"Manage advertisements across your marketplace"})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-3",children:(0,bn.jsx)("button",{onClick:async()=>{try{h(!0),(0,Os.deactivateExpiredAds)(),console.log("\ud83d\udd27 AdminPanel: Saving ads configuration with activation dates...");const e=(0,Fe.A)({},s.adsManager);Object.keys(e).forEach(t=>{const r=e[t];if(r.active&&!r.startDate){const n=(new Date).toISOString(),a=(0,Os.calculateExpirationDate)(n,r.runtime||"1 month");e[t]=(0,Fe.A)((0,Fe.A)({},r),{},{startDate:n,expirationDate:a}),console.log("\ud83d\udd52 Setting activation dates for ".concat(t,":"),{startDate:n,expirationDate:a,runtime:r.runtime})}});const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),r=(0,Fe.A)((0,Fe.A)((0,Fe.A)({},s),t),{},{adsManager:(0,Fe.A)((0,Fe.A)({},t.adsManager),e),heroSectionEnabled:!0});console.log("\ud83d\udd27 AdminPanel: Saving merged config with activation dates:",r),localStorage.setItem("cataloro_site_config",JSON.stringify(r)),o("adsManager",e);const n=Object.entries(e).filter(e=>{let[t,r]=e;return r.active}).length,a=Object.entries(e).filter(e=>{let[t,r]=e;return r.image||r.logo}).length;l("\ud83c\udfaf Ad's Manager configuration saved successfully! \n        ".concat(n," active ads, ").concat(a," configured ads. \n        All advertisement functionalities are now live across the marketplace!"),"success"),console.log("\ud83c\udf89 COMPLETE Ad's Manager Configuration Applied:",(0,Fe.A)((0,Fe.A)({},e),{},{appliedAt:(new Date).toISOString(),activeAds:n,totalConfigured:a})),p(!0),setTimeout(()=>p(!1),3e3),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:e}))}catch(e){console.error("Failed to save ads configuration:",e),l("Failed to save ads configuration. Please try again.","error")}finally{h(!1)}},disabled:u,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(u?"bg-gray-400 cursor-not-allowed":f?"bg-green-500 text-white":"bg-white text-purple-600 hover:bg-purple-50 shadow-lg hover:shadow-xl"),children:u?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Saving Ads..."})]}):f?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(ps,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Ads Activated!"})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Qs,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Save & Activate Ads"})]})})})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,bn.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100/50 dark:bg-gray-800/50 rounded-lg p-1 overflow-x-auto",children:x.map(e=>{const t=e.icon;return(0,bn.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 whitespace-nowrap ".concat(c===e.id?"bg-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-700/50"),children:[(0,bn.jsx)(t,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:e.label})]},e.id)})})}),"browse"===c&&(0,bn.jsx)(sl,{title:"Browse Page Advertisement",description:"Display advertisement on the right side of browse page (3 listings per row layout)",adConfig:(null===(t=s.adsManager)||void 0===t?void 0:t.browsePageAd)||{active:!1,image:null,description:"",runtime:"1 month",width:"300px",height:"600px"},adType:"browsePageAd",handleAdConfigChange:m,handleImageUpload:g,runtimeOptions:y,showDimensions:!0,dimensionsLabel:"Ad Dimensions (Vertical Banner)",showToast:l}),"favorite"===c&&(0,bn.jsx)(sl,{title:"Favorites Page Advertisement",description:"Display advertisement at the top of favorites page below 'My Favorites' header",adConfig:(null===(r=s.adsManager)||void 0===r?void 0:r.favoriteAd)||{active:!1,image:null,description:"",runtime:"1 month",width:"100%",height:"200px",url:"",clicks:0,notificationMethods:["notificationCenter"],notificationUsers:[]},adType:"favoriteAd",handleAdConfigChange:m,handleImageUpload:g,runtimeOptions:y,showDimensions:!0,dimensionsLabel:"Favorites Ad Dimensions (Banner)",showToast:l}),"messenger"===c&&(0,bn.jsx)(sl,{title:"Messenger Advertisement",description:"Display advertisements on messages page",adConfig:(null===(n=s.adsManager)||void 0===n?void 0:n.messengerAd)||{active:!1,image:null,description:"",runtime:"1 month",width:"250px",height:"400px",url:"",clicks:0,notificationMethods:["notificationCenter"],notificationUsers:[]},adType:"messengerAd",handleAdConfigChange:m,handleImageUpload:g,runtimeOptions:y,showDimensions:!0,dimensionsLabel:"Messenger Ad Dimensions (Sidebar)",showToast:l}),"footer"===c&&(0,bn.jsx)(ol,{adConfig:(null===(a=s.adsManager)||void 0===a?void 0:a.footerAd)||{active:!1,logo:null,companyName:"",runtime:"1 month",expirationEvents:["deactivate"],notificationMethods:["notificationCenter"],notificationUsers:[]},adType:"footerAd",handleAdConfigChange:m,handleImageUpload:g,runtimeOptions:y})]})}function nl(e){let{adType:t,expirationDate:r,onExpired:n}=e;const[a,s]=i.useState(null),[o,l]=i.useState(!1),[c,d]=i.useState(!1);return i.useEffect(()=>{const e=()=>{const e=(0,Os.getTimeRemaining)(r);null!==e&&void 0!==e&&e.expired&&!c?(l(!0),s(null),d(!0),console.log("\ud83d\udd52 Ad ".concat(t," expired in UI - triggering callback")),null===n||void 0===n||n()):null!==e&&void 0!==e&&e.expired||(s(e),l(!1),c&&d(!1))};e();const a=setInterval(e,1e3);return()=>clearInterval(a)},[r,n,c,t]),o?(0,bn.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center",children:(0,bn.jsx)(zi,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-red-900 dark:text-red-100",children:"\u23f0 Advertisement Expired"}),(0,bn.jsx)("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Configured expiration events have been executed"})]})]})}):a?(0,bn.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:(0,bn.jsx)(zi,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("div",{className:"font-medium text-green-900 dark:text-green-100",children:"\u23f0 Time Remaining"}),(0,bn.jsxs)("div",{className:"text-lg font-mono text-green-700 dark:text-green-300",children:[a.days>0&&(0,bn.jsxs)("span",{className:"font-bold",children:[a.days,"d "]}),a.hours>0&&(0,bn.jsxs)("span",{className:"font-bold",children:[a.hours,"h "]}),(0,bn.jsxs)("span",{className:"font-bold",children:[a.minutes,"m "]}),(0,bn.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:[a.seconds,"s"]})]}),(0,bn.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:a.days>0?"Long-term campaign":a.hours>12?"Medium-term campaign":a.minutes>5?"Short-term campaign":"Final countdown!"})]})]})}):null}const al=e=>({browsePageAd:"Browse Page",favoriteAd:"Favorites Page",messengerAd:"Messages Page",footerAd:"Footer"}[e]||e);function il(e){let{adType:t,selectedUsers:r,onUsersChange:n}=e;const[a,s]=i.useState(""),[o,l]=i.useState([]),[c,d]=i.useState(!1),[u,h]=i.useState(!1);i.useEffect(()=>{(async()=>{d(!0);try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users"));if(e.ok){const t=await e.json();l(Array.isArray(t)?t:[]),console.log("\ud83d\udccb Loaded ".concat(t.length," users for notification selection"))}else console.error("Failed to fetch users for notification selection")}catch(e){console.error("Error fetching users:",e)}finally{d(!1)}})()},[]);const f=o.filter(e=>{var t,r,n;const i=a.toLowerCase();return(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(i))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===(n=e.username)||void 0===n?void 0:n.toLowerCase().includes(i))});return(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("label",{className:"block text-xs text-orange-600 dark:text-orange-400 mb-1",children:"Select Users to Notify:"}),r.length>0&&(0,bn.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:r.map(e=>(0,bn.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-orange-100 dark:bg-orange-900/50 text-orange-800 dark:text-orange-200 text-xs rounded-md",children:["\ud83d\udc64 ",e.full_name||e.username," (",e.email,")",(0,bn.jsx)("button",{onClick:()=>(e=>{const t=r.filter(t=>t.id!==e);n(t),console.log("\u2796 Removed user from notifications")})(e.id),className:"ml-1 text-orange-600 hover:text-orange-800 dark:text-orange-400 dark:hover:text-orange-200",children:(0,bn.jsx)(Ui,{className:"w-3 h-3"})})]},e.id))}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("input",{type:"text",value:a,onChange:e=>{s(e.target.value),h(!0)},onFocus:()=>h(!0),placeholder:"Search users by name, email, or username...",className:"w-full px-3 py-2 text-xs border border-orange-300 dark:border-orange-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u&&(a.length>0||f.length>0)&&(0,bn.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-orange-300 dark:border-orange-600 rounded-md shadow-lg max-h-40 overflow-y-auto",children:c?(0,bn.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500",children:"Loading users..."}):f.length>0?f.slice(0,10).map(e=>{var t,a,i,o;return(0,bn.jsx)("button",{onClick:()=>(e=>{if(!r.find(t=>t.id===e.id)){const t=[...r,e];n(t),console.log("\u2795 Added user to notifications: ".concat(e.email))}s(""),h(!1)})(e),className:"w-full px-3 py-2 text-left text-xs hover:bg-orange-50 dark:hover:bg-orange-900/20 border-b border-gray-100 dark:border-gray-700 last:border-b-0",disabled:r.find(t=>t.id===e.id),children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-6 h-6 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-xs font-semibold text-orange-600 dark:text-orange-400",children:null===(t=(null===(a=e.full_name)||void 0===a?void 0:a[0])||(null===(i=e.username)||void 0===i?void 0:i[0])||(null===(o=e.email)||void 0===o?void 0:o[0]))||void 0===t?void 0:t.toUpperCase()})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.full_name||e.username}),(0,bn.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:e.email})]}),r.find(t=>t.id===e.id)&&(0,bn.jsx)(Bi,{className:"w-4 h-4 text-green-600"})]})},e.id)}):(0,bn.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500",children:a?"No users found matching your search":"Start typing to search users"})})]}),u&&(0,bn.jsx)("div",{className:"fixed inset-0 z-5",onClick:()=>h(!1)}),(0,bn.jsx)("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:0===r.length?"No users selected - notification will not be sent":"".concat(r.length," user").concat(1!==r.length?"s":""," will receive notification center alerts")})]})}function sl(e){var t,r,n,a,s,o,l,c,d,u,h;let{title:f,description:p,adConfig:m,adType:g,handleAdConfigChange:x,handleImageUpload:y,runtimeOptions:b,showDimensions:v=!1,dimensionsLabel:w="Ad Dimensions",showToast:j}=e;const[k,N]=i.useState(()=>{try{const a=localStorage.getItem("cataloro_site_config");if(a){var e,t;const i=JSON.parse(a);let s=null===(e=i.adsManager)||void 0===e||null===(t=e[g])||void 0===t?void 0:t.image;var r,n;if("footerAd"===g&&!s)s=null===(r=i.adsManager)||void 0===r||null===(n=r[g])||void 0===n?void 0:n.logo;if(console.log("\ud83d\udd27 AdConfigPanel (".concat(g,"): Loading image from localStorage:"),s),s){let e=s;return s.startsWith("/uploads/")&&(e="".concat("https://basket-loader.preview.emergentagent.com").concat(s),console.log("\ud83d\udd27 AdConfigPanel (".concat(g,"): Converted to full URL:"),e)),e}return m.image||null}}catch(a){console.error("\ud83d\udd27 AdConfigPanel (".concat(g,"): Error loading from localStorage:"),a)}return m.image||null}),[_,S]=i.useState(!1),[A,O]=i.useState({days:0,hours:0,minutes:0}),[E,C]=i.useState(!1);return i.useEffect(()=>{m.image&&m.image!==k&&(console.log("\ud83d\udd27 AdConfigPanel (".concat(g,"): adConfig.image changed to:"),m.image),N(m.image))},[m.image]),i.useEffect(()=>{const e=()=>{try{const a=localStorage.getItem("cataloro_site_config");if(a){var e,t;const i=JSON.parse(a);let s=null===(e=i.adsManager)||void 0===e||null===(t=e[g])||void 0===t?void 0:t.image;var r,n;if("footerAd"===g&&!s)s=null===(r=i.adsManager)||void 0===r||null===(n=r[g])||void 0===n?void 0:n.logo;if(s&&s!==k){console.log("\ud83d\udd27 AdConfigPanel (".concat(g,"): localStorage changed, updating preview to:"),s);let e=s;s.startsWith("/uploads/")&&(e="".concat("https://basket-loader.preview.emergentagent.com").concat(s),console.log("\ud83d\udd27 AdConfigPanel (".concat(g,"): Converted to full URL:"),e)),N(e)}}}catch(a){console.error("\ud83d\udd27 AdConfigPanel (".concat(g,"): Error handling storage change:"),a)}};return window.addEventListener("storage",e),window.addEventListener("adsConfigUpdated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("adsConfigUpdated",e)}},[g,k]),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:f}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:p}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:async()=>{console.log("\ud83d\udd27 Toggle clicked: ".concat(g,".active from ").concat(m.active," to ").concat(!m.active));if(!m.active){console.log("\ud83d\udd27 Admin manually activating ad: ".concat(g));const t=m.expirationDate&&(0,Os.isAdExpired)(m),r=!m.expirationDate,n=(new Date).toISOString(),a=m.runtime||"1 month";let i=m.expirationDate,s="regular";(t||r)&&(i=(0,Os.calculateExpirationDate)(n,a),s="reactivation",console.log("\ud83d\udd27 Setting new activation dates for ".concat(g,":"),{startDate:n,expirationDate:i,runtime:a}),x(g,"startDate",n),x(g,"expirationDate",i)),x(g,"active",!0);try{const e=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");e.adsManager||(e.adsManager={}),e.adsManager[g]||(e.adsManager[g]={}),e.adsManager[g].active=!0,"reactivation"===s&&(e.adsManager[g].startDate=n,e.adsManager[g].expirationDate=i),localStorage.setItem("cataloro_site_config",JSON.stringify(e));const t=e.adsManager[g].notificationUsers||[],r=e.adsManager[g].notificationMethods||[];if(console.log("\ud83d\udd0d Debugging ".concat(g," notifications:"),{adType:g,selectedUsers:t.length,notificationMethods:r,hasNotificationCenter:r.includes("notificationCenter"),currentConfig:e.adsManager[g]}),r.includes("notificationCenter")&&t.length>0){console.log("\ud83d\ude80 Sending ad start notifications to ".concat(t.length," users (").concat(s,")"));const r=t.map(async t=>{try{const r=e.adsManager[g].description||g,n=al(g),a="reactivation"===s?'"'.concat(r,'" on ').concat(n," has been activated and is now running until ").concat(new Date(i).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})):'"'.concat(r,'" on ').concat(n," has been activated and is now running");return(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(t.id,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"\ud83d\ude80 Advertisement Started",message:a,type:"success"})})).ok?(console.log("\u2705 Ad start notification sent to user ".concat(t.email," (").concat(t.id,") - ").concat(s)),{success:!0,user:t.email}):(console.error("\u274c Failed to send ad start notification to user ".concat(t.email)),{success:!1,user:t.email,error:"HTTP Error"})}catch(r){return console.error("\u274c Error sending ad start notification to user ".concat(t.email,":"),r),{success:!1,user:t.email,error:r.message}}});(async()=>{try{const e=(await Promise.all(r)).filter(e=>e.success).length;console.log("\ud83d\udcca SINGLE Ad start notifications: ".concat(e,"/").concat(t.length," sent successfully"))}catch(e){console.error("\u274c Error in batch start notification sending:",e)}})()}window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:e.adsManager}));const o="reactivation"===s?"Ad reactivated with new ".concat(a," duration!"):"Ad activated successfully!";j(o,"success")}catch(e){console.error("Error during ad activation:",e)}}else console.log("\ud83d\udd27 Admin manually deactivating ad: ".concat(g)),x(g,"active",!1)},className:"mt-1 flex items-center justify-center w-8 h-8 rounded-full transition-colors duration-200",style:{backgroundColor:m.active?"#10B981":"#6B7280",color:"white"},children:m.active?(0,bn.jsx)(ps,{className:"w-5 h-5"}):(0,bn.jsx)(Ui,{className:"w-5 h-5"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white",children:["Active ",m.active?"\u2713 ON":"\u2717 OFF"]}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable this advertisement section"})]})]}),m.active&&(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:[(0,bn.jsx)(Js,{className:"w-5 h-5 inline mr-2"}),"Advertisement Image"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[k?(0,bn.jsxs)("div",{className:"relative group max-w-sm",children:[(0,bn.jsx)("img",{src:k,alt:"Advertisement preview",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600",onError:e=>{console.error("\ud83d\udd27 AdConfigPanel (".concat(g,"): Image failed to load:"),k),console.log("\ud83d\udd27 AdConfigPanel (".concat(g,"): Image error event:"),e)},onLoad:()=>{console.log("\ud83d\udd27 AdConfigPanel (".concat(g,"): Image loaded successfully:"),k)}}),(0,bn.jsx)("button",{type:"button",onClick:()=>{N(null),x(g,"image",null)},className:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})}),(0,bn.jsx)("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:"Preview"})]}):(0,bn.jsxs)("label",{className:"w-full h-48 max-w-sm border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[_?(0,bn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,bn.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mb-2"}),(0,bn.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Uploading..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Xs,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,bn.jsx)("span",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Advertisement Image"}),(0,bn.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:["Click to browse or drag and drop",(0,bn.jsx)("br",{}),"JPG, PNG, GIF up to 5MB"]})]}),(0,bn.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("File size must be less than 5MB");else try{S(!0);const e=new FileReader;e.onload=e=>{N(e.target.result)},e.readAsDataURL(t),await y(g,t)}catch(r){console.error("Upload error:",r),N(null)}finally{S(!1)}else alert("Please select only image files")},disabled:_,className:"hidden"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Upload a high-quality image for your advertisement. Recommended size: 300x600px for browse page ads."})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description/Alt Text"}),(0,bn.jsx)("textarea",{value:m.description||"",onChange:e=>x(g,"description",e.target.value),placeholder:"Enter advertisement description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,bn.jsx)(No,{className:"w-4 h-4 inline mr-1"}),"Target URL (Optional)"]}),(0,bn.jsx)("input",{type:"url",value:m.url||"",onChange:e=>x(g,"url",e.target.value),placeholder:"https://example.com (Leave empty for non-clickable ad)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"When users click the ad, they will be redirected to this URL in a new tab"})]}),(m.clicks||0)>0&&(0,bn.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:(0,bn.jsx)(ts,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-blue-900 dark:text-blue-100",children:"\ud83d\udcca Performance Analytics"}),(0,bn.jsxs)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Total Clicks: ",(0,bn.jsx)("span",{className:"font-semibold",children:m.clicks||0})]})]})]})}),m.active&&m.expirationDate&&(0,bn.jsx)(nl,{adType:g,expirationDate:m.expirationDate,onExpired:()=>{console.log("\ud83d\udd52 Ad expired: ".concat(g," - executing configured expiration events"))}}),!m.active&&m.expirationDate&&(0,bn.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,bn.jsx)("div",{className:"flex items-center justify-between",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:(0,bn.jsx)(zi,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"\ud83d\udca4 Advertisement Inactive"}),(0,bn.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:'Click "Active" toggle to reactivate with new duration'})]})]})})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Runtime"}),(0,bn.jsx)("select",{value:m.runtime||"1 month",onChange:e=>{const t=e.target.value;x(g,"runtime",t),C("custom"===t)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:b.map(e=>(0,bn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(E||"custom"===m.runtime)&&(0,bn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[(0,bn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,bn.jsx)(zi,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),(0,bn.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"\u23f1\ufe0f Set Custom Duration"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Days"}),(0,bn.jsx)("input",{type:"number",min:"0",max:"365",value:A.days,onChange:e=>O(t=>(0,Fe.A)((0,Fe.A)({},t),{},{days:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-blue-300 dark:border-blue-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center font-mono",placeholder:"0"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Hours"}),(0,bn.jsx)("input",{type:"number",min:"0",max:"23",value:A.hours,onChange:e=>O(t=>(0,Fe.A)((0,Fe.A)({},t),{},{hours:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-blue-300 dark:border-blue-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center font-mono",placeholder:"0"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Minutes"}),(0,bn.jsx)("input",{type:"number",min:"0",max:"59",value:A.minutes,onChange:e=>O(t=>(0,Fe.A)((0,Fe.A)({},t),{},{minutes:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-blue-300 dark:border-blue-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center font-mono",placeholder:"0"})]})]}),(0,bn.jsx)("div",{className:"mb-4 p-3 bg-blue-100 dark:bg-blue-800/30 rounded-md",children:(0,bn.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,bn.jsx)("strong",{children:"Total Duration:"})," "," ",A.days>0&&"".concat(A.days," day").concat(1!==A.days?"s":""," "),A.hours>0&&"".concat(A.hours," hour").concat(1!==A.hours?"s":""," "),A.minutes>0&&"".concat(A.minutes," minute").concat(1!==A.minutes?"s":""),0===A.days&&0===A.hours&&0===A.minutes&&"No duration set"]})}),(0,bn.jsxs)("button",{onClick:()=>{if(0===24*A.days*60+60*A.hours+A.minutes)return void j("Please set at least 1 minute duration","error");const e="custom_".concat(A.days,"d_").concat(A.hours,"h_").concat(A.minutes,"m"),t=new Date,r=new Date(t);r.setDate(r.getDate()+A.days),r.setHours(r.getHours()+A.hours),r.setMinutes(r.getMinutes()+A.minutes),x(g,"runtime",e),x(g,"customDuration",A),x(g,"startDate",t.toISOString()),x(g,"expirationDate",r.toISOString());try{const n=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");n.adsManager||(n.adsManager={}),n.adsManager[g]||(n.adsManager[g]={}),n.adsManager[g].runtime=e,n.adsManager[g].customDuration=A,n.adsManager[g].startDate=t.toISOString(),n.adsManager[g].expirationDate=r.toISOString(),localStorage.setItem("cataloro_site_config",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:n.adsManager})),console.log("\ud83d\udd52 Custom runtime applied immediately for ".concat(g,":"),{runtime:e,startDate:t.toISOString(),expirationDate:r.toISOString()})}catch(n){console.error("Error updating localStorage:",n)}j("Custom duration applied: ".concat(A.days,"d ").concat(A.hours,"h ").concat(A.minutes,"m - Timer updated!"),"success")},className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-medium transition-colors flex items-center justify-center space-x-2",children:[(0,bn.jsx)(eo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Apply Custom Duration Now"})]})]}),(m.active||m.expirationDate)&&(0,bn.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[(0,bn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,bn.jsx)(Li,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mr-2"}),(0,bn.jsx)("h4",{className:"font-medium text-orange-900 dark:text-orange-100",children:"\ud83d\udd14 Expiration Events"})]}),(0,bn.jsxs)("div",{className:"mb-3",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-orange-700 dark:text-orange-300 mb-2",children:"What should happen when this ad expires?"}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{className:"border border-orange-200 dark:border-orange-700 rounded-md p-3",children:[(0,bn.jsxs)("label",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(t=m.expirationEvents)||void 0===t?void 0:t.includes("notify"))||!1,onChange:e=>{const t=m.expirationEvents||[],r=e.target.checked?[...t,"notify"]:t.filter(e=>"notify"!==e);x(g,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"\ud83d\udce7 Send notification to admin"})]}),(null===(r=m.expirationEvents)||void 0===r?void 0:r.includes("notify"))&&(0,bn.jsxs)("div",{className:"ml-6 mt-2 space-y-3",children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-orange-700 dark:text-orange-300",children:"Notification Recipients:"}),(0,bn.jsxs)("div",{className:"border border-orange-300 dark:border-orange-600 rounded-md p-3 bg-white dark:bg-gray-800",children:[(0,bn.jsxs)("label",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:!1!==(null===(n=m.notificationMethods)||void 0===n?void 0:n.includes("notificationCenter")),onChange:e=>{const t=m.notificationMethods||["notificationCenter"],r=e.target.checked?[...t.filter(e=>"notificationCenter"!==e),"notificationCenter"]:t.filter(e=>"notificationCenter"!==e);x(g,"notificationMethods",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-300",children:"\ud83d\udd14 Send to Notification Center"})]}),!1!==(null===(a=m.notificationMethods)||void 0===a?void 0:a.includes("notificationCenter"))&&(0,bn.jsx)(il,{adType:g,selectedUsers:m.notificationUsers||[],onUsersChange:e=>x(g,"notificationUsers",e)})]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(s=m.notificationMethods)||void 0===s?void 0:s.includes("email"))||!1,onChange:e=>{const t=m.notificationMethods||[],r=e.target.checked?[...t,"email"]:t.filter(e=>"email"!==e);x(g,"notificationMethods",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:"\u2709\ufe0f Email notification"})]}),(null===(o=m.notificationMethods)||void 0===o?void 0:o.includes("email"))&&(0,bn.jsxs)("div",{className:"ml-4 mt-2",children:[(0,bn.jsx)("label",{className:"block text-xs text-orange-600 dark:text-orange-400 mb-1",children:"Email Recipients (comma-separated):"}),(0,bn.jsx)("input",{type:"text",value:m.notificationEmails||"",onChange:e=>x(g,"notificationEmails",e.target.value),placeholder:"admin@company.com, manager@company.com",className:"w-full px-2 py-1 text-xs border border-orange-300 dark:border-orange-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(l=m.notificationMethods)||void 0===l?void 0:l.includes("browser"))||!1,onChange:e=>{const t=m.notificationMethods||[],r=e.target.checked?[...t,"browser"]:t.filter(e=>"browser"!==e);x(g,"notificationMethods",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:"\ud83c\udf10 Browser push notification"})]})]})]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(c=m.expirationEvents)||void 0===c?void 0:c.includes("deactivate"))||!1,onChange:e=>{const t=m.expirationEvents||[];let r;r=e.target.checked?[...t.filter(e=>"reset"!==e),"deactivate"]:t.filter(e=>"deactivate"!==e),x(g,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\u274c Deactivate advertisement"})]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(d=m.expirationEvents)||void 0===d?void 0:d.includes("reset"))||!1,onChange:e=>{const t=m.expirationEvents||[];let r;r=e.target.checked?[...t.filter(e=>"deactivate"!==e),"reset"]:t.filter(e=>"reset"!==e),x(g,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\ud83d\udd04 Reset duration (restart with same time)"})]})]})]}),(null===(u=m.expirationEvents)||void 0===u?void 0:u.includes("deactivate"))&&(null===(h=m.expirationEvents)||void 0===h?void 0:h.includes("reset"))&&(0,bn.jsx)("div",{className:"mt-3 p-2 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-md",children:(0,bn.jsx)("div",{className:"text-sm text-red-800 dark:text-red-200",children:"\u26a0\ufe0f Conflict detected: Cannot both deactivate and reset. Please choose one."})}),m.expirationEvents&&m.expirationEvents.length>0&&(0,bn.jsx)("div",{className:"mt-3 p-3 bg-orange-100 dark:bg-orange-800/30 rounded-md",children:(0,bn.jsxs)("div",{className:"text-sm text-orange-800 dark:text-orange-200",children:[(0,bn.jsx)("strong",{children:"Selected events:"})," "," ",m.expirationEvents.map(e=>{switch(e){case"notify":return"\ud83d\udce7 Notify (".concat((m.notificationMethods||["toast"]).map(e=>"toast"===e?"Toast":"email"===e?"Email":"browser"===e?"Browser":e).join(", "),")");case"deactivate":return"\u274c Deactivate";case"reset":return"\ud83d\udd04 Reset duration";default:return e}}).join(", ")]})})]}),v&&(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Width"}),(0,bn.jsx)("input",{type:"text",value:m.width||"300px",onChange:e=>x(g,"width",e.target.value),placeholder:"300px",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Height"}),(0,bn.jsx)("input",{type:"text",value:m.height||"600px",onChange:e=>x(g,"height",e.target.value),placeholder:"600px",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]})]})]})]})]})}function ol(e){var t,r,n,a,s,o;let{adConfig:l,adType:c,handleAdConfigChange:d,handleImageUpload:u,runtimeOptions:h}=e;const[f,p]=i.useState(l.logo||null),[m,g]=i.useState(!1);return i.useEffect(()=>{l.logo&&l.logo!==f&&p(l.logo)},[l.logo]),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Footer Advertisement"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:'Display a small logo in the footer with "In cooperation with [Company]" text'}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>d(c,"active",!l.active),className:"mt-1 flex items-center justify-center w-8 h-8 rounded-full transition-colors duration-200",style:{backgroundColor:l.active?"#10B981":"#6B7280",color:"white"},children:l.active?(0,bn.jsx)(ps,{className:"w-5 h-5"}):(0,bn.jsx)(Ui,{className:"w-5 h-5"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white",children:["Active ",l.active?"\u2713 ON":"\u2717 OFF"]}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable footer cooperation section"})]})]}),l.active&&(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:[(0,bn.jsx)(Js,{className:"w-5 h-5 inline mr-2"}),"Company Logo"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[f?(0,bn.jsxs)("div",{className:"relative group max-w-32",children:[(0,bn.jsx)("img",{src:f,alt:"Company logo preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-200 dark:border-gray-600 bg-white p-2"}),(0,bn.jsx)("button",{type:"button",onClick:()=>{p(null),d(c,"logo",null)},className:"absolute -top-2 -right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,bn.jsx)(Ui,{className:"w-3 h-3"})}),(0,bn.jsx)("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white px-1 py-0.5 rounded text-xs",children:"Logo"})]}):(0,bn.jsxs)("label",{className:"w-32 h-24 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[m?(0,bn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,bn.jsx)("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mb-1"}),(0,bn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Uploading..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Xs,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,bn.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 text-center",children:"Upload Logo"})]}),(0,bn.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("File size must be less than 5MB");else try{g(!0);const e=new FileReader;e.onload=e=>{p(e.target.result)},e.readAsDataURL(t),await u(c,t,"logo")}catch(r){console.error("Upload error:",r),p(null)}finally{g(!1)}else alert("Please select only image files")},disabled:m,className:"hidden"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Upload a company logo. Recommended: square format, max 5MB."})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),(0,bn.jsx)("input",{type:"text",value:l.companyName||"",onChange:e=>d(c,"companyName",e.target.value),placeholder:"Enter company name...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:'Will display as: "In cooperation with [Company Name]"'})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Runtime"}),(0,bn.jsx)("select",{value:l.runtime||"1 month",onChange:e=>d(c,"runtime",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:h.map(e=>(0,bn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"custom"===l.runtime&&(0,bn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-3",children:"Custom Runtime Settings"}),(0,bn.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs text-blue-600 dark:text-blue-400 mb-1",children:"Days"}),(0,bn.jsx)("input",{type:"number",min:"0",max:"365",value:l.customDays||0,onChange:e=>d(c,"customDays",parseInt(e.target.value)||0),className:"w-full px-2 py-1 text-sm border border-blue-300 dark:border-blue-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs text-blue-600 dark:text-blue-400 mb-1",children:"Hours"}),(0,bn.jsx)("input",{type:"number",min:"0",max:"23",value:l.customHours||0,onChange:e=>d(c,"customHours",parseInt(e.target.value)||0),className:"w-full px-2 py-1 text-sm border border-blue-300 dark:border-blue-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-xs text-blue-600 dark:text-blue-400 mb-1",children:"Minutes"}),(0,bn.jsx)("input",{type:"number",min:"0",max:"59",value:l.customMinutes||0,onChange:e=>d(c,"customMinutes",parseInt(e.target.value)||0),className:"w-full px-2 py-1 text-sm border border-blue-300 dark:border-blue-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,bn.jsx)("button",{onClick:()=>{const e=l.customDays||0,t=l.customHours||0,r=l.customMinutes||0;if(0===e&&0===t&&0===r)return void alert("Please set at least one time value (days, hours, or minutes)");const n="".concat(e," days ").concat(t," hours ").concat(r," minutes").trim();d(c,"runtime",n),console.log("\ud83d\udd27 Custom runtime saved:",n)},className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:"\ud83d\udcbe Save Custom Duration"}),(0,bn.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:["Current: ",l.customDays||0," days, ",l.customHours||0," hours, ",l.customMinutes||0," minutes"]})]}),l.active&&l.expirationDate&&(0,bn.jsx)(nl,{adType:c,expirationDate:l.expirationDate,onExpired:()=>{console.log("\ud83d\udd52 Footer ad expired: ".concat(c))}}),(0,bn.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[(0,bn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,bn.jsx)(Li,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mr-2"}),(0,bn.jsx)("h4",{className:"font-medium text-orange-900 dark:text-orange-100",children:"\ud83d\udd14 Expiration Events"})]}),(0,bn.jsxs)("div",{className:"mb-3",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-orange-700 dark:text-orange-300 mb-2",children:"What should happen when this footer ad expires?"}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("div",{className:"border border-orange-200 dark:border-orange-700 rounded-md p-3",children:[(0,bn.jsxs)("label",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(t=l.expirationEvents)||void 0===t?void 0:t.includes("notify"))||!1,onChange:e=>{const t=l.expirationEvents||[],r=e.target.checked?[...t,"notify"]:t.filter(e=>"notify"!==e);d(c,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"\ud83d\udce7 Send notification to admin"})]}),(null===(r=l.expirationEvents)||void 0===r?void 0:r.includes("notify"))&&(0,bn.jsxs)("div",{className:"ml-6 mt-2 space-y-3",children:[(0,bn.jsx)("label",{className:"block text-xs font-medium text-orange-700 dark:text-orange-300",children:"Notification Recipients:"}),(0,bn.jsxs)("div",{className:"border border-orange-300 dark:border-orange-600 rounded-md p-3 bg-white dark:bg-gray-800",children:[(0,bn.jsxs)("label",{className:"flex items-center space-x-2 mb-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:!1!==(null===(n=l.notificationMethods)||void 0===n?void 0:n.includes("notificationCenter")),onChange:e=>{const t=l.notificationMethods||["notificationCenter"],r=e.target.checked?[...t.filter(e=>"notificationCenter"!==e),"notificationCenter"]:t.filter(e=>"notificationCenter"!==e);d(c,"notificationMethods",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:"\ud83d\udd14 Send to Notification Center"})]}),!1!==(null===(a=l.notificationMethods)||void 0===a?void 0:a.includes("notificationCenter"))&&(0,bn.jsx)(il,{adType:c,selectedUsers:l.notificationUsers||[],onUsersChange:e=>d(c,"notificationUsers",e)})]})]})]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(s=l.expirationEvents)||void 0===s?void 0:s.includes("deactivate"))||!1,onChange:e=>{const t=l.expirationEvents||[];let r;r=e.target.checked?[...t.filter(e=>"reset"!==e),"deactivate"]:t.filter(e=>"deactivate"!==e),d(c,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\u274c Deactivate footer ad"})]}),(0,bn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("input",{type:"checkbox",checked:(null===(o=l.expirationEvents)||void 0===o?void 0:o.includes("reset"))||!1,onChange:e=>{const t=l.expirationEvents||[];let r;r=e.target.checked?[...t.filter(e=>"deactivate"!==e),"reset"]:t.filter(e=>"reset"!==e),d(c,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,bn.jsx)("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\ud83d\udd04 Reset duration (restart automatically)"})]})]})]})]}),f&&l.companyName&&(0,bn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,bn.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Footer Preview:"}),(0,bn.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)("div",{className:"mb-1",children:"In cooperation with:"}),(0,bn.jsx)("div",{className:"mb-1",children:(0,bn.jsx)("img",{src:f,alt:"logo",className:"h-6 object-contain object-left",style:{width:"140px"}})}),(0,bn.jsx)("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:l.companyName})]})]})]})]})]})}function ll(e){let{showToast:t}=e;const[r,n]=i.useState("appearance"),[a,s]=i.useState(!1),[o,l]=i.useState(!1);i.useEffect(()=>{console.log("\ud83d\udd27 AdminPanel: Current activeSection: ".concat(r))},[r]),i.useEffect(()=>{const e=e=>{const{adType:r,message:n}=e.detail;t("\ud83d\udd14 ".concat(n),"warning"),console.log("\ud83d\udce7 Admin notification: ".concat(n))};return window.addEventListener("adExpiredNotification",e),()=>{window.removeEventListener("adExpiredNotification",e)}},[t]);const[c,d]=i.useState(()=>{try{const g=localStorage.getItem("cataloro_site_config");if(g){var e,t,r,n,a,i,s,o,l,c,d,u;const x=JSON.parse(g);var h,f,p,m;if(console.log("\ud83d\udd27 AdminPanel: Initializing from localStorage:",x),console.log("\ud83d\udd27 AdminPanel: Parsed adsManager:",x.adsManager),x.adsManager)console.log("\ud83d\udd27 AdminPanel: Browse page ad image from localStorage:",null===(h=x.adsManager.browsePageAd)||void 0===h?void 0:h.image),console.log("\ud83d\udd27 AdminPanel: Favorite ad image from localStorage:",null===(f=x.adsManager.favoriteAd)||void 0===f?void 0:f.image),console.log("\ud83d\udd27 AdminPanel: Messenger ad image from localStorage:",null===(p=x.adsManager.messengerAd)||void 0===p?void 0:p.image),console.log("\ud83d\udd27 AdminPanel: Footer ad logo from localStorage:",null===(m=x.adsManager.footerAd)||void 0===m?void 0:m.logo);const y={adsManager:{browsePageAd:{active:!0,image:null,description:"Test Browse Page Advertisement",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0},favoriteAd:{active:!1,image:null,description:"",runtime:"1 month",url:"",clicks:0},messengerAd:{active:!1,image:null,description:"",runtime:"1 month",url:"",clicks:0},footerAd:{active:!1,logo:null,companyName:"",runtime:"1 month",url:"",clicks:0}},siteName:"Cataloro",logoUrl:"",primaryColor:"#3B82F6",secondaryColor:"#8B5CF6",backgroundColor:"#FFFFFF",textColor:"#1F2937",headerStyle:"modern",fontFamily:"Inter",borderRadius:"rounded",compactMode:!1,darkModeEnabled:!0,customCSS:"",faviconUrl:"",heroSectionEnabled:!0,featuredProductsEnabled:!0,categoriesShowcase:!0,testimonialSection:!1,newsletterSignup:!1,socialMediaLinks:{},searchBarProminent:!1,userRegistration:!0,guestBrowsing:!0,productReviews:!0,wishlistEnabled:!0,compareFeature:!1,advancedFilters:!0,bulkOperations:!1,productVariations:!1,inventoryTracking:!1,animationsEnabled:!0,footerText:"Powered by Cataloro",footerLinkColor:"#60a5fa",footerTextColor:"#ffffff",twoFactorAuth:!1,sessionTimeout:"24h",passwordMinLength:8,enableCaptcha:!0,ipWhitelist:[],rateLimiting:!0,cachingEnabled:!0,compressionEnabled:!0,lazyLoading:!0,cdnEnabled:!1,imageCaching:!0,analyticsEnabled:!0,errorReporting:!0,performanceMetrics:!0,userBehaviorTracking:!1,maintenanceMode:!1,logLevel:"info",backupEnabled:!0,autoUpdates:!1},b=(0,Fe.A)((0,Fe.A)((0,Fe.A)({},y),x),{},{adsManager:{browsePageAd:(0,Fe.A)((0,Fe.A)((0,Fe.A)({},y.adsManager.browsePageAd),(null===(e=x.adsManager)||void 0===e?void 0:e.browsePageAd)||{}),{},{image:(null===(t=x.adsManager)||void 0===t||null===(r=t.browsePageAd)||void 0===r?void 0:r.image)||y.adsManager.browsePageAd.image}),favoriteAd:(0,Fe.A)((0,Fe.A)((0,Fe.A)({},y.adsManager.favoriteAd),(null===(n=x.adsManager)||void 0===n?void 0:n.favoriteAd)||{}),{},{image:(null===(a=x.adsManager)||void 0===a||null===(i=a.favoriteAd)||void 0===i?void 0:i.image)||y.adsManager.favoriteAd.image}),messengerAd:(0,Fe.A)((0,Fe.A)((0,Fe.A)({},y.adsManager.messengerAd),(null===(s=x.adsManager)||void 0===s?void 0:s.messengerAd)||{}),{},{image:(null===(o=x.adsManager)||void 0===o||null===(l=o.messengerAd)||void 0===l?void 0:l.image)||y.adsManager.messengerAd.image}),footerAd:(0,Fe.A)((0,Fe.A)((0,Fe.A)({},y.adsManager.footerAd),(null===(c=x.adsManager)||void 0===c?void 0:c.footerAd)||{}),{},{logo:(null===(d=x.adsManager)||void 0===d||null===(u=d.footerAd)||void 0===u?void 0:u.logo)||y.adsManager.footerAd.logo})}});return console.log("\ud83d\udd27 AdminPanel: Final merged adsManager:",b.adsManager),console.log("\ud83d\udd27 AdminPanel: Final browse page ad image:",b.adsManager.browsePageAd.image),b}}catch(g){console.error("\ud83d\udd27 AdminPanel: Error loading from localStorage:",g)}return{adsManager:{browsePageAd:{active:!0,image:null,description:"Test Browse Page Advertisement",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0},favoriteAd:{active:!1,image:null,description:"",runtime:"1 month",url:"",clicks:0},messengerAd:{active:!1,image:null,description:"",runtime:"1 month",url:"",clicks:0},footerAd:{active:!1,logo:null,companyName:"",runtime:"1 month",url:"",clicks:0}},siteName:"Cataloro",logoUrl:"",primaryColor:"#3B82F6",secondaryColor:"#8B5CF6",backgroundColor:"#FFFFFF",textColor:"#1F2937",headerStyle:"modern",fontFamily:"Inter",borderRadius:"rounded",compactMode:!1,darkModeEnabled:!0,customCSS:"",faviconUrl:"",heroSectionEnabled:!0,featuredProductsEnabled:!0,categoriesShowcase:!0,testimonialSection:!1,newsletterSignup:!1,socialMediaLinks:{},searchBarProminent:!1,userRegistration:!0,guestBrowsing:!0,productReviews:!0,wishlistEnabled:!0,compareFeature:!1,advancedFilters:!0,bulkOperations:!1,productVariations:!1,inventoryTracking:!1,animationsEnabled:!0,footerText:"Powered by Cataloro",footerLinkColor:"#60a5fa",footerTextColor:"#ffffff",twoFactorAuth:!1,sessionTimeout:"24h",passwordMinLength:8,enableCaptcha:!0,ipWhitelist:[],rateLimiting:!0,cachingEnabled:!0,compressionEnabled:!0,lazyLoading:!0,cdnEnabled:!1,imageCaching:!0,analyticsEnabled:!0,errorReporting:!0,performanceMetrics:!0,userBehaviorTracking:!1,maintenanceMode:!1,logLevel:"info",backupEnabled:!0,autoUpdates:!1}}),u=(e,t)=>{console.log("\ud83d\udd27 AdminPanel: Config change - ".concat(e,":"),t),d(r=>{const n=(0,Fe.A)((0,Fe.A)({},r),{},{[e]:t});if("adsManager"===e)try{const e=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),r=(0,Fe.A)((0,Fe.A)({},e),{},{adsManager:t,heroSectionEnabled:!0});localStorage.setItem("cataloro_site_config",JSON.stringify(r)),console.log("\ud83d\udd27 AdminPanel: Synced ads config to localStorage:",r),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:t}))}catch(a){console.error("\ud83d\udd27 AdminPanel: Error syncing to localStorage:",a)}return n})},h=async()=>{try{s(!0),await new Promise(e=>setTimeout(e,1500));const e=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),n=(0,Fe.A)((0,Fe.A)((0,Fe.A)({},c),e),{},{adsManager:e.adsManager||c.adsManager,heroSectionEnabled:!0});console.log("\ud83d\udd27 AdminPanel: Saving merged config to localStorage:",n),localStorage.setItem("cataloro_site_config",JSON.stringify(n));if(!bs(n))throw new Error("Configuration application failed");{const e=Object.entries(c).filter(e=>{let[t,r]=e;return"boolean"===typeof r&&r}).length,n=Object.entries(c).filter(e=>{let[t,r]=e;return null!==r&&void 0!==r&&""!==r}).length;if(t("\u2705 Site configuration saved and applied successfully! \n          ".concat(n," settings configured, ").concat(e," features enabled. \n          All changes are now live across the site."),"success"),console.log("\ud83c\udf89 COMPLETE Site Configuration Applied:",(0,Fe.A)((0,Fe.A)({},c),{},{appliedAt:(new Date).toISOString(),totalSettings:n,enabledFeatures:e})),l(!0),setTimeout(()=>l(!1),3e3),"footer"===r){const e=document.getElementById("footer-save-success");e&&(e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},5e3))}if("features"===r){const e=document.getElementById("features-save-success");e&&(e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},5e3))}document.body.style.transition="opacity 0.3s ease",document.body.style.opacity="0.95",setTimeout(()=>{document.body.style.opacity="1",setTimeout(()=>{document.body.style.transition=""},300)},150)}}catch(e){console.error("Save error:",e),t("Failed to save and apply configuration. Please try again.","error")}finally{s(!1)}};i.useEffect(()=>{const e=localStorage.getItem("cataloro_site_config");if(e)try{const t=JSON.parse(e);d(e=>(0,Fe.A)((0,Fe.A)({},e),t)),console.log("Loaded saved site configuration (not applied yet)")}catch(t){console.warn("Could not load saved configuration")}},[]),i.useEffect(()=>{const e=e=>{const t=e.detail;console.log("\ud83d\udd04 Ads config updated from global expiration service:",t),d(e=>(0,Fe.A)((0,Fe.A)({},e),{},{adsManager:t}))};return window.addEventListener("adsConfigUpdated",e),()=>window.removeEventListener("adsConfigUpdated",e)},[]);const f=[{id:"appearance",label:"Appearance & Themes",icon:_o,description:"Customize site appearance, colors, fonts, and layout"},{id:"content",label:"Content Management",icon:Zs,description:"Manage info page content with rich text editing capabilities"},{id:"ads-manager",label:"Ad's Manager",icon:Ns,description:"Manage advertisements across browse page, favorites, messenger, and footer"},{id:"system-notifications",label:"System Notifications Manager",icon:Li,description:"Manage green toast notifications that appear in the top right corner with event triggers"},{id:"hero",label:"Hero Selection",icon:Ds,description:"Customize the main hero section on the Browse page"},{id:"footer",label:"Footer Configuration",icon:ko,description:"Customize footer content, links, and social media"},{id:"features",label:"Feature Management",icon:Qs,description:"Enable/disable marketplace features and functionality"},{id:"performance",label:"Performance & SEO",icon:Vi,description:"Optimize site performance and search engine visibility"},{id:"communications",label:"Communications",icon:is,description:"Manage notifications, emails, and messaging systems"},{id:"system",label:"System & Maintenance",icon:vo,description:"System settings, maintenance, and advanced configuration"},{id:"pdf-export",label:"PDF Export Center",icon:wo,description:"Export comprehensive reports and data in PDF format"}];return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Site Administration"}),(0,bn.jsx)("p",{className:"text-blue-100",children:"Complete control over your marketplace platform"})]}),(0,bn.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,bn.jsx)("div",{className:"flex items-center space-x-2 ml-auto",children:(0,bn.jsx)("button",{onClick:h,disabled:a,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(a?"bg-gray-400 cursor-not-allowed":o?"bg-green-500 text-white":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl text-white"),children:a?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Saving..."})]}):o?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(ps,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Settings Saved!"})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(eo,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Save All Changes"})]})})})})]})}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Administration Sections"}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(e=>{const t=e.icon;return(0,bn.jsxs)("button",{onClick:()=>{console.log("\ud83d\udd27 AdminPanel: Clicking section: ".concat(e.id)),n(e.id),console.log("\ud83d\udd27 AdminPanel: Active section set to: ".concat(e.id))},className:"p-4 rounded-lg border-2 transition-all duration-200 text-left ".concat(r===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,bn.jsx)(t,{className:"w-6 h-6 ".concat(r===e.id?"text-blue-600":"text-gray-500")}),(0,bn.jsx)("span",{className:"font-medium ".concat(r===e.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"),children:e.label})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]},e.id)})})]}),(0,bn.jsxs)("div",{className:"space-y-6",children:["appearance"===r&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(_o,{className:"w-5 h-5 mr-2"}),"Color Scheme & Branding"]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"color",value:c.primaryColor,onChange:e=>u("primaryColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:c.primaryColor,onChange:e=>u("primaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Secondary Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"color",value:c.secondaryColor,onChange:e=>u("secondaryColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:c.secondaryColor,onChange:e=>u("secondaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Accent Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"color",value:c.accentColor,onChange:e=>u("accentColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:c.accentColor,onChange:e=>u("accentColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(So,{className:"w-5 h-5 mr-2"}),"Typography & Layout"]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Font Family"}),(0,bn.jsxs)("select",{value:c.fontFamily,onChange:e=>u("fontFamily",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"inter",children:"Inter (Modern)"}),(0,bn.jsx)("option",{value:"roboto",children:"Roboto (Clean)"}),(0,bn.jsx)("option",{value:"opensans",children:"Open Sans (Friendly)"}),(0,bn.jsx)("option",{value:"lato",children:"Lato (Professional)"}),(0,bn.jsx)("option",{value:"poppins",children:"Poppins (Trendy)"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Base Font Size"}),(0,bn.jsxs)("select",{value:c.fontSize,onChange:e=>u("fontSize",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"14",children:"Small (14px)"}),(0,bn.jsx)("option",{value:"16",children:"Medium (16px)"}),(0,bn.jsx)("option",{value:"18",children:"Large (18px)"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Border Radius"}),(0,bn.jsxs)("select",{value:c.borderRadius,onChange:e=>u("borderRadius",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"4",children:"Minimal (4px)"}),(0,bn.jsx)("option",{value:"8",children:"Modern (8px)"}),(0,bn.jsx)("option",{value:"12",children:"Rounded (12px)"}),(0,bn.jsx)("option",{value:"16",children:"Very Rounded (16px)"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Default Theme"}),(0,bn.jsxs)("select",{value:c.defaultTheme,onChange:e=>u("defaultTheme",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"light",children:"Light Theme"}),(0,bn.jsx)("option",{value:"dark",children:"Dark Theme"}),(0,bn.jsx)("option",{value:"auto",children:"Auto (System)"})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(ko,{className:"w-5 h-5 mr-2"}),"Layout Configuration"]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"sidebarEnabled",label:"Enable Sidebar Navigation",desc:"Show sidebar navigation instead of header"},{key:"breadcrumbsEnabled",label:"Show Breadcrumbs",desc:"Display navigation breadcrumbs"},{key:"footerEnabled",label:"Show Footer",desc:"Display site footer"},{key:"compactMode",label:"Compact Mode",desc:"Reduce spacing for more content"},{key:"animationsEnabled",label:"Enable Animations",desc:"Show transitions and animations"},{key:"enableDarkMode",label:"Dark Mode Available",desc:"Allow users to toggle dark mode"}].map(e=>(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,bn.jsx)(Ao,{className:"w-6 h-6 text-blue-600"}):(0,bn.jsx)(Oo,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Eo,{className:"w-5 h-5 mr-2"}),"Custom CSS Injection"]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom CSS Code"}),(0,bn.jsx)("textarea",{value:c.customCSS,onChange:e=>u("customCSS",e.target.value),placeholder:"/* Enter custom CSS here */",rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm resize-none"}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Add custom CSS to override default styles. Changes apply site-wide."})]})]})]}),"content"===r&&(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsx)(Bo,{})}),"ads-manager"===r&&(0,bn.jsx)(rl,{siteConfig:c,handleConfigChange:u,showToast:t}),"system-notifications"===r&&(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsx)(Uo,{})}),"hero"===r&&(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsx)(el,{showToast:t})}),"footer"===r&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(ko,{className:"w-5 h-5 mr-2"}),"Footer Display Settings"]}),(0,bn.jsx)("div",{className:"space-y-4",children:(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>u("footerEnabled",!c.footerEnabled),className:"mt-1",children:c.footerEnabled?(0,bn.jsx)(Ao,{className:"w-6 h-6 text-green-600"}):(0,bn.jsx)(Oo,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Enable Footer"}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show/hide the site footer"})]})]})})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Ns,{className:"w-5 h-5 mr-2"}),"Company Information"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),(0,bn.jsx)("input",{type:"text",value:c.footerCompanyName,onChange:e=>u("footerCompanyName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your Company Name"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tagline"}),(0,bn.jsx)("input",{type:"text",value:c.footerTagline,onChange:e=>u("footerTagline",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your company tagline"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,bn.jsx)("textarea",{value:c.footerDescription,onChange:e=>u("footerDescription",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Brief description of your company..."})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(ss,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,bn.jsx)("input",{type:"email",value:c.footerEmail,onChange:e=>u("footerEmail",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"contact@company.com"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),(0,bn.jsx)("input",{type:"tel",value:c.footerPhone,onChange:e=>u("footerPhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"+1 (555) 123-4567"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),(0,bn.jsx)("input",{type:"text",value:c.footerAddress,onChange:e=>u("footerAddress",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"123 Street, City, State"})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Si,{className:"w-5 h-5 mr-2"}),"Social Media Links"]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook URL"}),(0,bn.jsx)("input",{type:"url",value:c.footerFacebook,onChange:e=>u("footerFacebook",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://facebook.com/yourpage"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter URL"}),(0,bn.jsx)("input",{type:"url",value:c.footerTwitter,onChange:e=>u("footerTwitter",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://twitter.com/youraccount"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram URL"}),(0,bn.jsx)("input",{type:"url",value:c.footerInstagram,onChange:e=>u("footerInstagram",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://instagram.com/youraccount"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn URL"}),(0,bn.jsx)("input",{type:"url",value:c.footerLinkedin,onChange:e=>u("footerLinkedin",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://linkedin.com/company/yourcompany"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"YouTube URL"}),(0,bn.jsx)("input",{type:"url",value:c.footerYoutube,onChange:e=>u("footerYoutube",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://youtube.com/yourchannel"})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(_o,{className:"w-5 h-5 mr-2"}),"Footer Styling"]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Background Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"color",value:c.footerBackgroundColor,onChange:e=>u("footerBackgroundColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:c.footerBackgroundColor,onChange:e=>u("footerBackgroundColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Text Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"color",value:c.footerTextColor,onChange:e=>u("footerTextColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:c.footerTextColor,onChange:e=>u("footerTextColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link Color"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"color",value:c.footerLinkColor,onChange:e=>u("footerLinkColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,bn.jsx)("input",{type:"text",value:c.footerLinkColor,onChange:e=>u("footerLinkColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Save Footer Configuration"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Apply your footer changes to the website"})]}),(0,bn.jsx)("button",{onClick:h,disabled:a,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(a?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl"," text-white"),children:a?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Saving..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(eo,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Save Footer Settings"})]})})]}),(0,bn.jsxs)("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hidden",id:"footer-save-success",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-green-800 dark:text-green-200",children:[(0,bn.jsx)(ps,{className:"w-5 h-5"}),(0,bn.jsx)("span",{className:"font-medium",children:"Footer settings saved successfully!"})]}),(0,bn.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your footer configuration has been applied to the website."})]})]})]}),"features"===r&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Si,{className:"w-5 h-5 mr-2"}),"Homepage Configuration"]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"heroSectionEnabled",label:"Hero Section",desc:"Show main banner/hero section on homepage"},{key:"featuredProductsEnabled",label:"Featured Products",desc:"Display featured products carousel"},{key:"categoriesShowcase",label:"Categories Showcase",desc:"Show category grid on homepage"},{key:"testimonialSection",label:"Testimonials",desc:"Display customer testimonials"},{key:"newsletterSignup",label:"Newsletter Signup",desc:"Show newsletter subscription form"},{key:"searchBarProminent",label:"Prominent Search",desc:"Make search bar more prominent"}].map(e=>(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,bn.jsx)(Ao,{className:"w-6 h-6 text-green-600"}):(0,bn.jsx)(Oo,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Ai,{className:"w-5 h-5 mr-2"}),"Marketplace Features"]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"userRegistration",label:"User Registration",desc:"Allow new users to register accounts"},{key:"guestBrowsing",label:"Guest Browsing",desc:"Allow non-registered users to browse products"},{key:"productReviews",label:"Product Reviews",desc:"Enable product rating and review system"},{key:"wishlistEnabled",label:"Wishlist/Favorites",desc:"Allow users to save favorite products"},{key:"compareFeature",label:"Product Compare",desc:"Side-by-side product comparison tool"},{key:"advancedFilters",label:"Advanced Filters",desc:"Enhanced search and filter options"},{key:"bulkOperations",label:"Bulk Operations",desc:"Bulk edit/delete for admin users"},{key:"productVariations",label:"Product Variations",desc:"Support for size, color, etc. variations"},{key:"inventoryTracking",label:"Inventory Tracking",desc:"Track product stock levels"}].map(e=>(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,bn.jsx)(Ao,{className:"w-6 h-6 text-green-600"}):(0,bn.jsx)(Oo,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Apply Feature Changes"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Make selected features active on the website"})]}),(0,bn.jsx)("button",{onClick:h,disabled:a,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(a?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl"," text-white"),children:a?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Applying..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(ps,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Apply Features"})]})})]}),(0,bn.jsxs)("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hidden",id:"features-save-success",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-green-800 dark:text-green-200",children:[(0,bn.jsx)(ps,{className:"w-5 h-5"}),(0,bn.jsx)("span",{className:"font-medium",children:"Feature configuration applied successfully!"})]}),(0,bn.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your selected features are now active on the website."})]})]})]}),"performance"===r&&(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Qs,{className:"w-5 h-5 mr-2"}),"Performance Optimization"]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"cacheEnabled",label:"Enable Caching",desc:"Cache static resources for faster loading"},{key:"compressionEnabled",label:"Enable Compression",desc:"Compress files to reduce bandwidth"},{key:"lazyLoading",label:"Lazy Loading",desc:"Load images and content as needed"},{key:"performanceMonitoring",label:"Performance Monitoring",desc:"Track site performance metrics"}].map(e=>(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,bn.jsx)(Ao,{className:"w-6 h-6 text-green-600"}):(0,bn.jsx)(Oo,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(es,{className:"w-5 h-5 mr-2"}),"SEO & Analytics"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Google Analytics ID"}),(0,bn.jsx)("input",{type:"text",value:c.googleAnalytics,onChange:e=>u("googleAnalytics",e.target.value),placeholder:"GA-XXXXXXXXX-X",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook Pixel ID"}),(0,bn.jsx)("input",{type:"text",value:c.facebookPixel,onChange:e=>u("facebookPixel",e.target.value),placeholder:"Enter Facebook Pixel ID",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsx)("div",{className:"space-y-4",children:[{key:"seoOptimization",label:"SEO Optimization",desc:"Enable automatic SEO optimizations"},{key:"sitemapGeneration",label:"Sitemap Generation",desc:"Automatically generate XML sitemap"},{key:"robotsTxt",label:"Robots.txt",desc:"Enable robots.txt file for search engines"},{key:"userBehaviorTracking",label:"User Behavior Tracking",desc:"Track user interactions and behavior"}].map(e=>(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,bn.jsx)(Ao,{className:"w-6 h-6 text-green-600"}):(0,bn.jsx)(Oo,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]})]}),"communications"===r&&(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Li,{className:"w-5 h-5 mr-2"}),"Notification Systems"]}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Send notifications via email"},{key:"pushNotifications",label:"Push Notifications",desc:"Browser push notifications"},{key:"smsNotifications",label:"SMS Notifications",desc:"Send SMS for critical updates"},{key:"inAppMessaging",label:"In-App Messaging",desc:"Built-in messaging system"},{key:"newsletterSystem",label:"Newsletter System",desc:"Email newsletter functionality"}].map(e=>(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,bn.jsx)(Ao,{className:"w-6 h-6 text-green-600"}):(0,bn.jsx)(Oo,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})}),"system"===r&&(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(vo,{className:"w-5 h-5 mr-2"}),"System Configuration"]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Log Level"}),(0,bn.jsxs)("select",{value:c.logLevel,onChange:e=>u("logLevel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"error",children:"Error Only"}),(0,bn.jsx)("option",{value:"warn",children:"Warnings"}),(0,bn.jsx)("option",{value:"info",children:"Info"}),(0,bn.jsx)("option",{value:"debug",children:"Debug (Verbose)"})]})]}),(0,bn.jsx)("div",{className:"space-y-4",children:[{key:"maintenanceMode",label:"Maintenance Mode",desc:"Enable site maintenance mode",color:"red"},{key:"debugMode",label:"Debug Mode",desc:"Enable detailed error reporting",color:"yellow"},{key:"backupEnabled",label:"Automatic Backups",desc:"Schedule regular system backups",color:"green"},{key:"autoUpdates",label:"Auto Updates",desc:"Automatically install security updates",color:"blue"}].map(e=>(0,bn.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,bn.jsx)(Ao,{className:"w-6 h-6 ".concat("red"===e.color?"text-red-600":"yellow"===e.color?"text-yellow-600":"blue"===e.color?"text-blue-600":"text-green-600")}):(0,bn.jsx)(Oo,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]})}),"pdf-export"===r&&(0,bn.jsx)(Xo,{showToast:t})]})]})}function cl(e){let{showToast:t}=e;const[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)("all"),[u,h]=(0,i.useState)("active"),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)(!1),[x,y]=(0,i.useState)(null),[b,v]=(0,i.useState)(""),{allProducts:w}=Xn();(0,i.useEffect)(()=>{j()},[]);const j=async()=>{try{s(!0),console.log("\ud83d\udd04 Fetching listings from backend...");const a=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/listings?status=all"));if(a.ok){const t=await a.json();console.log("\ud83d\udcca Backend listings response:",t);let i=[];Array.isArray(t)?i=t:t.listings&&Array.isArray(t.listings)&&(i=t.listings);let s=[];try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/orders"));if(e.ok)s=await e.json();else{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/orders/seller/admin"));e.ok&&(s=await e.json())}}catch(e){console.log("\u26a0\ufe0f Could not fetch orders data:",e)}let o=[];try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/users"));e.ok&&(o=await e.json())}catch(r){console.log("\u26a0\ufe0f Could not fetch users data:",r)}const l=i.map((e,t)=>{var r;const n=s.filter(t=>t.listing_id===e.id&&"pending"===t.status).length,a=o.find(t=>t.id===e.seller_id),i={id:e.seller_id,username:(null===a||void 0===a?void 0:a.username)||"Unknown User",full_name:(null===a||void 0===a?void 0:a.full_name)||(null===a||void 0===a?void 0:a.username)||"Unknown User"};return{id:e.id||e._id||"backend-".concat(t),title:e.title,price:e.price,status:e.status||"active",seller_id:e.seller_id,seller_username:i.username,seller_full_name:i.full_name,created_date:e.created_at?new Date(e.created_at).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],views:e.views||Math.floor(1e3*Math.random()),image:(null===(r=e.images)||void 0===r?void 0:r[0])||e.image,description:e.description,condition:e.condition||"New",location:e.location||"Unknown Location",pendingOrders:n}});console.log("\u2705 Successfully loaded",l.length,"listings from backend with seller info"),n(l)}else console.error("\u274c Backend fetch failed with status:",a.status),null===t||void 0===t||t("Failed to load listings from backend","error"),n([])}catch(a){console.error("\u274c Error fetching listings:",a),null===t||void 0===t||t("Error loading listings from backend","error"),n([])}finally{s(!1)}},k=r.filter(e=>{const t=!o||e.title.toLowerCase().includes(o.toLowerCase())||e.seller.toLowerCase().includes(o.toLowerCase());let r=!0;switch(u){case"active":r="active"===e.status||"approved"===e.status;break;case"pending":const t=e.pendingOrders&&e.pendingOrders>0;r="pending"===e.status||"awaiting_approval"===e.status||t;break;case"inactive":r="inactive"===e.status||"deactivated"===e.status||"paused"===e.status;break;case"expired":r="expired"===e.status;break;case"sold":r="sold"===e.status||"completed"===e.status||"finished"===e.status;break;default:r=!0}return t&&r}),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("\ud83d\ude80 HANDLEBULKACTION CALLED!","Action:",e,"Selected:",f);const a=e||b;if(console.log("\ud83d\udd0d handleBulkAction called with:",a,"selectedListings:",f.length),!a||0===f.length)return console.log("\u274c Early return: no action or no selected listings"),void(null===t||void 0===t||t("No action selected or no listings selected","error"));try{if(console.log("\ud83d\udd0d Starting bulk action:",a),["activate","deactivate","delete","feature","unfeature","approve","reject"].includes(a)){console.log("\ud83d\udd0d Performing backend operations for:",f);const e=f.map(async e=>{const t=r.find(t=>t.id===e);if(!t)return console.log("\u274c Listing not found:",e),null;if(console.log("\ud83d\udd0d Processing listing:",e,"action:",a),"delete"===a){console.log("\ud83d\uddd1\ufe0f Deleting listing:",e);const t="".concat("https://basket-loader.preview.emergentagent.com","/api/listings/").concat(e);console.log("\ud83d\udd0d Delete URL:",t);const r=await fetch(t,{method:"DELETE"});return console.log("\ud83d\udd0d Delete request completed for:",e,"Status:",r.status),r}{let r=(0,Fe.A)({},t);switch(a){case"activate":r.status="active";break;case"deactivate":r.status="inactive";break;case"feature":r.featured=!0;break;case"unfeature":r.featured=!1;break;case"approve":r.status="approved",r.approved=!0;break;case"reject":r.status="rejected",r.rejected=!0}return fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/listings/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}});console.log("\u23f3 Waiting for all operations to complete...");const t=await Promise.all(e);console.log("\u2705 All operations completed. Results:",t.map(e=>e?e.status:"null"));const n=t.filter(e=>e&&!e.ok);if(console.log("\ud83d\udd0d Failed operations count:",n.length),n.length>0)throw console.error("\u274c Failed operations:",n),new Error("".concat(n.length," operations failed"));console.log("\u2705 All operations successful, updating local state...")}switch(console.log("\ud83d\udd04 Updating local state for action:",a),a){case"activate":n(r.map(e=>f.includes(e.id)?(0,Fe.A)((0,Fe.A)({},e),{},{status:"active"}):e)),null===t||void 0===t||t("".concat(f.length," listings activated"),"success");break;case"deactivate":n(r.map(e=>f.includes(e.id)?(0,Fe.A)((0,Fe.A)({},e),{},{status:"inactive"}):e)),null===t||void 0===t||t("".concat(f.length," listings deactivated"),"success");break;case"delete":console.log("\ud83d\uddd1\ufe0f Executing delete case. Filtering out listings:",f);const e=r.length,i=r.filter(e=>!f.includes(e.id));console.log("\ud83d\udd0d Before: ".concat(e," listings, After: ").concat(i.length," listings")),n(i),null===t||void 0===t||t("".concat(f.length," listings deleted successfully"),"success"),console.log("\ud83d\udd04 Refreshing listings from backend after bulk delete..."),await j(),console.log("\u2705 Listings refreshed after bulk delete");break;case"feature":n(r.map(e=>f.includes(e.id)?(0,Fe.A)((0,Fe.A)({},e),{},{featured:!0}):e)),null===t||void 0===t||t("".concat(f.length," listings featured"),"success");break;case"unfeature":n(r.map(e=>f.includes(e.id)?(0,Fe.A)((0,Fe.A)({},e),{},{featured:!1}):e)),null===t||void 0===t||t("".concat(f.length," listings unfeatured"),"success");break;case"approve":n(r.map(e=>f.includes(e.id)?(0,Fe.A)((0,Fe.A)({},e),{},{status:"approved",approved:!0}):e)),null===t||void 0===t||t("".concat(f.length," listings approved"),"success");break;case"reject":n(r.map(e=>f.includes(e.id)?(0,Fe.A)((0,Fe.A)({},e),{},{status:"rejected",rejected:!0}):e)),null===t||void 0===t||t("".concat(f.length," listings rejected"),"success");break;case"duplicate":const s=f.map(async e=>{const t=r.find(t=>t.id===e),n=(0,Fe.A)((0,Fe.A)({},t),{},{title:"".concat(t.title," (Copy)"),created_date:(new Date).toISOString().split("T")[0]});return delete n.id,fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/listings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})});await Promise.all(s),await j(),null===t||void 0===t||t("".concat(f.length," listings duplicated"),"success");break;case"export":null===t||void 0===t||t("".concat(f.length," listings exported"),"success");break;case"bulk-edit":null===t||void 0===t||t("Bulk edit mode activated for ".concat(f.length," listings"),"info");break;default:null===t||void 0===t||t("Unknown action: ".concat(a),"error")}p([]),v(""),console.log("\u2705 Bulk action completed successfully")}catch(i){console.error("\u274c Bulk action error:",i),null===t||void 0===t||t("Error performing bulk action: ".concat(i.message),"error")}},[_,S]=(0,i.useState)(!1),[A,O]=(0,i.useState)(null),[E,C]=(0,i.useState)([]),P=e=>{console.log("\ud83d\udd0d Requesting bulk action:",e,"for",f.length,"listings"),0!==f.length?["delete","reject"].includes(e)?(O(e),C([...f]),S(!0)):N(e):null===t||void 0===t||t("No listings selected","error")};return a?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsx)("div",{className:"spinner"})}):(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsx)("div",{className:"cataloro-card-glass p-8",children:(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,bn.jsxs)("div",{className:"text-center lg:text-left",children:[(0,bn.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:"Listings Management"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Comprehensive marketplace listings control center"})]}),(0,bn.jsxs)("div",{className:"flex justify-center lg:justify-end items-center space-x-4",children:[(0,bn.jsxs)("button",{onClick:async()=>{console.log("\ud83d\udd04 Refreshing listings..."),null===t||void 0===t||t("Refreshing listings...","info"),n([]),await j(),null===t||void 0===t||t("\u2705 Listings refreshed successfully","success")},className:"cataloro-button-secondary flex items-center px-4 py-3",title:"Refresh listings from server",children:[(0,bn.jsx)(Ii,{className:"w-5 h-5 mr-2"}),"Refresh"]}),(0,bn.jsxs)("button",{onClick:()=>g(!0),className:"cataloro-button-primary flex items-center px-6 py-3",children:[(0,bn.jsx)(Fi,{className:"w-5 h-5 mr-2"}),"Create New Listing"]})]})]})}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,bn.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,bn.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md",children:(0,bn.jsx)(Fi,{className:"w-8 h-8 text-blue-500"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:r.length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})]})}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,bn.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,bn.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md",children:(0,bn.jsx)(ps,{className:"w-8 h-8 text-green-500"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:r.filter(e=>"active"===e.status).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})]})}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,bn.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,bn.jsx)("div",{className:"p-4 bg-orange-100/80 dark:bg-orange-900/30 rounded-2xl backdrop-blur-md",children:(0,bn.jsx)(Ss,{className:"w-8 h-8 text-orange-500"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:r.reduce((e,t)=>e+(t.views||0),0)}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Views"})]})]})}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,bn.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,bn.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md",children:(0,bn.jsx)(Oi,{className:"w-8 h-8 text-red-500"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:["\u20ac",r.reduce((e,t)=>e+(t.price||0),0).toLocaleString()]}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Value"})]})]})})]}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,bn.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between space-y-6 xl:space-y-0",children:[(0,bn.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Listings"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",placeholder:"Search by title, seller, or category...",value:o,onChange:e=>l(e.target.value),className:"pl-10 cataloro-input w-full"})]})]}),(0,bn.jsx)("div",{className:"flex items-end space-x-4",children:(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,bn.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"cataloro-input w-auto min-w-[150px]",children:[(0,bn.jsx)("option",{value:"all",children:"All Status"}),(0,bn.jsx)("option",{value:"active",children:"Active"}),(0,bn.jsx)("option",{value:"inactive",children:"Inactive"})]})]})})]})}),f.length>0&&(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6 border-2 border-green-200 dark:border-green-800 shadow-xl",children:[(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,bn.jsx)("div",{className:"flex items-center space-x-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse"}),(0,bn.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[f.length," listing",1!==f.length?"s":""," selected"]}),(0,bn.jsx)("div",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-sm font-medium rounded-full",children:"Ready for management"})]})}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,bn.jsxs)("button",{onClick:()=>P("activate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Activate selected listings",children:[(0,bn.jsx)(ps,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Activate"})]}),(0,bn.jsxs)("button",{onClick:()=>P("deactivate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Deactivate selected listings",children:[(0,bn.jsx)(po,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Deactivate"})]}),(0,bn.jsxs)("button",{onClick:()=>P("delete"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Delete selected listings",children:[(0,bn.jsx)(qi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,bn.jsxs)("button",{onClick:()=>P("feature"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Feature selected listings",children:[(0,bn.jsx)(Ds,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Feature"})]}),(0,bn.jsxs)("button",{onClick:()=>P("approve"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Approve selected listings",children:[(0,bn.jsx)(Ci,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"hidden sm:inline",children:"Approve"})]})]})]}),(0,bn.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-3",children:[(0,bn.jsxs)("button",{onClick:()=>N("reject"),className:"flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)(Ui,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Reject"})]}),(0,bn.jsxs)("button",{onClick:()=>N("duplicate"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)(Fi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Duplicate"})]}),(0,bn.jsxs)("button",{onClick:()=>N("export"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)(wo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Export Selected"})]}),(0,bn.jsxs)("button",{onClick:()=>N("bulk-edit"),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)(Ks,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Bulk Edit"})]}),(0,bn.jsxs)("button",{onClick:()=>p([]),className:"flex items-center space-x-2 px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)(Ui,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Clear Selection"})]})]})})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass overflow-hidden",children:[(0,bn.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 dark:border-white/10",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Listings Management"}),(0,bn.jsxs)("span",{className:"bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-md",children:[k.length," results"]})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100/50 dark:bg-gray-800/50 rounded-lg p-1",children:[{id:"active",label:"Active",count:r.filter(e=>"active"===e.status||"approved"===e.status).length,color:"green"},{id:"pending",label:"Pending",count:r.filter(e=>"pending"===e.status||"awaiting_approval"===e.status||e.pendingOrders&&e.pendingOrders>0).length,color:"yellow"},{id:"inactive",label:"Inactive",count:r.filter(e=>"inactive"===e.status||"deactivated"===e.status||"paused"===e.status).length,color:"gray"},{id:"expired",label:"Expired",count:r.filter(e=>"expired"===e.status).length,color:"red"},{id:"sold",label:"Sold",count:r.filter(e=>"sold"===e.status||"completed"===e.status||"finished"===e.status).length,color:"blue"}].map(e=>(0,bn.jsxs)("button",{onClick:()=>{h(e.id),d(e.id)},className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(u===e.id?"".concat("green"===e.color?"bg-green-600 text-white":"yellow"===e.color?"bg-yellow-600 text-white":"gray"===e.color?"bg-gray-600 text-white":"red"===e.color?"bg-red-600 text-white":"bg-blue-600 text-white"," shadow-lg"):"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-700/50"),children:[(0,bn.jsx)("span",{children:e.label}),(0,bn.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(u===e.id?"bg-white/20 text-white":"".concat("green"===e.color?"bg-green-100 text-green-800":"yellow"===e.color?"bg-yellow-100 text-yellow-800":"gray"===e.color?"bg-gray-100 text-gray-800":"red"===e.color?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"," dark:bg-opacity-20")),children:e.count})]},e.id))})]}),"active"!==u&&(0,bn.jsx)("div",{className:"px-6 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-b border-blue-200/50 dark:border-blue-800/50",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 text-sm font-medium",children:["Showing ",u," listings (",k.length," items)"]}),(0,bn.jsx)("button",{onClick:()=>{h("active"),d("active")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show Active"})]})}),(0,bn.jsx)("div",{className:"max-w-full",children:(0,bn.jsxs)("table",{className:"w-full min-w-full",children:[(0,bn.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/50 backdrop-blur-sm",children:(0,bn.jsxs)("tr",{children:[(0,bn.jsx)("th",{className:"px-3 py-4 text-left w-12",children:(0,bn.jsx)("input",{type:"checkbox",checked:f.length===k.length&&k.length>0,onChange:e=>{return t=e.target.checked,void p(t?k.map(e=>e.id):[]);var t},className:"admin-checkbox"})}),(0,bn.jsx)("th",{className:"px-4 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider min-w-[280px]",children:"Listing Details"}),(0,bn.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Price"}),(0,bn.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-32",children:"Seller"}),(0,bn.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Status"}),(0,bn.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-20",children:"Views"}),(0,bn.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Actions"})]})}),(0,bn.jsx)("tbody",{className:"divide-y divide-gray-200/50 dark:divide-gray-700/50",children:k.map(e=>{var a;return(0,bn.jsxs)("tr",{className:"group",children:[(0,bn.jsx)("td",{className:"px-3 py-4",children:(0,bn.jsx)("input",{type:"checkbox",checked:f.includes(e.id),onChange:t=>{return r=e.id,n=t.target.checked,void p(n?[...f,r]:f.filter(e=>e!==r));var r,n},className:"admin-checkbox"})}),(0,bn.jsx)("td",{className:"px-4 py-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center flex-shrink-0",children:e.image?(0,bn.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}):(0,bn.jsx)(Fi,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),(0,bn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,bn.jsx)("h4",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",title:e.title,children:e.title}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.created_date})]})]})}),(0,bn.jsx)("td",{className:"px-3 py-4",children:(0,bn.jsxs)("span",{className:"text-lg font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent whitespace-nowrap",children:["\u20ac",e.price]})}),(0,bn.jsx)("td",{className:"px-3 py-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,bn.jsx)("span",{className:"text-white font-medium text-xs",children:(null===(a=e.seller_username)||void 0===a?void 0:a.charAt(0))||"U"})}),(0,bn.jsx)(Le,{to:"/profile/".concat(e.seller_id),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium truncate hover:underline",title:"View ".concat(e.seller_full_name,"'s profile"),children:e.seller_username})]})}),(0,bn.jsx)("td",{className:"px-3 py-4",children:(0,bn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium backdrop-blur-md ".concat("active"===e.status?"bg-green-100/80 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100/80 dark:bg-red-900/30 text-red-800 dark:text-red-300"),children:"active"===e.status?"ACTIVE":"INACTIVE"})}),(0,bn.jsx)("td",{className:"px-3 py-4",children:(0,bn.jsx)("div",{className:"flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.views})})}),(0,bn.jsx)("td",{className:"px-3 py-4",children:(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,bn.jsx)("button",{onClick:()=>y(e),className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded hover:bg-blue-50/50 dark:hover:bg-blue-900/20",title:"Edit listing",children:(0,bn.jsx)(Ks,{className:"w-3.5 h-3.5"})}),(0,bn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{console.log("\ud83d\uddd1\ufe0f Deleting individual listing:",e);const a="".concat("https://basket-loader.preview.emergentagent.com","/api/listings/").concat(e);console.log("\ud83d\udd0d Delete URL:",a);const i=await fetch(a,{method:"DELETE"});if(!i.ok)throw new Error("Failed to delete listing: ".concat(i.status));console.log("\u2705 Backend delete successful for listing:",e),n(r.filter(t=>t.id!==e)),null===t||void 0===t||t("Listing deleted successfully","success")}catch(a){console.error("\u274c Error deleting listing:",a),null===t||void 0===t||t("Failed to delete listing: ".concat(a.message),"error")}})(e.id),className:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded hover:bg-red-50/50 dark:hover:bg-red-900/20",title:"Delete listing",children:(0,bn.jsx)(qi,{className:"w-3.5 h-3.5"})})]})})]},e.id)})})]})}),0===k.length&&(0,bn.jsxs)("div",{className:"text-center py-16",children:[(0,bn.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-gray-400/20 to-gray-500/20 dark:from-gray-600/20 dark:to-gray-700/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,bn.jsx)(Fi,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"No listings found"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:o?"Try adjusting your search terms":"Create your first listing to get started"}),(0,bn.jsx)("button",{onClick:()=>g(!0),className:"cataloro-button-primary",children:"Create New Listing"})]})]}),(m||x)&&(0,bn.jsx)(dl,{listing:x,onSave:x?e=>{n(r.map(t=>t.id===x.id?(0,Fe.A)((0,Fe.A)({},t),e):t)),y(null),null===t||void 0===t||t("Listing updated successfully","success")}:e=>{const a=(0,Fe.A)((0,Fe.A)({id:"new-".concat(Date.now())},e),{},{created_date:(new Date).toISOString().split("T")[0],views:0,status:"active"});n([a,...r]),g(!1),null===t||void 0===t||t("Listing created successfully","success")},onClose:()=>{g(!1),y(null)}}),_&&(0,bn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md mx-4 shadow-2xl",children:(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:"delete"===A?(0,bn.jsx)(qi,{className:"w-6 h-6 text-red-600 dark:text-red-400"}):(0,bn.jsx)(gs,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Confirm ","delete"===A?"Deletion":"Action"]}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This action cannot be undone"})]})]}),(0,bn.jsxs)("div",{className:"mb-6",children:[(0,bn.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to ",(0,bn.jsx)("span",{className:"font-semibold text-red-600 dark:text-red-400",children:A})," these"," ",(0,bn.jsx)("span",{className:"font-semibold",children:E.length})," listing",1!==E.length?"s":"","?"]}),"delete"===A&&(0,bn.jsx)("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:(0,bn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,bn.jsx)(gs,{className:"w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,bn.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:[(0,bn.jsx)("strong",{children:"Warning:"})," Deleted listings will be permanently removed from the marketplace and cannot be recovered."]})]})})]}),(0,bn.jsxs)("div",{className:"flex space-x-3",children:[(0,bn.jsx)("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 rounded-xl font-medium transition-colors",children:"Cancel"}),(0,bn.jsx)("button",{onClick:async()=>{if(console.log("\ud83d\ude80 EXECUTING confirmed bulk action:",A),console.log("\ud83d\udd0d Listings to process:",E),S(!1),A&&E.length>0){console.log("\ud83c\udfaf Calling handleBulkAction directly with confirmed listings");p(E),await N(A),O(null),C([])}else console.log("\u274c No confirmAction or confirmListings")},className:"flex-1 px-4 py-3 text-white rounded-xl font-medium transition-colors ".concat("delete"===A?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"),children:"delete"===A?"Delete Forever":"Confirm ".concat(A)})]})]})})})]})}function dl(e){let{listing:t,onSave:r,onClose:n}=e;const[a,s]=(0,i.useState)({title:(null===t||void 0===t?void 0:t.title)||"",price:(null===t||void 0===t?void 0:t.price)||"",category:(null===t||void 0===t?void 0:t.category)||"Catalysts",description:(null===t||void 0===t?void 0:t.description)||"",condition:(null===t||void 0===t?void 0:t.condition)||"New",location:(null===t||void 0===t?void 0:t.location)||"",seller:(null===t||void 0===t?void 0:t.seller)||"",image:(null===t||void 0===t?void 0:t.image)||""}),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)(!1),[x,y]=(0,i.useState)(null),[b,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{w(),j()},[]);const w=async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/data"));if(e.ok){const t=await e.json();l(t)}}catch(e){console.error("Failed to fetch catalyst data:",e)}},j=async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Failed to fetch calculations:",e)}},k=e=>{const t=(e=>{const t=c.find(t=>t.cat_id===e);return(null===t||void 0===t?void 0:t.total_price)||null})(e);if(!t)return null;const r=.9*t,n=1.1*t;return{basePrice:parseFloat(t),minPrice:parseFloat(r.toFixed(2)),maxPrice:parseFloat(n.toFixed(2))}};return(0,bn.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,bn.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,bn.jsx)(Fi,{className:"w-6 h-6 mr-2 text-blue-600"}),t?"Edit Listing":"Create New Listing",x&&(0,bn.jsxs)("span",{className:"ml-3 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:["Catalyst: ",x.cat_id]})]}),(0,bn.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,bn.jsx)(Ui,{className:"w-6 h-6"})})]})}),(0,bn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r((0,Fe.A)((0,Fe.A)({},a),{},{catalyst_id:(null===x||void 0===x?void 0:x.cat_id)||null}))},className:"p-6 space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title",(0,bn.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search Cat Database)"})]}),(0,bn.jsx)("input",{type:"text",required:!0,value:a.title,onChange:e=>{const t=e.target.value;if(s((0,Fe.A)((0,Fe.A)({},a),{},{title:t})),t.length>0){const e=o.filter(e=>{var r,n,a;const i=t.toLowerCase();return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===(n=e.cat_id)||void 0===n?void 0:n.toLowerCase().includes(i))||(null===(a=e.add_info)||void 0===a?void 0:a.toLowerCase().includes(i))}).slice(0,10);p(e),g(e.length>0)}else p([]),g(!1)},onFocus:()=>a.title&&g(f.length>0),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Start typing catalyst name or ID..."}),m&&(0,bn.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-80 overflow-y-auto",children:[(0,bn.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:(0,bn.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)(As,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cat Database Matches (",f.length,")"]})}),f.map(e=>{const t=k(e.cat_id);return(0,bn.jsx)("div",{onClick:()=>(e=>{y(e),console.log("Admin - Selected catalyst:",e),console.log("Admin - Catalyst add_info:",e.add_info);let t="Catalyst: ".concat(e.name,"\n\nSpecifications:\n- Ceramic Weight: ").concat(e.ceramic_weight,"g\n\nProfessional grade catalyst suitable for automotive and industrial applications.");e.add_info&&e.add_info.trim()?(console.log("Admin - Adding add_info to description:",e.add_info),t+="\n\nAdditional Information:\n".concat(e.add_info)):console.log("Admin - No add_info available or empty:",e.add_info),console.log("Admin - Final description:",t),s((0,Fe.A)((0,Fe.A)({},a),{},{title:e.name||e.cat_id,category:"Catalysts",description:t})),g(!1)})(e),className:"p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors duration-200",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("div",{className:"flex items-center space-x-2",children:(0,bn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})}),(0,bn.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:(0,bn.jsxs)("span",{children:["Weight: ",e.ceramic_weight,"g"]})})]}),t&&(0,bn.jsxs)("div",{className:"ml-4 text-right",children:[(0,bn.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["\u20ac",t.minPrice.toFixed(2)," - \u20ac",t.maxPrice.toFixed(2)]}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Market Range"})]})]})},e.cat_id)})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Price",x&&(0,bn.jsx)("span",{className:"text-green-600 dark:text-green-400 text-xs ml-2",children:"(Auto-filled from calculation)"})]}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"$"}),(0,bn.jsx)("input",{type:"number",step:"0.01",required:!0,value:a.price,onChange:e=>s((0,Fe.A)((0,Fe.A)({},a),{},{price:e.target.value})),className:"w-full pl-8 pr-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]})]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Seller"}),(0,bn.jsx)("input",{type:"text",required:!0,value:a.seller,onChange:e=>s((0,Fe.A)((0,Fe.A)({},a),{},{seller:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Seller name"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,bn.jsx)("input",{type:"text",value:a.location,onChange:e=>s((0,Fe.A)((0,Fe.A)({},a),{},{location:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"City, State"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image URL"}),(0,bn.jsx)("input",{type:"url",value:a.image,onChange:e=>s((0,Fe.A)((0,Fe.A)({},a),{},{image:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Description",x&&(0,bn.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Auto-generated from catalyst data)"})]}),(0,bn.jsx)("textarea",{rows:6,value:a.description,onChange:e=>s((0,Fe.A)((0,Fe.A)({},a),{},{description:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe your item..."})]}),x&&(0,bn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:[(0,bn.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2 flex items-center",children:[(0,bn.jsx)(As,{className:"w-4 h-4 mr-2"}),"Selected Catalyst: ",x.name]}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),(0,bn.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:x.name})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Weight:"}),(0,bn.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:[x.ceramic_weight,"g"]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Market Range:"}),(0,bn.jsx)("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:k(x.cat_id)?(0,bn.jsxs)(bn.Fragment,{children:["\u20ac",k(x.cat_id).minPrice.toFixed(2)," - \u20ac",k(x.cat_id).maxPrice.toFixed(2)]}):"N/A"})]})]})]}),(0,bn.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,bn.jsx)("button",{type:"button",onClick:n,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,bn.jsxs)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors flex items-center",children:[(0,bn.jsx)(Fi,{className:"w-4 h-4 mr-2"}),t?"Update Listing":"Create Listing"]})]})]})]})})}function ul(e){let{showToast:t,permissions:r,isAdminManager:n}=e;const[a,s]=(0,i.useState)("data"),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)({pt_price:25,pd_price:18,rh_price:45,renumeration_pt:.95,renumeration_pd:.92,renumeration_rh:.88,price_range_min_percent:10,price_range_max_percent:10}),[u,h]=(0,i.useState)([]),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)(!1),[x,y]=(0,i.useState)(!1),[b,v]=(0,i.useState)(!1),[w,j]=(0,i.useState)(null),[k,N]=(0,i.useState)(null),[_,S]=(0,i.useState)(!1),A=[{id:"data",label:"Data",icon:As,adminOnly:!0},{id:"calculations",label:"Calculations",icon:Co},{id:"basis",label:"Basis",icon:ns}].filter(e=>!(e.adminOnly&&!r.adminPanel.canDeleteDatabase));(0,i.useEffect)(()=>{"data"!==a||r.adminPanel.canDeleteDatabase||s("calculations")},[a,r.adminPanel.canDeleteDatabase]),(0,i.useEffect)(()=>{O(),E(),C(),P()},[]);const O=async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/data"));if(e.ok){const t=await e.json();l(t)}}catch(e){console.error("Failed to fetch catalyst data:",e)}},E=async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/price-settings"));if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Failed to fetch price settings:",e)}},C=async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();h(t)}}catch(e){console.error("Failed to fetch calculations:",e)}},P=async()=>{try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/unified-calculations"));if(e.ok){const t=await e.json();p(t)}}catch(e){console.error("Failed to fetch unified calculations:",e)}};return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:n()?"DAT Database - Manager Access":"Cat Database"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:n()?"Basis and price calculations access (data modification restricted)":"Catalyst database management and price calculations"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[r.adminPanel.canDeleteDatabase&&(0,bn.jsxs)("button",{onClick:async()=>{if(!window.confirm("\u26a0\ufe0f WARNING: This will permanently delete ALL catalyst data from the database.\n\nThis includes:\n\u2022 All catalyst records\n\u2022 All price overrides\n\u2022 All calculations\n\nThis action CANNOT be undone!\n\nAre you absolutely sure you want to proceed?"))return;if(!window.confirm("FINAL CONFIRMATION:\n\nType DELETE in the next prompt to confirm database deletion."))return;if("DELETE"===prompt('Please type "DELETE" to confirm (case sensitive):'))try{g(!0);const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/database"),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to delete database");{const r=await e.json();t("\u2705 Database deleted successfully! Removed ".concat(r.deleted_records," catalyst records and ").concat(r.deleted_overrides," overrides."),"success"),l([]),h([]),await O(),await C(),await P()}}catch(e){t("\u274c Failed to delete catalyst database","error"),console.error("Delete database error:",e)}finally{g(!1)}else t("Database deletion cancelled - confirmation text did not match","info")},disabled:m||0===o.length,className:"cataloro-button-danger flex items-center disabled:opacity-50 disabled:cursor-not-allowed",title:0===o.length?"No data to delete":"Delete entire catalyst database",children:[(0,bn.jsx)(qi,{className:"w-5 h-5 mr-2"}),"Delete Database"]}),r.adminPanel.canUploadExcel&&(0,bn.jsxs)("label",{className:"cataloro-button-primary cursor-pointer",children:[(0,bn.jsx)(Xs,{className:"w-5 h-5 mr-2"}),x?"Uploading...":"Upload Excel",(0,bn.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:async e=>{const r=e.target.files[0];if(r){y(!0);try{const e=new FormData;e.append("file",r);const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/upload"),{method:"POST",body:e});if(!n.ok)throw new Error("Upload failed");{const e=await n.json();t("Successfully uploaded ".concat(e.count," catalyst records"),"success"),await O(),await C(),await P()}}catch(n){t("Failed to upload Excel file","error"),console.error("Upload error:",n)}finally{y(!1),e.target.value=""}}},className:"hidden",disabled:x})]}),!r.adminPanel.canDeleteDatabase&&n()&&(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 px-3 py-2 rounded-lg border border-orange-200 dark:border-orange-800",children:[(0,bn.jsx)(Ci,{className:"w-4 h-4"}),(0,bn.jsx)("span",{className:"text-sm font-medium",children:"Database modification restricted for Manager role"})]})]})]})}),(0,bn.jsxs)("div",{className:"cataloro-card-glass",children:[(0,bn.jsx)("div",{className:"border-b border-gray-200/50 dark:border-gray-700/50",children:(0,bn.jsx)("div",{className:"flex space-x-8 px-6",children:A.map(e=>{const t=e.icon;return(0,bn.jsxs)("button",{onClick:()=>s(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors ".concat(a===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,bn.jsx)(t,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:e.label})]},e.id)})})}),"data"===a&&(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"mb-4",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Catalyst Data"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Click on any cell to edit. The add_info field will be used in listing descriptions."})]}),o.length>0?(0,bn.jsx)("div",{className:"overflow-x-auto",children:(0,bn.jsxs)("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,bn.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,bn.jsxs)("tr",{children:[(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Cat ID"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Ceramic Weight"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pt PPM"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pd PPM"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Rh PPM"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Add Info"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),(0,bn.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.map(e=>(0,bn.jsx)(hl,{catalyst:e,isEditing:k===e.id,onEdit:()=>N(e.id),onSave:r=>(async(e,r)=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/data/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(t("Catalyst data updated successfully","success"),await O(),await C(),await P(),N(null))}catch(n){t("Failed to update catalyst data","error"),console.error("Update error:",n)}})(e.id,r),onCancel:()=>N(null)},e.id))})]})}):(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)(As,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Data Available"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload an Excel file to populate the catalyst database."})]})]}),"calculations"===a&&(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"mb-4",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Calculations"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Unified view showing both price calculations and content values (Pt g, Pd g, Rh g) for all catalysts."})]}),f.length>0?(0,bn.jsx)("div",{className:"overflow-x-auto",children:(0,bn.jsxs)("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,bn.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,bn.jsxs)("tr",{children:[(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Cat ID"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Weight (g)"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Total Price (\u20ac)"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pt g"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pd g"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Rh g"}),(0,bn.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),(0,bn.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:f.map(e=>(0,bn.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-semibold",children:e.cat_id}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:e.name}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:e.weight}),(0,bn.jsxs)("td",{className:"px-4 py-3 text-sm",children:[(0,bn.jsxs)("span",{className:"font-semibold ".concat(e.is_override?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"),children:["\u20ac",e.total_price.toFixed(2)]}),(0,bn.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_override?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.is_override?"Override":"Standard"})]}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-blue-600 dark:text-blue-400",children:e.pt_g.toFixed(4)}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-green-600 dark:text-green-400",children:e.pd_g.toFixed(4)}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-purple-600 dark:text-purple-400",children:e.rh_g.toFixed(4)}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/reset/").concat(e),{method:"POST"})).ok&&(t("Price reset to standard calculation","success"),await C(),await P())}catch(r){t("Failed to reset price","error"),console.error("Reset error:",r)}})(e.catalyst_id),className:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded dark:bg-blue-900/30 dark:text-blue-300",children:"Reset"}),(0,bn.jsx)("button",{onClick:()=>{j(e),v(!0)},className:"px-3 py-1 text-xs bg-orange-100 hover:bg-orange-200 text-orange-800 rounded dark:bg-orange-900/30 dark:text-orange-300",children:"Override"})]})})]},e.catalyst_id))})]})}):(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)(Co,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Calculations Available"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload catalyst data and configure price settings first."})]})]}),"basis"===a&&(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"mb-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Price Calculation Basis"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Configure the base prices and renumeration factors for price calculations."})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Metal Prices (\u20ac/g)"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pt Price (\u20ac/g)"}),(0,bn.jsx)("input",{type:"number",step:"0.01",value:c.pt_price,onChange:e=>d((0,Fe.A)((0,Fe.A)({},c),{},{pt_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pd Price (\u20ac/g)"}),(0,bn.jsx)("input",{type:"number",step:"0.01",value:c.pd_price,onChange:e=>d((0,Fe.A)((0,Fe.A)({},c),{},{pd_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rh Price (\u20ac/g)"}),(0,bn.jsx)("input",{type:"number",step:"0.01",value:c.rh_price,onChange:e=>d((0,Fe.A)((0,Fe.A)({},c),{},{rh_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Renumeration Factors"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Pt"}),(0,bn.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:c.renumeration_pt,onChange:e=>d((0,Fe.A)((0,Fe.A)({},c),{},{renumeration_pt:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Pd"}),(0,bn.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:c.renumeration_pd,onChange:e=>d((0,Fe.A)((0,Fe.A)({},c),{},{renumeration_pd:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Rh"}),(0,bn.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:c.renumeration_rh,onChange:e=>d((0,Fe.A)((0,Fe.A)({},c),{},{renumeration_rh:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),(0,bn.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 transition-all duration-500 ".concat(_?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 rounded-lg p-4":""),children:[(0,bn.jsxs)("div",{className:"mb-6 relative",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-2",children:"Price Range Configuration"}),_&&(0,bn.jsxs)("div",{className:"flex items-center text-green-600 dark:text-green-400 text-sm font-medium",children:[(0,bn.jsx)(ps,{className:"w-4 h-4 mr-1"}),"Updated Successfully!"]})]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Configure the percentage ranges for dynamic price calculations used in marketplace listings."})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Minimum Price Reduction (%)"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("input",{type:"number",step:"0.1",min:"0",max:"50",value:c.price_range_min_percent,onChange:e=>d((0,Fe.A)((0,Fe.A)({},c),{},{price_range_min_percent:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"10.0"}),(0,bn.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,bn.jsx)("span",{className:"text-gray-500 text-sm",children:"%"})})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum percentage below calculated price (e.g., 10% means 10% below base price)"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Maximum Price Increase (%)"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("input",{type:"number",step:"0.1",min:"0",max:"100",value:c.price_range_max_percent,onChange:e=>d((0,Fe.A)((0,Fe.A)({},c),{},{price_range_max_percent:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"10.0"}),(0,bn.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,bn.jsx)("span",{className:"text-gray-500 text-sm",children:"%"})})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum percentage above calculated price (e.g., 10% means 10% above base price)"})]})]}),(0,bn.jsxs)("div",{className:"mt-4 p-4 rounded-lg transition-all duration-300 ".concat(_?"bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700":"bg-gray-50 dark:bg-gray-800"),children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,bn.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Range Preview"}),_&&(0,bn.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"\u2713 Values Applied to Marketplace"})]}),(0,bn.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["For a calculated price of ",(0,bn.jsx)("span",{className:"font-mono",children:"\u20ac100.00"}),", the dynamic range will be:"]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,bn.jsxs)("div",{className:"text-xs",children:[(0,bn.jsxs)("span",{className:"font-mono ".concat(_?"text-red-700 dark:text-red-300 font-bold":"text-red-600 dark:text-red-400"),children:["\u20ac",(100-100*c.price_range_min_percent/100).toFixed(2)]}),(0,bn.jsx)("span",{className:"text-gray-500 ml-1",children:"(min)"})]}),(0,bn.jsx)("div",{className:"text-gray-400",children:"to"}),(0,bn.jsxs)("div",{className:"text-xs",children:[(0,bn.jsxs)("span",{className:"font-mono ".concat(_?"text-green-700 dark:text-green-300 font-bold":"text-green-600 dark:text-green-400"),children:["\u20ac",(100+100*c.price_range_max_percent/100).toFixed(2)]}),(0,bn.jsx)("span",{className:"text-gray-500 ml-1",children:"(max)"})]})]}),_&&(0,bn.jsxs)("div",{className:"mt-2 text-xs text-green-600 dark:text-green-400",children:["Range: -",c.price_range_min_percent,"% to +",c.price_range_max_percent,"% applied successfully"]})]})]}),(0,bn.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,bn.jsx)("button",{onClick:async()=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/price-settings"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(t("Price settings updated successfully! Range: ".concat(c.price_range_min_percent,"% to +").concat(c.price_range_max_percent,"%"),"success"),S(!0),setTimeout(()=>S(!1),3e3),await C(),await P())}catch(e){t("Failed to update price settings","error"),console.error("Update error:",e)}},className:"cataloro-button-primary transition-all duration-300 ".concat(_?"bg-green-600 hover:bg-green-700 border-green-600":""),children:_?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(ps,{className:"w-5 h-5 mr-2"}),"Settings Updated Successfully!"]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(eo,{className:"w-5 h-5 mr-2"}),"Update Price Settings"]})})})]})]}),b&&w&&(0,bn.jsx)(fl,{catalyst:w,onSave:async(e,r)=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/catalyst/override/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({catalyst_id:e,override_price:parseFloat(r),is_override:!0})})).ok&&(t("Price override set successfully","success"),await C(),await P(),v(!1))}catch(n){t("Failed to set price override","error"),console.error("Override error:",n)}},onClose:()=>{v(!1),j(null)}})]})}function hl(e){let{catalyst:t,isEditing:r,onEdit:n,onSave:a,onCancel:s}=e;const[o,l]=(0,i.useState)({cat_id:t.cat_id,name:t.name,ceramic_weight:t.ceramic_weight,pt_ppm:t.pt_ppm,pd_ppm:t.pd_ppm,rh_ppm:t.rh_ppm,add_info:t.add_info||""}),c=()=>{a(o)};return r?(0,bn.jsxs)("tr",{className:"bg-blue-50 dark:bg-blue-900/20",children:[(0,bn.jsx)("td",{className:"px-4 py-3",children:(0,bn.jsx)("input",{type:"text",value:o.cat_id,onChange:e=>l((0,Fe.A)((0,Fe.A)({},o),{},{cat_id:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,bn.jsx)("td",{className:"px-4 py-3",children:(0,bn.jsx)("input",{type:"text",value:o.name,onChange:e=>l((0,Fe.A)((0,Fe.A)({},o),{},{name:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,bn.jsx)("td",{className:"px-4 py-3",children:(0,bn.jsx)("input",{type:"number",step:"0.01",value:o.ceramic_weight,onChange:e=>l((0,Fe.A)((0,Fe.A)({},o),{},{ceramic_weight:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,bn.jsx)("td",{className:"px-4 py-3",children:(0,bn.jsx)("input",{type:"number",step:"0.1",value:o.pt_ppm,onChange:e=>l((0,Fe.A)((0,Fe.A)({},o),{},{pt_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,bn.jsx)("td",{className:"px-4 py-3",children:(0,bn.jsx)("input",{type:"number",step:"0.1",value:o.pd_ppm,onChange:e=>l((0,Fe.A)((0,Fe.A)({},o),{},{pd_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,bn.jsx)("td",{className:"px-4 py-3",children:(0,bn.jsx)("input",{type:"number",step:"0.1",value:o.rh_ppm,onChange:e=>l((0,Fe.A)((0,Fe.A)({},o),{},{rh_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,bn.jsx)("td",{className:"px-4 py-3",children:(0,bn.jsx)("textarea",{value:o.add_info,onChange:e=>l((0,Fe.A)((0,Fe.A)({},o),{},{add_info:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded resize-none",rows:"2",placeholder:"Additional info for listings..."})}),(0,bn.jsx)("td",{className:"px-4 py-3",children:(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("button",{onClick:c,className:"px-2 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-800 rounded",children:(0,bn.jsx)(eo,{className:"w-4 h-4"})}),(0,bn.jsx)("button",{onClick:s,className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]})})]}):(0,bn.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-mono",children:t.cat_id}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.name}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.ceramic_weight}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.pt_ppm}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.pd_ppm}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.rh_ppm}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 max-w-xs",children:(0,bn.jsx)("div",{className:"truncate",title:t.add_info||"No additional info",children:t.add_info||"-"})}),(0,bn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,bn.jsx)("button",{onClick:n,className:"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded dark:bg-blue-900/30 dark:text-blue-300",children:(0,bn.jsx)(Ks,{className:"w-4 h-4"})})})]})}function fl(e){let{catalyst:t,onSave:r,onClose:n}=e;const[a,s]=(0,i.useState)("");return(0,bn.jsx)("div",{className:"modal-overlay",children:(0,bn.jsxs)("div",{className:"modal-content max-w-md",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Override Price for Catalyst"}),(0,bn.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,bn.jsx)(Ui,{className:"w-6 h-6"})})]}),(0,bn.jsxs)("div",{className:"mb-4",children:[(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)("strong",{children:"ID:"})," ",t._id]}),(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)("strong",{children:"Name:"})," ",t.name]}),(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,bn.jsx)("strong",{children:"Current Price:"})," \u20ac",t.total_price.toFixed(2)]})]}),(0,bn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a&&parseFloat(a)>0&&r(t._id,a)},className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Override Price (\u20ac)"}),(0,bn.jsx)("input",{type:"number",step:"0.01",min:"0",value:a,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter new price",required:!0})]}),(0,bn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,bn.jsx)("button",{type:"button",onClick:n,className:"cataloro-button-secondary",children:"Cancel"}),(0,bn.jsx)("button",{type:"submit",className:"cataloro-button-primary",children:"Set Override"})]})]})]})})}function pl(e){let{user:t,onClose:r,onSave:n}=e;const[a,s]=(0,i.useState)({first_name:(null===t||void 0===t?void 0:t.first_name)||(null!==t&&void 0!==t&&t.full_name?t.full_name.split(" ")[0]:""),last_name:(null===t||void 0===t?void 0:t.last_name)||(null!==t&&void 0!==t&&t.full_name?t.full_name.split(" ").slice(1).join(" "):""),username:(null===t||void 0===t?void 0:t.username)||"",email:(null===t||void 0===t?void 0:t.email)||"",user_role:null!==t&&void 0!==t&&t.user_role||"admin"===(null===t||void 0===t?void 0:t.role)?"Admin":"User-Buyer",registration_status:(null===t||void 0===t?void 0:t.registration_status)||"Approved",is_active:void 0===(null===t||void 0===t?void 0:t.is_active)||t.is_active,password:"",confirmPassword:"",is_business:(null===t||void 0===t?void 0:t.is_business)||!1,company_name:(null===t||void 0===t?void 0:t.company_name)||"",country:(null===t||void 0===t?void 0:t.country)||"",vat_number:(null===t||void 0===t?void 0:t.vat_number)||""}),[o,l]=(0,i.useState)({}),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(!1),f=e=>{const{name:r,value:n,type:i,checked:c}=e.target;s((0,Fe.A)((0,Fe.A)({},a),{},{[r]:"checkbox"===i?c:n})),o[r]&&l(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[r]:void 0})),"username"===r&&n.length>=3?(async e=>{if(t&&t.username===e)d(!0);else{h(!0);try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/auth/check-username/").concat(e));if(t.ok){const e=await t.json();d(e.available)}else d(null)}catch(r){console.error("Error checking username:",r),d(null)}finally{h(!1)}}})(n):"username"===r&&d(null)};return(0,bn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md mx-4",children:[(0,bn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"Edit User":"Create New User"})}),(0,bn.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return a.first_name.trim()||(e.first_name="First name is required"),a.last_name.trim()||(e.last_name="Last name is required"),a.username.trim()||(e.username="Username is required"),a.username.length<3&&(e.username="Username must be at least 3 characters"),!1===c&&(e.username="Username is not available"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(e.email="Email is invalid"):e.email="Email is required",t||a.password||(e.password="Password is required for new users"),a.password&&a.password.length<6&&(e.password="Password must be at least 6 characters"),a.password&&a.password!==a.confirmPassword&&(e.confirmPassword="Passwords do not match"),a.is_business&&(a.company_name.trim()||(e.company_name="Company name is required for business accounts"),a.country.trim()||(e.country="Country is required for business accounts")),l(e),0===Object.keys(e).length})())return;const r=(0,Fe.A)((0,Fe.A)({},a),{},{full_name:"".concat(a.first_name," ").concat(a.last_name).trim()});t&&(r.id=t.id),r.password||delete r.password,delete r.confirmPassword,n(r)},className:"p-6 space-y-4",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name *"}),(0,bn.jsx)("input",{type:"text",value:a.first_name,onChange:f,name:"first_name",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter first name"}),o.first_name&&(0,bn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.first_name})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name *"}),(0,bn.jsx)("input",{type:"text",value:a.last_name,onChange:f,name:"last_name",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter last name"}),o.last_name&&(0,bn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.last_name})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("input",{type:"text",name:"username",value:a.username,onChange:f,className:"w-full px-3 py-2 pr-10 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.username?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter username"}),a.username.length>=3&&(0,bn.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:u?(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):!0===c?(0,bn.jsx)(Bi,{className:"w-5 h-5 text-green-500"}):!1===c?(0,bn.jsx)(Ui,{className:"w-5 h-5 text-red-500"}):null})]}),a.username.length>=3&&null!==c&&(0,bn.jsx)("div",{className:"mt-1 text-sm ".concat(c?"text-green-600":"text-red-600"),children:c?"Username is available":"Username is not available"}),o.username&&(0,bn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.username})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),(0,bn.jsx)("input",{type:"email",name:"email",value:a.email,onChange:f,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.email?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter email address"}),o.email&&(0,bn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.email})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User Role *"}),(0,bn.jsxs)("select",{name:"user_role",value:a.user_role,onChange:f,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"User-Buyer",children:"User-Buyer"}),(0,bn.jsx)("option",{value:"User-Seller",children:"User-Seller"}),(0,bn.jsx)("option",{value:"Admin-Manager",children:"Admin-Manager"}),(0,bn.jsx)("option",{value:"Admin",children:"Admin"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Determines user permissions and access level"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Status *"}),(0,bn.jsxs)("select",{name:"registration_status",value:a.registration_status,onChange:f,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,bn.jsx)("option",{value:"Approved",children:"Approved"}),(0,bn.jsx)("option",{value:"Pending",children:"Pending"}),(0,bn.jsx)("option",{value:"Rejected",children:"Rejected"})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Controls user login access and approval status"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"checkbox",name:"is_active",checked:a.is_active,onChange:f,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,bn.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Account Active"}),(0,bn.jsx)("span",{className:"text-xs text-gray-500",children:a.is_active?"User can access the platform":"User account is suspended"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("label",{className:"flex items-center",children:[(0,bn.jsx)("input",{type:"radio",name:"is_active",checked:!0===a.is_active,onChange:()=>s((0,Fe.A)((0,Fe.A)({},a),{},{is_active:!0})),className:"mr-2"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),(0,bn.jsxs)("label",{className:"flex items-center",children:[(0,bn.jsx)("input",{type:"radio",name:"is_active",checked:!1===a.is_active,onChange:()=>s((0,Fe.A)((0,Fe.A)({},a),{},{is_active:!1})),className:"mr-2"}),(0,bn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Suspended"})]})]})]}),(0,bn.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,bn.jsx)("input",{type:"checkbox",id:"is_business",name:"is_business",checked:a.is_business,onChange:f,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,bn.jsxs)("label",{htmlFor:"is_business",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)(Yi,{className:"w-4 h-4 mr-2 text-blue-600"}),"Business Account"]})]}),a.is_business&&(0,bn.jsxs)("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,bn.jsxs)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 flex items-center",children:[(0,bn.jsx)(Yi,{className:"w-4 h-4 mr-2"}),"Business Information"]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name *"}),(0,bn.jsx)("input",{type:"text",name:"company_name",value:a.company_name,onChange:f,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.company_name?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter company name"}),o.company_name&&(0,bn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.company_name})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country *"}),(0,bn.jsx)("input",{type:"text",name:"country",value:a.country,onChange:f,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.country?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter country"}),o.country&&(0,bn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.country})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["VAT Number",(0,bn.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Optional)"})]}),(0,bn.jsx)("input",{type:"text",name:"vat_number",value:a.vat_number,onChange:f,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter VAT number (if applicable)"})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Password ",t&&(0,bn.jsx)("span",{className:"text-xs text-gray-500",children:"(leave blank to keep current)"})]}),(0,bn.jsx)("input",{type:"password",name:"password",value:a.password,onChange:f,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.password?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:t?"Enter new password (optional)":"Enter password"}),o.password&&(0,bn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.password})]}),a.password&&(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),(0,bn.jsx)("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:f,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.confirmPassword?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Confirm password"}),o.confirmPassword&&(0,bn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.confirmPassword})]}),(0,bn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,bn.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,bn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:t?"Update User":"Create User"})]})]})]})})}const ml=function(){const[e,t]=(0,i.useState)("dashboard"),[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)({}),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(""),{allProducts:m,favorites:g,notifications:x}=Xn(),{showToast:y}=Hn(),{permissions:b,isAdmin:v,isAdminManager:w}=Zi();(0,i.useEffect)(()=>{b.adminPanel.canAccess&&(j(),"users"===e?N():"site-settings"===e&&_())},[e,b.adminPanel.canAccess]);const j=async()=>{try{d(!0);const e=await Po.getDashboard();console.log("DEBUG: Dashboard data received:",e),n({kpis:(null===e||void 0===e?void 0:e.kpis)||{},recent_activity:(null===e||void 0===e?void 0:e.recent_activity)||k()})}catch(e){y("Failed to load dashboard data","error");const t={total_users:0,total_products:m.length,active_products:m.filter(e=>!1!==e.inStock).length,total_views:0,favorites_count:g.length,total_revenue:0,average_rating:0,growth_rate:0,notifications_count:x.length,total_deals:0};n({kpis:t,recent_activity:k()})}finally{d(!1)}},k=()=>[{action:"".concat(m.length," products currently active"),timestamp:new Date},{action:"".concat(g.length," items in wishlists"),timestamp:new Date(Date.now()-3e5)},{action:"".concat(x.length," notifications sent today"),timestamp:new Date(Date.now()-6e5)},{action:"System performance: Excellent",timestamp:new Date(Date.now()-9e5)}],N=async()=>{try{const e=await Po.getAllUsers();s(e)}catch(e){y("Failed to load users","error"),s([{id:"1",username:"johndoe",email:"john@example.com",full_name:"John Doe",role:"user",is_active:!0,created_at:(new Date).toISOString()},{id:"2",username:"admin",email:"admin@cataloro.com",full_name:"Admin User",role:"admin",is_active:!0,created_at:(new Date).toISOString()}])}},_=async()=>{try{const e=await Po.getSettings();l(e),e&&localStorage.setItem("cataloro_site_branding",JSON.stringify(e))}catch(e){y("Failed to load settings","error");const t={site_name:"Cataloro",site_description:"Modern Marketplace Platform",logo_url:"/assets/logo.png",logo_light_url:"",logo_dark_url:"",theme_color:"#3B82F6",allow_registration:!0,require_approval:!1};l(t),localStorage.setItem("cataloro_site_branding",JSON.stringify(t))}};if(!b.adminPanel.canAccess)return(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,bn.jsx)(po,{className:"w-8 h-8 text-red-500"})}),(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),(0,bn.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access the admin panel"})]});const S=[{id:"dashboard",label:"Dashboard",shortLabel:"Dashboard",icon:ts},{id:"users",label:"Users",shortLabel:"Users",icon:mo,permission:"canAccessUserManagement"},{id:"listings",label:"Listings",shortLabel:"Listings",icon:Fi,permission:"canAccessListingsManagement"},{id:"business",label:"Business",shortLabel:"Business",icon:go},{id:"cats",label:"Cat's",shortLabel:"Cat's",icon:As,permission:"canAccessDatDatabase"},{id:"site-settings",label:"Site Settings",shortLabel:"Settings",icon:ns,adminOnly:!0},{id:"administration",label:"Administration",shortLabel:"Admin",icon:Ci,adminOnly:!0}].filter(e=>!(e.adminOnly&&!v())&&!(e.permission&&!b.adminPanel[e.permission]));return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:w()?"Manager Panel":"Admin Panel"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:w()?"Limited administrative access with live data management":"Full control over your marketplace platform"})]}),(0,bn.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium backdrop-blur-md ".concat(w()?"bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":"bg-purple-100/80 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"),children:w()?"MANAGER ACCESS":"ADMIN ACCESS"})]})}),(0,bn.jsx)("div",{className:"cataloro-card-glass",children:(0,bn.jsx)("div",{className:"border-b border-white/10 dark:border-white/10",children:(0,bn.jsx)("nav",{className:"-mb-px",children:(0,bn.jsx)("div",{className:"flex justify-between px-2 lg:px-4 xl:px-6",children:S.map(r=>{const n=r.icon,a=e===r.id;return r.isLink?(0,bn.jsxs)(Le,{to:r.linkTo,className:"admin-tab-button flex flex-col sm:flex-row items-center justify-center px-1 sm:px-2 lg:px-3 py-2 lg:py-3 text-xs lg:text-sm font-medium border-b-2 transition-all duration-200 flex-1 text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 rounded-t-lg",title:r.label,children:[(0,bn.jsx)(n,{className:"w-4 h-4 lg:w-5 lg:h-5 mb-1 sm:mb-0 sm:mr-1 lg:mr-2 flex-shrink-0"}),(0,bn.jsxs)("span",{className:"text-xs sm:text-xs lg:text-sm leading-tight text-center sm:text-left",children:[(0,bn.jsx)("span",{className:"hidden xl:inline",children:r.label}),(0,bn.jsx)("span",{className:"xl:hidden",children:r.shortLabel})]})]},r.id):(0,bn.jsxs)("button",{onClick:()=>t(r.id),className:"admin-tab-button flex flex-col sm:flex-row items-center justify-center px-1 sm:px-2 lg:px-3 py-2 lg:py-3 text-xs lg:text-sm font-medium border-b-2 transition-all duration-200 flex-1 ".concat(a?"active text-gray-900 dark:text-white border-blue-600 bg-white/10 dark:bg-white/10 backdrop-blur-md rounded-t-lg":"text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 rounded-t-lg"),title:r.label,children:[(0,bn.jsx)(n,{className:"w-4 h-4 lg:w-5 lg:h-5 mb-1 sm:mb-0 sm:mr-1 lg:mr-2 flex-shrink-0"}),(0,bn.jsxs)("span",{className:"text-xs sm:text-xs lg:text-sm leading-tight text-center sm:text-left",children:[(0,bn.jsx)("span",{className:"hidden xl:inline",children:r.label}),(0,bn.jsx)("span",{className:"xl:hidden",children:r.shortLabel})]})]},r.id)})})})})}),"dashboard"===e&&(0,bn.jsx)(Zo,{dashboardData:r,loading:c}),"users"===e&&(0,bn.jsx)(Qo,{users:a,onUpdateUser:N,showToast:y}),"listings"===e&&(0,bn.jsx)(cl,{showToast:y}),"business"===e&&(0,bn.jsx)(Jo,{showToast:y}),"cats"===e&&(0,bn.jsx)(ul,{showToast:y,permissions:b,isAdminManager:w}),"site-settings"===e&&(0,bn.jsx)(tl,{settings:o,onUpdateSettings:_,showToast:y}),"administration"===e&&(0,bn.jsx)(ll,{showToast:y})]})};function gl(e){var t,r,n,a,s,o,l,c,d,u;let{item:h,onRemove:f,onNavigate:p}=e;const[m,g]=(0,i.useState)(0),x=()=>{p("/product/".concat(h.id))};return(0,bn.jsxs)("div",{className:"product-card group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer hover:-translate-y-1",onClick:x,children:[(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("div",{className:"absolute inset-0 cursor-pointer z-10",onClick:e=>{e.stopPropagation(),x()},title:"View product details"}),(0,bn.jsx)("img",{src:(null===(t=h.images)||void 0===t?void 0:t[m])||(null===(r=h.images)||void 0===r?void 0:r[0])||"/api/placeholder/400/300",alt:h.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-[1.02]"}),h.images&&h.images.length>1&&(0,bn.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 z-20",children:h.images.map((e,t)=>(0,bn.jsx)("div",{className:"w-2 h-2 rounded-full cursor-pointer ".concat(t===m?"bg-white":"bg-white/50"),onClick:e=>{e.stopPropagation(),g(t)}},t))}),(0,bn.jsxs)("div",{className:"absolute top-2 left-2 space-y-1 z-20",children:[null===(n=h.tags)||void 0===n?void 0:n.map(e=>(0,bn.jsx)("span",{className:"inline-block bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:e},e)),(0,bn.jsx)("div",{children:(0,bn.jsx)("span",{className:"inline-block text-white text-xs px-2 py-1 rounded-full font-medium ".concat(null!==(a=h.seller)&&void 0!==a&&a.is_business?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"),children:null!==(s=h.seller)&&void 0!==s&&s.is_business?"Business":"Private"})})]}),(0,bn.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,bn.jsx)("button",{onClick:e=>{e.stopPropagation(),f(h.id)},className:"favorites-button wishlist-button add-to-favorites p-3 bg-red-500/90 text-white backdrop-blur-lg rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 shadow-red-500/25",title:"Remove from favorites",children:(0,bn.jsx)(Ti,{className:"w-4 h-4 fill-current"})})})]}),(0,bn.jsxs)("div",{className:"p-4",children:[(0,bn.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,bn.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white text-lg line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors flex-1 mr-2",children:h.title})}),(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,bn.jsxs)("span",{className:"price-display text-2xl font-bold text-blue-600 dark:text-blue-400",children:["\u20ac","number"===typeof h.price?h.price.toLocaleString():h.price]}),(0,bn.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:h.condition||"New"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300 mb-2",children:[(0,bn.jsx)(os,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:h.location||"Location not specified"})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)(zi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:new Date(h.created_at||Date.now()).toLocaleDateString()})]}),h.views&&(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4"}),(0,bn.jsxs)("span",{children:[h.views," views"]})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,bn.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:((null===(o=h.seller)||void 0===o?void 0:o.name)||(null===(l=h.seller)||void 0===l?void 0:l.username)||"U").charAt(0).toUpperCase()}),(0,bn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(null===(c=h.seller)||void 0===c?void 0:c.name)||(null===(d=h.seller)||void 0===d?void 0:d.username)||"Unknown Seller"}),(0,bn.jsx)("div",{className:"flex items-center space-x-2",children:(0,bn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null===(u=h.seller)||void 0===u?void 0:u.location)&&(0,bn.jsxs)("span",{className:"flex items-center",children:[(0,bn.jsx)(os,{className:"w-3 h-3 mr-1"}),h.seller.location]})})})]})]}),(0,bn.jsxs)("button",{onClick:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 group-hover:bg-blue-700",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"View Details"})]})]})]})}const xl=function(){var e;const{user:t}=Cn(),{showToast:n}=Hn(),a=ne(),s=function(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const r=JSON.parse(e);t(r.adsManager||null)}}catch(e){console.warn("Could not load ads configuration")}};e();const r=()=>{e()};return window.addEventListener("adsConfigUpdated",r),window.addEventListener("storage",r),()=>{window.removeEventListener("adsConfigUpdated",r),window.removeEventListener("storage",r)}},[]),e}(),{favorites:o,removeFromFavorites:l,loadUserFavorites:c,isLoading:d}=Xn();(0,i.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&c(t.id)},[null===t||void 0===t?void 0:t.id,c]);const u=async e=>{try{await l(e,t.id),n("Removed from favorites","success")}catch(r){n("Failed to remove from favorites","error")}};return d?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your favorites..."})]})}):(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-2xl p-8",children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"My Favorites"}),(0,bn.jsx)("p",{className:"text-xl opacity-90",children:"Items you've saved for later"}),o.length>0&&(0,bn.jsxs)("p",{className:"text-lg opacity-80 mt-2",children:["You have ",o.length," favorite items"]})]}),(null===s||void 0===s||null===(e=s.favoriteAd)||void 0===e?void 0:e.active)&&s.favoriteAd.image&&(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow ".concat(s.favoriteAd.url?"cursor-pointer":""),style:{width:s.favoriteAd.width||"100%",maxWidth:"100%"},onClick:()=>{if(s.favoriteAd.url){try{Promise.resolve().then(r.bind(r,7784)).then(e=>{let{trackAdClick:t}=e;t("favoriteAd")})}catch(e){console.warn("Could not track ad click:",e)}console.log("Favorites ad clicked:",s.favoriteAd.url),window.open(s.favoriteAd.url,"_blank")}},children:(0,bn.jsx)("img",{src:s.favoriteAd.image,alt:s.favoriteAd.description||"Advertisement",className:"w-full object-cover",style:{height:s.favoriteAd.height||"200px"}})}),0===o.length?(0,bn.jsxs)("div",{className:"text-center py-16",children:[(0,bn.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,bn.jsx)(Ti,{className:"w-8 h-8 text-gray-400"})}),(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No favorites yet"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start browsing and save items you love"}),(0,bn.jsx)(Le,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Browse Marketplace"})]}):(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(e=>(0,bn.jsx)(gl,{item:e,onRemove:u,onNavigate:a},e.id))})]})};const yl=function(){const{user:e}=Cn(),[t,r]=(0,i.useState)([]),[n,a]=(0,i.useState)(!0),[s,o]=(0,i.useState)("all"),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(!0),[h,f]=(0,i.useState)([]),[p,m]=(0,i.useState)(!1),[g,x]=(0,i.useState)(0),y=async()=>{if(null!==e&&void 0!==e&&e.id){a(!0);try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(e.id,"/notifications"));if(!t.ok)throw new Error("Failed to fetch notifications: ".concat(t.status));{const e=await t.json();console.log("Fetched real notifications:",e),r(e||[]),x(e.filter(e=>!e.is_read).length)}}catch(t){console.error("Failed to load real notifications:",t),r([]),x(0)}finally{a(!1)}}};(0,i.useEffect)(()=>{y()},[e]);const b=async n=>{try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(null===e||void 0===e?void 0:e.id,"/notifications/").concat(n,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok&&(r(t.map(e=>e.id===n?(0,Fe.A)((0,Fe.A)({},e),{},{is_read:!0}):e)),x(e=>Math.max(0,e-1)))}catch(a){console.error("Failed to mark notification as read:",a)}},v=t.filter(e=>{const t="all"===s||"unread"===s&&!e.is_read||"read"===s&&e.is_read||s===e.type,r=!l||e.title.toLowerCase().includes(l.toLowerCase())||e.message.toLowerCase().includes(l.toLowerCase());return t&&r}),w=e=>{const t={className:"w-5 h-5"};switch(e){case"message":return(0,bn.jsx)(Pi,(0,Fe.A)({},t));case"favorite":return(0,bn.jsx)(Ti,(0,Fe.A)({},t));case"buy_request":return(0,bn.jsx)(Ei,(0,Fe.A)({},t));case"buy_approved":return(0,bn.jsx)(Bi,(0,Fe.A)({},t));case"buy_rejected":return(0,bn.jsx)(Ui,(0,Fe.A)({},t));case"payment":return(0,bn.jsx)(Oi,(0,Fe.A)({},t));case"profile_view":return(0,bn.jsx)(Ss,(0,Fe.A)({},t));case"system":return(0,bn.jsx)(ns,(0,Fe.A)({},t));default:return(0,bn.jsx)(Li,(0,Fe.A)({},t))}},j=async e=>{await b(e)},k=async n=>{await(async n=>{try{if((await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(null===e||void 0===e?void 0:e.id,"/notifications/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok){const e=t.find(e=>e.id===n);r(t.filter(e=>e.id!==n)),e&&!e.is_read&&x(e=>Math.max(0,e-1))}}catch(a){console.error("Failed to delete notification:",a)}})(n)};return(0,bn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,bn.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,bn.jsx)("div",{className:"cataloro-card-glass p-8 mb-8",children:(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mb-6 lg:mb-0",children:[(0,bn.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl",children:(0,bn.jsx)(Li,{className:"w-8 h-8 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:g>0?"".concat(g," unread notification").concat(g>1?"s":""):"All caught up!"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("button",{onClick:()=>{const e=!d;u(e),localStorage.setItem("cataloro_notification_sound",e.toString())},className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:d?"Disable sounds":"Enable sounds",children:d?(0,bn.jsx)(Di,{className:"w-5 h-5"}):(0,bn.jsx)(Ri,{className:"w-5 h-5"})}),(0,bn.jsx)("button",{onClick:()=>{y()},disabled:n,className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh notifications",children:(0,bn.jsx)(Ii,{className:"w-5 h-5 ".concat(n?"animate-spin":"")})}),g>0&&(0,bn.jsx)("button",{onClick:async()=>{await(async()=>{try{const e=t.filter(e=>!e.is_read);await Promise.all(e.map(e=>b(e.id))),r(t.map(e=>(0,Fe.A)((0,Fe.A)({},e),{},{is_read:!0}))),x(0)}catch(e){console.error("Failed to mark all as read:",e)}})()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Mark All Read"})]})]})}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-6 mb-8",children:(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:gap-6",children:[(0,bn.jsxs)("div",{className:"relative flex-1 lg:max-w-md",children:[(0,bn.jsx)(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",placeholder:"Search notifications...",value:l,onChange:e=>c(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]}),(0,bn.jsx)("div",{className:"flex flex-wrap items-center justify-center lg:justify-end gap-2 lg:ml-6",children:[{id:"all",label:"All",count:t.length},{id:"unread",label:"Unread",count:g},{id:"message",label:"Messages",count:t.filter(e=>"message"===e.type).length},{id:"buy_request",label:"Requests",count:t.filter(e=>"buy_request"===e.type).length}].map(e=>(0,bn.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap ".concat(s===e.id?"bg-blue-600 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:shadow-sm"),children:[(0,bn.jsx)("span",{children:e.label}),e.count>0&&(0,bn.jsx)("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full text-xs font-bold min-w-[20px] text-center ".concat(s===e.id?"bg-white/30 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300"),children:e.count})]},e.id))})]})}),(0,bn.jsx)("div",{className:"space-y-4",children:n?(0,bn.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,bn.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Loading notifications..."})]}):0===v.length?(0,bn.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,bn.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,bn.jsx)(Li,{className:"w-12 h-12 text-gray-400"})}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:l?"No matching notifications":"No notifications"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:l?"Try adjusting your search terms.":"When you have new activity, it will appear here."})]}):v.map(e=>{const t=(e=>{switch(e){case"message":default:return"blue";case"favorite":return"pink";case"buy_request":return"yellow";case"buy_approved":case"payment":return"green";case"buy_rejected":return"red";case"profile_view":return"purple";case"system":return"gray"}})(e.type),r=h.includes(e.id);return(0,bn.jsx)("div",{className:"cataloro-card-glass p-6 transition-all duration-300 hover:scale-[1.02] cursor-pointer ".concat(e.is_read?"":"ring-2 ring-blue-500/30 bg-blue-50/30 dark:bg-blue-900/20"," ").concat(r?"ring-2 ring-purple-500/50":""),onClick:()=>{e.is_read||j(e.id),e.action_url&&(window.location.href=e.action_url)},children:(0,bn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,bn.jsx)("div",{className:"p-3 rounded-xl ".concat("blue"===t?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"pink"===t?"bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-400":"yellow"===t?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"green"===t?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"red"===t?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"purple"===t?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"),children:w(e.type)}),(0,bn.jsx)("div",{className:"flex-1 min-w-0",children:(0,bn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:e.message}),e.metadata&&(0,bn.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[e.metadata.amount&&(0,bn.jsxs)("span",{className:"flex items-center",children:[(0,bn.jsx)(Oi,{className:"w-4 h-4 mr-1"}),"$",e.metadata.amount]}),e.metadata.item&&(0,bn.jsxs)("span",{className:"flex items-center",children:[(0,bn.jsx)(Fi,{className:"w-4 h-4 mr-1"}),e.metadata.item]}),e.metadata.views&&(0,bn.jsxs)("span",{className:"flex items-center",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4 mr-1"}),e.metadata.views," views"]})]}),(0,bn.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,bn.jsx)(zi,{className:"w-4 h-4 mr-2"}),new Date(e.created_at).toLocaleString()]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!e.is_read&&(0,bn.jsx)("button",{onClick:t=>{t.stopPropagation(),j(e.id)},className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Mark as read",children:(0,bn.jsx)(Bi,{className:"w-4 h-4"})}),(0,bn.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e.id)},className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete notification",children:(0,bn.jsx)(qi,{className:"w-4 h-4"})}),e.action_url&&(0,bn.jsx)(Le,{to:e.action_url,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Go to related page",onClick:e=>e.stopPropagation(),children:(0,bn.jsx)(Rs,{className:"w-4 h-4"})})]})]})}),!e.is_read&&(0,bn.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-pulse mt-1"})]})},e.id)})}),v.length>0&&(0,bn.jsx)("div",{className:"cataloro-card-glass p-6 mt-8",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-300",children:[(0,bn.jsxs)("span",{children:["Showing ",v.length," of ",t.length," notifications"]}),(0,bn.jsxs)("span",{children:[g," unread"]})]})})]})})},bl=_i("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),vl=_i("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const wl=function(){const{user:e,updateUser:t}=Cn(),{showToast:r}=Hn(),{allProducts:n,favorites:a,orderHistory:s,refreshListings:o}=Xn(),[l,c]=(0,i.useState)("profile"),[d,u]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[g,x]=(0,i.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[y,b]=(0,i.useState)({full_name:(null===e||void 0===e?void 0:e.full_name)||"",username:(null===e||void 0===e?void 0:e.username)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",street:(null===e||void 0===e?void 0:e.street)||"",post_code:(null===e||void 0===e?void 0:e.post_code)||"",city:(null===e||void 0===e?void 0:e.city)||"",country:(null===e||void 0===e?void 0:e.country)||"",bio:(null===e||void 0===e?void 0:e.bio)||"Marketplace enthusiast and trusted seller.",avatar_url:(null===e||void 0===e?void 0:e.avatar_url)||"",date_joined:(null===e||void 0===e?void 0:e.date_joined)||"2024-01-15",verified:(null===e||void 0===e?void 0:e.verified)||!1,seller_rating:(null===e||void 0===e?void 0:e.seller_rating)||4.8,total_sales:(null===e||void 0===e?void 0:e.total_sales)||0,is_business:(null===e||void 0===e?void 0:e.is_business)||!1,company_name:(null===e||void 0===e?void 0:e.company_name)||"",business_country:(null===e||void 0===e?void 0:e.business_country)||"",vat_number:(null===e||void 0===e?void 0:e.vat_number)||""}),[v,w]=(0,i.useState)([]),[j,k]=(0,i.useState)([]),[N,_]=(0,i.useState)([]),[S,A]=(0,i.useState)(!1),[O,E]=(0,i.useState)(!1),[C,P]=(0,i.useState)(!1),[T,M]=(0,i.useState)({emailNotifications:!0,smsNotifications:!1,marketingEmails:!1,browserNotifications:!0,darkMode:!1,language:"en",currency:"USD",timezone:"UTC",publicProfile:!0,showEmail:!1,showPhone:!1}),[L,D]=(0,i.useState)({totalListings:0,activeListings:0,totalDeals:0,completedDeals:0,totalRevenue:0,avgRating:0,totalFavorites:0,profileViews:0,joinDate:"",lastActive:""}),R=["Berlin","Munich","Hamburg","Frankfurt","Cologne","Stuttgart","D\xfcsseldorf","Dortmund","Essen","Bremen","Paris","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven","Tilburg","Groningen","Almere","Brussels","Antwerp","Ghent","Bruges","Leuven","Li\xe8ge","Madrid","Barcelona","Valencia","Seville","Bilbao","M\xe1laga","Zaragoza","Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Venice","London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Cardiff","Vienna","Zurich","Geneva","Copenhagen","Stockholm","Oslo","Helsinki","Prague","Warsaw","Budapest","Dublin","Lisbon","Athens"],I=["Germany","France","Netherlands","Belgium","Spain","Italy","United Kingdom","Austria","Switzerland","Denmark","Sweden","Norway","Finland","Czech Republic","Poland","Hungary","Ireland","Portugal","Greece","Luxembourg","Slovenia","Slovakia","Estonia","Latvia","Lithuania","Malta","Cyprus","Croatia","Romania","Bulgaria"];(0,i.useEffect)(()=>{(()=>{const t=n.filter(t=>t.seller===(null===e||void 0===e?void 0:e.username)||t.seller===(null===e||void 0===e?void 0:e.full_name)),r=t.filter(e=>!1!==e.inStock),i=s||[],o=i.filter(e=>"completed"===e.status),l={totalListings:t.length,activeListings:r.length,totalDeals:i.length,completedDeals:o.length,totalRevenue:t.reduce((e,t)=>e+(t.price||0),0),avgRating:y.seller_rating,totalFavorites:a.length,profileViews:Math.floor(500*Math.random())+100,joinDate:y.date_joined,lastActive:(new Date).toISOString().split("T")[0]};D(l)})()},[n,s,a,e,y]);const F=e=>{const{name:t,value:r}=e.target;b(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[t]:r}))},B=(e,t)=>{M((0,Fe.A)((0,Fe.A)({},T),{},{[e]:t})),r("".concat(e," ").concat(t?"enabled":"disabled"),"success")},U=e=>{x((0,Fe.A)((0,Fe.A)({},g),{},{[e.target.name]:e.target.value}))};return(0,bn.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,bn.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 rounded-xl p-8 mb-8 text-white relative overflow-hidden",children:[(0,bn.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"}),(0,bn.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),(0,bn.jsxs)("div",{className:"relative flex items-center space-x-6",children:[(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("div",{className:"w-32 h-32 rounded-full bg-white/20 flex items-center justify-center overflow-hidden border-4 border-white/30",children:y.avatar_url?(0,bn.jsx)("img",{src:y.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):(0,bn.jsx)(Yi,{className:"w-16 h-16 text-white/80"})}),d&&(0,bn.jsx)("div",{className:"absolute bottom-0 right-0",children:(0,bn.jsxs)("label",{className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center cursor-pointer shadow-lg transition-colors",children:[(0,bn.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.size>5242880)r("File size must be less than 5MB","error");else try{f(!0);const e=new FileReader;e.onload=e=>{b(t=>(0,Fe.A)((0,Fe.A)({},t),{},{avatar_url:e.target.result}))},e.readAsDataURL(t),await new Promise(e=>setTimeout(e,2e3)),r("Profile picture updated successfully!","success")}catch(n){r("Failed to upload image","error")}finally{f(!1)}},className:"hidden"}),h?(0,bn.jsx)(Ii,{className:"w-5 h-5 text-white animate-spin"}):(0,bn.jsx)(jo,{className:"w-5 h-5 text-white"})]})})]}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold",children:y.full_name||"Anonymous User"}),y.verified&&(0,bn.jsxs)("div",{className:"flex items-center space-x-1 bg-green-500/20 text-green-100 px-3 py-1 rounded-full text-sm",children:[(0,bn.jsx)(ps,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Verified"})]}),y.is_business&&(0,bn.jsxs)("div",{className:"flex items-center space-x-1 bg-blue-500/20 text-blue-100 px-3 py-1 rounded-full text-sm",children:[(0,bn.jsx)(ns,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Business"})]})]}),(0,bn.jsxs)("p",{className:"text-white/80 mb-4",children:["@",y.username]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Ds,{className:"w-5 h-5 text-yellow-400 fill-current"}),(0,bn.jsx)("span",{className:"font-semibold",children:y.seller_rating}),(0,bn.jsx)("span",{className:"text-white/60",children:"rating"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Fi,{className:"w-5 h-5"}),(0,bn.jsx)("span",{className:"font-semibold",children:L.totalListings}),(0,bn.jsx)("span",{className:"text-white/60",children:"listings"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(so,{className:"w-5 h-5"}),(0,bn.jsxs)("span",{className:"text-white/60",children:["Joined ",y.date_joined]})]})]})]}),(0,bn.jsx)("div",{className:"text-right",children:(0,bn.jsxs)("button",{onClick:()=>u(!d),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-6 py-3 rounded-lg transition-colors flex items-center space-x-2",children:[(0,bn.jsx)(Do,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:d?"Cancel Edit":"Edit Profile"})]})})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,bn.jsxs)("div",{className:"lg:col-span-2",children:[(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 mb-8",children:(0,bn.jsx)("div",{className:"flex space-x-1 p-2",children:[{id:"profile",label:"Profile Info",icon:Yi},{id:"security",label:"Security",icon:Ci},{id:"preferences",label:"Preferences",icon:ns},{id:"stats",label:"Statistics",icon:Vi}].map(e=>(0,bn.jsxs)("button",{onClick:()=>c(e.id),className:"flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-colors flex-1 justify-center ".concat(l===e.id?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,bn.jsx)(e.icon,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:e.label})]},e.id))})}),"profile"===l&&(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),d&&(0,bn.jsxs)("button",{onClick:async()=>{try{const n=(null===e||void 0===e?void 0:e.is_business)!==y.is_business;await new Promise(e=>setTimeout(e,1e3));const a=(0,Fe.A)((0,Fe.A)({},e),y);localStorage.setItem("cataloro_user",JSON.stringify(a)),"function"===typeof t&&t(a),u(!1),r("Profile updated successfully!","success"),n&&(o(),r("Account switched to ".concat(y.is_business?"Business":"Private"),"success"))}catch(n){r("Failed to update profile","error")}},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[(0,bn.jsx)(eo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Save Changes"})]})]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),(0,bn.jsx)("input",{type:"text",name:"full_name",value:y.full_name,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your full name"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),(0,bn.jsx)("input",{type:"text",name:"username",value:y.username,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your username"})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),(0,bn.jsx)("input",{type:"email",name:"email",value:y.email,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your email"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),(0,bn.jsx)("input",{type:"tel",name:"phone",value:y.phone,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your phone number"})]})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Address Information"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,bn.jsx)("input",{type:"text",name:"street",value:y.street,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your street address"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postal Code"}),(0,bn.jsx)("input",{type:"text",name:"post_code",value:y.post_code,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your postal code"})]}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["City",d&&(0,bn.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,bn.jsx)("input",{type:"text",name:"city",value:y.city,onChange:e=>{const t=e.target.value;if(b(e=>(0,Fe.A)((0,Fe.A)({},e),{},{city:t})),t.length>1){const e=R.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);w(e),A(e.length>0)}else w([]),A(!1)},onFocus:()=>y.city&&A(v.length>0),disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your city"}),S&&d&&(0,bn.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,bn.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,bn.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)(os,{className:"w-4 h-4 mr-2 text-blue-500"}),"Popular Cities (",v.length,")",(0,bn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),v.map((e,t)=>(0,bn.jsx)("div",{onClick:()=>(e=>{b(t=>(0,Fe.A)((0,Fe.A)({},t),{},{city:e})),A(!1),w([])})(e),className:"p-3 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e})]})},t))]})]})]}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Country",d&&(0,bn.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,bn.jsx)("input",{type:"text",name:"country",value:y.country,onChange:e=>{const t=e.target.value;if(b(e=>(0,Fe.A)((0,Fe.A)({},e),{},{country:t})),t.length>1){const e=I.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);k(e),E(e.length>0)}else k([]),E(!1)},onFocus:()=>y.country&&E(j.length>0),disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your country"}),O&&d&&(0,bn.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,bn.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,bn.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)(Si,{className:"w-4 h-4 mr-2 text-green-500"}),"Popular Countries (",j.length,")",(0,bn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),j.map((e,t)=>(0,bn.jsx)("div",{onClick:()=>(e=>{b(t=>(0,Fe.A)((0,Fe.A)({},t),{},{country:e})),E(!1),k([])})(e),className:"p-3 hover:bg-green-50 dark:hover:bg-green-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",children:e})]})},t))]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),(0,bn.jsx)("textarea",{name:"bio",rows:4,value:y.bio,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Tell us about yourself..."}),(0,bn.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[y.bio.length,"/500 characters"]})]}),(0,bn.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-xl p-6 border border-gray-200 dark:border-gray-600",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("div",{className:"p-3 rounded-xl ".concat(y.is_business?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-green-500 to-emerald-600"),children:y.is_business?(0,bn.jsx)(ns,{className:"w-6 h-6 text-white"}):(0,bn.jsx)(Yi,{className:"w-6 h-6 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Account Type"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.is_business?"Professional business marketplace seller":"Personal marketplace account for individuals"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.is_business?"Business":"Personal"}),(0,bn.jsx)("button",{onClick:()=>{return e=!y.is_business,void b(t=>(0,Fe.A)((0,Fe.A)({},t),{},{is_business:e},!e&&{company_name:"",business_country:"",vat_number:""}));var e},disabled:!d,className:"w-11 h-6 rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(y.is_business?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"," ").concat(d?"":"opacity-50 cursor-not-allowed"),children:(0,bn.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 ease-in-out ".concat(y.is_business?"translate-x-5":"translate-x-0.5")})})]})]}),y.is_business&&(0,bn.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:[(0,bn.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(ps,{className:"w-5 h-5 text-green-600 mr-2"}),"Business Information"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name *"}),(0,bn.jsx)("input",{type:"text",name:"company_name",value:y.company_name,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your company name",required:y.is_business})]}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Business Country *",d&&(0,bn.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,bn.jsx)("input",{type:"text",name:"business_country",value:y.business_country,onChange:e=>{const t=e.target.value;if(b(e=>(0,Fe.A)((0,Fe.A)({},e),{},{business_country:t})),t.length>1){const e=I.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);_(e),P(e.length>0)}else _([]),P(!1)},onFocus:()=>y.business_country&&P(N.length>0),disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter business country",required:y.is_business}),C&&d&&(0,bn.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,bn.jsx)("div",{className:"p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,bn.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,bn.jsx)(Si,{className:"w-4 h-4 mr-2 text-indigo-500"}),"Business Countries (",N.length,")",(0,bn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),N.map((e,t)=>(0,bn.jsx)("div",{onClick:()=>(e=>{b(t=>(0,Fe.A)((0,Fe.A)({},t),{},{business_country:e})),P(!1),_([])})(e),className:"p-3 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:e})]})},t))]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"VAT Number"}),(0,bn.jsx)("input",{type:"text",name:"vat_number",value:y.vat_number,onChange:F,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your VAT number (optional)"})]})]})]})]})]})]}),"security"===l&&(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Security Settings"}),(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(bl,{className:"w-5 h-5 mr-2"}),"Change Password"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,bn.jsx)("input",{type:p?"text":"password",name:"currentPassword",value:g.currentPassword,onChange:U,className:"cataloro-input",placeholder:"Enter current password"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,bn.jsx)("input",{type:p?"text":"password",name:"newPassword",value:g.newPassword,onChange:U,className:"cataloro-input",placeholder:"Enter new password"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,bn.jsx)("input",{type:p?"text":"password",name:"confirmPassword",value:g.confirmPassword,onChange:U,className:"cataloro-input",placeholder:"Confirm new password"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("button",{type:"button",onClick:()=>m(!p),className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[p?(0,bn.jsx)(Ts,{className:"w-4 h-4"}):(0,bn.jsx)(Ss,{className:"w-4 h-4"}),(0,bn.jsxs)("span",{children:[p?"Hide":"Show"," passwords"]})]}),(0,bn.jsxs)("button",{onClick:async()=>{if(g.newPassword===g.confirmPassword)if(g.newPassword.length<8)r("Password must be at least 8 characters long","error");else try{await new Promise(e=>setTimeout(e,1e3)),x({currentPassword:"",newPassword:"",confirmPassword:""}),r("Password updated successfully!","success")}catch(e){r("Failed to update password","error")}else r("New passwords do not match","error")},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[(0,bn.jsx)(vl,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Update Password"})]})]})]})]}),(0,bn.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-8",children:[(0,bn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Ci,{className:"w-5 h-5 mr-2"}),"Two-Factor Authentication"]}),(0,bn.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Authenticator App"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use an authenticator app to generate secure codes"})]}),(0,bn.jsx)("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Set up"})]})})]})]})]}),"preferences"===l&&(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Preferences"}),(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Li,{className:"w-5 h-5 mr-2"}),"Notifications"]}),(0,bn.jsx)("div",{className:"space-y-6",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"smsNotifications",label:"SMS Notifications",description:"Receive notifications via SMS"},{key:"marketingEmails",label:"Marketing Emails",description:"Receive promotional content"},{key:"browserNotifications",label:"Browser Notifications",description:"Show desktop notifications"}].map(e=>(0,bn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:T[e.key]?"On":"Off"}),(0,bn.jsx)("button",{onClick:()=>B(e.key,!T[e.key]),className:"w-11 h-6 rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(T[e.key]?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"),children:(0,bn.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 ease-in-out ".concat(T[e.key]?"translate-x-5":"translate-x-0.5")})})]})]},e.key))})]}),(0,bn.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-8",children:[(0,bn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,bn.jsx)(Ss,{className:"w-5 h-5 mr-2"}),"Privacy"]}),(0,bn.jsx)("div",{className:"space-y-6",children:[{key:"publicProfile",label:"Public Profile",description:"Make your profile visible to everyone"},{key:"showEmail",label:"Show Email",description:"Display email on public profile"},{key:"showPhone",label:"Show Phone",description:"Display phone number on public profile"}].map(e=>(0,bn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:T[e.key]?"On":"Off"}),(0,bn.jsx)("button",{onClick:()=>B(e.key,!T[e.key]),className:"w-11 h-6 rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(T[e.key]?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"),children:(0,bn.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 ease-in-out ".concat(T[e.key]?"translate-x-5":"translate-x-0.5")})})]})]},e.key))})]})]})]}),"stats"===l&&(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Account Statistics"}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[{label:"Total Listings",value:L.totalListings,icon:Fi,color:"blue"},{label:"Active Listings",value:L.activeListings,icon:ps,color:"green"},{label:"Total Deals",value:L.totalDeals,icon:Oi,color:"purple"},{label:"Completed Deals",value:L.completedDeals,icon:rs,color:"yellow"},{label:"Total Revenue",value:"\u20ac".concat(L.totalRevenue.toFixed(2)),icon:Vi,color:"indigo"},{label:"Favorites",value:L.totalFavorites,icon:Ti,color:"red"}].map((e,t)=>(0,bn.jsx)("div",{className:"bg-gradient-to-r from-".concat(e.color,"-50 to-").concat(e.color,"-100 dark:from-").concat(e.color,"-900/20 dark:to-").concat(e.color,"-800/30 border border-").concat(e.color,"-200 dark:border-").concat(e.color,"-800 rounded-lg p-4"),children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-".concat(e.color,"-600 dark:text-").concat(e.color,"-400 text-sm font-medium"),children:e.label}),(0,bn.jsx)("p",{className:"text-".concat(e.color,"-900 dark:text-").concat(e.color,"-100 text-2xl font-bold"),children:e.value})]}),(0,bn.jsx)("div",{className:"p-3 bg-".concat(e.color,"-500 rounded-lg"),children:(0,bn.jsx)(e.icon,{className:"w-6 h-6 text-white"})})]})},t))}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),(0,bn.jsx)("div",{className:"space-y-4",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,bn.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)(Yi,{className:"w-5 h-5 text-white"})}),(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Profile updated"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Updated profile information"})]}),(0,bn.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Today"})]})})]})]})]}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Profile Views"}),(0,bn.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:L.profileViews})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Seller Rating"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)(Ds,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,bn.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:y.seller_rating})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Active"}),(0,bn.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.lastActive})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,bn.jsx)(wo,{className:"w-5 h-5 text-gray-400"}),(0,bn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Export Data"})]}),(0,bn.jsxs)("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,bn.jsx)(Ci,{className:"w-5 h-5 text-gray-400"}),(0,bn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Privacy Settings"})]}),(0,bn.jsxs)("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-red-600 dark:text-red-400",children:[(0,bn.jsx)(ms,{className:"w-5 h-5"}),(0,bn.jsx)("span",{children:"Delete Account"})]})]})]})]})]})]})};const jl=function(){var e;const{userId:t}=ie(),{user:r}=Cn(),{allProducts:n}=Xn(),{getUserDisplay:a}=Zi(),[s,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0),[d,u]=(0,i.useState)({totalListings:0,activeListings:0,totalSales:0,avgRating:0,responseRate:0,memberSince:"",lastActive:""}),[h,f]=(0,i.useState)([]),[p,m]=(0,i.useState)({messages:[],deals:[],totalInteractions:0}),g=e=>{switch(e){case"Admin":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800";case"Manager":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300 border border-purple-200 dark:border-purple-800";case"Seller":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border border-green-200 dark:border-green-800";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-200 dark:border-blue-800"}};return(0,i.useEffect)(()=>{const e=async()=>{try{var e;c(!0);let i=null;try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/auth/profile/").concat(t));if(e.ok)i=await e.json(),console.log("Fetched user data:",i);else{console.log("Primary profile endpoint failed, trying user endpoint...");const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(t));if(e.ok)i=await e.json();else{console.log("Both profile endpoints failed, trying listings endpoint...");const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/listings?seller_id=").concat(t));if(e.ok){const r=await e.json();if(r.length>0&&r[0].seller){i=r[0].seller;const e=r.filter(e=>e.seller===i.username||e.seller===i.full_name||e.seller_id===t);f(e.slice(0,6))}}}}}catch(a){console.log("Backend API error:",a)}if(!i)return o(null),void c(!1);const s={id:i.id,full_name:i.full_name||i.name||"Unknown User",username:i.username||(null===(e=i.email)||void 0===e?void 0:e.split("@")[0])||"unknown",email:i.email,bio:i.bio||"".concat(i.full_name||"User"," is a marketplace member."),avatar_url:i.avatar_url||"",city:i.city||"Not specified",country:i.country||"Not specified",date_joined:i.date_joined||i.created_at||"2023-01-01",verified:i.verified||!1,is_business:i.is_business||!1,company_name:i.company_name||"",seller_rating:i.seller_rating||0,phone:i.phone||"",publicProfile:!1!==i.publicProfile,showEmail:i.showEmail||!1,showPhone:i.showPhone||!1};o(s),t!==(null===r||void 0===r?void 0:r.id)&&await(async e=>{try{const t={messages:[],deals:[]};try{const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/messages/conversations/").concat(null===r||void 0===r?void 0:r.id));if(n.ok){const r=(await n.json()).filter(t=>{var r;return(null===(r=t.participants)||void 0===r?void 0:r.some(t=>t.id===e))||t.user_id===e||t.id===e});t.messages=r.slice(0,3).map(e=>{var t,r;return{id:e.id||e.conversation_id,subject:e.subject||"Message conversation",last_message:e.last_message||(null===(t=e.messages)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.content)||"Chat conversation",created_at:e.created_at||e.last_message_at||(new Date).toISOString()}})}}catch(a){console.log("Could not fetch real messages:",a)}try{const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/my-deals/").concat(null===r||void 0===r?void 0:r.id));if(n.ok){const r=(await n.json()).filter(t=>{var r,n;return t.buyer_id===e||t.seller_id===e||(null===(r=t.buyer)||void 0===r?void 0:r.id)===e||(null===(n=t.seller)||void 0===n?void 0:n.id)===e});t.deals=r.slice(0,3).map(e=>{var t,r;return{id:e.id,item_title:(null===(t=e.listing)||void 0===t?void 0:t.title)||"Deal item",amount:e.amount||(null===(r=e.listing)||void 0===r?void 0:r.price)||0,status:e.status||"completed",date:e.approved_at||e.created_at||(new Date).toISOString()}})}}catch(a){console.log("Could not fetch real deals:",a)}m((0,Fe.A)((0,Fe.A)({},t),{},{totalInteractions:t.messages.length+t.deals.length}))}catch(a){console.error("Failed to load user interactions:",a),m({messages:[],deals:[],totalInteractions:0})}})(t);const l=n.filter(e=>e.seller===i.username||e.seller===i.full_name||e.seller_id===t);f(l.slice(0,6));let d=0,h=0,p="Active today";try{const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/my-deals/").concat(t));if(e.ok){const r=await e.json();d=r.filter(e=>e.seller_id===t&&"completed"===e.status).length}const r=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/messages/conversations/").concat(t));if(r.ok){const e=await r.json(),t=e.length,n=e.filter(e=>e.messages&&e.messages.length>1).length;h=t>0?Math.round(n/t*100):95}else h=95;if(l.length>0){const e=l.sort((e,t)=>new Date(t.created_at||t.date_added||0)-new Date(e.created_at||e.date_added||0))[0],t=new Date(e.created_at||e.date_added),r=Math.floor((new Date-t)/864e5);p=0===r?"Active today":1===r?"Active yesterday":r<7?"Active ".concat(r," days ago"):r<30?"Active ".concat(Math.floor(r/7)," weeks ago"):"Active over a month ago"}}catch(a){console.log("Could not fetch additional stats:",a),d=0,h=95}const g={totalListings:l.length,activeListings:l.filter(e=>!1!==e.inStock&&"active"===e.status).length,totalSales:d,avgRating:i.seller_rating||4.5,responseRate:h,memberSince:i.date_joined,lastActive:p};u(g)}catch(a){console.error("Failed to load public profile:",a)}finally{c(!1)}};t&&e()},[t,n]),l?(0,bn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Profile..."})]})}):s&&s.publicProfile?(0,bn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 fade-in",children:(0,bn.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,bn.jsx)("div",{className:"cataloro-card-glass p-8 mb-8",children:(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-6 lg:space-y-0 lg:space-x-8",children:[(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("div",{className:"w-32 h-32 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto lg:mx-0",children:s.avatar_url?(0,bn.jsx)("img",{src:s.avatar_url,alt:"Profile",className:"w-32 h-32 rounded-full object-cover"}):(0,bn.jsx)("span",{className:"text-white font-bold text-4xl",children:(null===(e=s.full_name)||void 0===e?void 0:e.charAt(0))||"U"})}),s.verified&&(0,bn.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-green-500 rounded-full p-2",children:(0,bn.jsx)(ps,{className:"w-6 h-6 text-white"})})]}),(0,bn.jsxs)("div",{className:"flex-1 text-center lg:text-left",children:[(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:space-x-4 mb-4",children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s.username||s.full_name}),(0,bn.jsxs)("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mt-2 lg:mt-0",children:[(()=>{const e=(e=>{if((null===e||void 0===e?void 0:e.id)===(null===r||void 0===r?void 0:r.id)){const e=a();return{badge:(null===e||void 0===e?void 0:e.badge)||"Buyer",role:(null===e||void 0===e?void 0:e.role)||"User-Buyer"}}const t=(null===e||void 0===e?void 0:e.email)||"",n=(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||"";return t.includes("admin")||"admin"===(null===e||void 0===e?void 0:e.role)?{badge:"Admin",role:"Admin"}:n.toLowerCase().includes("seller")||"User-Seller"===(null===e||void 0===e?void 0:e.user_role)?{badge:"Seller",role:"User-Seller"}:"Admin-Manager"===(null===e||void 0===e?void 0:e.user_role)?{badge:"Manager",role:"Admin-Manager"}:{badge:"Buyer",role:"User-Buyer"}})(s);return(0,bn.jsxs)("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full ".concat(g(e.badge)),children:[(0,bn.jsx)(Ci,{className:"w-4 h-4 mr-1"}),e.badge]})})(),s.verified&&(0,bn.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,bn.jsx)(ps,{className:"w-4 h-4 mr-1"}),"Verified"]}),s.is_business?(0,bn.jsxs)("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,bn.jsx)(ns,{className:"w-4 h-4 mr-1"}),"Business"]}):(0,bn.jsxs)("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,bn.jsx)(Yi,{className:"w-4 h-4 mr-1"}),"Private"]})]})]}),(0,bn.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2 text-lg",children:["@",s.username]}),s.is_business&&s.company_name&&(0,bn.jsx)("p",{className:"text-blue-600 dark:text-blue-400 font-medium mb-4",children:s.company_name}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-2xl",children:s.bio}),(0,bn.jsxs)("div",{className:"flex items-center justify-center lg:justify-start text-gray-600 dark:text-gray-300 mb-6",children:[(0,bn.jsx)(os,{className:"w-5 h-5 mr-2"}),(0,bn.jsxs)("span",{children:[s.city,", ",s.country]})]}),(0,bn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[(null===r||void 0===r?void 0:r.id)!==t&&(0,bn.jsxs)("button",{onClick:()=>{window.location.href="/messages?user=".concat(t)},className:"cataloro-button-primary flex items-center justify-center",children:[(0,bn.jsx)(Pi,{className:"w-5 h-5 mr-2"}),"Send Message"]}),s.showEmail&&(0,bn.jsxs)("a",{href:"mailto:".concat(s.email),className:"cataloro-button-secondary flex items-center justify-center",children:[(0,bn.jsx)(is,{className:"w-5 h-5 mr-2"}),"Send Email"]}),s.showPhone&&(0,bn.jsxs)("a",{href:"tel:".concat(s.phone),className:"cataloro-button-secondary flex items-center justify-center",children:[(0,bn.jsx)(ss,{className:"w-5 h-5 mr-2"}),"Call"]})]})]})]})}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,bn.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(null===r||void 0===r?void 0:r.id)!==t&&p.totalInteractions>0&&(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,bn.jsx)(Pi,{className:"w-5 h-5 mr-2 text-blue-600"}),"Interactions with this user"]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[p.messages.length>0&&(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Recent Messages (",p.messages.length,")"]}),(0,bn.jsx)("div",{className:"space-y-2",children:p.messages.slice(0,3).map(e=>(0,bn.jsxs)("div",{className:"p-3 bg-blue-50/50 dark:bg-blue-900/20 rounded-lg",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.subject}),(0,bn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e.last_message})]},e.id))})]}),p.deals.length>0&&(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Past Deals (",p.deals.length,")"]}),(0,bn.jsx)("div",{className:"space-y-2",children:p.deals.slice(0,3).map(e=>(0,bn.jsxs)("div",{className:"p-3 bg-green-50/50 dark:bg-green-900/20 rounded-lg",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.item_title}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("span",{className:"text-sm font-bold text-green-600",children:["$",e.amount]}),(0,bn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]})]},e.id))})]}),(0,bn.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:p.totalInteractions}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Interactions"})]})})]})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Statistics"}),(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Fi,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Listings"})]}),(0,bn.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:d.totalListings})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Oi,{className:"w-5 h-5 text-green-600 mr-3"}),(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Sales"})]}),(0,bn.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:d.totalSales})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Ds,{className:"w-5 h-5 text-yellow-500 mr-3"}),(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Rating"})]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Ds,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,bn.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:d.avgRating})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Pi,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,bn.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Response Rate"})]}),(0,bn.jsxs)("span",{className:"font-bold text-gray-900 dark:text-white",children:[d.responseRate,"%"]})]})]})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Additional Information"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[s.is_business&&s.company_name&&(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(ns,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Company"}),(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:s.company_name})]})]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Ci,{className:"w-5 h-5 text-green-600 mr-3"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Account Status"}),(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:s.verified?"Verified Member":"Standard Member"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Si,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Profile Type"}),(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:s.is_business?"Business Account":"Personal Account"})]})]})]})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Member Info"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(so,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Member since"}),(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:new Date(d.memberSince).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)(Ss,{className:"w-5 h-5 text-green-600 mr-3"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last active"}),(0,bn.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:d.lastActive})]})]})]})]})]}),(0,bn.jsx)("div",{className:"lg:col-span-2",children:(0,bn.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Recent Listings (",d.activeListings," active)"]}),h.length>6&&(0,bn.jsx)("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium",children:"View All \u2192"})]}),0===h.length?(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)(Fi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,bn.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Listings Yet"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This user hasn't created any listings."})]}):(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map((e,t)=>{var r;return(0,bn.jsx)("div",{className:"group cursor-pointer",children:(0,bn.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-4 hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 border border-gray-200/50 dark:border-gray-700/50",children:[(0,bn.jsx)("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:(0,bn.jsx)("img",{src:(null===(r=e.images)||void 0===r?void 0:r[0])||"/api/placeholder/300/200",alt:e.title,className:"w-full h-32 object-cover rounded-lg"})}),(0,bn.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.title}),(0,bn.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:["$",e.price]}),(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:[e.condition," \u2022 ",e.location]})]})},t)})})]})})]})]})}):(0,bn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,bn.jsxs)("div",{className:"text-center max-w-md mx-auto p-8",children:[(0,bn.jsx)("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,bn.jsx)(Yi,{className:"w-12 h-12 text-gray-400"})}),(0,bn.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Profile Not Available"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This user's profile is private or doesn't exist."})]})})},kl=_i("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Nl=_i("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const _l=function(){var e,t;const{user:n}=Cn(),{showToast:a}=Hn(),{getUserDisplay:s}=Zi(),o=function(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const r=JSON.parse(e);t(r.adsManager||null)}}catch(e){console.warn("Could not load ads configuration")}};e();const r=()=>{e()};return window.addEventListener("adsConfigUpdated",r),window.addEventListener("storage",r),()=>{window.removeEventListener("adsConfigUpdated",r),window.removeEventListener("storage",r)}},[]),e}(),[l,c]=(0,i.useState)([]),[d,u]=(0,i.useState)(null),[h,f]=(0,i.useState)([]),[p,m]=(0,i.useState)({recipient:"",subject:"",content:""}),[g,x]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[v,w]=(0,i.useState)(!1),[j,k]=(0,i.useState)("all"),[N,_]=(0,i.useState)(!0),[S,A]=(0,i.useState)(0),[O,E]=(0,i.useState)(!1),[C,P]=(0,i.useState)(null),[T,M]=(0,i.useState)(!1),[L,D]=(0,i.useState)([]),[R,I]=(0,i.useState)(!1),[F,B]=(0,i.useState)(!1),[U,q]=(0,i.useState)(null),[z,H]=(0,i.useState)(new Set),[V,W]=(0,i.useState)(""),[K,G]=(0,i.useState)([]),[Y,$]=(0,i.useState)(!1),[J,X]=(0,i.useState)(null),Z=(0,i.useRef)(null),Q=(0,i.useRef)(null),ee=(0,i.useRef)({});(0,i.useEffect)(()=>()=>{console.log("\ud83d\udd04 Leaving Messages area - resetting read status"),window.dispatchEvent(new CustomEvent("messagesSessionReset"))},[]);const te=(e,t)=>{if(e===(null===n||void 0===n?void 0:n.id)){const e=s();return{badge:(null===e||void 0===e?void 0:e.badge)||"Buyer",role:(null===e||void 0===e?void 0:e.role)||"User-Buyer"}}return null!==t&&void 0!==t&&t.toLowerCase().includes("seller")||null!==t&&void 0!==t&&t.toLowerCase().includes("john")?{badge:"Seller",role:"User-Seller"}:null!==t&&void 0!==t&&t.toLowerCase().includes("admin")?{badge:"Admin",role:"Admin"}:{badge:"Buyer",role:"User-Buyer"}},re=e=>{switch(e){case"Admin":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Manager":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"Seller":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}};(0,i.useEffect)(()=>{n&&ne()},[n]);const ne=async()=>{if(n)try{_(!0);const e=await Wn.getUserMessages(n.id),t=new Map,r=new Date(Date.now()-6048e5);e.forEach(e=>{if(new Date(e.created_at)<r)return;const a=e.sender_id===n.id?e.recipient_id:e.sender_id,i=e.sender_id===n.id?e.recipient_name:e.sender_name;t.has(a)||t.set(a,{id:a,name:i||"Unknown User",messages:[],lastMessage:null,unreadCount:0});const s=t.get(a);s.messages.push(e),(!s.lastMessage||new Date(e.created_at)>new Date(s.lastMessage.created_at))&&(s.lastMessage=e),e.is_read||e.sender_id===n.id||s.unreadCount++});const i=Array.from(t.values()).sort((e,t)=>e.lastMessage||t.lastMessage?e.lastMessage?t.lastMessage?new Date(t.lastMessage.created_at)-new Date(e.lastMessage.created_at):-1:1:0);e.length>i.reduce((e,t)=>e+t.messages.length,0)&&a("\u26a0\ufe0f Some conversations older than 7 days have been automatically removed","info"),c(i)}catch(e){console.error("Failed to load messages:",e),a("Failed to load messages","error"),c(le)}finally{_(!1)}},ae=e=>{console.log("\ud83c\udfaf selectConversation called for:",e.name),u(e);const t=e.messages.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));f(t),c(t=>t.map(t=>t.id===e.id?(0,Fe.A)((0,Fe.A)({},t),{},{unreadCount:0}):t));const r=e.unreadCount||0;if(r>0){console.log("\ud83d\udce7 Immediately updating header - reducing count by ".concat(r)),window.dispatchEvent(new CustomEvent("messagesMarkedAsRead",{detail:{count:r}}));e.messages.filter(e=>!e.is_read&&e.sender_id!==n.id).forEach(e=>{console.log("\ud83d\udcdd Marking message ".concat(e.id," as read on server")),se(e.id)})}},ie=async()=>{if(!g.trim()||!d)return;const e=g;try{var t,r;I(!0),await Wn.sendMessage(n.id,{recipient_id:d.id,subject:"Re: ".concat((null===(t=h[0])||void 0===t?void 0:t.subject)||"Conversation"),content:e}),x("");const a={id:"temp_".concat(Date.now()),sender_id:n.id,sender_name:(null===n||void 0===n?void 0:n.full_name)||(null===n||void 0===n?void 0:n.username)||"You",recipient_id:d.id,subject:"Re: ".concat((null===(r=h[0])||void 0===r?void 0:r.subject)||"Conversation"),content:e,is_read:!0,created_at:(new Date).toISOString()};f(e=>[a,...e]),setTimeout(()=>ne(),1e3)}catch(i){console.error("Failed to send reply:",i),a("Failed to send reply","error")}finally{I(!1)}},se=async e=>{if(n)try{await Wn.markMessageRead(n.id,e),f(t=>t.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{is_read:!0}):t)),c(t=>t.map(t=>(0,Fe.A)((0,Fe.A)({},t),{},{messages:t.messages.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{is_read:!0}):t),unreadCount:Math.max(0,t.unreadCount-1)})))}catch(t){console.error("Failed to mark message as read:",t)}},oe=l.filter(e=>{var t,r,a,i,s,o;const l=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.lastMessage)||void 0===r||null===(a=r.subject)||void 0===a?void 0:a.toLowerCase().includes(y.toLowerCase()))||(null===(i=e.lastMessage)||void 0===i||null===(s=i.content)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase())),c="all"===j||"unread"===j&&e.unreadCount>0||"sent"===j&&(null===(o=e.lastMessage)||void 0===o?void 0:o.sender_id)===(null===n||void 0===n?void 0:n.id);return l&&c}),le=[{id:"user1",conversation_id:"conv1",name:"John Seller",participants:[{id:"user1",name:"John Seller"},{id:(null===n||void 0===n?void 0:n.id)||"demo_user",name:(null===n||void 0===n?void 0:n.full_name)||"Demo User"}],messages:[{id:"1",sender_id:"user1",sender_name:"John Seller",recipient_id:(null===n||void 0===n?void 0:n.id)||"demo_user",subject:"Question about your MacBook Pro listing",content:"Hi! Is the MacBook Pro still available? I'm very interested and can pick it up today. I can offer the full asking price.",is_read:!1,created_at:new Date(Date.now()-72e5).toISOString()},{id:"4",sender_id:(null===n||void 0===n?void 0:n.id)||"demo_user",sender_name:(null===n||void 0===n?void 0:n.full_name)||"Demo User",recipient_id:"user1",subject:"Re: Question about your MacBook Pro listing",content:"Yes, it's still available! When would be a good time for you to pick it up?",is_read:!0,created_at:new Date(Date.now()-36e5).toISOString()},{id:"5",sender_id:"user1",sender_name:"John Seller",recipient_id:(null===n||void 0===n?void 0:n.id)||"demo_user",subject:"Re: Question about your MacBook Pro listing",content:"Great! When would be a good time to meet?",is_read:!0,created_at:new Date(Date.now()-18e5).toISOString()}],lastMessage:null,unreadCount:0},{id:"user2",conversation_id:"conv2",name:"Sarah Buyer",participants:[{id:"user2",name:"Sarah Buyer"},{id:(null===n||void 0===n?void 0:n.id)||"demo_user",name:(null===n||void 0===n?void 0:n.full_name)||"Demo User"}],messages:[{id:"2",sender_id:"user2",sender_name:"Sarah Buyer",recipient_id:null===n||void 0===n?void 0:n.id,subject:"Purchase inquiry",content:"Hello, I saw your vintage guitar listing. Would you consider $800? I'm a serious buyer and can meet today.",is_read:!1,created_at:new Date(Date.now()-18e5).toISOString()}],lastMessage:null,unreadCount:1}];return le.forEach(e=>{e.lastMessage=e.messages[e.messages.length-1],e.unreadCount=e.messages.filter(e=>!e.is_read&&e.sender_id!==(null===n||void 0===n?void 0:n.id)).length}),(0,bn.jsxs)("div",{className:"".concat(F?"fixed inset-0 z-50 bg-white dark:bg-gray-900":"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"),children:[(0,bn.jsxs)("div",{className:"".concat(F?"h-full":"max-w-6xl mx-auto min-h-[calc(100vh-8rem)] max-h-[calc(100vh-8rem)]"," flex flex-col ").concat(F?"p-0":"m-4"),children:[(0,bn.jsx)("div",{className:"border-b border-white/20 p-6",children:(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,bn.jsx)(Pi,{className:"w-8 h-8 mr-3 text-blue-600"}),"Messages",l.reduce((e,t)=>e+t.unreadCount,0)>0&&(0,bn.jsxs)("span",{className:"ml-3 bg-red-500 text-white text-sm px-3 py-1 rounded-full",children:[l.reduce((e,t)=>e+t.unreadCount,0)," unread"]})]}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Communicate with buyers and sellers"})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mt-4 lg:mt-0",children:[(0,bn.jsx)("button",{onClick:()=>{B(!F)},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-xl font-medium transition-all duration-200 flex items-center shadow-lg hover:shadow-xl transform hover:scale-105",title:F?"Exit full page":"Enter full page chat",children:F?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Go,{className:"w-5 h-5 mr-2"}),"Exit Full Page"]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Yo,{className:"w-5 h-5 mr-2"}),"Full Page Chat"]})}),(0,bn.jsxs)("select",{value:j,onChange:e=>k(e.target.value),className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[(0,bn.jsx)("option",{value:"all",children:"All Messages"}),(0,bn.jsx)("option",{value:"unread",children:"Unread"}),(0,bn.jsx)("option",{value:"sent",children:"Sent"})]})]})]})}),(0,bn.jsxs)("div",{className:"flex flex-1 min-h-0",children:[(0,bn.jsxs)("div",{className:"".concat(null!==o&&void 0!==o&&null!==(e=o.messengerAd)&&void 0!==e&&e.active?"w-1/4":"w-1/3"," border-r border-gray-200/30 dark:border-gray-700/30"),children:[(0,bn.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",placeholder:"Search conversations...",value:y,onChange:e=>b(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]})}),(0,bn.jsx)("div",{className:"overflow-y-auto flex-1",children:N?(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading conversations..."})]}):0===oe.length?(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)(Pi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No conversations"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start a conversation with buyers and sellers"})]}):oe.map(e=>{var t,r,a;return(0,bn.jsx)("div",{onClick:()=>ae(e),className:"p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 ".concat((null===d||void 0===d?void 0:d.id)===e.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":""),children:(0,bn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,bn.jsx)(Yi,{className:"w-6 h-6 text-white"})}),(0,bn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2 min-w-0",children:[(0,bn.jsx)("p",{className:"text-sm font-medium ".concat(e.unreadCount>0?"text-gray-900 dark:text-white font-bold":"text-gray-700 dark:text-gray-300"," truncate"),children:e.name}),((t,r,a,i,s,o)=>{const l=(null===(t=e.messages)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.sender_id)===(null===n||void 0===n?void 0:n.id)?null===(a=e.messages)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.recipient_id:null===(s=e.messages)||void 0===s||null===(o=s[0])||void 0===o?void 0:o.sender_id,c=te(l,e.name);return(0,bn.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs font-medium rounded-full flex-shrink-0 ".concat(re(c.badge)),children:c.badge})})()]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[e.unreadCount>0&&(0,bn.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium animate-pulse",children:e.unreadCount}),(0,bn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.lastMessage?new Date(e.lastMessage.created_at).toLocaleDateString():""})]})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",onClick:t=>{t.stopPropagation(),e.lastMessage&&(ae(e),setTimeout(()=>(e=>{const t=ee.current[e];t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),q(e),setTimeout(()=>{q(null)},3e3))})(e.lastMessage.id),100))},title:"Click to scroll to this message",children:(null===(t=e.lastMessage)||void 0===t?void 0:t.subject)||"No subject"}),(0,bn.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 truncate",children:[(null===(r=e.lastMessage)||void 0===r?void 0:r.sender_id)===(null===n||void 0===n?void 0:n.id)?"You: ":"",(null===(a=e.lastMessage)||void 0===a?void 0:a.content)||"No messages yet"]})]})]})},e.id)})})]}),(0,bn.jsx)("div",{className:"flex-1 flex flex-col",children:d?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"p-4 border-b border-gray-200/30 dark:border-gray-700/30 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,bn.jsx)(Yi,{className:"w-5 h-5 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:d.name}),((e,t)=>{const r=null===(e=d.participants)||void 0===e||null===(t=e.find(e=>e.id!==(null===n||void 0===n?void 0:n.id)))||void 0===t?void 0:t.id,a=te(r,d.name);return(0,bn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(re(a.badge)),children:a.badge})})()]}),(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.length," messages"]})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this conversation? This action cannot be undone."))try{c(l.filter(t=>t.conversation_id!==e)),(null===d||void 0===d?void 0:d.conversation_id)===e&&(u(null),f([])),a("Conversation deleted successfully","success")}catch(t){console.error("Failed to delete conversation:",t),a("Failed to delete conversation","error")}})(d.conversation_id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete conversation",children:(0,bn.jsx)(qi,{className:"w-5 h-5"})}),(0,bn.jsx)("button",{onClick:()=>{var e,t;const r=(null===(e=d.participants)||void 0===e||null===(t=e.find(e=>e.id!==(null===n||void 0===n?void 0:n.id)))||void 0===t?void 0:t.id)||"unknown";window.location.href="/profile/".concat(r)},className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"View user profile",children:(0,bn.jsx)(Yi,{className:"w-5 h-5"})})]})]})}),(0,bn.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-3 bg-gradient-to-b from-gray-50/30 to-white/50 dark:from-gray-900/30 dark:to-gray-800/50",children:[h.slice().reverse().map((e,t,r)=>{const i=e.sender_id===(null===n||void 0===n?void 0:n.id),s=0===t||r[t-1].sender_id!==e.sender_id,o=U===e.id;return(0,bn.jsx)("div",{ref:t=>ee.current[e.id]=t,className:"flex ".concat(i?"justify-end":"justify-start"," ").concat(s?"mt-4":"mt-2"," ").concat(o?"animate-pulse":""),children:(0,bn.jsxs)("div",{className:"flex space-x-3 max-w-xs lg:max-w-md ".concat(i?"flex-row-reverse space-x-reverse":""),children:[s&&(0,bn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ".concat(i?"bg-blue-600":"bg-gray-600"),children:(i?(null===n||void 0===n?void 0:n.full_name)||(null===n||void 0===n?void 0:n.username)||"You":e.sender_name||"U").charAt(0)}),(0,bn.jsxs)("div",{className:"".concat(s?"":i?"mr-11":"ml-11"),children:[(0,bn.jsxs)("div",{className:"group relative px-4 py-3 rounded-2xl transition-all duration-300 ".concat(o?"ring-2 ring-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":i?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600"),children:[(0,bn.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{f(h.filter(t=>t.id!==e)),a("Message deleted successfully","success")}catch(t){console.error("Failed to delete message:",t),a("Failed to delete message","error")}})(e.id)},className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 p-1 rounded-full transition-all duration-200 hover:scale-110 ".concat(i?"bg-red-500/20 text-red-200 hover:bg-red-500/30":"bg-red-500/10 text-red-600 hover:bg-red-500/20"),title:"Delete message",children:(0,bn.jsx)(qi,{className:"w-3 h-3"})}),(0,bn.jsx)("p",{className:"text-sm whitespace-pre-wrap pr-6",children:e.content})]}),(0,bn.jsxs)("div",{className:"flex items-center mt-1 space-x-2 text-xs text-gray-500 dark:text-gray-400 ".concat(i?"justify-end":"justify-start"),children:[(0,bn.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),i&&(e.is_read?(0,bn.jsx)(Hi,{className:"w-3 h-3 text-blue-500"}):(0,bn.jsx)(Bi,{className:"w-3 h-3"}))]})]})]})},e.id)}),(0,bn.jsx)("div",{ref:Z})]}),(0,bn.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl",children:(0,bn.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,bn.jsxs)("div",{className:"flex-1 relative",children:[(0,bn.jsx)("textarea",{ref:Q,value:g,onChange:e=>{var t;x(e.target.value),(t=e.target).style.height="auto",t.style.height=Math.min(t.scrollHeight,120)+"px"},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ie())},placeholder:"Type your message... (Press Enter to send, Shift+Enter for new line)",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none min-h-[3rem] max-h-[8rem]",rows:"1"}),(0,bn.jsx)("button",{className:"absolute right-3 bottom-3 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,bn.jsx)(kl,{className:"w-5 h-5"})})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("button",{className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,bn.jsx)(Nl,{className:"w-5 h-5"})}),(0,bn.jsx)("button",{onClick:ie,disabled:!g.trim()||R,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 disabled:scale-100",children:R?(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,bn.jsx)(_s,{className:"w-5 h-5"})})]})]})})]}):(0,bn.jsx)("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)(Pi,{className:"w-20 h-20 text-gray-400 mx-auto mb-4"}),(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Select a conversation"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose a conversation from the list to start messaging"})]})})}),(null===o||void 0===o||null===(t=o.messengerAd)||void 0===t?void 0:t.active)&&o.messengerAd.image&&(0,bn.jsx)("div",{className:"border-l border-gray-200/30 dark:border-gray-700/30 p-4",style:{width:o.messengerAd.width||"250px",minWidth:o.messengerAd.width||"250px"},children:(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow h-fit ".concat(o.messengerAd.url?"cursor-pointer":""),onClick:()=>{if(o.messengerAd.url){try{Promise.resolve().then(r.bind(r,7784)).then(e=>{let{trackAdClick:t}=e;t("messengerAd")})}catch(e){console.warn("Could not track ad click:",e)}console.log("Messenger ad clicked:",o.messengerAd.url),window.open(o.messengerAd.url,"_blank")}},children:(0,bn.jsx)("img",{src:o.messengerAd.image,alt:o.messengerAd.description||"Advertisement",className:"w-full object-cover",style:{height:o.messengerAd.height||"400px"}})})})]})]}),O&&C&&(0,bn.jsxs)("div",{className:"fixed top-4 right-4 z-[10000] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl p-4 max-w-sm animate-slide-in-right",children:[(0,bn.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,bn.jsx)(Pi,{className:"w-4 h-4 text-white"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["New message from ",C.sender]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:C.timestamp.toLocaleTimeString()})]})]}),(0,bn.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,bn.jsx)(Ui,{className:"w-4 h-4"})})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:C.content}),(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("button",{onClick:()=>{E(!1);const e=l.find(e=>e.name===C.sender);e&&ae(e)},className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md text-xs hover:bg-blue-700 transition-colors",children:"Reply"}),(0,bn.jsx)("button",{onClick:()=>E(!1),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md text-xs hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Dismiss"})]})]})]})};const Sl=function(){const[e,t]=(0,i.useState)({email:"",password:""}),[r,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(!1);i.useEffect(()=>{const e=localStorage.getItem("cataloro_token"),t=localStorage.getItem("cataloro_user");if(e&&t)try{d(JSON.parse(t))}catch(rC){localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}},[]);const f=r=>{t((0,Fe.A)((0,Fe.A)({},e),{},{[r.target.name]:r.target.value})),l(null)},p=async function(){const e={email:"admin"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user")?"admin@cataloro.com":"user@cataloro.com",password:"demo123"};t(e),s(!0),h(!0),l(null);try{var r,n;const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Demo login failed: ".concat(t.status));const a=await t.json();localStorage.setItem("cataloro_token",a.token),localStorage.setItem("cataloro_user",JSON.stringify(a.user)),"admin"===(null===a||void 0===a||null===(r=a.user)||void 0===r?void 0:r.role)||"admin@cataloro.com"===(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.email)?window.location.href="/admin":window.location.href="/browse"}catch(o){l("Demo login failed: ".concat(o.message))}finally{s(!1),h(!1)}},m=()=>{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),d(null),t({email:"",password:""}),alert("\u2705 Logged out successfully!")};var g,x,y;return c?(0,bn.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,bn.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-400/20 via-purple-400/20 to-pink-400/20 animate-pulse"}),(0,bn.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full",children:[(0,bn.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-blue-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),(0,bn.jsx)("div",{className:"absolute top-40 right-20 w-72 h-72 bg-purple-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),(0,bn.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]})]}),(0,bn.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:(0,bn.jsxs)("div",{className:"w-full max-w-md",children:[(0,bn.jsxs)("div",{className:"text-center mb-10",children:[(0,bn.jsx)("div",{className:"relative mb-6",children:(0,bn.jsxs)("div",{className:"w-20 h-20 mx-auto relative",children:[(0,bn.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 p-1",children:(0,bn.jsx)("div",{className:"w-full h-full rounded-3xl bg-white/10 backdrop-blur-xl flex items-center justify-center group",children:(0,bn.jsx)(Ai,{className:"w-10 h-10 text-white drop-shadow-lg group-hover:scale-110 transition-transform duration-300"})})}),(0,bn.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 blur-lg opacity-50 animate-pulse"}),(0,bn.jsx)(Ls,{className:"absolute -top-2 -right-2 w-6 h-6 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})]})}),(0,bn.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 dark:from-white dark:via-blue-100 dark:to-purple-100",children:"Welcome Back!"}),(0,bn.jsxs)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:["You are logged in to ",(0,bn.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:gn.APP_NAME})]})]}),(0,bn.jsx)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30",children:(0,bn.jsxs)("div",{className:"text-center space-y-6",children:[(0,bn.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto shadow-xl",children:(0,bn.jsx)("span",{className:"text-white font-bold text-2xl",children:(null===(g=c.full_name)||void 0===g?void 0:g.charAt(0))||(null===(x=c.username)||void 0===x?void 0:x.charAt(0))||"U"})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.full_name}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:c.email}),(0,bn.jsx)("span",{className:"inline-block mt-2 px-4 py-1 rounded-full text-sm font-bold ".concat("admin"===c.role?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white"),children:null===(y=c.role)||void 0===y?void 0:y.toUpperCase()})]}),(0,bn.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,bn.jsxs)("button",{onClick:()=>window.location.href="/browse",className:"w-full h-14 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold text-lg hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl group overflow-hidden",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,bn.jsxs)("div",{className:"relative flex items-center justify-center space-x-2",children:[(0,bn.jsx)("span",{children:"Go to Marketplace"}),(0,bn.jsx)(Rs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,bn.jsx)("button",{onClick:m,className:"w-full h-12 rounded-xl bg-white/20 dark:bg-white/10 backdrop-blur-sm border border-white/30 text-gray-700 dark:text-gray-200 font-semibold hover:bg-white/30 dark:hover:bg-white/20 transition-all duration-300 group flex items-center justify-center space-x-3",children:(0,bn.jsx)("span",{children:"Logout"})})]}),(0,bn.jsx)("div",{className:"mt-6 text-center",children:(0,bn.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,bn.jsx)("span",{children:"Authentication: Working"})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,bn.jsx)("span",{children:"Backend API: Connected"})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,bn.jsx)("span",{children:"User Session: Active"})]})]})})]})})]})})]}):(0,bn.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,bn.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-400/20 via-purple-400/20 to-pink-400/20 animate-pulse"}),(0,bn.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full",children:[(0,bn.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-blue-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),(0,bn.jsx)("div",{className:"absolute top-40 right-20 w-72 h-72 bg-purple-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),(0,bn.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]})]}),(0,bn.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,bn.jsx)("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-blue-400 rounded-full animate-ping"}),(0,bn.jsx)("div",{className:"absolute top-3/4 right-1/4 w-1 h-1 bg-purple-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),(0,bn.jsx)("div",{className:"absolute top-1/2 left-3/4 w-1.5 h-1.5 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"2s"}})]}),(0,bn.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:(0,bn.jsxs)("div",{className:"w-full max-w-md",children:[(0,bn.jsxs)("div",{className:"text-center mb-10",children:[(0,bn.jsx)("div",{className:"relative mb-6",children:(0,bn.jsxs)("div",{className:"w-20 h-20 mx-auto relative",children:[(0,bn.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 p-1",children:(0,bn.jsx)("div",{className:"w-full h-full rounded-3xl bg-white/10 backdrop-blur-xl flex items-center justify-center group",children:(0,bn.jsx)(Ai,{className:"w-10 h-10 text-white drop-shadow-lg group-hover:scale-110 transition-transform duration-300"})})}),(0,bn.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 blur-lg opacity-50 animate-pulse"}),(0,bn.jsx)(Ls,{className:"absolute -top-2 -right-2 w-6 h-6 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})]})}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 dark:from-white dark:via-blue-100 dark:to-purple-100",children:"Welcome Back"}),(0,bn.jsxs)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:["Sign in to ",(0,bn.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:gn.APP_NAME})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,bn.jsx)("span",{children:"Secure Login"})]}),(0,bn.jsx)("span",{children:"\u2022"}),(0,bn.jsx)("span",{children:"Ultra-Modern Marketplace"})]})]})]}),(0,bn.jsxs)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30",children:[(0,bn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),h(!0),l(null);try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(!t.ok)throw new Error("Login failed: ".concat(t.status));const r=await t.json();localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),window.location.href="/browse"}catch(o){l(o.message||"Login failed. Please check your credentials."),console.error("Login error:",o)}finally{s(!1),h(!1)}},className:"space-y-6",children:[o&&(0,bn.jsx)("div",{className:"bg-red-500/10 border border-red-300/30 text-red-700 dark:text-red-300 px-5 py-4 rounded-2xl backdrop-blur-sm animate-pulse",children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,bn.jsx)("span",{className:"font-medium",children:o})]})}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Email Address"}),(0,bn.jsxs)("div",{className:"relative group",children:[(0,bn.jsx)(is,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 w-5 h-5 transition-colors duration-200"}),(0,bn.jsx)("input",{type:"email",name:"email",required:!0,value:e.email,onChange:f,className:"cataloro-input pl-12 h-14 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50",placeholder:"Enter your email address"}),(0,bn.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Password"}),(0,bn.jsxs)("div",{className:"relative group",children:[(0,bn.jsx)(bl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 w-5 h-5 transition-colors duration-200"}),(0,bn.jsx)("input",{type:r?"text":"password",name:"password",required:!0,value:e.password,onChange:f,className:"cataloro-input pl-12 pr-12 h-14 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50",placeholder:"Enter your password"}),(0,bn.jsx)("button",{type:"button",onClick:()=>n(!r),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:r?(0,bn.jsx)(Ts,{className:"w-5 h-5"}):(0,bn.jsx)(Ss,{className:"w-5 h-5"})}),(0,bn.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),(0,bn.jsxs)("button",{type:"submit",disabled:a||u,className:"w-full relative h-14 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold text-lg hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl group overflow-hidden",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,bn.jsx)("div",{className:"relative flex items-center justify-center space-x-2",children:a||u?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Signing You In..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("span",{children:"Sign In"}),(0,bn.jsx)(Rs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})})]})]}),(0,bn.jsxs)("div",{className:"mt-8 pt-6 border-t border-white/20",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 text-center mb-6",children:(0,bn.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,bn.jsx)(Ls,{className:"w-4 h-4 text-yellow-500"}),(0,bn.jsx)("span",{children:"Try the premium demo experience"}),(0,bn.jsx)(Ls,{className:"w-4 h-4 text-yellow-500"})]})}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsxs)("button",{onClick:()=>p("user"),disabled:a||u,className:"w-full h-12 rounded-xl bg-white/20 dark:bg-white/10 backdrop-blur-sm border border-white/30 text-gray-700 dark:text-gray-200 font-semibold hover:bg-white/30 dark:hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 group flex items-center justify-center space-x-3",children:[(0,bn.jsx)(Yi,{className:"w-5 h-5 text-blue-500"}),(0,bn.jsx)("span",{children:"Demo User Experience"}),(0,bn.jsx)(Rs,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]}),(0,bn.jsxs)("button",{onClick:()=>p("admin"),disabled:a||u,className:"w-full h-12 rounded-xl bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm border border-purple-300/30 text-purple-700 dark:text-purple-300 font-semibold hover:from-purple-500/30 hover:to-pink-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 group flex items-center justify-center space-x-3",children:[(0,bn.jsx)(Ci,{className:"w-5 h-5 text-purple-500"}),(0,bn.jsx)("span",{children:"Demo Admin Panel"}),(0,bn.jsx)(Rs,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]})]}),(0,bn.jsx)("div",{className:"mt-8 text-center",children:(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["New to ",gn.APP_NAME,"?"," ",(0,bn.jsx)(Le,{to:"/register",className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all duration-300",children:"Create your account \u2192"})]})})]})]})})]})};const Al=function(){const[e,t]=(0,i.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirmPassword:"",account_type:"buyer",is_business:!1,company_name:"",country:"",vat_number:""}),[r,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),{register:u,isAuthenticated:h,isLoading:f,error:p,clearError:m}=Cn(),g=ne();(0,i.useEffect)(()=>{h&&g(mn.BROWSE)},[h,g]),(0,i.useEffect)(()=>()=>m(),[m]);const x=r=>{const{name:n,value:a,type:i,checked:s}=r.target;t((0,Fe.A)((0,Fe.A)({},e),{},{[n]:"checkbox"===i?s:a})),m(),"username"===n&&a.length>=3?y(a):"username"===n&&l(null)},y=async e=>{d(!0);try{const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/auth/check-username/").concat(e));if(t.ok){const e=await t.json();l(e.available)}else l(null)}catch(p){console.error("Error checking username:",p),l(null)}finally{d(!1)}},b=()=>{if(!e.first_name.trim())return"First name is required";if(!e.last_name.trim())return"Last name is required";if(!e.username.trim())return"Username is required";if(e.username.length<3)return"Username must be at least 3 characters";if(!1===o)return"Username is not available";if(!e.email.trim())return"Email is required";if(e.password!==e.confirmPassword)return"Passwords do not match";if(e.password.length<6)return"Password must be at least 6 characters";if(e.is_business){if(!e.company_name.trim())return"Company name is required for business accounts";if(!e.country.trim())return"Country is required for business accounts"}return null},v=b();return(0,bn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,bn.jsxs)("div",{className:"max-w-md w-full",children:[(0,bn.jsxs)("div",{className:"text-center mb-8",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,bn.jsx)("span",{className:"text-white font-bold text-2xl",children:"C"})}),(0,bn.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Join ",gn.APP_NAME]}),(0,bn.jsx)("p",{className:"text-gray-600",children:"Create your marketplace account"})]}),(0,bn.jsxs)("div",{className:"cataloro-card p-8",children:[(0,bn.jsxs)("form",{onSubmit:async t=>{t.preventDefault();if(!b())try{await u({username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,full_name:"".concat(e.first_name," ").concat(e.last_name).trim(),password:e.password,account_type:e.account_type,is_business:e.is_business,company_name:e.is_business?e.company_name:"",country:e.is_business?e.country:"",vat_number:e.is_business?e.vat_number:""}),alert("Registration submitted successfully! Your account is pending admin approval. You will be notified once approved."),g(mn.LOGIN)}catch(p){console.error("Registration failed:",p)}},className:"space-y-6",children:[(p||v)&&(0,bn.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p||v}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",name:"first_name",required:!0,value:e.first_name,onChange:x,className:"cataloro-input pl-10",placeholder:"Enter your first name"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",name:"last_name",required:!0,value:e.last_name,onChange:x,className:"cataloro-input pl-10",placeholder:"Enter your last name"})]})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",name:"username",required:!0,value:e.username,onChange:x,className:"cataloro-input pl-10 pr-10",placeholder:"Choose a username"}),e.username.length>=3&&(0,bn.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c?(0,bn.jsx)(ms,{className:"w-5 h-5 text-gray-400 animate-spin"}):!0===o?(0,bn.jsx)(Bi,{className:"w-5 h-5 text-green-500"}):!1===o?(0,bn.jsx)(Ui,{className:"w-5 h-5 text-red-500"}):null})]}),e.username.length>=3&&null!==o&&(0,bn.jsx)("div",{className:"mt-1 text-sm ".concat(o?"text-green-600":"text-red-600"),children:o?"Username is available":"Username is not available"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:"email",name:"email",required:!0,value:e.email,onChange:x,className:"cataloro-input pl-10",placeholder:"Enter your email"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(bl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:r?"text":"password",name:"password",required:!0,value:e.password,onChange:x,className:"cataloro-input pl-10 pr-10",placeholder:"Create a password"}),(0,bn.jsx)("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?(0,bn.jsx)(Ts,{className:"w-5 h-5"}):(0,bn.jsx)(Ss,{className:"w-5 h-5"})})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(bl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:a?"text":"password",name:"confirmPassword",required:!0,value:e.confirmPassword,onChange:x,className:"cataloro-input pl-10 pr-10",placeholder:"Confirm your password"}),(0,bn.jsx)("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?(0,bn.jsx)(Ts,{className:"w-5 h-5"}):(0,bn.jsx)(Ss,{className:"w-5 h-5"})})]})]}),(0,bn.jsx)("div",{className:"space-y-4",children:(0,bn.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Account Type *"}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{className:"relative p-4 border-2 rounded-lg cursor-pointer ".concat("buyer"===e.account_type?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"),onClick:()=>t((0,Fe.A)((0,Fe.A)({},e),{},{account_type:"buyer"})),children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"radio",name:"account_type",value:"buyer",checked:"buyer"===e.account_type,onChange:x,className:"w-4 h-4 text-blue-600"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900",children:"Buyer Account"}),(0,bn.jsx)("div",{className:"text-sm text-gray-500",children:"Browse and bid on listings"})]})]}),"buyer"===e.account_type&&(0,bn.jsx)("div",{className:"absolute top-2 right-2",children:(0,bn.jsx)(Bi,{className:"w-5 h-5 text-blue-600"})})]}),(0,bn.jsxs)("div",{className:"relative p-4 border-2 rounded-lg cursor-pointer ".concat("seller"===e.account_type?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"),onClick:()=>t((0,Fe.A)((0,Fe.A)({},e),{},{account_type:"seller"})),children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"radio",name:"account_type",value:"seller",checked:"seller"===e.account_type,onChange:x,className:"w-4 h-4 text-green-600"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-medium text-gray-900",children:"Seller Account"}),(0,bn.jsx)("div",{className:"text-sm text-gray-500",children:"Create and manage listings"})]})]}),"seller"===e.account_type&&(0,bn.jsx)("div",{className:"absolute top-2 right-2",children:(0,bn.jsx)(Bi,{className:"w-5 h-5 text-green-600"})})]})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"You can switch between buying and selling after account approval. Both account types are free."})]})}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,bn.jsx)("input",{type:"checkbox",id:"is_business",name:"is_business",checked:e.is_business,onChange:x,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,bn.jsxs)("label",{htmlFor:"is_business",className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,bn.jsx)(go,{className:"w-4 h-4 mr-2 text-blue-600"}),"Register as Business"]})]}),(0,bn.jsx)("p",{className:"text-xs text-gray-500 ml-7 mt-1",children:"Check this box if you're registering for your company or business"})]}),e.is_business&&(0,bn.jsxs)("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,bn.jsxs)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 flex items-center",children:[(0,bn.jsx)(go,{className:"w-4 h-4 mr-2"}),"Business Information"]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(go,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",name:"company_name",required:e.is_business,value:e.company_name,onChange:x,className:"cataloro-input pl-10",placeholder:"Enter your company name"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(Si,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",name:"country",required:e.is_business,value:e.country,onChange:x,className:"cataloro-input pl-10",placeholder:"Enter your country"})]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["VAT Number",(0,bn.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Optional)"})]}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(go,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,bn.jsx)("input",{type:"text",name:"vat_number",value:e.vat_number,onChange:x,className:"cataloro-input pl-10",placeholder:"Enter your VAT number (if applicable)"})]})]})]})]}),(0,bn.jsx)("button",{type:"submit",disabled:f||v,className:"w-full cataloro-button-primary disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,bn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,bn.jsx)("div",{className:"spinner mr-2"}),"Creating Account..."]}):"Create Account"})]}),(0,bn.jsx)("div",{className:"mt-6 text-center",children:(0,bn.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,bn.jsx)(Le,{to:mn.LOGIN,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})})]})]})})},Ol=_i("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),El=_i("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Cl=_i("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Pl={users:mo,package:Fi,trending:Vi,star:Ds,zap:Qs,target:Lo,store:Ai,"shopping-cart":Ei,"message-circle":Pi,settings:ns,shield:Ci,search:es,heart:Ti,bell:Li,"bar-chart":ts,award:rs,lightbulb:Ol,rocket:El,clock:zi},Tl={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",yellow:"from-yellow-500 to-yellow-600",red:"from-red-500 to-red-600",pink:"from-pink-500 to-pink-600","blue-purple":"from-blue-500 to-purple-600","green-teal":"from-green-500 to-teal-600","orange-red":"from-orange-500 to-red-600","purple-pink":"from-purple-500 to-pink-600"};const Ml=function(){const[e,t]=(0,i.useState)(null),[r,n]=(0,i.useState)(!0),[a,s]=(0,i.useState)(null);if((0,i.useEffect)(()=>{(async()=>{try{n(!0);const e=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/admin/content"));if(!e.ok)throw new Error("Failed to load content");{const r=await e.json();if(t(r),r.seo){document.title=r.seo.title||"Cataloro - Ultra-Modern Marketplace Platform";let e=document.querySelector('meta[name="description"]');e||(e=document.createElement("meta"),e.name="description",document.head.appendChild(e)),e.content=r.seo.description||"Experience the future of online commerce";let t=document.querySelector('meta[name="keywords"]');if(t||(t=document.createElement("meta"),t.name="keywords",document.head.appendChild(t)),t.content=Array.isArray(r.seo.keywords)?r.seo.keywords.join(", "):r.seo.keywords||"",r.seo.ogImage){let e=document.querySelector('meta[property="og:image"]');e||(e=document.createElement("meta"),e.setAttribute("property","og:image"),document.head.appendChild(e)),e.content=r.seo.ogImage}}}}catch(a){console.error("Error loading CMS content:",a),s(a.message)}finally{n(!1)}})()},[]),r)return(0,bn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)(ro,{className:"w-12 h-12 text-purple-400 animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-lg text-white",children:"Loading content..."})]})});if(a)return(0,bn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,bn.jsx)(Ci,{className:"w-8 h-8 text-red-400"})}),(0,bn.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Content Loading Error"}),(0,bn.jsx)("p",{className:"text-gray-300 mb-4",children:"Unable to load page content from CMS"}),(0,bn.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors",children:"Retry"})]})});const o={hero:(null===e||void 0===e?void 0:e.hero)||{title:"Cataloro",subtitle:"The Future of Online Marketplace",description:"Experience next-generation commerce with our ultra-modern platform featuring intelligent matching, real-time communication, and seamless transactions.",primaryButtonText:"Start Trading Now",primaryButtonLink:"/login",secondaryButtonText:"Explore Features",secondaryButtonLink:"/browse",backgroundImage:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center",heroImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center",showHeroImage:!0,heroImagePosition:"right",showVideo:!1,videoUrl:"https://player.vimeo.com/video/123456789"},stats:(null===e||void 0===e?void 0:e.stats)||[{label:"Active Users",value:"25K+",icon:"users",color:"blue"},{label:"Products Listed",value:"150K+",icon:"package",color:"green"},{label:"Successful Deals",value:"75K+",icon:"trending",color:"purple"},{label:"User Satisfaction",value:"4.9\u2605",icon:"star",color:"yellow"}],features:(null===e||void 0===e?void 0:e.features)||{title:"Advanced Platform Features",description:"Discover the comprehensive suite of tools that make Cataloro the most advanced marketplace platform.",backgroundImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=1080&fit=crop&crop=center",categories:[]},testimonials:(null===e||void 0===e?void 0:e.testimonials)||{enabled:!0,title:"What Our Users Say",description:"Join thousands of satisfied users who trust Cataloro for their marketplace needs.",backgroundImage:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1920&h=1080&fit=crop&crop=center",items:[]},about:(null===e||void 0===e?void 0:e.about)||{enabled:!0,title:"About Cataloro",subtitle:"Revolutionizing Digital Commerce",description:"Founded with the vision to transform online trading, we combine cutting-edge technology with user-centric design to create the ultimate marketplace experience.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center",features:["AI-Powered Matching","Real-time Communication","Advanced Security","Global Reach"]},team:(null===e||void 0===e?void 0:e.team)||{enabled:!0,title:"Meet Our Team",description:"Passionate experts dedicated to revolutionizing digital commerce.",backgroundImage:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&h=1080&fit=crop&crop=center",members:[]},cta:(null===e||void 0===e?void 0:e.cta)||{title:"Ready to Transform Your Trading?",description:"Join thousands of users experiencing the future of online commerce.",primaryButtonText:"Start Your Journey",primaryButtonLink:"/login",secondaryButtonText:"Explore Platform",secondaryButtonLink:"/browse",backgroundImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center"}};return(0,bn.jsxs)("div",{className:"min-h-screen",children:[(0,bn.jsxs)("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(o.hero.backgroundImage,")"),filter:"brightness(0.4)"}}),(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-purple-900/50 to-black/70"}),(0,bn.jsx)("div",{className:"absolute inset-0",children:[...Array(20)].map((e,t)=>(0,bn.jsx)("div",{className:"absolute w-2 h-2 bg-white/20 rounded-full animate-pulse",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(3+4*Math.random(),"s")}},t))}),(0,bn.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[(0,bn.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[80vh]",children:[(0,bn.jsx)("div",{className:"".concat("left"===o.hero.heroImagePosition?"lg:order-2":"lg:order-1"," text-center lg:text-left"),children:(0,bn.jsxs)("div",{className:"mb-8",children:[(0,bn.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-white/10 backdrop-blur-md rounded-full px-6 py-3 mb-6",children:[(0,bn.jsx)(Ls,{className:"w-5 h-5 text-yellow-400"}),(0,bn.jsx)("span",{className:"text-white font-medium",children:"The Future is Here"})]}),(0,bn.jsx)("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white via-purple-200 to-pink-200 mb-6 leading-tight",children:o.hero.title}),(0,bn.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-purple-200 mb-8",children:o.hero.subtitle}),(0,bn.jsx)("p",{className:"text-lg md:text-xl text-gray-300 mb-12 leading-relaxed max-w-2xl mx-auto lg:mx-0",children:o.hero.description}),(0,bn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center lg:justify-start",children:[(0,bn.jsxs)(Le,{to:o.hero.primaryButtonLink,className:"group relative px-10 py-5 rounded-2xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-purple-500/25",children:[(0,bn.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,bn.jsxs)("div",{className:"relative flex items-center justify-center space-x-3",children:[(0,bn.jsx)("span",{children:o.hero.primaryButtonText}),(0,bn.jsx)(Rs,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,bn.jsx)(Le,{to:o.hero.secondaryButtonLink,className:"group px-10 py-5 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-lg hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,bn.jsx)(Fo,{className:"w-6 h-6"}),(0,bn.jsx)("span",{children:o.hero.secondaryButtonText})]})})]})]})}),o.hero.showHeroImage&&o.hero.heroImage&&(0,bn.jsx)("div",{className:"".concat("left"===o.hero.heroImagePosition?"lg:order-1":"lg:order-2"," relative"),children:(0,bn.jsxs)("div",{className:"relative group",children:[(0,bn.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-500"}),(0,bn.jsxs)("div",{className:"relative bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl",children:[(0,bn.jsx)("img",{src:o.hero.heroImage,alt:"Hero",className:"w-full h-auto max-h-96 object-contain rounded-2xl transform group-hover:scale-105 transition-transform duration-500"}),(0,bn.jsx)("div",{className:"absolute -top-6 -right-6 w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-xl animate-bounce",children:(0,bn.jsx)(El,{className:"w-6 h-6 text-white"})}),(0,bn.jsx)("div",{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-xl",children:(0,bn.jsx)(Qs,{className:"w-8 h-8 text-white"})}),(0,bn.jsx)("div",{className:"absolute top-1/2 -right-8 w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:(0,bn.jsx)(Ds,{className:"w-5 h-5 text-white"})})]})]})})]}),(0,bn.jsx)("div",{className:"flex justify-center mt-16",children:(0,bn.jsx)("div",{className:"animate-bounce",children:(0,bn.jsx)("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:(0,bn.jsx)("div",{className:"w-1 h-3 bg-white rounded-full mt-2 animate-pulse"})})})})]})]}),(0,bn.jsxs)("section",{className:"relative py-20 bg-white overflow-hidden",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-white"}),(0,bn.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:(0,bn.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:o.stats.map((e,t)=>{const r=Pl[e.icon]||Ds,n=Tl[e.color]||"from-purple-500 to-pink-600";return(0,bn.jsxs)("div",{className:"group text-center",children:[(0,bn.jsx)("div",{className:"relative mb-6",children:(0,bn.jsx)("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br ".concat(n," flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-500 transform group-hover:scale-110 group-hover:-rotate-6"),children:(0,bn.jsx)(r,{className:"w-10 h-10 text-white"})})}),(0,bn.jsx)("div",{className:"text-4xl font-black text-gray-900 mb-2 group-hover:text-purple-600 transition-colors duration-300",children:e.value}),(0,bn.jsx)("div",{className:"text-lg font-semibold text-gray-600 group-hover:text-gray-900 transition-colors duration-300",children:e.label})]},t)})})})]}),o.about.enabled&&(0,bn.jsx)("section",{className:"py-20 bg-gradient-to-br from-slate-900 to-purple-900",children:(0,bn.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,bn.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-purple-500/20 rounded-full px-4 py-2 mb-6",children:[(0,bn.jsx)(rs,{className:"w-5 h-5 text-purple-400"}),(0,bn.jsx)("span",{className:"text-purple-300 font-medium",children:"About Us"})]}),(0,bn.jsx)("h2",{className:"text-5xl font-black text-white mb-6",children:o.about.title}),(0,bn.jsx)("h3",{className:"text-2xl font-bold text-purple-300 mb-8",children:o.about.subtitle}),(0,bn.jsx)("p",{className:"text-xl text-gray-300 leading-relaxed mb-8",children:o.about.description})]}),(0,bn.jsx)("div",{className:"grid grid-cols-2 gap-6",children:o.about.features.map((e,t)=>(0,bn.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-xl bg-white/5 backdrop-blur-sm",children:[(0,bn.jsx)(ps,{className:"w-6 h-6 text-green-400 flex-shrink-0"}),(0,bn.jsx)("span",{className:"text-white font-medium",children:e})]},t))})]}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsxs)("div",{className:"relative overflow-hidden rounded-3xl shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-500",children:[(0,bn.jsx)("img",{src:o.about.image,alt:"About Cataloro",className:"w-full h-96 object-cover"}),(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/50 to-transparent"})]}),(0,bn.jsx)("div",{className:"absolute -top-6 -right-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl p-4 shadow-xl",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"text-2xl font-black text-white",children:"4.9\u2605"}),(0,bn.jsx)("div",{className:"text-sm text-white font-medium",children:"Rating"})]})})]})]})})}),(0,bn.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(o.features.backgroundImage,")"),filter:"brightness(0.1)"}}),(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-purple-900/70 to-black/80"}),(0,bn.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[(0,bn.jsxs)("div",{className:"text-center mb-16",children:[(0,bn.jsx)("h2",{className:"text-5xl font-black text-white mb-8",children:o.features.title}),(0,bn.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:o.features.description})]}),o.features.categories&&o.features.categories.length>0&&(0,bn.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.features.categories.slice(0,6).map((e,t)=>{const r=Pl[e.icon]||ns,n=Tl[e.color]||"from-purple-500 to-pink-600";return(0,bn.jsx)("div",{className:"group",children:(0,bn.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 hover:bg-white/20 transition-all duration-500 transform hover:scale-105 hover:-translate-y-2",children:[(0,bn.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br ".concat(n," flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300"),children:(0,bn.jsx)(r,{className:"w-8 h-8 text-white"})}),(0,bn.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:e.name}),(0,bn.jsx)("p",{className:"text-gray-300 mb-6",children:e.description}),e.features&&e.features.slice(0,3).map((e,t)=>(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,bn.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,bn.jsx)("span",{className:"text-gray-300 text-sm",children:e})]},t))]})},t)})})]})]}),o.testimonials.enabled&&o.testimonials.items&&o.testimonials.items.length>0&&(0,bn.jsx)("section",{className:"relative py-24 bg-gradient-to-br from-white to-gray-100",children:(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,bn.jsxs)("div",{className:"text-center mb-16",children:[(0,bn.jsx)("h2",{className:"text-5xl font-black text-gray-900 mb-8",children:o.testimonials.title}),(0,bn.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:o.testimonials.description})]}),(0,bn.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:o.testimonials.items.slice(0,3).map((e,t)=>(0,bn.jsx)("div",{className:"group",children:(0,bn.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:scale-105 border-l-4 border-purple-500",children:[(0,bn.jsx)("div",{className:"mb-6",children:(0,bn.jsx)(Cl,{className:"w-12 h-12 text-purple-500 opacity-50"})}),(0,bn.jsxs)("p",{className:"text-gray-700 text-lg mb-8 italic",children:['"',e.content,'"']}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white font-bold text-lg",children:e.name.charAt(0)})}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("div",{className:"font-bold text-gray-900",children:e.name}),(0,bn.jsx)("div",{className:"text-gray-600",children:e.role}),(0,bn.jsx)("div",{className:"flex items-center mt-1",children:[...Array(5)].map((t,r)=>(0,bn.jsx)(Ds,{className:"w-4 h-4 ".concat(r<e.rating?"text-yellow-400 fill-current":"text-gray-300")},r))})]})]})]})},t))})]})}),(0,bn.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,bn.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(o.cta.backgroundImage,")"),filter:"brightness(0.3)"}}),(0,bn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/90 via-pink-900/70 to-purple-900/90"}),(0,bn.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[(0,bn.jsx)("h2",{className:"text-6xl font-black text-white mb-8",children:o.cta.title}),(0,bn.jsx)("p",{className:"text-2xl text-gray-300 mb-12 leading-relaxed",children:o.cta.description}),(0,bn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[(0,bn.jsxs)(Le,{to:o.cta.primaryButtonLink,className:"group relative px-12 py-6 rounded-2xl bg-gradient-to-r from-white to-gray-100 text-gray-900 font-bold text-xl hover:from-gray-100 hover:to-white transition-all duration-300 transform hover:scale-105 shadow-2xl",children:[(0,bn.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-purple-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,bn.jsxs)("div",{className:"relative flex items-center justify-center space-x-3",children:[(0,bn.jsx)("span",{children:o.cta.primaryButtonText}),(0,bn.jsx)(Rs,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,bn.jsx)(Le,{to:o.cta.secondaryButtonLink,className:"group px-12 py-6 rounded-2xl bg-white/10 backdrop-blur-md border-2 border-white/30 text-white font-bold text-xl hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,bn.jsx)(Si,{className:"w-6 h-6"}),(0,bn.jsx)("span",{children:o.cta.secondaryButtonText})]})})]})]})]})]})};function Ll(e){let{tendersOverview:t,tendersLoading:r,selectedListing:n,setSelectedListing:a,acceptingTender:i,rejectingTender:s,handleAcceptTender:o,handleRejectTender:l,totalTenders:c,totalHighestBids:d}=e;return r?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your selling data..."})]})}):(0,bn.jsx)("div",{className:"space-y-8",children:(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Tender Management"}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,bn.jsx)(mo,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Listings"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,bn.jsx)(Vi,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tenders"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,bn.jsx)(Oi,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Bid Value"}),(0,bn.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",d.toFixed(2)]})]})]})})]}),0===t.length?(0,bn.jsxs)("div",{className:"text-center py-8 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,bn.jsx)(Oi,{className:"w-6 h-6 text-gray-400"})}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Active Tenders"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have any active listings receiving tender offers."})]}):(0,bn.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,bn.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,bn.jsx)("img",{src:(null===(t=e.listing.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:e.listing.title,className:"w-20 h-20 object-cover rounded-lg"}),(0,bn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.listing.title}),(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Starting Price: \u20ac",e.listing.price.toFixed(2)]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,bn.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:[(0,bn.jsx)(mo,{className:"w-3 h-3 mr-1"}),e.tender_count," tender",1!==e.tender_count?"s":""]}),e.highest_offer>0&&(0,bn.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[(0,bn.jsx)(Vi,{className:"w-3 h-3 mr-1"}),"Highest: \u20ac",e.highest_offer.toFixed(2)]})]})]}),(0,bn.jsxs)("button",{onClick:()=>a(n===e.listing.id?null:e.listing.id),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors flex items-center space-x-2",children:[(0,bn.jsx)(Ss,{className:"w-4 h-4"}),(0,bn.jsxs)("span",{children:[n===e.listing.id?"Hide":"View"," Tenders"]})]})]})}),n===e.listing.id&&(0,bn.jsx)("div",{className:"p-6",children:0===e.tenders.length?(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"No active tenders for this listing."}):(0,bn.jsx)("div",{className:"space-y-4",children:e.tenders.map((t,r)=>(0,bn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white ".concat(0===r?"bg-yellow-500":"bg-gray-400"),children:["#",r+1]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:["\u20ac",t.offer_amount.toFixed(2)]}),(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["by ",t.buyer.full_name||t.buyer.username]}),(0,bn.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[(0,bn.jsx)(zi,{className:"w-3 h-3 inline mr-1"}),new Date(t.created_at).toLocaleDateString()," at ",new Date(t.created_at).toLocaleTimeString()]})]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("button",{onClick:()=>o(t.id,e.listing.title,t.offer_amount),disabled:i===t.id,className:"px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:i===t.id?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Accepting..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(ps,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Accept"})]})}),(0,bn.jsx)("button",{onClick:()=>l(t.id,e.listing.title,t.offer_amount),disabled:s===t.id,className:"px-3 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:s===t.id?(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,bn.jsx)("span",{children:"Rejecting..."})]}):(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(oo,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Reject"})]})})]})]},t.id))})})]},e.listing.id)})})]})})}function Dl(e){let{myTenders:t,myTendersLoading:r,fetchMyTenders:n}=e;const{user:a}=Cn();if(r)return(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your tender offers..."})]})});const i=e=>{switch(e){case"active":return(0,bn.jsx)(zi,{className:"w-5 h-5 text-yellow-500"});case"accepted":return(0,bn.jsx)(ps,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,bn.jsx)(oo,{className:"w-5 h-5 text-red-500"});default:return(0,bn.jsx)(ms,{className:"w-5 h-5 text-gray-500"})}},s=e=>{switch(e){case"active":return"Pending";case"accepted":return"Accepted";case"rejected":return"Rejected";default:return"Unknown"}},o=e=>{switch(e){case"active":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},l=t.filter(e=>"active"===e.status),c=t.filter(e=>"accepted"===e.status),d=(t.filter(e=>"rejected"===e.status),t.reduce((e,t)=>e+t.offer_amount,0));return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,bn.jsx)(Oi,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tenders"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,bn.jsx)(zi,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.length})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,bn.jsx)(ps,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Accepted"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.length})]})]})}),(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,bn.jsx)(Vi,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Value"}),(0,bn.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",d.toFixed(2)]})]})]})})]}),0===t.length?(0,bn.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,bn.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,bn.jsx)(Oi,{className:"w-8 h-8 text-gray-400"})}),(0,bn.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Tender Offers"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You haven't submitted any tender offers yet."}),(0,bn.jsx)(Le,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Browse Listings"})]}):(0,bn.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,bn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,bn.jsx)("div",{className:"w-20 h-20 flex-shrink-0",children:(0,bn.jsx)("img",{src:(null===(t=e.listing.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:e.listing.title,className:"w-full h-full object-cover rounded-lg"})}),(0,bn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,bn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.listing.title}),(0,bn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Starting Price: \u20ac",e.listing.price.toFixed(2)]}),e.seller&&(0,bn.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,bn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Seller:"}),(0,bn.jsxs)("div",{className:"flex items-center space-x-1",children:[e.seller.is_business&&(0,bn.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:"Business"}),(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.seller.business_name||e.seller.full_name||e.seller.username})]})]})]}),(0,bn.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(o(e.status)),children:[i(e.status),(0,bn.jsx)("span",{className:"ml-1",children:s(e.status)})]})]}),(0,bn.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your Offer"}),(0,bn.jsxs)("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",e.offer_amount.toFixed(2)]})]}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Submitted"}),(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(e.created_at).toLocaleDateString()})]})]}),"accepted"===e.status&&(0,bn.jsx)("div",{className:"flex items-center space-x-2",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Congratulations!"}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Your tender was accepted"})]})}),"active"===e.status&&(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium",children:"Waiting for response"}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Seller will review your offer"})]}),"rejected"===e.status&&(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Not selected"}),(0,bn.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Better luck next time"})]})]})]})]})},e.id)})})]})}function Rl(e){var t;let{listing:r,onDelete:n}=e;const[a,s]=(0,i.useState)(!1);return(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[(0,bn.jsxs)("div",{className:"relative h-48 w-full overflow-hidden rounded-t-xl",children:[(0,bn.jsx)("img",{src:(null===(t=r.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:r.title,className:"w-full h-full object-cover"}),(0,bn.jsx)("div",{className:"absolute top-3 right-3",children:(0,bn.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold shadow-lg ".concat((e=>{switch(e){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"sold":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";case"closed":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"draft":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";default:return"bg-gray-100 dark:bg-gray-700/50 text-gray-800 dark:text-gray-300"}})(r.status||(r.is_draft?"draft":"active"))),children:(r.status||(r.is_draft?"DRAFT":"ACTIVE")).toUpperCase()})})]}),(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"mb-4",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white line-clamp-2 mb-2 min-h-[3.5rem]",children:r.title}),(0,bn.jsxs)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",r.price.toFixed(2)]})]}),(0,bn.jsx)("div",{className:"mb-6",children:(0,bn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3 min-h-[4rem]",children:r.description})}),(0,bn.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[(0,bn.jsx)("span",{className:"truncate",children:r.category||"No category"}),(0,bn.jsx)("span",{className:"ml-2 whitespace-nowrap",children:new Date(r.created_at).toLocaleDateString()})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,bn.jsx)("div",{className:"flex items-center space-x-2",children:(0,bn.jsxs)("button",{onClick:()=>window.location.href="/edit-listing/".concat(r.id),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg font-medium transition-colors",title:"Edit Listing",children:[(0,bn.jsx)(Ks,{className:"w-4 h-4 mr-1.5"}),"Edit"]})}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("button",{onClick:()=>s(!a),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",title:"More options",children:(0,bn.jsx)(Ws,{className:"w-4 h-4"})}),a&&(0,bn.jsxs)("div",{className:"absolute bottom-full right-0 mb-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 min-w-[140px]",children:[(0,bn.jsxs)("button",{onClick:()=>{window.location.href="/edit-listing/".concat(r.id),s(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 rounded-t-lg",children:[(0,bn.jsx)(Ks,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Edit Listing"})]}),(0,bn.jsxs)("button",{onClick:()=>{n(r.id),s(!1)},className:"w-full px-4 py-3 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-2 rounded-b-lg",children:[(0,bn.jsx)(qi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Delete Listing"})]})]})]})]})]})]})}function Il(e){let{listings:t,allListings:r,listingsLoading:n,activeFilter:a,handleTileClick:i,handleCreateListing:s,handleDeleteListing:o}=e;return n?(0,bn.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your listings..."})]})}):(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bn.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"My Listings"}),(0,bn.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your product listings and track their performance"})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsx)("button",{onClick:()=>i("all"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("all"===a?"ring-2 ring-blue-500 bg-blue-50/20 dark:bg-blue-900/20":""),children:(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:r.length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})}),(0,bn.jsx)("button",{onClick:()=>i("active"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("active"===a?"ring-2 ring-green-500 bg-green-50/20 dark:bg-green-900/20":""),children:(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:r.filter(e=>"active"===e.status).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})}),(0,bn.jsx)("button",{onClick:()=>i("closed"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("closed"===a?"ring-2 ring-red-500 bg-red-50/20 dark:bg-red-900/20":""),children:(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:r.filter(e=>"sold"===e.status||"closed"===e.status).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Closed"}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Sold & completed"})]})}),(0,bn.jsx)("button",{onClick:()=>i("drafts"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("drafts"===a?"ring-2 ring-orange-500 bg-orange-50/20 dark:bg-orange-900/20":""),children:(0,bn.jsxs)("div",{className:"p-6 text-center",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:r.filter(e=>"draft"===e.status||e.is_draft).length}),(0,bn.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Drafts"}),(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Finish & publish later"})]})})]}),"all"!==a&&(0,bn.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,bn.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Showing ",a," listings (",t.length," items)"]}),(0,bn.jsx)("button",{onClick:()=>i("all"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show All"})]}),0===t.length?(0,bn.jsx)("div",{className:"text-center py-12",children:(0,bn.jsxs)("div",{className:"cataloro-card-glass p-12",children:[(0,bn.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,bn.jsx)(Mi,{className:"w-12 h-12 text-gray-600 dark:text-gray-300"})}),(0,bn.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"No listings yet"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Create your first listing to start selling on our modern marketplace"}),(0,bn.jsx)("button",{onClick:s,className:"cataloro-button-primary",children:"Create Your First Listing"})]})}):(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(e=>(0,bn.jsx)(Rl,{listing:e,onDelete:o},e.id))})]})}const Fl=function(){const{user:e}=Cn(),{showToast:t}=Hn(),r=ne(),[n]=Ie(),[a,s]=(0,i.useState)("sell"),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(null),x=n.get("filter"),[y,b]=(0,i.useState)([]),[v,w]=(0,i.useState)(!0),[j,k]=(0,i.useState)(x||"all"),[N,_]=(0,i.useState)([]),[S,A]=(0,i.useState)(!0);(0,i.useEffect)(()=>{e&&(O(),C(),E())},[e]),(0,i.useEffect)(()=>{if("sell"===a){const e=new URLSearchParams(window.location.search);"all"!==j?e.set("filter",j):e.delete("filter");const t="".concat(window.location.pathname).concat(e.toString()?"?"+e.toString():"");window.history.replaceState({},"",t)}},[j,a]),(0,i.useEffect)(()=>{const e=n.get("filter");e&&e!==j&&k(e)},[n]);const O=async()=>{if(e)try{d(!0);const r=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/tenders/seller/").concat(e.id,"/overview"));if(r.ok){const e=await r.json();l(e)}else t("Failed to load tender overview","error")}catch(r){console.error("Failed to fetch tenders overview:",r),t("Error loading tender data","error")}finally{d(!1)}},E=async()=>{if(e)try{A(!0);const r=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/tenders/buyer/").concat(e.id));if(r.ok){const e=await r.json();_(e)}else t("Failed to load your tenders","error")}catch(r){console.error("Failed to fetch my tenders:",r),t("Error loading tender data","error")}finally{A(!1)}},C=async()=>{if(null!==e&&void 0!==e&&e.id)try{w(!0);const t=await Vn.getMyListings(e.id);b(t)}catch(r){t("Failed to load your listings","error"),console.error("Failed to fetch listings:",r)}finally{w(!1)}},P=()=>{r("/create-listing")};if(!e)return(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Please Login"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You need to be logged in to manage tenders and listings."})]});const T=o.reduce((e,t)=>e+t.tender_count,0),M=o.reduce((e,t)=>e+(t.highest_offer||0),0),L=(()=>{switch(j){case"active":return y.filter(e=>"active"===e.status);case"drafts":return y.filter(e=>"draft"===e.status||e.is_draft);case"closed":return y.filter(e=>"sold"===e.status||"closed"===e.status);default:return y}})();return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Management Center"}),(0,bn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your tenders and listings"})]}),(0,bn.jsx)("div",{className:"mt-4 lg:mt-0 flex items-center space-x-3",children:"sell"===a?(0,bn.jsxs)("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)(Ii,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Refresh Tenders"})]}):"buy"===a?(0,bn.jsxs)("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)(Ii,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Refresh"})]}):"listings"===a?(0,bn.jsxs)("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Create New Listing"})]}):null})]}),(0,bn.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("nav",{className:"flex space-x-8",children:[(0,bn.jsx)("button",{onClick:()=>s("sell"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("sell"===a?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(ns,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Sell"})]})}),(0,bn.jsx)("button",{onClick:()=>s("buy"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("buy"===a?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(Oi,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Buy"})]})}),(0,bn.jsx)("button",{onClick:()=>s("listings"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("listings"===a?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(ks,{className:"w-4 h-4"}),(0,bn.jsx)("span",{children:"Listings"})]})})]})}),"sell"===a&&(0,bn.jsx)(Ll,{tendersOverview:o,tendersLoading:c,selectedListing:u,setSelectedListing:h,acceptingTender:f,rejectingTender:m,handleAcceptTender:async(r,n,a)=>{if(!e)return;if(window.confirm("Accept tender offer of \u20ac".concat(a.toFixed(2),' for "').concat(n,'"?\n\nThis will:\n- Accept this tender\n- Reject all other tenders for this listing\n- Mark the listing as SOLD\n- Send notifications to all bidders\n- Create a message thread with the winning bidder')))try{p(r);const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/tenders/").concat(r,"/accept"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(n.ok)t("Tender offer of \u20ac".concat(a.toFixed(2)," accepted!"),"success"),O();else{const e=await n.json();t(e.detail||"Failed to accept tender","error")}}catch(i){console.error("Error accepting tender:",i),t("Error accepting tender. Please try again.","error")}finally{p(null)}},handleRejectTender:async(r,n,a)=>{if(!e)return;if(window.confirm("Reject tender offer of \u20ac".concat(a.toFixed(2),' for "').concat(n,'"?\n\nThis will send a rejection notification to the bidder.')))try{g(r);const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/tenders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(n.ok)t("Tender offer rejected","info"),O();else{const e=await n.json();t(e.detail||"Failed to reject tender","error")}}catch(i){console.error("Error rejecting tender:",i),t("Error rejecting tender. Please try again.","error")}finally{g(null)}},totalTenders:T,totalHighestBids:M}),"buy"===a&&(0,bn.jsx)(Dl,{myTenders:N,myTendersLoading:S,fetchMyTenders:E}),"listings"===a&&(0,bn.jsx)(Il,{listings:L,allListings:y,listingsLoading:v,activeFilter:j,handleTileClick:e=>{k(e)},handleCreateListing:P,handleDeleteListing:async e=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await Vn.deleteListing(e),b(y.filter(t=>t.id!==e)),t("Listing deleted successfully","success")}catch(r){console.error("Error deleting listing:",r),t("Failed to delete listing","error")}}})]})},Bl=_i("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Ul=_i("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function ql(e){let{items:t,baskets:r,searchTerm:n,setSearchTerm:a,assignmentFilter:i,setAssignmentFilter:s,onAssignToBasket:o,onUnassignFromBasket:l,onCreateBasket:c,loading:d}=e;return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,bn.jsx)("div",{className:"flex-1 max-w-md",children:(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,bn.jsx)("input",{type:"text",placeholder:"Search bought items...",value:n,onChange:e=>a(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)(uo,{className:"w-4 h-4 text-gray-500"}),(0,bn.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,bn.jsx)("option",{value:"all",children:"All Items"}),(0,bn.jsx)("option",{value:"assigned",children:"Assigned"}),(0,bn.jsx)("option",{value:"not-assigned",children:"Not Assigned"})]})]}),(0,bn.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," items found"]})]})]}),d?(0,bn.jsxs)("div",{className:"text-center py-8",children:[(0,bn.jsx)(Ii,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,bn.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading bought items..."})]}):t.length>0?(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,bn.jsx)(Hl,{item:e,baskets:r,onAssignToBasket:o,onUnassignFromBasket:l,onCreateBasket:c},e.id))}):(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)(Fi,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,bn.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No bought items"}),(0,bn.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Items you purchase will appear here."})]})]})}function zl(e){let{baskets:t,onCreateBasket:r,onEditBasket:n,onDeleteBasket:a,onExportBasket:i,onUnassignFromBasket:s,onReassignToBasket:o,calculateTotals:l,loading:c,exportingBaskets:d}=e;return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Your Baskets"}),(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Organize your purchased items into baskets"})]}),(0,bn.jsxs)("button",{onClick:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4 mr-2"}),"Create Basket"]})]}),c?(0,bn.jsxs)("div",{className:"text-center py-8",children:[(0,bn.jsx)(Ii,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,bn.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading baskets..."})]}):t.length>0?(0,bn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(e=>(0,bn.jsx)(Vl,{basket:e,totals:l(e),onEdit:()=>n(e),onDelete:()=>a(e.id),onExport:()=>i(e,l(e)),onUnassignFromBasket:s,onReassignToBasket:o,allBaskets:t,isExporting:d[e.id]||!1},e.id))}):(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)(Bl,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,bn.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No baskets created"}),(0,bn.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create your first basket to organize items."}),(0,bn.jsxs)("button",{onClick:r,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4 mr-2"}),"Create First Basket"]})]})]})}function Hl(e){var t;let{item:r,baskets:n,onAssignToBasket:a,onUnassignFromBasket:s,onCreateBasket:o}=e;const[l,c]=(0,i.useState)(!1);return(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow border border-gray-200 dark:border-gray-600 relative",children:[r.image&&(0,bn.jsx)("div",{className:"aspect-w-16 aspect-h-9 overflow-hidden rounded-t-lg",children:(0,bn.jsx)("img",{src:r.image,alt:r.title,className:"w-full h-48 object-cover"})}),r.basket_id&&(0,bn.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,bn.jsxs)("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-bold bg-green-600 text-white shadow-lg",children:[(0,bn.jsx)(Bl,{className:"w-4 h-4 mr-2"}),"ASSIGNED"]})}),(0,bn.jsxs)("div",{className:"p-4",children:[(0,bn.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,bn.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:r.title})}),(0,bn.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,bn.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,bn.jsx)(Oi,{className:"w-3 h-3 mr-1"}),"\u20ac",(null===(t=r.price)||void 0===t?void 0:t.toFixed(2))||"0.00"]}),(0,bn.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,bn.jsx)(Yi,{className:"w-3 h-3 mr-1"}),r.seller_name||"Unknown Seller"]}),(0,bn.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,bn.jsx)(so,{className:"w-3 h-3 mr-1"}),new Date(r.purchased_at).toLocaleDateString()]}),r.basket_id&&(0,bn.jsxs)("div",{className:"flex items-center text-xs text-green-600 dark:text-green-400",children:[(0,bn.jsx)(Bl,{className:"w-3 h-3 mr-1"}),"Assigned to basket"]})]}),(0,bn.jsxs)("div",{className:"relative z-50",children:[r.basket_id?(0,bn.jsx)("button",{onClick:()=>{window.confirm("Unassign this item from the basket? This will allow you to reassign it with updated catalyst values.")&&s(r.id)},className:"w-full inline-flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all border-red-300 text-red-700 bg-red-50 hover:bg-red-100 focus:ring-red-500 dark:border-red-600 dark:text-red-400 dark:bg-red-900 dark:hover:bg-red-800",children:"Unassign"}):(0,bn.jsxs)("button",{onClick:()=>c(!l),className:"w-full inline-flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all border-blue-300 text-blue-700 bg-blue-50 hover:bg-blue-100 focus:ring-blue-500 dark:border-blue-600 dark:text-blue-400 dark:bg-blue-900 dark:hover:bg-blue-800",children:["Assign to Basket",(0,bn.jsx)(Ws,{className:"w-4 h-4 ml-2"})]}),l&&!r.basket_id&&(0,bn.jsx)("div",{className:"absolute left-0 right-0 mt-2 bg-white dark:bg-gray-700 rounded-md shadow-lg border border-gray-200 dark:border-gray-600 z-[100]",children:(0,bn.jsxs)("div",{className:"py-1",children:[n.length>0?n.map(e=>(0,bn.jsxs)("button",{onClick:()=>{a(r.id,e.id),c(!1)},className:"block w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)(Bl,{className:"w-4 h-4 inline mr-2"}),e.name]},e.id)):(0,bn.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No baskets available"}),n.length>0&&(0,bn.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),(0,bn.jsxs)("button",{onClick:()=>{o(),c(!1)},className:"block w-full px-4 py-2 text-sm text-left text-blue-600 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)(Mi,{className:"w-4 h-4 inline mr-2"}),"Create New Basket"]})]})})]})]})]})}function Vl(e){var t;let{basket:r,totals:n,onEdit:a,onDelete:s,onExport:o,onUnassignFromBasket:l,onReassignToBasket:c,allBaskets:d,isExporting:u}=e;const[h,f]=(0,i.useState)(null);return(0,bn.jsx)("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow border border-gray-200 dark:border-gray-600",children:(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.name}),r.description&&(0,bn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:r.description})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("button",{onClick:o,disabled:u,className:"p-2 transition-colors ".concat(u?"text-green-600 dark:text-green-400 cursor-not-allowed":"text-gray-400 hover:text-green-600 dark:hover:text-green-400"),title:u?"Exporting PDF...":"Export basket as PDF",children:u?(0,bn.jsx)(Ul,{className:"w-4 h-4 animate-spin"}):(0,bn.jsx)(wo,{className:"w-4 h-4"})}),(0,bn.jsx)("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,bn.jsx)(Do,{className:"w-4 h-4"})}),(0,bn.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:(0,bn.jsx)(qi,{className:"w-4 h-4"})})]})]}),(0,bn.jsx)("div",{className:"mb-4",children:(0,bn.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[(null===(t=r.items)||void 0===t?void 0:t.length)||0," items"]})}),(0,bn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[(0,bn.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Summary"}),(0,bn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("dt",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Value Paid"}),(0,bn.jsxs)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["\u20ac",n.valuePaid.toFixed(2)]})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("dt",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Pt g"}),(0,bn.jsx)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.ptG.toFixed(4)})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("dt",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Pd g"}),(0,bn.jsx)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.pdG.toFixed(4)})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("dt",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rh g"}),(0,bn.jsx)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.rhG.toFixed(4)})]})]})]}),r.items&&r.items.length>0&&(0,bn.jsxs)("div",{className:"mt-4",children:[(0,bn.jsx)("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Items in Basket"}),(0,bn.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[r.items.map((e,t)=>{var n;return(0,bn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-3",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate flex-1 mr-2",children:e.title}),(0,bn.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["\u20ac",(null===(n=e.price)||void 0===n?void 0:n.toFixed(2))||"0.00"]})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2 relative",children:[(0,bn.jsx)("button",{onClick:()=>{window.confirm('Unassign "'.concat(e.title,'" from this basket?'))&&l(e.id)},className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 dark:bg-red-900/50 dark:text-red-400 dark:hover:bg-red-900",children:"Unassign"}),(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("button",{onClick:()=>f(h===e.id?null:e.id),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 dark:bg-blue-900/50 dark:text-blue-400 dark:hover:bg-blue-900",children:"Reassign"}),h===e.id&&(0,bn.jsx)("div",{className:"absolute left-0 top-full mt-1 bg-white dark:bg-gray-700 rounded-md shadow-lg border border-gray-200 dark:border-gray-600 z-50 min-w-32",children:(0,bn.jsx)("div",{className:"py-1",children:d.filter(e=>e.id!==r.id).length>0?d.filter(e=>e.id!==r.id).map(t=>(0,bn.jsxs)("button",{onClick:()=>{c(e.id,r.id,t.id),f(null)},className:"block w-full px-3 py-2 text-sm text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,bn.jsx)(Bl,{className:"w-3 h-3 inline mr-2"}),t.name]},t.id)):(0,bn.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No other baskets"})})})]})]})]},t)}),r.items.length>5&&(0,bn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Showing first 5 items"})]})]})]})})}function Wl(e){let{title:t,form:r,setForm:n,onSave:a,onClose:i}=e;return(0,bn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,bn.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:(0,bn.jsxs)("div",{className:"mt-3",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white text-center mb-4",children:t}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Basket Name"}),(0,bn.jsx)("input",{type:"text",value:r.name,onChange:e=>n((0,Fe.A)((0,Fe.A)({},r),{},{name:e.target.value})),placeholder:"Enter basket name...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (Optional)"}),(0,bn.jsx)("textarea",{value:r.description,onChange:e=>n((0,Fe.A)((0,Fe.A)({},r),{},{description:e.target.value})),placeholder:"Enter description...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,bn.jsx)("button",{onClick:i,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,bn.jsx)("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Save"})]})]})})})}const Kl=function(){const{user:e}=Cn(),{showToast:t}=Hn(),{permissions:r}=Zi(),[n,a]=(0,i.useState)("bought-items"),[s,o]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[d,u]=(0,i.useState)(null),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(""),[g,x]=(0,i.useState)("all"),[y,b]=(0,i.useState)(!1),[v,w]=(0,i.useState)(!1),[j,k]=(0,i.useState)({name:"",description:""}),[N,_]=(0,i.useState)({}),S=async()=>{if(null!==e&&void 0!==e&&e.id)try{f(!0);const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/bought-items/").concat(e.id),{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();o(e)}else console.error("Failed to load bought items"),o([])}catch(t){console.error("Error loading bought items:",t),o([])}finally{f(!1)}},A=async()=>{if(null!==e&&void 0!==e&&e.id)try{f(!0);const t=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/baskets/").concat(e.id),{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();c(e)}else console.error("Failed to load baskets"),c([])}catch(t){console.error("Error loading baskets:",t),c([])}finally{f(!1)}},O=async e=>{try{const r=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/bought-items/").concat(e,"/unassign"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(r.ok)t("Item unassigned from basket successfully","success"),o(t=>t.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{basket_id:null}):t)),S(),A();else{const e=await r.text();console.error("Unassign failed:",e),t("Failed to unassign item from basket","error")}}catch(r){console.error("Error unassigning item:",r),t("Error unassigning item from basket","error")}};(0,i.useEffect)(()=>{S(),A()},[null===e||void 0===e?void 0:e.id]);const E=s.filter(e=>{var t,r;const n=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null===(r=e.seller_name)||void 0===r?void 0:r.toLowerCase().includes(p.toLowerCase())),a="all"===g||"assigned"===g&&e.basket_id||"not-assigned"===g&&!e.basket_id;return n&&a});return r.ui.showBuyingFeatures||"Admin"===(null===e||void 0===e?void 0:e.user_role)||"Admin-Manager"===(null===e||void 0===e?void 0:e.user_role)?(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,bn.jsx)("div",{className:"mb-8",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,bn.jsx)(Ei,{className:"w-8 h-8 mr-3 text-blue-600"}),"Inventory"]}),(0,bn.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Manage your purchased items and organize them into baskets"})]}),(0,bn.jsx)("div",{className:"flex items-center space-x-4",children:(0,bn.jsxs)("button",{onClick:()=>{S(),A()},disabled:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,bn.jsx)(Ii,{className:"w-4 h-4 mr-2 ".concat(h?"animate-spin":"")}),"Refresh"]})})]})}),(0,bn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-6",children:[(0,bn.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,bn.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6",children:[(0,bn.jsxs)("button",{onClick:()=>a("bought-items"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("bought-items"===n?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,bn.jsx)(Fi,{className:"w-4 h-4 inline mr-2"}),"Bought Items"]}),(0,bn.jsxs)("button",{onClick:()=>a("baskets"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("baskets"===n?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,bn.jsx)(Bl,{className:"w-4 h-4 inline mr-2"}),"Baskets"]})]})}),(0,bn.jsxs)("div",{className:"p-6",children:["bought-items"===n&&(0,bn.jsx)(ql,{items:E,baskets:l,searchTerm:p,setSearchTerm:m,assignmentFilter:g,setAssignmentFilter:x,onAssignToBasket:async(e,r)=>{try{const n=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/bought-items/").concat(e,"/assign"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({basket_id:r})});if(n.ok)t("Item assigned to basket successfully","success"),o(t=>t.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{basket_id:r}):t)),S(),A();else{const e=await n.text();console.error("Assignment failed:",e),t("Failed to assign item to basket","error")}}catch(n){console.error("Error assigning item:",n),t("Error assigning item to basket","error")}},onUnassignFromBasket:O,onCreateBasket:()=>b(!0),loading:h}),"baskets"===n&&(0,bn.jsx)(zl,{baskets:l,onCreateBasket:()=>b(!0),onEditBasket:e=>{u(e),k({name:e.name,description:e.description||""}),w(!0)},onDeleteBasket:async e=>{if(window.confirm("Are you sure you want to delete this basket? All items will be unassigned."))try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/baskets/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok?(t("Basket deleted successfully","success"),A(),S()):t("Failed to delete basket","error")}catch(r){console.error("Error deleting basket:",r),t("Error deleting basket","error")}},onExportBasket:async(r,n)=>{_(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[r.id]:!0}));try{t("Generating PDF export...","info");const a={basketId:r.id,basketName:r.name,basketDescription:r.description,totals:n,items:r.items||[],userId:e.id,exportDate:(new Date).toISOString()},i=await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/export-basket-pdf"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(a)});if(!i.ok)throw new Error("Export failed: ".concat(i.statusText));const s=await i.blob(),o=window.URL.createObjectURL(s),l=document.createElement("a");l.href=o;const c=(new Date).toISOString().slice(0,19).replace(/:/g,"-"),d="cataloro-basket-".concat(r.name.replace(/[^a-zA-Z0-9]/g,"_"),"-").concat(c,".pdf");l.download=d,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o),t("Basket PDF exported successfully!","success")}catch(a){console.error("Export error:",a),t("Export failed: ".concat(a.message),"error")}finally{_(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[r.id]:!1}))}},onUnassignFromBasket:O,onReassignToBasket:async(e,r,n)=>{try{if(!(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/bought-items/").concat(e,"/unassign"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to unassign item");if(!(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/bought-items/").concat(e,"/assign"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({basket_id:n})})).ok)throw new Error("Failed to assign item to new basket");t("Item reassigned to basket successfully","success"),S(),A()}catch(a){console.error("Error reassigning item:",a),t("Error reassigning item to basket","error")}},calculateTotals:e=>{const t=e.items||[];return{valuePaid:t.reduce((e,t)=>e+(t.price||0),0),ptG:t.reduce((e,t)=>t.pt_g&&t.pt_g>0?e+t.pt_g:e+(t.weight||0)*(t.pt_ppm||0)/1e3*(t.renumeration_pt||0),0),pdG:t.reduce((e,t)=>t.pd_g&&t.pd_g>0?e+t.pd_g:e+(t.weight||0)*(t.pd_ppm||0)/1e3*(t.renumeration_pd||0),0),rhG:t.reduce((e,t)=>t.rh_g&&t.rh_g>0?e+t.rh_g:e+(t.weight||0)*(t.rh_ppm||0)/1e3*(t.renumeration_rh||0),0)}},loading:h,exportingBaskets:N})]})]}),y&&(0,bn.jsx)(Wl,{title:"Create New Basket",form:j,setForm:k,onSave:async()=>{if(j.name.trim())try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/baskets"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id,name:j.name.trim(),description:j.description.trim()})})).ok?(t("Basket created successfully","success"),b(!1),k({name:"",description:""}),A()):t("Failed to create basket","error")}catch(r){console.error("Error creating basket:",r),t("Error creating basket","error")}else t("Basket name is required","error")},onClose:()=>{b(!1),k({name:"",description:""})}}),v&&(0,bn.jsx)(Wl,{title:"Edit Basket",form:j,setForm:k,onSave:async()=>{if(j.name.trim()&&d)try{(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/baskets/").concat(d.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.name.trim(),description:j.description.trim()})})).ok?(t("Basket updated successfully","success"),w(!1),u(null),k({name:"",description:""}),A()):t("Failed to update basket","error")}catch(e){console.error("Error updating basket:",e),t("Error updating basket","error")}else t("Basket name is required","error")},onClose:()=>{w(!1),u(null),k({name:"",description:""})}})]})}):(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)(Fi,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,bn.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Access Denied"}),(0,bn.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to access buy management."})]})})};function Gl(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Gl(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const Yl=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Gl(e))&&(n&&(n+=" "),n+=t);return n};var $l=r(9889),Jl=r.n($l),Xl=r(620),Zl=r.n(Xl),Ql=r(5268),ec=r.n(Ql),tc=r(3097),rc=r.n(tc),nc=r(9160),ac=r.n(nc),ic=r(9686),sc=r.n(ic),oc=function(e){return 0===e?0:e>0?1:-1},lc=function(e){return Zl()(e)&&e.indexOf("%")===e.length-1},cc=function(e){return ac()(e)&&!ec()(e)},dc=function(e){return cc(e)||Zl()(e)},uc=0,hc=function(e){var t=++uc;return"".concat(e||"").concat(t)},fc=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!cc(e)&&!Zl()(e))return n;if(lc(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return ec()(r)&&(r=n),a&&r>t&&(r=t),r},pc=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},mc=function(e,t){return cc(e)&&cc(t)?function(r){return e+r*(t-e)}:function(){return t}};function gc(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):rc()(e,t))===r}):null}var xc=function(e,t){return cc(e)&&cc(t)?e-t:Zl()(e)&&Zl()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},yc=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},bc=r(1629),vc=r.n(bc),wc=r(6686),jc=r.n(wc),kc=r(2086);function Nc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _c(e){return _c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(e)}var Sc=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ac=["points","pathLength"],Oc={svg:["viewBox","children"],polygon:Ac,polyline:Ac},Ec=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cc=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!jc()(r))return null;var n={};return Object.keys(r).forEach(function(e){Ec.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})}),n},Pc=function(e,t,r){if(!jc()(e)||"object"!==_c(e))return null;var n=null;return Object.keys(e).forEach(function(a){var i=e[a];Ec.includes(a)&&"function"===typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))}),n},Tc=["children"],Mc=["children"];function Lc(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dc(e){return Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(e)}var Rc={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ic=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Fc=null,Bc=null,Uc=function e(t){if(t===Fc&&Array.isArray(Bc))return Bc;var r=[];return i.Children.forEach(t,function(t){sc()(t)||((0,kc.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),Bc=r,Fc=t,r};function qc(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return Ic(e)}):[Ic(t)],Uc(e).forEach(function(e){var t=rc()(e,"type.displayName")||rc()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function zc(e,t){var r=qc(e,t);return r&&r[0]}var Hc=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!cc(r)||r<=0||!cc(n)||n<=0)},Vc=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wc=function(e){return e&&e.type&&Zl()(e.type)&&Vc.indexOf(e.type)>=0},Kc=function(e,t,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!jc()(n))return null;var a={};return Object.keys(n).forEach(function(e){var i;(function(e,t,r,n){var a,i=null!==(a=null===Oc||void 0===Oc?void 0:Oc[n])&&void 0!==a?a:[];return t.startsWith("data-")||!vc()(e)&&(n&&i.includes(t)||Sc.includes(t))||r&&Ec.includes(t)})(null===(i=n)||void 0===i?void 0:i[e],e,t,r)&&(a[e]=n[e])}),a},Gc=function e(t,r){if(t===r)return!0;var n=i.Children.count(t);if(n!==i.Children.count(r))return!1;if(0===n)return!0;if(1===n)return Yc(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!Yc(s,o))return!1}return!0},Yc=function(e,t){if(sc()(e)&&sc()(t))return!0;if(!sc()(e)&&!sc()(t)){var r=e.props||{},n=r.children,a=Lc(r,Tc),i=t.props||{},s=i.children,o=Lc(i,Mc);return n&&s?Nc(a,o)&&Gc(n,s):!n&&!s&&Nc(a,o)}return!1},$c=function(e,t){var r=[],n={};return Uc(e).forEach(function(e,a){if(Wc(e))r.push(e);else if(e){var i=Ic(e.type),s=t[i]||{},o=s.handler,l=s.once;if(o&&(!l||!n[i])){var c=o(e,i,a);r.push(c),n[i]=!0}}}),r};function Jc(e){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(e)}function Xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(r),!0).forEach(function(t){Qc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Qc(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Jc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Jc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return td(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return td(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function td(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rd=(0,i.forwardRef)(function(e,t){var r=e.aspect,n=e.initialDimension,a=void 0===n?{width:-1,height:-1}:n,s=e.width,o=void 0===s?"100%":s,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,x=e.id,y=e.className,b=e.onResize,v=e.style,w=void 0===v?{}:v,j=(0,i.useRef)(null),k=(0,i.useRef)();k.current=b,(0,i.useImperativeHandle)(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=ed((0,i.useState)({containerWidth:a.width,containerHeight:a.height}),2),_=N[0],S=N[1],A=(0,i.useCallback)(function(e,t){S(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,i.useEffect)(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;A(n,a),null===(t=k.current)||void 0===t||t.call(k,n,a)};g>0&&(e=Jl()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=j.current.getBoundingClientRect(),n=r.width,a=r.height;return A(n,a),t.observe(j.current),function(){t.disconnect()}},[A,g]);var O=(0,i.useMemo)(function(){var e=_.containerWidth,t=_.containerHeight;if(e<0||t<0)return null;yc(lc(o)||lc(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,c),yc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=lc(o)?e:o,a=lc(c)?t:c;r&&r>0&&(n?a=n/r:a&&(n=a*r),f&&a>f&&(a=f)),yc(n>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,a,o,c,u,h,r);var s=!Array.isArray(p)&&Ic(p.type).endsWith("Chart");return i.Children.map(p,function(e){return i.isValidElement(e)?(0,i.cloneElement)(e,Zc({width:n,height:a},s?{style:Zc({height:"100%",width:"100%",maxHeight:a,maxWidth:n},e.props.style)}:{})):e})},[r,p,c,f,h,u,_,o]);return i.createElement("div",{id:x?"".concat(x):void 0,className:Yl("recharts-responsive-container",y),style:Zc(Zc({},w),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:j},O)}),nd=r(6604),ad=r.n(nd),id=r(7424),sd=r.n(id),od="Invariant failed";function ld(e,t){if(!e)throw new Error(od)}var cd=["children","width","height","viewBox","className","style","title","desc"];function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}function ud(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hd(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,d=ud(e,cd),u=a||{width:r,height:n,x:0,y:0},h=Yl("recharts-surface",s);return i.createElement("svg",dd({},Kc(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),i.createElement("title",null,l),i.createElement("desc",null,c),t)}var fd=["children","className"];function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function md(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var gd=i.forwardRef(function(e,t){var r=e.children,n=e.className,a=md(e,fd),s=Yl("recharts-layer",n);return i.createElement("g",pd({className:s},Kc(a,!0),{ref:t}),r)});function xd(e){return xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(r),!0).forEach(function(t){kd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kd(e,t,r){return t=function(e){var t=function(e,t){if("object"!=xd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nd(e){return Array.isArray(e)&&dc(e[0])&&dc(e[1])?e.join(" ~ "):e}var _d=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,a=void 0===n?{}:n,s=e.itemStyle,o=void 0===s?{}:s,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,x=e.accessibilityLayer,y=void 0!==x&&x,b=jd({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),v=jd({margin:0},c),w=!sc()(m),j=w?m:"",k=Yl("recharts-default-tooltip",f),N=Yl("recharts-tooltip-label",p);w&&g&&void 0!==d&&null!==d&&(j=g(m,d));var _=y?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",yd({className:k,style:b},_),i.createElement("p",{className:N,style:v},i.isValidElement(j)?j:"".concat(j)),function(){if(d&&d.length){var e=(h?sd()(d,h):d).map(function(e,t){if("none"===e.type)return null;var n=jd({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),a=e.formatter||u||Nd,s=e.value,l=e.name,c=s,h=l;if(a&&null!=c&&null!=h){var f=a(s,l,e,t,d);if(Array.isArray(f)){var p=bd(f,2);c=p[0],h=p[1]}else c=f}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},dc(h)?i.createElement("span",{className:"recharts-tooltip-item-name"},h):null,dc(h)?i.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Sd(e){return Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(e)}function Ad(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Sd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Sd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Od="recharts-tooltip-wrapper",Ed={visibility:"hidden"};function Cd(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Yl(Od,Ad(Ad(Ad(Ad({},"".concat(Od,"-right"),cc(r)&&t&&cc(t.x)&&r>=t.x),"".concat(Od,"-left"),cc(r)&&t&&cc(t.x)&&r<t.x),"".concat(Od,"-bottom"),cc(n)&&t&&cc(t.y)&&n>=t.y),"".concat(Od,"-top"),cc(n)&&t&&cc(t.y)&&n<t.y))}function Pd(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&cc(i[n]))return i[n];var d=r[n]-o-a,u=r[n]+a;return t[n]?s[n]?d:u:s[n]?d<l[n]?Math.max(u,l[n]):Math.max(d,l[n]):u+o>l[n]+c?Math.max(d,l[n]):Math.max(u,l[n])}function Td(e){return Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(e)}function Md(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(r),!0).forEach(function(t){Ud(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Md(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Dd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qd(n.key),n)}}function Rd(e,t,r){return t=Fd(t),function(e,t){if(t&&("object"===Td(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Id()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function Id(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Id=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fd(e)}function Bd(e,t){return Bd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bd(e,t)}function Ud(e,t,r){return(t=qd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qd(e){var t=function(e,t){if("object"!=Td(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Td(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Td(t)?t:t+""}var zd=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ud(e=Rd(this,t,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ud(e,"handleKeyDown",function(t){var r,n,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bd(e,t)}(t,e),r=t,(n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,s=t.animationEasing,o=t.children,l=t.coordinate,c=t.hasPayload,d=t.isAnimationActive,u=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,x=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=Pd({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=Pd({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):Ed,cssClasses:Cd({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:u,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),y=x.cssClasses,b=x.cssProperties,v=Ld(Ld({transition:d&&r?"transform ".concat(a,"ms ").concat(s):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return i.createElement("div",{tabIndex:-1,className:y,style:v,ref:function(t){e.wrapperNode=t}},o)}}])&&Dd(r.prototype,n),a&&Dd(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent),Hd={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Hd[e]},set:function(e,t){if("string"===typeof e)Hd[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(t){Hd[t]=e[t]})}}},Vd=r(977),Wd=r.n(Vd);function Kd(e,t,r){return!0===t?Wd()(e,r):vc()(t)?Wd()(e,t):e}function Gd(e){return Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(e)}function Yd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(r),!0).forEach(function(t){tu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ru(n.key),n)}}function Xd(e,t,r){return t=Qd(t),function(e,t){if(t&&("object"===Gd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zd()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function Zd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Zd=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qd(e)}function eu(e,t){return eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eu(e,t)}function tu(e,t,r){return(t=ru(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ru(e){var t=function(e,t){if("object"!=Gd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Gd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gd(t)?t:t+""}function nu(e){return e.dataKey}var au=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xd(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eu(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,s=t.animationEasing,o=t.content,l=t.coordinate,c=t.filterNull,d=t.isAnimationActive,u=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,x=t.viewBox,y=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=Kd(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,nu));var v=b.length>0;return i.createElement(zd,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:d,active:r,coordinate:l,hasPayload:v,offset:u,position:p,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:y},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(_d,t)}(o,$d($d({},this.props),{},{payload:b})))}}])&&Jd(r.prototype,n),a&&Jd(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);tu(au,"displayName","Tooltip"),tu(au,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Hd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iu=r(643),su=r.n(iu);Math.abs,Math.atan2;const ou=Math.cos,lu=(Math.max,Math.min,Math.sin),cu=Math.sqrt,du=Math.PI,uu=2*du;const hu={draw(e,t){const r=cu(t/du);e.moveTo(r,0),e.arc(0,0,r,0,uu)}},fu={draw(e,t){const r=cu(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},pu=cu(1/3),mu=2*pu,gu={draw(e,t){const r=cu(t/mu),n=r*pu;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xu={draw(e,t){const r=cu(t),n=-r/2;e.rect(n,n,r,r)}},yu=lu(du/10)/lu(7*du/10),bu=lu(uu/10)*yu,vu=-ou(uu/10)*yu,wu={draw(e,t){const r=cu(.8908130915292852*t),n=bu*r,a=vu*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=uu*i/5,s=ou(t),o=lu(t);e.lineTo(o*r,-s*r),e.lineTo(s*n-o*a,o*n+s*a)}e.closePath()}},ju=cu(3),ku={draw(e,t){const r=-cu(t/(3*ju));e.moveTo(0,2*r),e.lineTo(-ju*r,-r),e.lineTo(ju*r,-r),e.closePath()}},Nu=-.5,_u=cu(3)/2,Su=1/cu(12),Au=3*(Su/2+1),Ou={draw(e,t){const r=cu(t/Au),n=r/2,a=r*Su,i=n,s=r*Su+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Nu*n-_u*a,_u*n+Nu*a),e.lineTo(Nu*i-_u*s,_u*i+Nu*s),e.lineTo(Nu*o-_u*l,_u*o+Nu*l),e.lineTo(Nu*n+_u*a,Nu*a-_u*n),e.lineTo(Nu*i+_u*s,Nu*s-_u*i),e.lineTo(Nu*o+_u*l,Nu*l-_u*o),e.closePath()}};function Eu(e){return function(){return e}}function Cu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Pu,Tu,Mu,Lu,Du,Ru,Iu,Fu,Bu,Uu,qu,zu,Hu,Vu;const Wu=Math.PI,Ku=2*Wu,Gu=1e-6,Yu=Ku-Gu;function $u(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Ju{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?$u:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return $u;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(Pu||(Pu=Cu(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Tu||(Tu=Cu(["Z"]))))}lineTo(e,t){this._append(Mu||(Mu=Cu(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(Lu||(Lu=Cu(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,a,i){this._append(Du||(Du=Cu(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+a,this._y1=+i)}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,s=this._y1,o=r-e,l=n-t,c=i-e,d=s-t,u=c*c+d*d;if(null===this._x1)this._append(Ru||(Ru=Cu(["M",",",""])),this._x1=e,this._y1=t);else if(u>Gu)if(Math.abs(d*o-l*c)>Gu&&a){let h=r-i,f=n-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),x=Math.sqrt(u),y=a*Math.tan((Wu-Math.acos((p+u-m)/(2*g*x)))/2),b=y/x,v=y/g;Math.abs(b-1)>Gu&&this._append(Fu||(Fu=Cu(["L",",",""])),e+b*c,t+b*d),this._append(Bu||(Bu=Cu(["A",",",",0,0,",",",",",""])),a,a,+(d*h>c*f),this._x1=e+v*o,this._y1=t+v*l)}else this._append(Iu||(Iu=Cu(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error("negative radius: ".concat(r));let s=r*Math.cos(n),o=r*Math.sin(n),l=e+s,c=t+o,d=1^i,u=i?n-a:a-n;null===this._x1?this._append(Uu||(Uu=Cu(["M",",",""])),l,c):(Math.abs(this._x1-l)>Gu||Math.abs(this._y1-c)>Gu)&&this._append(qu||(qu=Cu(["L",",",""])),l,c),r&&(u<0&&(u=u%Ku+Ku),u>Yu?this._append(zu||(zu=Cu(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,d,e-s,t-o,r,r,d,this._x1=l,this._y1=c):u>Gu&&this._append(Hu||(Hu=Cu(["A",",",",0,",",",",",",",""])),r,r,+(u>=Wu),d,this._x1=e+r*Math.cos(a),this._y1=t+r*Math.sin(a)))}rect(e,t,r,n){this._append(Vu||(Vu=Cu(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function Xu(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new Ju(t)}cu(3),cu(3);function Zu(e){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(e)}var Qu=["type","size","sizeType"];function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(this,arguments)}function th(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?th(Object(r),!0).forEach(function(t){nh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):th(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nh(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Zu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zu(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ah(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ih={symbolCircle:hu,symbolCross:fu,symbolDiamond:gu,symbolSquare:xu,symbolStar:wu,symbolTriangle:ku,symbolWye:Ou},sh=Math.PI/180,oh=function(e){var t=e.type,r=void 0===t?"circle":t,n=e.size,a=void 0===n?64:n,s=e.sizeType,o=void 0===s?"area":s,l=rh(rh({},ah(e,Qu)),{},{type:r,size:a,sizeType:o}),c=l.className,d=l.cx,u=l.cy,h=Kc(l,!0);return d===+d&&u===+u&&a===+a?i.createElement("path",eh({},h,{className:Yl("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(su()(e));return ih[t]||hu}(r),t=function(e,t){let r=null,n=Xu(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:Eu(e||hu),t="function"===typeof t?t:Eu(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Eu(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Eu(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*sh;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,o,r));return t()}()})):null};function lh(e){return lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(this,arguments)}function dh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xh(n.key),n)}}function hh(e,t,r){return t=ph(t),function(e,t){if(t&&("object"===lh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fh()?Reflect.construct(t,r||[],ph(e).constructor):t.apply(e,r))}function fh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fh=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(e)}function mh(e,t){return mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mh(e,t)}function gh(e,t,r){return(t=xh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xh(e){var t=function(e,t){if("object"!=lh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lh(t)?t:t+""}oh.registerSymbol=function(e,t){ih["symbol".concat(su()(e))]=t};var yh=32,bh=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hh(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mh(e,t)}(t,e),r=t,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=yh/6,a=yh/3,s=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:yh,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(yh,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(yh,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dh(Object(r),!0).forEach(function(t){gh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete o.legendIcon,i.cloneElement(e.legendIcon,o)}return i.createElement(oh,{fill:s,cx:r,cy:r,size:yh,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,s=t.formatter,o=t.inactiveColor,l={x:0,y:0,width:yh,height:yh},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var a=t.formatter||s,u=Yl(gh(gh({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=vc()(t.value)?null:t.value;yc(!vc()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?o:t.color;return i.createElement("li",ch({className:u,style:c,key:"legend-item-".concat(r)},Pc(e.props,t,r)),i.createElement(hd,{width:n,height:n,viewBox:l,style:d},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},a?a(h,t,r):h))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],n&&uh(r.prototype,n),a&&uh(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);function vh(e){return vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(e)}gh(bh,"displayName","Legend"),gh(bh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wh=["ref"];function jh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jh(Object(r),!0).forEach(function(t){Eh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ch(n.key),n)}}function _h(e,t,r){return t=Ah(t),function(e,t){if(t&&("object"===vh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Sh()?Reflect.construct(t,r||[],Ah(e).constructor):t.apply(e,r))}function Sh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Sh=function(){return!!e})()}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(e)}function Oh(e,t){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oh(e,t)}function Eh(e,t,r){return(t=Ch(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ch(e){var t=function(e,t){if("object"!=vh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vh(t)?t:t+""}function Ph(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Th(e){return e.value}var Mh=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Eh(e=_h(this,t,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oh(e,t)}(t,e),r=t,a=[{key:"getWithHeight",value:function(e,t){var r=kh(kh({},this.defaultProps),e.props).layout;return"vertical"===r&&cc(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,s=n.verticalAlign,o=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),kh(kh({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,s=t.wrapperStyle,o=t.payloadUniqBy,l=t.payload,c=kh(kh({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(s)),s);return i.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return i.createElement(e,t);t.ref;var r=Ph(t,wh);return i.createElement(bh,r)}(r,kh(kh({},this.props),{},{payload:Kd(l,o,Th)})))}}])&&Nh(r.prototype,n),a&&Nh(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(this,arguments)}Eh(Mh,"displayName","Legend"),Eh(Mh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Dh=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,s=Yl("recharts-dot",a);return t===+t&&r===+r&&n===+n?i.createElement("circle",Lh({},Kc(e,!1),Cc(e),{className:s,cx:t,cy:r,r:n})):null},Rh=r(5173),Ih=r.n(Rh),Fh=Object.getOwnPropertyNames,Bh=Object.getOwnPropertySymbols,Uh=Object.prototype.hasOwnProperty;function qh(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function zh(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),s=a.get(r);if(i&&s)return i===r&&s===t;a.set(t,r),a.set(r,t);var o=e(t,r,n);return a.delete(t),a.delete(r),o}}function Hh(e){return Fh(e).concat(Bh(e))}var Vh=Object.hasOwn||function(e,t){return Uh.call(e,t)};function Wh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Kh=Object.getOwnPropertyDescriptor,Gh=Object.keys;function Yh(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $h(e,t){return Wh(e.getTime(),t.getTime())}function Jh(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Xh(e,t){return e===t}function Zh(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,s=new Array(n),o=e.entries(),l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(i=c.next())&&!i.done;)if(s[u])u++;else{var h=a.value,f=i.value;if(r.equals(h[0],f[0],l,u,e,t,r)&&r.equals(h[1],f[1],h[0],f[0],e,t,r)){d=s[u]=!0;break}u++}if(!d)return!1;l++}return!0}var Qh=Wh;function ef(e,t,r){var n=Gh(e),a=n.length;if(Gh(t).length!==a)return!1;for(;a-- >0;)if(!lf(e,t,r,n[a]))return!1;return!0}function tf(e,t,r){var n,a,i,s=Hh(e),o=s.length;if(Hh(t).length!==o)return!1;for(;o-- >0;){if(!lf(e,t,r,n=s[o]))return!1;if(a=Kh(e,n),i=Kh(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function rf(e,t){return Wh(e.valueOf(),t.valueOf())}function nf(e,t){return e.source===t.source&&e.flags===t.flags}function af(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,s=new Array(n),o=e.values();(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(i=l.next())&&!i.done;){if(!s[d]&&r.equals(a.value,i.value,a.value,i.value,e,t,r)){c=s[d]=!0;break}d++}if(!c)return!1}return!0}function sf(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function of(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lf(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Vh(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var cf=Array.isArray,df="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,uf=Object.assign,hf=Object.prototype.toString.call.bind(Object.prototype.toString);var ff=pf();pf({strict:!0}),pf({circular:!0}),pf({circular:!0,strict:!0}),pf({createInternalComparator:function(){return Wh}}),pf({strict:!0,createInternalComparator:function(){return Wh}}),pf({circular:!0,createInternalComparator:function(){return Wh}}),pf({circular:!0,createInternalComparator:function(){return Wh},strict:!0});function pf(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,i=e.createState,s=e.strict,o=void 0!==s&&s,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?tf:Yh,areDatesEqual:$h,areErrorsEqual:Jh,areFunctionsEqual:Xh,areMapsEqual:n?qh(Zh,tf):Zh,areNumbersEqual:Qh,areObjectsEqual:n?tf:ef,arePrimitiveWrappersEqual:rf,areRegExpsEqual:nf,areSetsEqual:n?qh(af,tf):af,areTypedArraysEqual:n?tf:sf,areUrlsEqual:of};if(r&&(a=uf({},a,r(a))),t){var i=zh(a.areArraysEqual),s=zh(a.areMapsEqual),o=zh(a.areObjectsEqual),l=zh(a.areSetsEqual);a=uf({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?s(e,f,p):"function"===m&&a(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return o(e,f,p);if(cf(e))return t(e,f,p);if(null!=df&&df(e))return u(e,f,p);if(g===Date)return r(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return i(e,f,p);if(g===Set)return d(e,f,p);var x=hf(e);return"[object Date]"===x?r(e,f,p):"[object RegExp]"===x?c(e,f,p):"[object Map]"===x?i(e,f,p):"[object Set]"===x?d(e,f,p):"[object Object]"===x?"function"!==typeof e.then&&"function"!==typeof f.then&&o(e,f,p):"[object URL]"===x?h(e,f,p):"[object Error]"===x?n(e,f,p):"[object Arguments]"===x?o(e,f,p):("[object Boolean]"===x||"[object Number]"===x||"[object String]"===x)&&l(e,f,p)}}(l),d=a?a(c):(t=c,function(e,r,n,a,i,s,o){return t(e,r,o)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,s){var o=n(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return r(e,s,{cache:c,equals:a,meta:d,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,s)}}({circular:n,comparator:c,createState:i,equals:d,strict:o})}function mf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function gf(e){return gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(e)}function xf(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return yf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bf(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=xf(n),i=a[0],s=a.slice(1);return"number"===typeof i?void mf(r.bind(null,s),i):(r(i),void mf(r.bind(null,s)))}"object"===gf(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}function wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(r),!0).forEach(function(t){kf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kf(e,t,r){return t=function(e){var t=function(e,t){if("object"!==vf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==vf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vf(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nf=function(e){return e},_f=function(e,t){return Object.keys(t).reduce(function(r,n){return jf(jf({},r),{},kf({},n,e(n,t[n])))},{})},Sf=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function Af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||Ef(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Of(e){return function(e){if(Array.isArray(e))return Cf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ef(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ef(e,t){if(e){if("string"===typeof e)return Cf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cf(e,t):void 0}}function Cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pf=1e-4,Tf=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Mf=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},Lf=function(e,t){return function(r){var n=Tf(e,t);return Mf(n,r)}},Df=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],s=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,s=1;break;case"ease":n=.25,a=.1,i=.25,s=1;break;case"ease-in":n=.42,a=0,i=1,s=1;break;case"ease-out":n=.42,a=0,i=.58,s=1;break;case"ease-in-out":n=0,a=0,i=.58,s=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=Af(o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);n=l[0],a=l[1],i=l[2],s=l[3]}}[n,i,a,s].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var c,d,u=Lf(n,i),h=Lf(a,s),f=(c=n,d=i,function(e){var t=Tf(c,d),r=[].concat(Of(t.map(function(e,t){return e*t}).slice(1)),[0]);return Mf(r,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=u(r)-t,i=f(r);if(Math.abs(a-t)<Pf||i<Pf)return h(r);r=p(r-a/i)}return h(r)};return m.isStepper=!1,m},Rf=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Df(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,s=void 0===i?17:i,o=function(e,t,n){var i=n+(-(e-t)*r-n*a)*s/1e3,o=n*s/1e3+e;return Math.abs(o-t)<Pf&&Math.abs(i)<Pf?[t,0]:[o,i]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===n.split("(")[0])return Df(n)}return"function"===typeof n?n:null};function If(e){return If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(e)}function Ff(e){return function(e){if(Array.isArray(e))return Vf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(r),!0).forEach(function(t){qf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qf(e,t,r){return t=function(e){var t=function(e,t){if("object"!==If(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==If(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===If(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||Hf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hf(e,t){if(e){if("string"===typeof e)return Vf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vf(e,t):void 0}}function Vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wf=function(e,t,r){return e+(t-e)*r},Kf=function(e){return e.from!==e.to},Gf=function e(t,r,n){var a=_f(function(e,r){if(Kf(r)){var n=zf(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return Uf(Uf({},r),{},{from:a,velocity:i})}return r},r);return n<1?_f(function(e,t){return Kf(t)?Uf(Uf({},t),{},{velocity:Wf(t.velocity,a[e].velocity,n),from:Wf(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const Yf=function(e,t,r,n,a){var i,s,o,l,c=(i=e,s=t,[Object.keys(i),Object.keys(s)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(r,n){return Uf(Uf({},r),{},qf({},n,[e[n],t[n]]))},{}),u=c.reduce(function(r,n){return Uf(Uf({},r),{},qf({},n,{from:e[n],velocity:0,to:t[n]}))},{}),h=-1,f=function(){return null};return f=r.isStepper?function(n){o||(o=n);var i=(n-o)/r.dt;u=Gf(r,u,i),a(Uf(Uf(Uf({},e),t),_f(function(e,t){return t.from},u))),o=n,Object.values(u).filter(Kf).length&&(h=requestAnimationFrame(f))}:function(i){l||(l=i);var s=(i-l)/n,o=_f(function(e,t){return Wf.apply(void 0,Ff(t).concat([r(s)]))},d);if(a(Uf(Uf(Uf({},e),t),o)),s<1)h=requestAnimationFrame(f);else{var c=_f(function(e,t){return Wf.apply(void 0,Ff(t).concat([r(1)]))},d);a(Uf(Uf(Uf({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function $f(e){return $f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(e)}var Jf=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xf(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zf(e){return function(e){if(Array.isArray(e))return Qf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Qf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(t){rp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rp(e,t,r){return(t=ap(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function np(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ap(n.key),n)}}function ap(e){var t=function(e,t){if("object"!==$f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$f(t)?t:String(t)}function ip(e,t){return ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ip(e,t)}function sp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(rC){return!1}}();return function(){var r,n=cp(e);if(t){var a=cp(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return op(this,r)}}function op(e,t){if(t&&("object"===$f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lp(e)}function lp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cp(e)}var dp=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ip(e,t)}(s,e);var t,r,n,a=sp(s);function s(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(r=a.call(this,e,t)).props,i=n.isActive,o=n.attributeName,l=n.from,c=n.to,d=n.steps,u=n.children,h=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(lp(r)),r.changeStyle=r.changeStyle.bind(lp(r)),!i||h<=0)return r.state={style:{}},"function"===typeof u&&(r.state={style:c}),op(r);if(d&&d.length)r.state={style:d[0].style};else if(l){if("function"===typeof u)return r.state={style:l},op(r);r.state={style:o?rp({},o,l):l}}else r.state={style:{}};return r}return t=s,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(n)if(r){if(!(ff(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||i?o:e.to;if(this.state&&l){var u={style:a?rp({},a,d):d};(a&&l[a]!==d||!a&&l!==d)&&this.setState(u)}this.runAnimation(tp(tp({},this.props),{},{from:d,begin:0}))}}else{var h={style:a?rp({},a,s):s};this.state&&l&&(a&&l[a]!==s||!a&&l!==s)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=Yf(r,n,Rf(i),a,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],s=i.style,o=i.duration,l=void 0===o?0:o;return this.manager.start([a].concat(Zf(r.reduce(function(e,n,a){if(0===a)return e;var i=n.duration,s=n.easing,o=void 0===s?"ease":s,l=n.style,c=n.properties,d=n.onAnimationEnd,u=a>0?r[a-1]:n,h=c||Object.keys(l);if("function"===typeof o||"spring"===o)return[].concat(Zf(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:i,easing:o}),i]);var f=Sf(h,i,o),p=tp(tp(tp({},u.style),l),{},{transition:f});return[].concat(Zf(e),[p,i,d]).filter(Nf)},[s,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=bf());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var u=n?rp({},n,a):a,h=Sf(Object.keys(u),r,i);d.start([s,t,tp(tp({},u),{},{transition:h}),r,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),n=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Xf(e,Jf)),s=i.Children.count(t),o=this.state.style;if("function"===typeof t)return t(o);if(!n||0===s||r<=0)return t;var l=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,s=t.className;return(0,i.cloneElement)(e,tp(tp({},a),{},{style:tp(tp({},n),o),className:s}))};return 1===s?l(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,function(e){return l(e)}))}}],r&&np(t.prototype,r),n&&np(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.PureComponent);dp.displayName="Animate",dp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},dp.propTypes={from:Ih().oneOfType([Ih().object,Ih().string]),to:Ih().oneOfType([Ih().object,Ih().string]),attributeName:Ih().string,duration:Ih().number,begin:Ih().number,easing:Ih().oneOfType([Ih().string,Ih().func]),steps:Ih().arrayOf(Ih().shape({duration:Ih().number.isRequired,style:Ih().object.isRequired,easing:Ih().oneOfType([Ih().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ih().func]),properties:Ih().arrayOf("string"),onAnimationEnd:Ih().func})),children:Ih().oneOfType([Ih().node,Ih().func]),isActive:Ih().bool,canBegin:Ih().bool,onAnimationEnd:Ih().func,shouldReAnimate:Ih().bool,onAnimationStart:Ih().func,onAnimationReStart:Ih().func};const up=dp;function hp(e){return hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(e)}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}function pp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return mp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gp(Object(r),!0).forEach(function(t){yp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yp(e,t,r){return t=function(e){var t=function(e,t){if("object"!=hp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bp=function(e,t,r,n,a){var i,s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>s?s:a[u];i="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(i+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),i+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(i+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),i+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(i+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),i+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(i+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*d[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);i="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},vp=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(a,a+s),c=Math.max(a,a+s),d=Math.min(i,i+o),u=Math.max(i,i+o);return r>=l&&r<=c&&n>=d&&n<=u}return!1},wp={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jp=function(e){var t=xp(xp({},wp),e),r=(0,i.useRef)(),n=pp((0,i.useState)(-1),2),a=n[0],s=n[1];(0,i.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(nC){}},[]);var o=t.x,l=t.y,c=t.width,d=t.height,u=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,x=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var y=Yl("recharts-rectangle",h);return x?i.createElement(up,{canBegin:a>0,from:{width:c,height:d,x:o,y:l},to:{width:c,height:d,x:o,y:l},duration:p,animationEasing:f,isActive:x},function(e){var n=e.width,s=e.height,o=e.x,l=e.y;return i.createElement(up,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},i.createElement("path",fp({},Kc(t,!0),{className:y,d:bp(o,l,n,s,u),ref:r})))}):i.createElement("path",fp({},Kc(t,!0),{className:y,d:bp(o,l,c,d,u)}))};function kp(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Np(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class _p extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ep;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Sp(this,e))}has(e){return super.has(Sp(this,e))}set(e,t){return super.set(Ap(this,e),t)}delete(e){return super.delete(Op(this,e))}}Set;function Sp(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function Ap(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function Op(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function Ep(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Cp=Symbol("implicit");function Pp(){var e=new _p,t=[],r=[],n=Cp;function a(a){let i=e.get(a);if(void 0===i){if(n!==Cp)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new _p;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Pp(t,r).unknown(n)},kp.apply(a,arguments),a}function Tp(){var e,t,r=Pp().unknown(void 0),n=r.domain,a=r.range,i=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=s<i,h=u?s:i,f=u?i:s;e=(f-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return h+e*t});return a(u?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,u()):[i,s]},r.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return Tp(n(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},kp.apply(u(),arguments)}function Mp(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Mp(t())},e}function Lp(){return Mp(Tp.apply(null,arguments).paddingInner(1))}function Dp(e){return Dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(e)}function Rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ip(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(r),!0).forEach(function(t){Fp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fp(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Dp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Dp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bp={widthCache:{},cacheCount:0},Up={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qp="recharts_measurement_span";var zp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Hd.isSsr)return{width:0,height:0};var r=function(e){var t=Ip({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(Bp.widthCache[n])return Bp.widthCache[n];try{var a=document.getElementById(qp);a||((a=document.createElement("span")).setAttribute("id",qp),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=Ip(Ip({},Up),r);Object.assign(a.style,i),a.textContent="".concat(e);var s=a.getBoundingClientRect(),o={width:s.width,height:s.height};return Bp.widthCache[n]=o,++Bp.cacheCount>2e3&&(Bp.cacheCount=0,Bp.widthCache={}),o}catch(rC){return{width:0,height:0}}};function Hp(e){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(e)}function Vp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Wp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gp(n.key),n)}}function Gp(e){var t=function(e,t){if("object"!=Hp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hp(t)?t:t+""}var Yp=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$p=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jp=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xp=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zp={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Qp=Object.keys(Zp),em="NaN";var tm=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||Jp.test(r)||(this.num=NaN,this.unit=""),Qp.includes(r)&&(this.num=function(e,t){return e*Zp[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Vp(null!==(r=Xp.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Kp(t.prototype,r),n&&Kp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function rm(e){if(e.includes(em))return em;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Vp(null!==(r=Yp.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],s=n[3],o=tm.parse(null!==a&&void 0!==a?a:""),l=tm.parse(null!==s&&void 0!==s?s:""),c="*"===i?o.multiply(l):o.divide(l);if(c.isNaN())return em;t=t.replace(Yp,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=Vp(null!==(d=$p.exec(t))&&void 0!==d?d:[],4),h=u[1],f=u[2],p=u[3],m=tm.parse(null!==h&&void 0!==h?h:""),g=tm.parse(null!==p&&void 0!==p?p:""),x="+"===f?m.add(g):m.subtract(g);if(x.isNaN())return em;t=t.replace($p,x.toString())}return t}var nm=/\(([^()]*)\)/;function am(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Vp(nm.exec(t),2)[1];t=t.replace(nm,rm(r))}return t}(t),t=rm(t)}function im(e){var t=function(e){try{return am(e)}catch(rC){return em}}(e.slice(5,-1));return t===em?"":t}var sm=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],om=["dx","dy","angle","className","breakAll"];function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(this,arguments)}function cm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return um(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function um(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hm=/[ \f\n\r\t\v\u2028\u2029]+/,fm=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return sc()(t)||(a=r?t.toString().split(""):t.toString().split(hm)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:zp(e,n).width}}),spaceWidth:r?0:zp("\xa0",n).width}}catch(rC){return null}},pm=function(e){return[{words:sc()(e)?[]:e.toString().split(hm)}]},mm=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,s=e.maxLines;if((t||r)&&!Hd.isSsr){var o=fm({breakAll:i,children:n,style:a});return o?function(e,t,r,n,a){var i=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=cc(i),d=s,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,s=t.width,o=e[e.length-1];if(o&&(null==n||a||o.width+s+r<Number(n)))o.words.push(i),o.width+=s+r;else{var l={words:[i],width:s};e.push(l)}return e},[])},h=u(t);if(!c)return h;for(var f,p=function(e){var t=d.slice(0,e),r=fm({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=u(r),s=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[s,a]},m=0,g=d.length-1,x=0;m<=g&&x<=d.length-1;){var y=Math.floor((m+g)/2),b=dm(p(y-1),2),v=b[0],w=b[1],j=dm(p(y),1)[0];if(v||j||(m=y+1),v&&j&&(g=y-1),!v&&j){f=w;break}x++}return f||h}({breakAll:i,children:n,maxLines:s,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,r):pm(n)}return pm(n)},gm="#808080",xm=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,s=e.lineHeight,o=void 0===s?"1em":s,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,x=void 0===g?gm:g,y=cm(e,sm),b=(0,i.useMemo)(function(){return mm({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),v=y.dx,w=y.dy,j=y.angle,k=y.className,N=y.breakAll,_=cm(y,om);if(!dc(r)||!dc(a))return null;var S,A=r+(cc(v)?v:0),O=a+(cc(w)?w:0);switch(m){case"start":S=im("calc(".concat(c,")"));break;case"middle":S=im("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:S=im("calc(".concat(b.length-1," * -").concat(o,")"))}var E=[];if(u){var C=b[0].width,P=y.width;E.push("scale(".concat((cc(P)?P/C:1)/C,")"))}return j&&E.push("rotate(".concat(j,", ").concat(A,", ").concat(O,")")),E.length&&(_.transform=E.join(" ")),i.createElement("text",lm({},Kc(_,!0),{x:A,y:O,className:Yl("recharts-text",k),textAnchor:f,fill:x.includes("url")?gm:x}),b.map(function(e,t){var r=e.words.join(N?"":" ");return i.createElement("tspan",{x:A,dy:0===t?S:o,key:"".concat(r,"-").concat(t)},r)}))};const ym=Math.sqrt(50),bm=Math.sqrt(10),vm=Math.sqrt(2);function wm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=ym?10:i>=bm?5:i>=vm?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?wm(e,t,2*r):[o,l,c]}function jm(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,s]=n?wm(t,e,r):wm(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function km(e,t,r){return wm(e=+e,t=+t,r=+r)[2]}function Nm(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?km(t,e,r):km(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function _m(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sm(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Am(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=_m,r=(t,r)=>_m(e(t),r),n=(t,r)=>e(t)-r):(t=e===_m||e===Sm?e:Om,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function Om(){return 0}function Em(e){return null===e?NaN:+e}const Cm=Am(_m),Pm=Cm.right,Tm=(Cm.left,Am(Em).center,Pm);function Mm(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Lm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dm(){}var Rm=.7,Im=1/Rm,Fm="\\s*([+-]?\\d+)\\s*",Bm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qm=/^#([0-9a-f]{3,8})$/,zm=new RegExp("^rgb\\(".concat(Fm,",").concat(Fm,",").concat(Fm,"\\)$")),Hm=new RegExp("^rgb\\(".concat(Um,",").concat(Um,",").concat(Um,"\\)$")),Vm=new RegExp("^rgba\\(".concat(Fm,",").concat(Fm,",").concat(Fm,",").concat(Bm,"\\)$")),Wm=new RegExp("^rgba\\(".concat(Um,",").concat(Um,",").concat(Um,",").concat(Bm,"\\)$")),Km=new RegExp("^hsl\\(".concat(Bm,",").concat(Um,",").concat(Um,"\\)$")),Gm=new RegExp("^hsla\\(".concat(Bm,",").concat(Um,",").concat(Um,",").concat(Bm,"\\)$")),Ym={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $m(){return this.rgb().formatHex()}function Jm(){return this.rgb().formatRgb()}function Xm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qm.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Zm(t):3===r?new tg(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Qm(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Qm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=zm.exec(e))?new tg(t[1],t[2],t[3],1):(t=Hm.exec(e))?new tg(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Vm.exec(e))?Qm(t[1],t[2],t[3],t[4]):(t=Wm.exec(e))?Qm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Km.exec(e))?og(t[1],t[2]/100,t[3]/100,1):(t=Gm.exec(e))?og(t[1],t[2]/100,t[3]/100,t[4]):Ym.hasOwnProperty(e)?Zm(Ym[e]):"transparent"===e?new tg(NaN,NaN,NaN,0):null}function Zm(e){return new tg(e>>16&255,e>>8&255,255&e,1)}function Qm(e,t,r,n){return n<=0&&(e=t=r=NaN),new tg(e,t,r,n)}function eg(e,t,r,n){return 1===arguments.length?((a=e)instanceof Dm||(a=Xm(a)),a?new tg((a=a.rgb()).r,a.g,a.b,a.opacity):new tg):new tg(e,t,r,null==n?1:n);var a}function tg(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function rg(){return"#".concat(sg(this.r)).concat(sg(this.g)).concat(sg(this.b))}function ng(){const e=ag(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ig(this.r),", ").concat(ig(this.g),", ").concat(ig(this.b)).concat(1===e?")":", ".concat(e,")"))}function ag(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ig(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sg(e){return((e=ig(e))<16?"0":"")+e.toString(16)}function og(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cg(e,t,r,n)}function lg(e){if(e instanceof cg)return new cg(e.h,e.s,e.l,e.opacity);if(e instanceof Dm||(e=Xm(e)),!e)return new cg;if(e instanceof cg)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(r-n)/o+6*(r<n):r===i?(n-t)/o+2:(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new cg(s,o,l,e.opacity)}function cg(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function dg(e){return(e=(e||0)%360)<0?e+360:e}function ug(e){return Math.max(0,Math.min(1,e||0))}function hg(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function fg(e,t,r,n,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*r+(1+3*e+3*i-3*s)*n+s*a)/6}Mm(Dm,Xm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$m,formatHex:$m,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return lg(this).formatHsl()},formatRgb:Jm,toString:Jm}),Mm(tg,eg,Lm(Dm,{brighter(e){return e=null==e?Im:Math.pow(Im,e),new tg(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Rm:Math.pow(Rm,e),new tg(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tg(ig(this.r),ig(this.g),ig(this.b),ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rg,formatHex:rg,formatHex8:function(){return"#".concat(sg(this.r)).concat(sg(this.g)).concat(sg(this.b)).concat(sg(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ng,toString:ng})),Mm(cg,function(e,t,r,n){return 1===arguments.length?lg(e):new cg(e,t,r,null==n?1:n)},Lm(Dm,{brighter(e){return e=null==e?Im:Math.pow(Im,e),new cg(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Rm:Math.pow(Rm,e),new cg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new tg(hg(e>=240?e-240:e+120,a,n),hg(e,a,n),hg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new cg(dg(this.h),ug(this.s),ug(this.l),ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ag(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(dg(this.h),", ").concat(100*ug(this.s),"%, ").concat(100*ug(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const pg=e=>()=>e;function mg(e,t){return function(r){return e+r*t}}function gg(e){return 1===(e=+e)?xg:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):pg(isNaN(t)?r:t)}}function xg(e,t){var r=t-e;return r?mg(e,r):pg(isNaN(e)?t:e)}const yg=function e(t){var r=gg(t);function n(e,t){var n=r((e=eg(e)).r,(t=eg(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),s=xg(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function bg(e){return function(t){var r,n,a=t.length,i=new Array(a),s=new Array(a),o=new Array(a);for(r=0;r<a;++r)n=eg(t[r]),i[r]=n.r||0,s[r]=n.g||0,o[r]=n.b||0;return i=e(i),s=e(s),o=e(o),n.opacity=1,function(e){return n.r=i(e),n.g=s(e),n.b=o(e),n+""}}}bg(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],s=n>0?e[n-1]:2*a-i,o=n<t-1?e[n+2]:2*i-a;return fg((r-n/t)*t,s,a,i,o)}}),bg(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],s=e[(n+1)%t],o=e[(n+2)%t];return fg((r-n/t)*t,a,i,s,o)}});function vg(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),s=new Array(n);for(r=0;r<a;++r)i[r]=Og(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(e){for(r=0;r<a;++r)s[r]=i[r](e);return s}}function wg(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kg(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=Og(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var Ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_g=new RegExp(Ng.source,"g");function Sg(e,t){var r,n,a,i=Ng.lastIndex=_g.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(r=Ng.exec(e))&&(n=_g.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:jg(r,n)})),i=_g.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function Ag(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function Og(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?pg(t):("number"===a?jg:"string"===a?(r=Xm(t))?(t=r,yg):Sg:t instanceof Xm?yg:t instanceof Date?wg:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?vg:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?kg:jg:Ag))(e,t)}function Eg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Cg(e){return+e}var Pg=[0,1];function Tg(e){return e}function Mg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Lg(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Mg(a,n),i=r(s,i)):(n=Mg(n,a),i=r(i,s)),function(e){return i(n(e))}}function Dg(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Mg(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(t){var r=Tm(e,t,1,n)-1;return i[r](a[r](t))}}function Rg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ig(){var e,t,r,n,a,i,s=Pg,o=Pg,l=Og,c=Tg;function d(){var e=Math.min(s.length,o.length);return c!==Tg&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(s[0],s[e-1])),n=e>2?Dg:Lg,a=i=null,u}function u(t){return null==t||isNaN(t=+t)?r:(a||(a=n(s.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((i||(i=n(o,s.map(e),jg)))(r)))},u.domain=function(e){return arguments.length?(s=Array.from(e,Cg),d()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=Eg,d()},u.clamp=function(e){return arguments.length?(c=!!e||Tg,d()):c!==Tg},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function Fg(){return Ig()(Tg,Tg)}var Bg,Ug=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qg(e){if(!(t=Ug.exec(e)))throw new Error("invalid format: "+e);var t;return new zg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function zg(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Hg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vg(e){return(e=Hg(Math.abs(e)))?e[1]:NaN}function Wg(e,t){var r=Hg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}qg.prototype=zg.prototype,zg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Kg={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Wg(100*e,t),r:Wg,s:function(e,t){var r=Hg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Bg=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Hg(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gg(e){return e}var Yg,$g,Jg,Xg=Array.prototype.map,Zg=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Qg(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Gg:(t=Xg.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Gg:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Xg.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=qg(e)).fill,r=e.align,u=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,x=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Kg[y]||(void 0===g&&(g=12),x=!0,y="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var b="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===h?i:/[%p]/.test(y)?l:"",w=Kg[y],j=/[defgprs%]/.test(y);function k(e){var a,i,l,h=b,k=v;if("c"===y)k=w(e)+k,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),x&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==u&&(N=!1),h=(N?"("===u?u:c:"-"===u||"("===u?"":u)+h,k=("s"===y?Zg[8+Bg/3]:"")+k+(N&&"("===u?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){k=(46===l?s+e.slice(a+1):e.slice(a))+k,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var _=h.length+e.length+k.length,S=_<p?new Array(p-_+1).join(t):"";switch(m&&f&&(e=n(S+e,S.length?p-k.length:1/0),S=""),r){case"<":e=h+e+k+S;break;case"=":e=h+S+e+k;break;case"^":e=S.slice(0,_=S.length>>1)+h+e+k+S.slice(_);break;default:e=S+h+e+k}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:u,formatPrefix:function(e,t){var r=u(((e=qg(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Vg(t)/3))),a=Math.pow(10,-n),i=Zg[8+n/3];return function(e){return r(a*e)+i}}}}function ex(e,t,r,n){var a,i=Nm(e,t,r);switch((n=qg(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Vg(t)/3)))-Vg(Math.abs(e)))}(i,s))||(n.precision=a),Jg(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vg(t)-Vg(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Vg(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return $g(n)}function tx(e){var t=e.domain;return e.ticks=function(e){var r=t();return jm(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return ex(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],d=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);d-- >0;){if((a=km(l,c,r))===n)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function rx(){var e=Fg();return e.copy=function(){return Rg(e,rx())},kp.apply(e,arguments),tx(e)}function nx(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Cg),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return nx(e).unknown(t)},e=arguments.length?Array.from(e,Cg):[0,1],tx(r)}function ax(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],s=e[a];return s<i&&(r=n,n=a,a=r,r=i,i=s,s=r),e[n]=t.floor(i),e[a]=t.ceil(s),e}function ix(e){return Math.log(e)}function sx(e){return Math.exp(e)}function ox(e){return-Math.log(-e)}function lx(e){return-Math.exp(-e)}function cx(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dx(e){return(t,r)=>-e(-t,r)}function ux(e){const t=e(ix,sx),r=t.domain;let n,a,i=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?cx:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=dx(n),a=dx(a),e(ox,lx)):e(ix,sx),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(r(e),s()):r()},t.ticks=e=>{const t=r();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,d,u=n(s),h=n(o);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-u<f){if(u=Math.floor(u),h=Math.ceil(h),s>0){for(;u<=h;++u)for(c=1;c<i;++c)if(d=u<0?c/a(-u):c*a(u),!(d<s)){if(d>o)break;p.push(d)}}else for(;u<=h;++u)for(c=i-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<s)){if(d>o)break;p.push(d)}2*p.length<f&&(p=jm(s,o,f))}else p=jm(u,h,Math.min(h-u,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=qg(r)).precision||(r.trim=!0),r=$g(r)),e===1/0)return r;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=s?r(e):""}},t.nice=()=>r(ax(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function hx(){const e=ux(Ig()).domain([1,10]);return e.copy=()=>Rg(e,hx()).base(e.base()),kp.apply(e,arguments),e}function fx(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function px(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mx(e){var t=1,r=e(fx(t),px(t));return r.constant=function(r){return arguments.length?e(fx(t=+r),px(t)):t},tx(r)}function gx(){var e=mx(Ig());return e.copy=function(){return Rg(e,gx()).constant(e.constant())},kp.apply(e,arguments)}function xx(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yx(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bx(e){return e<0?-e*e:e*e}function vx(e){var t=e(Tg,Tg),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Tg,Tg):.5===r?e(yx,bx):e(xx(r),xx(1/r)):r},tx(t)}function wx(){var e=vx(Ig());return e.copy=function(){return Rg(e,wx()).exponent(e.exponent())},kp.apply(e,arguments),e}function jx(){return wx.apply(null,arguments).exponent(.5)}function kx(e){return Math.sign(e)*e*e}function Nx(){var e,t=Fg(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(kx(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,Cg)).map(kx)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Nx(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},kp.apply(a,arguments),tx(a)}function _x(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function Sx(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function Ax(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_m;if(e===_m)return Ox;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function Ox(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Ex(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?Ox:Ax(a);n>r;){if(n-r>600){const i=n-r+1,s=t-r+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);Ex(e,t,Math.max(r,Math.floor(t-s*l/i+c)),Math.min(n,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=r,o=n;for(Cx(e,r,t),a(e[n],i)>0&&Cx(e,r,n);s<o;){for(Cx(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[r],i)?Cx(e,r,o):(++o,Cx(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Cx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Px(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return Sx(e);if(t>=1)return _x(e);var n,a=(n-1)*t,i=Math.floor(a),s=_x(Ex(e,i).subarray(0,i+1));return s+(Sx(e.subarray(i+1))-s)*(a-i)}}function Tx(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e);return s+(+r(e[i+1],i+1,e)-s)*(a-i)}}function Mx(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=Tx(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[Tm(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(_m),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return Mx().domain(t).range(r).unknown(e)},kp.apply(i,arguments)}function Lx(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[Tm(a,t,0,n)]:e}function o(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return s}return s.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},s.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,o()):i.slice()},s.invertExtent=function(e){var s=i.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,a[0]]:s>=n?[a[n-1],r]:[a[s-1],a[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return Lx().domain([t,r]).range(i).unknown(e)},kp.apply(tx(s),arguments)}function Dx(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[Tm(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Dx().domain(t).range(r).unknown(e)},kp.apply(a,arguments)}Yg=Qg({thousands:",",grouping:[3],currency:["$",""]}),$g=Yg.format,Jg=Yg.formatPrefix;const Rx=1e3,Ix=6e4,Fx=36e5,Bx=864e5,Ux=6048e5,qx=2592e6,zx=31536e6,Hx=new Date,Vx=new Date;function Wx(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const s=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return s;let o;do{s.push(o=new Date(+r)),t(r,i),e(r)}while(o<r&&r<n);return s},a.filter=r=>Wx(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(Hx.setTime(+t),Vx.setTime(+n),e(Hx),e(Vx),Math.floor(r(Hx,Vx))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Kx=Wx(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kx.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Wx(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kx:null);Kx.range;const Gx=Wx(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rx)},(e,t)=>(t-e)/Rx,e=>e.getUTCSeconds()),Yx=(Gx.range,Wx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rx)},(e,t)=>{e.setTime(+e+t*Ix)},(e,t)=>(t-e)/Ix,e=>e.getMinutes())),$x=(Yx.range,Wx(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ix)},(e,t)=>(t-e)/Ix,e=>e.getUTCMinutes())),Jx=($x.range,Wx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rx-e.getMinutes()*Ix)},(e,t)=>{e.setTime(+e+t*Fx)},(e,t)=>(t-e)/Fx,e=>e.getHours())),Xx=(Jx.range,Wx(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fx)},(e,t)=>(t-e)/Fx,e=>e.getUTCHours())),Zx=(Xx.range,Wx(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ix)/Bx,e=>e.getDate()-1)),Qx=(Zx.range,Wx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bx,e=>e.getUTCDate()-1)),ey=(Qx.range,Wx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bx,e=>Math.floor(e/Bx)));ey.range;function ty(e){return Wx(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ix)/Ux)}const ry=ty(0),ny=ty(1),ay=ty(2),iy=ty(3),sy=ty(4),oy=ty(5),ly=ty(6);ry.range,ny.range,ay.range,iy.range,sy.range,oy.range,ly.range;function cy(e){return Wx(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Ux)}const dy=cy(0),uy=cy(1),hy=cy(2),fy=cy(3),py=cy(4),my=cy(5),gy=cy(6),xy=(dy.range,uy.range,hy.range,fy.range,py.range,my.range,gy.range,Wx(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),yy=(xy.range,Wx(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),by=(yy.range,Wx(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));by.every=e=>isFinite(e=Math.floor(e))&&e>0?Wx(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;by.range;const vy=Wx(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vy.every=e=>isFinite(e=Math.floor(e))&&e>0?Wx(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;vy.range;function wy(e,t,r,n,a,i){const s=[[Gx,1,Rx],[Gx,5,5e3],[Gx,15,15e3],[Gx,30,3e4],[i,1,Ix],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,Fx],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Bx],[n,2,1728e5],[r,1,Ux],[t,1,qx],[t,3,7776e6],[e,1,zx]];function o(t,r,n){const a=Math.abs(r-t)/n,i=Am(e=>{let[,,t]=e;return t}).right(s,a);if(i===s.length)return e.every(Nm(t/zx,r/zx,n));if(0===i)return Kx.every(Math.max(Nm(t,r,n),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:o(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},o]}const[jy,ky]=wy(vy,yy,dy,ey,Xx,$x),[Ny,_y]=wy(by,xy,ry,Zx,Jx,Yx);function Sy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ay(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Oy(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Ey,Cy,Py,Ty={"-":"",_:" ",0:"0"},My=/^\s*\d+/,Ly=/^%/,Dy=/[\\^$*+?|[\]().{}]/g;function Ry(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Iy(e){return e.replace(Dy,"\\$&")}function Fy(e){return new RegExp("^(?:"+e.map(Iy).join("|")+")","i")}function By(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Uy(e,t,r){var n=My.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qy(e,t,r){var n=My.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Hy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Vy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Wy(e,t,r){var n=My.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ky(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gy(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Yy(e,t,r){var n=My.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function $y(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Jy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Xy(e,t,r){var n=My.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Zy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Qy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function eb(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tb(e,t,r){var n=My.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rb(e,t,r){var n=My.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nb(e,t,r){var n=Ly.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ab(e,t,r){var n=My.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ib(e,t,r){var n=My.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sb(e,t){return Ry(e.getDate(),t,2)}function ob(e,t){return Ry(e.getHours(),t,2)}function lb(e,t){return Ry(e.getHours()%12||12,t,2)}function cb(e,t){return Ry(1+Zx.count(by(e),e),t,3)}function db(e,t){return Ry(e.getMilliseconds(),t,3)}function ub(e,t){return db(e,t)+"000"}function hb(e,t){return Ry(e.getMonth()+1,t,2)}function fb(e,t){return Ry(e.getMinutes(),t,2)}function pb(e,t){return Ry(e.getSeconds(),t,2)}function mb(e){var t=e.getDay();return 0===t?7:t}function gb(e,t){return Ry(ry.count(by(e)-1,e),t,2)}function xb(e){var t=e.getDay();return t>=4||0===t?sy(e):sy.ceil(e)}function yb(e,t){return e=xb(e),Ry(sy.count(by(e),e)+(4===by(e).getDay()),t,2)}function bb(e){return e.getDay()}function vb(e,t){return Ry(ny.count(by(e)-1,e),t,2)}function wb(e,t){return Ry(e.getFullYear()%100,t,2)}function jb(e,t){return Ry((e=xb(e)).getFullYear()%100,t,2)}function kb(e,t){return Ry(e.getFullYear()%1e4,t,4)}function Nb(e,t){var r=e.getDay();return Ry((e=r>=4||0===r?sy(e):sy.ceil(e)).getFullYear()%1e4,t,4)}function _b(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ry(t/60|0,"0",2)+Ry(t%60,"0",2)}function Sb(e,t){return Ry(e.getUTCDate(),t,2)}function Ab(e,t){return Ry(e.getUTCHours(),t,2)}function Ob(e,t){return Ry(e.getUTCHours()%12||12,t,2)}function Eb(e,t){return Ry(1+Qx.count(vy(e),e),t,3)}function Cb(e,t){return Ry(e.getUTCMilliseconds(),t,3)}function Pb(e,t){return Cb(e,t)+"000"}function Tb(e,t){return Ry(e.getUTCMonth()+1,t,2)}function Mb(e,t){return Ry(e.getUTCMinutes(),t,2)}function Lb(e,t){return Ry(e.getUTCSeconds(),t,2)}function Db(e){var t=e.getUTCDay();return 0===t?7:t}function Rb(e,t){return Ry(dy.count(vy(e)-1,e),t,2)}function Ib(e){var t=e.getUTCDay();return t>=4||0===t?py(e):py.ceil(e)}function Fb(e,t){return e=Ib(e),Ry(py.count(vy(e),e)+(4===vy(e).getUTCDay()),t,2)}function Bb(e){return e.getUTCDay()}function Ub(e,t){return Ry(uy.count(vy(e)-1,e),t,2)}function qb(e,t){return Ry(e.getUTCFullYear()%100,t,2)}function zb(e,t){return Ry((e=Ib(e)).getUTCFullYear()%100,t,2)}function Hb(e,t){return Ry(e.getUTCFullYear()%1e4,t,4)}function Vb(e,t){var r=e.getUTCDay();return Ry((e=r>=4||0===r?py(e):py.ceil(e)).getUTCFullYear()%1e4,t,4)}function Wb(){return"+0000"}function Kb(){return"%"}function Gb(e){return+e}function Yb(e){return Math.floor(+e/1e3)}function $b(e){return new Date(e)}function Jb(e){return e instanceof Date?+e:+new Date(+e)}function Xb(e,t,r,n,a,i,s,o,l,c){var d=Fg(),u=d.invert,h=d.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),y=c("%b %d"),b=c("%B"),v=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?x:y:r(e)<e?b:v)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,Jb)):h().map($b)},d.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(ax(r,e)):d},d.copy=function(){return Rg(d,Xb(e,t,r,n,a,i,s,o,l,c))},d}function Zb(){return kp.apply(Xb(Ny,_y,by,xy,ry,Zx,Jx,Yx,Gx,Cy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qb(){return kp.apply(Xb(jy,ky,vy,yy,dy,Qx,Xx,$x,Gx,Py).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ev(){var e,t,r,n,a,i=0,s=1,o=Tg,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=n(i=+i),t=n(s=+s),r=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(Og),c.rangeRound=d(Eg),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(s),r=e===t?0:1/(t-e),c}}function tv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rv(){var e=tx(ev()(Tg));return e.copy=function(){return tv(e,rv())},Np.apply(e,arguments)}function nv(){var e=ux(ev()).domain([1,10]);return e.copy=function(){return tv(e,nv()).base(e.base())},Np.apply(e,arguments)}function av(){var e=mx(ev());return e.copy=function(){return tv(e,av()).constant(e.constant())},Np.apply(e,arguments)}function iv(){var e=vx(ev());return e.copy=function(){return tv(e,iv()).exponent(e.exponent())},Np.apply(e,arguments)}function sv(){return iv.apply(null,arguments).exponent(.5)}function ov(){var e=[],t=Tg;function r(r){if(null!=r&&!isNaN(r=+r))return t((Tm(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(_m),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>Px(e,n/t))},r.copy=function(){return ov(t).domain(e)},Np.apply(r,arguments)}function lv(){var e,t,r,n,a,i,s,o=0,l=.5,c=1,d=1,u=Tg,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(d*e<d*t?n:a),u(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,u=function(e,t){void 0===t&&(t=e,e=Og);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),f):[u(0),u(.5),u(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(u=e,f):u},f.range=p(Og),f.rangeRound=p(Eg),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return i=s,e=s(o),t=s(l),r=s(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,f}}function cv(){var e=tx(lv()(Tg));return e.copy=function(){return tv(e,cv())},Np.apply(e,arguments)}function dv(){var e=ux(lv()).domain([.1,1,10]);return e.copy=function(){return tv(e,dv()).base(e.base())},Np.apply(e,arguments)}function uv(){var e=mx(lv());return e.copy=function(){return tv(e,uv()).constant(e.constant())},Np.apply(e,arguments)}function hv(){var e=vx(lv());return e.copy=function(){return tv(e,hv()).exponent(e.exponent())},Np.apply(e,arguments)}function fv(){return hv.apply(null,arguments).exponent(.5)}function pv(e,t){if((a=e.length)>1)for(var r,n,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(n=s,s=e[t[i]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){Ey=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Fy(a),d=By(a),u=Fy(i),h=By(i),f=Fy(s),p=By(s),m=Fy(o),g=By(o),x=Fy(l),y=By(l),b={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:sb,e:sb,f:ub,g:jb,G:Nb,H:ob,I:lb,j:cb,L:db,m:hb,M:fb,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Gb,s:Yb,S:pb,u:mb,U:gb,V:yb,w:bb,W:vb,x:null,X:null,y:wb,Y:kb,Z:_b,"%":Kb},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:Sb,e:Sb,f:Pb,g:zb,G:Vb,H:Ab,I:Ob,j:Eb,L:Cb,m:Tb,M:Mb,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Gb,s:Yb,S:Lb,u:Db,U:Rb,V:Fb,w:Bb,W:Ub,x:null,X:null,y:qb,Y:Hb,Z:Wb,"%":Kb},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=x.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return N(e,t,r,n)},d:Jy,e:Jy,f:rb,g:Ky,G:Wy,H:Zy,I:Zy,j:Xy,L:tb,m:$y,M:Qy,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:Yy,Q:ab,s:ib,S:eb,u:qy,U:zy,V:Hy,w:Uy,W:Vy,x:function(e,t,n){return N(e,r,t,n)},X:function(e,t,r){return N(e,n,t,r)},y:Ky,Y:Wy,Z:Gy,"%":nb};function j(e,t){return function(r){var n,a,i,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=Ty[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function k(e,t){return function(r){var n,a,i=Oy(1900,void 0,1);if(N(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=Ay(Oy(i.y,0,1))).getUTCDay(),n=a>4||0===a?uy.ceil(n):uy(n),n=Qx.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=Sy(Oy(i.y,0,1))).getDay(),n=a>4||0===a?ny.ceil(n):ny(n),n=Zx.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Ay(Oy(i.y,0,1)).getUTCDay():Sy(Oy(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Ay(i)):Sy(i)}}function N(e,t,r,n){for(var a,i,s=0,o=t.length,l=r.length;s<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in Ty?t.charAt(s++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),v.x=j(r,v),v.X=j(n,v),v.c=j(t,v),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),Cy=Ey.format,Ey.parse,Py=Ey.utcFormat,Ey.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function mv(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function gv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xv(e,t){return e[t]}function yv(e){const t=[];return t.key=e,t}var bv=r(539),vv=r.n(bv),wv=r(6745),jv=r.n(wv),kv=r(3538),Nv=r.n(kv),_v=r(9853),Sv=r.n(_v),Av=r(8210),Ov=r.n(Av);function Ev(e){return function(e){if(Array.isArray(e))return Cv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Cv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pv=function(e){return e},Tv={"@@functional/placeholder":!0},Mv=function(e){return e===Tv},Lv=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Mv(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Dv=function e(t,r){return 1===t?r:Lv(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(e){return e!==Tv}).length;return s>=t?r.apply(void 0,a):e(t-s,Lv(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map(function(e){return Mv(e)?t.shift():e});return r.apply(void 0,Ev(i).concat(t))}))})},Rv=function(e){return Dv(e.length,e)},Iv=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Fv=Rv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Bv=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Pv;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},Uv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qv=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};var zv=Rv(function(e,t,r){var n=+e;return n+r*(+t-n)}),Hv=Rv(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),Vv=Rv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Wv={rangeStep:function(e,t,r){for(var n=new(Ov())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(Ov())(e).abs().log(10).toNumber())+1},interpolateNumber:zv,uninterpolateNumber:Hv,uninterpolateTruncation:Vv};function Kv(e){return function(e){if(Array.isArray(e))return $v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Yv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(nC){a=!0,i=nC}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return r}(e,t)||Yv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yv(e,t){if(e){if("string"===typeof e)return $v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$v(e,t):void 0}}function $v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jv(e){var t=Gv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Xv(e,t,r){if(e.lte(0))return new(Ov())(0);var n=Wv.getDigitCount(e.toNumber()),a=new(Ov())(10).pow(n),i=e.div(a),s=1!==n?.05:.1,o=new(Ov())(Math.ceil(i.div(s).toNumber())).add(r).mul(s).mul(a);return t?o:new(Ov())(Math.ceil(o))}function Zv(e,t,r){var n=1,a=new(Ov())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(Ov())(10).pow(Wv.getDigitCount(e)-1),a=new(Ov())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(Ov())(Math.floor(e)))}else 0===e?a=new(Ov())(Math.floor((t-1)/2)):r||(a=new(Ov())(Math.floor(e)));var s=Math.floor((t-1)/2);return Bv(Fv(function(e){return a.add(new(Ov())(e-s).mul(n)).toNumber()}),Iv)(0,t)}function Qv(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(Ov())(0),tickMin:new(Ov())(0),tickMax:new(Ov())(0)};var i,s=Xv(new(Ov())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(Ov())(0):(i=new(Ov())(e).add(t).div(2)).sub(new(Ov())(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new(Ov())(t).sub(i).div(s).toNumber()),c=o+l+1;return c>r?Qv(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:s,tickMin:i.sub(new(Ov())(o).mul(s)),tickMax:i.add(new(Ov())(l).mul(s))})}var ew=qv(function(e){var t=Gv(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=Gv(Jv([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(Kv(Iv(0,a-1).map(function(){return 1/0}))):[].concat(Kv(Iv(0,a-1).map(function(){return-1/0})),[c]);return r>n?Uv(d):d}if(l===c)return Zv(l,a,i);var u=Qv(l,c,s,i),h=u.step,f=u.tickMin,p=u.tickMax,m=Wv.rangeStep(f,p.add(new(Ov())(.1).mul(h)),h);return r>n?Uv(m):m}),tw=(qv(function(e){var t=Gv(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=Gv(Jv([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return Zv(l,a,i);var d=Xv(new(Ov())(c).sub(l).div(s-1),i,0),u=Bv(Fv(function(e){return new(Ov())(l).add(new(Ov())(e).mul(d)).toNumber()}),Iv)(0,s).filter(function(e){return e>=l&&e<=c});return r>n?Uv(u):u}),qv(function(e,t){var r=Gv(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Gv(Jv([n,a]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(t,2),d=Xv(new(Ov())(l).sub(o).div(c-1),i,0),u=[].concat(Kv(Wv.rangeStep(new(Ov())(o),new(Ov())(l).sub(new(Ov())(.99).mul(d)),d)),[l]);return n>a?Uv(u):u})),rw=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nw(e){return nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function iw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ow(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pw(n.key),n)}}function cw(e,t,r){return t=uw(t),function(e,t){if(t&&("object"===nw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dw()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function dw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(dw=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uw(e)}function hw(e,t){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hw(e,t)}function fw(e,t,r){return(t=pw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pw(e){var t=function(e,t){if("object"!=nw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nw(t)?t:t+""}var mw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cw(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hw(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,a=e.dataKey,s=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=ow(e,rw),u=Kc(d,!1);"x"===this.props.direction&&"number"!==l.type&&ld(!1);var h=s.map(function(e){var s=o(e,a),d=s.x,h=s.y,f=s.value,p=s.errorVal;if(!p)return null;var m,g,x=[];if(Array.isArray(p)){var y=iw(p,2);m=y[0],g=y[1]}else m=g=p;if("vertical"===r){var b=l.scale,v=h+t,w=v+n,j=v-n,k=b(f-m),N=b(f+g);x.push({x1:N,y1:w,x2:N,y2:j}),x.push({x1:k,y1:v,x2:N,y2:v}),x.push({x1:k,y1:w,x2:k,y2:j})}else if("horizontal"===r){var _=c.scale,S=d+t,A=S-n,O=S+n,E=_(f-m),C=_(f+g);x.push({x1:A,y1:C,x2:O,y2:C}),x.push({x1:S,y1:E,x2:S,y2:C}),x.push({x1:A,y1:E,x2:O,y2:E})}return i.createElement(gd,aw({className:"recharts-errorBar",key:"bar-".concat(x.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),x.map(function(e){return i.createElement("line",aw({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return i.createElement(gd,{className:"recharts-errorBars"},h)}}],n&&lw(r.prototype,n),a&&lw(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.Component);function gw(e){return gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(e)}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(t){bw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=gw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}fw(mw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),fw(mw,"displayName","ErrorBar");var vw=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=zc(t,Mh);if(!i)return null;var s,o=Mh.defaultProps,l=void 0!==o?yw(yw({},o),i.props):{};return s=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?yw(yw({},r),t.props):{},a=n.dataKey,i=n.name,s=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||s||"square",color:Ew(t),value:i||a,payload:n}}),yw(yw(yw({},l),Mh.getWithHeight(i,n)),{},{payload:s,item:i})};function ww(e){return ww="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ww(e)}function jw(e){return function(e){if(Array.isArray(e))return kw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(t){Sw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Sw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ww(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ww(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ww(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aw(e,t,r){return sc()(e)||sc()(t)?r:dc(t)?rc()(e,t,r):vc()(t)?t(e):r}function Ow(e,t,r,n){var a=Nv()(e,function(e){return Aw(e,t)});if("number"===r){var i=a.filter(function(e){return cc(e)||parseFloat(e)});return i.length?[jv()(i),vv()(i)]:[1/0,-1/0]}return(n?a.filter(function(e){return!sc()(e)}):a).map(function(e){return dc(e)||e instanceof Date?e:""})}var Ew=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?_w(_w({},e.type.defaultProps),e.props):e.props,i=a.stroke,s=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:s;break;default:r=s}return r},Cw=function(e,t,r,n,a){var i=qc(t.props.children,mw).filter(function(e){return function(e,t,r){return!!sc()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(i&&i.length){var s=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=Aw(t,r);if(sc()(n))return e;var a=Array.isArray(n)?[jv()(n),vv()(n)]:[n,n],i=s.reduce(function(e,r){var n=Aw(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),s=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(s,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},Pw=function(e,t,r,n,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===r&&i&&Cw(e,t,i,n)||Ow(e,i,r,a)});if("number"===r)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var s={};return i.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)s[t[r]]||(s[t[r]]=!0,e.push(t[r]));return e},[])},Tw=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Mw=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,i,s=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate});return a||s.push(t),i||s.push(r),s},Lw=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,s=e.range,o="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null===s||void 0===s?void 0:s.length)>=2?2*oc(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!ec()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},Dw=new WeakMap,Rw=function(e,t){if("function"!==typeof t)return e;Dw.has(e)||Dw.set(e,new WeakMap);var r=Dw.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},Iw=function(e,t,r){var a=e.scale,i=e.type,s=e.layout,o=e.axisType;if("auto"===a)return"radial"===s&&"radiusAxis"===o?{scale:Tp(),realScaleType:"band"}:"radial"===s&&"angleAxis"===o?{scale:rx(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Lp(),realScaleType:"point"}:"category"===i?{scale:Tp(),realScaleType:"band"}:{scale:rx(),realScaleType:"linear"};if(Zl()(a)){var l="scale".concat(su()(a));return{scale:(n[l]||Lp)(),realScaleType:n[l]?l:"point"}}return vc()(a)?{scale:a}:{scale:Lp(),realScaleType:"point"}},Fw=1e-4,Bw=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Fw,i=Math.max(n[0],n[1])+Fw,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},Uw={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=ec()(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,s=e[0].length;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}pv(e,t)}},none:pv,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var s=0,o=0;s<r;++s)o+=e[s][n][1]||0;a[n][1]+=a[n][0]=-o/2}pv(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,s=1;s<n;++s){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],u=d[s][1]||0,h=(u-(d[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=u,c+=h*u}r[s-1][1]+=r[s-1][0]=i,l&&(i-=c/l)}r[s-1][1]+=r[s-1][0]=i,pv(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=ec()(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},qw=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=Uw[r],i=function(){var e=Eu([]),t=gv,r=pv,n=xv;function a(a){var i,s,o=Array.from(e.apply(this,arguments),yv),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+n(e,o[i].key,c,a)]).data=e;for(i=0,s=mv(t(o));i<l;++i)o[s[i]].index=i;return r(o,s),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Eu(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:Eu(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?gv:"function"===typeof e?e:Eu(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?pv:e,a):r},a}().keys(n).value(function(e,t){return+Aw(e,t,0)}).order(gv).offset(a);return i(e)},zw=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,s=t.allowDecimals,o=r||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=ew(l,a,s);return e.domain([jv()(c),vv()(c)]),{niceTicks:c}}if(a&&"number"===n){var d=e.domain();return{niceTicks:tw(d,a,s)}}return null};function Hw(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!sc()(a[t.dataKey])){var o=gc(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Aw(a,sc()(s)?t.dataKey:s);return sc()(l)?null:t.scale(l)}var Vw=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,s=e.index;if("category"===t.type)return r[s]?r[s].coordinate+n:null;var o=Aw(i,t.dataKey,t.domain[s]);return sc()(o)?null:t.scale(o)-a/2+n},Ww=function(e,t,r){return Object.keys(e).reduce(function(n,a){var i=e[a].stackedData.reduce(function(e,n){var a=function(e){return e.reduce(function(e,t){return[jv()(t.concat([e[0]]).filter(cc)),vv()(t.concat([e[1]]).filter(cc))]},[1/0,-1/0])}(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Kw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yw=function(e,t,r){if(vc()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(cc(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Kw.test(e[0])){var a=+Kw.exec(e[0])[1];n[0]=t[0]-a}else vc()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(cc(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Gw.test(e[1])){var i=+Gw.exec(e[1])[1];n[1]=t[1]+i}else vc()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},$w=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=sd()(t,function(e){return e.coordinate}),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},Jw=function(e,t,r){return e&&e.length?Sv()(e,rc()(r,"type.defaultProps.domain"))?t:e:t},Xw=function(e,t){var r=e.type.defaultProps?_w(_w({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,s=r.formatter,o=r.tooltipType,l=r.chartType,c=r.hide;return _w(_w({},Kc(e,!1)),{},{dataKey:n,unit:i,formatter:s,name:a||n,color:Ew(e),value:Aw(t,n),type:o,payload:t,chartType:l,hide:c})};function Zw(e){return Zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(e)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(t){tj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Zw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rj=["Webkit","Moz","O","ms"];function nj(e){return nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nj(e)}function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aj.apply(this,arguments)}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(t){hj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fj(n.key),n)}}function lj(e,t,r){return t=dj(t),function(e,t){if(t&&("object"===nj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cj()?Reflect.construct(t,r||[],dj(e).constructor):t.apply(e,r))}function cj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cj=function(){return!!e})()}function dj(e){return dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dj(e)}function uj(e,t){return uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uj(e,t)}function hj(e,t,r){return(t=fj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fj(e){var t=function(e,t){if("object"!=nj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nj(t)?t:t+""}var pj=function(e){return e.changedTouches&&!!e.changedTouches.length},mj=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hj(r=lj(this,t,[e]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),hj(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),hj(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null===n||void 0===n||n({endIndex:t,startIndex:a})}),r.detachDragEndListener()}),hj(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),hj(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),hj(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),hj(r,"handleSlideDragStart",function(e){var t=pj(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uj(e,t)}(t,e),r=t,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var r=e.startX,n=e.endX,a=this.state.scaleValues,i=this.props,s=i.gap,o=i.data.length-1,l=Math.min(r,n),c=Math.max(r,n),d=t.getIndexInRange(a,l),u=t.getIndexInRange(a,c);return{startIndex:d-d%s,endIndex:u===o?o:u-u%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=Aw(r[e],a,e);return vc()(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,s=i.x,o=i.width,l=i.travellerWidth,c=i.startIndex,d=i.endIndex,u=i.onChange,h=e.pageX-r;h>0?h=Math.min(h,s+o-l-a,s+o-l-n):h<0&&(h=Math.max(h,s-n,s-a));var f=this.getIndex({startX:n+h,endX:a+h});f.startIndex===c&&f.endIndex===d||!u||u(f),this.setState({startX:n+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=pj(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,s=this.state[n],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,h=o.gap,f=o.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-d-s):m<0&&(m=Math.max(m,l-s)),p[n]=s+m;var g=this.getIndex(p),x=g.startIndex,y=g.endIndex;this.setState(hj(hj({},n,s+m),"brushMoveStartX",e.pageX),function(){u&&function(){var e=f.length-1;return"startX"===n&&(a>i?x%h===0:y%h===0)||a<i&&y===e||"endX"===n&&(a>i?y%h===0:x%h===0)||a>i&&y===e}()&&u(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,s=n.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var d=a[c];"startX"===t&&d>=s||"endX"===t&&d<=i||this.setState(hj({},t,d),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,s=e.fill,o=e.stroke;return i.createElement("rect",{stroke:o,fill:s,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,s=e.data,o=e.children,l=e.padding,c=i.Children.only(o);return c?i.cloneElement(c,{x:t,y:r,width:n,height:a,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(e,r){var n,a,s=this,o=this.props,l=o.y,c=o.travellerWidth,d=o.height,u=o.traveller,h=o.ariaLabel,f=o.data,p=o.startIndex,m=o.endIndex,g=Math.max(e,this.props.x),x=sj(sj({},Kc(this.props,!1)),{},{x:g,y:l,width:c,height:d}),y=h||"Min value: ".concat(null===(n=f[p])||void 0===n?void 0:n.name,", Max value: ").concat(null===(a=f[m])||void 0===a?void 0:a.name);return i.createElement(gd,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),s.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,x))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,s=r.stroke,o=r.travellerWidth,l=Math.min(e,t)+o,c=Math.max(Math.abs(t-e)-o,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:n,width:c,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,s=e.travellerWidth,o=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:o};return i.createElement(gd,{className:"recharts-brush-texts"},i.createElement(xm,aj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:n+a/2},u),this.getTextOfTick(t)),i.createElement(xm,aj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+s+5,y:n+a/2},u),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,s=e.y,o=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,h=d.endX,f=d.isTextActive,p=d.isSlideMoving,m=d.isTravellerMoving,g=d.isTravellerFocused;if(!t||!t.length||!cc(a)||!cc(s)||!cc(o)||!cc(l)||o<=0||l<=0)return null;var x=Yl("recharts-brush",r),y=1===i.Children.count(n),b=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,function(e){return e.toUpperCase()}),n=rj.reduce(function(e,n){return ej(ej({},e),{},tj({},n+r,t))},{});return n[e]=t,n}("userSelect","none");return i.createElement(gd,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(u,h),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,s=e.stroke,o=Math.floor(r+a/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:r,width:n,height:a,fill:s,stroke:"none"}),i.createElement("line",{x1:t+1,y1:o,x2:t+n-1,y2:o,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:o+2,x2:t+n-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return i.isValidElement(e)?i.cloneElement(e,r):vc()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(r!==t.prevData||s!==t.prevUpdateId)return sj({prevData:r,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=Lp().domain(ad()(0,o)).range([a,a+i-s]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],n&&oj(r.prototype,n),a&&oj(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);function gj(e){return gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gj(e)}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(t){bj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=gj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return wj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}hj(mj,"displayName","Brush"),hj(mj,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jj=Math.PI/180,kj=function(e){return 180*e/Math.PI},Nj=function(e,t,r,n){return{x:e+Math.cos(-jj*n)*r,y:t+Math.sin(-jj*n)*r}},_j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Sj=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,s=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:kj(l),angleInRadian:l}},Aj=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},Oj=function(e,t){var r=e.x,n=e.y,a=Sj({x:r,y:n},t),i=a.radius,s=a.angle,o=t.innerRadius,l=t.outerRadius;if(i<o||i>l)return!1;if(0===i)return!0;var c,d=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),u=d.startAngle,h=d.endAngle,f=s;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;c=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=u}return c?yj(yj({},t),{},{radius:i,angle:Aj(f,t)}):null},Ej=function(e){return(0,i.isValidElement)(e)||vc()(e)||"boolean"===typeof e?"":e.className};function Cj(e){return Cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cj(e)}var Pj=["offset"];function Tj(e){return function(e){if(Array.isArray(e))return Mj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(t){Ij(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ij(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Cj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Cj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(this,arguments)}var Bj=function(e,t,r){var n,a,s=e.position,o=e.viewBox,l=e.offset,c=e.className,d=o,u=d.cx,h=d.cy,f=d.innerRadius,p=d.outerRadius,m=d.startAngle,g=d.endAngle,x=d.clockWise,y=(f+p)/2,b=function(e,t){return oc(t-e)*Math.min(Math.abs(t-e),360)}(m,g),v=b>=0?1:-1;"insideStart"===s?(n=m+v*l,a=x):"insideEnd"===s?(n=g-v*l,a=!x):"end"===s&&(n=g+v*l,a=x),a=b<=0?a:!a;var w=Nj(u,h,y,n),j=Nj(u,h,y,n+359*(a?1:-1)),k="M".concat(w.x,",").concat(w.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),N=sc()(e.id)?hc("recharts-radial-line-"):e.id;return i.createElement("text",Fj({},r,{dominantBaseline:"central",className:Yl("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:N,d:k})),i.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function Uj(e){var t,r=e.offset,n=Rj({offset:void 0===r?5:r},Lj(e,Pj)),a=n.viewBox,s=n.position,o=n.value,l=n.children,c=n.content,d=n.className,u=void 0===d?"":d,h=n.textBreakAll;if(!a||sc()(o)&&sc()(l)&&!(0,i.isValidElement)(c)&&!vc()(c))return null;if((0,i.isValidElement)(c))return(0,i.cloneElement)(c,n);if(vc()(c)){if(t=(0,i.createElement)(c,n),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=sc()(e.children)?t:e.children;return vc()(r)?r(n):n}(n);var f=function(e){return"cx"in e&&cc(e.cx)}(a),p=Kc(n,!0);if(f&&("insideStart"===s||"insideEnd"===s||"end"===s))return Bj(n,t,p);var m=f?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,s=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var d=Nj(i,s,l+r,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=Nj(i,s,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,s=i.x,o=i.y,l=i.width,c=i.height,d=c>=0?1:-1,u=d*n,h=d>0?"end":"start",f=d>0?"start":"end",p=l>=0?1:-1,m=p*n,g=p>0?"end":"start",x=p>0?"start":"end";if("top"===a)return Rj(Rj({},{x:s+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===a)return Rj(Rj({},{x:s+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===a){var y={x:s-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return Rj(Rj({},y),r?{width:Math.max(y.x-r.x,0),height:c}:{})}if("right"===a){var b={x:s+l+m,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return Rj(Rj({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:c}:{})}var v=r?{width:l,height:c}:{};return"insideLeft"===a?Rj({x:s+m,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},v):"insideRight"===a?Rj({x:s+l-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideTop"===a?Rj({x:s+l/2,y:o+u,textAnchor:"middle",verticalAnchor:f},v):"insideBottom"===a?Rj({x:s+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:h},v):"insideTopLeft"===a?Rj({x:s+m,y:o+u,textAnchor:x,verticalAnchor:f},v):"insideTopRight"===a?Rj({x:s+l-m,y:o+u,textAnchor:g,verticalAnchor:f},v):"insideBottomLeft"===a?Rj({x:s+m,y:o+c-u,textAnchor:x,verticalAnchor:h},v):"insideBottomRight"===a?Rj({x:s+l-m,y:o+c-u,textAnchor:g,verticalAnchor:h},v):jc()(a)&&(cc(a.x)||lc(a.x))&&(cc(a.y)||lc(a.y))?Rj({x:s+fc(a.x,l),y:o+fc(a.y,c),textAnchor:"end",verticalAnchor:"end"},v):Rj({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(n);return i.createElement(xm,Fj({className:Yl("recharts-label",u)},p,m,{breakAll:h}),t)}Uj.displayName="Label";var qj=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(cc(p)&&cc(m)){if(cc(d)&&cc(u))return{x:d,y:u,width:p,height:m};if(cc(h)&&cc(f))return{x:h,y:f,width:p,height:m}}return cc(d)&&cc(u)?{x:d,y:u,width:0,height:0}:cc(t)&&cc(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:{}};Uj.parseViewBox=qj,Uj.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=qj(e),s=qc(n,Uj).map(function(e,r){return(0,i.cloneElement)(e,{viewBox:t||a,key:"label-".concat(r)})});if(!r)return s;var o=function(e,t){return e?!0===e?i.createElement(Uj,{key:"label-implicit",viewBox:t}):dc(e)?i.createElement(Uj,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===Uj?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(Uj,{key:"label-implicit",content:e,viewBox:t}):vc()(e)?i.createElement(Uj,{key:"label-implicit",content:e,viewBox:t}):jc()(e)?i.createElement(Uj,Fj({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[o].concat(Tj(s))};var zj=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},Hj=r(1733),Vj=r.n(Hj),Wj=r(7002),Kj=r.n(Wj),Gj=function(e){return null};Gj.displayName="Cell";var Yj=r(4065),$j=r.n(Yj);function Jj(e){return Jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jj(e)}var Xj=["valueAccessor"],Zj=["data","dataKey","clockWise","id","textBreakAll"];function Qj(e){return function(e){if(Array.isArray(e))return ek(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ek(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tk.apply(this,arguments)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(t){ak(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ak(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Jj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Jj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ik(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var sk=function(e){return Array.isArray(e.value)?$j()(e.value):e.value};function ok(e){var t=e.valueAccessor,r=void 0===t?sk:t,n=ik(e,Xj),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=ik(n,Zj);return a&&a.length?i.createElement(gd,{className:"recharts-label-list"},a.map(function(e,t){var n=sc()(s)?r(e,t):Aw(e&&e.payload,s),a=sc()(l)?{}:{id:"".concat(l,"-").concat(t)};return i.createElement(Uj,tk({},Kc(e,!0),d,a,{parentViewBox:e.parentViewBox,value:n,textBreakAll:c,viewBox:Uj.parseViewBox(sc()(o)?e:nk(nk({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))})):null}ok.displayName="LabelList",ok.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=qc(e.children,ok).map(function(e,r){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(r)})});if(!r)return n;var a=function(e,t){return e?!0===e?i.createElement(ok,{key:"labelList-implicit",data:t}):i.isValidElement(e)||vc()(e)?i.createElement(ok,{key:"labelList-implicit",data:t,content:e}):jc()(e)?i.createElement(ok,tk({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[a].concat(Qj(n))};var lk=r(2322),ck=r.n(lk),dk=r(6361),uk=r.n(dk);function hk(e){return hk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hk(e)}function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fk.apply(this,arguments)}function pk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(t){yk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=hk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bk=function(e,t,r,n,a){var i,s=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},vk={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wk=function(e){var t=xk(xk({},vk),e),r=(0,i.useRef)(),n=pk((0,i.useState)(-1),2),a=n[0],s=n[1];(0,i.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(nC){}},[]);var o=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,u=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var x=Yl("recharts-trapezoid",h);return g?i.createElement(up,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:o,y:l},duration:p,animationEasing:f,isActive:g},function(e){var n=e.upperWidth,s=e.lowerWidth,o=e.height,l=e.x,c=e.y;return i.createElement(up,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},i.createElement("path",fk({},Kc(t,!0),{className:x,d:bk(l,c,n,s,o),ref:r})))}):i.createElement("g",null,i.createElement("path",fk({},Kc(t,!0),{className:x,d:bk(o,l,c,d,u)})))};function jk(e){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jk(e)}function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(t){Sk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Sk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=jk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ak=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+n,d=Math.asin(o/c)/jj,u=l?a:a+i*d,h=l?a-i*d:a;return{center:Nj(t,r,c,u),circleTangency:Nj(t,r,n,u),lineTangency:Nj(t,r,c*Math.cos(d*jj),h),theta:d}},Ok=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,s=function(e,t){return oc(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),o=i+s,l=Nj(t,r,a,i),c=Nj(t,r,a,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var u=Nj(t,r,n,i),h=Nj(t,r,n,o);d+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},Ek={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ck=function(e){var t=_k(_k({},Ek),e),r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=t.className;if(s<a||d===u)return null;var f,p=Yl("recharts-sector",h),m=s-a,g=fc(o,m,0,!0);return f=g>0&&Math.abs(d-u)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=oc(c-l),u=Ak({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:o}),h=u.circleTangency,f=u.lineTangency,p=u.theta,m=Ak({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:o}),g=m.circleTangency,x=m.lineTangency,y=m.theta,b=o?Math.abs(l-c):Math.abs(l-c)-p-y;if(b<0)return s?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):Ok({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n  ");if(n>0){var w=Ak({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),j=w.circleTangency,k=w.lineTangency,N=w.theta,_=Ak({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),S=_.circleTangency,A=_.lineTangency,O=_.theta,E=o?Math.abs(l-c):Math.abs(l-c)-N-O;if(E<0&&0===i)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(A.x,",").concat(A.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v}({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):Ok({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:d,endAngle:u}),i.createElement("path",kk({},Kc(t,!0),{className:p,d:f,role:"img"}))},Pk=["option","shapeType","propTransformer","activeClassName","isActive"];function Tk(e){return Tk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tk(e)}function Mk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Dk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(t){Rk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Rk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Tk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Tk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ik(e,t){return Dk(Dk({},t),e)}function Fk(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return i.createElement(jp,r);case"trapezoid":return i.createElement(wk,r);case"sector":return i.createElement(Ck,r);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(oh,r);break;default:return null}}function Bk(e){var t,r=e.option,n=e.shapeType,a=e.propTransformer,s=void 0===a?Ik:a,o=e.activeClassName,l=void 0===o?"recharts-active-shape":o,c=e.isActive,d=Mk(e,Pk);if((0,i.isValidElement)(r))t=(0,i.cloneElement)(r,Dk(Dk({},d),function(e){return(0,i.isValidElement)(e)?e.props:e}(r)));else if(vc()(r))t=r(d);else if(ck()(r)&&!uk()(r)){var u=s(r,d);t=i.createElement(Fk,{shapeType:n,elementProps:u})}else{var h=d;t=i.createElement(Fk,{shapeType:n,elementProps:h})}return c?i.createElement(gd,{className:l},t):t}function Uk(e,t){return null!=t&&"trapezoids"in e.props}function qk(e,t){return null!=t&&"sectors"in e.props}function zk(e,t){return null!=t&&"points"in e.props}function Hk(e,t){var r,n,a=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function Vk(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Wk(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Kk(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return Uk(e,t)?r="trapezoids":qk(e,t)?r="sectors":zk(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return Uk(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:qk(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:zk(e,t)?t.payload:{}}(r,t),s=n.filter(function(e,n){var s=Sv()(i,e),o=r.props[a].filter(function(e){var n=function(e,t){var r;return Uk(e,t)?r=Hk:qk(e,t)?r=Vk:zk(e,t)&&(r=Wk),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(o[o.length-1]);return s&&n===l});return n.indexOf(s[s.length-1])}var Gk=["x","y"];function Yk(e){return Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yk(e)}function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(t){Zk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Zk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Yk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Yk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eN(e,t){var r=e.x,n=e.y,a=Qk(e,Gk),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),h=parseInt(u,10);return Xk(Xk(Xk(Xk(Xk({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function tN(e){return i.createElement(Bk,$k({shapeType:"rectangle",propTransformer:eN,activeClassName:"recharts-active-bar"},e))}var rN,nN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var a=cc(r)||function(e){return sc()(e)}(r);return a?e(r,n):(a||ld(!1),t)}},aN=["value","background"];function iN(e){return iN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iN(e)}function sN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oN.apply(this,arguments)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(t){mN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gN(n.key),n)}}function uN(e,t,r){return t=fN(t),function(e,t){if(t&&("object"===iN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hN()?Reflect.construct(t,r||[],fN(e).constructor):t.apply(e,r))}function hN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hN=function(){return!!e})()}function fN(e){return fN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fN(e)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pN(e,t)}function mN(e,t,r){return(t=gN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gN(e){var t=function(e,t){if("object"!=iN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=iN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iN(t)?t:t+""}var xN=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return mN(e=uN(this,t,[].concat(n)),"state",{isAnimationFinished:!1}),mN(e,"id",hc("recharts-bar-")),mN(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),mN(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}(t,e),r=t,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,a=r.dataKey,s=r.activeIndex,o=r.activeBar,l=Kc(this.props,!1);return e&&e.map(function(e,r){var c=r===s,d=c?o:n,u=cN(cN(cN({},l),e),{},{isActive:c,option:d,index:r,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return i.createElement(gd,oN({className:"recharts-bar-rectangle"},Pc(t.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),i.createElement(tN,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,s=t.animationBegin,o=t.animationDuration,l=t.animationEasing,c=t.animationId,d=this.state.prevData;return i.createElement(up,{begin:s,duration:o,isActive:a,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,s=r.map(function(e,t){var r=d&&d[t];if(r){var i=mc(r.x,e.x),s=mc(r.y,e.y),o=mc(r.width,e.width),l=mc(r.height,e.height);return cN(cN({},e),{},{x:i(a),y:s(a),width:o(a),height:l(a)})}if("horizontal"===n){var c=mc(0,e.height)(a);return cN(cN({},e),{},{y:e.y+e.height-c,height:c})}var u=mc(0,e.width)(a);return cN(cN({},e),{},{width:u})});return i.createElement(gd,null,e.renderRectanglesStatically(s))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&Sv()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,a=t.activeIndex,s=Kc(this.props.background,!1);return r.map(function(t,r){t.value;var o=t.background,l=sN(t,aN);if(!o)return null;var c=cN(cN(cN(cN(cN({},l),{},{fill:"#eee"},o),s),Pc(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return i.createElement(tN,oN({key:"background-bar-".concat(r),option:e.props.background,isActive:r===a},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,s=r.yAxis,o=r.layout,l=qc(r.children,mw);if(!l)return null;var c="vertical"===o?n[0].height/2:n[0].width/2,d=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Aw(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(gd,u,l.map(function(e){return i.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:a,yAxis:s,layout:o,offset:c,dataPointFormatter:d})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,s=e.yAxis,o=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,h=e.background,f=e.id;if(t||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=Yl("recharts-bar",n),g=a&&a.allowDataOverflow,x=s&&s.allowDataOverflow,y=g||x,b=sc()(f)?this.id:f;return i.createElement(gd,{className:m},g||x?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(b)},i.createElement("rect",{x:g?o:o-c/2,y:x?l:l-d/2,width:g?c:2*c,height:x?d:2*d}))):null,i.createElement(gd,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,b),(!u||p)&&ok.renderCallByParent(this.props,r))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&dN(r.prototype,n),a&&dN(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);function yN(e){return yN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yN(e)}function bN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kN(n.key),n)}}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(t){jN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jN(e,t,r){return(t=kN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kN(e){var t=function(e,t){if("object"!=yN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yN(t)?t:t+""}rN=xN,mN(xN,"displayName","Bar"),mN(xN,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Hd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),mN(xN,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!f)return null;var p=t.layout,m=r.type.defaultProps,g=void 0!==m?cN(cN({},m),r.props):r.props,x=g.dataKey,y=g.children,b=g.minPointSize,v="horizontal"===p?s:i,w=c?v.scale.domain():null,j=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:v}),k=qc(y,Gj),N=u.map(function(e,t){var n,u,h,m,g,y;c?n=function(e,t){if(!t||2!==t.length||!cc(t[0])||!cc(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!cc(e[0])||e[0]<r)&&(a[0]=r),(!cc(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[d+t],w):(n=Aw(e,x),Array.isArray(n)||(n=[j,n]));var v=nN(b,rN.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var N,_=[s.scale(n[0]),s.scale(n[1])],S=_[0],A=_[1];u=Vw({axis:i,ticks:o,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(N=null!==A&&void 0!==A?A:S)&&void 0!==N?N:void 0,m=f.size;var O=S-A;if(g=Number.isNaN(O)?0:O,y={x:u,y:s.y,width:m,height:s.height},Math.abs(v)>0&&Math.abs(g)<Math.abs(v)){var E=oc(g||v)*(Math.abs(v)-Math.abs(g));h-=E,g+=E}}else{var C=[i.scale(n[0]),i.scale(n[1])],P=C[0],T=C[1];if(u=P,h=Vw({axis:s,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=T-P,g=f.size,y={x:i.x,y:h,width:i.width,height:g},Math.abs(v)>0&&Math.abs(m)<Math.abs(v))m+=oc(m||v)*(Math.abs(v)-Math.abs(m))}return cN(cN(cN({},e),{},{x:u,y:h,width:m,height:g,value:c?n:n[1],payload:e,background:y},k&&k[t]&&k[t].props),{},{tooltipPayload:[Xw(r,e)],tooltipPosition:{x:u+m/2,y:h+g/2}})});return cN({data:N,layout:p},h)});var NN=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},_N=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&bN(t.prototype,r),n&&bN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();jN(_N,"EPS",1e-4);var SN=function(e){var t=Object.keys(e).reduce(function(t,r){return wN(wN({},t),{},jN({},r,_N.create(e[r])))},{});return wN(wN({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return Vj()(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return Kj()(e,function(e,r){return t[r].isInRange(e)})}})};function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(this,arguments)}function ON(e){return ON="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(e)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(t){RN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IN(n.key),n)}}function TN(e,t,r){return t=LN(t),function(e,t){if(t&&("object"===ON(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MN()?Reflect.construct(t,r||[],LN(e).constructor):t.apply(e,r))}function MN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(MN=function(){return!!e})()}function LN(e){return LN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},LN(e)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DN(e,t)}function RN(e,t,r){return(t=IN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IN(e){var t=function(e,t){if("object"!=ON(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ON(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ON(t)?t:t+""}var FN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),TN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,r=e.x,n=e.y,a=e.r,s=e.alwaysShow,o=e.clipPathId,l=dc(r),c=dc(n);if(yc(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=SN({x:n.scale,y:a.scale}),s=i.apply({x:t,y:r},{bandAware:!0});return zj(e,"discard")&&!i.isInRange(s)?null:s}(this.props);if(!d)return null;var u=d.x,h=d.y,f=this.props,p=f.shape,m=f.className,g=CN(CN({clipPath:zj(this.props,"hidden")?"url(#".concat(o,")"):void 0},Kc(this.props,!0)),{},{cx:u,cy:h});return i.createElement(gd,{className:Yl("recharts-reference-dot",m)},t.renderDot(p,g),Uj.renderCallByParent(this.props,{x:u-a,y:h-a,width:2*a,height:2*a}))}}],n&&PN(r.prototype,n),a&&PN(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.Component);RN(FN,"displayName","ReferenceDot"),RN(FN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),RN(FN,"renderDot",function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):vc()(e)?e(t):i.createElement(Dh,AN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var BN=r(4597),UN=r.n(BN),qN=r(8990),zN=r.n(qN),HN=r(5797),VN=r.n(HN)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var WN=(0,i.createContext)(void 0),KN=(0,i.createContext)(void 0),GN=(0,i.createContext)(void 0),YN=(0,i.createContext)({}),$N=(0,i.createContext)(void 0),JN=(0,i.createContext)(0),XN=(0,i.createContext)(0),ZN=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=VN(a);return i.createElement(WN.Provider,{value:r},i.createElement(KN.Provider,{value:n},i.createElement(YN.Provider,{value:a},i.createElement(GN.Provider,{value:d},i.createElement($N.Provider,{value:s},i.createElement(JN.Provider,{value:c},i.createElement(XN.Provider,{value:l},o)))))))};var QN=function(e){var t=(0,i.useContext)(WN);null==t&&ld(!1);var r=t[e];return null==r&&ld(!1),r},e_=function(e){var t=(0,i.useContext)(KN);null==t&&ld(!1);var r=t[e];return null==r&&ld(!1),r},t_=function(){return(0,i.useContext)(XN)},r_=function(){return(0,i.useContext)(JN)};function n_(e){return n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n_(e)}function a_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h_(n.key),n)}}function i_(e,t,r){return t=o_(t),function(e,t){if(t&&("object"===n_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s_()?Reflect.construct(t,r||[],o_(e).constructor):t.apply(e,r))}function s_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s_=function(){return!!e})()}function o_(e){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o_(e)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l_(e,t)}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(t){u_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u_(e,t,r){return(t=h_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h_(e){var t=function(e,t){if("object"!=n_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=n_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n_(t)?t:t+""}function f_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m_.apply(this,arguments)}function g_(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=(0,i.useContext)($N),u=QN(a),h=e_(s),f=(0,i.useContext)(GN);if(!d||!f)return null;yc(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,r,n,a,i,s,o,l){var c=a.x,d=a.y,u=a.width,h=a.height;if(r){var f=l.y,p=e.y.apply(f,{position:i});if(zj(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+u,y:p},{x:c,y:p}];return"left"===o?m.reverse():m}if(t){var g=l.x,x=e.x.apply(g,{position:i});if(zj(l,"discard")&&!e.x.isInRange(x))return null;var y=[{x:x,y:d+h},{x:x,y:d}];return"top"===s?y.reverse():y}if(n){var b=l.segment.map(function(t){return e.apply(t,{position:i})});return zj(l,"discard")&&UN()(b,function(t){return!e.isInRange(t)})?null:b}return null}(SN({x:u.scale,y:h.scale}),dc(t),dc(r),n&&2===n.length,f,e.position,u.orientation,h.orientation,e);if(!p)return null;var m=f_(p,2),g=m[0],x=g.x,y=g.y,b=m[1],v=b.x,w=b.y,j=d_(d_({clipPath:zj(e,"hidden")?"url(#".concat(d,")"):void 0},Kc(e,!0)),{},{x1:x,y1:y,x2:v,y2:w});return i.createElement(gd,{className:Yl("recharts-reference-line",l)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):vc()(e)?e(t):i.createElement("line",m_({},t,{className:"recharts-reference-line-line"}))}(o,j),Uj.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return NN({x:t,y:r},{x:n,y:a})}({x1:x,y1:y,x2:v,y2:w})))}var x_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i_(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return i.createElement(g_,this.props)}}])&&a_(r.prototype,n),a&&a_(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.Component);function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function b_(e){return b_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(e)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(t){A_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O_(n.key),n)}}function k_(e,t,r){return t=__(t),function(e,t){if(t&&("object"===b_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,N_()?Reflect.construct(t,r||[],__(e).constructor):t.apply(e,r))}function N_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(N_=function(){return!!e})()}function __(e){return __=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},__(e)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S_(e,t)}function A_(e,t,r){return(t=O_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_(e){var t=function(e,t){if("object"!=b_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b_(t)?t:t+""}u_(x_,"displayName","ReferenceLine"),u_(x_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var E_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k_(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,r=e.x1,n=e.x2,a=e.y1,s=e.y2,o=e.className,l=e.alwaysShow,c=e.clipPathId;yc(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=dc(r),u=dc(n),h=dc(a),f=dc(s),p=this.props.shape;if(!d&&!u&&!h&&!f&&!p)return null;var m=function(e,t,r,n,a){var i=a.x1,s=a.x2,o=a.y1,l=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var u=SN({x:c.scale,y:d.scale}),h={x:e?u.x.apply(i,{position:"start"}):u.x.rangeMin,y:r?u.y.apply(o,{position:"start"}):u.y.rangeMin},f={x:t?u.x.apply(s,{position:"end"}):u.x.rangeMax,y:n?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!zj(a,"discard")||u.isInRange(h)&&u.isInRange(f)?NN(h,f):null}(d,u,h,f,this.props);if(!m&&!p)return null;var g=zj(this.props,"hidden")?"url(#".concat(c,")"):void 0;return i.createElement(gd,{className:Yl("recharts-reference-area",o)},t.renderRect(p,w_(w_({clipPath:g},Kc(this.props,!0)),m)),Uj.renderCallByParent(this.props,m))}}])&&j_(r.prototype,n),a&&j_(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.Component);function C_(e){return function(e){if(Array.isArray(e))return P_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return P_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}A_(E_,"displayName","ReferenceArea"),A_(E_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),A_(E_,"renderRect",function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):vc()(e)?e(t):i.createElement(jp,y_({},t,{className:"recharts-reference-area-rect"}))});var T_=function(e,t,r,n,a){var i=qc(e,x_),s=qc(e,FN),o=[].concat(C_(i),C_(s)),l=qc(e,E_),c="".concat(n,"Id"),d=n[0],u=t;if(o.length&&(u=o.reduce(function(e,t){if(t.props[c]===r&&zj(t.props,"extendDomain")&&cc(t.props[d])){var n=t.props[d];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},u)),l.length){var h="".concat(d,"1"),f="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===r&&zj(t.props,"extendDomain")&&cc(t.props[h])&&cc(t.props[f])){var n=t.props[h],a=t.props[f];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},u)}return a&&a.length&&(u=a.reduce(function(e,t){return cc(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},M_=r(7283),L_=new(r.n(M_)()),D_="recharts.syncMouseEvents";function R_(e){return R_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(e)}function I_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B_(n.key),n)}}function F_(e,t,r){return(t=B_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_(e){var t=function(e,t){if("object"!=R_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=R_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R_(t)?t:t+""}var U_=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F_(this,"activeIndex",0),F_(this,"coordinateList",[]),F_(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+s+o,d=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&I_(e.prototype,t),r&&I_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function q_(){}function z_(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function H_(e){this._context=e}function V_(e){this._context=e}function W_(e){this._context=e}H_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:z_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:z_(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},V_.prototype={areaStart:q_,areaEnd:q_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:z_(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},W_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:z_(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class K_{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function G_(e){this._context=e}function Y_(e){this._context=e}function $_(e){return new Y_(e)}function J_(e){return e<0?-1:1}function X_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(J_(i)+J_(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Z_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Q_(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function eS(e){this._context=e}function tS(e){this._context=new rS(e)}function rS(e){this._context=e}function nS(e){this._context=e}function aS(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,s[t]-=r*s[t-1];for(a[n-1]=s[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function iS(e,t){this._context=e,this._t=t}function sS(e){return e[0]}function oS(e){return e[1]}function lS(e,t){var r=Eu(!0),n=null,a=$_,i=null,s=Xu(o);function o(o){var l,c,d,u=(o=mv(o)).length,h=!1;for(null==n&&(i=a(d=s())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,o),+t(c,l,o));if(d)return i=null,d+""||null}return e="function"===typeof e?e:void 0===e?sS:Eu(e),t="function"===typeof t?t:void 0===t?oS:Eu(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:Eu(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Eu(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:Eu(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),o):n},o}function cS(e,t,r){var n=null,a=Eu(!0),i=null,s=$_,o=null,l=Xu(c);function c(c){var d,u,h,f,p,m=(c=mv(c)).length,g=!1,x=new Array(m),y=new Array(m);for(null==i&&(o=s(p=l())),d=0;d<=m;++d){if(!(d<m&&a(f=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(x[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(f,d,c),y[d]=+t(f,d,c),o.point(n?+n(f,d,c):x[d],r?+r(f,d,c):y[d]))}if(p)return o=null,p+""||null}function d(){return lS().defined(a).curve(s).context(i)}return e="function"===typeof e?e:void 0===e?sS:Eu(+e),t="function"===typeof t?t:Eu(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?oS:Eu(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Eu(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Eu(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Eu(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Eu(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Eu(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Eu(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Eu(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}function dS(e){return dS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(e)}function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uS.apply(this,arguments)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(t){pS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pS(e,t,r){return t=function(e){var t=function(e,t){if("object"!=dS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=dS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}G_.prototype={areaStart:q_,areaEnd:q_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},eS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q_(this,this._t0,Z_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Q_(this,Z_(this,r=X_(this,e,t)),r);break;default:Q_(this,this._t0,r=X_(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(tS.prototype=Object.create(eS.prototype)).point=function(e,t){eS.prototype.point.call(this,t,e)},rS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},nS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=aS(e),a=aS(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},iS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var mS={curveBasisClosed:function(e){return new V_(e)},curveBasisOpen:function(e){return new W_(e)},curveBasis:function(e){return new H_(e)},curveBumpX:function(e){return new K_(e,!0)},curveBumpY:function(e){return new K_(e,!1)},curveLinearClosed:function(e){return new G_(e)},curveLinear:$_,curveMonotoneX:function(e){return new eS(e)},curveMonotoneY:function(e){return new tS(e)},curveNatural:function(e){return new nS(e)},curveStep:function(e){return new iS(e,.5)},curveStepAfter:function(e){return new iS(e,1)},curveStepBefore:function(e){return new iS(e,0)}},gS=function(e){return e.x===+e.x&&e.y===+e.y},xS=function(e){return e.x},yS=function(e){return e.y},bS=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(vc()(e))return e;var r="curve".concat(su()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?mS[r]||$_:mS["".concat(r).concat("vertical"===t?"Y":"X")]}(n,o),u=c?i.filter(function(e){return gS(e)}):i;if(Array.isArray(s)){var h=c?s.filter(function(e){return gS(e)}):s,f=u.map(function(e,t){return fS(fS({},e),{},{base:h[t]})});return(t="vertical"===o?cS().y(yS).x1(xS).x0(function(e){return e.base.x}):cS().x(xS).y1(yS).y0(function(e){return e.base.y})).defined(gS).curve(d),t(f)}return(t="vertical"===o&&cc(s)?cS().y(yS).x1(xS).x0(s):cc(s)?cS().x(xS).y1(yS).y0(s):lS().x(xS).y(yS)).defined(gS).curve(d),t(u)},vS=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var s=r&&r.length?bS(e):n;return i.createElement("path",uS({},Kc(e,!1),Cc(e),{className:Yl("recharts-curve",t),d:s,ref:a}))};function wS(e){return wS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wS(e)}var jS=["x","y","top","left","width","height","className"];function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _S(e,t,r){return t=function(e){var t=function(e,t){if("object"!=wS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var AS=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},OS=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,s=e.top,o=void 0===s?0:s,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(t){_S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:a,top:o,left:c,width:u,height:f},SS(e,jS));return cc(r)&&cc(a)&&cc(u)&&cc(f)&&cc(o)&&cc(c)?i.createElement("path",kS({},Kc(m,!0),{className:Yl("recharts-cross",p),d:AS(r,a,u,f,o,c)})):null};function ES(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[Nj(t,r,n,a),Nj(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function CS(e,t,r){var n,a,i,s;if("horizontal"===e)i=n=t.x,a=r.top,s=r.top+r.height;else if("vertical"===e)s=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return ES(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,h=Nj(o,l,c,u),f=Nj(o,l,d,u);n=h.x,a=h.y,i=f.x,s=f.y}return[{x:n,y:a},{x:i,y:s}]}function PS(e){return PS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PS(e)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(t){LS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LS(e,t,r){return t=function(e){var t=function(e,t){if("object"!=PS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=PS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DS(e){var t,r,n,a=e.element,s=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(r=a.type.defaultProps)||void 0===r?void 0:r.cursor;if(!a||!m||!o||!l||"ScatterChart"!==p&&"axis"!==s)return null;var g=vS;if("ScatterChart"===p)n=l,g=OS;else if("BarChart"===p)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(f,l,d,h),g=jp;else if("radial"===f){var x=ES(l),y=x.cx,b=x.cy,v=x.radius;n={cx:y,cy:b,startAngle:x.startAngle,endAngle:x.endAngle,innerRadius:v,outerRadius:v},g=Ck}else n={points:CS(f,l,d)},g=vS;var w=MS(MS(MS(MS({stroke:"#ccc",pointerEvents:"none"},d),n),Kc(m,!1)),{},{payload:c,payloadIndex:u,className:Yl("recharts-tooltip-cursor",m.className)});return(0,i.isValidElement)(m)?(0,i.cloneElement)(m,w):(0,i.createElement)(g,w)}var RS=["item"],IS=["children","className","width","height","style","compact","title","desc"];function FS(e){return FS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FS(e)}function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BS.apply(this,arguments)}function US(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||YS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QS(n.key),n)}}function HS(e,t,r){return t=WS(t),function(e,t){if(t&&("object"===FS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VS()?Reflect.construct(t,r||[],WS(e).constructor):t.apply(e,r))}function VS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VS=function(){return!!e})()}function WS(e){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WS(e)}function KS(e,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KS(e,t)}function GS(e){return function(e){if(Array.isArray(e))return $S(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||YS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YS(e,t){if(e){if("string"===typeof e)return $S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$S(e,t):void 0}}function $S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(t){ZS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZS(e,t,r){return(t=QS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QS(e){var t=function(e,t){if("object"!=FS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=FS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FS(t)?t:t+""}var eA={xAxis:["bottom","top"],yAxis:["left","right"]},tA={width:"100%",height:"100%"},rA={x:0,y:0};function nA(e){return e}var aA=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!==r&&void 0!==r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(GS(e),GS(r)):e},[]);return i.length>0?i:e&&e.length&&cc(n)&&cc(a)?e.slice(n,a+1):[]};function iA(e){return"number"===e?[0,"auto"]:void 0}var sA=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,s=aA(t,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(a,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=gc(void 0===d?s:d,i.dataKey,n):c=d&&d[r]||s[r];return c?[].concat(GS(a),[Xw(o,c)]):a},[])},oA=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,s=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(s<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,d=n[l].coordinate,u=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(oc(d-c)!==oc(u-d)){var f=[];if(oc(u-d)===oc(o[1]-o[0])){h=u;var p=d+o[1]-o[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=u+o[1]-o[0];f[0]=Math.min(d,(m+d)/2),f[1]=Math.max(d,(m+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){i=n[l].index;break}}else{var x=Math.min(c,u),y=Math.max(c,u);if(e>(x+d)/2&&e<=(y+d)/2){i=n[l].index;break}}}else for(var b=0;b<s;b++)if(0===b&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<s-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===s-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){i=r[b].index;break}return i}(i,s,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=sA(e,t,c,d),h=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,s=n.radius;return XS(XS(XS({},n),Nj(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,l=n.angle;return XS(XS(XS({},n),Nj(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return rA}(r,s,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:h}}return null},lA=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,h=Tw(c,a);return r.reduce(function(t,r){var f,p=void 0!==r.type.defaultProps?XS(XS({},r.type.defaultProps),r.props):r.props,m=p.type,g=p.dataKey,x=p.allowDataOverflow,y=p.allowDuplicatedCategory,b=p.scale,v=p.ticks,w=p.includeHidden,j=p[i];if(t[j])return t;var k,N,_,S=aA(e.data,{graphicalItems:n.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j}),dataStartIndex:o,dataEndIndex:l}),A=S.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(n&&a&&cc(n)&&cc(a))return!0}return!1})(p.domain,x,m)&&(k=Yw(p.domain,null,x),!h||"number"!==m&&"auto"===b||(_=Ow(S,g,"category")));var O=iA(m);if(!k||0===k.length){var E,C=null!==(E=p.domain)&&void 0!==E?E:O;if(g){if(k=Ow(S,g,m),"category"===m&&h){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(k);y&&P?(N=k,k=ad()(0,A)):y||(k=Jw(C,k,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(GS(e),[t])},[]))}else if("category"===m)k=y?k.filter(function(e){return""!==e&&!sc()(e)}):Jw(C,k,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||sc()(t)?e:[].concat(GS(e),[t])},[]);else if("number"===m){var T=function(e,t,r,n,a){var i=t.map(function(t){return Cw(e,t,r,a,n)}).filter(function(e){return!sc()(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(S,n.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===j&&(w||!a)}),g,a,c);T&&(k=T)}!h||"number"!==m&&"auto"===b||(_=Ow(S,g,"category"))}else k=h?ad()(0,A):s&&s[j]&&s[j].hasStack&&"number"===m?"expand"===u?[0,1]:Ww(s[j].stackGroups,o,l):Pw(S,n.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!r)}),m,c,!0);if("number"===m)k=T_(d,k,j,a,v),C&&(k=Yw(C,k,x));else if("category"===m&&C){var M=C;k.every(function(e){return M.indexOf(e)>=0})&&(k=M)}}return XS(XS({},t),{},ZS({},j,XS(XS({},p),{},{axisType:a,domain:k,categoricalDomain:_,duplicateDomain:N,originalDomain:null!==(f=p.domain)&&void 0!==f?f:O,isCategorical:h,layout:c})))},{})},cA=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(n,"Id"),u=qc(c,a),h={};return u&&u.length?h=lA(e,{axes:u,graphicalItems:i,axisType:n,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):i&&i.length&&(h=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=aA(e.data,{graphicalItems:r,dataStartIndex:o,dataEndIndex:l}),h=u.length,f=Tw(c,a),p=-1;return r.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?XS(XS({},t.type.defaultProps),t.props):t.props)[i],x=iA("number");return e[g]?e:(p++,f?m=ad()(0,h):s&&s[g]&&s[g].hasStack?(m=Ww(s[g].stackGroups,o,l),m=T_(d,m,g,a)):(m=Yw(x,Pw(u,r.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!a}),"number",c),n.defaultProps.allowDataOverflow),m=T_(d,m,g,a)),XS(XS({},e),{},ZS({},g,XS(XS({axisType:a},n.defaultProps),{},{hide:!0,orientation:rc()(eA,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:x,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),h},dA=function(e){var t=e.children,r=e.defaultShowTooltip,n=zc(t,mj),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},uA=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hA=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,s=void 0===i?{}:i,o=r.width,l=r.height,c=r.children,d=r.margin||{},u=zc(c,mj),h=zc(c,Mh),f=Object.keys(s).reduce(function(e,t){var r=s[t],n=r.orientation;return r.mirror||r.hide?e:XS(XS({},e),{},ZS({},n,e[n]+r.width))},{left:d.left||0,right:d.right||0}),p=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:XS(XS({},e),{},ZS({},n,rc()(e,"".concat(n))+r.height))},{top:d.top||0,bottom:d.bottom||0}),m=XS(XS({},p),f),g=m.bottom;u&&(m.bottom+=u.props.height||mj.defaultProps.height),h&&t&&(m=function(e,t,r,n){var a=r.children,i=r.width,s=r.margin,o=i-(s.left||0)-(s.right||0),l=vw({children:a,legendWidth:o});if(l){var c=n||{},d=c.width,u=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&cc(e[h]))return _w(_w({},e),{},Sw({},h,e[h]+(d||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&cc(e[f]))return _w(_w({},e),{},Sw({},f,e[f]+(u||0)))}return e}(m,0,r,t));var x=o-m.left-m.right,y=l-m.top-m.bottom;return XS(XS({brushBottom:g},m),{},{width:Math.max(x,0),height:Math.max(y,0)})},fA=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},pA=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=void 0===n?"axis":n,s=e.validateTooltipEventTypes,o=void 0===s?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,h=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,s=t.dataStartIndex,o=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=uA(d),m=p.numericAxisName,g=p.cateAxisName,x=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Ic(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),y=[];return r.forEach(function(r,p){var b=aA(e.data,{graphicalItems:[r],dataStartIndex:s,dataEndIndex:o}),v=void 0!==r.type.defaultProps?XS(XS({},r.type.defaultProps),r.props):r.props,w=v.dataKey,j=v.maxBarSize,k=v["".concat(m,"Id")],N=v["".concat(g,"Id")],_=l.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=v["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||ld(!1);var i=n[a];return XS(XS({},e),{},ZS(ZS({},r.axisType,i),"".concat(r.axisType,"Ticks"),Lw(i)))},{}),S=_[g],A=_["".concat(g,"Ticks")],O=n&&n[k]&&n[k].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?_w(_w({},e.type.defaultProps),e.props):e.props).stackId;if(dc(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[k].stackGroups),E=Ic(r.type).indexOf("Bar")>=0,C=$w(S,A),P=[],T=x&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},s=Object.keys(a),o=0,l=s.length;o<l;o++)for(var c=a[s[o]].stackGroups,d=Object.keys(c),u=0,h=d.length;u<h;u++){var f=c[d[u]],p=f.items,m=f.cateAxisId,g=p.filter(function(e){return Ic(e.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,y=void 0!==x?_w(_w({},x),g[0].props):g[0].props,b=y.barSize,v=y[m];i[v]||(i[v]=[]);var w=sc()(b)?t:b;i[v].push({item:g[0],stackList:g.slice(1),barSize:sc()(w)?void 0:fc(w,r,0)})}}return i}({barSize:c,stackGroups:n,totalSize:fA(_,g)});if(E){var M,L,D=sc()(j)?f:j,R=null!==(M=null!==(L=$w(S,A,!0))&&void 0!==L?L:D)&&void 0!==M?M:0;P=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,s=e.maxBarSize,o=i.length;if(o<1)return null;var l,c=fc(t,n,0,!0),d=[];if(i[0].barSize===+i[0].barSize){var u=!1,h=n/o,f=i.reduce(function(e,t){return e+t.barSize||0},0);(f+=(o-1)*c)>=n&&(f-=(o-1)*c,c=0),f>=n&&h>0&&(u=!0,f=o*(h*=.9));var p={offset:((n-f)/2|0)-c,size:0};l=i.reduce(function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:u?h:t.barSize}},n=[].concat(jw(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:p})}),n},d)}else{var m=fc(r,n,0,!0);n-2*m-(o-1)*c<=0&&(c=0);var g=(n-2*m-(o-1)*c)/o;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;l=i.reduce(function(e,t,r){var n=[].concat(jw(e),[{item:t.item,position:{offset:m+(g+c)*r+(g-x)/2,size:x}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},d)}return l}({barGap:u,barCategoryGap:h,bandSize:R!==C?R:C,sizeList:T[N],maxBarSize:D}),R!==C&&(P=P.map(function(e){return XS(XS({},e),{},{position:XS(XS({},e.position),{},{offset:e.position.offset-R/2})})}))}var I,F,B=r&&r.type&&r.type.getComposedData;B&&y.push({props:XS(XS({},B(XS(XS({},_),{},{displayedData:b,props:e,dataKey:w,item:r,bandSize:C,barPosition:P,offset:a,stackedData:O,layout:d,dataStartIndex:s,dataEndIndex:o}))),{},ZS(ZS(ZS({key:r.key||"item-".concat(p)},m,_[m]),g,_[g]),"animationId",i)),childIndex:(I=r,F=e.children,Uc(F).indexOf(I)),item:r})}),y},f=function(e,n){var a=e.props,i=e.dataStartIndex,s=e.dataEndIndex,o=e.updateId;if(!Hc({props:a}))return null;var c=a.children,u=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=uA(u),x=g.numericAxisName,y=g.cateAxisName,b=qc(c,r),v=function(e,t,r,n,a,i){if(!e)return null;var s=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?_w(_w({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(i.hide)return e;var o=i[r],l=e[o]||{hasStack:!1,stackGroups:{}};if(dc(s)){var c=l.stackGroups[s]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[hc("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return _w(_w({},e),{},Sw({},o,l))},{});return Object.keys(s).reduce(function(t,i){var o=s[i];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,i){var s=o.stackGroups[i];return _w(_w({},t),{},Sw({},i,{numericAxisId:r,cateAxisId:n,items:s.items,stackedData:qw(e,s.items,a)}))},{})),_w(_w({},t),{},Sw({},i,o))},{})}(p,b,"".concat(x,"Id"),"".concat(y,"Id"),f,m),w=l.reduce(function(e,t){var r="".concat(t.axisType,"Map");return XS(XS({},e),{},ZS({},r,cA(a,XS(XS({},t),{},{graphicalItems:b,stackGroups:t.axisType===x&&v,dataStartIndex:i,dataEndIndex:s}))))},{}),j=hA(XS(XS({},w),{},{props:a,graphicalItems:b}),null===n||void 0===n?void 0:n.legendBBox);Object.keys(w).forEach(function(e){w[e]=d(a,w[e],j,e.replace("Map",""),t)});var k=function(e){var t=pc(e),r=Lw(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sd()(r,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:$w(t,r)}}(w["".concat(y,"Map")]),N=h(a,XS(XS({},w),{},{dataStartIndex:i,dataEndIndex:s,updateId:o,graphicalItems:b,stackGroups:v,offset:j}));return XS(XS({formattedGraphicalItems:N,graphicalItems:b,offset:j,stackGroups:v},k),w)},p=function(e){function r(e){var n,a,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ZS(s=HS(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ZS(s,"accessibilityManager",new U_),ZS(s,"handleLegendBBoxUpdate",function(e){if(e){var t=s.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;s.setState(XS({legendBBox:e},f({props:s.props,dataStartIndex:r,dataEndIndex:n,updateId:a},XS(XS({},s.state),{},{legendBBox:e}))))}}),ZS(s,"handleReceiveSyncEvent",function(e,t,r){if(s.props.syncId===e){if(r===s.eventEmitterSymbol&&"function"!==typeof s.props.syncMethod)return;s.applySyncEvent(t)}}),ZS(s,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==s.state.dataStartIndex||r!==s.state.dataEndIndex){var n=s.state.updateId;s.setState(function(){return XS({dataStartIndex:t,dataEndIndex:r},f({props:s.props,dataStartIndex:t,dataEndIndex:r,updateId:n},s.state))}),s.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),ZS(s,"handleMouseEnter",function(e){var t=s.getMouseInfo(e);if(t){var r=XS(XS({},t),{},{isTooltipActive:!0});s.setState(r),s.triggerSyncEvent(r);var n=s.props.onMouseEnter;vc()(n)&&n(r,e)}}),ZS(s,"triggeredAfterMouseMove",function(e){var t=s.getMouseInfo(e),r=t?XS(XS({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};s.setState(r),s.triggerSyncEvent(r);var n=s.props.onMouseMove;vc()(n)&&n(r,e)}),ZS(s,"handleItemMouseEnter",function(e){s.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),ZS(s,"handleItemMouseLeave",function(){s.setState(function(){return{isTooltipActive:!1}})}),ZS(s,"handleMouseMove",function(e){e.persist(),s.throttleTriggeredAfterMouseMove(e)}),ZS(s,"handleMouseLeave",function(e){s.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};s.setState(t),s.triggerSyncEvent(t);var r=s.props.onMouseLeave;vc()(r)&&r(t,e)}),ZS(s,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&Rc[t]?Rc[t]:null}(e),n=rc()(s.props,"".concat(r));r&&vc()(n)&&n(null!==(t=/.*touch.*/i.test(r)?s.getMouseInfo(e.changedTouches[0]):s.getMouseInfo(e))&&void 0!==t?t:{},e)}),ZS(s,"handleClick",function(e){var t=s.getMouseInfo(e);if(t){var r=XS(XS({},t),{},{isTooltipActive:!0});s.setState(r),s.triggerSyncEvent(r);var n=s.props.onClick;vc()(n)&&n(r,e)}}),ZS(s,"handleMouseDown",function(e){var t=s.props.onMouseDown;vc()(t)&&t(s.getMouseInfo(e),e)}),ZS(s,"handleMouseUp",function(e){var t=s.props.onMouseUp;vc()(t)&&t(s.getMouseInfo(e),e)}),ZS(s,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),ZS(s,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseDown(e.changedTouches[0])}),ZS(s,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseUp(e.changedTouches[0])}),ZS(s,"handleDoubleClick",function(e){var t=s.props.onDoubleClick;vc()(t)&&t(s.getMouseInfo(e),e)}),ZS(s,"handleContextMenu",function(e){var t=s.props.onContextMenu;vc()(t)&&t(s.getMouseInfo(e),e)}),ZS(s,"triggerSyncEvent",function(e){void 0!==s.props.syncId&&L_.emit(D_,s.props.syncId,e,s.eventEmitterSymbol)}),ZS(s,"applySyncEvent",function(e){var t=s.props,r=t.layout,n=t.syncMethod,a=s.state.updateId,i=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)s.setState(XS({dataStartIndex:i,dataEndIndex:o},f({props:s.props,dataStartIndex:i,dataEndIndex:o,updateId:a},s.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=s.state,h=u.offset,p=u.tooltipTicks;if(!h)return;if("function"===typeof n)d=n(p,e);else if("value"===n){d=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){d=m;break}}var g=XS(XS({},h),{},{x:h.left,y:h.top}),x=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),b=p[d]&&p[d].value,v=sA(s.state,s.props.data,d),w=p[d]?{x:"horizontal"===r?p[d].coordinate:x,y:"horizontal"===r?y:p[d].coordinate}:rA;s.setState(XS(XS({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:v,activeTooltipIndex:d}))}else s.setState(e)}),ZS(s,"renderCursor",function(e){var r,n=s.state,a=n.isTooltipActive,o=n.activeCoordinate,l=n.activePayload,c=n.offset,d=n.activeTooltipIndex,u=n.tooltipAxisBandSize,h=s.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:a,p=s.props.layout,m=e.key||"_recharts-cursor";return i.createElement(DS,{key:m,activeCoordinate:o,activePayload:l,activeTooltipIndex:d,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:u,tooltipEventType:h})}),ZS(s,"renderPolarAxis",function(e,t,r){var n=rc()(e,"type.axisType"),a=rc()(s.state,"".concat(n,"Map")),o=e.type.defaultProps,l=void 0!==o?XS(XS({},o),e.props):e.props,c=a&&a[l["".concat(n,"Id")]];return(0,i.cloneElement)(e,XS(XS({},c),{},{className:Yl(n,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:Lw(c,!0)}))}),ZS(s,"renderPolarGrid",function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,a=t.polarRadius,o=s.state,l=o.radiusAxisMap,c=o.angleAxisMap,d=pc(l),u=pc(c),h=u.cx,f=u.cy,p=u.innerRadius,m=u.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Array.isArray(n)?n:Lw(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:Lw(d,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),ZS(s,"renderLegend",function(){var e=s.state.formattedGraphicalItems,t=s.props,r=t.children,n=t.width,a=t.height,o=s.props.margin||{},l=n-(o.left||0)-(o.right||0),d=vw({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,h=qS(d,RS);return(0,i.cloneElement)(u,XS(XS({},h),{},{chartWidth:n,chartHeight:a,margin:o,onBBoxUpdate:s.handleLegendBBoxUpdate}))}),ZS(s,"renderTooltip",function(){var e,t=s.props,r=t.children,n=t.accessibilityLayer,a=zc(r,au);if(!a)return null;var o=s.state,l=o.isTooltipActive,c=o.activeCoordinate,d=o.activePayload,u=o.activeLabel,h=o.offset,f=null!==(e=a.props.active)&&void 0!==e?e:l;return(0,i.cloneElement)(a,{viewBox:XS(XS({},h),{},{x:h.left,y:h.top}),active:f,label:u,payload:f?d:[],coordinate:c,accessibilityLayer:n})}),ZS(s,"renderBrush",function(e){var t=s.props,r=t.margin,n=t.data,a=s.state,o=a.offset,l=a.dataStartIndex,c=a.dataEndIndex,d=a.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Rw(s.handleBrushChange,e.props.onChange),data:n,x:cc(e.props.x)?e.props.x:o.left,y:cc(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(r.bottom||0),width:cc(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})}),ZS(s,"renderReferenceElement",function(e,t,r){if(!e)return null;var n=s.clipPathId,a=s.state,o=a.xAxisMap,l=a.yAxisMap,c=a.offset,d=e.type.defaultProps||{},u=e.props,h=u.xAxisId,f=void 0===h?d.xAxisId:h,p=u.yAxisId,m=void 0===p?d.yAxisId:p;return(0,i.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:o[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:n})}),ZS(s,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,a=e.basePoint,i=e.childIndex,s=e.isRange,o=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?XS(XS({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=XS(XS({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Ew(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Kc(d,!1)),Cc(d));return o.push(r.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(i))),a?o.push(r.renderActiveDot(d,XS(XS({},u),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):s&&o.push(null),o}),ZS(s,"renderGraphicChild",function(e,t,r){var n=s.filterFormatItem(e,t,r);if(!n)return null;var a=s.getTooltipEventType(),o=s.state,l=o.isTooltipActive,c=o.tooltipAxis,d=o.activeTooltipIndex,u=o.activeLabel,h=zc(s.props.children,au),f=n.props,p=f.points,m=f.isRange,g=f.baseLine,x=void 0!==n.item.type.defaultProps?XS(XS({},n.item.type.defaultProps),n.item.props):n.item.props,y=x.activeDot,b=x.hide,v=x.activeBar,w=x.activeShape,j=Boolean(!b&&l&&h&&(y||v||w)),k={};"axis"!==a&&h&&"click"===h.props.trigger?k={onClick:Rw(s.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(k={onMouseLeave:Rw(s.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Rw(s.handleItemMouseEnter,e.props.onMouseEnter)});var N=(0,i.cloneElement)(e,XS(XS({},n.props),k));if(j){if(!(d>=0)){var _,S=(null!==(_=s.getItemByXY(s.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:N}).graphicalItem,A=S.item,O=void 0===A?e:A,E=S.childIndex,C=XS(XS(XS({},n.props),k),{},{activeIndex:E});return[(0,i.cloneElement)(O,C),null,null]}var P,T;if(c.dataKey&&!c.allowDuplicatedCategory){var M="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());P=gc(p,M,u),T=m&&g&&gc(g,M,u)}else P=null===p||void 0===p?void 0:p[d],T=m&&g&&g[d];if(w||v){var L=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,i.cloneElement)(e,XS(XS(XS({},n.props),k),{},{activeIndex:L})),null,null]}if(!sc()(P))return[N].concat(GS(s.renderActivePoints({item:n,activePoint:P,basePoint:T,childIndex:d,isRange:m})))}return m?[N,null,null]:[N,null]}),ZS(s,"renderCustomized",function(e,t,r){return(0,i.cloneElement)(e,XS(XS({key:"recharts-customized-".concat(r)},s.props),s.state))}),ZS(s,"renderMap",{CartesianGrid:{handler:nA,once:!0},ReferenceArea:{handler:s.renderReferenceElement},ReferenceLine:{handler:nA},ReferenceDot:{handler:s.renderReferenceElement},XAxis:{handler:nA},YAxis:{handler:nA},Brush:{handler:s.renderBrush,once:!0},Bar:{handler:s.renderGraphicChild},Line:{handler:s.renderGraphicChild},Area:{handler:s.renderGraphicChild},Radar:{handler:s.renderGraphicChild},RadialBar:{handler:s.renderGraphicChild},Scatter:{handler:s.renderGraphicChild},Pie:{handler:s.renderGraphicChild},Funnel:{handler:s.renderGraphicChild},Tooltip:{handler:s.renderCursor,once:!0},PolarGrid:{handler:s.renderPolarGrid,once:!0},PolarAngleAxis:{handler:s.renderPolarAxis},PolarRadiusAxis:{handler:s.renderPolarAxis},Customized:{handler:s.renderCustomized}}),s.clipPathId="".concat(null!==(n=e.id)&&void 0!==n?n:hc("recharts"),"-clip"),s.throttleTriggeredAfterMouseMove=Jl()(s.triggeredAfterMouseMove,null!==(a=e.throttleDelay)&&void 0!==a?a:1e3/60),s.state={},s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KS(e,t)}(r,e),n=r,s=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=zc(t,au);if(i){var s=i.props.defaultIndex;if(!("number"!==typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=sA(this.state,r,s,o),c=this.state.tooltipTicks[s].coordinate,d=(this.state.offset.top+n)/2,u="horizontal"===a?{x:c,y:d}:{y:c,x:d},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(u=XS(XS({},u),h.props.points[s].tooltipPosition),l=h.props.points[s].tooltipPayload);var f={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(f),this.renderCursor(i),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){Gc([zc(e.children,au)],[zc(this.props.children,au)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=zc(this.props.children,au);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},s=n.width/r.offsetWidth||1,o=this.inRange(i.chartX,i.chartY,s);if(!o)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),h=oA(this.state,this.props.data,this.props.layout,o);if("axis"!==u&&c&&d){var f=pc(c).scale,p=pc(d).scale,m=f&&f.invert?f.invert(i.chartX):null,g=p&&p.invert?p.invert(i.chartY):null;return XS(XS({},i),{},{xValue:m,yValue:g},h)}return h?XS(XS({},i),h):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var s=this.state.offset;return a>=s.left&&a<=s.left+s.width&&i>=s.top&&i<=s.top+s.height?{x:a,y:i}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=pc(l);return Oj({x:a,y:i},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=zc(e,au),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),XS(XS({},Cc(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){L_.on(D_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){L_.removeListener(D_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var s=n[a];if(s.item===e||s.props.key===e.key||t===Ic(s.item.type)&&r===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,s=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:r,y:n,height:a,width:s})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=US(t,2),n=r[0],a=r[1];return XS(XS({},e),{},ZS({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=US(t,2),n=r[0],a=r[1];return XS(XS({},e),{},ZS({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var s=r[a],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?XS(XS({},l.type.defaultProps),l.props):l.props,d=Ic(l.type);if("Bar"===d){var u=(o.data||[]).find(function(t){return vp(e,t)});if(u)return{graphicalItem:s,payload:u}}else if("RadialBar"===d){var h=(o.data||[]).find(function(t){return Oj(e,t)});if(h)return{graphicalItem:s,payload:h}}else if(Uk(s,n)||qk(s,n)||zk(s,n)){var f=Kk({graphicalItem:s,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:XS(XS({},s),{},{childIndex:p}),payload:zk(s,n)?c.data[f]:s.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Hc(this))return null;var t,r,n=this.props,a=n.children,s=n.className,o=n.width,l=n.height,c=n.style,d=n.compact,u=n.title,h=n.desc,f=qS(n,IS),p=Kc(f,!1);if(d)return i.createElement(ZN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement(hd,BS({},p,{width:o,height:l,title:u,desc:h}),this.renderClipPath(),$c(a,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return i.createElement(ZN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement("div",BS({className:Yl("recharts-wrapper",s),style:XS({position:"relative",cursor:"default",width:o,height:l},c)},m,{ref:function(t){e.container=t}}),i.createElement(hd,BS({},p,{width:o,height:l,title:u,desc:h,style:tA}),this.renderClipPath(),$c(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],s&&zS(n.prototype,s),l&&zS(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,s,l}(i.Component);ZS(p,"displayName",t),ZS(p,"defaultProps",XS({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),ZS(p,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var h=dA(e);return XS(XS(XS({},h),{},{updateId:0},f(XS(XS({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!Nc(c,t.prevMargin)){var p=dA(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=XS(XS({},oA(t,n,o)),{},{updateId:t.updateId+1}),x=XS(XS(XS({},p),m),g);return XS(XS(XS({},x),f(XS({props:e},x),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Gc(a,t.prevChildren)){var y,b,v,w,j=zc(a,mj),k=j&&null!==(y=null===(b=j.props)||void 0===b?void 0:b.startIndex)&&void 0!==y?y:d,N=j&&null!==(v=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==v?v:u,_=k!==d||N!==u,S=!sc()(n)&&!_?t.updateId:t.updateId+1;return XS(XS({updateId:S},f(XS(XS({props:e},t),{},{updateId:S,dataStartIndex:k,dataEndIndex:N}),t)),{},{prevChildren:a,dataStartIndex:k,dataEndIndex:N})}return null}),ZS(p,"renderActiveDot",function(e,t,r){var n;return n=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):vc()(e)?e(t):i.createElement(Dh,t),i.createElement(gd,{className:"recharts-active-dot",key:r},n)});var m=(0,i.forwardRef)(function(e,t){return i.createElement(p,BS({},e,{ref:t}))});return m.displayName=p.displayName,m},mA=["type","layout","connectNulls","ref"],gA=["key"];function xA(e){return xA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xA(e)}function yA(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bA.apply(this,arguments)}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(t){EA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jA(e){return function(e){if(Array.isArray(e))return kA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CA(n.key),n)}}function _A(e,t,r){return t=AA(t),function(e,t){if(t&&("object"===xA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SA()?Reflect.construct(t,r||[],AA(e).constructor):t.apply(e,r))}function SA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(SA=function(){return!!e})()}function AA(e){return AA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AA(e)}function OA(e,t){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OA(e,t)}function EA(e,t,r){return(t=CA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CA(e){var t=function(e,t){if("object"!=xA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xA(t)?t:t+""}var PA=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return EA(e=_A(this,t,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),EA(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),EA(e,"getStrokeDasharray",function(r,n,a){var i=a.reduce(function(e,t){return e+t});if(!i)return e.generateSimpleStrokeDasharray(n,r);for(var s=Math.floor(r/i),o=r%i,l=n-r,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>o){c=[].concat(jA(a.slice(0,d)),[o-u]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(jA(t.repeat(a,s)),jA(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),EA(e,"id",hc("recharts-line-")),EA(e,"pathRef",function(t){e.mainCurve=t}),EA(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),EA(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OA(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(nC){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,s=r.yAxis,o=r.layout,l=qc(r.children,mw);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Aw(e.payload,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(gd,d,l.map(function(e){return i.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:a,yAxis:s,layout:o,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.dot,o=a.points,l=a.dataKey,c=Kc(this.props,!1),d=Kc(s,!0),u=o.map(function(e,r){var n=wA(wA(wA({key:"dot-".concat(r),r:3},c),d),{},{index:r,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:o});return t.renderDotItem(s,n)}),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return i.createElement(gd,bA({className:"recharts-line-dots",key:"dots"},h),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,s=a.type,o=a.layout,l=a.connectNulls,c=(a.ref,yA(a,mA)),d=wA(wA(wA({},Kc(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:s,layout:o,connectNulls:l});return i.createElement(vS,bA({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,s=n.strokeDasharray,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,h=n.animateNewValues,f=n.width,p=n.height,m=this.state,g=m.prevPoints,x=m.totalLength;return i.createElement(up,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(g){var o=g.length/a.length,l=a.map(function(e,t){var r=Math.floor(t*o);if(g[r]){var n=g[r],a=mc(n.x,e.x),s=mc(n.y,e.y);return wA(wA({},e),{},{x:a(i),y:s(i)})}if(h){var l=mc(2*f,e.x),c=mc(p/2,e.y);return wA(wA({},e),{},{x:l(i),y:c(i)})}return wA(wA({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,d=mc(0,x)(i);if(s){var u="".concat(s).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(d,x,u)}else c=r.generateSimpleStrokeDasharray(x,d);return r.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return a&&n&&n.length&&(!s&&o>0||!Sv()(s,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,s=t.className,o=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(r||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,x=Yl("recharts-line",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,v=y||b,w=sc()(p)?this.id:p,j=null!==(e=Kc(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=j.r,N=void 0===k?3:k,_=j.strokeWidth,S=void 0===_?2:_,A=(function(e){return e&&"object"===Dc(e)&&"clipDot"in e}(n)?n:{}).clipDot,O=void 0===A||A,E=2*N+S;return i.createElement(gd,{className:x},y||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(w)},i.createElement("rect",{x:y?d:d-u/2,y:b?c:c-h/2,width:y?u:2*u,height:b?h:2*h})),!O&&i.createElement("clipPath",{id:"clipPath-dots-".concat(w)},i.createElement("rect",{x:d-E/2,y:c-E/2,width:u+E,height:h+E}))):null,!g&&this.renderCurve(v,w),this.renderErrorBar(v,w),(g||n)&&this.renderDots(v,O,w),(!f||m)&&ok.renderCallByParent(this.props,a))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(jA(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(jA(n),jA(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(i.isValidElement(e))r=i.cloneElement(e,t);else if(vc()(e))r=e(t);else{var n=t.key,a=yA(t,gA),s=Yl("recharts-line-dot","boolean"!==typeof e?e.className:"");r=i.createElement(Dh,bA({key:n},a,{className:s}))}return r}}],n&&NA(r.prototype,n),a&&NA(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);function TA(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function MA(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),s=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},r)}function LA(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function DA(e){return DA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DA(e)}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(t){FA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FA(e,t,r){return t=function(e){var t=function(e,t){if("object"!=DA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=DA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BA(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!a||!a.length||!n)return[];if(cc(l)||Hd.isSsr)return function(e,t){return TA(e,t+1)}(a,"number"===typeof l&&cc(l)?l:0);var h=[],f="top"===o||"bottom"===o?"width":"height",p=d&&"width"===f?zp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=vc()(c)?c(e.value,n):e.value;return"width"===f?MA(zp(a,{fontSize:t,letterSpacing:r}),p,u):zp(a,{fontSize:t,letterSpacing:r})[f]},g=a.length>=2?oc(a[1].coordinate-a[0].coordinate):1,x=function(e,t,r){var n="width"===r,a=e.x,i=e.y,s=e.width,o=e.height;return 1===t?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}(i,g,f);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,s=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:TA(n,d)};var i,s=c,h=function(){return void 0===i&&(i=r(t,s)),i},f=t.coordinate,p=0===c||LA(e,f,h,u,l);p||(c=0,u=o,d+=1),p&&(u=f+e*(h()/2+a),c+=d)};d<=s.length;)if(i=h())return i.v;return[]}(g,x,m,a,s):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var d=n[o-1],u=r(d,o-1),h=e*(d.coordinate+e*u/2-c);s[o-1]=d=IA(IA({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),LA(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+a),s[o-1]=IA(IA({},d),{},{isShow:!0}))}for(var f=i?o-1:o,p=function(t){var n,i=s[t],o=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var d=e*(i.coordinate-e*o()/2-l);s[t]=i=IA(IA({},i),{},{tickCoord:d<0?i.coordinate-d*e:i.coordinate})}else s[t]=i=IA(IA({},i),{},{tickCoord:i.coordinate});LA(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=IA(IA({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(g,x,m,a,s,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(t){var n,c=i[t],d=function(){return void 0===n&&(n=r(c,t)),n};if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);i[t]=c=IA(IA({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else i[t]=c=IA(IA({},c),{},{tickCoord:c.coordinate});LA(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+a),i[t]=IA(IA({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return i}(g,x,m,a,s),h.filter(function(e){return e.isShow}))}EA(PA,"displayName","Line"),EA(PA,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Hd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),EA(PA,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,u=l.map(function(e,t){var l=Aw(e,s);return"horizontal"===d?{x:Hw({axis:r,ticks:a,bandSize:o,entry:e,index:t}),y:sc()(l)?null:n.scale(l),value:l,payload:e}:{x:sc()(l)?null:r.scale(l),y:Hw({axis:n,ticks:i,bandSize:o,entry:e,index:t}),value:l,payload:e}});return wA({points:u,layout:d},c)});var UA=["viewBox"],qA=["viewBox"],zA=["ticks"];function HA(e){return HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(e)}function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VA.apply(this,arguments)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(t){QA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GA(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eO(n.key),n)}}function $A(e,t,r){return t=XA(t),function(e,t){if(t&&("object"===HA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JA()?Reflect.construct(t,r||[],XA(e).constructor):t.apply(e,r))}function JA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(JA=function(){return!!e})()}function XA(e){return XA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XA(e)}function ZA(e,t){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZA(e,t)}function QA(e,t,r){return(t=eO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eO(e){var t=function(e,t){if("object"!=HA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=HA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HA(t)?t:t+""}var tO=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=$A(this,t,[e])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZA(e,t)}(t,e),r=t,n=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=GA(e,UA),a=this.props,i=a.viewBox,s=GA(a,qA);return!Nc(r,i)||!Nc(n,s)||!Nc(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,s,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,h=o.orientation,f=o.tickSize,p=o.mirror,m=o.tickMargin,g=p?-1:1,x=e.tickSize||f,y=cc(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=r=e.coordinate,s=(n=(a=c+ +!p*u)-g*x)-g*m,i=y;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!p*d)-g*x)-g*m,s=y;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +p*d)+g*x)+g*m,s=y;break;default:t=r=e.coordinate,s=(n=(a=c+ +p*u)+g*x)+g*m,i=y}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,s=e.orientation,o=e.mirror,l=e.axisLine,c=KA(KA(KA({},Kc(this.props,!1)),Kc(l,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var d=+("top"===s&&!o||"bottom"===s&&o);c=KA(KA({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var u=+("left"===s&&!o||"right"===s&&o);c=KA(KA({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+a})}return i.createElement("line",VA({},c,{className:Yl("recharts-cartesian-axis-line",rc()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,n){var a=this,s=this.props,o=s.tickLine,l=s.stroke,c=s.tick,d=s.tickFormatter,u=s.unit,h=BA(KA(KA({},this.props),{},{ticks:e}),r,n),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Kc(this.props,!1),g=Kc(c,!1),x=KA(KA({},m),{},{fill:"none"},Kc(o,!1)),y=h.map(function(e,r){var n=a.getTickLineCoord(e),s=n.line,y=n.tick,b=KA(KA(KA(KA({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),y),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:d});return i.createElement(gd,VA({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Pc(a.props,e,r)),o&&i.createElement("line",VA({},x,s,{className:Yl("recharts-cartesian-axis-tick-line",rc()(o,"className"))})),c&&t.renderTickItem(c,b,"".concat(vc()(d)?d(e.value,r):e.value).concat(u||"")))});return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,s=t.ticksGenerator,o=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,d=GA(l,zA),u=c;return vc()(s)&&(u=c&&c.length>0?s(this.props):s(d)),n<=0||a<=0||!u||!u.length?null:i.createElement(gd,{className:Yl("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),Uj.renderCallByParent(this.props))}}],a=[{key:"renderTickItem",value:function(e,t,r){var n=Yl(t.className,"recharts-cartesian-axis-tick-value");return i.isValidElement(e)?i.cloneElement(e,KA(KA({},t),{},{className:n})):vc()(e)?e(KA(KA({},t),{},{className:n})):i.createElement(xm,VA({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],n&&YA(r.prototype,n),a&&YA(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.Component);function rO(e){return rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rO(e)}function nO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cO(n.key),n)}}function aO(e,t,r){return t=sO(t),function(e,t){if(t&&("object"===rO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iO()?Reflect.construct(t,r||[],sO(e).constructor):t.apply(e,r))}function iO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(iO=function(){return!!e})()}function sO(e){return sO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sO(e)}function oO(e,t){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oO(e,t)}function lO(e,t,r){return(t=cO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cO(e){var t=function(e,t){if("object"!=rO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rO(t)?t:t+""}function dO(){return dO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dO.apply(this,arguments)}function uO(e){var t=e.xAxisId,r=t_(),n=r_(),a=QN(t);return null==a?null:i.createElement(tO,dO({},a,{className:Yl("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return Lw(e,!0)}}))}QA(tO,"displayName","CartesianAxis"),QA(tO,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),aO(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oO(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return i.createElement(uO,this.props)}}])&&nO(r.prototype,n),a&&nO(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.Component);function fO(e){return fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fO(e)}function pO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vO(n.key),n)}}function mO(e,t,r){return t=xO(t),function(e,t){if(t&&("object"===fO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gO()?Reflect.construct(t,r||[],xO(e).constructor):t.apply(e,r))}function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gO=function(){return!!e})()}function xO(e){return xO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xO(e)}function yO(e,t){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yO(e,t)}function bO(e,t,r){return(t=vO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e){var t=function(e,t){if("object"!=fO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fO(t)?t:t+""}function wO(){return wO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wO.apply(this,arguments)}lO(hO,"displayName","XAxis"),lO(hO,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var jO=function(e){var t=e.yAxisId,r=t_(),n=r_(),a=e_(t);return null==a?null:i.createElement(tO,wO({},a,{className:Yl("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return Lw(e,!0)}}))},kO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mO(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yO(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return i.createElement(jO,this.props)}}])&&pO(r.prototype,n),a&&pO(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.Component);bO(kO,"displayName","YAxis"),bO(kO,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var NO=pA({chartName:"LineChart",GraphicalChild:PA,axisComponents:[{axisType:"xAxis",AxisComp:hO},{axisType:"yAxis",AxisComp:kO}],formatAxisMap:function(e,t,r,n,a){var i=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),d={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},u=!!zc(l,xN);return c.reduce(function(i,s){var l,c,h,f,p,m=t[s],g=m.orientation,x=m.domain,y=m.padding,b=void 0===y?{}:y,v=m.mirror,w=m.reversed,j="".concat(g).concat(v?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var k=x[1]-x[0],N=1/0,_=m.categoricalDomain.sort(xc);if(_.forEach(function(e,t){t>0&&(N=Math.min((e||0)-(_[t-1]||0),N))}),Number.isFinite(N)){var S=N/k,A="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=S*A/2),"no-gap"===m.padding){var O=fc(e.barCategoryGap,S*A),E=S*A/2;l=E-O-(E-O)/A*O}}}c="xAxis"===n?[r.left+(b.left||0)+(l||0),r.left+r.width-(b.right||0)-(l||0)]:"yAxis"===n?"horizontal"===o?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(l||0),r.top+r.height-(b.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var C=Iw(m,a,u),P=C.scale,T=C.realScaleType;P.domain(x).range(c),Bw(P);var M=zw(P,wN(wN({},m),{},{realScaleType:T}));"xAxis"===n?(p="top"===g&&!v||"bottom"===g&&v,h=r.left,f=d[j]-p*m.height):"yAxis"===n&&(p="left"===g&&!v||"right"===g&&v,h=d[j]-p*m.width,f=r.top);var L=wN(wN(wN({},m),M),{},{realScaleType:T,x:h,y:f,scale:P,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return L.bandSize=$w(L,M),m.hide||"xAxis"!==n?m.hide||(d[j]+=(p?-1:1)*L.width):d[j]+=(p?-1:1)*L.height,wN(wN({},i),{},jN({},s,L))},{})}}),_O=["x1","y1","x2","y2","key"],SO=["offset"];function AO(e){return AO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AO(e)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(t){CO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CO(e,t,r){return t=function(e){var t=function(e,t){if("object"!=AO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=AO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PO(){return PO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PO.apply(this,arguments)}function TO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var MO=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return i.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function LO(e,t){var r;if(i.isValidElement(e))r=i.cloneElement(e,t);else if(vc()(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=TO(t,_O),d=Kc(c,!1),u=(d.offset,TO(d,SO));r=i.createElement("line",PO({},u,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function DO(e){var t=e.x,r=e.width,n=e.horizontal,a=void 0===n||n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(n,i){var s=EO(EO({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(i),index:i});return LO(a,s)});return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function RO(e){var t=e.y,r=e.height,n=e.vertical,a=void 0===n||n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(n,i){var s=EO(EO({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(i),index:i});return LO(a,s)});return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function IO(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var d=l.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==d[0]&&d.unshift(0);var u=d.map(function(e,l){var c=!d[l+1]?a+o-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:s,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function FO(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==u[0]&&u.unshift(0);var h=u.map(function(e,t){var r=!u[t+1]?s+l-e:u[t+1]-e;if(r<=0)return null;var d=t%n.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:r,height:c,stroke:"none",fill:n[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var BO=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return Mw(BA(EO(EO(EO({},tO.defaultProps),r),{},{ticks:Lw(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},UO=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return Mw(BA(EO(EO(EO({},tO.defaultProps),r),{},{ticks:Lw(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},qO={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zO(e){var t,r,n,a,s,o,l=t_(),c=r_(),d=(0,i.useContext)(YN),u=EO(EO({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:qO.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:qO.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:qO.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:qO.horizontalFill,vertical:null!==(s=e.vertical)&&void 0!==s?s:qO.vertical,verticalFill:null!==(o=e.verticalFill)&&void 0!==o?o:qO.verticalFill,x:cc(e.x)?e.x:d.left,y:cc(e.y)?e.y:d.top,width:cc(e.width)?e.width:d.width,height:cc(e.height)?e.height:d.height}),h=u.x,f=u.y,p=u.width,m=u.height,g=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,b=function(){var e=(0,i.useContext)(WN);return pc(e)}(),v=function(){var e=(0,i.useContext)(KN);return zN()(e,function(e){return Kj()(e.domain,Number.isFinite)})||pc(e)}();if(!cc(p)||p<=0||!cc(m)||m<=0||!cc(h)||h!==+h||!cc(f)||f!==+f)return null;var w=u.verticalCoordinatesGenerator||BO,j=u.horizontalCoordinatesGenerator||UO,k=u.horizontalPoints,N=u.verticalPoints;if((!k||!k.length)&&vc()(j)){var _=x&&x.length,S=j({yAxis:v?EO(EO({},v),{},{ticks:_?x:v.ticks}):void 0,width:l,height:c,offset:d},!!_||g);yc(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(AO(S),"]")),Array.isArray(S)&&(k=S)}if((!N||!N.length)&&vc()(w)){var A=y&&y.length,O=w({xAxis:b?EO(EO({},b),{},{ticks:A?y:b.ticks}):void 0,width:l,height:c,offset:d},!!A||g);yc(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(AO(O),"]")),Array.isArray(O)&&(N=O)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(MO,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),i.createElement(DO,PO({},u,{offset:d,horizontalPoints:k,xAxis:b,yAxis:v})),i.createElement(RO,PO({},u,{offset:d,verticalPoints:N,xAxis:b,yAxis:v})),i.createElement(IO,PO({},u,{horizontalPoints:k})),i.createElement(FO,PO({},u,{verticalPoints:N})))}zO.displayName="CartesianGrid";var HO=["points","className","baseLinePoints","connectNulls"];function VO(){return VO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VO.apply(this,arguments)}function WO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KO(e){return function(e){if(Array.isArray(e))return GO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return GO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YO=function(e){return e&&e.x===+e.x&&e.y===+e.y},$O=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){YO(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),YO(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(KO(e),KO(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},JO=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,s=WO(e,HO);if(!t||!t.length)return null;var o=Yl("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&"none"!==s.stroke,c=function(e,t,r){var n=$O(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat($O(t.reverse(),r).slice(1))}(t,n,a);return i.createElement("g",{className:o},i.createElement("path",VO({},Kc(s,!0),{fill:"Z"===c.slice(-1)?s.fill:"none",stroke:"none",d:c})),l?i.createElement("path",VO({},Kc(s,!0),{fill:"none",d:$O(t,a)})):null,l?i.createElement("path",VO({},Kc(s,!0),{fill:"none",d:$O(n,a)})):null)}var d=$O(t,a);return i.createElement("path",VO({},Kc(s,!0),{fill:"Z"===d.slice(-1)?s.fill:"none",className:o,d:d}))};function XO(e){return XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XO(e)}function ZO(){return ZO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZO.apply(this,arguments)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(t){sE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oE(n.key),n)}}function rE(e,t,r){return t=aE(t),function(e,t){if(t&&("object"===XO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nE()?Reflect.construct(t,r||[],aE(e).constructor):t.apply(e,r))}function nE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nE=function(){return!!e})()}function aE(e){return aE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aE(e)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iE(e,t)}function sE(e,t,r){return(t=oE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oE(e){var t=function(e,t){if("object"!=XO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=XO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XO(t)?t:t+""}var lE=Math.PI/180,cE=1e-5,dE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rE(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}(t,e),r=t,n=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,s=t.tickSize||8,o=Nj(r,n,a,e.coordinate),l=Nj(r,n,a+("inner"===i?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*lE);return r>cE?"outer"===t?"start":"end":r<-cE?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,s=e.axisLineType,o=eE(eE({},Kc(this.props,!1)),{},{fill:"none"},Kc(a,!1));if("circle"===s)return i.createElement(Dh,ZO({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:n}));var l=this.props.ticks.map(function(e){return Nj(t,r,n,e.coordinate)});return i.createElement(JO,ZO({className:"recharts-polar-angle-axis-line"},o,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,a=r.tick,s=r.tickLine,o=r.tickFormatter,l=r.stroke,c=Kc(this.props,!1),d=Kc(a,!1),u=eE(eE({},c),{},{fill:"none"},Kc(s,!1)),h=n.map(function(r,n){var h=e.getTickLineCoord(r),f=eE(eE(eE({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},d),{},{index:n,payload:r,x:h.x2,y:h.y2});return i.createElement(gd,ZO({className:Yl("recharts-polar-angle-axis-tick",Ej(a)),key:"tick-".concat(r.coordinate)},Pc(e.props,r,n)),s&&i.createElement("line",ZO({className:"recharts-polar-angle-axis-tick-line"},u,h)),a&&t.renderTickItem(a,f,o?o(r.value,n):r.value))});return i.createElement(gd,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:i.createElement(gd,{className:Yl("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}],a=[{key:"renderTickItem",value:function(e,t,r){return i.isValidElement(e)?i.cloneElement(e,t):vc()(e)?e(t):i.createElement(xm,ZO({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],n&&tE(r.prototype,n),a&&tE(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);sE(dE,"displayName","PolarAngleAxis"),sE(dE,"axisType","angleAxis"),sE(dE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var uE=r(2794),hE=r.n(uE),fE=r(9364),pE=r.n(fE),mE=["cx","cy","angle","ticks","axisLine"],gE=["ticks","tick","angle","tickFormatter","stroke"];function xE(e){return xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xE(e)}function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yE.apply(this,arguments)}function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(t){AE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OE(n.key),n)}}function kE(e,t,r){return t=_E(t),function(e,t){if(t&&("object"===xE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NE()?Reflect.construct(t,r||[],_E(e).constructor):t.apply(e,r))}function NE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(NE=function(){return!!e})()}function _E(e){return _E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_E(e)}function SE(e,t){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SE(e,t)}function AE(e,t,r){return(t=OE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OE(e){var t=function(e,t){if("object"!=xE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xE(t)?t:t+""}var EE,CE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kE(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SE(e,t)}(t,e),r=t,n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return Nj(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=hE()(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:pE()(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,s=e.axisLine,o=wE(e,mE),l=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),c=Nj(t,r,l[0],n),d=Nj(t,r,l[1],n),u=vE(vE(vE({},Kc(o,!1)),{},{fill:"none"},Kc(s,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return i.createElement("line",yE({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,a=r.tick,s=r.angle,o=r.tickFormatter,l=r.stroke,c=wE(r,gE),d=this.getTickTextAnchor(),u=Kc(c,!1),h=Kc(a,!1),f=n.map(function(r,n){var c=e.getTickValueCoord(r),f=vE(vE(vE(vE({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(c.x,", ").concat(c.y,")")},u),{},{stroke:"none",fill:l},h),{},{index:n},c),{},{payload:r});return i.createElement(gd,yE({className:Yl("recharts-polar-radius-axis-tick",Ej(a)),key:"tick-".concat(r.coordinate)},Pc(e.props,r,n)),t.renderTickItem(a,f,o?o(r.value,n):r.value))});return i.createElement(gd,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?i.createElement(gd,{className:Yl("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),Uj.renderCallByParent(this.props,this.getViewBox())):null}}],a=[{key:"renderTickItem",value:function(e,t,r){return i.isValidElement(e)?i.cloneElement(e,t):vc()(e)?e(t):i.createElement(xm,yE({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],n&&jE(r.prototype,n),a&&jE(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);function PE(e){return PE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PE(e)}function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TE.apply(this,arguments)}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(t){UE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qE(n.key),n)}}function RE(e,t,r){return t=FE(t),function(e,t){if(t&&("object"===PE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,IE()?Reflect.construct(t,r||[],FE(e).constructor):t.apply(e,r))}function IE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(IE=function(){return!!e})()}function FE(e){return FE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FE(e)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BE(e,t)}function UE(e,t,r){return(t=qE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qE(e){var t=function(e,t){if("object"!=PE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=PE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PE(t)?t:t+""}AE(CE,"displayName","PolarRadiusAxis"),AE(CE,"axisType","radiusAxis"),AE(CE,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var zE=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),UE(r=RE(this,t,[e]),"pieRef",null),UE(r,"sectorRefs",[]),UE(r,"id",hc("recharts-pie-")),UE(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),vc()(e)&&e()}),UE(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),vc()(e)&&e()}),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}(t,e),r=t,n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,a=r.labelLine,s=r.dataKey,o=r.valueKey,l=Kc(this.props,!1),c=Kc(n,!1),d=Kc(a,!1),u=n&&n.offsetRadius||20,h=e.map(function(e,r){var h=(e.startAngle+e.endAngle)/2,f=Nj(e.cx,e.cy,e.outerRadius+u,h),p=LE(LE(LE(LE({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(f.x,e.cx)},f),m=LE(LE(LE(LE({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[Nj(e.cx,e.cy,e.outerRadius,h),f]}),g=s;return sc()(s)&&sc()(o)?g="value":sc()(s)&&(g=o),i.createElement(gd,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},a&&t.renderLabelLineItem(a,m,"line"),t.renderLabelItem(n,p,Aw(e,g)))});return i.createElement(gd,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,a=r.blendStroke,s=r.inactiveShape;return e.map(function(r,o){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(o),c=s&&t.hasActiveIndex()?s:null,d=l?n:c,u=LE(LE({},r),{},{stroke:a?r.fill:r.stroke,tabIndex:-1});return i.createElement(gd,TE({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Pc(t.props,r,o),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(o)}),i.createElement(Bk,TE({option:d,isActive:l,shapeType:"sector"},u)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state,d=c.prevSectors,u=c.prevIsAnimationActive;return i.createElement(up,{begin:a,duration:s,isActive:n,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,a=[],s=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=d&&d[t],i=t>0?rc()(e,"paddingAngle",0):0;if(r){var o=mc(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=LE(LE({},e),{},{startAngle:s+i,endAngle:s+o(n)+i});a.push(l),s=l.endAngle}else{var c=e.endAngle,u=e.startAngle,h=mc(0,c-u)(n),f=LE(LE({},e),{},{startAngle:s+i,endAngle:s+h+i});a.push(f),s=f.endAngle}}),i.createElement(gd,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&Sv()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,a=t.className,s=t.label,o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.isAnimationActive,h=this.state.isAnimationFinished;if(r||!n||!n.length||!cc(o)||!cc(l)||!cc(c)||!cc(d))return null;var f=Yl("recharts-pie",a);return i.createElement(gd,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),s&&this.renderLabels(n),Uj.renderCallByParent(this.props,null,!1),(!u||h)&&ok.renderCallByParent(this.props,n,!1))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(i.isValidElement(e))return i.cloneElement(e,t);if(vc()(e))return e(t);var n=Yl("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return i.createElement(vS,TE({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(i.isValidElement(e))return i.cloneElement(e,t);var n=r;if(vc()(e)&&(n=e(t),i.isValidElement(n)))return n;var a=Yl("recharts-pie-label-text","boolean"===typeof e||vc()(e)?"":e.className);return i.createElement(xm,TE({},t,{alignmentBaseline:"middle",className:a}),n)}}],n&&DE(r.prototype,n),a&&DE(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(i.PureComponent);EE=zE,UE(zE,"displayName","Pie"),UE(zE,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Hd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),UE(zE,"parseDeltaAngle",function(e,t){return oc(t-e)*Math.min(Math.abs(t-e),360)}),UE(zE,"getRealPieData",function(e){var t=e.data,r=e.children,n=Kc(e,!1),a=qc(r,Gj);return t&&t.length?t.map(function(e,t){return LE(LE(LE({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return LE(LE({},n),e.props)}):[]}),UE(zE,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=_j(a,i);return{cx:n+fc(e.cx,a,a/2),cy:r+fc(e.cy,i,i/2),innerRadius:fc(e.innerRadius,s,0),outerRadius:fc(e.outerRadius,s,.8*s),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),UE(zE,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?LE(LE({},t.type.defaultProps),t.props):t.props,a=EE.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,u=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),p=EE.parseCoordinateOfPie(n,r),m=EE.parseDeltaAngle(s,o),g=Math.abs(m),x=c;sc()(c)&&sc()(u)?(yc(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x="value"):sc()(c)&&(yc(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x=u);var y,b,v=a.filter(function(e){return 0!==Aw(e,x,0)}).length,w=g-v*f-(g>=360?v:v-1)*l,j=a.reduce(function(e,t){var r=Aw(t,x,0);return e+(cc(r)?r:0)},0);j>0&&(y=a.map(function(e,t){var r,n=Aw(e,x,0),a=Aw(e,d,t),o=(cc(n)?n:0)/j,c=(r=t?b.endAngle+oc(m)*l*(0!==n?1:0):s)+oc(m)*((0!==n?f:0)+o*w),u=(r+c)/2,g=(p.innerRadius+p.outerRadius)/2,y=[{name:a,value:n,payload:e,dataKey:x,type:h}],v=Nj(p.cx,p.cy,g,u);return b=LE(LE(LE({percent:o,cornerRadius:i,name:a,tooltipPayload:y,midAngle:u,middleRadius:g,tooltipPosition:v},e),p),{},{value:Aw(e,x),startAngle:r,endAngle:c,payload:e,paddingAngle:oc(m)*l})}));return LE(LE({},p),{},{sectors:y,data:a})});var HE=pA({chartName:"PieChart",GraphicalChild:zE,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dE},{axisType:"radiusAxis",AxisComp:CE}],formatAxisMap:function(e,t,r,n,a){var i=e.width,s=e.height,o=e.startAngle,l=e.endAngle,c=fc(e.cx,i,i/2),d=fc(e.cy,s,s/2),u=_j(i,s,r),h=fc(e.innerRadius,u,0),f=fc(e.outerRadius,u,.8*u);return Object.keys(t).reduce(function(e,r){var i,s=t[r],u=s.domain,p=s.reversed;if(sc()(s.range))"angleAxis"===n?i=[o,l]:"radiusAxis"===n&&(i=[h,f]),p&&(i=[i[1],i[0]]);else{var m=vj(i=s.range,2);o=m[0],l=m[1]}var g=Iw(s,a),x=g.realScaleType,y=g.scale;y.domain(u).range(i),Bw(y);var b=zw(y,yj(yj({},s),{},{realScaleType:x})),v=yj(yj(yj({},s),b),{},{range:i,radius:f,realScaleType:x,scale:y,cx:c,cy:d,innerRadius:h,outerRadius:f,startAngle:o,endAngle:l});return yj(yj({},e),{},bj({},r,v))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const VE=()=>{const[e,t]=(0,i.useState)(null),[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)("overview");(0,i.useEffect)(()=>{u()},[]);const u=async()=>{try{l(!0);const e="https://basket-loader.preview.emergentagent.com",[r,a,i]=await Promise.all([fetch("".concat(e,"/api/admin/analytics/dashboard")),fetch("".concat(e,"/api/admin/analytics/kpis")),fetch("".concat(e,"/api/admin/analytics/predictive"))]),o=await r.json(),c=await a.json(),d=await i.json();t(o),n(c),s(d.predictions)}catch(e){console.error("Failed to fetch analytics data:",e)}finally{l(!1)}},h=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];if(o)return(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,bn.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading Analytics Dashboard..."})]})});return(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,bn.jsxs)("div",{className:"mb-8",children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Intelligence Dashboard"}),(0,bn.jsx)("p",{className:"text-gray-600 mt-2",children:"Comprehensive analytics and insights for Cataloro Marketplace"})]}),(0,bn.jsx)("div",{className:"mb-6",children:(0,bn.jsx)("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"overview",name:"Overview",icon:"\ud83d\udcca"},{id:"predictions",name:"Predictions",icon:"\ud83d\udd2e"},{id:"recommendations",name:"Recommendations",icon:"\ud83d\udca1"}].map(e=>(0,bn.jsxs)("button",{onClick:()=>d(e.id),className:"".concat(c===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2"),children:[(0,bn.jsx)("span",{children:e.icon}),(0,bn.jsx)("span",{children:e.name})]},e.id))})}),"overview"===c&&(()=>{var t,n,a,i,s,o,l,c,d,u,f,p,m;return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udc65"})})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(t=e.overview)||void 0===t?void 0:t.total_users)||0}),(0,bn.jsxs)("p",{className:"text-xs text-green-600",children:["+",(null===e||void 0===e||null===(n=e.overview)||void 0===n?void 0:n.new_users_30d)||0," this month"]})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white text-sm font-bold",children:"\u20ac"})})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),(0,bn.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20ac",(null===e||void 0===e||null===(a=e.overview)||void 0===a?void 0:a.total_revenue)||0]}),(0,bn.jsxs)("p",{className:"text-xs text-blue-600",children:[(null===e||void 0===e||null===(i=e.trends)||void 0===i?void 0:i.avg_transaction_value)||0," avg/transaction"]})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udccb"})})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active Listings"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(s=e.overview)||void 0===s?void 0:s.active_listings)||0}),(0,bn.jsxs)("p",{className:"text-xs text-green-600",children:["+",(null===e||void 0===e||null===(o=e.trends)||void 0===o?void 0:o.new_listings_30d)||0," this month"]})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udcc8"})})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Conversion Rate"}),(0,bn.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(100*(null===e||void 0===e||null===(l=e.overview)||void 0===l?void 0:l.conversion_rate)||0).toFixed(1),"%"]}),(0,bn.jsxs)("p",{className:"text-xs text-gray-600",children:[(null===e||void 0===e||null===(c=e.overview)||void 0===c?void 0:c.total_transactions)||0," transactions"]})]})]})})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Business Health Scores"}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:(null===r||void 0===r?void 0:r.health_scores)&&Object.entries(r.health_scores).map(e=>{let[t,r]=e;return(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"mb-2",children:(0,bn.jsxs)("div",{className:"w-16 h-16 mx-auto",children:[(0,bn.jsxs)("svg",{className:"w-16 h-16 transform -rotate-90",children:[(0,bn.jsx)("circle",{cx:"32",cy:"32",r:"28",stroke:"#e5e7eb",strokeWidth:"4",fill:"transparent"}),(0,bn.jsx)("circle",{cx:"32",cy:"32",r:"28",stroke:r>70?"#10b981":r>40?"#f59e0b":"#ef4444",strokeWidth:"4",fill:"transparent",strokeDasharray:"".concat(2*Math.PI*28),strokeDashoffset:"".concat(2*Math.PI*28*(1-r/100)),className:"transition-all duration-300"})]}),(0,bn.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,bn.jsxs)("span",{className:"text-sm font-bold",children:[r.toFixed(1),"%"]})})]})}),(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-700 capitalize",children:t.replace("_"," ")})]},t)})})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Registration Trend"}),(0,bn.jsx)(rd,{width:"100%",height:300,children:(0,bn.jsxs)(NO,{data:(null===e||void 0===e||null===(d=e.charts_data)||void 0===d?void 0:d.daily_registrations)||[],children:[(0,bn.jsx)(zO,{strokeDasharray:"3 3"}),(0,bn.jsx)(hO,{dataKey:"_id"}),(0,bn.jsx)(kO,{}),(0,bn.jsx)(au,{}),(0,bn.jsx)(PA,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2})]})})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Type Distribution"}),(0,bn.jsx)(rd,{width:"100%",height:300,children:(0,bn.jsxs)(HE,{children:[(0,bn.jsx)(zE,{data:(null===e||void 0===e||null===(u=e.charts_data)||void 0===u||null===(f=u.user_type_breakdown)||void 0===f?void 0:f.map(e=>({name:e._id,value:e.count})))||[],cx:"50%",cy:"50%",innerRadius:40,outerRadius:100,paddingAngle:5,dataKey:"value",children:null===e||void 0===e||null===(p=e.charts_data)||void 0===p||null===(m=p.user_type_breakdown)||void 0===m?void 0:m.map((e,t)=>(0,bn.jsx)(Gj,{fill:h[t%h.length]},"cell-".concat(t)))}),(0,bn.jsx)(au,{})]})})]})]})]})})(),"predictions"===c&&(()=>{var e,t,r,n,i,s,o,l,c,d,u,h,f,p;return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"30-Day Forecasts"}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bn.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,bn.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["\u20ac",(null===a||void 0===a||null===(e=a.revenue_forecast)||void 0===e||null===(t=e.forecast)||void 0===t?void 0:t.toFixed(2))||0]}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Revenue Forecast"}),(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,bn.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("increasing"===(null===a||void 0===a||null===(r=a.revenue_forecast)||void 0===r?void 0:r.trend)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:(null===a||void 0===a||null===(n=a.revenue_forecast)||void 0===n?void 0:n.trend)||"stable"}),(0,bn.jsxs)("span",{className:"text-xs text-gray-500",children:[(100*((null===a||void 0===a||null===(i=a.revenue_forecast)||void 0===i?void 0:i.confidence)||0)).toFixed(0),"% confidence"]})]})]}),(0,bn.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:(null===a||void 0===a||null===(s=a.user_growth_forecast)||void 0===s?void 0:s.forecast)||0}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"New Users Forecast"}),(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,bn.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("growing"===(null===a||void 0===a||null===(o=a.user_growth_forecast)||void 0===o?void 0:o.trend)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:(null===a||void 0===a||null===(l=a.user_growth_forecast)||void 0===l?void 0:l.trend)||"stable"}),(0,bn.jsxs)("span",{className:"text-xs text-gray-500",children:[(100*((null===a||void 0===a||null===(c=a.user_growth_forecast)||void 0===c?void 0:c.confidence)||0)).toFixed(0),"% confidence"]})]})]}),(0,bn.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,bn.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:(null===a||void 0===a||null===(d=a.listing_volume_forecast)||void 0===d?void 0:d.forecast)||0}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"New Listings Forecast"}),(0,bn.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,bn.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("steady"===(null===a||void 0===a||null===(u=a.listing_volume_forecast)||void 0===u?void 0:u.trend)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:(null===a||void 0===a||null===(h=a.listing_volume_forecast)||void 0===h?void 0:h.trend)||"stable"}),(0,bn.jsxs)("span",{className:"text-xs text-gray-500",children:[(100*((null===a||void 0===a||null===(f=a.listing_volume_forecast)||void 0===f?void 0:f.confidence)||0)).toFixed(0),"% confidence"]})]})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Market Trends & Insights"}),(0,bn.jsx)("div",{className:"space-y-4",children:(null===a||void 0===a||null===(p=a.market_trends)||void 0===p?void 0:p.map((e,t)=>(0,bn.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,bn.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.category}),(0,bn.jsx)("p",{className:"text-sm text-gray-600",children:e.insight})]})]},t)))||[(0,bn.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,bn.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Marketplace Growth"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600",children:"Steady growth expected based on current trends"})]})]})]})]})]})})(),"recommendations"===c&&(()=>{var t;return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Business Recommendations"}),(0,bn.jsx)("div",{className:"space-y-4",children:(null===r||void 0===r||null===(t=r.recommendations)||void 0===t?void 0:t.map((e,t)=>(0,bn.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-3",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:e.category}),(0,bn.jsxs)("span",{className:"px-2 py-1 text-xs rounded ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.priority," priority"]})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.message}),e.expected_impact&&(0,bn.jsxs)("p",{className:"text-xs text-blue-600 font-medium",children:["Expected Impact: ",e.expected_impact]})]},t)))||[]})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Performance Indicators"}),(0,bn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(null===e||void 0===e?void 0:e.performance_indicators)&&Object.entries(e.performance_indicators).map(e=>{let[t,r]=e;return(0,bn.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,bn.jsx)("div",{className:"text-lg font-semibold text-gray-900 mb-1",children:"number"===typeof r?r.toFixed(1):r}),(0,bn.jsx)("div",{className:"text-sm text-gray-600 capitalize",children:t.replace("_"," ")})]},t)})})]})]})})(),(0,bn.jsx)("div",{className:"mt-8 text-center",children:(0,bn.jsx)("button",{onClick:u,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Analytics Data"})})]})})},WE=()=>{const[e,t]=(0,i.useState)(null),[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)("performance");(0,i.useEffect)(()=>{u();const e=setInterval(u,3e4);return()=>clearInterval(e)},[]);const u=async()=>{try{const e="https://basket-loader.preview.emergentagent.com",[r,a,i]=await Promise.all([fetch("".concat(e,"/api/admin/performance")),fetch("".concat(e,"/api/admin/monitoring/dashboard")),fetch("".concat(e,"/api/admin/system/health"))]),o=await r.json(),l=await a.json(),c=await i.json();t(o),n(l),s(c)}catch(e){console.error("Failed to fetch performance data:",e)}finally{l(!1)}};if(o)return(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,bn.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading Performance Dashboard..."})]})});const h=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"healthy":case"secure":case"optimized":case"enabled":return"text-green-600 bg-green-100";case"warning":case"medium_risk":case"degraded":return"text-yellow-600 bg-yellow-100";case"critical":case"high_risk":case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,bn.jsxs)("div",{className:"mb-8",children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Performance & Monitoring Dashboard"}),(0,bn.jsx)("p",{className:"text-gray-600 mt-2",children:"System performance optimization and real-time monitoring"})]}),(0,bn.jsx)("div",{className:"mb-6",children:(0,bn.jsx)("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"performance",name:"Performance",icon:"\u26a1"},{id:"monitoring",name:"Monitoring",icon:"\ud83d\udcca"}].map(e=>(0,bn.jsxs)("button",{onClick:()=>d(e.id),className:"".concat(c===e.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2"),children:[(0,bn.jsx)("span",{children:e.icon}),(0,bn.jsx)("span",{children:e.name})]},e.id))})}),"performance"===c&&(()=>{var t,r,n,a,i,s,o;return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Database Status"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:null!==e&&void 0!==e&&null!==(t=e.optimizations)&&void 0!==t&&null!==(r=t.database_indexes)&&void 0!==r&&r.includes("\u2705")?"Optimized":"Basic"}),(0,bn.jsx)("p",{className:"text-xs text-green-600",children:null!==e&&void 0!==e&&null!==(n=e.database)&&void 0!==n&&n.index_size?"".concat((e.database.index_size/1024/1024).toFixed(1),"MB indexes"):"80+ indexes created"})]}),(0,bn.jsx)("div",{className:"text-2xl",children:"\ud83d\uddc3\ufe0f"})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Cache Status"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"healthy"===(null===e||void 0===e||null===(a=e.cache)||void 0===a?void 0:a.status)?"Active":"Fallback"}),(0,bn.jsxs)("p",{className:"text-xs text-blue-600",children:[(null===e||void 0===e||null===(i=e.cache)||void 0===i?void 0:i.total_keys)||0," keys cached"]})]}),(0,bn.jsx)("div",{className:"text-2xl",children:"\ud83d\udcbe"})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Search Engine"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"enabled"===(null===e||void 0===e||null===(s=e.search)||void 0===s?void 0:s.status)?"Active":"Fallback"}),(0,bn.jsx)("p",{className:"text-xs text-purple-600",children:"Database search ready"})]}),(0,bn.jsx)("div",{className:"text-2xl",children:"\ud83d\udd0d"})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Analytics"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:null!==e&&void 0!==e&&null!==(o=e.analytics)&&void 0!==o&&o.service_enabled?"Active":"Disabled"}),(0,bn.jsx)("p",{className:"text-xs text-orange-600",children:"BI & Forecasting enabled"})]}),(0,bn.jsx)("div",{className:"text-2xl",children:"\ud83d\udcca"})]})})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Performance Optimizations"}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-700",children:"Database Optimizations"}),(null===e||void 0===e?void 0:e.optimizations)&&Object.entries(e.optimizations).map(e=>{let[t,r]=e;return(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t.replace(/_/g," ")}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(r.includes("\u2705")?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:r.includes("\u2705")?"Implemented":"Basic"})]},t)})]}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-700",children:"Scalability Features"}),(null===e||void 0===e?void 0:e.scalability)&&Object.entries(e.scalability).map(e=>{let[t,r]=e;return(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t.replace(/_/g," ")}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:r})]},t)})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Database Collections Status"}),(0,bn.jsx)("div",{className:"overflow-x-auto",children:(0,bn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,bn.jsx)("thead",{className:"bg-gray-50",children:(0,bn.jsxs)("tr",{children:[(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indexes"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,bn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(null===e||void 0===e?void 0:e.collections)&&Object.entries(e.collections).map(e=>{let[t,r]=e;return(0,bn.jsxs)("tr",{children:[(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.document_count||0}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.index_count||0}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Optimized"})})]},t)})})]})})]})]})})(),"monitoring"===c&&(()=>{var e,t,n,i,s,o,l,c,d,u,f,p,m,g,x,y,b,v,w,j,k,N,_,S,A;return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"System Health"}),(0,bn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(h(null===a||void 0===a?void 0:a.overall_status)),children:(null===a||void 0===a?void 0:a.overall_status)||"unknown"})]}),(0,bn.jsx)("div",{className:"space-y-2",children:(null===a||void 0===a?void 0:a.components)&&Object.entries(a.components).map(e=>{let[t,r]=e;return(0,bn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-gray-600 capitalize",children:t}),(0,bn.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(h(r.status)),children:r.status})]},t)})})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),(0,bn.jsxs)("div",{className:"space-y-3",children:[(0,bn.jsx)("div",{children:(0,bn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-gray-600",children:"Uptime"}),(0,bn.jsx)("span",{className:"font-medium",children:(null===r||void 0===r||null===(e=r.uptime)||void 0===e?void 0:e.uptime_formatted)||"0m"})]})}),(0,bn.jsx)("div",{children:(0,bn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-gray-600",children:"Avg Response Time"}),(0,bn.jsxs)("span",{className:"font-medium",children:[(null===r||void 0===r||null===(t=r.performance_metrics)||void 0===t||null===(n=t.request_metrics)||void 0===n?void 0:n.avg_response_time_ms)||0,"ms"]})]})}),(0,bn.jsx)("div",{children:(0,bn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-gray-600",children:"Total Requests"}),(0,bn.jsx)("span",{className:"font-medium",children:(null===r||void 0===r||null===(i=r.performance_metrics)||void 0===i||null===(s=i.request_metrics)||void 0===s?void 0:s.total_requests)||0})]})}),(0,bn.jsx)("div",{children:(0,bn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-gray-600",children:"Error Rate"}),(0,bn.jsxs)("span",{className:"font-medium",children:[(100*(null===r||void 0===r||null===(o=r.performance_metrics)||void 0===o||null===(l=o.error_metrics)||void 0===l?void 0:l.recent_error_rate)||0).toFixed(2),"%"]})]})})]})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Resources"}),(0,bn.jsx)("div",{className:"space-y-3",children:(null===r||void 0===r||null===(c=r.performance_metrics)||void 0===c?void 0:c.system_metrics)&&(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,bn.jsx)("span",{className:"text-gray-600",children:"CPU Usage"}),(0,bn.jsxs)("span",{className:"font-medium",children:[(null===(d=r.performance_metrics.system_metrics.cpu)||void 0===d||null===(u=d.percent)||void 0===u?void 0:u.toFixed(1))||0,"%"]})]}),(0,bn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,bn.jsx)("div",{className:"h-2 rounded-full ".concat(((null===(f=r.performance_metrics.system_metrics.cpu)||void 0===f?void 0:f.percent)||0)>80?"bg-red-500":((null===(p=r.performance_metrics.system_metrics.cpu)||void 0===p?void 0:p.percent)||0)>60?"bg-yellow-500":"bg-green-500"),style:{width:"".concat((null===(m=r.performance_metrics.system_metrics.cpu)||void 0===m?void 0:m.percent)||0,"%")}})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,bn.jsx)("span",{className:"text-gray-600",children:"Memory Usage"}),(0,bn.jsxs)("span",{className:"font-medium",children:[(null===(g=r.performance_metrics.system_metrics.memory)||void 0===g||null===(x=g.percent)||void 0===x?void 0:x.toFixed(1))||0,"%"]})]}),(0,bn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,bn.jsx)("div",{className:"h-2 rounded-full ".concat(((null===(y=r.performance_metrics.system_metrics.memory)||void 0===y?void 0:y.percent)||0)>85?"bg-red-500":((null===(b=r.performance_metrics.system_metrics.memory)||void 0===b?void 0:b.percent)||0)>70?"bg-yellow-500":"bg-green-500"),style:{width:"".concat((null===(v=r.performance_metrics.system_metrics.memory)||void 0===v?void 0:v.percent)||0,"%")}})})]}),(0,bn.jsxs)("div",{children:[(0,bn.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,bn.jsx)("span",{className:"text-gray-600",children:"Disk Usage"}),(0,bn.jsxs)("span",{className:"font-medium",children:[(null===(w=r.performance_metrics.system_metrics.disk)||void 0===w||null===(j=w.percent)||void 0===j?void 0:j.toFixed(1))||0,"%"]})]}),(0,bn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,bn.jsx)("div",{className:"h-2 rounded-full ".concat(((null===(k=r.performance_metrics.system_metrics.disk)||void 0===k?void 0:k.percent)||0)>90?"bg-red-500":((null===(N=r.performance_metrics.system_metrics.disk)||void 0===N?void 0:N.percent)||0)>75?"bg-yellow-500":"bg-green-500"),style:{width:"".concat((null===(_=r.performance_metrics.system_metrics.disk)||void 0===_?void 0:_.percent)||0,"%")}})})]})]})})]})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Alerts"}),(0,bn.jsx)("div",{className:"space-y-3",children:(null===r||void 0===r||null===(S=r.recent_alerts)||void 0===S?void 0:S.length)>0?r.recent_alerts.map((e,t)=>(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,bn.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,bn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,bn.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(h(e.severity)),children:e.severity}),(0,bn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t)):(0,bn.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,bn.jsx)("div",{className:"text-4xl mb-2",children:"\u2705"}),(0,bn.jsx)("p",{children:"No recent alerts - System running smoothly"})]})})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monitoring Recommendations"}),(0,bn.jsx)("div",{className:"space-y-3",children:(null===r||void 0===r||null===(A=r.monitoring_recommendations)||void 0===A?void 0:A.map((e,t)=>(0,bn.jsxs)("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,bn.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,bn.jsxs)("span",{className:"text-xs px-2 py-1 rounded mt-1 inline-block ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.priority," priority"]})]},t)))||[]})]})]})})(),(0,bn.jsx)("div",{className:"mt-8 text-center",children:(0,bn.jsx)("button",{onClick:u,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Refresh System Status"})})]})})},KE=()=>{const[e,t]=(0,i.useState)(null),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)("overview");(0,i.useEffect)(()=>{u();const e=setInterval(u,6e4);return()=>clearInterval(e)},[]);const u=async()=>{try{const e="https://basket-loader.preview.emergentagent.com",r=await fetch("".concat(e,"/api/admin/security/dashboard")),a=await r.json();t(a.security_metrics),n(a.recent_audit_logs||[]),s(a.active_security_alerts||[])}catch(e){console.error("Failed to fetch security data:",e)}finally{l(!1)}};if(o)return(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,bn.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading Security Dashboard..."})]})});const h=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"secure":return"text-green-600 bg-green-100";case"medium_risk":return"text-yellow-600 bg-yellow-100";case"high_risk":return"text-orange-600 bg-orange-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,bn.jsxs)("div",{className:"mb-8",children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Security Dashboard"}),(0,bn.jsx)("p",{className:"text-gray-600 mt-2",children:"Comprehensive security monitoring and threat management"})]}),(0,bn.jsx)("div",{className:"mb-6",children:(0,bn.jsx)("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"overview",name:"Overview",icon:"\ud83d\udee1\ufe0f"},{id:"alerts",name:"Alerts",icon:"\ud83d\udea8"},{id:"audit",name:"Audit Logs",icon:"\ud83d\udccb"},{id:"recommendations",name:"Recommendations",icon:"\ud83d\udca1"}].map(e=>(0,bn.jsxs)("button",{onClick:()=>d(e.id),className:"".concat(c===e.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2"),children:[(0,bn.jsx)("span",{children:e.icon}),(0,bn.jsx)("span",{children:e.name})]},e.id))})}),"overview"===c&&(()=>{var t,r,n,a,i,s,o,l,c,d,u,f;return(0,bn.jsxs)("div",{className:"space-y-6",children:[(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Security Status"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900 capitalize",children:(null===e||void 0===e?void 0:e.security_status)||"Unknown"}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(h(null===e||void 0===e?void 0:e.security_status)),children:(null===e||void 0===e?void 0:e.security_status)||"unknown"})]}),(0,bn.jsx)("div",{className:"text-2xl",children:"\ud83d\udee1\ufe0f"})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Failed Login Attempts"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(t=e.failed_login_attempts)||void 0===t?void 0:t.recent_attempts_last_hour)||0}),(0,bn.jsxs)("p",{className:"text-xs text-red-600",children:[(null===e||void 0===e||null===(r=e.failed_login_attempts)||void 0===r?void 0:r.blocked_identifiers)||0," blocked"]})]}),(0,bn.jsx)("div",{className:"text-2xl",children:"\ud83d\udd10"})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Security Alerts"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(n=e.security_alerts)||void 0===n?void 0:n.active_alerts)||0}),(0,bn.jsxs)("p",{className:"text-xs text-orange-600",children:[(null===e||void 0===e||null===(a=e.security_alerts)||void 0===a?void 0:a.recent_alerts_last_hour)||0," recent"]})]}),(0,bn.jsx)("div",{className:"text-2xl",children:"\ud83d\udea8"})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Audit Entries"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(i=e.audit_logs)||void 0===i?void 0:i.total_entries)||0}),(0,bn.jsxs)("p",{className:"text-xs text-blue-600",children:[(null===e||void 0===e||null===(s=e.audit_logs)||void 0===s?void 0:s.recent_entries_last_hour)||0," recent"]})]}),(0,bn.jsx)("div",{className:"text-2xl",children:"\ud83d\udccb"})]})})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alert Severity Distribution"}),(0,bn.jsx)(rd,{width:"100%",height:300,children:(0,bn.jsxs)(HE,{children:[(0,bn.jsx)(zE,{data:null!==e&&void 0!==e&&null!==(o=e.security_alerts)&&void 0!==o&&o.alert_severity_breakdown?Object.entries(e.security_alerts.alert_severity_breakdown).map(e=>{let[t,r]=e;return{name:t,value:r,color:"critical"===t?"#ef4444":"high"===t?"#f97316":"medium"===t?"#eab308":"#22c55e"}}):[],cx:"50%",cy:"50%",innerRadius:40,outerRadius:100,paddingAngle:5,dataKey:"value",children:(null===e||void 0===e||null===(l=e.security_alerts)||void 0===l?void 0:l.alert_severity_breakdown)&&Object.entries(e.security_alerts.alert_severity_breakdown).map((e,t)=>(0,bn.jsx)(Gj,{fill:"critical"===e[0]?"#ef4444":"high"===e[0]?"#f97316":"medium"===e[0]?"#eab308":"#22c55e"},"cell-".concat(t)))}),(0,bn.jsx)(au,{})]})})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Security Metrics Summary"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Unique Login Attempts"}),(0,bn.jsx)("span",{className:"text-lg font-bold text-gray-900",children:(null===e||void 0===e||null===(c=e.failed_login_attempts)||void 0===c?void 0:c.total_unique_identifiers)||0})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Blocked Identifiers"}),(0,bn.jsx)("span",{className:"text-lg font-bold text-red-600",children:(null===e||void 0===e||null===(d=e.failed_login_attempts)||void 0===d?void 0:d.blocked_identifiers)||0})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Audit Entries"}),(0,bn.jsx)("span",{className:"text-lg font-bold text-blue-600",children:(null===e||void 0===e||null===(u=e.audit_logs)||void 0===u?void 0:u.total_entries)||0})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[(0,bn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Security Alerts"}),(0,bn.jsx)("span",{className:"text-lg font-bold text-orange-600",children:(null===e||void 0===e||null===(f=e.security_alerts)||void 0===f?void 0:f.total_alerts)||0})]})]})]})]})]})})(),"alerts"===c&&(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Active Security Alerts"}),(0,bn.jsxs)("span",{className:"text-sm text-gray-500",children:[a.length," active alerts"]})]}),a.length>0?(0,bn.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,bn.jsx)("div",{className:"border rounded-lg p-4",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,bn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("critical"===e.severity?"bg-red-100 text-red-800":"high"===e.severity?"bg-orange-100 text-orange-800":"medium"===e.severity?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.severity})]}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,bn.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),(0,bn.jsx)("div",{className:"ml-4",children:(0,bn.jsx)("button",{onClick:()=>(async e=>{try{const t="https://basket-loader.preview.emergentagent.com";(await fetch("".concat(t,"/api/admin/security/alerts/").concat(e,"/resolve"),{method:"POST"})).ok&&u()}catch(t){console.error("Failed to resolve alert:",t)}})(e.id),className:"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Resolve"})})]})},e.id))}):(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)("div",{className:"text-6xl mb-4",children:"\u2705"}),(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Security Alerts"}),(0,bn.jsx)("p",{className:"text-gray-600",children:"Your system is secure with no pending security issues."})]})]})}),"audit"===c&&(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Recent Audit Logs"}),(0,bn.jsx)("div",{className:"overflow-x-auto",children:(0,bn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,bn.jsx)("thead",{className:"bg-gray-50",children:(0,bn.jsxs)("tr",{children:[(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),(0,bn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),(0,bn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.slice(0,50).map(e=>(0,bn.jsxs)("tr",{children:[(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.timestamp).toLocaleString()}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.user_id||"system"}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.action}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.resource}),(0,bn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.ip_address||"N/A"}),(0,bn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.details?JSON.stringify(e.details).substring(0,100)+"...":"N/A"})]},e.id))})]})})]})}),"recommendations"===c&&(0,bn.jsx)("div",{className:"space-y-6",children:(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Security Recommendations"}),(0,bn.jsxs)("div",{className:"space-y-4",children:[(0,bn.jsxs)("div",{className:"border-l-4 border-green-500 pl-4 py-3",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:"Rate Limiting Active"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"API rate limiting is active and protecting against brute force attacks."}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded",children:"\u2705 Implemented"})]}),(0,bn.jsxs)("div",{className:"border-l-4 border-green-500 pl-4 py-3",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:"Input Validation & Sanitization"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"All user inputs are validated and sanitized to prevent XSS and injection attacks."}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded",children:"\u2705 Implemented"})]}),(0,bn.jsxs)("div",{className:"border-l-4 border-green-500 pl-4 py-3",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:"Comprehensive Audit Logging"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"All security-relevant actions are logged for monitoring and compliance."}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded",children:"\u2705 Implemented"})]}),(0,bn.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-3",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:"Monitor Failed Login Patterns"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Regularly review failed login attempts for suspicious patterns and potential threats."}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:"Monitor Regularly"})]}),(0,bn.jsxs)("div",{className:"border-l-4 border-yellow-500 pl-4 py-3",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Consider implementing 2FA for admin accounts to enhance security further."}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded",children:"Future Enhancement"})]}),(0,bn.jsxs)("div",{className:"border-l-4 border-yellow-500 pl-4 py-3",children:[(0,bn.jsx)("h4",{className:"font-medium text-gray-900",children:"Security Headers"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Implement additional security headers (HSTS, CSP, etc.) for enhanced protection."}),(0,bn.jsx)("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded",children:"Future Enhancement"})]})]})]})}),(0,bn.jsx)("div",{className:"mt-8 text-center",children:(0,bn.jsx)("button",{onClick:u,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Refresh Security Status"})})]})})};var GE=r(3536);const YE=e=>{let{listing:t,getSimilarListings:r}=e;const[n,a]=(0,i.useState)([]),[s,o]=(0,i.useState)(!1);return(0,bn.jsx)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,bn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,bn.jsx)("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-gray-500 text-xs",children:"IMG"})}),(0,bn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,bn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,bn.jsxs)("div",{className:"flex-1",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:t.title}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:t.description}),(0,bn.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[(0,bn.jsx)("span",{className:"capitalize",children:t.category}),(0,bn.jsx)("span",{className:"capitalize",children:t.condition}),t.seller&&(0,bn.jsxs)("span",{children:[t.seller.username," (",t.seller.is_business?"Business":"Private",")"]})]})]}),(0,bn.jsxs)("div",{className:"flex-shrink-0 text-right",children:[(0,bn.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["\u20ac",t.price]}),(0,bn.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:new Date(t.created_at).toLocaleDateString()})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,bn.jsx)("button",{onClick:async()=>{if(!s){const e=await r(t.id);a(e)}o(!s)},className:"text-sm text-blue-600 hover:text-blue-700",children:s?"Hide Similar":"Show Similar Items"}),(0,bn.jsxs)("div",{className:"flex space-x-2",children:[(0,bn.jsx)("button",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"View Details"}),(0,bn.jsx)("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors",children:"Contact Seller"})]})]}),s&&n.length>0&&(0,bn.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,bn.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Similar Items"}),(0,bn.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,bn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,bn.jsx)("span",{className:"text-gray-700 truncate flex-1 mr-2",children:e.title}),(0,bn.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20ac",e.price]})]},e.id))})]})]})]})})},$E=()=>{const[e,t]=(0,i.useState)(""),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)({category:"",price_min:"",price_max:"",condition:"",seller_type:"",sort_by:"relevance"}),[m,g]=(0,i.useState)(1),[x,y]=(0,i.useState)(0);(0,i.useEffect)(()=>{v()},[]),(0,i.useEffect)(()=>{e.trim()?(w(),b(e)):(n([]),s([]),h(!1))},[e,f,m]);const b=(0,i.useCallback)((0,GE.debounce)(async e=>{if(!(e.length<2))try{const t="https://basket-loader.preview.emergentagent.com",r=await fetch("".concat(t,"/api/marketplace/search/suggestions?q=").concat(encodeURIComponent(e),"&limit=5")),n=await r.json();s(n.suggestions||[]),h(!0)}catch(t){console.error("Failed to fetch suggestions:",t)}},300),[]),v=async()=>{try{const e="https://basket-loader.preview.emergentagent.com",t=await fetch("".concat(e,"/api/marketplace/search/trending?limit=10")),r=await t.json();l(r.trending||[])}catch(e){console.error("Failed to fetch trending searches:",e)}},w=async()=>{if(e.trim()||Object.values(f).some(e=>e)){d(!0);try{const t="https://basket-loader.preview.emergentagent.com",r=new URLSearchParams((0,Fe.A)({q:e,page:m.toString(),limit:20..toString()},Object.fromEntries(Object.entries(f).filter(e=>{let[t,r]=e;return r})))),a=await fetch("".concat(t,"/api/marketplace/search?").concat(r)),i=await a.json();n(i.results||[]),y(i.total||0),h(!1)}catch(t){console.error("Search failed:",t),n([])}finally{d(!1)}}},j=(e,t)=>{p(r=>(0,Fe.A)((0,Fe.A)({},r),{},{[e]:t})),g(1)},k=async e=>{try{const t="https://basket-loader.preview.emergentagent.com",r=await fetch("".concat(t,"/api/marketplace/listings/").concat(e,"/similar?limit=3"));return(await r.json()).similar_listings||[]}catch(t){return console.error("Failed to fetch similar listings:",t),[]}},N=Math.ceil(x/20);return(0,bn.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,bn.jsxs)("div",{className:"mb-8",children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Advanced Search"}),(0,bn.jsx)("p",{className:"text-gray-600 mt-2",children:"Enhanced search with intelligent suggestions and advanced filtering"})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,bn.jsxs)("div",{className:"relative mb-6",children:[(0,bn.jsxs)("div",{className:"relative",children:[(0,bn.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search for catalysts, vehicles, parts...",className:"w-full px-4 py-3 pl-10 pr-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,bn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,bn.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),u&&a.length>0&&(0,bn.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:a.map((e,r)=>(0,bn.jsx)("button",{onClick:()=>(e=>{t(e),h(!1),g(1)})(e),className:"w-full px-4 py-2 text-left hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("svg",{className:"h-4 w-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e]})},r))})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:[(0,bn.jsxs)("select",{value:f.category,onChange:e=>j("category",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,bn.jsx)("option",{value:"",children:"All Categories"}),(0,bn.jsx)("option",{value:"automotive",children:"Automotive"}),(0,bn.jsx)("option",{value:"industrial",children:"Industrial"}),(0,bn.jsx)("option",{value:"marine",children:"Marine"}),(0,bn.jsx)("option",{value:"motorcycle",children:"Motorcycle"})]}),(0,bn.jsx)("input",{type:"number",value:f.price_min,onChange:e=>j("price_min",e.target.value),placeholder:"Min Price (\u20ac)",className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,bn.jsx)("input",{type:"number",value:f.price_max,onChange:e=>j("price_max",e.target.value),placeholder:"Max Price (\u20ac)",className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,bn.jsxs)("select",{value:f.condition,onChange:e=>j("condition",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,bn.jsx)("option",{value:"",children:"Any Condition"}),(0,bn.jsx)("option",{value:"new",children:"New"}),(0,bn.jsx)("option",{value:"used",children:"Used"}),(0,bn.jsx)("option",{value:"refurbished",children:"Refurbished"})]}),(0,bn.jsxs)("select",{value:f.seller_type,onChange:e=>j("seller_type",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,bn.jsx)("option",{value:"",children:"Any Seller"}),(0,bn.jsx)("option",{value:"Business",children:"Business"}),(0,bn.jsx)("option",{value:"Private",children:"Private"})]}),(0,bn.jsxs)("select",{value:f.sort_by,onChange:e=>j("sort_by",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,bn.jsx)("option",{value:"relevance",children:"Relevance"}),(0,bn.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,bn.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,bn.jsx)("option",{value:"newest",children:"Newest First"}),(0,bn.jsx)("option",{value:"oldest",children:"Oldest First"})]})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("button",{onClick:()=>{p({category:"",price_min:"",price_max:"",condition:"",seller_type:"",sort_by:"relevance"}),g(1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear all filters"}),(0,bn.jsxs)("div",{className:"text-sm text-gray-600",children:[x," results found"]})]})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,bn.jsxs)("div",{className:"lg:col-span-1",children:[(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trending Searches"}),(0,bn.jsx)("div",{className:"space-y-2",children:o.map((e,r)=>(0,bn.jsx)("button",{onClick:()=>(e=>{t(e.query),g(1)})(e),className:"w-full text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{children:e.query}),(0,bn.jsx)("span",{className:"text-xs text-gray-500",children:e.count})]})},r))})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Search Tips"}),(0,bn.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[(0,bn.jsxs)("div",{className:"flex items-start",children:[(0,bn.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3"}),(0,bn.jsx)("div",{children:'Use specific terms like "BMW catalyst" or "Ford exhaust"'})]}),(0,bn.jsxs)("div",{className:"flex items-start",children:[(0,bn.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-green-500 rounded-full mt-2 mr-3"}),(0,bn.jsx)("div",{children:"Filter by price range to find items in your budget"})]}),(0,bn.jsxs)("div",{className:"flex items-start",children:[(0,bn.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-purple-500 rounded-full mt-2 mr-3"}),(0,bn.jsx)("div",{children:"Sort by newest to see recent listings first"})]}),(0,bn.jsxs)("div",{className:"flex items-start",children:[(0,bn.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-orange-500 rounded-full mt-2 mr-3"}),(0,bn.jsx)("div",{children:"Use category filters to narrow down results"})]})]})]})]}),(0,bn.jsx)("div",{className:"lg:col-span-3",children:(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[c?(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,bn.jsx)("p",{className:"text-gray-600 mt-4",children:"Searching..."})]}):0===r.length?(0,bn.jsxs)("div",{className:"text-center py-12",children:[(0,bn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd0d"}),(0,bn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),(0,bn.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search terms or filters"})]}):(0,bn.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,bn.jsx)(YE,{listing:e,getSimilarListings:k},e.id))}),N>1&&(0,bn.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("button",{onClick:()=>g(e=>Math.max(e-1,1)),disabled:1===m,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,bn.jsxs)("span",{className:"px-4 py-2 text-sm bg-gray-50 border-t border-b border-gray-300",children:["Page ",m," of ",N]}),(0,bn.jsx)("button",{onClick:()=>g(e=>Math.min(e+1,N)),disabled:m===N,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,bn.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",20*(m-1)+1,"-",Math.min(20*m,x)," of ",x," results"]})]})]})})]})]})})},JE=()=>{const[e,t]=(0,i.useState)("overview"),[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)(!0);(0,i.useEffect)(()=>{o()},[]);const o=async()=>{try{const e="https://basket-loader.preview.emergentagent.com",[t,r,a]=await Promise.all([fetch("".concat(e,"/api/admin/performance")),fetch("".concat(e,"/api/admin/analytics/kpis")),fetch("".concat(e,"/api/admin/security/dashboard"))]),i=await t.json(),s=await r.json(),o=await a.json();n({performance:i,analytics:s,security:o.security_metrics})}catch(e){console.error("Failed to fetch quick stats:",e)}finally{s(!1)}};return(0,bn.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,bn.jsx)("div",{className:"bg-white shadow",children:(0,bn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,bn.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,bn.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,bn.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Admin Dashboard Hub"}),(0,bn.jsxs)("nav",{className:"flex space-x-6",children:[(0,bn.jsx)("button",{onClick:()=>t("overview"),className:"text-sm font-medium ".concat("overview"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\ud83c\udfe0 Overview"}),(0,bn.jsx)("button",{onClick:()=>t("analytics"),className:"text-sm font-medium ".concat("analytics"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\ud83d\udcca Analytics"}),(0,bn.jsx)("button",{onClick:()=>t("performance"),className:"text-sm font-medium ".concat("performance"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\u26a1 Performance"}),(0,bn.jsx)("button",{onClick:()=>t("security"),className:"text-sm font-medium ".concat("security"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\ud83d\udee1\ufe0f Security"}),(0,bn.jsx)("button",{onClick:()=>t("search"),className:"text-sm font-medium ".concat("search"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\ud83d\udd0d Search"})]})]}),(0,bn.jsx)(Le,{to:"/admin",className:"text-sm text-gray-600 hover:text-gray-900",children:"\u2190 Back to Admin Panel"})]})})}),(0,bn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===e&&(()=>{var e,n,i;return(0,bn.jsxs)("div",{className:"space-y-8",children:[(0,bn.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-white",children:[(0,bn.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Welcome to Cataloro Admin Hub"}),(0,bn.jsx)("p",{className:"text-blue-100 text-lg",children:"Complete business intelligence and system management dashboard"}),(0,bn.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[(0,bn.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,bn.jsx)("div",{className:"text-2xl font-bold",children:"Phase 1"}),(0,bn.jsx)("div",{className:"text-sm",children:"Database Optimization"})]}),(0,bn.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,bn.jsx)("div",{className:"text-2xl font-bold",children:"Phase 2"}),(0,bn.jsx)("div",{className:"text-sm",children:"Advanced Search"})]}),(0,bn.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,bn.jsx)("div",{className:"text-2xl font-bold",children:"Phase 3"}),(0,bn.jsx)("div",{className:"text-sm",children:"Security & Monitoring"})]}),(0,bn.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,bn.jsx)("div",{className:"text-2xl font-bold",children:"Phase 4"}),(0,bn.jsx)("div",{className:"text-sm",children:"Business Intelligence"})]})]})]}),!a&&r&&(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white text-sm font-bold",children:"\u26a1"})})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Database Status"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"Optimized"}),(0,bn.jsx)("p",{className:"text-xs text-green-600",children:"80+ indexes active"})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udcca"})})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=r.analytics)||void 0===e||null===(n=e.business_metrics)||void 0===n?void 0:n.total_users)||0}),(0,bn.jsx)("p",{className:"text-xs text-blue-600",children:"Analytics active"})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udee1\ufe0f"})})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Security Status"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900 capitalize",children:(null===(i=r.security)||void 0===i?void 0:i.security_status)||"Unknown"}),(0,bn.jsx)("p",{className:"text-xs text-red-600",children:"Protection active"})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("div",{className:"flex-shrink-0",children:(0,bn.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udd0d"})})}),(0,bn.jsxs)("div",{className:"ml-4",children:[(0,bn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Search Engine"}),(0,bn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"Enhanced"}),(0,bn.jsx)("p",{className:"text-xs text-purple-600",children:"AI-powered search"})]})]})})]}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("analytics"),children:(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"})}),(0,bn.jsx)("span",{className:"text-sm text-blue-600 font-medium",children:"Phase 4"})]}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Business Intelligence"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Comprehensive analytics, KPIs, forecasting, and business reports with predictive insights."}),(0,bn.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"User Analytics & Engagement"]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Revenue Forecasting"]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Marketplace Performance"]})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("performance"),children:(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\u26a1"})}),(0,bn.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Phase 1 & 3"})]}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Performance & Monitoring"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Database optimization status, system monitoring, and real-time performance metrics."}),(0,bn.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Database Optimization (80+ indexes)"]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"System Health Monitoring"]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Performance Metrics"]})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("security"),children:(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\ud83d\udee1\ufe0f"})}),(0,bn.jsx)("span",{className:"text-sm text-red-600 font-medium",children:"Phase 3"})]}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Security & Compliance"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Security monitoring, audit logs, threat detection, and compliance management."}),(0,bn.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Rate Limiting & Protection"]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),"Audit Logging"]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Security Alerts"]})]})]})}),(0,bn.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("search"),children:(0,bn.jsxs)("div",{className:"p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\ud83d\udd0d"})}),(0,bn.jsx)("span",{className:"text-sm text-purple-600 font-medium",children:"Phase 2"})]}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Search & Discovery"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"AI-powered search with suggestions, trending queries, and intelligent recommendations."}),(0,bn.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Smart Search Suggestions"]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Advanced Filtering"]}),(0,bn.jsxs)("div",{className:"flex items-center",children:[(0,bn.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Similar Items Discovery"]})]})]})}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\ud83c\udfd7\ufe0f"})}),(0,bn.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"All Phases"})]}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"System Architecture"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Complete scalability implementation ready for 10,000+ users."}),(0,bn.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{children:"Database Optimization"}),(0,bn.jsx)("span",{className:"text-green-600",children:"\u2705 Complete"})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{children:"Advanced Search"}),(0,bn.jsx)("span",{className:"text-green-600",children:"\u2705 Complete"})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{children:"Security & Monitoring"}),(0,bn.jsx)("span",{className:"text-green-600",children:"\u2705 Complete"})]}),(0,bn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bn.jsx)("span",{children:"Business Intelligence"}),(0,bn.jsx)("span",{className:"text-green-600",children:"\u2705 Complete"})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,bn.jsx)("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\u2699\ufe0f"})}),(0,bn.jsx)("span",{className:"text-sm text-indigo-600 font-medium",children:"Actions"})]}),(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quick Actions"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Common administrative tasks and system management."}),(0,bn.jsxs)("div",{className:"space-y-2",children:[(0,bn.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:"\ud83d\udcca Generate Business Report"}),(0,bn.jsx)("button",{onClick:o,className:"w-full text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:"\ud83d\udd04 Refresh System Status"}),(0,bn.jsx)(Le,{to:"/admin",className:"w-full block text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:"\ud83d\udc65 Manage Users & Listings"})]})]})]}),(0,bn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,bn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Scalability Implementation Highlights"}),(0,bn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\ud83d\uddc3\ufe0f"})}),(0,bn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Database Optimization"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600",children:"80+ indexes, query optimization, 50-90% faster performance"})]}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\ud83d\udd0d"})}),(0,bn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Advanced Search"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600",children:"AI-powered search, suggestions, recommendations, trending"})]}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\ud83d\udee1\ufe0f"})}),(0,bn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Security & Monitoring"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600",children:"Rate limiting, audit logs, real-time monitoring, alerts"})]}),(0,bn.jsxs)("div",{className:"text-center",children:[(0,bn.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,bn.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"})}),(0,bn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Business Intelligence"}),(0,bn.jsx)("p",{className:"text-sm text-gray-600",children:"Analytics, forecasting, KPIs, automated reporting"})]})]})]})]})})(),"analytics"===e&&(0,bn.jsx)(VE,{}),"performance"===e&&(0,bn.jsx)(WE,{}),"security"===e&&(0,bn.jsx)(KE,{}),"search"===e&&(0,bn.jsx)($E,{})]})]})};const XE=new class{constructor(){this.intervalId=null,this.isRunning=!1,this.checkInterval=6e4,this.processedExpirations=new Set}start(){this.isRunning?console.log("\ud83d\udd04 Ads expiration service already running"):(console.log("\ud83d\ude80 Starting global ads expiration service"),this.isRunning=!0,this.checkExpirations(),this.intervalId=setInterval(()=>{this.checkExpirations()},this.checkInterval))}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.isRunning=!1,console.log("\ud83d\uded1 Stopped global ads expiration service")}async checkExpirations(){try{const e=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),t=e.adsManager||{};console.log("\ud83d\udd0d Checking ad expirations...");for(const[r,n]of Object.entries(t))if(n.active&&n.expirationDate){const t=(0,Os.isAdExpired)(n),a="".concat(r,"_").concat(n.expirationDate);t&&!this.processedExpirations.has(a)&&(console.log("\u23f0 Ad ".concat(r," has expired - executing events")),this.processedExpirations.add(a),await this.executeExpirationEvents(r,n,e))}}catch(e){console.error("\u274c Error checking ad expirations:",e)}}async executeExpirationEvents(e,t,r){const n=t.expirationEvents||[];console.log("\ud83d\udd14 Executing expiration events for ".concat(e,":"),n);for(const i of n)try{await this.executeEvent(i,e,t,r)}catch(a){console.error("\u274c Error executing expiration event ".concat(i," for ").concat(e,":"),a)}}async executeEvent(e,t,r,n){switch(e){case"notify":await this.executeNotifyEvent(t,r);break;case"deactivate":this.executeDeactivateEvent(t,r,n);break;case"reset":this.executeResetEvent(t,r,n);break;default:console.warn("\u2753 Unknown expiration event: ".concat(e))}}async executeNotifyEvent(e,t){console.log("\ud83d\udce7 Sending notifications for expired ad: ".concat(e));const r=t.notificationMethods||["notificationCenter"];if(r.includes("notificationCenter")){const r=t.notificationUsers||[];if(console.log("\ud83d\udd14 Sending notification center alerts to ".concat(r.length," users")),r.length>0){const a=r.map(async r=>{try{const n=t.description||e,a=this.getPageLocationName(e);return(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(r.id,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"\u23f0 Advertisement Expired",message:'"'.concat(n,'" on ').concat(a," has expired and been processed according to your settings"),type:"warning"})})).ok?(console.log("\u2705 Expiration notification sent to user ".concat(r.email," (").concat(r.id,")")),{success:!0,user:r.email}):(console.error("\u274c Failed to send expiration notification to user ".concat(r.email)),{success:!1,user:r.email,error:"HTTP Error"})}catch(n){return console.error("\u274c Error sending expiration notification to user ".concat(r.email,":"),n),{success:!1,user:r.email,error:n.message}}});try{const e=(await Promise.all(a)).filter(e=>e.success).length;console.log("\ud83d\udcca Expiration notifications: ".concat(e,"/").concat(r.length," sent successfully"))}catch(n){console.error("\u274c Error in batch expiration notification sending:",n)}}}r.includes("email")&&console.log("\ud83d\udce7 Email notifications would be sent here"),r.includes("browserPush")&&console.log("\ud83d\udd14 Browser push notifications would be sent here")}executeDeactivateEvent(e,t,r){console.log("\ud83d\udd04 Deactivating expired ad: ".concat(e)),r.adsManager[e].active=!1,localStorage.setItem("cataloro_site_config",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:r.adsManager})),console.log("\u2705 Ad ".concat(e," has been deactivated"))}executeResetEvent(e,t,r){console.log("\ud83d\udd04 Auto-resetting duration for ad: ".concat(e));const n=(new Date).toISOString(),a=t.runtime,i=this.calculateExpirationDate(n,a);r.adsManager[e].startDate=n,r.adsManager[e].expirationDate=i,r.adsManager[e].active=!0,localStorage.setItem("cataloro_site_config",JSON.stringify(r));const s="".concat(e,"_").concat(t.expirationDate);this.processedExpirations.delete(s),this.sendRestartNotifications(e,r.adsManager[e],a,i),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:r.adsManager})),console.log("\u2705 Ad ".concat(e," has been automatically reset until ").concat(new Date(i).toLocaleString()))}async sendRestartNotifications(e,t,r,n){const a=t.notificationUsers||[];if((t.notificationMethods||[]).includes("notificationCenter")&&a.length>0){console.log("\ud83d\udd04 Sending ad restart notifications to ".concat(a.length," users (auto-reset)"));const s=a.map(async a=>{try{const i=t.description||e,s=this.getPageLocationName(e);return(await fetch("".concat("https://basket-loader.preview.emergentagent.com","/api/user/").concat(a.id,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"\ud83d\udd04 Advertisement Restarted",message:'"'.concat(i,'" on ').concat(s," has automatically restarted with a new ").concat(r," duration until ").concat(new Date(n).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})),type:"info"})})).ok?(console.log("\u2705 Ad restart notification sent to user ".concat(a.email," (").concat(a.id,")")),{success:!0,user:a.email}):(console.error("\u274c Failed to send ad restart notification to user ".concat(a.email)),{success:!1,user:a.email,error:"HTTP Error"})}catch(i){return console.error("\u274c Error sending ad restart notification to user ".concat(a.email,":"),i),{success:!1,user:a.email,error:i.message}}});try{const e=(await Promise.all(s)).filter(e=>e.success).length;console.log("\ud83d\udcca Ad restart notifications: ".concat(e,"/").concat(a.length," sent successfully"))}catch(i){console.error("\u274c Error in batch restart notification sending:",i)}}}calculateExpirationDate(e,t){const r=new Date(e),n=new Date(r);if(t.startsWith("custom_")){const e=t.match(/custom_(\d+)d_(\d+)h_(\d+)m/);if(e){const t=parseInt(e[1])||0,r=parseInt(e[2])||0,a=parseInt(e[3])||0;return n.setDate(n.getDate()+t),n.setHours(n.getHours()+r),n.setMinutes(n.getMinutes()+a),n.toISOString()}}if(t.includes("days")||t.includes("hours")||t.includes("minutes")){const e=t.match(/(\d+)\s*days?/),r=t.match(/(\d+)\s*hours?/),a=t.match(/(\d+)\s*minutes?/),i=e?parseInt(e[1]):0,s=r?parseInt(r[1]):0,o=a?parseInt(a[1]):0;return n.setDate(n.getDate()+i),n.setHours(n.getHours()+s),n.setMinutes(n.getMinutes()+o),n.toISOString()}const[a,i]=t.split(" "),s=parseInt(a);switch(null===i||void 0===i?void 0:i.toLowerCase()){case"minute":case"minutes":return new Date(r.getTime()+60*s*1e3).toISOString();case"hour":case"hours":return new Date(r.getTime()+60*s*60*1e3).toISOString();case"day":case"days":return new Date(r.getTime()+24*s*60*60*1e3).toISOString();case"week":case"weeks":return new Date(r.getTime()+7*s*24*60*60*1e3).toISOString();case"month":case"months":const e=new Date(r);return e.setMonth(e.getMonth()+s),e.toISOString();default:console.warn("Unknown runtime format: ".concat(t,", defaulting to 1 month"));const n=new Date(r);return n.setMonth(n.getMonth()+1),n.toISOString()}}cleanupProcessedExpirations(){console.log("\ud83e\uddf9 Cleaning up old expiration records")}getPageLocationName(e){return{browsePageAd:"Browse Page",favoriteAd:"Favorites Page",messengerAd:"Messages Page",footerAd:"Footer"}[e]||e}},ZE=XE;const QE=function(){return(0,i.useEffect)(()=>{(0,Os.loadAndApplyAdsConfiguration)(),ZE.start();const e=document.getElementById("app-loader");return e&&setTimeout(()=>{e.style.display="none"},500),()=>{ZE.stop()}},[]),(0,bn.jsx)("div",{className:"App",children:(0,bn.jsx)(En,{children:(0,bn.jsx)(zn,{children:(0,bn.jsx)(Jn,{children:(0,bn.jsx)(wi,{children:(0,bn.jsx)(Pe,{children:(0,bn.jsxs)(Ne,{children:[(0,bn.jsx)(je,{path:mn.LOGIN,element:(0,bn.jsx)(Sl,{})}),(0,bn.jsx)(je,{path:mn.REGISTER,element:(0,bn.jsx)(Al,{})}),(0,bn.jsx)(je,{path:"/info",element:(0,bn.jsx)(Ml,{})}),(0,bn.jsxs)(je,{path:"/",element:(0,bn.jsx)(vs,{}),children:[(0,bn.jsx)(je,{index:!0,element:(0,bn.jsx)(ve,{to:mn.BROWSE,replace:!0})}),(0,bn.jsx)(je,{path:mn.BROWSE,element:(0,bn.jsx)(Ps,{})}),(0,bn.jsx)(je,{path:"product/:productId",element:(0,bn.jsx)(Vs,{})}),(0,bn.jsx)(je,{path:"search",element:(0,bn.jsx)(Ps,{})}),(0,bn.jsx)(je,{path:"trending",element:(0,bn.jsx)(Ps,{})}),(0,bn.jsx)(je,{path:"create-listing",element:(0,bn.jsx)(to,{})}),(0,bn.jsx)(je,{path:"edit-listing/:id",element:(0,bn.jsx)(ao,{})}),(0,bn.jsx)(je,{path:"pending-sales",element:(0,bn.jsx)(lo,{})}),(0,bn.jsx)(je,{path:"view-all-requests",element:(0,bn.jsx)(fo,{})}),(0,bn.jsx)(je,{path:mn.MY_LISTINGS,element:(0,bn.jsx)(Ys,{})}),(0,bn.jsx)(je,{path:"messages",element:(0,bn.jsx)(_l,{})}),(0,bn.jsx)(je,{path:mn.TENDERS.substring(1),element:(0,bn.jsx)(Fl,{})}),(0,bn.jsx)(je,{path:"buy-management",element:(0,bn.jsx)(Kl,{})}),(0,bn.jsx)(je,{path:"analytics",element:(0,bn.jsx)(ml,{})}),(0,bn.jsx)(je,{path:"performance",element:(0,bn.jsx)(ml,{})}),(0,bn.jsx)(je,{path:mn.ADMIN_PANEL,element:(0,bn.jsx)(ml,{})}),(0,bn.jsx)(je,{path:"admin/analytics",element:(0,bn.jsx)(ml,{})}),(0,bn.jsx)(je,{path:"admin/users",element:(0,bn.jsx)(ml,{})}),(0,bn.jsx)(je,{path:"admin/dashboard",element:(0,bn.jsx)(JE,{})}),(0,bn.jsx)(je,{path:"admin/performance",element:(0,bn.jsx)(WE,{})}),(0,bn.jsx)(je,{path:mn.FAVORITES,element:(0,bn.jsx)(xl,{})}),(0,bn.jsx)(je,{path:mn.NOTIFICATIONS,element:(0,bn.jsx)(yl,{})}),(0,bn.jsx)(je,{path:mn.PROFILE,element:(0,bn.jsx)(wl,{})}),(0,bn.jsx)(je,{path:"profile/:userId",element:(0,bn.jsx)(jl,{})}),(0,bn.jsx)(je,{path:"settings",element:(0,bn.jsx)(wl,{})})]}),(0,bn.jsx)(je,{path:"*",element:(0,bn.jsx)(ve,{to:mn.BROWSE,replace:!0})})]})})})})})})})},eC=document.getElementById("root");(0,o.H)(eC).render((0,bn.jsx)(i.StrictMode,{children:(0,bn.jsx)(QE,{})}));var tC;tC&&tC instanceof Function&&r.e(453).then(r.bind(r,6453)).then(e=>{let{getCLS:t,getFID:r,getFCP:n,getLCP:a,getTTFB:i}=e;t(tC),r(tC),n(tC),a(tC),i(tC)})})()})();
//# sourceMappingURL=main.0890ab73.js.map