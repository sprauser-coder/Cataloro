/*! For license information please see main.f3b54d78.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},438:(e,t,r)=>{var a=r(2622);e.exports=function(e){return a(this,e).get(e)}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},1143:(e,t,r)=>{var a=r(3028)(Object.keys,Object);e.exports=a},1153:(e,t,r)=>{"use strict";var a=r(5043),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,s={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!o.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:s,_owner:l.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1268:(e,t,r)=>{var a=r(5428),n=r(7574),s=r(6832),i=s&&s.isTypedArray,l=i?n(i):a;e.exports=l},1340:(e,t,r)=>{var a=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(a(e[r][0],t))return r;return-1}},1629:(e,t,r)=>{var a=r(6913),n=r(6686);e.exports=function(e){if(!n(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var a=r(1340);e.exports=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}},1946:(e,t,r)=>{var a=r(1340);e.exports=function(e){return a(this.__data__,e)>-1}},2070:(e,t,r)=>{var a=r(7937)(r(6552),"Set");e.exports=a},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},2154:(e,t,r)=>{var a=r(5575),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(t,e)?t[e]:void 0}},2587:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}},2622:(e,t,r)=>{var a=r(705);e.exports=function(e,t){var r=e.__data__;return a(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var a=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var a=r(5043),n=r(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function g(e,t,r,a,n,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,a){var n=x.hasOwnProperty(t)?x[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,a){if(null===t||"undefined"===typeof t||function(e,t,r,a){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,a))return!0;if(a)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,n,a)&&(r=null),a||null===n?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,a=n.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,y);x[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,y);x[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,y);x[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,D=Object.assign;function I(e){if(void 0===F)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var U=!1;function q(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),s=a.stack.split("\n"),i=n.length-1,l=s.length-1;1<=i&&0<=l&&n[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==s[l]){if(1!==i||1!==l)do{if(i--,0>--l||n[i]!==s[l]){var o="\n"+n[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function B(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case _:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(r){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=W(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function $(e,t){var r=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var r=V(t.value),a=t.type;if(null!=r)"number"===a?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function se(e,t){var r=V(t.value),a=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var a=0===r.indexOf("--"),n=ge(r,t[r],a);"float"===r&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var fe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ne=null;function _e(e){if(e=bn(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=jn(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Oe(){}var Ae=!1;function Te(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Ee(e,t,r)}finally{Ae=!1,(null!==ke||null!==Ne)&&(Oe(),Ce())}}function Pe(e,t){var r=e.stateNode;if(null===r)return null;var a=jn(r);if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Le=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Le=!1}function Me(e,t,r,a,n,s,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Fe=!1,De=null,Ie=!1,Ue=null,qe={onError:function(e){Fe=!0,De=e}};function Be(e,t,r,a,n,s,i,l,o){Fe=!1,De=null,Me.apply(qe,arguments)}function ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(a=n.return)){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return Ve(n),e;if(i===a)return Ve(n),t;i=i.sibling}throw Error(s(188))}if(r.return!==a.return)r=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===r){l=!0,r=n,a=i;break}if(o===a){l=!0,a=n,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,a=n;break}if(o===a){l=!0,a=i,r=n;break}o=o.sibling}if(!l)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,$e=n.unstable_requestPaint,Qe=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Xe=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,rt=n.unstable_LowPriority,at=n.unstable_IdlePriority,nt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var a=0,n=e.suspendedLanes,s=e.pingedLanes,i=268435455&r;if(0!==i){var l=i&~n;0!==l?a=ut(l):0!==(s&=i)&&(a=ut(s))}else 0!==(i=r&~n)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(s=t&-t)||16===n&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(r=31-it(t)),a|=e[r],t&=~n;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ft(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-it(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,kt,Nt,_t,St=!1,Ct=[],Et=null,Ot=null,At=null,Tt=new Map,Pt=new Map,Lt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ft(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=bn(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Dt(e){var t=yn(e.target);if(null!==t){var r=ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void _t(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=bn(r))&&wt(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);ve=a,r.target.dispatchEvent(a),ve=null,t.shift()}return!0}function Ut(e,t,r){It(e)&&r.delete(t)}function qt(){St=!1,null!==Et&&It(Et)&&(Et=null),null!==Ot&&It(Ot)&&(Ot=null),null!==At&&It(At)&&(At=null),Tt.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var r=1;r<Ct.length;r++){var a=Ct[r];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Ot&&Bt(Ot,e),null!==At&&Bt(At,e),Tt.forEach(t),Pt.forEach(t),r=0;r<Lt.length;r++)(a=Lt[r]).blockedOn===e&&(a.blockedOn=null);for(;0<Lt.length&&null===(r=Lt[0]).blockedOn;)Dt(r),null===r.blockedOn&&Lt.shift()}var Ht=v.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,r,a){var n=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,r,a)}finally{bt=n,Ht.transition=s}}function Kt(e,t,r,a){var n=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,r,a)}finally{bt=n,Ht.transition=s}}function Gt(e,t,r,a){if(Vt){var n=Yt(e,t,r,a);if(null===n)Ha(e,t,a,Jt,r),Mt(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return Et=Ft(Et,e,t,r,a,n),!0;case"dragenter":return Ot=Ft(Ot,e,t,r,a,n),!0;case"mouseover":return At=Ft(At,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return Tt.set(s,Ft(Tt.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,Pt.set(s,Ft(Pt.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(Mt(e,a),4&t&&-1<Rt.indexOf(e)){for(;null!==n;){var s=bn(n);if(null!==s&&jt(s),null===(s=Yt(e,t,r,a))&&Ha(e,t,a,Jt,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else Ha(e,t,a,null,r)}}var Jt=null;function Yt(e,t,r,a){if(Jt=null,null!==(e=yn(e=je(a))))if(null===(t=ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case rt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Xt=null;function er(){if(Xt)return Xt;var e,t,r=Zt,a=r.length,n="value"in Qt?Qt.value:Qt.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&r[a-t]===n[s-t];t++);return Xt=n.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ar(){return!1}function nr(e){function t(t,r,a,n,s){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?rr:ar,this.isPropagationStopped=ar,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,ir,lr,or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=nr(or),dr=D({},or,{view:0,detail:0}),ur=nr(dr),hr=D({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(sr=e.screenX-lr.screenX,ir=e.screenY-lr.screenY):ir=sr=0,lr=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),mr=nr(hr),pr=nr(D({},hr,{dataTransfer:0})),gr=nr(D({},dr,{relatedTarget:0})),xr=nr(D({},or,{animationName:0,elapsedTime:0,pseudoElement:0})),fr=D({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=nr(fr),br=nr(D({},or,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Nr(){return kr}var _r=D({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=nr(_r),Cr=nr(D({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=nr(D({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Or=nr(D({},or,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=D({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=nr(Ar),Pr=[9,13,27,32],Lr=d&&"CompositionEvent"in window,Rr=null;d&&"documentMode"in document&&(Rr=document.documentMode);var Mr=d&&"TextEvent"in window&&!Rr,Fr=d&&(!Lr||Rr&&8<Rr&&11>=Rr),Dr=String.fromCharCode(32),Ir=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Pr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function Vr(e,t,r,a){Se(a),0<(t=Wa(t,"onChange")).length&&(r=new cr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Wr=null,Kr=null;function Gr(e){Da(e,0)}function Jr(e){if(G(vn(e)))return e}function Yr(e,t){if("change"===e)return t}var $r=!1;if(d){var Qr;if(d){var Zr="oninput"in document;if(!Zr){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),Zr="function"===typeof Xr.oninput}Qr=Zr}else Qr=!1;$r=Qr&&(!document.documentMode||9<document.documentMode)}function ea(){Wr&&(Wr.detachEvent("onpropertychange",ta),Kr=Wr=null)}function ta(e){if("value"===e.propertyName&&Jr(Kr)){var t=[];Vr(t,Kr,e,je(e)),Te(Gr,t)}}function ra(e,t,r){"focusin"===e?(ea(),Kr=r,(Wr=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jr(Kr)}function na(e,t){if("click"===e)return Jr(t)}function sa(e,t){if("input"===e||"change"===e)return Jr(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!u.call(t,n)||!ia(e[n],t[n]))return!1}return!0}function oa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var r,a=oa(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oa(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ma(e){var t=ua(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&da(r.ownerDocument.documentElement,r)){if(null!==a&&ha(r))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(a.start,n);a=void 0===a.end?s:Math.min(a.end,n),!e.extend&&s>a&&(n=a,a=s,s=n),n=ca(r,s);var i=ca(r,a);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pa=d&&"documentMode"in document&&11>=document.documentMode,ga=null,xa=null,fa=null,ya=!1;function ba(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ya||null==ga||ga!==J(a)||("selectionStart"in(a=ga)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},fa&&la(fa,a)||(fa=a,0<(a=Wa(xa,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ga)))}function va(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ja={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},wa={},ka={};function Na(e){if(wa[e])return wa[e];if(!ja[e])return e;var t,r=ja[e];for(t in r)if(r.hasOwnProperty(t)&&t in ka)return wa[e]=r[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var _a=Na("animationend"),Sa=Na("animationiteration"),Ca=Na("animationstart"),Ea=Na("transitionend"),Oa=new Map,Aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(e,t){Oa.set(e,t),o(t,[e])}for(var Pa=0;Pa<Aa.length;Pa++){var La=Aa[Pa];Ta(La.toLowerCase(),"on"+(La[0].toUpperCase()+La.slice(1)))}Ta(_a,"onAnimationEnd"),Ta(Sa,"onAnimationIteration"),Ta(Ca,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ma=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Fa(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,a,n,i,l,o,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var d=De;Fe=!1,De=null,Ie||(Ie=!0,Ue=d)}}(a,t,void 0,e),e.currentTarget=null}function Da(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var l=a[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&n.isPropagationStopped())break e;Fa(n,l,c),s=o}else for(i=0;i<a.length;i++){if(o=(l=a[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&n.isPropagationStopped())break e;Fa(n,l,c),s=o}}}if(Ie)throw e=Ue,Ie=!1,Ue=null,e}function Ia(e,t){var r=t[gn];void 0===r&&(r=t[gn]=new Set);var a=e+"__bubble";r.has(a)||(za(t,e,2,!1),r.add(a))}function Ua(e,t,r){var a=0;t&&(a|=4),za(r,e,a,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[qa]){e[qa]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ma.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qa]||(t[qa]=!0,Ua("selectionchange",!1,t))}}function za(e,t,r,a){switch($t(t)){case 1:var n=Wt;break;case 4:n=Kt;break;default:n=Gt}r=n.bind(null,t,r,e),n=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Ha(e,t,r,a,n){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var l=a.stateNode.containerInfo;if(l===n||8===l.nodeType&&l.parentNode===n)break;if(4===i)for(i=a.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===n||8===o.nodeType&&o.parentNode===n))return;i=i.return}for(;null!==l;){if(null===(i=yn(l)))return;if(5===(o=i.tag)||6===o){a=s=i;continue e}l=l.parentNode}}a=a.return}Te(function(){var a=s,n=je(r),i=[];e:{var l=Oa.get(e);if(void 0!==l){var o=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":o=Sr;break;case"focusin":c="focus",o=gr;break;case"focusout":c="blur",o=gr;break;case"beforeblur":case"afterblur":o=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Er;break;case _a:case Sa:case Ca:o=xr;break;case Ea:o=Or;break;case"scroll":o=ur;break;case"wheel":o=Tr;break;case"copy":case"cut":case"paste":o=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Cr}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==l?l+"Capture":null:l;d=[];for(var m,p=a;null!==p;){var g=(m=p).stateNode;if(5===m.tag&&null!==g&&(m=g,null!==h&&(null!=(g=Pe(p,h))&&d.push(Va(p,g,m)))),u)break;p=p.return}0<d.length&&(l=new o(l,c,null,r,n),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!yn(c)&&!c[pn])&&(o||l)&&(l=n.window===n?n:(l=n.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=a,null!==(c=(c=r.relatedTarget||r.toElement)?yn(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=mr,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cr,g="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==o?l:vn(o),m=null==c?l:vn(c),(l=new d(g,p+"leave",o,r,n)).target=u,l.relatedTarget=m,g=null,yn(n)===a&&((d=new d(h,p+"enter",c,r,n)).target=m,d.relatedTarget=u,g=d),u=g,o&&c)e:{for(h=c,p=0,m=d=o;m;m=Ka(m))p++;for(m=0,g=h;g;g=Ka(g))m++;for(;0<p-m;)d=Ka(d),p--;for(;0<m-p;)h=Ka(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ka(d),h=Ka(h)}d=null}else d=null;null!==o&&Ga(i,l,o,d,!1),null!==c&&null!==u&&Ga(i,u,c,d,!0)}if("select"===(o=(l=a?vn(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var x=Yr;else if(Hr(l))if($r)x=sa;else{x=aa;var f=ra}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(x=na);switch(x&&(x=x(e,a))?Vr(i,x,r,n):(f&&f(e,l,a),"focusout"===e&&(f=l._wrapperState)&&f.controlled&&"number"===l.type&&ee(l,"number",l.value)),f=a?vn(a):window,e){case"focusin":(Hr(f)||"true"===f.contentEditable)&&(ga=f,xa=a,fa=null);break;case"focusout":fa=xa=ga=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,ba(i,r,n);break;case"selectionchange":if(pa)break;case"keydown":case"keyup":ba(i,r,n)}var y;if(Lr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Br?Ur(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Fr&&"ko"!==r.locale&&(Br||"onCompositionStart"!==b?"onCompositionEnd"===b&&Br&&(y=er()):(Zt="value"in(Qt=n)?Qt.value:Qt.textContent,Br=!0)),0<(f=Wa(a,b)).length&&(b=new br(b,e,null,r,n),i.push({event:b,listeners:f}),y?b.data=y:null!==(y=qr(r))&&(b.data=y))),(y=Mr?function(e,t){switch(e){case"compositionend":return qr(t);case"keypress":return 32!==t.which?null:(Ir=!0,Dr);case"textInput":return(e=t.data)===Dr&&Ir?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!Lr&&Ur(e,t)?(e=er(),Xt=Zt=Qt=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(a=Wa(a,"onBeforeInput")).length&&(n=new br("onBeforeInput","beforeinput",null,r,n),i.push({event:n,listeners:a}),n.data=y))}Da(i,t)})}function Va(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wa(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=Pe(e,r))&&a.unshift(Va(e,s,n)),null!=(s=Pe(e,t))&&a.push(Va(e,s,n))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ga(e,t,r,a,n){for(var s=t._reactName,i=[];null!==r&&r!==a;){var l=r,o=l.alternate,c=l.stateNode;if(null!==o&&o===a)break;5===l.tag&&null!==c&&(l=c,n?null!=(o=Pe(r,s))&&i.unshift(Va(r,o,l)):n||null!=(o=Pe(r,s))&&i.push(Va(r,o,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Ja=/\r\n?/g,Ya=/\u0000|\uFFFD/g;function $a(e){return("string"===typeof e?e:""+e).replace(Ja,"\n").replace(Ya,"")}function Qa(e,t,r){if(t=$a(t),$a(e)!==t&&r)throw Error(s(425))}function Za(){}var Xa=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,sn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(ln)}:rn;function ln(e){setTimeout(function(){throw e})}function on(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===a)return e.removeChild(n),void zt(t);a--}else"$"!==r&&"$?"!==r&&"$!"!==r||a++;r=n}while(r);zt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),hn="__reactFiber$"+un,mn="__reactProps$"+un,pn="__reactContainer$"+un,gn="__reactEvents$"+un,xn="__reactListeners$"+un,fn="__reactHandles$"+un;function yn(e){var t=e[hn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pn]||r[hn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=dn(e);null!==e;){if(r=e[hn])return r;e=dn(e)}return t}r=(e=r).parentNode}return null}function bn(e){return!(e=e[hn]||e[pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jn(e){return e[mn]||null}var wn=[],kn=-1;function Nn(e){return{current:e}}function _n(e){0>kn||(e.current=wn[kn],wn[kn]=null,kn--)}function Sn(e,t){kn++,wn[kn]=e.current,e.current=t}var Cn={},En=Nn(Cn),On=Nn(!1),An=Cn;function Tn(e,t){var r=e.type.contextTypes;if(!r)return Cn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in r)s[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ln(){_n(On),_n(En)}function Rn(e,t,r){if(En.current!==Cn)throw Error(s(168));Sn(En,t),Sn(On,r)}function Mn(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return r;for(var n in a=a.getChildContext())if(!(n in t))throw Error(s(108,H(e)||"Unknown",n));return D({},r,a)}function Fn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,An=En.current,Sn(En,e),Sn(On,On.current),!0}function Dn(e,t,r){var a=e.stateNode;if(!a)throw Error(s(169));r?(e=Mn(e,t,An),a.__reactInternalMemoizedMergedChildContext=e,_n(On),_n(En),Sn(En,e)):_n(On),Sn(On,r)}var In=null,Un=!1,qn=!1;function Bn(e){null===In?In=[e]:In.push(e)}function zn(){if(!qn&&null!==In){qn=!0;var e=0,t=bt;try{var r=In;for(bt=1;e<r.length;e++){var a=r[e];do{a=a(!0)}while(null!==a)}In=null,Un=!1}catch(n){throw null!==In&&(In=In.slice(e+1)),Ge(Xe,zn),n}finally{bt=t,qn=!1}}return null}var Hn=[],Vn=0,Wn=null,Kn=0,Gn=[],Jn=0,Yn=null,$n=1,Qn="";function Zn(e,t){Hn[Vn++]=Kn,Hn[Vn++]=Wn,Wn=e,Kn=t}function Xn(e,t,r){Gn[Jn++]=$n,Gn[Jn++]=Qn,Gn[Jn++]=Yn,Yn=e;var a=$n;e=Qn;var n=32-it(a)-1;a&=~(1<<n),r+=1;var s=32-it(t)+n;if(30<s){var i=n-n%5;s=(a&(1<<i)-1).toString(32),a>>=i,n-=i,$n=1<<32-it(t)+n|r<<n|a,Qn=s+e}else $n=1<<s|r<<n|a,Qn=e}function es(e){null!==e.return&&(Zn(e,1),Xn(e,1,0))}function ts(e){for(;e===Wn;)Wn=Hn[--Vn],Hn[Vn]=null,Kn=Hn[--Vn],Hn[Vn]=null;for(;e===Yn;)Yn=Gn[--Jn],Gn[Jn]=null,Qn=Gn[--Jn],Gn[Jn]=null,$n=Gn[--Jn],Gn[Jn]=null}var rs=null,as=null,ns=!1,ss=null;function is(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ls(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,as=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Yn?{id:$n,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,as=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(ns){var t=as;if(t){var r=t;if(!ls(e,t)){if(os(e))throw Error(s(418));t=cn(r.nextSibling);var a=rs;t&&ls(e,t)?is(a,r):(e.flags=-4097&e.flags|2,ns=!1,rs=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,ns=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!ns)return ds(e),ns=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=as)){if(os(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=cn(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){as=cn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}as=null}}else as=rs?cn(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=as;e;)e=cn(e.nextSibling)}function ms(){as=rs=null,ns=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=v.ReactCurrentBatchConfig;function xs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var a=r.stateNode}if(!a)throw Error(s(147,e));var n=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function i(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=2,r):a:(t.flags|=2,r):(t.flags|=1048576,r)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,a){return null===t||6!==t.tag?((t=Dc(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,a){var s=r.type;return s===k?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((a=n(t,r.props)).ref=xs(e,t,r),a.return=e,a):((a=Rc(r.type,r.key,r.props,null,e.mode,a)).ref=xs(e,t,r),a.return=e,a)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ic(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,a,s){return null===t||7!==t.tag?((t=Mc(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Rc(t.type,t.key,t.props,null,e.mode,r)).ref=xs(e,null,t),r.return=e,r;case w:return(t=Ic(t,e.mode,r)).return=e,t;case P:return h(e,(0,t._init)(t._payload),r)}if(te(t)||M(t))return(t=Mc(t,e.mode,r,null)).return=e,t;fs(e,t)}return null}function m(e,t,r,a){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==n?null:o(e,t,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===n?c(e,t,r,a):null;case w:return r.key===n?d(e,t,r,a):null;case P:return m(e,t,(n=r._init)(r._payload),a)}if(te(r)||M(r))return null!==n?null:u(e,t,r,a,null);fs(e,r)}return null}function p(e,t,r,a,n){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(r)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case w:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case P:return p(e,t,r,(0,a._init)(a._payload),n)}if(te(a)||M(a))return u(t,e=e.get(r)||null,a,n,null);fs(t,a)}return null}function g(n,s,l,o){for(var c=null,d=null,u=s,g=s=0,x=null;null!==u&&g<l.length;g++){u.index>g?(x=u,u=null):x=u.sibling;var f=m(n,u,l[g],o);if(null===f){null===u&&(u=x);break}e&&u&&null===f.alternate&&t(n,u),s=i(f,s,g),null===d?c=f:d.sibling=f,d=f,u=x}if(g===l.length)return r(n,u),ns&&Zn(n,g),c;if(null===u){for(;g<l.length;g++)null!==(u=h(n,l[g],o))&&(s=i(u,s,g),null===d?c=u:d.sibling=u,d=u);return ns&&Zn(n,g),c}for(u=a(n,u);g<l.length;g++)null!==(x=p(u,n,g,l[g],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?g:x.key),s=i(x,s,g),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(n,e)}),ns&&Zn(n,g),c}function x(n,l,o,c){var d=M(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,g=l,x=l=0,f=null,y=o.next();null!==g&&!y.done;x++,y=o.next()){g.index>x?(f=g,g=null):f=g.sibling;var b=m(n,g,y.value,c);if(null===b){null===g&&(g=f);break}e&&g&&null===b.alternate&&t(n,g),l=i(b,l,x),null===u?d=b:u.sibling=b,u=b,g=f}if(y.done)return r(n,g),ns&&Zn(n,x),d;if(null===g){for(;!y.done;x++,y=o.next())null!==(y=h(n,y.value,c))&&(l=i(y,l,x),null===u?d=y:u.sibling=y,u=y);return ns&&Zn(n,x),d}for(g=a(n,g);!y.done;x++,y=o.next())null!==(y=p(g,n,x,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?x:y.key),l=i(y,l,x),null===u?d=y:u.sibling=y,u=y);return e&&g.forEach(function(e){return t(n,e)}),ns&&Zn(n,x),d}return function e(a,s,i,o){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===k){if(7===d.tag){r(a,d.sibling),(s=n(d,i.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===d.type){r(a,d.sibling),(s=n(d,i.props)).ref=xs(a,d,i),s.return=a,a=s;break e}r(a,d);break}t(a,d),d=d.sibling}i.type===k?((s=Mc(i.props.children,a.mode,o,i.key)).return=a,a=s):((o=Rc(i.type,i.key,i.props,null,a.mode,o)).ref=xs(a,s,i),o.return=a,a=o)}return l(a);case w:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){r(a,s.sibling),(s=n(s,i.children||[])).return=a,a=s;break e}r(a,s);break}t(a,s),s=s.sibling}(s=Ic(i,a.mode,o)).return=a,a=s}return l(a);case P:return e(a,s,(d=i._init)(i._payload),o)}if(te(i))return g(a,s,i,o);if(M(i))return x(a,s,i,o);fs(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(r(a,s.sibling),(s=n(s,i)).return=a,a=s):(r(a,s),(s=Dc(i,a.mode,o)).return=a,a=s),l(a)):r(a,s)}}var vs=bs(!0),js=bs(!1),ws=Nn(null),ks=null,Ns=null,_s=null;function Ss(){_s=Ns=ks=null}function Cs(e){var t=ws.current;_n(ws),e._currentValue=t}function Es(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Os(e,t){ks=e,_s=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yl=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===ks)throw Error(s(308));Ns=e,ks.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Ts=null;function Ps(e){null===Ts?Ts=[e]:Ts.push(e)}function Ls(e,t,r,a){var n=t.interleaved;return null===n?(r.next=r,Ps(t)):(r.next=n.next,n.next=r),t.interleaved=r,Rs(e,a)}function Rs(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ms=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Eo)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Rs(e,r)}return null===(n=a.interleaved)?(t.next=t,Ps(a)):(t.next=n.next,n.next=t),a.interleaved=t,Rs(e,r)}function qs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Bs(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?n=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zs(e,t,r,a){var n=e.updateQueue;Ms=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(null!==l){n.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=n.baseState;for(i=0,d=c=o=null,l=s;;){var h=l.lane,m=l.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,m=r,g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(m,u,h):p)||void 0===h)break e;u=D({},u,h);break e;case 2:Ms=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=n.effects)?n.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=m,o=u):d=d.next=m,i|=h;if(null===(l=l.next)){if(null===(l=n.shared.pending))break;l=(h=l).next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}if(null===d&&(o=u),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===s&&(n.shared.lanes=0);Fo|=i,e.lanes=i,e.memoizedState=u}}function Hs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=r,"function"!==typeof n)throw Error(s(191,n));n.call(a)}}}var Vs={},Ws=Nn(Vs),Ks=Nn(Vs),Gs=Nn(Vs);function Js(e){if(e===Vs)throw Error(s(174));return e}function Ys(e,t){switch(Sn(Gs,t),Sn(Ks,e),Sn(Ws,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_n(Ws),Sn(Ws,t)}function $s(){_n(Ws),_n(Ks),_n(Gs)}function Qs(e){Js(Gs.current);var t=Js(Ws.current),r=oe(t,e.type);t!==r&&(Sn(Ks,e),Sn(Ws,r))}function Zs(e){Ks.current===e&&(_n(Ws),_n(Ks))}var Xs=Nn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=v.ReactCurrentDispatcher,ni=v.ReactCurrentBatchConfig,si=0,ii=null,li=null,oi=null,ci=!1,di=!1,ui=0,hi=0;function mi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ia(e[r],t[r]))return!1;return!0}function gi(e,t,r,a,n,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:Xi,e=r(a,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,oi=li=null,t.updateQueue=null,ai.current=el,e=r(a,n)}while(di)}if(ai.current=Qi,t=null!==li&&null!==li.next,si=0,oi=li=ii=null,ci=!1,t)throw Error(s(300));return e}function xi(){var e=0!==ui;return ui=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function yi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(s(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function bi(e,t){return"function"===typeof t?t(e):t}function vi(e){var t=yi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=li,n=a.baseQueue,i=r.pending;if(null!==i){if(null!==n){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,r.pending=null}if(null!==n){i=n.next,a=a.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=h,l=a):c=c.next=h,ii.lanes|=u,Fo|=u}d=d.next}while(null!==d&&d!==i);null===c?l=a:c.next=o,ia(a,t.memoizedState)||(yl=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,r.lastRenderedState=a}if(null!==(e=r.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Fo|=i,n=n.next}while(n!==e)}else null===n&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ji(e){var t=yi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=t.memoizedState;if(null!==n){r.pending=null;var l=n=n.next;do{i=e(i,l.action),l=l.next}while(l!==n);ia(i,t.memoizedState)||(yl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function wi(){}function ki(e,t){var r=ii,a=yi(),n=t(),i=!ia(a.memoizedState,n);if(i&&(a.memoizedState=n,yl=!0),a=a.queue,Mi(Si.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(r.flags|=2048,Ai(9,_i.bind(null,r,a,n,t),void 0,null),null===Oo)throw Error(s(349));0!==(30&si)||Ni(r,t,n)}return n}function Ni(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _i(e,t,r,a){t.value=r,t.getSnapshot=a,Ci(t)&&Ei(e)}function Si(e,t,r){return r(function(){Ci(t)&&Ei(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ia(e,r)}catch(a){return!0}}function Ei(e){var t=Rs(e,1);null!==t&&rc(t,e,1,-1)}function Oi(e){var t=fi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[t.memoizedState,e]}function Ai(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function Ti(){return yi().memoizedState}function Pi(e,t,r,a){var n=fi();ii.flags|=e,n.memoizedState=Ai(1|t,r,void 0,void 0===a?null:a)}function Li(e,t,r,a){var n=yi();a=void 0===a?null:a;var s=void 0;if(null!==li){var i=li.memoizedState;if(s=i.destroy,null!==a&&pi(a,i.deps))return void(n.memoizedState=Ai(t,r,s,a))}ii.flags|=e,n.memoizedState=Ai(1|t,r,s,a)}function Ri(e,t){return Pi(8390656,8,e,t)}function Mi(e,t){return Li(2048,8,e,t)}function Fi(e,t){return Li(4,2,e,t)}function Di(e,t){return Li(4,4,e,t)}function Ii(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Li(4,4,Ii.bind(null,t,e),r)}function qi(){}function Bi(e,t){var r=yi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&pi(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function zi(e,t){var r=yi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&pi(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Hi(e,t,r){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yl=!0),e.memoizedState=r):(ia(r,t)||(r=gt(),ii.lanes|=r,Fo|=r,e.baseState=!0),t)}function Vi(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var a=ni.transition;ni.transition={};try{e(!1),t()}finally{bt=r,ni.transition=a}}function Wi(){return yi().memoizedState}function Ki(e,t,r){var a=tc(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ji(e))Yi(t,r);else if(null!==(r=Ls(e,t,r,a))){rc(r,e,a,ec()),$i(r,t,a)}}function Gi(e,t,r){var a=tc(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Yi(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,r);if(n.hasEagerState=!0,n.eagerState=l,ia(l,i)){var o=t.interleaved;return null===o?(n.next=n,Ps(t)):(n.next=o.next,o.next=n),void(t.interleaved=n)}}catch(c){}null!==(r=Ls(e,t,n,a))&&(rc(r,e,a,n=ec()),$i(r,t,a))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Yi(e,t){di=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $i(e,t,r){if(0!==(4194240&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Qi={readContext:As,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Zi={readContext:As,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Ri,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Pi(4194308,4,Ii.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var r=fi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=fi();return t=void 0!==r?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:Oi,useDebugValue:qi,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Oi(!1),t=e[0];return e=Vi.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ii,n=fi();if(ns){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Oo)throw Error(s(349));0!==(30&si)||Ni(a,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,Ri(Si.bind(null,a,i,e),[e]),a.flags|=2048,Ai(9,_i.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=fi(),t=Oo.identifierPrefix;if(ns){var r=Qn;t=":"+t+"R"+(r=($n&~(1<<32-it($n)-1)).toString(32)+r),0<(r=ui++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xi={readContext:As,useCallback:Bi,useContext:As,useEffect:Mi,useImperativeHandle:Ui,useInsertionEffect:Fi,useLayoutEffect:Di,useMemo:zi,useReducer:vi,useRef:Ti,useState:function(){return vi(bi)},useDebugValue:qi,useDeferredValue:function(e){return Hi(yi(),li.memoizedState,e)},useTransition:function(){return[vi(bi)[0],yi().memoizedState]},useMutableSource:wi,useSyncExternalStore:ki,useId:Wi,unstable_isNewReconciler:!1},el={readContext:As,useCallback:Bi,useContext:As,useEffect:Mi,useImperativeHandle:Ui,useInsertionEffect:Fi,useLayoutEffect:Di,useMemo:zi,useReducer:ji,useRef:Ti,useState:function(){return ji(bi)},useDebugValue:qi,useDeferredValue:function(e){var t=yi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[ji(bi)[0],yi().memoizedState]},useMutableSource:wi,useSyncExternalStore:ki,useId:Wi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function rl(e,t,r,a){r=null===(r=r(a,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=ec(),n=tc(e),s=Is(a,n);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Us(e,s,n))&&(rc(t,e,n,a),qs(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=ec(),n=tc(e),s=Is(a,n);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Us(e,s,n))&&(rc(t,e,n,a),qs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),a=tc(e),n=Is(r,a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Us(e,n,a))&&(rc(t,e,a,r),qs(t,e,a))}};function nl(e,t,r,a,n,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!la(r,a)||!la(n,s))}function sl(e,t,r){var a=!1,n=Cn,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(n=Pn(t)?An:En.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Tn(e,n):Cn),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function il(e,t,r,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function ll(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?n.context=As(s):(s=Pn(t)?An:En.current,n.context=Tn(e,s)),n.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(rl(e,t,s,r),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&al.enqueueReplaceState(n,n.state,null),zs(e,r,n,a),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var r="",a=t;do{r+=B(a),a=a.return}while(a);var n=r}catch(s){n="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:n,digest:null}}function cl(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ul="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,r){(r=Is(-1,r)).tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Vo||(Vo=!0,Wo=a),dl(0,t)},r}function ml(e,t,r){(r=Is(-1,r)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){dl(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){dl(0,t),"function"!==typeof a&&(null===Ko?Ko=new Set([this]):Ko.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function pl(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new ul;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=_c.bind(null,e,t,r),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,r,a,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Is(-1,1)).tag=2,Us(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var fl=v.ReactCurrentOwner,yl=!1;function bl(e,t,r,a){t.child=null===e?js(t,null,r,a):vs(t,e.child,r,a)}function vl(e,t,r,a,n){r=r.render;var s=t.ref;return Os(t,n),a=gi(e,t,r,a,s,n),r=xi(),null===e||yl?(ns&&r&&es(t),t.flags|=1,bl(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Hl(e,t,n))}function jl(e,t,r,a,n){if(null===e){var s=r.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Rc(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wl(e,t,s,a,n))}if(s=e.child,0===(e.lanes&n)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:la)(i,a)&&e.ref===t.ref)return Hl(e,t,n)}return t.flags|=1,(e=Lc(s,a)).ref=t.ref,e.return=t,t.child=e}function wl(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(la(s,a)&&e.ref===t.ref){if(yl=!1,t.pendingProps=a=s,0===(e.lanes&n))return t.lanes=e.lanes,Hl(e,t,n);0!==(131072&e.flags)&&(yl=!0)}}return _l(e,t,r,a,n)}function kl(e,t,r){var a=t.pendingProps,n=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Lo,Po),Po|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sn(Lo,Po),Po|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:r,Sn(Lo,Po),Po|=a}else null!==s?(a=s.baseLanes|r,t.memoizedState=null):a=r,Sn(Lo,Po),Po|=a;return bl(e,t,n,r),t.child}function Nl(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _l(e,t,r,a,n){var s=Pn(r)?An:En.current;return s=Tn(t,s),Os(t,n),r=gi(e,t,r,a,s,n),a=xi(),null===e||yl?(ns&&a&&es(t),t.flags|=1,bl(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Hl(e,t,n))}function Sl(e,t,r,a,n){if(Pn(r)){var s=!0;Fn(t)}else s=!1;if(Os(t,n),null===t.stateNode)zl(e,t),sl(t,r,a),ll(t,r,a,n),a=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=As(c):c=Tn(t,c=Pn(r)?An:En.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==a||o!==c)&&il(t,i,a,c),Ms=!1;var h=t.memoizedState;i.state=h,zs(t,a,i,n),o=t.memoizedState,l!==a||h!==o||On.current||Ms?("function"===typeof d&&(rl(t,r,d,a),o=t.memoizedState),(l=Ms||nl(t,r,l,a,h,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),i.props=a,i.state=o,i.context=c,a=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Ds(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(o=r.contextType)&&null!==o?o=As(o):o=Tn(t,o=Pn(r)?An:En.current);var m=r.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||h!==o)&&il(t,i,a,o),Ms=!1,h=t.memoizedState,i.state=h,zs(t,a,i,n);var p=t.memoizedState;l!==u||h!==p||On.current||Ms?("function"===typeof m&&(rl(t,r,m,a),p=t.memoizedState),(c=Ms||nl(t,r,c,a,h,p,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,p,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,p,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),i.props=a,i.state=p,i.context=o,a=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Cl(e,t,r,a,s,n)}function Cl(e,t,r,a,n,s){Nl(e,t);var i=0!==(128&t.flags);if(!a&&!i)return n&&Dn(t,r,!1),Hl(e,t,s);a=t.stateNode,fl.current=t;var l=i&&"function"!==typeof r.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,l,s)):bl(e,t,l,s),t.memoizedState=a.state,n&&Dn(t,r,!0),t.child}function El(e){var t=e.stateNode;t.pendingContext?Rn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rn(0,t.context,!1),Ys(e,t.containerInfo)}function Ol(e,t,r,a,n){return ms(),ps(n),t.flags|=256,bl(e,t,r,a),t.child}var Al,Tl,Pl,Ll,Rl={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,r){var a,n=t.pendingProps,i=Xs.current,l=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sn(Xs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&n)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Fc(o,n,0,null),e=Mc(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ml(r),t.memoizedState=Rl,e):Dl(t,o));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,r,a,n,i,l){if(r)return 256&t.flags?(t.flags&=-257,Il(e,t,l,a=cl(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=Fc({mode:"visible",children:a.children},n,0,null),(i=Mc(i,n,l,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&vs(t,e.child,null,l),t.child.memoizedState=Ml(l),t.memoizedState=Rl,i);if(0===(1&t.mode))return Il(e,t,l,null);if("$!"===n.data){if(a=n.nextSibling&&n.nextSibling.dataset)var o=a.dgst;return a=o,Il(e,t,l,a=cl(i=Error(s(419)),a,void 0))}if(o=0!==(l&e.childLanes),yl||o){if(null!==(a=Oo)){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(a.suspendedLanes|l))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Rs(e,n),rc(a,e,n,-1))}return gc(),Il(e,t,l,a=cl(Error(s(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,as=cn(n.nextSibling),rs=t,ns=!0,ss=null,null!==e&&(Gn[Jn++]=$n,Gn[Jn++]=Qn,Gn[Jn++]=Yn,$n=e.id,Qn=e.overflow,Yn=t),t=Dl(t,a.children),t.flags|=4096,t)}(e,t,o,n,a,i,r);if(l){l=n.fallback,o=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Lc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?l=Lc(a,l):(l=Mc(l,o,r,null)).flags|=2,l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=null===(o=e.child.memoizedState)?Ml(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=Rl,n}return e=(l=e.child).sibling,n=Lc(l,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Dl(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Il(e,t,r,a){return null!==a&&ps(a),vs(t,e.child,null,r),(e=Dl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Es(e.return,t,r)}function ql(e,t,r,a,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function Bl(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;if(bl(e,t,a.children,r),0!==(2&(a=Xs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,r,t);else if(19===e.tag)Ul(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Sn(Xs,a),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),ql(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}ql(t,!0,r,null,s);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Fo|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Lc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Lc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Vl(e,t){if(!ns)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Kl(e,t,r){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wl(t),null;case 1:case 17:return Pn(t.type)&&Ln(),Wl(t),null;case 3:return a=t.stateNode,$s(),_n(On),_n(En),ri(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Tl(e,t),Wl(t),null;case 5:Zs(t);var n=Js(Gs.current);if(r=t.type,null!==e&&null!=t.stateNode)Pl(e,t,r,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Wl(t),null}if(e=Js(Ws.current),us(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[hn]=t,a[mn]=i,e=0!==(1&t.mode),r){case"dialog":Ia("cancel",a),Ia("close",a);break;case"iframe":case"object":case"embed":Ia("load",a);break;case"video":case"audio":for(n=0;n<Ra.length;n++)Ia(Ra[n],a);break;case"source":Ia("error",a);break;case"img":case"image":case"link":Ia("error",a),Ia("load",a);break;case"details":Ia("toggle",a);break;case"input":$(a,i),Ia("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ia("invalid",a);break;case"textarea":ne(a,i),Ia("invalid",a)}for(var o in ye(r,i),n=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Qa(a.textContent,c,e),n=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Qa(a.textContent,c,e),n=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Ia("scroll",a)}switch(r){case"input":K(a),X(a,i,!0);break;case"textarea":K(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Za)}a=n,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),"select"===r&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[hn]=t,e[mn]=a,Al(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(r,a),r){case"dialog":Ia("cancel",e),Ia("close",e),n=a;break;case"iframe":case"object":case"embed":Ia("load",e),n=a;break;case"video":case"audio":for(n=0;n<Ra.length;n++)Ia(Ra[n],e);n=a;break;case"source":Ia("error",e),n=a;break;case"img":case"image":case"link":Ia("error",e),Ia("load",e),n=a;break;case"details":Ia("toggle",e),n=a;break;case"input":$(e,a),n=Y(e,a),Ia("invalid",e);break;case"option":default:n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=D({},a,{value:void 0}),Ia("invalid",e);break;case"textarea":ne(e,a),n=ae(e,a),Ia("invalid",e)}for(i in ye(r,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Ia("scroll",e):null!=d&&b(e,i,d,o))}switch(r){case"input":K(e),X(e,a,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+V(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?re(e,!!a.multiple,i,!1):null!=a.defaultValue&&re(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Za)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wl(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(r=Js(Gs.current),Js(Ws.current),us(t)){if(a=t.stateNode,r=t.memoizedProps,a[hn]=t,(i=a.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Qa(a.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qa(a.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[hn]=t,t.stateNode=a}return Wl(t),null;case 13:if(_n(Xs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ns&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ms(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[hn]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wl(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Ro&&(Ro=3):gc())),null!==t.updateQueue&&(t.flags|=4),Wl(t),null);case 4:return $s(),Tl(e,t),null===e&&Ba(t.stateNode.containerInfo),Wl(t),null;case 10:return Cs(t.type._context),Wl(t),null;case 19:if(_n(Xs),null===(i=t.memoizedState))return Wl(t),null;if(a=0!==(128&t.flags),null===(o=i.rendering))if(a)Vl(i,!1);else{if(0!==Ro||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Vl(i,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;null!==r;)e=a,(i=r).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sn(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>zo&&(t.flags|=128,a=!0,Vl(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(o))){if(t.flags|=128,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Vl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!ns)return Wl(t),null}else 2*Qe()-i.renderingStartTime>zo&&1073741824!==r&&(t.flags|=128,a=!0,Vl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=i.last)?r.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,r=Xs.current,Sn(Xs,a?1&r|2:1&r),t):(Wl(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Po)&&(Wl(t),6&t.subtreeFlags&&(t.flags|=8192)):Wl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Gl(e,t){switch(ts(t),t.tag){case 1:return Pn(t.type)&&Ln(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),_n(On),_n(En),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(_n(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _n(Xs),null;case 4:return $s(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Al=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Tl=function(){},Pl=function(e,t,r,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Js(Ws.current);var s,i=null;switch(r){case"input":n=Y(e,n),a=Y(e,a),i=[];break;case"select":n=D({},n,{value:void 0}),a=D({},a,{value:void 0}),i=[];break;case"textarea":n=ae(e,n),a=ae(e,a),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in ye(r,a),r=null,n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var o=n[d];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=n?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ia("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ll=function(e,t,r,a){r!==a&&(t.flags|=4)};var Jl=!1,Yl=!1,$l="function"===typeof WeakSet?WeakSet:Set,Ql=null;function Zl(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(a){Nc(e,t,a)}else r.current=null}function Xl(e,t,r){try{r()}catch(a){Nc(e,t,a)}}var eo=!1;function to(e,t,r){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,void 0!==s&&Xl(t,r,s)}n=n.next}while(n!==a)}}function ro(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function ao(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function no(e){var t=e.alternate;null!==t&&(e.alternate=null,no(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hn],delete t[mn],delete t[gn],delete t[xn],delete t[fn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(lo(e,t,r),e=e.sibling;null!==e;)lo(e,t,r),e=e.sibling}function oo(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,r),e=e.sibling;null!==e;)oo(e,t,r),e=e.sibling}var co=null,uo=!1;function ho(e,t,r){for(r=r.child;null!==r;)mo(e,t,r),r=r.sibling}function mo(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(nt,r)}catch(l){}switch(r.tag){case 5:Yl||Zl(r,t);case 6:var a=co,n=uo;co=null,ho(e,t,r),uo=n,null!==(co=a)&&(uo?(e=co,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):co.removeChild(r.stateNode));break;case 18:null!==co&&(uo?(e=co,r=r.stateNode,8===e.nodeType?on(e.parentNode,r):1===e.nodeType&&on(e,r),zt(e)):on(co,r.stateNode));break;case 4:a=co,n=uo,co=r.stateNode.containerInfo,uo=!0,ho(e,t,r),co=a,uo=n;break;case 0:case 11:case 14:case 15:if(!Yl&&(null!==(a=r.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var s=n,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Xl(r,t,i),n=n.next}while(n!==a)}ho(e,t,r);break;case 1:if(!Yl&&(Zl(r,t),"function"===typeof(a=r.stateNode).componentWillUnmount))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Nc(r,t,l)}ho(e,t,r);break;case 21:ho(e,t,r);break;case 22:1&r.mode?(Yl=(a=Yl)||null!==r.memoizedState,ho(e,t,r),Yl=a):ho(e,t,r);break;default:ho(e,t,r)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new $l),t.forEach(function(t){var a=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}}function go(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));mo(i,l,n),co=null,uo=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){Nc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(go(t,e),fo(e),4&a){try{to(3,e,e.return),ro(3,e)}catch(x){Nc(e,e.return,x)}try{to(5,e,e.return)}catch(x){Nc(e,e.return,x)}}break;case 1:go(t,e),fo(e),512&a&&null!==r&&Zl(r,r.return);break;case 5:if(go(t,e),fo(e),512&a&&null!==r&&Zl(r,r.return),32&e.flags){var n=e.stateNode;try{he(n,"")}catch(x){Nc(e,e.return,x)}}if(4&a&&null!=(n=e.stateNode)){var i=e.memoizedProps,l=null!==r?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&Q(n,i),be(o,l);var d=be(o,i);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];"style"===u?xe(n,h):"dangerouslySetInnerHTML"===u?ue(n,h):"children"===u?he(n,h):b(n,u,h,d)}switch(o){case"input":Z(n,i);break;case"textarea":se(n,i);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(n,!!i.multiple,p,!1):m!==!!i.multiple&&(null!=i.defaultValue?re(n,!!i.multiple,i.defaultValue,!0):re(n,!!i.multiple,i.multiple?[]:"",!1))}n[mn]=i}catch(x){Nc(e,e.return,x)}}break;case 6:if(go(t,e),fo(e),4&a){if(null===e.stateNode)throw Error(s(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(x){Nc(e,e.return,x)}}break;case 3:if(go(t,e),fo(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(x){Nc(e,e.return,x)}break;case 4:default:go(t,e),fo(e);break;case 13:go(t,e),fo(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(Bo=Qe())),4&a&&po(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Yl=(d=Yl)||u,go(t,e),Yl=d):go(t,e),fo(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Ql=e,u=e.child;null!==u;){for(h=Ql=u;null!==Ql;){switch(p=(m=Ql).child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:Zl(m,m.return);var g=m.stateNode;if("function"===typeof g.componentWillUnmount){a=m,r=m.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Nc(a,r,x)}}break;case 5:Zl(m,m.return);break;case 22:if(null!==m.memoizedState){jo(h);continue}}null!==p?(p.return=m,Ql=p):jo(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{n=h.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=h.stateNode,l=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=ge("display",l))}catch(x){Nc(e,e.return,x)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Nc(e,e.return,x)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:go(t,e),fo(e),4&a&&po(e);case 21:}}function fo(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(so(r)){var a=r;break e}r=r.return}throw Error(s(160))}switch(a.tag){case 5:var n=a.stateNode;32&a.flags&&(he(n,""),a.flags&=-33),oo(e,io(e),n);break;case 3:case 4:var i=a.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(s(161))}}catch(l){Nc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,r){Ql=e,bo(e,t,r)}function bo(e,t,r){for(var a=0!==(1&e.mode);null!==Ql;){var n=Ql,s=n.child;if(22===n.tag&&a){var i=null!==n.memoizedState||Jl;if(!i){var l=n.alternate,o=null!==l&&null!==l.memoizedState||Yl;l=Jl;var c=Yl;if(Jl=i,(Yl=o)&&!c)for(Ql=n;null!==Ql;)o=(i=Ql).child,22===i.tag&&null!==i.memoizedState?wo(n):null!==o?(o.return=i,Ql=o):wo(n);for(;null!==s;)Ql=s,bo(s,t,r),s=s.sibling;Ql=n,Jl=l,Yl=c}vo(e)}else 0!==(8772&n.subtreeFlags)&&null!==s?(s.return=n,Ql=s):vo(e)}}function vo(e){for(;null!==Ql;){var t=Ql;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yl||ro(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Yl)if(null===r)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:tl(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hs(t,i,a);break;case 3:var l=t.updateQueue;if(null!==l){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Hs(t,l,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Yl||512&t.flags&&ao(t)}catch(m){Nc(t,t.return,m)}}if(t===e){Ql=null;break}if(null!==(r=t.sibling)){r.return=t.return,Ql=r;break}Ql=t.return}}function jo(e){for(;null!==Ql;){var t=Ql;if(t===e){Ql=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Ql=r;break}Ql=t.return}}function wo(e){for(;null!==Ql;){var t=Ql;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ro(4,t)}catch(o){Nc(t,r,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(o){Nc(t,n,o)}}var s=t.return;try{ao(t)}catch(o){Nc(t,s,o)}break;case 5:var i=t.return;try{ao(t)}catch(o){Nc(t,i,o)}}}catch(o){Nc(t,t.return,o)}if(t===e){Ql=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Ql=l;break}Ql=t.return}}var ko,No=Math.ceil,_o=v.ReactCurrentDispatcher,So=v.ReactCurrentOwner,Co=v.ReactCurrentBatchConfig,Eo=0,Oo=null,Ao=null,To=0,Po=0,Lo=Nn(0),Ro=0,Mo=null,Fo=0,Do=0,Io=0,Uo=null,qo=null,Bo=0,zo=1/0,Ho=null,Vo=!1,Wo=null,Ko=null,Go=!1,Jo=null,Yo=0,$o=0,Qo=null,Zo=-1,Xo=0;function ec(){return 0!==(6&Eo)?Qe():-1!==Zo?Zo:Zo=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==To?To&-To:null!==gs.transition?(0===Xo&&(Xo=gt()),Xo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,r,a){if(50<$o)throw $o=0,Qo=null,Error(s(185));ft(e,r,a),0!==(2&Eo)&&e===Oo||(e===Oo&&(0===(2&Eo)&&(Do|=r),4===Ro&&lc(e,To)),ac(e,a),1===r&&0===Eo&&0===(1&t.mode)&&(zo=Qe()+500,Un&&zn()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),l=1<<i,o=n[i];-1===o?0!==(l&r)&&0===(l&a)||(n[i]=mt(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}}(e,t);var a=ht(e,e===Oo?To:0);if(0===a)null!==r&&Je(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=r&&Je(r),1===t)0===e.tag?function(e){Un=!0,Bn(e)}(oc.bind(null,e)):Bn(oc.bind(null,e)),sn(function(){0===(6&Eo)&&zn()}),r=null;else{switch(vt(a)){case 1:r=Xe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=at}r=Oc(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Zo=-1,Xo=0,0!==(6&Eo))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var a=ht(e,e===Oo?To:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=xc(e,a);else{t=a;var n=Eo;Eo|=2;var i=pc();for(Oo===e&&To===t||(Ho=null,zo=Qe()+500,hc(e,t));;)try{yc();break}catch(o){mc(e,o)}Ss(),_o.current=i,Eo=n,null!==Ao?t=0:(Oo=null,To=0,t=Ro)}if(0!==t){if(2===t&&(0!==(n=pt(e))&&(a=n,t=sc(e,n))),1===t)throw r=Mo,hc(e,0),lc(e,a),ac(e,Qe()),r;if(6===t)lc(e,a);else{if(n=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!ia(s(),n))return!1}catch(l){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=xc(e,a))&&(0!==(i=pt(e))&&(a=i,t=sc(e,i))),1===t))throw r=Mo,hc(e,0),lc(e,a),ac(e,Qe()),r;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,qo,Ho);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=Bo+500-Qe())){if(0!==ht(e,0))break;if(((n=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=rn(jc.bind(null,e,qo,Ho),t);break}jc(e,qo,Ho);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,n=-1;0<a;){var l=31-it(a);i=1<<l,(l=t[l])>n&&(n=l),a&=~i}if(a=n,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*No(a/1960))-a)){e.timeoutHandle=rn(jc.bind(null,e,qo,Ho),a);break}jc(e,qo,Ho);break;default:throw Error(s(329))}}}return ac(e,Qe()),e.callbackNode===r?nc.bind(null,e):null}function sc(e,t){var r=Uo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=qo,qo=r,null!==t&&ic(t)),e}function ic(e){null===qo?qo=e:qo.push.apply(qo,e)}function lc(e,t){for(t&=~Io,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),a=1<<r;e[r]=-1,t&=~a}}function oc(e){if(0!==(6&Eo))throw Error(s(327));wc();var t=ht(e,0);if(0===(1&t))return ac(e,Qe()),null;var r=xc(e,t);if(0!==e.tag&&2===r){var a=pt(e);0!==a&&(t=a,r=sc(e,a))}if(1===r)throw r=Mo,hc(e,0),lc(e,t),ac(e,Qe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,qo,Ho),ac(e,Qe()),null}function cc(e,t){var r=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=r)&&(zo=Qe()+500,Un&&zn())}}function dc(e){null!==Jo&&0===Jo.tag&&0===(6&Eo)&&wc();var t=Eo;Eo|=1;var r=Co.transition,a=bt;try{if(Co.transition=null,bt=1,e)return e()}finally{bt=a,Co.transition=r,0===(6&(Eo=t))&&zn()}}function uc(){Po=Lo.current,_n(Lo)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,an(r)),null!==Ao)for(r=Ao.return;null!==r;){var a=r;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ln();break;case 3:$s(),_n(On),_n(En),ri();break;case 5:Zs(a);break;case 4:$s();break;case 13:case 19:_n(Xs);break;case 10:Cs(a.type._context);break;case 22:case 23:uc()}r=r.return}if(Oo=e,Ao=e=Lc(e.current,null),To=Po=t,Ro=0,Mo=null,Io=Do=Fo=0,qo=Uo=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(a=(r=Ts[t]).interleaved)){r.interleaved=null;var n=a.next,s=r.pending;if(null!==s){var i=s.next;s.next=n,a.next=i}r.pending=a}Ts=null}return e}function mc(e,t){for(;;){var r=Ao;try{if(Ss(),ai.current=Qi,ci){for(var a=ii.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}ci=!1}if(si=0,oi=li=ii=null,di=!1,ui=0,So.current=null,null===r||null===r.return){Ro=1,Mo=t,Ao=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=To,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=gl(l);if(null!==p){p.flags&=-257,xl(p,l,o,0,t),1&p.mode&&pl(i,d,t),c=d;var g=(t=p).updateQueue;if(null===g){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}if(0===(1&t)){pl(i,d,t),gc();break e}c=Error(s(426))}else if(ns&&1&o.mode){var f=gl(l);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),xl(f,l,o,0,t),ps(ol(c,o));break e}}i=c=ol(c,o),4!==Ro&&(Ro=2),null===Uo?Uo=[i]:Uo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Bs(i,hl(0,c,t));break e;case 1:o=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ko||!Ko.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Bs(i,ml(i,o,t));break e}}i=i.return}while(null!==i)}vc(r)}catch(v){t=v,Ao===r&&null!==r&&(Ao=r=r.return);continue}break}}function pc(){var e=_o.current;return _o.current=Qi,null===e?Qi:e}function gc(){0!==Ro&&3!==Ro&&2!==Ro||(Ro=4),null===Oo||0===(268435455&Fo)&&0===(268435455&Do)||lc(Oo,To)}function xc(e,t){var r=Eo;Eo|=2;var a=pc();for(Oo===e&&To===t||(Ho=null,hc(e,t));;)try{fc();break}catch(n){mc(e,n)}if(Ss(),Eo=r,_o.current=a,null!==Ao)throw Error(s(261));return Oo=null,To=0,Ro}function fc(){for(;null!==Ao;)bc(Ao)}function yc(){for(;null!==Ao&&!Ye();)bc(Ao)}function bc(e){var t=ko(e.alternate,e,Po);e.memoizedProps=e.pendingProps,null===t?vc(e):Ao=t,So.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Kl(r,t,Po)))return void(Ao=r)}else{if(null!==(r=Gl(r,t)))return r.flags&=32767,void(Ao=r);if(null===e)return Ro=6,void(Ao=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ao=t);Ao=t=e}while(null!==t);0===Ro&&(Ro=5)}function jc(e,t,r){var a=bt,n=Co.transition;try{Co.transition=null,bt=1,function(e,t,r,a){do{wc()}while(null!==Jo);if(0!==(6&Eo))throw Error(s(327));r=e.finishedWork;var n=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-it(r),s=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~s}}(e,i),e===Oo&&(Ao=Oo=null,To=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Go||(Go=!0,Oc(tt,function(){return wc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Co.transition,Co.transition=null;var l=bt;bt=1;var o=Eo;Eo|=4,So.current=null,function(e,t){if(Xa=Vt,ha(e=ua())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch(j){r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||0!==n&&3!==h.nodeType||(o=l+n),h!==i||0!==a&&3!==h.nodeType||(c=l+a),3===h.nodeType&&(l+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===n&&(o=l),m===i&&++u===a&&(c=l),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}r=-1===o||-1===c?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(en={focusedElem:e,selectionRange:r},Vt=!1,Ql=t;null!==Ql;)if(e=(t=Ql).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ql=e;else for(;null!==Ql;){t=Ql;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var x=g.memoizedProps,f=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:tl(t.type,x),f);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){Nc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Ql=e;break}Ql=t.return}g=eo,eo=!1}(e,r),xo(r,e),ma(en),Vt=!!Xa,en=Xa=null,e.current=r,yo(r,e,n),$e(),Eo=o,bt=l,Co.transition=i}else e.current=r;if(Go&&(Go=!1,Jo=e,Yo=n),i=e.pendingLanes,0===i&&(Ko=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,Qe()),null!==t)for(a=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Vo)throw Vo=!1,e=Wo,Wo=null,e;0!==(1&Yo)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Qo?$o++:($o=0,Qo=e):$o=0,zn()}(e,t,r,a)}finally{Co.transition=n,bt=a}return null}function wc(){if(null!==Jo){var e=vt(Yo),t=Co.transition,r=bt;try{if(Co.transition=null,bt=16>e?16:e,null===Jo)var a=!1;else{if(e=Jo,Jo=null,Yo=0,0!==(6&Eo))throw Error(s(331));var n=Eo;for(Eo|=4,Ql=e.current;null!==Ql;){var i=Ql,l=i.child;if(0!==(16&Ql.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Ql=d;null!==Ql;){var u=Ql;switch(u.tag){case 0:case 11:case 15:to(8,u,i)}var h=u.child;if(null!==h)h.return=u,Ql=h;else for(;null!==Ql;){var m=(u=Ql).sibling,p=u.return;if(no(u),u===d){Ql=null;break}if(null!==m){m.return=p,Ql=m;break}Ql=p}}}var g=i.alternate;if(null!==g){var x=g.child;if(null!==x){g.child=null;do{var f=x.sibling;x.sibling=null,x=f}while(null!==x)}}Ql=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Ql=l;else e:for(;null!==Ql;){if(0!==(2048&(i=Ql).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Ql=y;break e}Ql=i.return}}var b=e.current;for(Ql=b;null!==Ql;){var v=(l=Ql).child;if(0!==(2064&l.subtreeFlags)&&null!==v)v.return=l,Ql=v;else e:for(l=b;null!==Ql;){if(0!==(2048&(o=Ql).flags))try{switch(o.tag){case 0:case 11:case 15:ro(9,o)}}catch(w){Nc(o,o.return,w)}if(o===l){Ql=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Ql=j;break e}Ql=o.return}}if(Eo=n,zn(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(nt,e)}catch(w){}a=!0}return a}finally{bt=r,Co.transition=t}}return!1}function kc(e,t,r){e=Us(e,t=hl(0,t=ol(r,t),1),1),t=ec(),null!==e&&(ft(e,1,t),ac(e,t))}function Nc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Ko||!Ko.has(a))){t=Us(t,e=ml(t,e=ol(r,e),1),1),e=ec(),null!==t&&(ft(t,1,e),ac(t,e));break}}t=t.return}}function _c(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Oo===e&&(To&r)===r&&(4===Ro||3===Ro&&(130023424&To)===To&&500>Qe()-Bo?hc(e,0):Io|=r),ac(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Rs(e,t))&&(ft(e,t,r),ac(e,r))}function Cc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Sc(e,r)}function Oc(e,t){return Ge(e,t)}function Ac(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,a){return new Ac(e,t,r,a)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rc(e,t,r,a,n,i){var l=2;if(a=e,"function"===typeof e)Pc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case k:return Mc(r.children,n,i,t);case N:l=8,n|=8;break;case _:return(e=Tc(12,r,t,2|n)).elementType=_,e.lanes=i,e;case O:return(e=Tc(13,r,t,n)).elementType=O,e.lanes=i,e;case A:return(e=Tc(19,r,t,n)).elementType=A,e.lanes=i,e;case L:return Fc(r,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:l=10;break e;case C:l=9;break e;case E:l=11;break e;case T:l=14;break e;case P:l=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(l,r,t,n)).elementType=e,t.type=a,t.lanes=i,t}function Mc(e,t,r,a){return(e=Tc(7,e,a,t)).lanes=r,e}function Fc(e,t,r,a){return(e=Tc(22,e,a,t)).elementType=L,e.lanes=r,e.stateNode={isHidden:!1},e}function Dc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Ic(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function qc(e,t,r,a,n,s,i,l,o){return e=new Uc(e,t,r,l,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function Bc(e){if(!e)return Cn;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Pn(r))return Mn(e,r,t)}return t}function zc(e,t,r,a,n,s,i,l,o){return(e=qc(r,a,!0,e,0,s,0,l,o)).context=Bc(null),r=e.current,(s=Is(a=ec(),n=tc(r))).callback=void 0!==t&&null!==t?t:null,Us(r,s,n),e.current.lanes=n,ft(e,n,a),ac(e,a),e}function Hc(e,t,r,a){var n=t.current,s=ec(),i=tc(n);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Is(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Us(n,t,i))&&(rc(e,n,i,s),qs(e,n,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}ko=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||On.current)yl=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yl=!1,function(e,t,r){switch(t.tag){case 3:El(t),ms();break;case 5:Qs(t);break;case 1:Pn(t.type)&&Fn(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Sn(ws,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Sn(Xs,1&Xs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Fl(e,t,r):(Sn(Xs,1&Xs.current),null!==(e=Hl(e,t,r))?e.sibling:null);Sn(Xs,1&Xs.current);break;case 19:if(a=0!==(r&t.childLanes),0!==(128&e.flags)){if(a)return Bl(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Sn(Xs,Xs.current),a)break;return null;case 22:case 23:return t.lanes=0,kl(e,t,r)}return Hl(e,t,r)}(e,t,r);yl=0!==(131072&e.flags)}else yl=!1,ns&&0!==(1048576&t.flags)&&Xn(t,Kn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;zl(e,t),e=t.pendingProps;var n=Tn(t,En.current);Os(t,r),n=gi(null,t,a,e,n,r);var i=xi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pn(a)?(i=!0,Fn(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Fs(t),n.updater=al,t.stateNode=n,n._reactInternals=t,ll(t,a,e,r),t=Cl(null,t,a,!0,i,r)):(t.tag=0,ns&&i&&es(t),bl(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(zl(e,t),e=t.pendingProps,a=(n=a._init)(a._payload),t.type=a,n=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(a),e=tl(a,e),n){case 0:t=_l(null,t,a,e,r);break e;case 1:t=Sl(null,t,a,e,r);break e;case 11:t=vl(null,t,a,e,r);break e;case 14:t=jl(null,t,a,tl(a.type,e),r);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,_l(e,t,a,n=t.elementType===a?n:tl(a,n),r);case 1:return a=t.type,n=t.pendingProps,Sl(e,t,a,n=t.elementType===a?n:tl(a,n),r);case 3:e:{if(El(t),null===e)throw Error(s(387));a=t.pendingProps,n=(i=t.memoizedState).element,Ds(e,t),zs(t,a,null,r);var l=t.memoizedState;if(a=l.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ol(e,t,a,r,n=ol(Error(s(423)),t));break e}if(a!==n){t=Ol(e,t,a,r,n=ol(Error(s(424)),t));break e}for(as=cn(t.stateNode.containerInfo.firstChild),rs=t,ns=!0,ss=null,r=js(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ms(),a===n){t=Hl(e,t,r);break e}bl(e,t,a,r)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),a=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,l=n.children,tn(a,n)?l=null:null!==i&&tn(a,i)&&(t.flags|=32),Nl(e,t),bl(e,t,l,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Fl(e,t,r);case 4:return Ys(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=vs(t,null,a,r):bl(e,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,vl(e,t,a,n=t.elementType===a?n:tl(a,n),r);case 7:return bl(e,t,t.pendingProps,r),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,l=n.value,Sn(ws,a._currentValue),a._currentValue=l,null!==i)if(ia(i.value,l)){if(i.children===n.children&&!On.current){t=Hl(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Is(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Es(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(s(341));l.lanes|=r,null!==(o=l.alternate)&&(o.lanes|=r),Es(l,r,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}bl(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Os(t,r),a=a(n=As(n)),t.flags|=1,bl(e,t,a,r),t.child;case 14:return n=tl(a=t.type,t.pendingProps),jl(e,t,a,n=tl(a.type,n),r);case 15:return wl(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:tl(a,n),zl(e,t),t.tag=1,Pn(a)?(e=!0,Fn(t)):e=!1,Os(t,r),sl(t,a,n),ll(t,a,n,r),Cl(null,t,a,!0,e,r);case 19:return Bl(e,t,r);case 22:return kl(e,t,r)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Xc(e,t,r,a,n){var s=r._reactRootContainer;if(s){var i=s;if("function"===typeof n){var l=n;n=function(){var e=Vc(i);l.call(e)}}Hc(t,i,e,n)}else i=function(e,t,r,a,n){if(n){if("function"===typeof a){var s=a;a=function(){var e=Vc(i);s.call(e)}}var i=zc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[pn]=i.current,Ba(8===e.nodeType?e.parentNode:e),dc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof a){var l=a;a=function(){var e=Vc(o);l.call(e)}}var o=qc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=o,e[pn]=o.current,Ba(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,o,r,a)}),o}(r,t,e,n,a);return Vc(i)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[pn]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lt.length&&0!==t&&t<Lt[r].priority;r++);Lt.splice(r,0,e),0===r&&Dt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),ac(t,Qe()),0===(6&Eo)&&(zo=Qe()+500,zn()))}break;case 13:dc(function(){var t=Rs(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Kc(e,1)}},wt=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)rc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),r=Rs(e,t);if(null!==r)rc(r,e,t,ec());Kc(e,t)}},Nt=function(){return bt},_t=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},we=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=jn(a);if(!n)throw Error(s(90));G(a),Z(a,n)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Oe=dc;var ed={usingClientEntryPoint:!1,Events:[bn,vn,jn,Se,Ce,cc]},td={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{nt=ad.inject(rd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var r=!1,a="",n=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=qc(e,1,!1,null,0,r,0,a,n),e[pn]=t.current,Ba(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(s(200));return Xc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!$c(e))throw Error(s(405));var a=null!=r&&r.hydratedSources||null,n=!1,i="",l=Gc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(l=r.onRecoverableError)),t=zc(t,null,e,1,null!=r?r:null,n,0,i,l),e[pn]=t.current,Ba(e),a)for(e=0;e<a.length;e++)n=(n=(r=a[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Yc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(s(200));return Xc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Qc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,r,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var a=r(5193),n=r(2761),s=Object.prototype,i=s.hasOwnProperty,l=s.propertyIsEnumerable,o=a(function(){return arguments}())?a:function(e){return n(e)&&i.call(e,"callee")&&!l.call(e,"callee")};e.exports=o},2823:function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,n++)a[n]=s[i];return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=i(r(5043)),o=i(r(7950)),c=i(r(9853)),d=i(r(7680)),u=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,a,n){var s,i,l,o;"text-change"===e?null===(i=(s=r).onEditorChangeText)||void 0===i||i.call(s,r.editor.root.innerHTML,t,n,r.unprivilegedEditor):"selection-change"===e&&(null===(o=(l=r).onEditorChangeSelection)||void 0===o||o.call(l,t,n,r.unprivilegedEditor))};var a=r.isControlled()?t.value:t.defaultValue;return r.value=null!==a&&void 0!==a?a:"",r}return a(t,e),t.prototype.validateProps=function(e){var t;if(l.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(l.default.Children.count(e.children)&&"textarea"===(null===(t=l.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,a=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var n=this.getEditorContents(),i=null!==(r=e.value)&&void 0!==r?r:"";this.isEqualValue(i,n)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),s(this.cleanProps,this.dirtyProps).some(function(t){return!c.default(e[t],a.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(r){return!c.default(e[r],t.props[r])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var a=this.editor.getContents(),n=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:n},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var s=this.regenerationSnapshot,i=(a=s.delta,s.selection);delete this.regenerationSnapshot,this.instantiateEditor();var l=this.editor;l.setContents(a),h(function(){return r.setEditorSelection(l,i)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var a=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),h(function(){return r.setEditorSelection(e,a)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,a;(null===(a=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===a?void 0:a.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=o.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,a=t.preserveWhitespace,s={key:this.state.generation,ref:function(t){e.editingArea=t}};return l.default.Children.count(r)?l.default.cloneElement(l.default.Children.only(r),s):a?l.default.createElement("pre",n({},s)):l.default.createElement("div",n({},s))},t.prototype.render=function(){var e;return l.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,a){var n,s;if(this.editor){var i=this.isDelta(this.value)?a.getContents():a.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=i,null===(s=(n=this.props).onChange)||void 0===s||s.call(n,e,t,r,a))}},t.prototype.onEditorChangeSelection=function(e,t,r){var a,n,s,i,l,o;if(this.editor){var d=this.getEditorSelection(),u=!d&&e,h=d&&!e;c.default(e,d)||(this.selection=e,null===(n=(a=this.props).onChangeSelection)||void 0===n||n.call(a,e,t,r),u?null===(i=(s=this.props).onFocus)||void 0===i||i.call(s,e,t,r):h&&(null===(o=(l=this.props).onBlur)||void 0===o||o.call(l,d,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(l.default.Component);function h(e){Promise.resolve().then(e)}e.exports=u},2929:(e,t,r)=>{var a=r(6552).Uint8Array;e.exports=a},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3204:(e,t,r)=>{var a=r(3343),n=r(2777),s=r(4052),i=r(4543),l=r(9194),o=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),d=!r&&n(e),u=!r&&!d&&i(e),h=!r&&!d&&!u&&o(e),m=r||d||u||h,p=m?a(e.length,String):[],g=p.length;for(var x in e)!t&&!c.call(e,x)||m&&("length"==x||u&&("offset"==x||"parent"==x)||h&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||l(x,g))||p.push(x);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3343:e=>{e.exports=function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}},3440:(e,t,r)=>{var a=r(6552)["__core-js_shared__"];e.exports=a},3668:(e,t,r)=>{var a=r(8902),n=r(2587),s=r(8114);e.exports=function(e,t,r,i,l,o){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=o.get(e),m=o.get(t);if(h&&m)return h==t&&m==e;var p=-1,g=!0,x=2&r?new a:void 0;for(o.set(e,t),o.set(t,e);++p<d;){var f=e[p],y=t[p];if(i)var b=c?i(y,f,p,t,e,o):i(f,y,p,e,t,o);if(void 0!==b){if(b)continue;g=!1;break}if(x){if(!n(t,function(e,t){if(!s(x,t)&&(f===e||l(f,e,r,i,o)))return x.push(t)})){g=!1;break}}else if(f!==y&&!l(f,y,r,i,o)){g=!1;break}}return o.delete(e),o.delete(t),g}},3713:(e,t,r)=>{var a=r(6140),n=r(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return n(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}},4190:(e,t,r)=>{var a=r(1340);e.exports=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,x={};function f(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=f.prototype;var v=b.prototype=new y;v.constructor=b,g(v,f.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,a){var n,s={},i=null,l=null;if(null!=t)for(n in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!N.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(1===o)s.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===s[n]&&(s[n]=o[n]);return{$$typeof:r,type:e,key:i,ref:l,props:s,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,n,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case r:case a:o=!0}}if(o)return i=i(o=e),e=""===s?"."+E(o,0):s,j(i)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),O(i,t,n,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(l=e[c],c);o+=O(l,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=O(l=l.value,t,n,d=s+E(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function A(e,t,r){if(null==e)return e;var a=[],n=0;return O(e,a,"","",function(e){return t.call(r,e,n++)}),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},L={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=n,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=M,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=g({},e.props),s=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!N.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:r,type:e.type,key:s,ref:i,props:n,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4262:(e,t,r)=>{var a=r(8895),n=r(4052);e.exports=function(e,t,r){var s=t(e);return n(e)?s:a(s,r(e))}},4391:(e,t,r)=>{"use strict";var a=r(7950);t.H=a.createRoot,a.hydrateRoot},4543:(e,t,r)=>{e=r.nmd(e);var a=r(6552),n=r(14),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,l=i&&i.exports===s?a.Buffer:void 0,o=(l?l.isBuffer:void 0)||n;e.exports=o},4545:(e,t,r)=>{var a=r(7160);e.exports=function(){this.__data__=new a,this.size=0}},4552:(e,t,r)=>{var a=r(9812),n=Object.prototype,s=n.hasOwnProperty,i=n.toString,l=a?a.toStringTag:void 0;e.exports=function(e){var t=s.call(e,l),r=e[l];try{e[l]=void 0;var a=!0}catch(o){}var n=i.call(e);return a&&(t?e[l]=r:delete e[l]),n}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4816:(e,t,r)=>{var a=r(7251),n=r(7159),s=r(438),i=r(9394),l=r(6874);function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=n,o.prototype.get=s,o.prototype.has=i,o.prototype.set=l,e.exports=o},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5193:(e,t,r)=>{var a=r(6913),n=r(2761);e.exports=function(e){return n(e)&&"[object Arguments]"==a(e)}},5204:(e,t,r)=>{var a=r(7937)(r(6552),"Map");e.exports=a},5387:(e,t,r)=>{var a=r(7937)(r(6552),"Promise");e.exports=a},5428:(e,t,r)=>{var a=r(6913),n=r(6173),s=r(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&n(e.length)&&!!i[a(e)]}},5538:(e,t,r)=>{var a=r(7160),n=r(4545),s=r(793),i=r(7760),l=r(3892),o=r(6788);function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=l,c.prototype.set=o,e.exports=c},5575:(e,t,r)=>{var a=r(7937)(Object,"create");e.exports=a},5752:(e,t,r)=>{var a=r(9395),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,s,i,l){var o=1&r,c=a(e),d=c.length;if(d!=a(t).length&&!o)return!1;for(var u=d;u--;){var h=c[u];if(!(o?h in t:n.call(t,h)))return!1}var m=l.get(e),p=l.get(t);if(m&&p)return m==t&&p==e;var g=!0;l.set(e,t),l.set(t,e);for(var x=o;++u<d;){var f=e[h=c[u]],y=t[h];if(s)var b=o?s(y,f,h,t,e,l):s(f,y,h,e,t,l);if(!(void 0===b?f===y||i(f,y,r,s,l):b)){g=!1;break}x||(x="constructor"==h)}if(g&&!x){var v=e.constructor,j=t.constructor;v==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof j&&j instanceof j||(g=!1)}return l.delete(e),l.delete(t),g}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6399:(e,t,r)=>{var a=r(5538),n=r(3668),s=r(9987),i=r(5752),l=r(6924),o=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",h="[object Array]",m="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,g,x,f){var y=o(e),b=o(t),v=y?h:l(e),j=b?h:l(t),w=(v=v==u?m:v)==m,k=(j=j==u?m:j)==m,N=v==j;if(N&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(N&&!w)return f||(f=new a),y||d(e)?n(e,t,r,g,x,f):s(e,t,v,r,g,x,f);if(!(1&r)){var _=w&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(_||S){var C=_?e.value():e,E=S?t.value():t;return f||(f=new a),x(C,E,r,g,f)}}return!!N&&(f||(f=new a),i(e,t,r,g,x,f))}},6552:(e,t,r)=>{var a=r(7105),n="object"==typeof self&&self&&self.Object===Object&&self,s=a||n||Function("return this")();e.exports=s},6571:(e,t,r)=>{var a=r(1629),n=r(6173);e.exports=function(e){return null!=e&&n(e.length)&&!a(e)}},6600:(e,t,r)=>{var a=r(7937)(r(6552),"WeakMap");e.exports=a},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,r)=>{var a=r(7160),n=r(5204),s=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof a){var i=r.__data__;if(!n||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(i)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var a=r(7105),n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,i=s&&s.exports===n&&a.process,l=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=l},6874:(e,t,r)=>{var a=r(2622);e.exports=function(e,t){var r=a(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}},6913:(e,t,r)=>{var a=r(9812),n=r(4552),s=r(6095),i=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?n(e):s(e)}},6924:(e,t,r)=>{var a=r(7685),n=r(5204),s=r(5387),i=r(2070),l=r(6600),o=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",h="[object Set]",m="[object WeakMap]",p="[object DataView]",g=c(a),x=c(n),f=c(s),y=c(i),b=c(l),v=o;(a&&v(new a(new ArrayBuffer(1)))!=p||n&&v(new n)!=d||s&&v(s.resolve())!=u||i&&v(new i)!=h||l&&v(new l)!=m)&&(v=function(e){var t=o(e),r="[object Object]"==t?e.constructor:void 0,a=r?c(r):"";if(a)switch(a){case g:return p;case x:return d;case f:return u;case y:return h;case b:return m}return t}),e.exports=v},6954:(e,t,r)=>{var a=r(1629),n=r(7857),s=r(6686),i=r(6996),l=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||n(e))&&(a(e)?h:l).test(i(e))}},6989:(e,t,r)=>{var a=r(6399),n=r(2761);e.exports=function e(t,r,s,i,l){return t===r||(null==t||null==r||!n(t)&&!n(r)?t!==t&&r!==r:a(t,r,s,i,e,l))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7105:(e,t,r)=>{var a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=a},7159:(e,t,r)=>{var a=r(2622);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var a=r(7563),n=r(9935),s=r(4190),i=r(1946),l=r(1714);function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=n,o.prototype.get=s,o.prototype.has=i,o.prototype.set=l,e.exports=o},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,n=e[a];if(!(0<s(n,t)))break e;e[a]=t,e[r]=n,r=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,n=e.length,i=n>>>1;a<i;){var l=2*(a+1)-1,o=e[l],c=l+1,d=e[c];if(0>s(o,r))c<n&&0>s(d,o)?(e[a]=d,e[c]=r,a=c):(e[a]=o,e[l]=r,a=l);else{if(!(c<n&&0>s(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,p=!1,g=!1,x=!1,f="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=a(d)}}function j(e){if(x=!1,v(e),!g)if(null!==a(c))g=!0,L(w);else{var t=a(d);null!==t&&R(j,t.startTime-e)}}function w(e,r){g=!1,x&&(x=!1,y(S),S=-1),p=!0;var s=m;try{for(v(r),h=a(c);null!==h&&(!(h.expirationTime>r)||e&&!O());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var l=i(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof l?h.callback=l:h===a(c)&&n(c),v(r)}else n(c);h=a(c)}if(null!==h)var o=!0;else{var u=a(d);null!==u&&R(j,u.startTime-r),o=!1}return o}finally{h=null,m=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,_=null,S=-1,C=5,E=-1;function O(){return!(t.unstable_now()-E<C)}function A(){if(null!==_){var e=t.unstable_now();E=e;var r=!0;try{r=_(!0,e)}finally{r?k():(N=!1,_=null)}}else N=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=A,k=function(){P.postMessage(null)}}else k=function(){f(A,0)};function L(e){_=e,N||(N=!0,k())}function R(e,r){S=f(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,n,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,r(d,e),null===a(c)&&e===a(d)&&(x?(y(S),S=-1):x=!0,R(j,s-i))):(e.sortIndex=l,r(c,e),g||p||(g=!0,L(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},7251:(e,t,r)=>{var a=r(8724),n=r(7160),s=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(s||n),string:new a}}},7529:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length,n=0,s=[];++r<a;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var a=r(5575);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},7680:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),n=r(18),s=r(19),i=r(45),l=r(46),o=r(47),c=r(48),d=r(49),u=r(12),h=r(32),m=r(33),p=r(31),g=r(1),x={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:n.default,Leaf:s.default,Embed:c.default,Scroll:i.default,Block:o.default,Inline:l.default,Text:d.default,Attributor:{Attribute:u.default,Class:h.default,Style:m.default,Store:p.default}};t.default=x},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return a(t,e),t}(Error);t.ParchmentError=n;var s,i={},l={},o={},c={};function d(e,t){var r;if(void 0===t&&(t=s.ANY),"string"===typeof e)r=c[e]||i[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"===typeof e)e&s.LEVEL&s.BLOCK?r=c.block:e&s.LEVEL&s.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var a=(e.getAttribute("class")||"").split(/\s+/);for(var n in a)if(r=l[a[n]])break;r=r||o[e.tagName]}return null==r?null:t&s.LEVEL&r.scope&&t&s.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(s=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new n("Unable to create "+e+" blot");var a=r,s=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(t);return new a(s,t)},t.find=function e(r,a){return void 0===a&&(a=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:a?e(r.parentNode,a):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map(function(t){return e(t)});var a=t[0];if("string"!==typeof a.blotName&&"string"!==typeof a.attrName)throw new n("Invalid definition");if("abstract"===a.blotName)throw new n("Cannot register abstract class");return c[a.blotName||a.attrName]=a,"string"===typeof a.keyName?i[a.keyName]=a:(null!=a.className&&(l[a.className]=a),null!=a.tagName&&(Array.isArray(a.tagName)?a.tagName=a.tagName.map(function(e){return e.toUpperCase()}):a.tagName=a.tagName.toUpperCase(),(Array.isArray(a.tagName)?a.tagName:[a.tagName]).forEach(function(e){null!=o[e]&&null!=a.className||(o[e]=a)}))),a}},function(e,t,r){var a=r(51),n=r(11),s=r(3),i=r(20),l=String.fromCharCode(0),o=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};o.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},o.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},o.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},o.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=s(!0,{},e),"object"===typeof r){if("number"===typeof e.delete&&"number"===typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"===typeof r.delete&&null!=e.insert&&(t-=1,"object"!==typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(n(e.attributes,r.attributes)){if("string"===typeof e.insert&&"string"===typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},o.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},o.prototype.filter=function(e){return this.ops.filter(e)},o.prototype.forEach=function(e){this.ops.forEach(e)},o.prototype.map=function(e){return this.ops.map(e)},o.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(a){(e(a)?t:r).push(a)}),[t,r]},o.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},o.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+i.length(t):t.delete?e-t.delete:e},0)},o.prototype.length=function(){return this.reduce(function(e,t){return e+i.length(t)},0)},o.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var r=[],a=i.iterator(this.ops),n=0;n<t&&a.hasNext();){var s;n<e?s=a.next(e-n):(s=a.next(t-n),r.push(s)),n+=i.length(s)}return new o(r)},o.prototype.compose=function(e){var t=i.iterator(this.ops),r=i.iterator(e.ops),a=[],s=r.peek();if(null!=s&&"number"===typeof s.retain&&null==s.attributes){for(var l=s.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),a.push(t.next());s.retain-l>0&&r.next(s.retain-l)}for(var c=new o(a);t.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===t.peekType())c.push(t.next());else{var d=Math.min(t.peekLength(),r.peekLength()),u=t.next(d),h=r.next(d);if("number"===typeof h.retain){var m={};"number"===typeof u.retain?m.retain=d:m.insert=u.insert;var p=i.attributes.compose(u.attributes,h.attributes,"number"===typeof u.retain);if(p&&(m.attributes=p),c.push(m),!r.hasNext()&&n(c.ops[c.ops.length-1],m)){var g=new o(t.rest());return c.concat(g).chop()}}else"number"===typeof h.delete&&"number"===typeof u.retain&&c.push(h)}return c.chop()},o.prototype.concat=function(e){var t=new o(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},o.prototype.diff=function(e,t){if(this.ops===e.ops)return new o;var r=[this,e].map(function(t){return t.map(function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),s=new o,c=a(r[0],r[1],t),d=i.iterator(this.ops),u=i.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case a.INSERT:r=Math.min(u.peekLength(),t),s.push(u.next(r));break;case a.DELETE:r=Math.min(t,d.peekLength()),d.next(r),s.delete(r);break;case a.EQUAL:r=Math.min(d.peekLength(),u.peekLength(),t);var l=d.next(r),o=u.next(r);n(l.insert,o.insert)?s.retain(r,i.attributes.diff(l.attributes,o.attributes)):s.push(o).delete(r)}t-=r}}),s.chop()},o.prototype.eachLine=function(e,t){t=t||"\n";for(var r=i.iterator(this.ops),a=new o,n=0;r.hasNext();){if("insert"!==r.peekType())return;var s=r.peek(),l=i.length(s)-r.peekLength(),c="string"===typeof s.insert?s.insert.indexOf(t,l)-l:-1;if(c<0)a.push(r.next());else if(c>0)a.push(r.next(c));else{if(!1===e(a,r.next(1).attributes||{},n))return;n+=1,a=new o}}a.length()>0&&e(a,{},n)},o.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var r=i.iterator(this.ops),a=i.iterator(e.ops),n=new o;r.hasNext()||a.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===a.peekType())if("insert"===a.peekType())n.push(a.next());else{var s=Math.min(r.peekLength(),a.peekLength()),l=r.next(s),c=a.next(s);if(l.delete)continue;c.delete?n.push(c):n.retain(s,i.attributes.transform(l.attributes,c.attributes,t))}else n.retain(i.length(r.next()));return n.chop()},o.prototype.transformPosition=function(e,t){t=!!t;for(var r=i.iterator(this.ops),a=0;r.hasNext()&&a<=e;){var n=r.peekLength(),s=r.peekType();r.next(),"delete"!==s?("insert"===s&&(a<e||!t)&&(e+=n),a+=n):e-=Math.min(n,e-a)}return e},e.exports=o},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},l=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,n=r.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!s)return!1;for(t in e);return"undefined"===typeof t||r.call(e,t)},o=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(s)return s(e,t).value}return e[t]};e.exports=function e(){var t,r,a,n,s,d,u=arguments[0],h=1,m=arguments.length,p=!1;for("boolean"===typeof u&&(p=u,u=arguments[1]||{},h=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});h<m;++h)if(null!=(t=arguments[h]))for(r in t)a=c(u,r),u!==(n=c(t,r))&&(p&&n&&(l(n)||(s=i(n)))?(s?(s=!1,d=a&&i(a)?a:[]):d=a&&l(a)?a:{},o(u,{name:r,newValue:e(p,d,n)})):"undefined"!==typeof n&&o(u,{name:r,newValue:n}));return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=u(r(3)),i=u(r(2)),l=u(r(0)),o=u(r(16)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),a(t,[{key:"attach",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new i.default).insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=l.default.query(e,l.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,a){this.format(r,a)}},{key:"insertAt",value:function(e,r,a){if("string"===typeof r&&r.endsWith("\n")){var s=l.default.create(x.blotName);this.parent.insertBefore(s,0===e?this:this.next),s.insertAt(0,r.slice(0,-1))}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a)}}]),t}(l.default.Embed);g.scope=l.default.Scope.BLOCK_BLOT;var x=function(e){function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return p(t,e),a(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),f(t))},new i.default).insert("\n",f(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,a,s){r<=0||(l.default.query(a,l.default.Scope.BLOCK)?e+r===this.length()&&this.format(a,s):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),a,s),this.cache={})}},{key:"insertAt",value:function(e,r,a){if(null!=a)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a);if(0!==r.length){var s=r.split("\n"),i=s.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var l=this;s.reduce(function(e,t){return(l=l.split(e,!0)).insertAt(0,t),t.length},e+i.length)}}},{key:"insertBefore",value:function(e,r){var a=this.children.head;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),a instanceof o.default&&a.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var a=this.clone();return 0===e?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}var s=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},s}}]),t}(l.default.Block);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,s.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:f(e.parent,t))}x.blotName="block",x.tagName="P",x.defaultChild="break",x.allowedChildren=[c.default,l.default.Embed,d.default],t.bubbleFormats=f,t.BlockEmbed=g,t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(50);var i=x(r(2)),l=x(r(14)),o=x(r(8)),c=x(r(9)),d=x(r(0)),u=r(15),h=x(u),m=x(r(3)),p=x(r(10)),g=x(r(34));function x(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,p.default)("quill"),b=function(){function e(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=v(t,a),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new o.default,this.scroll=d.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(o.default.events.EDITOR_CHANGE,function(e){e===o.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())}),this.emitter.on(o.default.events.SCROLL_UPDATE,function(e,t){var a=r.selection.lastRange,n=a&&0===a.length?a.index:void 0;j.call(r,function(){return r.editor.update(null,t,n)},e)});var s=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+n+"<p><br></p></div>");this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),p.default.level(e)}},{key:"find",value:function(e){return e.__quill||d.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var n=e.attrName||e.blotName;"string"===typeof n?this.register("formats/"+n,e,t):Object.keys(e).forEach(function(a){r.register(a,e[a],t)})}else null==this.imports[e]||a||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?d.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),s(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var a=this,s=w(e,t,r),i=n(s,4);return e=i[0],t=i[1],r=i[3],j.call(this,function(){return a.editor.deleteText(e,t)},r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.default.sources.API;return j.call(this,function(){var a=r.getSelection(!0),n=new i.default;if(null==a)return n;if(d.default.query(e,d.default.Scope.BLOCK))n=r.editor.formatLine(a.index,a.length,f({},e,t));else{if(0===a.length)return r.selection.format(e,t),n;n=r.editor.formatText(a.index,a.length,f({},e,t))}return r.setSelection(a,o.default.sources.SILENT),n},a)}},{key:"formatLine",value:function(e,t,r,a,s){var i,l=this,o=w(e,t,r,a,s),c=n(o,4);return e=c[0],t=c[1],i=c[2],s=c[3],j.call(this,function(){return l.editor.formatLine(e,t,i)},s,e,0)}},{key:"formatText",value:function(e,t,r,a,s){var i,l=this,o=w(e,t,r,a,s),c=n(o,4);return e=c[0],t=c[1],i=c[2],s=c[3],j.call(this,function(){return l.editor.formatText(e,t,i)},s,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var a=this.container.getBoundingClientRect();return{bottom:r.bottom-a.top,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),a=n(r,2);return e=a[0],t=a[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),a=n(r,2);return e=a[0],t=a[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,a){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return j.call(this,function(){return n.editor.insertEmbed(t,r,a)},s,t)}},{key:"insertText",value:function(e,t,r,a,s){var i,l=this,o=w(e,0,r,a,s),c=n(o,4);return e=c[0],i=c[2],s=c[3],j.call(this,function(){return l.editor.insertText(e,t,i)},s,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var a=this,s=w(e,t,r),i=n(s,4);return e=i[0],t=i[1],r=i[3],j.call(this,function(){return a.editor.removeFormat(e,t)},r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.sources.API;return j.call(this,function(){e=new i.default(e);var r=t.getLength(),a=t.editor.deleteText(0,r),n=t.editor.applyDelta(e),s=n.ops[n.ops.length-1];return null!=s&&"string"===typeof s.insert&&"\n"===s.insert[s.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),n.delete(1)),a.compose(n)},r)}},{key:"setSelection",value:function(t,r,a){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var s=w(t,r,a),i=n(s,4);t=i[0],r=i[1],a=i[3],this.selection.setRange(new u.Range(t,r),a),a!==o.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.sources.API,r=(new i.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.sources.API;return j.call(this,function(){return e=new i.default(e),t.editor.applyDelta(e,r)},r,!0)}}]),e}();function v(e,t){if((t=(0,m.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var r=(0,m.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var a=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var r=b.import("modules/"+t);return null==r?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,m.default)(!0,{},b.DEFAULTS,{modules:a},r,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e},{}),t}function j(e,t,r,a){if(this.options.strict&&!this.isEnabled()&&t===o.default.sources.USER)return new i.default;var n=null==r?null:this.getSelection(),s=this.editor.delta,l=e();if(null!=n&&(!0===r&&(r=n.index),null==a?n=k(n,l,t):0!==a&&(n=k(n,r,a,t)),this.setSelection(n,o.default.sources.SILENT)),l.length()>0){var c,d,u=[o.default.events.TEXT_CHANGE,l,s,t];(c=this.emitter).emit.apply(c,[o.default.events.EDITOR_CHANGE].concat(u)),t!==o.default.sources.SILENT&&(d=this.emitter).emit.apply(d,u)}return l}function w(e,t,r,n,s){var i={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(s=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(s=n,n=r,r=t,t=0),"object"===("undefined"===typeof r?"undefined":a(r))?(i=r,s=n):"string"===typeof r&&(null!=n?i[r]=n:s=r),[e,t,i,s=s||o.default.sources.API]}function k(e,t,r,a){if(null==e)return null;var s=void 0,l=void 0;if(t instanceof i.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,a!==o.default.sources.USER)}),d=n(c,2);s=d[0],l=d[1]}else{var h=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&a===o.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)}),m=n(h,2);s=m[0],l=m[1]}return new u.Range(s,l-s)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=o.default.events,b.sources=o.default.sources,b.version="1.3.7",b.imports={delta:i.default,parchment:d.default,"core/module":c.default,"core/theme":g.default},t.expandConfig=v,t.overload=w,t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=l(r(7)),i=l(r(0));function l(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"formatAt",value:function(e,r,a,s){if(t.compare(this.statics.blotName,a)<0&&i.default.query(a,i.default.Scope.BLOT)){var l=this.isolate(e,r);s&&l.wrap(a,s)}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,a,s)}},{key:"optimize",value:function(e){if(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var a=t.order.indexOf(e),n=t.order.indexOf(r);return a>=0||n>=0?a-n:e===r?0:e<r?-1:1}}]),t}(i.default.Inline);o.allowedChildren=[o,i.default.Embed,s.default],o.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default.Text);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=i(r(54));function i(e){return e&&e.__esModule?e:{default:e}}var l=(0,i(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)})})});var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",l.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"emit",value:function(){l.log.apply(l,arguments),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];(this.listeners[e.type]||[]).forEach(function(t){var a=t.node,n=t.handler;(e.target===a||a.contains(e.target))&&n.apply(void 0,[e].concat(r))})}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(s.default);o.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},o.sources={API:"api",SILENT:"silent",USER:"user"},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};a.DEFAULTS={},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=["error","warn","log","info"],n="warn";function s(e){if(a.indexOf(e)<=a.indexOf(n)){for(var t,r=arguments.length,s=Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];(t=console)[e].apply(t,s)}}function i(e){return a.reduce(function(t,r){return t[r]=s.bind(console,r,e),t},{})}s.level=i.level=function(e){n=e},t.default=i},function(e,t,r){var a=Array.prototype.slice,n=r(52),s=r(53),i=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var c,d;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=a.call(e),t=a.call(t),i(e,t,r));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var u=n(e),h=n(t)}catch(m){return!1}if(u.length!=h.length)return!1;for(u.sort(),h.sort(),c=u.length-1;c>=0;c--)if(u[c]!=h[c])return!1;for(c=u.length-1;c>=0;c--)if(d=u[c],!i(e[d],t[d],r))return!1;return typeof e===typeof t}(e,t,r))};function l(e){return null===e||void 0===e}function o(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var n=a.Scope.TYPE&a.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&a.Scope.LEVEL|n:this.scope=a.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=a.query(e,a.Scope.BLOT&(this.scope|a.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=u(r(2)),l=u(r(0)),o=u(r(4)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(c.default);g.blotName="code",g.tagName="CODE";var x=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),n(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,r){return t.insert(r).insert("\n",e.formats())},new i.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var n=this.descendant(d.default,this.length()-1),i=a(n,1)[0];null!=i&&i.deleteAt(i.length()-1,1),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,a,n){if(0!==r&&null!=l.default.query(a,l.default.Scope.BLOCK)&&(a!==this.statics.blotName||n!==this.statics.formats(this.domNode))){var s=this.newlineIndex(e);if(!(s<0||s>=e+r)){var i=this.newlineIndex(e,!0)+1,o=s-i+1,c=this.isolate(i,o),d=c.next;c.format(a,n),d instanceof t&&d.formatAt(0,e-i+r-o,a,n)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var n=this.descendant(d.default,e),s=a(n,2),i=s[0],l=s[1];i.insertAt(l,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(l.default.create("text","\n")),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=l.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof l.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(o.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",t.Code=g,t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=f(r(2)),l=f(r(20)),o=f(r(0)),c=f(r(13)),d=f(r(24)),u=r(4),h=f(u),m=f(r(16)),p=f(r(21)),g=f(r(11)),x=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return s(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var s=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var r=(0,p.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,p.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var a=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(a,t.attributes)}return e.push(t)},new i.default)}(e)).reduce(function(e,i){var c=i.retain||i.delete||i.insert.length||1,d=i.attributes||{};if(null!=i.insert){if("string"===typeof i.insert){var m=i.insert;m.endsWith("\n")&&r&&(r=!1,m=m.slice(0,-1)),e>=s&&!m.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,m);var p=t.scroll.line(e),g=n(p,2),f=g[0],y=g[1],b=(0,x.default)({},(0,u.bubbleFormats)(f));if(f instanceof h.default){var v=f.descendant(o.default.Leaf,y),j=n(v,1)[0];b=(0,x.default)(b,(0,u.bubbleFormats)(j))}d=l.default.attributes.diff(b,d)||{}}else if("object"===a(i.insert)){var w=Object.keys(i.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,i.insert[w])}s+=c}return Object.keys(d).forEach(function(r){t.scroll.formatAt(e,c,r,d[r])}),e+c},0),e.reduce(function(e,r){return"number"===typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new i.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(a).forEach(function(n){if(null==r.scroll.whitelist||r.scroll.whitelist[n]){var s=r.scroll.lines(e,Math.max(t,1)),i=t;s.forEach(function(t){var s=t.length();if(t instanceof c.default){var l=e-t.offset(r.scroll),o=t.newlineIndex(l+i)-l+1;t.formatAt(l,o,n,a[n])}else t.format(n,a[n]);i-=s})}}),this.scroll.optimize(),this.update((new i.default).retain(e).retain(t,(0,p.default)(a)))}},{key:"formatText",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(a).forEach(function(n){r.scroll.formatAt(e,t,n,a[n])}),this.update((new i.default).retain(e).retain(t,(0,p.default)(a)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new i.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],a=[];0===t?this.scroll.path(e).forEach(function(e){var t=n(e,1)[0];t instanceof h.default?r.push(t):t instanceof o.default.Leaf&&a.push(t)}):(r=this.scroll.lines(e,t),a=this.scroll.descendants(o.default.Leaf,e,t));var s=[r,a].map(function(e){if(0===e.length)return{};for(var t=(0,u.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=v((0,u.bubbleFormats)(r),t)}return t});return x.default.apply(x.default,s)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new i.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(a).forEach(function(n){r.scroll.formatAt(e,t.length,n,a[n])}),this.update((new i.default).retain(e).insert(t,(0,p.default)(a)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===h.default.blotName&&!(e.children.length>1)&&e.children.head instanceof m.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),a=this.scroll.line(e+t),s=n(a,2),l=s[0],o=s[1],d=0,u=new i.default;null!=l&&(d=l instanceof c.default?l.newlineIndex(o)-o+1:l.length()-o,u=l.delta().slice(o,o+d-1).insert("\n"));var h=this.getContents(e,t+d).diff((new i.default).insert(r).concat(u)),m=(new i.default).retain(e).concat(h);return this.applyDelta(m)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&o.default.find(t[0].target)){var n=o.default.find(t[0].target),s=(0,u.bubbleFormats)(n),l=n.offset(this.scroll),c=t[0].oldValue.replace(d.default.CONTENTS,""),h=(new i.default).insert(c),m=(new i.default).insert(n.value());e=(new i.default).retain(l).concat(h.diff(m,r)).reduce(function(e,t){return t.insert?e.insert(t.insert,s):e.push(t)},new i.default),this.delta=a.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(a.compose(e),this.delta)||(e=a.diff(this.delta,r));return e}}]),e}();function v(e,t){return Object.keys(t).reduce(function(r,a){return null==e[a]||(t[a]===e[a]?r[a]=t[a]:Array.isArray(t[a])?t[a].indexOf(e[a])<0&&(r[a]=t[a].concat([e[a]])):r[a]=[t[a],e[a]]),r},{})}t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=c(r(0)),i=c(r(21)),l=c(r(11)),o=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=(0,c(r(10)).default)("quill:selection"),m=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.index=t,this.length=r},p=function(){function e(t,r){var a=this;u(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new m(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){a.mouseDown||setTimeout(a.update.bind(a,o.default.sources.USER),1)}),this.emitter.on(o.default.events.EDITOR_CHANGE,function(e,t){e===o.default.events.TEXT_CHANGE&&t.length()>0&&a.update(o.default.sources.SILENT)}),this.emitter.on(o.default.events.SCROLL_BEFORE_UPDATE,function(){if(a.hasFocus()){var e=a.getNativeRange();null!=e&&e.start.node!==a.cursor.textNode&&a.emitter.once(o.default.events.SCROLL_UPDATE,function(){try{a.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}})}}),this.emitter.on(o.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var r=t.range,n=r.startNode,s=r.startOffset,i=r.endNode,l=r.endOffset;a.setNativeRange(n,s,i,l)}}),this.update(o.default.sources.SILENT)}return n(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(o.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!s.default.query(e,s.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var a=s.default.find(r.start.node,!1);if(null==a)return;if(a instanceof s.default.Leaf){var n=a.split(r.start.offset);a.parent.insertBefore(this.cursor,n)}else a.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var n=void 0,s=this.scroll.leaf(e),i=a(s,2),l=i[0],o=i[1];if(null==l)return null;var c=l.position(o,!0),d=a(c,2);n=d[0],o=d[1];var u=document.createRange();if(t>0){u.setStart(n,o);var h=this.scroll.leaf(e+t),m=a(h,2);if(l=m[0],o=m[1],null==l)return null;var p=l.position(o,!0),g=a(p,2);return n=g[0],o=g[1],u.setEnd(n,o),u.getBoundingClientRect()}var x="left",f=void 0;return n instanceof Text?(o<n.data.length?(u.setStart(n,o),u.setEnd(n,o+1)):(u.setStart(n,o-1),u.setEnd(n,o),x="right"),f=u.getBoundingClientRect()):(f=l.domNode.getBoundingClientRect(),o>0&&(x="right")),{bottom:f.top+f.height,height:f.height,left:f[x],right:f[x],top:f.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return h.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var n=r.map(function(e){var r=a(e,2),n=r[0],i=r[1],l=s.default.find(n,!0),o=l.offset(t.scroll);return 0===i?o:l instanceof s.default.Container?o+l.length():o+l.index(n,i)}),i=Math.min(Math.max.apply(Math,d(n)),this.scroll.length()-1),l=Math.min.apply(Math,[i].concat(d(n)));return new m(l,i-l)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r}),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],n=[],s=this.scroll.length();return r.forEach(function(e,r){e=Math.min(s-1,e);var i,l=t.scroll.leaf(e),o=a(l,2),c=o[0],d=o[1],u=c.position(d,0!==r),h=a(u,2);i=h[0],d=h[1],n.push(i,d)}),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var n=this.scroll.length()-1,s=this.scroll.line(Math.min(t.index,n)),i=a(s,1)[0],l=i;if(t.length>0){var o=this.scroll.line(Math.min(t.index+t.length,n));l=a(o,1)[0]}if(null!=i&&null!=l){var c=e.getBoundingClientRect();r.top<c.top?e.scrollTop-=c.top-r.top:r.bottom>c.bottom&&(e.scrollTop+=r.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h.info("setNativeRange",e,t,r,a),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var s=document.getSelection();if(null!=s)if(null!=e){this.hasFocus()||this.root.focus();var i=(this.getNativeRange()||{}).native;if(null==i||n||e!==i.startContainer||t!==i.startOffset||r!==i.endContainer||a!==i.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(a=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var l=document.createRange();l.setStart(e,t),l.setEnd(r,a),s.removeAllRanges(),s.addRange(l)}}else s.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.default.sources.API;if("string"===typeof t&&(r=t,t=!1),h.info("setRange",e),null!=e){var a=this.rangeToNative(e);this.setNativeRange.apply(this,d(a).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.sources.USER,t=this.lastRange,r=this.getRange(),n=a(r,2),s=n[0],c=n[1];if(this.lastRange=s,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,l.default)(t,this.lastRange)){var d;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var u,h=[o.default.events.SELECTION_CHANGE,(0,i.default)(this.lastRange),(0,i.default)(t),e];(d=this.emitter).emit.apply(d,[o.default.events.EDITOR_CHANGE].concat(h)),e!==o.default.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}}}]),e}();function g(e,t){try{t.parentNode}catch(r){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=m,t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"insertInto",value:function(e,r){0===e.children.length?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(44),s=r(30),i=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return a(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new n.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var r=o(t);e.insertBefore(r,e.children.head||void 0)}catch(a){if(a instanceof i.ParchmentError)return;throw a}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,r){e.deleteAt(t,r)})},t.prototype.descendant=function(e,r){var a=this.children.find(r),n=a[0],s=a[1];return null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e?[n,s]:n instanceof t?n.descendant(e,s):[null,-1]},t.prototype.descendants=function(e,r,a){void 0===r&&(r=0),void 0===a&&(a=Number.MAX_VALUE);var n=[],s=a;return this.children.forEachAt(r,a,function(r,a,i){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&n.push(r),r instanceof t&&(n=n.concat(r.descendants(e,a,s))),s-=i}),n},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,a){this.children.forEachAt(e,t,function(e,t,n){e.formatAt(t,n,r,a)})},t.prototype.insertAt=function(e,t,r){var a=this.children.find(e),n=a[0],s=a[1];if(n)n.insertAt(s,t,r);else{var l=null==r?i.create("text",t):i.create(t,r);this.appendChild(l)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new i.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(r){e.insertBefore(r,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=i.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var a=this.children.find(e,r),n=a[0],s=a[1],i=[[this,e]];return n instanceof t?i.concat(n.path(s,r)):(null!=n&&i.push([n,s]),i)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),function(e,a,n){e=e.split(a,t),r.appendChild(e)}),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,a=[],n=[];e.forEach(function(e){e.target===r.domNode&&"childList"===e.type&&(a.push.apply(a,e.addedNodes),n.push.apply(n,e.removedNodes))}),n.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=i.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}}),a.filter(function(e){return e.parentNode==r.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=i.find(e.nextSibling));var a=o(e);a.next==t&&null!=a.next||(null!=a.parent&&a.parent.removeChild(r),r.insertBefore(a,t||void 0))})},t}(s.default);function o(e){var t=i.find(e);if(null==t)try{t=i.create(e)}catch(r){t=i.create(i.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),s=r(31),i=r(17),l=r(1),o=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new s.default(r.domNode),r}return a(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=l.query(e);r instanceof n.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var a=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(a),a},t.prototype.update=function(t,r){var a=this;e.prototype.update.call(this,t,r),t.some(function(e){return e.target===a.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(r,a){var n=e.prototype.wrap.call(this,r,a);return n instanceof t&&n.statics.scope===this.statics.scope&&this.attributes.move(n),n},t}(i.default);t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=s.Scope.INLINE_BLOT,t}(n.default);t.default=i},function(e,t,r){var a=r(11),n=r(3),s={attributes:{compose:function(e,t,r){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var a=n(!0,{},t);for(var s in r||(a=Object.keys(a).reduce(function(e,t){return null!=a[t]&&(e[t]=a[t]),e},{})),e)void 0!==e[s]&&void 0===t[s]&&(a[s]=e[s]);return Object.keys(a).length>0?a:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(r,n){return a(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r},{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!==typeof e)return t;if("object"===typeof t){if(!r)return t;var a=Object.keys(t).reduce(function(r,a){return void 0===e[a]&&(r[a]=t[a]),r},{});return Object.keys(a).length>0?a:void 0}}},iterator:function(e){return new i(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function i(e){this.ops=e,this.index=0,this.offset=0}i.prototype.hasNext=function(){return this.peekLength()<1/0},i.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,a=s.length(t);if(e>=a-r?(e=a-r,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var n={};return t.attributes&&(n.attributes=t.attributes),"number"===typeof t.retain?n.retain=e:"string"===typeof t.insert?n.insert=t.insert.substr(r,e):n.insert=t.insert,n}return{retain:1/0}},i.prototype.peek=function(){return this.ops[this.index]},i.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},i.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},i.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),a=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(a)}return[]},e.exports=s},function(e,t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,a;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{a=Promise}catch(l){a=function(){}}function n(s,l,o,c,d){"object"===typeof l&&(o=l.depth,c=l.prototype,d=l.includeNonEnumerable,l=l.circular);var u=[],h=[],m="undefined"!=typeof Buffer;return"undefined"==typeof l&&(l=!0),"undefined"==typeof o&&(o=1/0),function s(o,p){if(null===o)return null;if(0===p)return o;var g,x;if("object"!=typeof o)return o;if(e(o,t))g=new t;else if(e(o,r))g=new r;else if(e(o,a))g=new a(function(e,t){o.then(function(t){e(s(t,p-1))},function(e){t(s(e,p-1))})});else if(n.__isArray(o))g=[];else if(n.__isRegExp(o))g=new RegExp(o.source,i(o)),o.lastIndex&&(g.lastIndex=o.lastIndex);else if(n.__isDate(o))g=new Date(o.getTime());else{if(m&&Buffer.isBuffer(o))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(o.length):new Buffer(o.length),o.copy(g),g;e(o,Error)?g=Object.create(o):"undefined"==typeof c?(x=Object.getPrototypeOf(o),g=Object.create(x)):(g=Object.create(c),x=c)}if(l){var f=u.indexOf(o);if(-1!=f)return h[f];u.push(o),h.push(g)}for(var y in e(o,t)&&o.forEach(function(e,t){var r=s(t,p-1),a=s(e,p-1);g.set(r,a)}),e(o,r)&&o.forEach(function(e){var t=s(e,p-1);g.add(t)}),o){var b;x&&(b=Object.getOwnPropertyDescriptor(x,y)),b&&null==b.set||(g[y]=s(o[y],p-1))}if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(o);for(y=0;y<v.length;y++){var j=v[y];(!(k=Object.getOwnPropertyDescriptor(o,j))||k.enumerable||d)&&(g[j]=s(o[j],p-1),k.enumerable||Object.defineProperty(g,j,{enumerable:!1}))}}if(d){var w=Object.getOwnPropertyNames(o);for(y=0;y<w.length;y++){var k,N=w[y];(k=Object.getOwnPropertyDescriptor(o,N))&&k.enumerable||(g[N]=s(o[N],p-1),Object.defineProperty(g,N,{enumerable:!1}))}}return g}(s,o)}function s(e){return Object.prototype.toString.call(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return n.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},n.__objToStr=s,n.__isDate=function(e){return"object"===typeof e&&"[object Date]"===s(e)},n.__isArray=function(e){return"object"===typeof e&&"[object Array]"===s(e)},n.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===s(e)},n.__getRegExpFlags=i,n}();"object"===typeof e&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=m(r(0)),l=m(r(8)),o=r(4),c=m(o),d=m(r(16)),u=m(r(13)),h=m(r(25));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){return e instanceof c.default||e instanceof o.BlockEmbed}var g=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.emitter=r.emitter,Array.isArray(r.whitelist)&&(a.whitelist=r.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),a.domNode.addEventListener("DOMNodeInserted",function(){}),a.optimize(),a.enable(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var n=this.line(e),i=a(n,2),l=i[0],c=i[1],h=this.line(e+r),m=a(h,1)[0];if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=m&&l!==m&&c>0){if(l instanceof o.BlockEmbed||m instanceof o.BlockEmbed)return void this.optimize();if(l instanceof u.default){var p=l.newlineIndex(l.length(),!0);if(p>-1&&(l=l.split(p+1))===m)return void this.optimize()}else if(m instanceof u.default){var g=m.newlineIndex(0);g>-1&&m.split(g+1)}var x=m.children.head instanceof d.default?null:m.children.head;l.moveChildren(m,x),l.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,a,n){(null==this.whitelist||this.whitelist[a])&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,a,n),this.optimize())}},{key:"insertAt",value:function(e,r,a){if(null==a||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==a||null==i.default.query(r,i.default.Scope.BLOCK)){var n=i.default.create(this.statics.defaultChild);this.appendChild(n),null==a&&r.endsWith("\n")&&(r=r.slice(0,-1)),n.insertAt(0,r,a)}else{var l=i.default.create(r,a);this.appendChild(l)}else s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===i.default.Scope.INLINE_BLOT){var a=i.default.create(this.statics.defaultChild);a.appendChild(e),e=a}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(p,e)}},{key:"lines",value:function(){return function e(t,r,a){var n=[],s=a;return t.children.forEachAt(r,a,function(t,r,a){p(t)?n.push(t):t instanceof i.default.Container&&(n=n.concat(e(t,r,s))),s-=a}),n}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=l.default.sources.USER;"string"===typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,r,e),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,r,e)}}}]),t}(i.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[c.default,o.BlockEmbed,h.default],t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=g(r(21)),l=g(r(11)),o=g(r(3)),c=g(r(2)),d=g(r(20)),u=g(r(0)),h=g(r(5)),m=g(r(10)),p=g(r(9));function g(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(0,m.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.bindings={},Object.keys(a.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&a.options.bindings[t]&&a.addBinding(a.options.bindings[t])}),a.addBinding({key:t.keys.ENTER,shiftKey:null},N),a.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},j),a.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),a.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),a.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},k),a.addBinding({key:t.keys.DELETE},{collapsed:!1},k),a.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),a.listen(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"match",value:function(e,t){return t=C(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(r){return!!t[r]!==e[r]&&null!==t[r]})&&t.key===(e.which||e.keyCode)}}]),s(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=C(e);if(null==a||null==a.key)return f.warn("Attempted to add invalid keyboard binding",a);"function"===typeof t&&(t={handler:t}),"function"===typeof r&&(r={handler:r}),a=(0,o.default)(a,t,r),this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(r){if(!r.defaultPrevented){var s=r.which||r.keyCode,i=(e.bindings[s]||[]).filter(function(e){return t.match(r,e)});if(0!==i.length){var o=e.quill.getSelection();if(null!=o&&e.quill.hasFocus()){var c=e.quill.getLine(o.index),d=n(c,2),h=d[0],m=d[1],p=e.quill.getLeaf(o.index),g=n(p,2),x=g[0],f=g[1],y=0===o.length?[x,f]:e.quill.getLeaf(o.index+o.length),b=n(y,2),v=b[0],j=b[1],w=x instanceof u.default.Text?x.value().slice(0,f):"",k=v instanceof u.default.Text?v.value().slice(j):"",N={collapsed:0===o.length,empty:0===o.length&&h.length()<=1,format:e.quill.getFormat(o),offset:m,prefix:w,suffix:k};i.some(function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==N.format[e]}))return!1}else if("object"===a(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,l.default)(t.format[e],N.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix))&&!(null!=t.suffix&&!t.suffix.test(N.suffix))&&!0!==t.handler.call(e,o,N)})&&r.preventDefault()}}}})}}]),t}(p.default);function v(e,t){var r,a=e===b.keys.LEFT?"prefix":"suffix";return x(r={key:e,shiftKey:t,altKey:null},a,/^$/),x(r,"handler",function(r){var a=r.index;e===b.keys.RIGHT&&(a+=r.length+1);var s=this.quill.getLeaf(a);return!(n(s,1)[0]instanceof u.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,h.default.sources.USER):this.quill.setSelection(r.index-1,h.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,h.default.sources.USER):this.quill.setSelection(r.index+r.length+1,h.default.sources.USER),!1)}),r}function j(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),a=n(r,1)[0],s={};if(0===t.offset){var i=this.quill.getLine(e.index-1),l=n(i,1)[0];if(null!=l&&l.length()>1){var o=a.formats(),c=this.quill.getFormat(e.index-1,1);s=d.default.attributes.diff(o,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,h.default.sources.USER),Object.keys(s).length>0&&this.quill.formatLine(e.index-u,u,s,h.default.sources.USER),this.quill.focus()}}function w(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var a={},s=0,i=this.quill.getLine(e.index),l=n(i,1)[0];if(t.offset>=l.length()-1){var o=this.quill.getLine(e.index+1),c=n(o,1)[0];if(c){var u=l.formats(),m=this.quill.getFormat(e.index,1);a=d.default.attributes.diff(u,m)||{},s=c.length()}}this.quill.deleteText(e.index,r,h.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index+s-1,r,a,h.default.sources.USER)}}function k(e){var t=this.quill.getLines(e),r={};if(t.length>1){var a=t[0].formats(),n=t[t.length-1].formats();r=d.default.attributes.diff(n,a)||{}}this.quill.deleteText(e,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,h.default.sources.USER),this.quill.setSelection(e.index,h.default.sources.SILENT),this.quill.focus()}function N(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var a=Object.keys(t.format).reduce(function(e,r){return u.default.query(r,u.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e},{});this.quill.insertText(e.index,"\n",a,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==a[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],h.default.sources.USER))})}function _(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=u.default.query("code-block"),a=t.index,s=t.length,i=this.quill.scroll.descendant(r,a),l=n(i,2),o=l[0],c=l[1];if(null!=o){var d=this.quill.getIndex(o),m=o.newlineIndex(c,!0)+1,p=o.newlineIndex(d+c+s),g=o.domNode.textContent.slice(m,p).split("\n");c=0,g.forEach(function(t,n){e?(o.insertAt(m+c,r.TAB),c+=r.TAB.length,0===n?a+=r.TAB.length:s+=r.TAB.length):t.startsWith(r.TAB)&&(o.deleteAt(m+c,r.TAB.length),c-=r.TAB.length,0===n?a-=r.TAB.length:s-=r.TAB.length),c+=t.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(a,s,h.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],h.default.sources.USER)}}}function C(e){if("string"===typeof e||"number"===typeof e)return C({key:e});if("object"===("undefined"===typeof e?"undefined":a(e))&&(e=(0,i.default)(e,!1)),"string"===typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,h.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,h.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,h.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=n(t,2),a=r[0],s=r[1],i=(0,o.default)({},a.formats(),{list:"checked"}),l=(new c.default).retain(e.index).insert("\n",i).retain(a.length()-s-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),a=n(r,2),s=a[0],i=a[1],l=(new c.default).retain(e.index).insert("\n",t.format).retain(s.length()-i-1).retain(1,{header:null});this.quill.updateContents(l,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,a=this.quill.getLine(e.index),s=n(a,2),i=s[0],l=s[1];if(l>r)return!0;var o=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(e.index," ",h.default.sources.USER),this.quill.history.cutoff();var d=(new c.default).retain(e.index-l).delete(r+1).retain(i.length()-2-l).retain(1,{list:o});this.quill.updateContents(d,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,h.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=n(t,2),a=r[0],s=r[1],i=(new c.default).retain(e.index+a.length()-s-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,h.default.sources.USER)}},"embed left":v(b.keys.LEFT,!1),"embed left shift":v(b.keys.LEFT,!0),"embed right":v(b.keys.RIGHT,!1),"embed right shift":v(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=o(r(0)),l=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.selection=r,a.textNode=document.createTextNode(t.CONTENTS),a.domNode.appendChild(a.textNode),a._length=0,a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"value",value:function(){}}]),s(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var a=this,s=0;null!=a&&a.statics.scope!==i.default.Scope.BLOCK_BLOT;)s+=a.offset(a.parent),a=a.parent;null!=a&&(this._length=t.CONTENTS.length,a.optimize(),a.formatAt(s,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),n=void 0,s=void 0,o=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var c=[e,r.start.offset,r.end.offset];n=c[0],s=c[1],o=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var d=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof l.default?(n=this.next.domNode,this.next.insertAt(0,d),this.textNode.data=t.CONTENTS):(this.textNode.data=d,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=s){var u=[s,o].map(function(e){return Math.max(0,Math.min(n.data.length,e-1))}),h=a(u,2);return s=h[0],o=h[1],{startNode:n,startOffset:s,endNode:n,endOffset:o}}}}},{key:"update",value:function(e,t){var r=this;if(e.some(function(e){return"characterData"===e.type&&e.target===r.textNode})){var a=this.restore();a&&(t.range=a)}}},{key:"value",value:function(){return""}}]),t}(i.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(0)),n=r(4),s=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default.Container);l.allowedChildren=[s.default,n.BlockEmbed,l],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),l=(a=i)&&a.__esModule?a:{default:a},o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"value",value:function(e){var r=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):r}}]),t}(l.default.Attributor.Style),c=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),d=new o("color","color",{scope:l.default.Scope.INLINE});t.ColorAttributor=o,t.ColorClass=c,t.ColorStyle=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return o(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);function o(e,t){var r=document.createElement("a");r.href=e;var a=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(a)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=l(r(23)),i=l(r(107));function l(e){return e&&e.__esModule?e:{default:e}}var o=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){r.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case s.default.keys.ENTER:r.togglePicker();break;case s.default.keys.ESCAPE:r.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return n(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",function(){t.selectItem(r,!0)}),r.addEventListener("keydown",function(e){switch(e.keyCode){case s.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case s.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=i.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+o,o+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(r){var a=e.buildItem(r);t.appendChild(a),!0===r.selected&&e.selectItem(a)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":a(Event))){var n=document.createEvent("Event");n.initEvent("change",!0,!0),this.select.dispatchEvent(n)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(r(0)),n=f(r(5)),s=r(4),i=f(s),l=f(r(16)),o=f(r(25)),c=f(r(24)),d=f(r(35)),u=f(r(6)),h=f(r(22)),m=f(r(7)),p=f(r(55)),g=f(r(42)),x=f(r(23));function f(e){return e&&e.__esModule?e:{default:e}}n.default.register({"blots/block":i.default,"blots/block/embed":s.BlockEmbed,"blots/break":l.default,"blots/container":o.default,"blots/cursor":c.default,"blots/embed":d.default,"blots/inline":u.default,"blots/scroll":h.default,"blots/text":m.default,"modules/clipboard":p.default,"modules/history":g.default,"modules/keyboard":x.default}),a.default.register(i.default,l.default,c.default,u.default,h.default,m.default),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(){function e(e){this.domNode=e,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new a.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return a.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,n){var s=this.isolate(e,t);if(null!=a.query(r,a.Scope.BLOT)&&n)s.wrap(r,n);else if(null!=a.query(r,a.Scope.ATTRIBUTE)){var i=a.create(this.statics.scope);s.wrap(i),i.format(r,n)}},e.prototype.insertAt=function(e,t,r){var n=null==r?a.create("text",t):a.create(t,r),s=this.split(e);this.parent.insertBefore(n,s)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[a.DATA_KEY]&&delete this.domNode[a.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"===typeof e?a.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"===typeof e?a.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),n=r(32),s=r(33),i=r(1),l=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=a.default.keys(this.domNode),r=n.default.keys(this.domNode),l=s.default.keys(this.domNode);t.concat(r).concat(l).forEach(function(t){var r=i.query(t,i.Scope.ATTRIBUTE);r instanceof a.default&&(e.attributes[r.attrName]=r)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(r){var a=t.attributes[r].value(t.domNode);e.format(r,a)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=e.attributes[r].value(e.domNode),t},{})},e}();t.default=l},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();function n(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){n(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(n(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=s},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();function n(e){var t=e.split("-"),r=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[n(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[n(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[n(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return a(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();n.DEFAULTS={modules:{}},n.themes={default:n},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=l(r(0)),i=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var o="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(e){r.contentNode.appendChild(e)}),r.leftGuard=document.createTextNode(o),r.rightGuard=document.createTextNode(o),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,a=e.data.split(o).join("");if(e===this.leftGuard)if(this.prev instanceof i.default){var n=this.prev.length();this.prev.insertAt(n,a),t={startNode:this.prev.domNode,startOffset:n+a.length}}else r=document.createTextNode(a),this.parent.insertBefore(s.default.create(r),this),t={startNode:r,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(r=document.createTextNode(a),this.parent.insertBefore(s.default.create(r),this.next),t={startNode:r,startOffset:a.length}));return e.data=o,t}},{key:"update",value:function(e,t){var r=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var a=r.restore(e.target);a&&(t.range=a)}})}}]),t}(s.default.Embed);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new s.default.Attributor.Attribute("align","align",i),o=new s.default.Attributor.Class("align","ql-align",i),c=new s.default.Attributor.Style("align","text-align",i);t.AlignAttribute=l,t.AlignClass=o,t.AlignStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i=r(26),l=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),o=new i.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});t.BackgroundClass=l,t.BackgroundStyle=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},l=new s.default.Attributor.Attribute("direction","dir",i),o=new s.default.Attributor.Class("direction","ql-direction",i),c=new s.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=l,t.DirectionClass=o,t.DirectionStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),l=(a=i)&&a.__esModule?a:{default:a},o={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new l.default.Attributor.Class("font","ql-font",o),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"value",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(l.default.Attributor.Style),u=new d("font","font-family",o);t.FontStyle=u,t.FontClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=l},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(0)),s=i(r(5));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.lastRecorded=0,a.ignoreChange=!1,a.clear(),a.quill.on(s.default.events.EDITOR_CHANGE,function(e,t,r,n){e!==s.default.events.TEXT_CHANGE||a.ignoreChange||(a.options.userOnly&&n!==s.default.sources.USER?a.transform(t):a.record(t,r))}),a.quill.keyboard.addBinding({key:"Z",shortKey:!0},a.undo.bind(a)),a.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},a.redo.bind(a)),/Win/i.test(navigator.platform)&&a.quill.keyboard.addBinding({key:"Y",shortKey:!0},a.redo.bind(a)),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],s.default.sources.USER),this.ignoreChange=!1;var a=o(r[e]);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){var n=this.stack.undo.pop();r=r.compose(n.undo),e=n.redo.compose(e)}else this.lastRecorded=a;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(i(r(9)).default);function o(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=n.default.query(e,n.default.Scope.BLOCK)}))}(e)&&(r-=1),r}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=l,t.getLastChangeIndex=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=p(r(3)),i=p(r(2)),l=p(r(8)),o=p(r(23)),c=p(r(34)),d=p(r(59)),u=p(r(60)),h=p(r(28)),m=p(r(61));function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],v=[!1,"serif","monospace"],j=["1","2","3",!1],w=["small",!1,"large","huge"],k=function(e){function t(e,r){g(this,t);var a=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==a.tooltip||a.tooltip.root.contains(r.target)||document.activeElement===a.tooltip.textbox||a.quill.hasFocus()||a.tooltip.hide(),null!=a.pickers&&a.pickers.forEach(function(e){e.container.contains(r.target)||e.close()})}),a}return f(t,e),a(t,[{key:"addModule",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"===typeof t[r])e.innerHTML=t[r];else{var a=e.value||"";null!=a&&t[r][a]&&(e.innerHTML=t[r][a])}})})}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&_(e,y),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&_(e,b,"background"===r?"#ffffff":"#000000"),new d.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?_(e,v):e.classList.contains("ql-header")?_(e,j):e.classList.contains("ql-size")&&_(e,w)),new h.default(e)}),this.quill.on(l.default.events.EDITOR_CHANGE,function(){r.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);k.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var a=e.quill.getSelection(!0);e.quill.updateContents((new i.default).retain(a.index).delete(a.length).insert({image:r.target.result}),l.default.sources.USER),e.quill.setSelection(a.index+1,l.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(e){function t(e,r){g(this,t);var a=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.textbox=a.root.querySelector('input[type="text"]'),a.listen(),a}return f(t,e),a(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){o.default.match(t,"enter")?(e.save(),t.preventDefault()):o.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,l.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var r=this.quill.getSelection(!0);if(null!=r){var a=r.index+r.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),e,l.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(a+1," ",l.default.sources.USER),this.quill.setSelection(a+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(m.default);function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var a=document.createElement("option");t===r?a.setAttribute("selected","selected"):a.setAttribute("value",t),e.appendChild(a)})}t.BaseTooltip=N,t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,a=this.iterator();r=a();){var n=r.length();if(e<n||t&&e===n&&(null==r.next||0!==r.next.length()))return[r,e];e-=n}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var a,n=this.find(e),s=n[0],i=e-n[1],l=this.iterator(s);(a=l())&&i<e+t;){var o=a.length();e>i?r(a,e-i,Math.min(t,i+o-e)):r(a,0,Math.min(o,e+t-i)),i+=o}},e.prototype.map=function(e){return this.reduce(function(t,r){return t.push(e(r)),t},[])},e.prototype.reduce=function(e,t){for(var r,a=this.iterator();r=a();)t=e(t,r);return t},e}();t.default=a},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),s=r(1),i={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver(function(e){r.update(e)}),r.observer.observe(r.domNode,i),r.attach(),r}return a(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,a,n){this.update(),e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.insertAt=function(t,r,a){this.update(),e.prototype.insertAt.call(this,t,r,a)},t.prototype.optimize=function(t,r){var a=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var l=function(e,t){void 0===t&&(t=!0),null!=e&&e!==a&&null!=e.domNode.parentNode&&(null==e.domNode[s.DATA_KEY].mutations&&(e.domNode[s.DATA_KEY].mutations=[]),t&&l(e.parent))},o=function(e){null!=e.domNode[s.DATA_KEY]&&null!=e.domNode[s.DATA_KEY].mutations&&(e instanceof n.default&&e.children.forEach(o),e.optimize(r))},c=t,d=0;c.length>0;d+=1){if(d>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=s.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(l(s.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=s.find(e,!1);l(t,!1),t instanceof n.default&&t.children.forEach(function(e){l(e,!1)})})):"attributes"===e.type&&l(t.prev)),l(t))}),this.children.forEach(o),i=(c=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},t.prototype.update=function(t,r){var a=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map(function(e){var t=s.find(e.target,!0);return null==t?null:null==t.domNode[s.DATA_KEY].mutations?(t.domNode[s.DATA_KEY].mutations=[e],t):(t.domNode[s.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==a&&null!=e.domNode[s.DATA_KEY]&&e.update(e.domNode[s.DATA_KEY].mutations||[],r)}),null!=this.domNode[s.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="DIV",t}(n.default);t.default=l},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,a){var s=this;r!==this.statics.blotName||a?e.prototype.format.call(this,r,a):(this.children.forEach(function(e){e instanceof n.default||(e=e.wrap(t.blotName,!0)),s.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,r,a,n){null!=this.formats()[a]||s.query(a,s.Scope.ATTRIBUTE)?this.isolate(t,r).format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var a=this.formats();if(0===Object.keys(a).length)return this.unwrap();var n=this.next;n instanceof t&&n.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(a,n.formats())&&(n.moveChildren(this),n.remove())},t.blotName="inline",t.scope=s.Scope.INLINE_BLOT,t.tagName="SPAN",t}(n.default);t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(r){var a=s.query(t.blotName).tagName;if(r.tagName!==a)return e.formats.call(this,r)},t.prototype.format=function(r,a){null!=s.query(r,s.Scope.BLOCK)&&(r!==this.statics.blotName||a?e.prototype.format.call(this,r,a):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,a,n){null!=s.query(a,s.Scope.BLOCK)?this.format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.insertAt=function(t,r,a){if(null==a||null!=s.query(r,s.Scope.INLINE))e.prototype.insertAt.call(this,t,r,a);else{var n=this.split(t),i=s.create(r,a);n.parent.insertBefore(i,n)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="P",t}(n.default);t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,a,n){0===t&&r===this.length()?this.format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=n},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),s=r(1),i=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return a(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,a){null==a?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,a)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=s.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some(function(e){return"characterData"===e.type&&e.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=s.Scope.INLINE_BLOT,t}(n.default);t.default=i},function(e,t,r){"use strict";var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:n.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var a=r.indexOf(e,t);return-1!==a&&a===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),a=r.length>>>0,n=arguments[1],s=0;s<a;s++)if(t=r[s],e.call(n,t,s,r))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var r=-1;function a(e,t,o){if(e==t)return e?[[0,e]]:[];(o<0||e.length<o)&&(o=null);var d=s(e,t),u=e.substring(0,d);d=i(e=e.substring(d),t=t.substring(d));var h=e.substring(e.length-d),m=function(e,t){var l;if(!e)return[[1,t]];if(!t)return[[r,e]];var o=e.length>t.length?e:t,c=e.length>t.length?t:e,d=o.indexOf(c);if(-1!=d)return l=[[1,o.substring(0,d)],[0,c],[1,o.substring(d+c.length)]],e.length>t.length&&(l[0][0]=l[2][0]=r),l;if(1==c.length)return[[r,e],[1,t]];var u=function(e,t){var r=e.length>t.length?e:t,a=e.length>t.length?t:e;if(r.length<4||2*a.length<r.length)return null;function n(e,t,r){for(var a,n,l,o,c=e.substring(r,r+Math.floor(e.length/4)),d=-1,u="";-1!=(d=t.indexOf(c,d+1));){var h=s(e.substring(r),t.substring(d)),m=i(e.substring(0,r),t.substring(0,d));u.length<m+h&&(u=t.substring(d-m,d)+t.substring(d,d+h),a=e.substring(0,r-m),n=e.substring(r+h),l=t.substring(0,d-m),o=t.substring(d+h))}return 2*u.length>=e.length?[a,n,l,o,u]:null}var l,o,c,d,u,h=n(r,a,Math.ceil(r.length/4)),m=n(r,a,Math.ceil(r.length/2));if(!h&&!m)return null;l=m?h&&h[4].length>m[4].length?h:m:h,e.length>t.length?(o=l[0],c=l[1],d=l[2],u=l[3]):(d=l[0],u=l[1],o=l[2],c=l[3]);var p=l[4];return[o,c,d,u,p]}(e,t);if(u){var h=u[0],m=u[1],p=u[2],g=u[3],x=u[4],f=a(h,p),y=a(m,g);return f.concat([[0,x]],y)}return function(e,t){for(var a=e.length,s=t.length,i=Math.ceil((a+s)/2),l=i,o=2*i,c=new Array(o),d=new Array(o),u=0;u<o;u++)c[u]=-1,d[u]=-1;c[l+1]=0,d[l+1]=0;for(var h=a-s,m=h%2!=0,p=0,g=0,x=0,f=0,y=0;y<i;y++){for(var b=-y+p;b<=y-g;b+=2){for(var v=l+b,j=(S=b==-y||b!=y&&c[v-1]<c[v+1]?c[v+1]:c[v-1]+1)-b;S<a&&j<s&&e.charAt(S)==t.charAt(j);)S++,j++;if(c[v]=S,S>a)g+=2;else if(j>s)p+=2;else if(m&&(N=l+h-b)>=0&&N<o&&-1!=d[N]&&S>=(k=a-d[N]))return n(e,t,S,j)}for(var w=-y+x;w<=y-f;w+=2){for(var k,N=l+w,_=(k=w==-y||w!=y&&d[N-1]<d[N+1]?d[N+1]:d[N-1]+1)-w;k<a&&_<s&&e.charAt(a-k-1)==t.charAt(s-_-1);)k++,_++;if(d[N]=k,k>a)f+=2;else if(_>s)x+=2;else if(!m){var S;if((v=l+h-w)>=0&&v<o&&-1!=c[v])if(j=l+(S=c[v])-v,S>=(k=a-k))return n(e,t,S,j)}}}return[[r,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return u&&m.unshift([0,u]),h&&m.push([0,h]),l(m),null!=o&&(m=function(e,t){var a=function(e,t){if(0===t)return[0,e];for(var a=0,n=0;n<e.length;n++){var s=e[n];if(s[0]===r||0===s[0]){var i=a+s[1].length;if(t===i)return[n+1,e];if(t<i){e=e.slice();var l=t-a,o=[s[0],s[1].slice(0,l)],c=[s[0],s[1].slice(l)];return e.splice(n,1,o,c),[n+1,e]}a=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),n=a[1],s=a[0],i=n[s],l=n[s+1];if(null==i)return e;if(0!==i[0])return e;if(null!=l&&i[1]+l[1]===l[1]+i[1])return n.splice(s,2,l,i),c(n,s,2);if(null!=l&&0===l[1].indexOf(i[1])){n.splice(s,2,[l[0],i[1]],[0,i[1]]);var o=l[1].slice(i[1].length);return o.length>0&&n.splice(s+2,0,[l[0],o]),c(n,s,3)}return e}(m,o)),m=function(e){for(var t=!1,a=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},s=2;s<e.length;s+=1)0===e[s-2][0]&&n(e[s-2][1])&&e[s-1][0]===r&&a(e[s-1][1])&&1===e[s][0]&&a(e[s][1])&&(t=!0,e[s-1][1]=e[s-2][1].slice(-1)+e[s-1][1],e[s][1]=e[s-2][1].slice(-1)+e[s][1],e[s-2][1]=e[s-2][1].slice(0,-1));if(!t)return e;var i=[];for(s=0;s<e.length;s+=1)e[s][1].length>0&&i.push(e[s]);return i}(m)}function n(e,t,r,n){var s=e.substring(0,r),i=t.substring(0,n),l=e.substring(r),o=t.substring(n),c=a(s,i),d=a(l,o);return c.concat(d)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,a=Math.min(e.length,t.length),n=a,s=0;r<n;)e.substring(s,n)==t.substring(s,n)?s=r=n:a=n,n=Math.floor((a-r)/2+r);return n}function i(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,a=Math.min(e.length,t.length),n=a,s=0;r<n;)e.substring(e.length-n,e.length-s)==t.substring(t.length-n,t.length-s)?s=r=n:a=n,n=Math.floor((a-r)/2+r);return n}function l(e){e.push([0,""]);for(var t,a=0,n=0,o=0,c="",d="";a<e.length;)switch(e[a][0]){case 1:o++,d+=e[a][1],a++;break;case r:n++,c+=e[a][1],a++;break;case 0:n+o>1?(0!==n&&0!==o&&(0!==(t=s(d,c))&&(a-n-o>0&&0==e[a-n-o-1][0]?e[a-n-o-1][1]+=d.substring(0,t):(e.splice(0,0,[0,d.substring(0,t)]),a++),d=d.substring(t),c=c.substring(t)),0!==(t=i(d,c))&&(e[a][1]=d.substring(d.length-t)+e[a][1],d=d.substring(0,d.length-t),c=c.substring(0,c.length-t))),0===n?e.splice(a-o,n+o,[1,d]):0===o?e.splice(a-n,n+o,[r,c]):e.splice(a-n-o,n+o,[r,c],[1,d]),a=a-n-o+(n?1:0)+(o?1:0)+1):0!==a&&0==e[a-1][0]?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,o=0,n=0,c="",d=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(a=1;a<e.length-1;)0==e[a-1][0]&&0==e[a+1][0]&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)==e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),u=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),u=!0)),a++;u&&l(e)}var o=a;function c(e,t,r){for(var a=t+r-1;a>=0&&a>=t-1;a--)if(a+1<e.length){var n=e[a],s=e[a+1];n[0]===s[1]&&e.splice(a,2,[n[0],n[1]+s[1]])}return e}o.INSERT=1,o.DELETE=r,o.EQUAL=0,e.exports=o},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"===typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function a(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?a:n).supported=a,t.unsupported=n},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a="~";function n(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),i.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(e,t){var r=a?a+e:e,n=this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,l=new Array(i);s<i;s++)l[s]=n[s].fn;return l},i.prototype.emit=function(e,t,r,n,s,i){var l=a?a+e:e;if(!this._events[l])return!1;var o,c,d=this._events[l],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,n),!0;case 5:return d.fn.call(d.context,t,r,n,s),!0;case 6:return d.fn.call(d.context,t,r,n,s,i),!0}for(c=1,o=new Array(u-1);c<u;c++)o[c-1]=arguments[c];d.fn.apply(d.context,o)}else{var h,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,n);break;default:if(!o)for(h=1,o=new Array(u-1);h<u;h++)o[h-1]=arguments[h];d[c].fn.apply(d[c].context,o)}}return!0},i.prototype.on=function(e,t,r){var n=new s(t,r||this),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.once=function(e,t,r){var n=new s(t,r||this,!0),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.removeListener=function(e,t,r,s){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return 0===--this._eventsCount?this._events=new n:delete this._events[i],this;var l=this._events[i];if(l.fn)l.fn!==t||s&&!l.once||r&&l.context!==r||(0===--this._eventsCount?this._events=new n:delete this._events[i]);else{for(var o=0,c=[],d=l.length;o<d;o++)(l[o].fn!==t||s&&!l[o].once||r&&l[o].context!==r)&&c.push(l[o]);c.length?this._events[i]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new n:delete this._events[i]}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new n:delete this._events[t])):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=a,i.EventEmitter=i,"undefined"!==typeof e&&(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=b(r(3)),l=b(r(2)),o=b(r(0)),c=b(r(5)),d=b(r(10)),u=b(r(9)),h=r(36),m=r(37),p=b(r(13)),g=r(26),x=r(38),f=r(39),y=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=(0,d.default)("quill:clipboard"),w="__ql-matcher",k=[[Node.TEXT_NODE,D],[Node.TEXT_NODE,M],["br",function(e,t){return O(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var r={},a=e.style||{};return a.fontStyle&&"italic"===E(e).fontStyle&&(r.italic=!0),a.fontWeight&&(E(e).fontWeight.startsWith("bold")||parseInt(E(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=C(t,r)),parseFloat(a.textIndent||0)>0&&(t=(new l.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=o.default.query(e);if(null==r||"list-item"!==r.blotName||!O(t,"\n"))return t;for(var a=-1,n=e.parentNode;!n.classList.contains("ql-clipboard");)"list"===(o.default.query(n)||{}).blotName&&(a+=1),n=n.parentNode;return a<=0?t:t.compose((new l.default).retain(t.length()-1).retain(1,{indent:a}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new l.default}]],N=[h.AlignAttribute,x.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),_=[h.AlignStyle,m.BackgroundStyle,g.ColorStyle,x.DirectionStyle,f.FontStyle,y.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),S=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.root.addEventListener("paste",a.onPaste.bind(a)),a.container=a.quill.addContainer("ql-clipboard"),a.container.setAttribute("contenteditable",!0),a.container.setAttribute("tabindex",-1),a.matchers=[],k.concat(a.options.matchers).forEach(function(e){var t=n(e,2),s=t[0],i=t[1];(r.matchVisual||i!==F)&&a.addMatcher(s,i)}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[p.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new l.default).insert(r,v({},p.default.blotName,t[p.default.blotName]))}var a=this.prepareMatching(),s=n(a,2),i=s[0],o=s[1],c=T(this.container,i,o);return O(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new l.default).retain(c.length()-1).delete(1))),j.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var a=this.convert(t);this.quill.updateContents((new l.default).retain(e).concat(a),r),this.quill.setSelection(e+a.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),a=(new l.default).retain(r.index),n=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){a=a.concat(t.convert()).delete(r.length),t.quill.updateContents(a,c.default.sources.USER),t.quill.setSelection(a.length()-r.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=n,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach(function(a){var s=n(a,2),i=s[0],l=s[1];switch(i){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:t.push(l);break;default:[].forEach.call(e.container.querySelectorAll(i),function(e){e[w]=e[w]||[],e[w].push(l)})}}),[t,r]}}]),t}(u.default);function C(e,t,r){return"object"===("undefined"===typeof t?"undefined":a(t))?Object.keys(t).reduce(function(e,r){return C(e,r,t[r])},e):e.reduce(function(e,a){return a.attributes&&a.attributes[t]?e.push(a):e.insert(a.insert,(0,i.default)({},v({},t,r),a.attributes))},new l.default)}function E(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function O(e,t){for(var r="",a=e.ops.length-1;a>=0&&r.length<t.length;--a){var n=e.ops[a];if("string"!==typeof n.insert)break;r=n.insert+r}return r.slice(-1*t.length)===t}function A(e){if(0===e.childNodes.length)return!1;var t=E(e);return["block","list-item"].indexOf(t.display)>-1}function T(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,r){return r(e,t)},new l.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(a,n){var s=T(n,t,r);return n.nodeType===e.ELEMENT_NODE&&(s=t.reduce(function(e,t){return t(n,e)},s),s=(n[w]||[]).reduce(function(e,t){return t(n,e)},s)),a.concat(s)},new l.default):new l.default}function P(e,t,r){return C(r,e,!0)}function L(e,t){var r=o.default.Attributor.Attribute.keys(e),a=o.default.Attributor.Class.keys(e),n=o.default.Attributor.Style.keys(e),s={};return r.concat(a).concat(n).forEach(function(t){var r=o.default.query(t,o.default.Scope.ATTRIBUTE);null!=r&&(s[r.attrName]=r.value(e),s[r.attrName])||(null==(r=N[t])||r.attrName!==t&&r.keyName!==t||(s[r.attrName]=r.value(e)||void 0),null==(r=_[t])||r.attrName!==t&&r.keyName!==t||(r=_[t],s[r.attrName]=r.value(e)||void 0))}),Object.keys(s).length>0&&(t=C(t,s)),t}function R(e,t){var r=o.default.query(e);if(null==r)return t;if(r.prototype instanceof o.default.Embed){var a={},n=r.value(e);null!=n&&(a[r.blotName]=n,t=(new l.default).insert(a,r.formats(e)))}else"function"===typeof r.formats&&(t=C(t,r.blotName,r.formats(e)));return t}function M(e,t){return O(t,"\n")||(A(e)||t.length()>0&&e.nextSibling&&A(e.nextSibling))&&t.insert("\n"),t}function F(e,t){if(A(e)&&null!=e.nextElementSibling&&!O(t,"\n\n")){var r=e.offsetHeight+parseFloat(E(e).marginTop)+parseFloat(E(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function D(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!E(e.parentNode).whiteSpace.startsWith("pre")){var a=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,a.bind(a,!0)),(null==e.previousSibling&&A(e.parentNode)||null!=e.previousSibling&&A(e.previousSibling))&&(r=r.replace(/^\s+/,a.bind(a,!1))),(null==e.nextSibling&&A(e.parentNode)||null!=e.nextSibling&&A(e.nextSibling))&&(r=r.replace(/\s+$/,a.bind(a,!1)))}return t.insert(r)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=L,t.matchBlot=R,t.matchNewline=M,t.matchSpacing=F,t.matchText=D},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=d(r(2)),i=d(r(0)),l=d(r(5)),o=d(r(10)),c=d(r(9));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=(0,o.default)("quill:toolbar"),m=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,s=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(s.options.container)){var i=document.createElement("div");g(i,s.options.container),e.container.parentNode.insertBefore(i,e.container),s.container=i}else"string"===typeof s.options.container?s.container=document.querySelector(s.options.container):s.container=s.options.container;return s.container instanceof HTMLElement?(s.container.classList.add("ql-toolbar"),s.controls=[],s.handlers={},Object.keys(s.options.handlers).forEach(function(e){s.addHandler(e,s.options.handlers[e])}),[].forEach.call(s.container.querySelectorAll("button, select"),function(e){s.attach(e)}),s.quill.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.SELECTION_CHANGE&&s.update(t)}),s.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){var e=s.quill.selection.getRange(),t=a(e,1)[0];s.update(t)}),s):(n=h.error("Container required for toolbar",s.options),u(s,n))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void h.warn("ignoring attaching to disabled format",r,e);if(null==i.default.query(r))return void h.warn("ignoring attaching to nonexistent format",r,e)}var n="SELECT"===e.tagName?"change":"click";e.addEventListener(n,function(n){var o=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];o=!c.hasAttribute("selected")&&(c.value||!1)}else o=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),n.preventDefault();t.quill.focus();var d=t.quill.selection.getRange(),u=a(d,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,o);else if(i.default.query(r).prototype instanceof i.default.Embed){if(!(o=prompt("Enter "+r)))return;t.quill.updateContents((new s.default).retain(u.index).delete(u.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,o)),l.default.sources.USER)}else t.quill.format(r,o,l.default.sources.USER);t.update(u)}),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(r){var n=a(r,2),s=n[0],i=n[1];if("SELECT"===i.tagName){var l=void 0;if(null==e)l=null;else if(null==t[s])l=i.querySelector("option[selected]");else if(!Array.isArray(t[s])){var o=t[s];"string"===typeof o&&(o=o.replace(/\"/g,'\\"')),l=i.querySelector('option[value="'+o+'"]')}null==l?(i.value="",i.selectedIndex=-1):l.selected=!0}else if(null==e)i.classList.remove("ql-active");else if(i.hasAttribute("value")){var c=t[s]===i.getAttribute("value")||null!=t[s]&&t[s].toString()===i.getAttribute("value")||null==t[s]&&!i.getAttribute("value");i.classList.toggle("ql-active",c)}else i.classList.toggle("ql-active",null!=t[s])})}}]),t}(c.default);function p(e,t,r){var a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("ql-"+t),null!=r&&(a.value=r),e.appendChild(a)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(function(e){if("string"===typeof e)p(r,e);else{var t=Object.keys(e)[0],a=e[t];Array.isArray(a)?function(e,t,r){var a=document.createElement("select");a.classList.add("ql-"+t),r.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),a.appendChild(t)}),e.appendChild(a)}(r,t,a):p(r,t,a)}}),e.appendChild(r)})}m.DEFAULTS={},m.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach(function(t){null!=i.default.query(t,i.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,l.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",l.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",e,l.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),a=parseInt(r.indent||0);if("+1"===e||"-1"===e){var n="+1"===e?1:-1;"rtl"===r.direction&&(n*=-1),this.quill.format("indent",a+n,l.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,l.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",e,l.default.sources.USER)}}},t.default=m,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.label.innerHTML=r,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"buildItem",value:function(e){var r=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var a=this.label.querySelector(".ql-color-label"),n=e&&e.getAttribute("data-value")||"";a&&("line"===a.tagName?a.style.stroke=n:a.style.fill=n)}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=r[e.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"selectItem",value:function(e,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return a(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var a=this.boundsContainer.getBoundingClientRect(),n=this.root.getBoundingClientRect(),s=0;if(n.right>a.right&&(s=a.right-n.right,this.root.style.left=t+s+"px"),n.left<a.left&&(s=a.left-n.left,this.root.style.left=t+s+"px"),n.bottom>a.bottom){var i=n.bottom-n.top,l=e.bottom-e.top+i;this.root.style.top=r-l+"px",this.root.classList.add("ql-flip")}return s}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,s=o}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=m(r(3)),l=m(r(8)),o=r(43),c=m(o),d=m(r(27)),u=r(15),h=m(r(41));function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=f);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.container.classList.add("ql-snow"),a}return x(t,e),s(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),h.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,r){e.handlers.link.call(e,!r.format.link)})}}]),t}(c.default);y.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){p(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.preview=a.root.querySelector("a.ql-preview"),a}return x(t,e),s(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,l.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(l.default.events.SELECTION_CHANGE,function(t,r,n){if(null!=t){if(0===t.length&&n===l.default.sources.USER){var s=e.quill.scroll.descendant(d.default,t.index),i=a(s,2),o=i[0],c=i[1];if(null!=o){e.linkRange=new u.Range(t.index-c,o.length());var h=d.default.formats(o.domNode);return e.preview.textContent=h,e.preview.setAttribute("href",h),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(o.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=M(r(29)),n=r(36),s=r(38),i=r(64),l=M(r(65)),o=M(r(66)),c=r(67),d=M(c),u=r(37),h=r(26),m=r(39),p=r(40),g=M(r(56)),x=M(r(68)),f=M(r(27)),y=M(r(69)),b=M(r(70)),v=M(r(71)),j=M(r(72)),w=M(r(73)),k=r(13),N=M(k),_=M(r(74)),S=M(r(75)),C=M(r(57)),E=M(r(41)),O=M(r(28)),A=M(r(59)),T=M(r(60)),P=M(r(61)),L=M(r(108)),R=M(r(62));function M(e){return e&&e.__esModule?e:{default:e}}a.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":n.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":n.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":p.SizeStyle},!0),a.default.register({"formats/align":n.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":i.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":m.FontClass,"formats/size":p.SizeClass,"formats/blockquote":l.default,"formats/code-block":N.default,"formats/header":o.default,"formats/list":d.default,"formats/bold":g.default,"formats/code":k.Code,"formats/italic":x.default,"formats/link":f.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":v.default,"formats/image":j.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":_.default,"modules/syntax":S.default,"modules/toolbar":C.default,"themes/bubble":L.default,"themes/snow":R.default,"ui/icons":E.default,"ui/picker":O.default,"ui/icon-picker":T.default,"ui/color-picker":A.default,"ui/tooltip":P.default},!0),t.default=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),l=(a=i)&&a.__esModule?a:{default:a},o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var a=this.value(e)||0;r="+1"===r?a+1:a-1}return 0===r?(this.remove(e),!0):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(l.default.Attributor.Class),c=new o("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((a=s)&&a.__esModule?a:{default:a}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=o(r(0)),i=o(r(4)),l=o(r(25));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"format",value:function(e,r){e!==m.blotName||r?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(s.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:n(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(i.default);h.blotName="list-item",h.tagName="LI";var m=function(e){function t(e){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=function(t){if(t.target.parentNode===e){var a=r.statics.formats(e),n=s.default.find(t.target);"checked"===a?n.format("list","unchecked"):"unchecked"===a&&n.format("list","checked")}};return e.addEventListener("touchstart",a),e.addEventListener("mousedown",a),r}return u(t,e),a(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",a=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||a.setAttribute("data-checked","checked"===e),a}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),a(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof h)n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var a=null==r?this.length():r.offset(this),s=this.split(a);s.parent.insertBefore(e,s)}}},{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=s.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(l.default);m.blotName="list",m.scope=s.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[h],t.ListItem=h,t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(56),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),l=(a=i)&&a.__esModule?a:{default:a},o=r(27),c=["alt","height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,o.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(4),l=r(27),o=(a=l)&&a.__esModule?a:{default:a},c=["height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"sanitize",value:function(e){return o.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(i.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=o(r(35)),i=o(r(5)),l=o(r(9));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:"create",value:function(e){var r=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(s.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var m=function(e){function t(){c(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(h,!0)}}]),t}(l.default);t.FormulaBlot=h,t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=o(r(0)),i=o(r(5)),l=o(r(9));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(o(r(13)).default);h.className="ql-syntax";var m=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),p=function(e){function t(e,r){c(this,t);var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!==typeof a.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var n=null;return a.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(n),n=setTimeout(function(){a.highlight(),n=null},a.options.interval)}),a.highlight(),a}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(m,!0),i.default.register(h,!0)}}]),a(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(h).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(i.default.sources.SILENT),null!=t&&this.quill.setSelection(t,i.default.sources.SILENT)}}}]),t}(l.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=h,t.CodeToken=m,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var a=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=u(r(3)),i=u(r(8)),l=r(43),o=u(l),c=r(15),d=u(r(41));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(e){function t(e,r){h(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.container.classList.add("ql-bubble"),a}return p(t,e),n(t,[{key:"extendToolbar",value:function(e){this.tooltip=new f(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default)}}]),t}(o.default);x.DEFAULTS=(0,s.default)(!0,{},o.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var f=function(e){function t(e,r){h(this,t);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.on(i.default.events.EDITOR_CHANGE,function(e,t,r,n){if(e===i.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&n===i.default.sources.USER){a.show(),a.root.style.left="0px",a.root.style.width="",a.root.style.width=a.root.offsetWidth+"px";var s=a.quill.getLines(t.index,t.length);if(1===s.length)a.position(a.quill.getBounds(t));else{var l=s[s.length-1],o=a.quill.getIndex(l),d=Math.min(l.length()-1,t.index+t.length-o),u=a.quill.getBounds(new c.Range(o,d));a.position(u)}}else document.activeElement!==a.textbox&&a.quill.hasFocus()&&a.hide()}),a}return p(t,e),n(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),n=this.root.querySelector(".ql-tooltip-arrow");if(n.style.marginLeft="",0===r)return r;n.style.marginLeft=-1*r-n.offsetWidth/2+"px"}}]),t}(l.BaseTooltip);f.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=f,t.default=x},function(e,t,r){e.exports=r(63)}]).default},e.exports=t()},7685:(e,t,r)=>{var a=r(7937)(r(6552),"DataView");e.exports=a},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var a=r(3440),n=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!n&&n in e}},7937:(e,t,r)=>{var a=r(6954),n=r(4657);e.exports=function(e,t){var r=n(e,t);return a(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8673:(e,t,r)=>{var a=r(3204),n=r(3713),s=r(6571);e.exports=function(e){return s(e)?a(e):n(e)}},8724:(e,t,r)=>{var a=r(7615),n=r(5051),s=r(2154),i=r(8734),l=r(2662);function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=n,o.prototype.get=s,o.prototype.has=i,o.prototype.set=l,e.exports=o},8734:(e,t,r)=>{var a=r(5575),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:n.call(t,e)}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8895:e=>{e.exports=function(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}},8902:(e,t,r)=>{var a=r(4816),n=r(6179),s=r(6704);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new a;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=n,i.prototype.has=s,e.exports=i},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var a=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<r}},9394:(e,t,r)=>{var a=r(2622);e.exports=function(e){return a(this,e).has(e)}},9395:(e,t,r)=>{var a=r(4262),n=r(9621),s=r(8673);e.exports=function(e){return a(e,s,n)}},9621:(e,t,r)=>{var a=r(7529),n=r(7828),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,l=i?function(e){return null==e?[]:(e=Object(e),a(i(e),function(t){return s.call(e,t)}))}:n;e.exports=l},9812:(e,t,r)=>{var a=r(6552).Symbol;e.exports=a},9853:(e,t,r)=>{var a=r(6989);e.exports=function(e,t){return a(e,t)}},9935:(e,t,r)=>{var a=r(1340),n=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():n.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var a=r(9812),n=r(2929),s=r(3211),i=r(3668),l=r(4160),o=r(2074),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,a,c,u,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var m=l;case"[object Set]":var p=1&a;if(m||(m=o),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;a|=2,h.set(e,t);var x=i(m(e),m(t),a,c,u,h);return h.delete(e),x;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&a;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>a[e]);return i.default=()=>a,r.d(s,i),s}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,a)=>(r.f[a](e,t),t),[])),r.u=e=>"static/js/"+e+".e68ce003.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="cataloro-marketplace:";r.l=(a,n,s,i)=>{if(e[a])e[a].push(n);else{var l,o;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){l=u;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.setAttribute("data-webpack",t+s),l.src=a),e[a]=[n];var h=(t,r)=>{l.onerror=l.onload=null,clearTimeout(m);var n=e[a];if(delete e[a],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach(e=>e(r)),t)return t(r)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),o&&document.head.appendChild(l)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise((r,a)=>n=e[t]=[r,a]);a.push(n[2]=s);var i=r.p+r.u(t),l=new Error;r.l(i,a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",l.name="ChunkLoadError",l.type=s,l.request=i,n[1](l)}},"chunk-"+t,t)}};var t=(t,a)=>{var n,s,i=a[0],l=a[1],o=a[2],c=0;if(i.some(t=>0!==e[t])){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(o)o(r)}for(t&&t(a);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.webpackChunkcataloro_marketplace=self.webpackChunkcataloro_marketplace||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Kt,hasStandardBrowserEnv:()=>Jt,hasStandardBrowserWebWorkerEnv:()=>Yt,navigator:()=>Gt,origin:()=>$t});var t,a=r(5043),n=r.t(a,2),s=r(4391),i=r(7950),l=r.t(i,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,r,a){return void 0===r&&(r=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function g(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function x(e,r,a,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,u=t.Pop,g=null,x=f();function f(){return(l.state||{idx:null}).idx}function y(){u=t.Pop;let e=f(),r=null==e?null:e-x;x=e,g&&g({action:u,location:v.location,delta:r})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:p(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==x&&(x=0,l.replaceState(o({},l.state,{idx:x}),""));let v={get action(){return u},get location(){return e(s,l)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),g=e,()=>{s.removeEventListener(c,y),g=null}},createHref:e=>r(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){u=t.Push;let n=m(v.location,e,r);a&&a(n,e),x=f()+1;let o=h(n,x),c=v.createHref(n);try{l.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(c)}i&&g&&g({action:u,location:v.location,delta:1})},replace:function(e,r){u=t.Replace;let n=m(v.location,e,r);a&&a(n,e),x=f();let s=h(n,x),o=v.createHref(n);l.replaceState(s,"",o),i&&g&&g({action:u,location:v.location,delta:0})},go:e=>l.go(e)};return v}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,r){return void 0===r&&(r="/"),b(e,t,r,!1)}function b(e,t,r,a){let n=L(("string"===typeof t?g(t):t).pathname||"/",r);if(null==n)return null;let s=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=P(n);i=A(s[l],e,a)}return i}function v(e,t,r,a){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a="");let n=(e,n,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let l=I([a,i.relativePath]),o=r.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:O(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let a of j(e.path))n(e,t,a);else n(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===a.length)return n?[s,""]:[s];let i=j(a.join("/")),l=[];return l.push(...i.map(e=>""===e?s:[s,e].join("/"))),n&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,k=3,N=2,_=1,S=10,C=-2,E=e=>"*"===e;function O(e,t){let r=e.split("/"),a=r.length;return r.some(E)&&(a+=C),t&&(a+=N),r.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?k:""===t?_:S),a)}function A(e,t,r){void 0===r&&(r=!1);let{routesMeta:a}=e,n={},s="/",i=[];for(let l=0;l<a.length;++l){let e=a[l],o=l===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&r&&!a[a.length-1].route.index&&(d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:I([s,d.pathname]),pathnameBase:U(I([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=I([s,d.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let s=new RegExp(n,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],i=s.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=l[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[r];return e[a]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}function R(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let r=M(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function D(e,t,r,a){let n;void 0===a&&(a=!1),"string"===typeof e?n=g(e):(n=o({},e),d(!n.pathname||!n.pathname.includes("?"),R("?","pathname","search",n)),d(!n.pathname||!n.pathname.includes("#"),R("#","pathname","hash",n)),d(!n.search||!n.search.includes("#"),R("#","search","hash",n)));let s,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)s=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:a="",hash:n=""}="string"===typeof e?g(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:q(a),hash:B(n)}}(n,s),u=l&&"/"!==l&&l.endsWith("/"),h=(i||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const I=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W.apply(this,arguments)}const K=a.createContext(null);const G=a.createContext(null);const J=a.createContext(null);const Y=a.createContext(null);const $=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function Z(){return null!=a.useContext(Y)}function X(){return Z()||d(!1),a.useContext(Y).location}function ee(e){a.useContext(J).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext($);return e?function(){let{router:e}=me(ue.UseNavigateStable),t=ge(he.UseNavigateStable),r=a.useRef(!1);return ee(()=>{r.current=!0}),a.useCallback(function(a,n){void 0===n&&(n={}),r.current&&("number"===typeof a?e.navigate(a):e.navigate(a,W({fromRouteId:t},n)))},[e,t])}():function(){Z()||d(!1);let e=a.useContext(K),{basename:t,future:r,navigator:n}=a.useContext(J),{matches:s}=a.useContext($),{pathname:i}=X(),l=JSON.stringify(F(s,r.v7_relativeSplatPath)),o=a.useRef(!1);return ee(()=>{o.current=!0}),a.useCallback(function(r,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof r)return void n.go(r);let s=D(r,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:I([t,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)},[t,n,l,i,e])}()}const re=a.createContext(null);function ae(){let{matches:e}=a.useContext($),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext(J),{matches:s}=a.useContext($),{pathname:i}=X(),l=JSON.stringify(F(s,n.v7_relativeSplatPath));return a.useMemo(()=>D(e,JSON.parse(l),i,"path"===r),[e,l,i,r])}function se(e,r,n,s){Z()||d(!1);let{navigator:i}=a.useContext(J),{matches:l}=a.useContext($),o=l[l.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let h,m=X();if(r){var p;let e="string"===typeof r?g(r):r;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=m;let x=h.pathname||"/",f=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");f="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:f});let v=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:I([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:I([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,s);return r&&v?a.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},v):v}function ie(){let e=function(){var e;let t=a.useContext(Q),r=pe(he.UseRouteError),n=ge(he.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,null)}const le=a.createElement(ie,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement($.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(K);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement($.Provider,{value:t},n)}function de(e,t,r,n){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,o=null==(s=r)?void 0:s.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||d(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:a}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){c=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,n,s)=>{let i,d=!1,h=null,m=null;var p;r&&(i=o&&n.route.id?o[n.route.id]:void 0,h=n.route.errorElement||le,c&&(u<0&&0===s?(p="route-fallback",!1||xe[p]||(xe[p]=!0),d=!0,m=null):u===s&&(d=!0,m=n.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,s+1)),x=()=>{let t;return t=i?h:d?m:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(ce,{match:n,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?a.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:i,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function me(e){let t=a.useContext(K);return t||d(!1),t}function pe(e){let t=a.useContext(G);return t||d(!1),t}function ge(e){let t=function(){let e=a.useContext($);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const xe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}n.startTransition;function ye(e){let{to:t,replace:r,state:n,relative:s}=e;Z()||d(!1);let{future:i,static:l}=a.useContext(J),{matches:o}=a.useContext($),{pathname:c}=X(),u=te(),h=D(t,F(o,i.v7_relativeSplatPath),c,"path"===s),m=JSON.stringify(h);return a.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function be(e){return function(e){let t=a.useContext($).outlet;return t?a.createElement(re.Provider,{value:e},t):t}(e.context)}function ve(e){d(!1)}function je(e){let{basename:r="/",children:n=null,location:s,navigationType:i=t.Pop,navigator:l,static:o=!1,future:c}=e;Z()&&d(!1);let u=r.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:u,navigator:l,static:o,future:W({v7_relativeSplatPath:!1},c)}),[u,c,l,o]);"string"===typeof s&&(s=g(s));let{pathname:m="/",search:p="",hash:x="",state:f=null,key:y="default"}=s,b=a.useMemo(()=>{let e=L(m,u);return null==e?null:{location:{pathname:e,search:p,hash:x,state:f,key:y},navigationType:i}},[u,m,p,x,f,y,i]);return null==b?null:a.createElement(J.Provider,{value:h},a.createElement(Y.Provider,{children:n,value:b}))}function we(e){let{children:t,location:r}=e;return se(ke(t),r)}new Promise(()=>{});a.Component;function ke(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,ke(e.props.children,s));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ke(e.props.children,s)),r.push(i)}),r}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ne.apply(this,arguments)}function _e(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}function Se(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(e=>[r,e]):[[r,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ol){}new Map;const Ee=n.startTransition;l.flushSync,n.useId;function Oe(e){let{basename:t,children:r,future:n,window:s}=e,i=a.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:s,v5Compat:!0})&&(l={}),x(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return m("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,l)));let o=i.current,[c,d]=a.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=a.useCallback(e=>{u&&Ee?Ee(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>o.listen(h),[o,h]),a.useEffect(()=>fe(n),[n]),a.createElement(je,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef(function(e,t){let r,{onClick:n,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:m}=e,g=_e(e,Ce),{basename:x}=a.useContext(J),f=!1;if("string"===typeof u&&Te.test(u)&&(r=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=L(t.pathname,x);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:f=!0}catch(Ol){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;Z()||d(!1);let{basename:n,navigator:s}=a.useContext(J),{hash:i,pathname:l,search:o}=ne(e,{relative:r}),c=l;return"/"!==n&&(c="/"===l?n:I([n,l])),s.createHref({pathname:c,search:o,hash:i})}(u,{relative:s}),b=function(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:o}=void 0===t?{}:t,c=te(),d=X(),u=ne(e,{relative:l});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:p(d)===p(u);c(e,{replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,n,s,r,e,i,l,o])}(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:s,viewTransition:m});return a.createElement("a",Ne({},g,{href:r||y,onClick:f||i?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Le,Re;function Me(e){let t=a.useRef(Se(e)),r=a.useRef(!1),n=X(),s=a.useMemo(()=>function(e,t){let r=Se(e);return t&&t.forEach((e,a)=>{r.has(a)||t.getAll(a).forEach(e=>{r.append(a,e)})}),r}(n.search,r.current?null:t.current),[n.search]),i=te(),l=a.useCallback((e,t)=>{const a=Se("function"===typeof e?e(s):e);r.current=!0,i("?"+a,t)},[i,s]);return[s,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function De(e){var t=function(e,t){if("object"!=Fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Fe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fe(t)?t:t+""}function Ie(e,t,r){return(t=De(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach(function(t){Ie(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Be(e,t){return function(){return e.apply(t,arguments)}}const{toString:ze}=Object.prototype,{getPrototypeOf:He}=Object,{iterator:Ve,toStringTag:We}=Symbol,Ke=(Ge=Object.create(null),e=>{const t=ze.call(e);return Ge[t]||(Ge[t]=t.slice(8,-1).toLowerCase())});var Ge;const Je=e=>(e=e.toLowerCase(),t=>Ke(t)===e),Ye=e=>t=>typeof t===e,{isArray:$e}=Array,Qe=Ye("undefined");function Ze(e){return null!==e&&!Qe(e)&&null!==e.constructor&&!Qe(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xe=Je("ArrayBuffer");const et=Ye("string"),tt=Ye("function"),rt=Ye("number"),at=e=>null!==e&&"object"===typeof e,nt=e=>{if("object"!==Ke(e))return!1;const t=He(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(We in e)&&!(Ve in e)},st=Je("Date"),it=Je("File"),lt=Je("Blob"),ot=Je("FileList"),ct=Je("URLSearchParams"),[dt,ut,ht,mt]=["ReadableStream","Request","Response","Headers"].map(Je);function pt(e,t){let r,a,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),$e(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Ze(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let i;for(r=0;r<s;r++)i=a[r],t.call(null,e[i],i,e)}}function gt(e,t){if(Ze(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a,n=r.length;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const xt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ft=e=>!Qe(e)&&e!==xt;const yt=(bt="undefined"!==typeof Uint8Array&&He(Uint8Array),e=>bt&&e instanceof bt);var bt;const vt=Je("HTMLFormElement"),jt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),wt=Je("RegExp"),kt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};pt(r,(r,n)=>{let s;!1!==(s=t(r,n,e))&&(a[n]=s||r)}),Object.defineProperties(e,a)};const Nt=Je("AsyncFunction"),_t=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),a=[],xt.addEventListener("message",e=>{let{source:t,data:n}=e;t===xt&&n===r&&a.length&&a.shift()()},!1),e=>{a.push(e),xt.postMessage(r,"*")}):e=>setTimeout(e);var r,a})("function"===typeof setImmediate,tt(xt.postMessage)),St="undefined"!==typeof queueMicrotask?queueMicrotask.bind(xt):"undefined"!==typeof process&&process.nextTick||_t,Ct={isArray:$e,isArrayBuffer:Xe,isBuffer:Ze,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||tt(e.append)&&("formdata"===(t=Ke(e))||"object"===t&&tt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Xe(e.buffer),t},isString:et,isNumber:rt,isBoolean:e=>!0===e||!1===e,isObject:at,isPlainObject:nt,isEmptyObject:e=>{if(!at(e)||Ze(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ol){return!1}},isReadableStream:dt,isRequest:ut,isResponse:ht,isHeaders:mt,isUndefined:Qe,isDate:st,isFile:it,isBlob:lt,isRegExp:wt,isFunction:tt,isStream:e=>at(e)&&tt(e.pipe),isURLSearchParams:ct,isTypedArray:yt,isFileList:ot,forEach:pt,merge:function e(){const{caseless:t}=ft(this)&&this||{},r={},a=(a,n)=>{const s=t&&gt(r,n)||n;nt(r[s])&&nt(a)?r[s]=e(r[s],a):nt(a)?r[s]=e({},a):$e(a)?r[s]=a.slice():r[s]=a};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&pt(arguments[n],a);return r},extend:function(e,t,r){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return pt(t,(t,a)=>{r&&tt(t)?e[a]=Be(t,r):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,a)=>{let n,s,i;const l={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),s=n.length;s-- >0;)i=n[s],a&&!a(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==r&&He(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ke,kindOfTest:Je,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return-1!==a&&a===r},toArray:e=>{if(!e)return null;if($e(e))return e;let t=e.length;if(!rt(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Ve]).call(e);let a;for(;(a=r.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const a=[];for(;null!==(r=e.exec(t));)a.push(r);return a},isHTMLForm:vt,hasOwnProperty:jt,hasOwnProp:jt,reduceDescriptors:kt,freezeMethods:e=>{kt(e,(t,r)=>{if(tt(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const a=e[r];tt(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},a=e=>{e.forEach(e=>{r[e]=!0})};return $e(e)?a(e):a(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:gt,global:xt,isContextDefined:ft,isSpecCompliantForm:function(e){return!!(e&&tt(e.append)&&"FormData"===e[We]&&e[Ve])},toJSONObject:e=>{const t=new Array(10),r=(e,a)=>{if(at(e)){if(t.indexOf(e)>=0)return;if(Ze(e))return e;if(!("toJSON"in e)){t[a]=e;const n=$e(e)?[]:{};return pt(e,(e,t)=>{const s=r(e,a+1);!Qe(s)&&(n[t]=s)}),t[a]=void 0,n}}return e};return r(e,0)},isAsyncFn:Nt,isThenable:e=>e&&(at(e)||tt(e))&&tt(e.then)&&tt(e.catch),setImmediate:_t,asap:St,isIterable:e=>null!=e&&tt(e[Ve])};function Et(e,t,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}Ct.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ct.toJSONObject(this.config),code:this.code,status:this.status}}});const Ot=Et.prototype,At={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{At[e]={value:e}}),Object.defineProperties(Et,At),Object.defineProperty(Ot,"isAxiosError",{value:!0}),Et.from=(e,t,r,a,n,s)=>{const i=Object.create(Ot);return Ct.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Et.call(i,e.message,t,r,a,n),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const Tt=Et;function Pt(e){return Ct.isPlainObject(e)||Ct.isArray(e)}function Lt(e){return Ct.endsWith(e,"[]")?e.slice(0,-2):e}function Rt(e,t,r){return e?e.concat(t).map(function(e,t){return e=Lt(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Mt=Ct.toFlatObject(Ct,{},null,function(e){return/^is[A-Z]/.test(e)});const Ft=function(e,t,r){if(!Ct.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(r=Ct.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ct.isUndefined(t[e])})).metaTokens,n=r.visitor||c,s=r.dots,i=r.indexes,l=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Ct.isSpecCompliantForm(t);if(!Ct.isFunction(n))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Ct.isDate(e))return e.toISOString();if(Ct.isBoolean(e))return e.toString();if(!l&&Ct.isBlob(e))throw new Tt("Blob is not supported. Use a Buffer instead.");return Ct.isArrayBuffer(e)||Ct.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let l=e;if(e&&!n&&"object"===typeof e)if(Ct.endsWith(r,"{}"))r=a?r:r.slice(0,-2),e=JSON.stringify(e);else if(Ct.isArray(e)&&function(e){return Ct.isArray(e)&&!e.some(Pt)}(e)||(Ct.isFileList(e)||Ct.endsWith(r,"[]"))&&(l=Ct.toArray(e)))return r=Lt(r),l.forEach(function(e,a){!Ct.isUndefined(e)&&null!==e&&t.append(!0===i?Rt([r],a,s):null===i?r:r+"[]",o(e))}),!1;return!!Pt(e)||(t.append(Rt(n,r,s),o(e)),!1)}const d=[],u=Object.assign(Mt,{defaultVisitor:c,convertValue:o,isVisitable:Pt});if(!Ct.isObject(e))throw new TypeError("data must be an object");return function e(r,a){if(!Ct.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+a.join("."));d.push(r),Ct.forEach(r,function(r,s){!0===(!(Ct.isUndefined(r)||null===r)&&n.call(t,r,Ct.isString(s)?s.trim():s,a,u))&&e(r,a?a.concat(s):[s])}),d.pop()}}(e),t};function Dt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function It(e,t){this._pairs=[],e&&Ft(e,this,t)}const Ut=It.prototype;Ut.append=function(e,t){this._pairs.push([e,t])},Ut.toString=function(e){const t=e?function(t){return e.call(this,t,Dt)}:Dt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const qt=It;function Bt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zt(e,t,r){if(!t)return e;const a=r&&r.encode||Bt;Ct.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let s;if(s=n?n(t,r):Ct.isURLSearchParams(t)?t.toString():new qt(t,r).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Ht=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ct.forEach(this.handlers,function(t){null!==t&&e(t)})}},Vt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:qt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Kt="undefined"!==typeof window&&"undefined"!==typeof document,Gt="object"===typeof navigator&&navigator||void 0,Jt=Kt&&(!Gt||["ReactNative","NativeScript","NS"].indexOf(Gt.product)<0),Yt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,$t=Kt&&window.location.href||"http://localhost",Qt=qe(qe({},e),Wt);const Zt=function(e){function t(e,r,a,n){let s=e[n++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),l=n>=e.length;if(s=!s&&Ct.isArray(a)?a.length:s,l)return Ct.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!i;a[s]&&Ct.isObject(a[s])||(a[s]=[]);return t(e,r,a[s],n)&&Ct.isArray(a[s])&&(a[s]=function(e){const t={},r=Object.keys(e);let a;const n=r.length;let s;for(a=0;a<n;a++)s=r[a],t[s]=e[s];return t}(a[s])),!i}if(Ct.isFormData(e)&&Ct.isFunction(e.entries)){const r={};return Ct.forEachEntry(e,(e,a)=>{t(function(e){return Ct.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,r,0)}),r}return null};const Xt={transitional:Vt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,n=Ct.isObject(e);n&&Ct.isHTMLForm(e)&&(e=new FormData(e));if(Ct.isFormData(e))return a?JSON.stringify(Zt(e)):e;if(Ct.isArrayBuffer(e)||Ct.isBuffer(e)||Ct.isStream(e)||Ct.isFile(e)||Ct.isBlob(e)||Ct.isReadableStream(e))return e;if(Ct.isArrayBufferView(e))return e.buffer;if(Ct.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ft(e,new Qt.classes.URLSearchParams,qe({visitor:function(e,t,r,a){return Qt.isNode&&Ct.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Ct.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ft(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,r){if(Ct.isString(e))try{return(t||JSON.parse)(e),Ct.trim(e)}catch(Ol){if("SyntaxError"!==Ol.name)throw Ol}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Xt.transitional,r=t&&t.forcedJSONParsing,a="json"===this.responseType;if(Ct.isResponse(e)||Ct.isReadableStream(e))return e;if(e&&Ct.isString(e)&&(r&&!this.responseType||a)){const r=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(Ol){if(r){if("SyntaxError"===Ol.name)throw Tt.from(Ol,Tt.ERR_BAD_RESPONSE,this,null,this.response);throw Ol}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ct.forEach(["delete","get","head","post","put","patch"],e=>{Xt.headers[e]={}});const er=Xt,tr=Ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rr=Symbol("internals");function ar(e){return e&&String(e).trim().toLowerCase()}function nr(e){return!1===e||null==e?e:Ct.isArray(e)?e.map(nr):String(e)}function sr(e,t,r,a,n){return Ct.isFunction(a)?a.call(this,t,r):(n&&(t=r),Ct.isString(t)?Ct.isString(a)?-1!==t.indexOf(a):Ct.isRegExp(a)?a.test(t):void 0:void 0)}class ir{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function n(e,t,r){const n=ar(t);if(!n)throw new Error("header name must be a non-empty string");const s=Ct.findKey(a,n);(!s||void 0===a[s]||!0===r||void 0===r&&!1!==a[s])&&(a[s||t]=nr(e))}const s=(e,t)=>Ct.forEach(e,(e,r)=>n(e,r,t));if(Ct.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Ct.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,a,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),r=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!r||t[r]&&tr[r]||("set-cookie"===r?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t})(e),t);else if(Ct.isObject(e)&&Ct.isIterable(e)){let r,a,n={};for(const t of e){if(!Ct.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(r=n[a])?Ct.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(n,t)}else null!=e&&n(t,e,r);return this}get(e,t){if(e=ar(e)){const r=Ct.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}(e);if(Ct.isFunction(t))return t.call(this,e,r);if(Ct.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ar(e)){const r=Ct.findKey(this,e);return!(!r||void 0===this[r]||t&&!sr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let a=!1;function n(e){if(e=ar(e)){const n=Ct.findKey(r,e);!n||t&&!sr(0,r[n],n,t)||(delete r[n],a=!0)}}return Ct.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const n=t[r];e&&!sr(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,r={};return Ct.forEach(this,(a,n)=>{const s=Ct.findKey(r,n);if(s)return t[s]=nr(a),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(n):String(n).trim();i!==n&&delete t[n],t[i]=nr(a),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ct.forEach(this,(r,a)=>{null!=r&&!1!==r&&(t[a]=e&&Ct.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[rr]=this[rr]={accessors:{}}).accessors,r=this.prototype;function a(e){const a=ar(e);t[a]||(!function(e,t){const r=Ct.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(e,r,n){return this[a].call(this,t,e,r,n)},configurable:!0})})}(r,e),t[a]=!0)}return Ct.isArray(e)?e.forEach(a):a(e),this}}ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ct.reduceDescriptors(ir.prototype,(e,t)=>{let{value:r}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[a]=e}}}),Ct.freezeMethods(ir);const lr=ir;function or(e,t){const r=this||er,a=t||r,n=lr.from(a.headers);let s=a.data;return Ct.forEach(e,function(e){s=e.call(r,s,n.normalize(),t?t.status:void 0)}),n.normalize(),s}function cr(e){return!(!e||!e.__CANCEL__)}function dr(e,t,r){Tt.call(this,null==e?"canceled":e,Tt.ERR_CANCELED,t,r),this.name="CanceledError"}Ct.inherits(dr,Tt,{__CANCEL__:!0});const ur=dr;function hr(e,t,r){const a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new Tt("Request failed with status code "+r.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const mr=function(e,t){e=e||10;const r=new Array(e),a=new Array(e);let n,s=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=a[i];n||(n=o),r[s]=l,a[s]=o;let d=i,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),o-n<t)return;const h=c&&o-c;return h?Math.round(1e3*u/h):void 0}};const pr=function(e,t){let r,a,n=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=s,r=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=s?i(o,e):(r=o,a||(a=setTimeout(()=>{a=null,i(r)},s-t)))},()=>r&&i(r)]},gr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const n=mr(50,250);return pr(r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,l=s-a,o=n(l);a=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&s<=i?(i-s)/o:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},xr=(e,t)=>{const r=null!=e;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},fr=e=>function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Ct.asap(()=>e(...r))},yr=Qt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Qt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,br=Qt.hasStandardBrowserEnv?{write(e,t,r,a,n,s){const i=[e+"="+encodeURIComponent(t)];Ct.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Ct.isString(a)&&i.push("path="+a),Ct.isString(n)&&i.push("domain="+n),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function vr(e,t,r){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jr=e=>e instanceof lr?qe({},e):e;function wr(e,t){t=t||{};const r={};function a(e,t,r,a){return Ct.isPlainObject(e)&&Ct.isPlainObject(t)?Ct.merge.call({caseless:a},e,t):Ct.isPlainObject(t)?Ct.merge({},t):Ct.isArray(t)?t.slice():t}function n(e,t,r,n){return Ct.isUndefined(t)?Ct.isUndefined(e)?void 0:a(void 0,e,0,n):a(e,t,0,n)}function s(e,t){if(!Ct.isUndefined(t))return a(void 0,t)}function i(e,t){return Ct.isUndefined(t)?Ct.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function l(r,n,s){return s in t?a(r,n):s in e?a(void 0,r):void 0}const o={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,r)=>n(jr(e),jr(t),0,!0)};return Ct.forEach(Object.keys(qe(qe({},e),t)),function(a){const s=o[a]||n,i=s(e[a],t[a],a);Ct.isUndefined(i)&&s!==l||(r[a]=i)}),r}const kr=e=>{const t=wr({},e);let r,{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=lr.from(l),t.url=zt(vr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ct.isFormData(a))if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(r=l.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(Qt.hasStandardBrowserEnv&&(n&&Ct.isFunction(n)&&(n=n(t)),n||!1!==n&&yr(t.url))){const e=s&&i&&br.read(i);e&&l.set(s,e)}return t},Nr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const a=kr(e);let n=a.data;const s=lr.from(a.headers).normalize();let i,l,o,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let g=new XMLHttpRequest;function x(){if(!g)return;const a=lr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());hr(function(e){t(e),p()},function(e){r(e),p()},{data:u&&"text"!==u&&"json"!==u?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:a,config:e,request:g}),g=null}g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(r(new Tt("Request aborted",Tt.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new Tt("Network Error",Tt.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||Vt;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),r(new Tt(t,n.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,e,g)),g=null},void 0===n&&s.setContentType(null),"setRequestHeader"in g&&Ct.forEach(s.toJSON(),function(e,t){g.setRequestHeader(t,e)}),Ct.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),u&&"json"!==u&&(g.responseType=a.responseType),m&&([o,d]=gr(m,!0),g.addEventListener("progress",o)),h&&g.upload&&([l,c]=gr(h),g.upload.addEventListener("progress",l),g.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{g&&(r(!t||t.type?new ur(null,e,g):t),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);f&&-1===Qt.protocols.indexOf(f)?r(new Tt("Unsupported protocol "+f+":",Tt.ERR_BAD_REQUEST,e)):g.send(n||null)})},_r=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,a=new AbortController;const n=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof Tt?t:new ur(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,n(new Tt("timeout ".concat(t," of ms exceeded"),Tt.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:l}=a;return l.unsubscribe=()=>Ct.asap(i),l}};function Sr(e,t){this.v=e,this.k=t}function Cr(e){return function(){return new Er(e.apply(this,arguments))}}function Er(e){var t,r;function a(t,r){try{var s=e[t](r),i=s.value,l=i instanceof Sr;Promise.resolve(l?i.v:i).then(function(r){if(l){var o="return"===t?"return":"next";if(!i.k||r.done)return a(o,r);r=e[o](r).value}n(s.done?"return":"normal",r)},function(e){a("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(s,i){var l={key:e,arg:n,resolve:s,reject:i,next:null};r?r=r.next=l:(t=r=l,a(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function Or(e){return new Sr(e,0)}function Ar(e){var t={},r=!1;function a(t,a){return r=!0,a=new Promise(function(r){r(e[t](a))}),{done:!1,value:new Sr(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):a("return",e)}),t}function Tr(e){var t,r,a,n=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,a=Symbol.iterator);n--;){if(r&&null!=(t=e[r]))return t.call(e);if(a&&null!=(t=e[a]))return new Pr(t.call(e));r="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Pr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Pr=function(e){this.s=e,this.n=e.next},Pr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Pr(e)}Er.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Er.prototype.next=function(e){return this._invoke("next",e)},Er.prototype.throw=function(e){return this._invoke("throw",e)},Er.prototype.return=function(e){return this._invoke("return",e)};const Lr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let a,n=0;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Rr=function(){var e=Cr(function*(e,t){var r,a=!1,n=!1;try{for(var s,i=Tr(Mr(e));a=!(s=yield Or(i.next())).done;a=!1){const e=s.value;yield*Ar(Tr(Lr(e,t)))}}catch(l){n=!0,r=l}finally{try{a&&null!=i.return&&(yield Or(i.return()))}finally{if(n)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Mr=function(){var e=Cr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Ar(Tr(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Or(t.read());if(e)break;yield r}}finally{yield Or(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Fr=(e,t,r,a)=>{const n=Rr(e,t);let s,i=0,l=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return l(),void e.close();let s=a.byteLength;if(r){let e=i+=s;r(e)}e.enqueue(new Uint8Array(a))}catch(t){throw l(t),t}},cancel:e=>(l(e),n.return())},{highWaterMark:2})},Dr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ir=Dr&&"function"===typeof ReadableStream,Ur=Dr&&("function"===typeof TextEncoder?(qr=new TextEncoder,e=>qr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var qr;const Br=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return!!e(...r)}catch(Ol){return!1}},zr=Ir&&Br(()=>{let e=!1;const t=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Hr=Ir&&Br(()=>Ct.isReadableStream(new Response("").body)),Vr={stream:Hr&&(e=>e.body)};var Wr;Dr&&(Wr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Vr[e]&&(Vr[e]=Ct.isFunction(Wr[e])?t=>t[e]():(t,r)=>{throw new Tt("Response type '".concat(e,"' is not supported"),Tt.ERR_NOT_SUPPORT,r)})}));const Kr=async(e,t)=>{const r=Ct.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Ct.isBlob(e))return e.size;if(Ct.isSpecCompliantForm(e)){const t=new Request(Qt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ct.isArrayBufferView(e)||Ct.isArrayBuffer(e)?e.byteLength:(Ct.isURLSearchParams(e)&&(e+=""),Ct.isString(e)?(await Ur(e)).byteLength:void 0)})(t):r},Gr=Dr&&(async e=>{let{url:t,method:r,data:a,signal:n,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=kr(e);c=c?(c+"").toLowerCase():"text";let m,p=_r([n,s&&s.toAbortSignal()],i);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(o&&zr&&"get"!==r&&"head"!==r&&0!==(x=await Kr(d,a))){let e,r=new Request(t,{method:"POST",body:a,duplex:"half"});if(Ct.isFormData(a)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=xr(x,gr(fr(o)));a=Fr(r.body,65536,e,t)}}Ct.isString(u)||(u=u?"include":"omit");const n="credentials"in Request.prototype;m=new Request(t,qe(qe({},h),{},{signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:n?u:void 0}));let s=await fetch(m,h);const i=Hr&&("stream"===c||"response"===c);if(Hr&&(l||i&&g)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=Ct.toFiniteNumber(s.headers.get("content-length")),[r,a]=l&&xr(t,gr(fr(l),!0))||[];s=new Response(Fr(s.body,65536,r,()=>{a&&a(),g&&g()}),e)}c=c||"text";let f=await Vr[Ct.findKey(Vr,c)||"text"](s,e);return!i&&g&&g(),await new Promise((t,r)=>{hr(t,r,{data:f,headers:lr.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:m})})}catch(f){if(g&&g(),f&&"TypeError"===f.name&&/Load failed|fetch/i.test(f.message))throw Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,e,m),{cause:f.cause||f});throw Tt.from(f,f&&f.code,e,m)}}),Jr={http:null,xhr:Nr,fetch:Gr};Ct.forEach(Jr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ol){}Object.defineProperty(e,"adapterName",{value:t})}});const Yr=e=>"- ".concat(e),$r=e=>Ct.isFunction(e)||null===e||!1===e,Qr=e=>{e=Ct.isArray(e)?e:[e];const{length:t}=e;let r,a;const n={};for(let s=0;s<t;s++){let t;if(r=e[s],a=r,!$r(r)&&(a=Jr[(t=String(r)).toLowerCase()],void 0===a))throw new Tt("Unknown adapter '".concat(t,"'"));if(a)break;n[t||"#"+s]=a}if(!a){const e=Object.entries(n).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let r=t?e.length>1?"since :\n"+e.map(Yr).join("\n"):" "+Yr(e[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return a};function Zr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ur(null,e)}function Xr(e){Zr(e),e.headers=lr.from(e.headers),e.data=or.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Qr(e.adapter||er.adapter)(e).then(function(t){return Zr(e),t.data=or.call(e,e.transformResponse,t),t.headers=lr.from(t.headers),t},function(t){return cr(t)||(Zr(e),t&&t.response&&(t.response.data=or.call(e,e.transformResponse,t.response),t.response.headers=lr.from(t.response.headers))),Promise.reject(t)})}const ea="1.11.0",ta={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ta[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ra={};ta.transitional=function(e,t,r){function a(e,t){return"[Axios v"+ea+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,s)=>{if(!1===e)throw new Tt(a(n," has been removed"+(t?" in "+t:"")),Tt.ERR_DEPRECATED);return t&&!ra[n]&&(ra[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},ta.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const aa={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const s=a[n],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new Tt("option "+s+" must be "+r,Tt.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Tt("Unknown option "+s,Tt.ERR_BAD_OPTION)}},validators:ta},na=aa.validators;class sa{constructor(e){this.defaults=e||{},this.interceptors={request:new Ht,response:new Ht}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Ol){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=wr(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:n}=t;void 0!==r&&aa.assertOptions(r,{silentJSONParsing:na.transitional(na.boolean),forcedJSONParsing:na.transitional(na.boolean),clarifyTimeoutError:na.transitional(na.boolean)},!1),null!=a&&(Ct.isFunction(a)?t.paramsSerializer={serialize:a}:aa.assertOptions(a,{encode:na.function,serialize:na.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),aa.assertOptions(t,{baseUrl:na.spelling("baseURL"),withXsrfToken:na.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=n&&Ct.merge(n.common,n[t.method]);n&&Ct.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=lr.concat(s,n);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[Xr.bind(this),void 0];for(e.unshift(...i),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Xr.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return zt(vr((e=wr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ct.forEach(["delete","get","head","options"],function(e){sa.prototype[e]=function(t,r){return this.request(wr(r||{},{method:e,url:t,data:(r||{}).data}))}}),Ct.forEach(["post","put","patch"],function(e){function t(t){return function(r,a,n){return this.request(wr(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}sa.prototype[e]=t(),sa.prototype[e+"Form"]=t(!0)});const ia=sa;class la{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{r.subscribe(e),t=e}).then(e);return a.cancel=function(){r.unsubscribe(t)},a},e(function(e,a,n){r.reason||(r.reason=new ur(e,a,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new la(function(t){e=t}),cancel:e}}}const oa=la;const ca={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ca).forEach(e=>{let[t,r]=e;ca[r]=t});const da=ca;const ua=function e(t){const r=new ia(t),a=Be(ia.prototype.request,r);return Ct.extend(a,ia.prototype,r,{allOwnKeys:!0}),Ct.extend(a,r,null,{allOwnKeys:!0}),a.create=function(r){return e(wr(t,r))},a}(er);ua.Axios=ia,ua.CanceledError=ur,ua.CancelToken=oa,ua.isCancel=cr,ua.VERSION=ea,ua.toFormData=Ft,ua.AxiosError=Tt,ua.Cancel=ua.CanceledError,ua.all=function(e){return Promise.all(e)},ua.spread=function(e){return function(t){return e.apply(null,t)}},ua.isAxiosError=function(e){return Ct.isObject(e)&&!0===e.isAxiosError},ua.mergeConfig=wr,ua.AxiosHeaders=lr,ua.formToJSON=e=>Zt(Ct.isHTMLForm(e)?new FormData(e):e),ua.getAdapter=Qr,ua.HttpStatusCode=da,ua.default=ua;const ha=ua,ma={development:{BACKEND_URL:"https://cataloro-upgrade.preview.emergentagent.com",FRONTEND_URL:"https://cataloro-upgrade.preview.emergentagent.com"},production:{BACKEND_URL:"http://217.154.0.82/api",FRONTEND_URL:"http://217.154.0.82"}},pa=ma.development,ga={API_BASE_URL:"".concat(pa.BACKEND_URL,"/api")},xa={AUTH:{LOGIN:"".concat(pa.BACKEND_URL,"/api/auth/login"),REGISTER:"".concat(pa.BACKEND_URL,"/api/auth/register"),LOGOUT:"".concat(pa.BACKEND_URL,"/api/auth/logout"),PROFILE:"".concat(pa.BACKEND_URL,"/api/auth/profile"),REFRESH:"".concat(pa.BACKEND_URL,"/api/auth/refresh")},MARKETPLACE:{LISTINGS:"".concat(pa.BACKEND_URL,"/api/listings"),BROWSE:"".concat(pa.BACKEND_URL,"/api/marketplace/browse"),FAVORITES:"".concat(pa.BACKEND_URL,"/api/marketplace/favorites"),SEARCH:"".concat(pa.BACKEND_URL,"/api/marketplace/search")},USER:{MY_LISTINGS:"".concat(pa.BACKEND_URL,"/api/user/my-listings/{user_id}"),MY_DEALS:"".concat(pa.BACKEND_URL,"/api/user/my-deals/{user_id}"),NOTIFICATIONS:"".concat(pa.BACKEND_URL,"/api/user/notifications/{user_id}"),PROFILE:"".concat(pa.BACKEND_URL,"/api/user/profile")},ADMIN:{DASHBOARD:"".concat(pa.BACKEND_URL,"/api/admin/dashboard"),USERS:"".concat(pa.BACKEND_URL,"/api/admin/users"),SETTINGS:"".concat(pa.BACKEND_URL,"/api/admin/settings"),KPIS:"".concat(pa.BACKEND_URL,"/api/admin/kpis"),LOGO:"".concat(pa.BACKEND_URL,"/api/admin/logo")}},fa={HOME:"/",BROWSE:"/browse",MY_LISTINGS:"/my-listings",TENDERS:"/tenders",MY_TENDERS:"/my-tenders",ADMIN_PANEL:"/admin",FAVORITES:"/favorites",NOTIFICATIONS:"/notifications",PROFILE:"/profile",LOGIN:"/login",REGISTER:"/register",INFO:"/info"},ya={APP_NAME:"Cataloro",LOGO_URL:"/assets/logo.png",DEFAULT_AVATAR:"/assets/default-avatar.png",PAGINATION_SIZE:12,NOTIFICATION_TIMEOUT:5e3},ba={USER:"user",ADMIN:"admin",MODERATOR:"moderator"};const va=new class{constructor(){ha.defaults.timeout=1e4,ha.interceptors.request.use(e=>{const t=localStorage.getItem("cataloro_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),ha.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),window.location.href="/login"),Promise.reject(e)})}async login(e,t){try{return(await ha.post(xa.AUTH.LOGIN,{email:e,password:t})).data}catch(n){var r,a;throw new Error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Login failed")}}async register(e){try{return(await ha.post(xa.AUTH.REGISTER,e)).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Registration failed")}}async logout(){try{await ha.post(xa.AUTH.LOGOUT)}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}}async getProfile(e){try{return(await ha.get(xa.AUTH.PROFILE.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch profile")}}async refreshToken(){try{const e=await ha.post(xa.AUTH.REFRESH),{token:t}=e.data;return localStorage.setItem("cataloro_token",t),t}catch(e){throw new Error("Token refresh failed")}}isAuthenticated(){return!!localStorage.getItem("cataloro_token")}getCurrentUser(){try{const e=localStorage.getItem("cataloro_user");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing user data:",e),null}}getToken(){return localStorage.getItem("cataloro_token")}};var ja=r(579);const wa={user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},ka="LOGIN_START",Na="LOGIN_SUCCESS",_a="LOGIN_FAILURE",Sa="LOGOUT",Ca="SET_USER",Ea="CLEAR_ERROR";function Oa(e,t){switch(t.type){case ka:return qe(qe({},e),{},{isLoading:!0,error:null});case Na:return qe(qe({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null});case _a:return qe(qe({},e),{},{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t.payload});case Sa:return qe({},wa);case Ca:return qe(qe({},e),{},{user:t.payload});case Ea:return qe(qe({},e),{},{error:null});default:return e}}const Aa=(0,a.createContext)();function Ta(e){let{children:t}=e;const[r,n]=(0,a.useReducer)(Oa,wa);(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_token"),t=localStorage.getItem("cataloro_user");if(e&&t)try{n({type:Na,payload:{token:e,user:JSON.parse(t)}})}catch(r){console.error("Error parsing stored user data:",r),localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}},[]);const s=async(e,t)=>{n({type:ka});try{const r=await va.login(e,t);return localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),n({type:Na,payload:r}),r}catch(r){throw n({type:_a,payload:r.message}),r}},i=()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.role)===ba.ADMIN},l=qe(qe({},r),{},{login:s,register:async e=>{n({type:ka});try{const t=await va.register(e);return t.user_id?await s(e.email,e.password):t}catch(t){throw n({type:_a,payload:t.message}),t}},logout:()=>{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),n({type:Sa})},clearError:()=>{n({type:Ea})},updateUser:e=>{localStorage.setItem("cataloro_user",JSON.stringify(e)),n({type:Ca,payload:e})},isAdmin:i,isModerator:()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.role)===ba.MODERATOR||i()},hasPermission:e=>{if(!r.user)return!1;const t={[ba.USER]:1,[ba.MODERATOR]:2,[ba.ADMIN]:3};return t[r.user.role]>=t[e]}});return(0,ja.jsx)(Aa.Provider,{value:l,children:t})}function Pa(){const e=(0,a.useContext)(Aa);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const La=new class{async getUserNotifications(e){try{return(await ha.get(xa.USER.NOTIFICATIONS.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch notifications")}}async markAsRead(e){try{await ha.put("".concat(xa.USER.NOTIFICATIONS,"/").concat(e,"/read"))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to mark notification as read")}}async markAllAsRead(e){try{await ha.put("".concat(xa.USER.NOTIFICATIONS.replace("{user_id}",e),"/read-all"))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to mark all notifications as read")}}async deleteNotification(e){try{await ha.delete("".concat(xa.USER.NOTIFICATIONS,"/").concat(e))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete notification")}}},Ra={notifications:[],unreadCount:0,isLoading:!1,error:null},Ma="FETCH_START",Fa="FETCH_SUCCESS",Da="FETCH_FAILURE",Ia="MARK_AS_READ",Ua="MARK_ALL_AS_READ",qa="ADD_NOTIFICATION",Ba="REMOVE_NOTIFICATION";function za(e,t){switch(t.type){case Ma:return qe(qe({},e),{},{isLoading:!0,error:null});case Fa:const r=t.payload,a=r.filter(e=>!e.is_read).length;return qe(qe({},e),{},{notifications:r,unreadCount:a,isLoading:!1,error:null});case Da:return qe(qe({},e),{},{isLoading:!1,error:t.payload});case Ia:const n=e.notifications.map(e=>e.id===t.payload?qe(qe({},e),{},{is_read:!0}):e);return qe(qe({},e),{},{notifications:n,unreadCount:Math.max(0,e.unreadCount-1)});case Ua:return qe(qe({},e),{},{notifications:e.notifications.map(e=>qe(qe({},e),{},{is_read:!0})),unreadCount:0});case qa:return qe(qe({},e),{},{notifications:[t.payload,...e.notifications],unreadCount:e.unreadCount+1});case Ba:const s=e.notifications.filter(e=>e.id!==t.payload);return qe(qe({},e),{},{notifications:s,unreadCount:s.filter(e=>!e.is_read).length});default:return e}}const Ha=(0,a.createContext)();function Va(e){let{children:t}=e;const[r,n]=(0,a.useReducer)(za,Ra),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n({type:qa,payload:qe({id:Date.now().toString(),user_id:t,created_at:(new Date).toISOString(),is_read:!1},e)})},i=e=>{n({type:Ba,payload:e})},l=qe(qe({},r),{},{fetchNotifications:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){n({type:Ma});try{const t=await La.getUserNotifications(e);n({type:Fa,payload:t})}catch(t){n({type:Da,payload:t.message})}}},markAsRead:async e=>{try{await La.markAsRead(e),n({type:Ia,payload:e})}catch(t){console.error("Error marking notification as read:",t)}},markAllAsRead:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)try{await La.markAllAsRead(e),n({type:Ua})}catch(t){console.error("Error marking all notifications as read:",t)}},addNotification:s,removeNotification:i,showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";s({title:t.charAt(0).toUpperCase()+t.slice(1),message:e,type:t}),setTimeout(()=>{i(Date.now().toString())},5e3)}});return(0,ja.jsx)(Ha.Provider,{value:l,children:t})}function Wa(){const e=(0,a.useContext)(Ha);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e}const Ka=new class{async browseListings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e);return(await ha.get("".concat(ga.API_BASE_URL,"/marketplace/browse?").concat(t))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch listings")}}async getMyListings(e){try{return(await ha.get(xa.USER.MY_LISTINGS.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch your listings")}}async getMyDeals(e){try{return(await ha.get(xa.USER.MY_DEALS.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch your deals")}}async createListing(e){try{return(await ha.post("".concat(ga.API_BASE_URL,"/listings"),e)).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to create listing")}}async updateListing(e,t){try{return(await ha.put("".concat(xa.MARKETPLACE.LISTINGS,"/").concat(e),t)).data}catch(n){var r,a;throw new Error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to update listing")}}async deleteListing(e){try{await ha.delete("".concat(xa.MARKETPLACE.LISTINGS,"/").concat(e))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete listing")}}async searchListings(e){try{return(await ha.get("".concat(xa.MARKETPLACE.SEARCH,"?q=").concat(encodeURIComponent(e)))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Search failed")}}};const Ga=new class{constructor(){this.baseURL=ga.API_BASE_URL}async getUserFavorites(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/favorites"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching favorites:",t),t}}async addToFavorites(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/favorites/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error adding to favorites:",r),r}}async removeFromFavorites(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/favorites/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error removing from favorites:",r),r}}async getUserCart(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/cart"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching cart:",t),t}}async addToCart(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/cart"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error adding to cart:",r),r}}async updateCartItem(e,t,r){try{const a=await fetch("".concat(this.baseURL,"/user/").concat(e,"/cart/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(a){throw console.error("Error updating cart item:",a),a}}async removeFromCart(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/cart/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error removing from cart:",r),r}}async getUserMessages(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching messages:",t),t}}async sendMessage(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error sending message:",r),r}}async markMessageRead(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages/").concat(t,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error marking message as read:",r),r}}async getUserNotifications(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching notifications:",t),t}}async createNotification(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error creating notification:",r),r}}async markNotificationRead(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications/").concat(t,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error marking notification as read:",r),r}}async searchUsers(e){try{const t=await fetch("".concat(this.baseURL,"/users/search?q=").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error searching users:",t),t}}},Ja={cartItems:[],cartCount:0,cartTotal:0,favorites:[],favoriteCount:0,searchQuery:"",activeFilters:{type:"all",priceFrom:0,priceTo:1e4,rating:0,location:"all"},allProducts:[],filteredProducts:[],categories:[],recentlyViewed:[],notifications:[],messages:[],viewMode:"grid",sortBy:"newest",isLoading:!1,appliedPromo:null,availablePromos:[{code:"SAVE10",discount:.1,description:"10% off your order"},{code:"FREESHIP",shippingDiscount:!0,description:"Free shipping"},{code:"WELCOME20",discount:.2,description:"20% off first order",minAmount:100}]},Ya="ADD_TO_CART",$a="REMOVE_FROM_CART",Qa="UPDATE_QUANTITY",Za="CLEAR_CART",Xa="SET_CART",en="APPLY_PROMO",tn="REMOVE_PROMO",rn="ADD_TO_FAVORITES",an="REMOVE_FROM_FAVORITES",nn="SET_FAVORITES",sn="SET_PRODUCTS",ln="SET_FILTERED_PRODUCTS",on="SET_SEARCH_QUERY",cn="SET_FILTERS",dn="SET_SORT_BY",un="SET_VIEW_MODE",hn="SET_LOADING",mn="ADD_NOTIFICATION",pn="REMOVE_NOTIFICATION",gn="ADD_TO_RECENTLY_VIEWED";function xn(e,t){switch(t.type){case Ya:{let r;if(e.cartItems.find(e=>e.id===t.payload.id))return e;r=[...e.cartItems,qe(qe({},t.payload),{},{quantity:1})];const a=r.reduce((e,t)=>e+t.quantity,0),n=r.reduce((e,t)=>e+t.price*t.quantity,0);return qe(qe({},e),{},{cartItems:r,cartCount:a,cartTotal:n})}case $a:{const r=e.cartItems.filter(e=>e.id!==t.payload),a=r.reduce((e,t)=>e+t.quantity,0),n=r.reduce((e,t)=>e+t.price*t.quantity,0);return qe(qe({},e),{},{cartItems:r,cartCount:a,cartTotal:n})}case Qa:{const{id:r,quantity:a}=t.payload;if(a<=0)return xn(e,{type:$a,payload:r});const n=e.cartItems.map(e=>e.id===r?qe(qe({},e),{},{quantity:a}):e),s=n.reduce((e,t)=>e+t.quantity,0),i=n.reduce((e,t)=>e+t.price*t.quantity,0);return qe(qe({},e),{},{cartItems:n,cartCount:s,cartTotal:i})}case Za:return qe(qe({},e),{},{cartItems:[],cartCount:0,cartTotal:0,appliedPromo:null});case rn:return e.favorites.some(e=>e.id===t.payload.id)?e:qe(qe({},e),{},{favorites:[...e.favorites,t.payload],favoriteCount:e.favoriteCount+1});case an:return qe(qe({},e),{},{favorites:e.favorites.filter(e=>e.id!==t.payload),favoriteCount:Math.max(0,e.favoriteCount-1)});case nn:return qe(qe({},e),{},{favorites:t.payload,favoriteCount:t.payload.length});case Xa:return qe(qe({},e),{},{cartItems:t.payload,cartCount:t.payload.length,cartTotal:t.payload.reduce((e,t)=>e+t.price*t.quantity,0)});case sn:{const r=[...t.payload].sort((t,r)=>{switch(e.sortBy){case"price_low":return t.price-r.price;case"price_high":return r.price-t.price;case"rating":return(r.rating||0)-(t.rating||0);case"popular":return(r.views||0)-(t.views||0);default:return new Date(r.created_at||r.createdAt)-new Date(t.created_at||t.createdAt)}});return qe(qe({},e),{},{allProducts:t.payload,filteredProducts:r})}case ln:return qe(qe({},e),{},{filteredProducts:t.payload});case on:return qe(qe({},e),{},{searchQuery:t.payload});case cn:return qe(qe({},e),{},{activeFilters:qe(qe({},e.activeFilters),t.payload)});case dn:return qe(qe({},e),{},{sortBy:t.payload});case un:return qe(qe({},e),{},{viewMode:t.payload});case en:{const r=e.availablePromos.find(e=>e.code===t.payload);return qe(qe({},e),{},{appliedPromo:r||null})}case tn:return qe(qe({},e),{},{appliedPromo:null});case mn:return qe(qe({},e),{},{notifications:[t.payload,...e.notifications]});case pn:return qe(qe({},e),{},{notifications:e.notifications.filter(e=>e.id!==t.payload)});case gn:{const r=e.recentlyViewed.filter(e=>e.id!==t.payload.id);return qe(qe({},e),{},{recentlyViewed:[t.payload,...r].slice(0,10)})}case hn:return qe(qe({},e),{},{isLoading:t.payload});default:return e}}const fn=(0,a.createContext)();function yn(e){let{children:t}=e;const[r,n]=(0,a.useReducer)(xn,Ja);(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_cart"),t=localStorage.getItem("cataloro_favorites");if(e)try{JSON.parse(e).forEach(e=>{n({type:Ya,payload:e})})}catch(r){console.error("Error loading cart from storage:",r)}if(t)try{JSON.parse(t).forEach(e=>{n({type:rn,payload:e})})}catch(r){console.error("Error loading favorites from storage:",r)}s()},[]),(0,a.useEffect)(()=>{localStorage.setItem("cataloro_cart",JSON.stringify(r.cartItems))},[r.cartItems]),(0,a.useEffect)(()=>{localStorage.setItem("cataloro_favorites",JSON.stringify(r.favorites))},[r.favorites]);const s=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n({type:hn,payload:!0});try{const t=e||r.activeFilters,a={};t.type&&"all"!==t.type&&(a.type=t.type),t.priceFrom>0&&(a.price_from=t.priceFrom),t.priceTo<1e4&&(a.price_to=t.priceTo);const s=await Ka.browseListings(a);let i;if(console.log("\u2705 Loaded real listings from API with filters:",a,s),!Array.isArray(s))throw new Error("Invalid API response format: expected array");i=s,console.log("\ud83d\udccb Processing listings:",i.length),i.length>0&&(console.log("\ud83d\udd0d First listing raw data:",JSON.stringify(i[0],null,2)),console.log("\ud83d\udd0d First listing seller data:",i[0].seller));const l=i.map((e,t)=>{var r,a,n,s,i,l,o,c;const d={id:e.id,title:e.title,description:e.description,price:parseFloat(e.price)||0,originalPrice:1.1*(parseFloat(e.price)||0),category:e.category,condition:e.condition,location:e.location||"Unknown",images:e.images||[],bid_info:e.bid_info||{has_bids:!1,total_bids:0,highest_bid:parseFloat(e.price)||0,highest_bidder_id:""},time_info:e.time_info||{has_time_limit:!1,is_expired:!1,time_remaining_seconds:null,expires_at:null,status_text:null},seller:qe(qe({},e.seller),{},{name:(null===(r=e.seller)||void 0===r?void 0:r.name)||"Unknown Seller",username:(null===(a=e.seller)||void 0===a?void 0:a.username)||"Unknown",email:(null===(n=e.seller)||void 0===n?void 0:n.email)||"",is_business:(null===(s=e.seller)||void 0===s?void 0:s.is_business)||!1,business_name:(null===(i=e.seller)||void 0===i?void 0:i.business_name)||"",verified:(null===(l=e.seller)||void 0===l?void 0:l.verified)||!1,location:(null===(o=e.seller)||void 0===o?void 0:o.location)||"Unknown"}),address:e.address||{},created_at:e.created_at,updated_at:e.updated_at,rating:4.5,reviewCount:Math.floor(100*Math.random())+10,isHotDeal:Math.random()>.7,hasFastShipping:Math.random()>.6,verified:(null===(c=e.seller)||void 0===c?void 0:c.verified)||!1,inStock:!0,quantity:1,tags:e.tags||[],features:e.features||[]};return 0===t&&(console.log("\ud83d\udd04 First listing transformed:",JSON.stringify(d,null,2)),console.log("\ud83d\udd04 First listing seller after transform:",d.seller)),d});return n({type:sn,payload:l}),n({type:hn,payload:!1}),void console.log("\ud83c\udf89 Successfully loaded",l.length,"real listings from API")}catch(a){console.error("Failed to load listings from API:",a)}console.log("\u26a0\ufe0f Using demo data - no real listings found");const t=[{id:"1",title:"MacBook Pro 16-inch M3 Max",description:"Professional laptop with M3 Max chip, perfect for developers and creators. Includes original box and all accessories.",price:2499,originalPrice:2799,category:"Electronics",subcategory:"Laptops",seller:{name:"TechGuru123",username:"TechGuru123",email:"techguru123@example.com",rating:4.9,reviews:156,verified:!0,is_business:!1,location:"San Francisco, CA"},images:["https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500","https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?w=500","https://images.unsplash.com/photo-1585337701044-7305994ea6fb?w=500"],condition:"Like New",views:234,favorites:45,createdAt:(new Date).toISOString(),features:["M3 Max Chip","64GB RAM","2TB SSD","Space Gray","16-inch Display"],shipping:"Free shipping",estimatedDelivery:"2-3 business days",rating:4.8,reviewCount:156,tags:["Hot Deal","Fast Shipping","Professional"],inStock:!0,quantity:1},{id:"2",title:"Vintage Gibson Les Paul Standard 1959",description:"Authentic 1959 Gibson Les Paul in museum-quality condition. This is a collector's dream with incredible tone and playability.",price:45e3,originalPrice:55e3,category:"Music",subcategory:"Guitars",seller:{name:"VintageGuitars_Pro",username:"VintageGuitars_Pro",email:"vintage.guitars.pro@example.com",rating:4.9,reviews:89,verified:!0,is_business:!0,company_name:"Vintage Guitars Pro LLC",location:"Nashville, TN"},images:["https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=500","https://images.unsplash.com/photo-1564186763535-ebb21ef5277f?w=500","https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=500"],condition:"Excellent",views:1289,favorites:267,createdAt:new Date(Date.now()-864e5).toISOString(),features:["1959 Model","Original Case","Certificate of Authenticity","Museum Quality"],shipping:"Insured shipping - $150",estimatedDelivery:"3-5 business days",rating:4.9,reviewCount:89,tags:["Vintage","Authenticated","Collector Item"],inStock:!0,quantity:1},{id:"3",title:"Louis Vuitton Neverfull MM",description:"Authentic Louis Vuitton handbag in pristine condition. Perfect for daily use with elegant design.",price:1850,originalPrice:2200,category:"Fashion",subcategory:"Handbags",seller:{name:"LuxuryItems_NYC",username:"LuxuryItems_NYC",email:"luxury.items.nyc@example.com",rating:4.7,reviews:245,verified:!0,is_business:!0,company_name:"Luxury Items NYC Inc.",location:"New York, NY"},images:["https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=500","https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500"],condition:"Excellent",views:456,favorites:189,createdAt:new Date(Date.now()-1728e5).toISOString(),features:["Authentic","Dust Bag Included","Care Instructions","Serial Number"],shipping:"Express delivery - $25",estimatedDelivery:"1-2 business days",rating:4.6,reviewCount:245,tags:["Luxury","Authentic","Designer"],inStock:!0,quantity:1},{id:"4",title:"Gaming PC - RTX 4090 Build",description:"Ultimate gaming PC with RTX 4090, perfect for 4K gaming, streaming, and content creation.",price:4200,originalPrice:4800,category:"Electronics",subcategory:"Computers",seller:{name:"PCBuilder_Expert",rating:4.9,reviews:78,verified:!0,location:"Austin, TX"},images:["https://images.unsplash.com/photo-1587831990711-23ca6441447b?w=500"],condition:"New",views:698,favorites:212,createdAt:new Date(Date.now()-432e5).toISOString(),features:["RTX 4090","Intel i9-13900K","64GB RAM","Custom Cooling"],shipping:"Free shipping",estimatedDelivery:"3-5 business days",rating:5,reviewCount:78,tags:["Gaming","Custom Built","High Performance"],inStock:!0,quantity:1},{id:"5",title:"iPhone 15 Pro Max 1TB",description:"Latest iPhone 15 Pro Max in Natural Titanium with maximum storage capacity.",price:1599,category:"Electronics",subcategory:"Smartphones",seller:{name:"AppleStore_Certified",rating:4.8,reviews:324,verified:!0,location:"Cupertino, CA"},images:["https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=500"],condition:"New",views:1205,favorites:398,createdAt:new Date(Date.now()-216e5).toISOString(),features:["1TB Storage","Natural Titanium","Pro Camera System","A17 Pro Chip"],shipping:"Free shipping",estimatedDelivery:"1-2 business days",rating:4.8,reviewCount:324,tags:["Latest Model","Premium","Fast Shipping"],inStock:!0,quantity:1}];n({type:sn,payload:t})},i={addToCart:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r.cartItems.find(t=>t.id===e.id))o("".concat(e.title," is already in your cart"),"info");else try{t&&await Ga.addToCart(t,{item_id:e.id,quantity:1,price:e.price}),n({type:Ya,payload:e}),o("Added ".concat(e.title," to cart!"),"success")}catch(a){console.error("Error adding to cart:",a),n({type:Ya,payload:e}),o("Added ".concat(e.title," to cart!"),"success")}},removeFromCart:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t&&await Ga.removeFromCart(t,e),n({type:$a,payload:e}),o("Item removed from cart","info")}catch(r){console.error("Error removing from cart:",r),n({type:$a,payload:e}),o("Item removed from cart","info")}},updateQuantity:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{r&&await Ga.updateCartItem(r,e,{quantity:t}),n({type:Qa,payload:{id:e,quantity:t}})}catch(a){console.error("Error updating cart quantity:",a),n({type:Qa,payload:{id:e,quantity:t}})}},clearCart:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(e){const t=await Ga.getUserCart(e);for(const r of t)await Ga.removeFromCart(e,r.item_id)}n({type:Za}),o("Cart cleared","info")}catch(t){console.error("Error clearing cart:",t),n({type:Za}),o("Cart cleared","info")}},addToFavorites:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r.favorites.some(t=>t.id===e.id))o("Already in favorites!","info");else try{t&&await Ga.addToFavorites(t,e.id),n({type:rn,payload:e}),o("Added ".concat(e.title," to favorites!"),"success")}catch(a){console.error("Error adding to favorites:",a),n({type:rn,payload:e}),o("Added ".concat(e.title," to favorites!"),"success")}},removeFromFavorites:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t&&await Ga.removeFromFavorites(t,e),n({type:an,payload:e}),o("Removed from favorites","info")}catch(r){console.error("Error removing from favorites:",r),n({type:an,payload:e}),o("Removed from favorites","info")}},loadUserFavorites:async e=>{try{const t=await Ga.getUserFavorites(e);n({type:nn,payload:t})}catch(t){console.error("Error loading user favorites:",t)}},loadUserCart:async e=>{try{const t=await Ga.getUserCart(e);n({type:Xa,payload:t})}catch(t){console.error("Error loading user cart:",t)}},setSearchQuery:async e=>{n({type:on,payload:e}),("all"!==r.activeFilters.type||r.activeFilters.priceFrom>0||r.activeFilters.priceTo<1e4)&&await s(r.activeFilters),l(e,r.activeFilters,r.sortBy)},setFilters:async e=>{const t=qe(qe({},r.activeFilters),e);n({type:cn,payload:e}),void 0!==e.type||void 0!==e.priceFrom||void 0!==e.priceTo?await s(t):l(r.searchQuery,t,r.sortBy)},setSortBy:e=>{n({type:dn,payload:e}),l(r.searchQuery,r.activeFilters,e)},setViewMode:e=>{n({type:un,payload:e})},applyPromo:e=>{const t=r.availablePromos.find(t=>t.code===e.toUpperCase());return t?t.minAmount&&r.cartTotal<t.minAmount?(o("Minimum order of $".concat(t.minAmount," required for this promo"),"error"),!1):(n({type:en,payload:e.toUpperCase()}),o("Promo code applied: ".concat(t.description),"success"),!0):(o("Invalid promo code","error"),!1)},removePromo:()=>{n({type:tn}),o("Promo code removed","info")},refreshListings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;await s(e)},addToRecentlyViewed:e=>{n({type:gn,payload:e})},setLoading:e=>{n({type:hn,payload:e})}},l=(e,t,a)=>{let s=[...r.allProducts];e&&(s=s.filter(t=>{var r;return t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())||(null===(r=t.features)||void 0===r?void 0:r.some(t=>t.toLowerCase().includes(e.toLowerCase())))||t.add_info&&t.add_info.toLowerCase().includes(e.toLowerCase())})),"all"!==t.type&&(s=s.filter(e=>{var r;const a=!0===(null===(r=e.seller)||void 0===r?void 0:r.is_business);return"Business"===t.type?a:"Private"!==t.type||!a})),void 0!==t.priceFrom&&void 0!==t.priceTo&&(s=s.filter(e=>e.price>=t.priceFrom&&e.price<=t.priceTo)),t.rating>0&&(s=s.filter(e=>(e.rating||0)>=t.rating)),s.sort((e,t)=>{switch(a){case"price_low":return e.price-t.price;case"price_high":return t.price-e.price;case"rating":return(t.rating||0)-(e.rating||0);case"popular":return(t.views||0)-(e.views||0);default:return new Date(t.created_at)-new Date(e.created_at)}}),n({type:ln,payload:s})},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const r={id:Date.now(),message:e,type:t,timestamp:(new Date).toISOString()};n({type:mn,payload:r}),setTimeout(()=>{n({type:pn,payload:r.id})},5e3)},c=qe(qe(qe({},r),i),{},{showNotification:o});return(0,ja.jsx)(fn.Provider,{value:c,children:t})}function bn(){const e=(0,a.useContext)(fn);if(!e)throw new Error("useMarketplace must be used within a MarketplaceProvider");return e}var vn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jn=["color","size","strokeWidth","absoluteStrokeWidth","children"],wn=(e,t)=>{const r=(0,a.forwardRef)((r,n)=>{let{color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,children:c}=r,d=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(r,jn);return(0,a.createElement)("svg",qe(qe({ref:n},vn),{},{width:i,height:i,stroke:s,strokeWidth:o?24*Number(l)/Number(i):l,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...(Array.isArray(c)?c:[c])||[]]);var u});return r.displayName="".concat(e),r},kn=wn("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Nn=wn("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),_n=wn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Sn=wn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Cn=wn("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),En=wn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),On=wn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),An=wn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Tn=wn("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Pn=wn("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Ln=wn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Rn=wn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Mn=wn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Fn=wn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dn=wn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),In=wn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Un=wn("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),qn=wn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Bn=wn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),zn=wn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Hn=wn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vn=wn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Wn=wn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Kn=wn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Gn=wn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Jn=function(e){var t,r;let{darkMode:n,toggleDarkMode:s,isMobileMenuOpen:i,setIsMobileMenuOpen:l}=e;const{user:o,logout:c}=Pa(),{cartItems:d,favoriteCount:u}=bn(),{showToast:h}=Wa(),[m,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)([]),[j,w]=(0,a.useState)(0),[k,N]=(0,a.useState)(0),[_,S]=(0,a.useState)({}),[C,E]=(0,a.useState)(!0),[O,A]=(0,a.useState)("all"),[T,P]=(0,a.useState)(Date.now()),L=te(),R=X(),M=(0,a.useRef)(null),F=(0,a.useRef)(null),D=async function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&t.stopPropagation();try{const t=b.find(t=>t.id===e),n=document.querySelector('[data-notification-id="'.concat(e,'"]'));n?(n.classList.add("notification-removing"),setTimeout(()=>{v(b.filter(t=>t.id!==e)),t&&!t.is_read&&w(e=>Math.max(0,e-1))},300)):(v(b.filter(t=>t.id!==e)),t&&!t.is_read&&w(e=>Math.max(0,e-1)));try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/").concat(null===o||void 0===o?void 0:o.id,"/notifications/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});t.ok||console.warn("Failed to delete notification from backend:",t.statusText)}catch(a){console.error("API error deleting notification:",a)}r&&console.log("Notification removed")}catch(n){console.error("Failed to delete notification:",n)}},I=()=>{let e=b;switch(O){case"unread":e=b.filter(e=>!e.is_read);break;case"read":e=b.filter(e=>e.is_read);break;default:e=b}return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))},U=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==o&&void 0!==o&&o.id)try{const t=await Ga.getUserNotifications(o.id),r=await Ga.getUserMessages(o.id);if(e&&b.length>0){const e=t.filter(e=>new Date(e.created_at)>new Date(T)&&!e.is_read);e.length>0&&((()=>{if(C)try{const e=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmIdBz6S3fPNeSsFJICO89iMOQkXZL7n6KdUFAg+ltryxnkpBSl+zfDZjjkKGGG+6OSlSxELStPx07dORgk2jNnuw3MoByJ9yvDQjj0KFmSx5eeScxELTanxx4A=");e.volume=.3,e.play().catch(console.error)}catch(e){console.error("Could not play notification sound:",e)}})(),"Notification"in window&&"granted"===Notification.permission&&new Notification("".concat(e.length," new notification").concat(e.length>1?"s":""),{body:e[0].title,icon:"/favicon.ico",tag:"cataloro-notification"}))}v(t),w(t.filter(e=>!e.is_read).length),N(r.filter(e=>!e.is_read&&e.sender_id!==o.id).length),P(Date.now())}catch(t){console.error("Failed to load notifications:",t),v([]),w(0),N(0)}},q=async e=>{try{await Ga.markNotificationRead(o.id,e),v(b.map(t=>t.id===e?qe(qe({},t),{},{is_read:!0}):t)),w(e=>Math.max(0,e-1))}catch(t){console.error("Failed to mark notification as read:",t)}};(0,a.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("cataloro_site_branding");if(e)try{const t=JSON.parse(e);console.log("Header loading branding data:",t),S(t)}catch(t){console.error("Error parsing branding data:",t)}else console.log("No branding data found in localStorage")};if(e(),null!==o&&void 0!==o&&o.id){U(),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{console.log("Notification permission:",e)});const e=setInterval(()=>{U(!0)},3e4);return()=>clearInterval(e)}const t=t=>{"cataloro_site_branding"===t.key&&e()},r=()=>{e()};return window.addEventListener("storage",t),window.addEventListener("brandingUpdated",r),()=>{window.removeEventListener("storage",t),window.removeEventListener("brandingUpdated",r)}},[null===o||void 0===o?void 0:o.id]),(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_notification_sound");E("false"!==e)},[]),(0,a.useEffect)(()=>{const e=e=>{M.current&&!M.current.contains(e.target)&&p(!1),F.current&&!F.current.contains(e.target)&&x(!1),f&&!e.target.closest(".tenders-dropdown")&&y(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m,g,f]);const B="admin"===(null===o||void 0===o?void 0:o.role),z=[{label:"About",path:"/info",icon:kn},{label:"Browse",path:"/browse",icon:Nn}];return(0,ja.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-white/20 shadow-lg shadow-black/5",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-pink-600/5"}),(0,ja.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,ja.jsxs)(Pe,{to:"/browse",className:"flex items-center space-x-3 group header-logo",children:[_.logo_light_url||_.logo_dark_url||_.logo_url?(0,ja.jsx)("div",{className:"relative",children:(0,ja.jsx)("img",{src:n?_.logo_dark_url||_.logo_url:_.logo_light_url||_.logo_url,alt:_.site_name||"Cataloro",className:"h-12 max-w-[200px] object-contain group-hover:opacity-90 transition-opacity duration-300",onError:e=>{e.target.style.display="none",e.target.parentElement.nextSibling.style.display="flex"}})}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 25px rgba(103, 126, 234, 0.4)"},children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ja.jsx)(Nn,{className:"w-7 h-7 text-white relative z-10"})]}),(0,ja.jsx)("div",{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",filter:"blur(8px)",opacity:"0.3",transform:"scale(1.1)"}})]}),(0,ja.jsxs)("div",{className:"hidden sm:block",children:[(0,ja.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-white/90 transition-colors header-title",style:{background:"linear-gradient(135deg, #1f2937 0%, #374151 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:_.site_name||"Cataloro"}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide",children:_.site_description||"ULTRA-MODERN MARKETPLACE"})]})]}),(0,ja.jsxs)("div",{className:"items-center space-x-3",style:{display:"none"},children:[(0,ja.jsx)("div",{className:"relative",children:(0,ja.jsxs)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 25px rgba(103, 126, 234, 0.4)"},children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ja.jsx)(Nn,{className:"w-7 h-7 text-white relative z-10"})]})}),(0,ja.jsxs)("div",{className:"hidden sm:block",children:[(0,ja.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_.site_name||"Cataloro"}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide",children:_.site_description||"ULTRA-MODERN MARKETPLACE"})]})]})]}),(0,ja.jsxs)("nav",{className:"hidden lg:flex space-x-2",children:[z.map(e=>{const t=e.icon,r=R.pathname===e.path;return(0,ja.jsxs)(Pe,{to:e.path,className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ".concat(r?"bg-white/20 dark:bg-white/20 text-gray-900 dark:text-white shadow-lg backdrop-blur-md":"text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10"),style:r?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.1)"}:{},children:[(0,ja.jsx)(t,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"font-medium",children:e.label})]},e.path)}),o&&(0,ja.jsxs)(Pe,{to:fa.TENDERS,className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ".concat("/tenders"===R.pathname||"/my-tenders"===R.pathname?"bg-white/20 dark:bg-white/20 text-gray-900 dark:text-white shadow-lg backdrop-blur-md":"text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10"),style:"/tenders"===R.pathname||"/my-tenders"===R.pathname?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.1)"}:{},children:[(0,ja.jsx)(_n,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"font-medium",children:"Tenders"})]}),B&&(0,ja.jsxs)(Pe,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm text-gray-900 dark:text-gray-900 shadow-lg backdrop-blur-md",style:{background:"/admin"===R.pathname?"linear-gradient(135deg, rgba(255, 193, 7, 0.9) 0%, rgba(255, 152, 0, 0.8) 100%)":"linear-gradient(135deg, rgba(255, 193, 7, 0.7) 0%, rgba(255, 152, 0, 0.6) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 193, 7, 0.3)",border:"1px solid rgba(255, 193, 7, 0.4)"},children:[(0,ja.jsx)(Sn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"font-medium",children:"Admin"})]})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsxs)("div",{className:"hidden lg:flex items-center space-x-2",children:[(0,ja.jsxs)(Pe,{to:"/messages",className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200",children:[(0,ja.jsx)(Cn,{className:"w-6 h-6"}),k>0&&(0,ja.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:k})]}),(0,ja.jsxs)(Pe,{to:"/favorites",className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200",children:[(0,ja.jsx)(En,{className:"w-6 h-6"}),u>0&&(0,ja.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:u})]}),(0,ja.jsx)(Pe,{to:"/create-listing",className:"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group",style:{background:n?"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)":"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%)",backdropFilter:"blur(20px)",borderRadius:"16px",border:n?"1px solid rgba(34, 197, 94, 0.2)":"1px solid rgba(34, 197, 94, 0.15)"},title:"Create New Listing",children:(0,ja.jsx)(On,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]}),(0,ja.jsxs)("div",{className:"relative",ref:F,children:[(0,ja.jsxs)("button",{onClick:()=>x(!g),className:"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group",style:{background:n?"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)":"linear-gradient(135deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0.04) 100%)",backdropFilter:"blur(20px)",borderRadius:"16px",border:n?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,ja.jsx)(An,{className:"w-5 h-5"}),j>0&&(0,ja.jsx)("span",{className:"absolute -top-2 -right-2 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold text-[10px]",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",boxShadow:"0 4px 15px rgba(250, 112, 154, 0.4)"},children:j})]}),g&&(0,ja.jsxs)("div",{className:"absolute right-0 mt-3 w-80 max-w-[90vw] rounded-2xl shadow-2xl py-3 z-50 notifications-dropdown-enhanced animate-in",style:{background:n?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(25px)",border:n?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)",animation:"slideDown 0.3s ease-out"},children:[(0,ja.jsxs)("div",{className:"px-4 py-3 border-b border-white/10",children:[(0,ja.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,ja.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white text-base flex items-center",children:[(0,ja.jsx)(An,{className:"w-4 h-4 mr-2"}),"Notifications",j>0&&(0,ja.jsx)("span",{className:"ml-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full animate-pulse",children:j})]})}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,ja.jsxs)("select",{value:O,onChange:e=>A(e.target.value),className:"text-xs bg-transparent border border-white/20 rounded-md px-1.5 py-1 text-gray-600 dark:text-white/80 focus:outline-none focus:ring-1 focus:ring-blue-500 min-w-0 w-16",children:[(0,ja.jsx)("option",{value:"all",children:"All"}),(0,ja.jsx)("option",{value:"unread",children:"New"}),(0,ja.jsx)("option",{value:"read",children:"Read"})]}),(0,ja.jsx)("button",{onClick:()=>{const e=!C;E(e),localStorage.setItem("cataloro_notification_sound",e.toString())},className:"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors",title:C?"Disable sound":"Enable sound",children:C?(0,ja.jsx)(Tn,{className:"w-3.5 h-3.5"}):(0,ja.jsx)(Pn,{className:"w-3.5 h-3.5"})}),(0,ja.jsx)("button",{onClick:()=>U(),className:"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors",title:"Refresh",children:(0,ja.jsx)(Ln,{className:"w-3.5 h-3.5"})})]}),(0,ja.jsx)("div",{className:"flex items-center",children:j>0&&(0,ja.jsx)("button",{onClick:async()=>{try{const e=b.filter(e=>!e.is_read).map(e=>e.id);await Promise.all(e.map(e=>Ga.markNotificationRead(o.id,e))),v(b.map(e=>qe(qe({},e),{},{is_read:!0}))),w(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}},className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium transition-colors",children:"Mark all read"})})]})]}),(0,ja.jsx)("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:0===I().length?(0,ja.jsxs)("div",{className:"px-4 py-6 text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ja.jsx)(An,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"all"===O?"No notifications yet":"unread"===O?"No unread notifications":"No read notifications"}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"We'll notify you when something important happens"})]}):I().map((e,t)=>(0,ja.jsx)("div",{"data-notification-id":e.id,onClick:()=>(async e=>{try{switch(await q(e.id),x(!1),e.type){case"tender_accepted":L("/tenders"),setTimeout(()=>{const e=new URLSearchParams;e.set("tab","my-tenders"),L("/tenders?"+e.toString(),{replace:!0})},100);break;case"tender_offer":case"new_tender_offer":L("/tenders"),setTimeout(()=>{const t=new URLSearchParams;t.set("tab","manage"),e.listing_id&&t.set("listing",e.listing_id),L("/tenders?"+t.toString(),{replace:!0})},100);break;case"tender_rejected":L("/tenders"),setTimeout(()=>{const e=new URLSearchParams;e.set("tab","my-tenders"),L("/tenders?"+e.toString(),{replace:!0})},100);break;case"order_completed":case"order_shipped":case"listing_sold":L("/my-listings"),setTimeout(()=>{const e=new URLSearchParams;e.set("filter","closed"),L("/my-listings?"+e.toString(),{replace:!0})},100);break;case"message":case"new_message":e.message_id?L("/messages?id=".concat(e.message_id)):L("/messages");break;case"buy_request":case"purchase_request":L("/my-listings"),setTimeout(()=>{const e=new URLSearchParams;e.set("filter","active"),L("/my-listings?"+e.toString(),{replace:!0})},100);break;case"buy_approved":case"purchase_approved":L("/cart");break;case"buy_rejected":case"purchase_rejected":L("/browse");break;case"favorite":case"wishlist_update":L("/favorites");break;case"listing_approved":case"listing_updated":L("/my-listings");break;case"profile_update":case"account_update":L("/profile");break;default:L("/notifications")}h("Navigating to ".concat(e.title),"info")}catch(t){console.error("Error handling notification click:",t),h("Error navigating from notification","error")}})(e),className:"group px-4 py-3 hover:bg-white/5 dark:hover:bg-white/5 cursor-pointer border-l-3 transition-all duration-300 ".concat(e.is_read?"":"bg-blue-50/30 dark:bg-blue-900/30"," ").concat(0===t?"animate-in":""),style:{borderColor:"message"===e.type?"#667eea":"favorite"===e.type?"#f093fb":"payment"===e.type?"#43e97b":"buy_request"===e.type?"#fbbf24":"buy_approved"===e.type?"#10b981":"buy_rejected"===e.type?"#ef4444":"tender_accepted"===e.type?"#10b981":"tender_offer"===e.type?"#f59e0b":"tender_rejected"===e.type?"#ef4444":"new_tender_offer"===e.type?"#f59e0b":"order_completed"===e.type?"#10b981":"#9ca3af",animationDelay:"".concat(.1*t,"s")},children:(0,ja.jsxs)("div",{className:"flex items-start space-x-2.5",children:[(0,ja.jsx)("div",{className:"p-1.5 rounded-full flex-shrink-0 ".concat("message"===e.type?"bg-blue-100 text-blue-600":"favorite"===e.type?"bg-pink-100 text-pink-600":"payment"===e.type?"bg-green-100 text-green-600":"buy_request"===e.type?"bg-yellow-100 text-yellow-600":"buy_approved"===e.type?"bg-green-100 text-green-600":"buy_rejected"===e.type?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"," ").concat(e.is_read?"":"animate-pulse"),children:"message"===e.type?(0,ja.jsx)(Cn,{className:"w-3.5 h-3.5"}):"favorite"===e.type?(0,ja.jsx)(En,{className:"w-3.5 h-3.5"}):"payment"===e.type?(0,ja.jsx)(_n,{className:"w-3.5 h-3.5"}):"buy_request"===e.type?(0,ja.jsx)(Rn,{className:"w-3.5 h-3.5"}):"buy_approved"===e.type?(0,ja.jsx)(Mn,{className:"w-3.5 h-3.5"}):"buy_rejected"===e.type?(0,ja.jsx)(Fn,{className:"w-3.5 h-3.5"}):(0,ja.jsx)(An,{className:"w-3.5 h-3.5"})}),(0,ja.jsxs)("div",{className:"flex-1 min-w-0 overflow-hidden",children:[(0,ja.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ja.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,ja.jsx)("p",{className:"text-sm font-semibold truncate ".concat(e.is_read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:e.title}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 mt-0.5 line-clamp-2 leading-tight",children:e.message})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[!e.is_read&&(0,ja.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),(0,ja.jsx)("button",{onClick:t=>D(e.id,t),className:"opacity-0 group-hover:opacity-100 p-0.5 text-gray-400 hover:text-red-600 transition-all duration-200",title:"Delete",children:(0,ja.jsx)(Dn,{className:"w-3 h-3"})})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,ja.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ja.jsx)(In,{className:"w-3 h-3 mr-1"}),(0,ja.jsxs)("span",{className:"truncate",children:[new Date(e.created_at).toLocaleDateString()," ",new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[!e.is_read&&(0,ja.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{await q(e),setTimeout(()=>{D(e,null,!1)},1e3)}catch(r){console.error("Failed to mark notification as read:",r)}})(e.id,t),className:"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200",title:"Mark read",children:(0,ja.jsx)(Un,{className:"w-3 h-3"})}),"buy_request"===e.type&&(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{x(!1),L("/pending-sales"),setTimeout(()=>{D(e,null,!1)},500)}catch(r){console.error("Failed to handle accept request:",r)}})(e.id,t),className:"p-1 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-900/70 transition-all duration-200",title:"Accept",children:(0,ja.jsx)(Mn,{className:"w-3 h-3"})}),(0,ja.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{console.log("Request declined"),D(e,null,!1)}catch(r){console.error("Failed to handle decline request:",r)}})(e.id,t),className:"p-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/70 transition-all duration-200",title:"Decline",children:(0,ja.jsx)(Fn,{className:"w-3 h-3"})})]}),"message"===e.type&&(0,ja.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{x(!1),L("/messages"),setTimeout(()=>{D(e,null,!1)},500)}catch(r){console.error("Failed to handle reply to message:",r)}})(e.id,t),className:"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200",title:"Reply",children:(0,ja.jsx)(Cn,{className:"w-3 h-3"})})]})]})]})]})},e.id))}),(0,ja.jsx)("div",{className:"px-4 py-2 border-t border-white/10",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)(Pe,{to:"/notifications",className:"text-xs text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white font-medium flex items-center transition-colors",onClick:()=>x(!1),children:["View all notifications",(0,ja.jsx)(qn,{className:"w-3 h-3 ml-1"})]}),(0,ja.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[I().length," total"]})]})})]})]}),(0,ja.jsx)("button",{onClick:s,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200",children:n?(0,ja.jsx)(Bn,{className:"w-6 h-6"}):(0,ja.jsx)(zn,{className:"w-6 h-6"})}),(0,ja.jsxs)("div",{className:"relative",ref:M,children:[(0,ja.jsxs)("button",{onClick:()=>p(!m),className:"flex items-center space-x-3 p-2 rounded-2xl transition-all duration-300 group",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,ja.jsxs)("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",boxShadow:"0 6px 20px rgba(79, 172, 254, 0.4)"},children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ja.jsx)("span",{className:"text-white font-bold text-sm relative z-10",children:(null===o||void 0===o||null===(t=o.full_name)||void 0===t?void 0:t.charAt(0))||(null===o||void 0===o||null===(r=o.username)||void 0===r?void 0:r.charAt(0))||"U"})]}),(0,ja.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,ja.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===o||void 0===o?void 0:o.full_name)||(null===o||void 0===o?void 0:o.username)||"User"}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium uppercase tracking-wide",children:null===o||void 0===o?void 0:o.role})]}),(0,ja.jsx)(Hn,{className:"w-4 h-4 text-gray-700 dark:text-white/80 transition-transform duration-300 ".concat(m?"rotate-180":"")})]}),m&&(0,ja.jsxs)("div",{className:"absolute right-0 mt-3 w-72 rounded-2xl shadow-2xl py-2 z-50 profile-dropdown-enhanced",style:{background:n?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(25px)",border:n?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)"},children:[(0,ja.jsxs)("div",{className:"px-6 py-4 border-b border-white/10",children:[(0,ja.jsx)("p",{className:"text-base font-bold text-gray-900 dark:text-white",children:(null===o||void 0===o?void 0:o.full_name)||(null===o||void 0===o?void 0:o.username)}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-white/70",children:null===o||void 0===o?void 0:o.email})]}),(0,ja.jsxs)("div",{className:"py-2",children:[(0,ja.jsxs)(Pe,{to:"/profile",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>p(!1),children:[(0,ja.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.1))"},children:(0,ja.jsx)(Vn,{className:"w-4 h-4"})}),(0,ja.jsx)("span",{className:"font-medium",children:"Profile Settings"})]}),(0,ja.jsxs)(Pe,{to:"/my-listings",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>p(!1),children:[(0,ja.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(245, 87, 108, 0.1))"},children:(0,ja.jsx)(Wn,{className:"w-4 h-4"})}),(0,ja.jsx)("span",{className:"font-medium",children:"My Listings"})]}),(0,ja.jsxs)(Pe,{to:"/profile/".concat(null===o||void 0===o?void 0:o.id),className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>p(!1),children:[(0,ja.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 197, 253, 0.1))"},children:(0,ja.jsx)(kn,{className:"w-4 h-4"})}),(0,ja.jsx)("span",{className:"font-medium",children:"View Public Profile"})]}),"admin"===(null===o||void 0===o?void 0:o.role)&&(0,ja.jsxs)(Pe,{to:"/admin",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>p(!1),children:[(0,ja.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(250, 112, 154, 0.2), rgba(254, 225, 64, 0.1))"},children:(0,ja.jsx)(Sn,{className:"w-4 h-4"})}),(0,ja.jsx)("span",{className:"font-medium",children:"Admin Panel"})]})]}),(0,ja.jsx)("div",{className:"border-t border-white/10 pt-2",children:(0,ja.jsxs)("button",{onClick:()=>{c(),L("/login"),h("Logged out successfully","success")},className:"flex items-center w-full px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-red-600 dark:hover:text-red-300 hover:bg-red-500/10 dark:hover:bg-red-500/10 transition-all duration-300 group",children:[(0,ja.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-red-500/20 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1))"},children:(0,ja.jsx)(Kn,{className:"w-4 h-4"})}),(0,ja.jsx)("span",{className:"font-medium",children:"Sign Out"})]})})]})]}),(0,ja.jsx)("button",{onClick:()=>l(!i),className:"lg:hidden p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200",children:i?(0,ja.jsx)(Fn,{className:"w-6 h-6"}):(0,ja.jsx)(Gn,{className:"w-6 h-6"})})]})]})})]})},Yn=wn("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),$n=wn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Qn=wn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Zn=wn("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Xn=wn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const es=function(e){var t,r,n;let{isOpen:s,onClose:i}=e;const[l,o]=(0,a.useState)(null),c=X();(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_user");if(e)try{o(JSON.parse(e))}catch(t){console.error("Error parsing user data:",t)}},[]);const d="admin"===(null===l||void 0===l?void 0:l.role),u=[{title:"Marketplace",items:[{label:"About Platform",path:"/info",icon:kn},{label:"Browse All",path:"/browse",icon:Nn},{label:"Categories",path:"/categories",icon:Yn},{label:"Search",path:"/search",icon:$n},{label:"Trending",path:"/trending",icon:qn}]},{title:"My Account",items:[{label:"My Listings",path:"/my-listings",icon:Wn},{label:"My Deals",path:"/my-deals",icon:_n},{label:"Messages",path:"/messages",icon:Cn},{label:"Favorites",path:"/favorites",icon:En},{label:"Cart",path:"/cart",icon:Rn}]},{title:"Selling",items:[{label:"Create Listing",path:"/create-listing",icon:On},{label:"Seller Analytics",path:"/analytics",icon:Qn},{label:"Performance",path:"/performance",icon:Zn}]}];return d&&u.push({title:"Admin",items:[{label:"Admin Dashboard",path:"/admin",icon:Sn},{label:"Site Analytics",path:"/admin/analytics",icon:Qn},{label:"User Management",path:"/admin/users",icon:Vn}]}),u.push({title:"Settings",items:[{label:"Profile",path:"/profile",icon:Vn},{label:"Notifications",path:"/notifications",icon:An},{label:"Settings",path:"/settings",icon:Xn}]}),(0,ja.jsxs)("div",{className:"fixed top-0 left-0 h-full w-80 bg-white dark:bg-gray-900 shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ".concat(s?"translate-x-0":"-translate-x-full"," lg:hidden"),children:[(0,ja.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,ja.jsx)("span",{className:"text-white font-bold text-lg",children:"C"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Cataloro"}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Modern Marketplace"})]})]}),l&&(0,ja.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,ja.jsx)("span",{className:"text-white font-medium text-sm",children:(null===(t=l.full_name)||void 0===t?void 0:t.charAt(0))||(null===(r=l.username)||void 0===r?void 0:r.charAt(0))||"U"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:l.full_name||l.username}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===(n=l.role)||void 0===n?void 0:n.toUpperCase()})]})]})})]}),(0,ja.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,ja.jsx)("div",{className:"p-4 space-y-6",children:u.map(e=>(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 font-semibold mb-3 px-2",children:e.title}),(0,ja.jsx)("div",{className:"space-y-1",children:e.items.map(e=>{const t=e.icon;return(0,ja.jsxs)(Pe,{to:e.path,onClick:i,className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ".concat((r=e.path,c.pathname===r?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")),children:[(0,ja.jsx)(t,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:e.label})]},e.path);var r})})]},e.title))})}),(0,ja.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,ja.jsx)("div",{className:"text-center",children:(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cataloro v2.0 - Ultra Modern"})})})]})},ts=wn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),rs=wn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),as=wn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ns=wn("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),ss=wn("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),is=wn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),ls=wn("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),os=wn("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);const cs=function(){var e,t,r,n;const[s,i]=(0,a.useState)({});(0,a.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_branding");if(e){const t=JSON.parse(e);i(t)}}catch(e){console.error("Error loading branding data in footer:",e)}};e();const t=()=>{e()};return window.addEventListener("brandingUpdated",t),window.addEventListener("storage",t),()=>{window.removeEventListener("brandingUpdated",t),window.removeEventListener("storage",t)}},[]);const l=()=>({enabled:!0,companyInfo:{name:"Cataloro",tagline:"Modern Marketplace for Everyone",description:"Discover, buy, and sell amazing products in our trusted marketplace. Connect with sellers worldwide and find exactly what you're looking for.",logo:"/logo.png"},contact:{email:"hello@cataloro.com",phone:"+1 (555) 123-4567",address:"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:"https://facebook.com/cataloro",twitter:"https://twitter.com/cataloro",instagram:"https://instagram.com/cataloro",linkedin:"https://linkedin.com/company/cataloro",youtube:"https://youtube.com/cataloro"},links:{about:[{label:"About Us",url:"/about"},{label:"Our Story",url:"/story"},{label:"Careers",url:"/careers"},{label:"Press",url:"/press"}],marketplace:[{label:"Browse Products",url:"/browse"},{label:"Categories",url:"/categories"},{label:"Sell on Cataloro",url:"/sell"},{label:"Seller Center",url:"/seller"}],support:[{label:"Help Center",url:"/help"},{label:"Contact Support",url:"/support"},{label:"Community",url:"/community"},{label:"Safety",url:"/safety"}],legal:[{label:"Privacy Policy",url:"/privacy"},{label:"Terms of Service",url:"/terms"},{label:"Cookie Policy",url:"/cookies"},{label:"Seller Agreement",url:"/seller-terms"}]},style:{backgroundColor:"#1f2937",textColor:"#ffffff",linkColor:"#60a5fa",borderColor:"#374151"}}),o=(()=>{try{var e,t,r,a;const n=localStorage.getItem("cataloro_footer_config"),s=l();if(!n)return s;const i=JSON.parse(n);return qe(qe(qe({},s),i),{},{companyInfo:qe(qe({},s.companyInfo),i.companyInfo),contact:qe(qe({},s.contact),i.contact),social:qe(qe({},s.social),i.social),links:qe(qe(qe({},s.links),i.links),{},{about:(null===(e=i.links)||void 0===e?void 0:e.about)||s.links.about,marketplace:(null===(t=i.links)||void 0===t?void 0:t.marketplace)||s.links.marketplace,support:(null===(r=i.links)||void 0===r?void 0:r.support)||s.links.support,legal:(null===(a=i.links)||void 0===a?void 0:a.legal)||s.links.legal}),style:qe(qe({},s.style),i.style)})}catch(n){return console.error("Error parsing footer config:",n),l()}})();if(!o.enabled)return null;const c={backgroundColor:o.style.backgroundColor,color:o.style.textColor,borderColor:o.style.borderColor},d={color:o.style.linkColor};return(0,ja.jsx)("footer",{style:c,className:"bg-gray-900 text-white border-t",children:(0,ja.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ja.jsx)("div",{className:"py-12",children:(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,ja.jsxs)("div",{className:"lg:col-span-1",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[s.logo_dark_url&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChAI9jU77zgAAAABJRU5ErkJggg=="!==s.logo_dark_url?(0,ja.jsx)("div",{className:"flex flex-col space-y-2",children:(0,ja.jsx)("img",{src:s.logo_dark_url,alt:s.site_name||o.companyInfo.name,className:"h-12 max-w-[200px] object-contain",onError:e=>{e.target.style.display="none",e.target.parentElement.nextElementSibling.style.display="flex"}})}):s.logo_light_url&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChAI9jU77zgAAAABJRU5ErkJggg=="!==s.logo_light_url?(0,ja.jsx)("div",{className:"flex flex-col space-y-2",children:(0,ja.jsx)("img",{src:s.logo_light_url,alt:s.site_name||o.companyInfo.name,className:"h-12 max-w-[200px] object-contain",onError:e=>{e.target.style.display="none",e.target.parentElement.nextElementSibling.style.display="flex"}})}):(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,ja.jsx)(Nn,{className:"w-6 h-6 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:s.site_name||o.companyInfo.name}),(0,ja.jsx)("p",{className:"text-sm text-gray-400",children:s.site_description||o.companyInfo.tagline})]})]}),(0,ja.jsxs)("div",{className:"items-center space-x-3",style:{display:"none"},children:[(0,ja.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,ja.jsx)(Nn,{className:"w-6 h-6 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:s.site_name||o.companyInfo.name}),(0,ja.jsx)("p",{className:"text-sm text-gray-400",children:s.site_description||o.companyInfo.tagline})]})]})]}),(0,ja.jsx)("p",{className:"text-gray-300 text-sm mb-6 leading-relaxed",children:o.companyInfo.description}),(0,ja.jsxs)("div",{className:"space-y-3",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ja.jsx)(ts,{className:"w-4 h-4 text-blue-400"}),(0,ja.jsx)("a",{href:"mailto:".concat(o.contact.email),style:d,className:"hover:text-blue-300",children:o.contact.email})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ja.jsx)(rs,{className:"w-4 h-4 text-blue-400"}),(0,ja.jsx)("a",{href:"tel:".concat(o.contact.phone),style:d,className:"hover:text-blue-300",children:o.contact.phone})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ja.jsx)(as,{className:"w-4 h-4 text-blue-400"}),(0,ja.jsx)("span",{className:"text-gray-300",children:o.contact.address})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"About"}),(0,ja.jsx)("ul",{className:"space-y-3",children:((null===(e=o.links)||void 0===e?void 0:e.about)||[]).map((e,t)=>(0,ja.jsx)("li",{children:(0,ja.jsx)(Pe,{to:e.url,style:d,className:"text-sm hover:text-blue-300",children:e.label})},t))})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Marketplace"}),(0,ja.jsx)("ul",{className:"space-y-3",children:((null===(t=o.links)||void 0===t?void 0:t.marketplace)||[]).map((e,t)=>(0,ja.jsx)("li",{children:(0,ja.jsx)(Pe,{to:e.url,style:d,className:"text-sm hover:text-blue-300",children:e.label})},t))})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),(0,ja.jsx)("ul",{className:"space-y-3 mb-6",children:((null===(r=o.links)||void 0===r?void 0:r.support)||[]).map((e,t)=>(0,ja.jsx)("li",{children:(0,ja.jsx)(Pe,{to:e.url,style:d,className:"text-sm hover:text-blue-300",children:e.label})},t))}),(0,ja.jsx)("h5",{className:"text-md font-semibold mb-3",children:"Legal"}),(0,ja.jsx)("ul",{className:"space-y-2",children:((null===(n=o.links)||void 0===n?void 0:n.legal)||[]).map((e,t)=>(0,ja.jsx)("li",{children:(0,ja.jsx)(Pe,{to:e.url,style:d,className:"text-xs hover:text-blue-300",children:e.label})},t))})]})]})}),(0,ja.jsx)("div",{style:{borderColor:o.style.borderColor},className:"border-t py-6",children:(0,ja.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("span",{className:"text-sm text-gray-400",children:"Follow us:"}),(0,ja.jsxs)("div",{className:"flex space-x-3",children:[o.social.facebook&&(0,ja.jsx)("a",{href:o.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ja.jsx)(ns,{className:"w-5 h-5"})}),o.social.twitter&&(0,ja.jsx)("a",{href:o.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ja.jsx)(ss,{className:"w-5 h-5"})}),o.social.instagram&&(0,ja.jsx)("a",{href:o.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-pink-400",children:(0,ja.jsx)(is,{className:"w-5 h-5"})}),o.social.linkedin&&(0,ja.jsx)("a",{href:o.social.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ja.jsx)(ls,{className:"w-5 h-5"})}),o.social.youtube&&(0,ja.jsx)("a",{href:o.social.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-red-400",children:(0,ja.jsx)(os,{className:"w-5 h-5"})})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,ja.jsxs)("span",{children:["\xa9 2025 ",o.companyInfo.name,". Made with"]}),(0,ja.jsx)(En,{className:"w-4 h-4 text-red-400"}),(0,ja.jsx)("span",{children:"for amazing marketplace experiences."})]})]})})]})})},ds=wn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),us=wn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),hs=wn("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ms=wn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const ps=function(){const[e,t]=(0,a.useState)([]),{user:r,isAuthenticated:n}=Pa();(0,a.useEffect)(()=>{if(n&&null!==r&&void 0!==r&&r.id){s();const e=setInterval(()=>{s()},3e4);return()=>clearInterval(e)}},[n,null===r||void 0===r?void 0:r.id]);const s=async()=>{try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/").concat(r.id,"/system-notifications"));if(e.ok){const t=await e.json();(t.notifications||[]).forEach((e,t)=>{setTimeout(()=>{l(e.message,e.type||"info",e.show_duration||5e3,e.id),i(e.id)},1e3*t)})}}catch(e){console.error("Error loading system notifications:",e)}},i=async e=>{try{await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/").concat(r.id,"/system-notifications/").concat(e,"/view"),{method:"POST"})}catch(t){console.error("Error marking notification as viewed:",t)}},l=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s=Date.now()+Math.random(),i={id:s,message:e,type:r,duration:a,systemNotificationId:n};t(e=>[...e,i]),setTimeout(()=>{o(s)},a)},o=e=>{t(t=>t.filter(t=>t.id!==e))},c=e=>{switch(e){case"success":return(0,ja.jsx)(ds,{className:"w-5 h-5 text-green-600"});case"error":return(0,ja.jsx)(us,{className:"w-5 h-5 text-red-600"});case"warning":return(0,ja.jsx)(hs,{className:"w-5 h-5 text-orange-600"});case"welcome":return(0,ja.jsx)(An,{className:"w-5 h-5 text-purple-600"});default:return(0,ja.jsx)(ms,{className:"w-5 h-5 text-blue-600"})}},d=e=>{switch(e){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200";case"warning":return"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-800 dark:text-orange-200";case"welcome":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-800 dark:text-purple-200";default:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"}},u=async e=>{if(n&&null!==r&&void 0!==r&&r.id)try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/").concat(r.id,"/system-notifications"));if(t.ok){const r=(await t.json()).notifications||[];r.filter(t=>t.event_trigger===e).forEach((e,t)=>{setTimeout(()=>{l(e.message,e.type||"info",e.show_duration||5e3,e.id),i(e.id)},1e3*t)})}}catch(t){console.error("Error loading event-triggered system notifications:",t)}};return(0,a.useEffect)(()=>(window.showToast=l,window.triggerSystemNotifications=u,()=>{delete window.showToast,delete window.triggerSystemNotifications}),[n,null===r||void 0===r?void 0:r.id]),0===e.length?null:(0,ja.jsx)("div",{className:"fixed top-20 right-4 z-50 space-y-2",children:e.map(e=>(0,ja.jsx)("div",{className:"max-w-sm w-full ".concat(d(e.type)," border rounded-lg p-4 shadow-lg backdrop-blur-sm transition-all duration-300 transform animate-slide-in-right"),children:(0,ja.jsxs)("div",{className:"flex items-start",children:[(0,ja.jsx)("div",{className:"flex-shrink-0",children:c(e.type)}),(0,ja.jsx)("div",{className:"ml-3 flex-1",children:(0,ja.jsx)("p",{className:"text-sm font-medium",children:e.message})}),(0,ja.jsx)("button",{onClick:()=>o(e.id),className:"ml-4 flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]})},e.id))})},gs=e=>{try{const t=document.getElementById("cataloro-site-config-styles");t&&t.remove();const r=document.createElement("style");r.id="cataloro-site-config-styles";const a="\n      /* Site Configuration Styles */\n      :root {\n        --primary-color: ".concat(e.primaryColor||"#3B82F6",";\n        --secondary-color: ").concat(e.secondaryColor||"#8B5CF6",";\n        --accent-color: ").concat(e.accentColor||"#10B981",";\n      }\n      \n      /* Footer Configuration */\n      ").concat(e.footerEnabled?"":"\n      footer {\n        display: none !important;\n      }\n      ","\n      \n      /* Hero Section Control */\n      ").concat(e.heroSectionEnabled?"":"\n      .hero-section {\n        display: none !important;\n      }\n      ","\n      \n      /* Featured Products Control */\n      ").concat(e.featuredProductsEnabled?"":"\n      .featured-products-section {\n        display: none !important;\n      }\n      ","\n      \n      /* Categories Showcase Control */\n      ").concat(e.categoriesShowcase?"":"\n      .categories-showcase {\n        display: none !important;\n      }\n      ","\n      \n      /* Newsletter Signup Control */\n      ").concat(e.newsletterSignup?"":"\n      .newsletter-section {\n        display: none !important;\n      }\n      ","\n      \n      /* Wishlist/Favorites Control */\n      ").concat(e.wishlistEnabled?"":"\n      .wishlist-button,\n      .favorites-button,\n      .add-to-favorites {\n        display: none !important;\n      }\n      ","\n      \n      /* Product Reviews Control */\n      ").concat(e.productReviews?"":"\n      .reviews-section,\n      .product-reviews,\n      .review-button {\n        display: none !important;\n      }\n      ","\n      \n      /* Compare Feature Control */\n      ").concat(e.compareFeature?"":"\n      .compare-button,\n      .product-compare {\n        display: none !important;\n      }\n      ","\n      \n      /* Advanced Filters Control */\n      ").concat(e.advancedFilters?"":"\n      .advanced-filters,\n      .filter-panel {\n        display: none !important;\n      }\n      ","\n      \n      /* Search Bar Prominence */\n      ").concat(e.searchBarProminent?"\n      .search-bar-container {\n        transform: scale(1.1);\n        box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);\n        border: 2px solid var(--primary-color);\n      }\n      ":"","\n      \n      /* Compact Mode */\n      ").concat(e.compactMode?"\n      .product-card {\n        padding: 0.5rem !important;\n      }\n      .hero-section {\n        min-height: 200px !important;\n      }\n      .page-padding {\n        padding: 1rem !important;\n      }\n      ":"","\n      \n      /* Custom CSS */\n      ").concat(e.customCSS||"","\n    ");if(r.textContent=a,document.head.appendChild(r),e.footerEnabled){const t={enabled:e.footerEnabled,companyInfo:{name:e.footerCompanyName||"Cataloro",tagline:e.footerTagline||"Modern Marketplace for Everyone",description:e.footerDescription||"Discover, buy, and sell amazing products in our trusted marketplace."},contact:{email:e.footerEmail||"hello@cataloro.com",phone:e.footerPhone||"+1 (555) 123-4567",address:e.footerAddress||"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:e.footerFacebook||"",twitter:e.footerTwitter||"",instagram:e.footerInstagram||"",linkedin:e.footerLinkedin||"",youtube:e.footerYoutube||""},style:{backgroundColor:e.footerBackgroundColor||"#1f2937",textColor:e.footerTextColor||"#ffffff",linkColor:e.footerLinkColor||"#60a5fa",borderColor:"#374151"}};localStorage.setItem("cataloro_footer_config",JSON.stringify(t))}else localStorage.removeItem("cataloro_footer_config");const n={heroSectionEnabled:!1!==e.heroSectionEnabled,featuredProductsEnabled:!1!==e.featuredProductsEnabled,categoriesShowcase:!1!==e.categoriesShowcase,testimonialSection:!1!==e.testimonialSection,newsletterSignup:!1!==e.newsletterSignup,searchBarProminent:e.searchBarProminent||!1,userRegistration:!1!==e.userRegistration,guestBrowsing:!1!==e.guestBrowsing,productReviews:!1!==e.productReviews,wishlistEnabled:!1!==e.wishlistEnabled,compareFeature:e.compareFeature||!1,advancedFilters:!1!==e.advancedFilters,bulkOperations:e.bulkOperations||!1,productVariations:e.productVariations||!1,inventoryTracking:e.inventoryTracking||!1,compactMode:e.compactMode||!1,animationsEnabled:!1!==e.animationsEnabled};return localStorage.setItem("cataloro_feature_flags",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("featureFlagsUpdated",{detail:n})),console.log("\u2705 Site configuration applied successfully",n),!0}catch(t){return console.error("\u274c Error applying site configuration:",t),!1}};const xs=function(){const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!0),[s,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),c=X();if((0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_token"),r=localStorage.getItem("cataloro_user");if(e&&r)try{JSON.parse(r),t(!0)}catch(a){localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),t(!1)}else t(!1);n(!1)},[]),(0,a.useEffect)(()=>{"true"===localStorage.getItem("cataloro_dark_mode")&&(i(!0),document.documentElement.classList.add("dark")),(()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const t=JSON.parse(e);return gs(t),console.log("\u2705 Site configuration loaded and applied on startup"),!0}return!1}catch(e){return console.warn("\u26a0\ufe0f Could not load site configuration:",e),!1}})()},[]),(0,a.useEffect)(()=>{o(!1)},[c]),r)return(0,ja.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Cataloro..."})]})});const d=["/profile/"].some(e=>c.pathname.startsWith(e));return e||d?(0,ja.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300 ".concat(s?"dark":""),children:[(0,ja.jsx)(Jn,{darkMode:s,toggleDarkMode:()=>{const e=!s;i(e),localStorage.setItem("cataloro_dark_mode",e.toString()),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},isMobileMenuOpen:l,setIsMobileMenuOpen:o}),(0,ja.jsx)(es,{isOpen:l,onClose:()=>o(!1)}),(0,ja.jsx)("main",{className:"pt-20 min-h-screen",children:(0,ja.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ja.jsx)(be,{})})}),(0,ja.jsx)(cs,{}),(0,ja.jsx)(ps,{}),l&&(0,ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!1)})]}):(0,ja.jsx)(ye,{to:"/login",replace:!0})},fs=wn("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),ys=wn("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),bs=wn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),vs=wn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),js=wn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);function ws(e){let{timeInfo:t}=e;const[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(null===t||void 0===t||!t.has_time_limit||void 0===t.time_remaining_seconds||null===t.time_remaining_seconds)return;let e=t.time_remaining_seconds;n(e),i(e<=0);const r=setInterval(()=>{n(e=>e<=1?(i(!0),0):e-1)},1e3);return()=>clearInterval(r)},[t]);return null!==t&&void 0!==t&&t.has_time_limit?(0,ja.jsx)("span",{children:s?"EXPIRED":(e=>{if(e<=0)return"EXPIRED";const t=Math.floor(e/86400),r=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),n=e%60;return t>0?"".concat(t,"d ").concat(r,"h ").concat(a,"m"):r>0?"".concat(r,"h ").concat(a,"m"):a>0?"".concat(a,"m ").concat(n,"s"):"".concat(n,"s")})(r)}):null}function ks(e){var t,r,n,s,i,l,o,c,d,u,h,m,p,g,x,f,y,b,v,j,w,k,N,_,S,C,E,O,A,T,P,L,R,M,F,D,I,U,q,B;let{item:z,viewMode:H,onAddToCart:V,onSubmitTender:W,onFavoriteToggle:K,onMessageSeller:G,isInFavorites:J,isSubmittingTender:Y,tenderConfirmation:$,priceRangeSettings:Q,userActiveBids:Z,user:X}=e;const[ee,re]=(0,a.useState)(0),[ae,ne]=(0,a.useState)(null),[se,ie]=(0,a.useState)(!1),le=te(),oe="grid"===H;a.useEffect(()=>{var e,t,r;z.id&&["2e2836dc-c1f2-48e5-94a6-9aaf2828c16a","listing-0","listing-1"].includes(z.id)&&console.log("\ud83d\udd0d ProductCard Debug - Item ".concat(z.id,":"),{title:z.title,seller:z.seller,"seller.is_business":null===(e=z.seller)||void 0===e?void 0:e.is_business,"seller.name":null===(t=z.seller)||void 0===t?void 0:t.name,"seller.username":null===(r=z.seller)||void 0===r?void 0:r.username})},[z.id,z.seller]),(0,a.useEffect)(()=>{(async()=>{if("Catalysts"===z.category&&(z.catalyst_id||z.title)){ie(!0);try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();let r=null;r=z.catalyst_id?t.find(e=>e.cat_id===z.catalyst_id):t.find(e=>e.name&&e.name.toLowerCase()===z.title.toLowerCase()),r&&r.total_price&&ne(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{ie(!1)}}})()},[z.catalyst_id,z.title,z.category]);return(0,ja.jsxs)("div",{className:"product-card group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer ".concat(oe?"hover:-translate-y-1":"flex space-x-4 p-4"),onClick:()=>{le("/product/".concat(z.id))},children:[(0,ja.jsxs)("div",{className:"relative ".concat(oe?"":"w-48 h-48 flex-shrink-0"),children:[(0,ja.jsx)("div",{className:"absolute inset-0 cursor-pointer z-10",onClick:e=>{e.stopPropagation(),le("/product/".concat(z.id))},title:"View product details"}),(0,ja.jsx)("img",{src:(null===(t=z.images)||void 0===t?void 0:t[ee])||(null===(r=z.images)||void 0===r?void 0:r[0])||"/api/placeholder/400/300",alt:z.title,className:"object-cover transition-transform duration-300 group-hover:scale-[1.02] ".concat(oe?"w-full h-64":"w-full h-full rounded-lg")}),z.images&&z.images.length>1&&(0,ja.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 z-20",children:z.images.map((e,t)=>(0,ja.jsx)("div",{className:"w-2 h-2 rounded-full cursor-pointer ".concat(t===ee?"bg-white":"bg-white/50"),onClick:e=>{e.stopPropagation(),re(t)}},t))}),(0,ja.jsxs)("div",{className:"absolute top-2 left-2 space-y-1 z-20",children:[null===(n=z.tags)||void 0===n?void 0:n.map(e=>(0,ja.jsx)("span",{className:"inline-block bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:e},e)),(0,ja.jsx)("div",{children:(0,ja.jsx)("span",{className:"inline-block text-white text-xs px-2 py-1 rounded-full font-medium ".concat(null!==(s=z.seller)&&void 0!==s&&s.is_business?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"),children:null!==(i=z.seller)&&void 0!==i&&i.is_business?"Business":"Private"})})]}),(0,ja.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,ja.jsx)("button",{onClick:e=>K(z,e),className:"favorites-button wishlist-button add-to-favorites p-3 backdrop-blur-lg rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 ".concat(J(z.id)?"bg-red-500/90 text-white shadow-red-500/25":"bg-white/90 dark:bg-gray-800/90 text-gray-700 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500"),title:J(z.id)?"Remove from favorites":"Add to favorites",children:J(z.id)?(0,ja.jsx)(En,{className:"w-5 h-5 fill-current animate-pulse"}):(0,ja.jsx)(En,{className:"w-5 h-5"})})}),(0,ja.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full flex items-center z-20",children:[(0,ja.jsx)(vs,{className:"w-3 h-3 mr-1"}),z.views]})]}),(0,ja.jsxs)("div",{className:"".concat(oe?"p-4":"flex-1 min-w-0"),children:[(0,ja.jsx)("div",{className:"mb-3",children:(0,ja.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors ".concat(oe?"text-lg line-clamp-2":"text-xl"),children:z.title})}),(0,ja.jsx)("div",{className:"mb-3",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",(null!==(l=z.bid_info)&&void 0!==l&&l.has_bids&&null!==(o=z.bid_info)&&void 0!==o&&o.highest_bid?z.bid_info.highest_bid:z.price).toFixed(2)]}),(null===(c=z.bid_info)||void 0===c?void 0:c.has_bids)&&(0,ja.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:["\u20ac",z.price.toFixed(2)," starting"]})]})}),"Catalysts"===z.category&&(0,ja.jsx)("div",{className:"mb-3",children:se?(0,ja.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,ja.jsx)("div",{className:"w-3 h-3 border border-gray-400 border-t-transparent rounded-full animate-spin mr-2"}),"Loading market range..."]}):ae?(0,ja.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 dark:from-indigo-900/40 dark:via-blue-900/40 dark:to-cyan-900/40 border border-indigo-100 dark:border-indigo-800/60 shadow-sm",children:[(0,ja.jsx)("div",{className:"absolute top-0 right-0 w-12 h-12 bg-gradient-to-bl from-indigo-200/20 to-transparent dark:from-indigo-600/10 rounded-bl-full"}),(0,ja.jsx)("div",{className:"relative p-3",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"p-1.5 rounded-lg bg-gradient-to-r from-indigo-500 to-blue-500 shadow-sm",children:(0,ja.jsx)(js,{className:"w-3 h-3 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300 uppercase tracking-wide",children:"Market Range"}),(0,ja.jsxs)("div",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-100 leading-tight",children:["\u20ac",(ae*(100-Q.price_range_min_percent)/100).toFixed(0)," - \u20ac",(ae*(100+Q.price_range_max_percent)/100).toFixed(0)]})]})]})})]}):null}),(0,ja.jsx)("div",{className:"mb-3",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold ".concat(null!==(d=z.seller)&&void 0!==d&&d.is_business?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-green-500 to-emerald-600"),children:(0,ja.jsx)("span",{children:((null===(u=z.seller)||void 0===u?void 0:u.username)||(null===(h=z.seller)||void 0===h?void 0:h.name)||"U").charAt(0).toUpperCase()})}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null===(m=z.seller)||void 0===m?void 0:m.username)||(null===(p=z.seller)||void 0===p?void 0:p.name)||"Unknown User"}),(null===(g=z.seller)||void 0===g?void 0:g.verified)&&(0,ja.jsx)("span",{className:"text-blue-500 text-xs",children:"\u2713 Verified"})]})]})}),(0,ja.jsx)("div",{className:"mb-3",children:(0,ja.jsxs)("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[(0,ja.jsx)(as,{className:"w-4 h-4 mr-1"}),(0,ja.jsx)("span",{className:"text-sm",children:((e,t,r)=>{const a=(null===(e=z.address)||void 0===e?void 0:e.city)||"",n=(null===(t=z.address)||void 0===t?void 0:t.country)||"";if(a||n){const e=[a,n].filter(Boolean);return e.length>0?e.join(", "):"Location not specified"}if(null!==(r=z.seller)&&void 0!==r&&r.location){const e=z.seller.location.split(",").map(e=>e.trim());return e.length>=2?e.slice(-2).join(", "):e[0]}return"Location not specified"})()})]})}),(null===(x=z.time_info)||void 0===x?void 0:x.has_time_limit)&&(0,ja.jsx)("div",{className:"mb-3",children:(0,ja.jsxs)("div",{className:"relative overflow-hidden rounded-xl border-2 ".concat(z.time_info.is_expired||z.time_info.time_remaining_seconds<=3600?"border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30":z.time_info.time_remaining_seconds<=21600?"border-orange-200 dark:border-orange-800 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/30":z.time_info.time_remaining_seconds<=86400?"border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30"),children:[(0,ja.jsx)("div",{className:"absolute top-0 right-0 w-12 h-12 rounded-bl-full ".concat(z.time_info.is_expired||z.time_info.time_remaining_seconds<=3600?"bg-gradient-to-bl from-red-200/20 to-transparent dark:from-red-600/10":z.time_info.time_remaining_seconds<=21600?"bg-gradient-to-bl from-orange-200/20 to-transparent dark:from-orange-600/10":z.time_info.time_remaining_seconds<=86400?"bg-gradient-to-bl from-yellow-200/20 to-transparent dark:from-yellow-600/10":"bg-gradient-to-bl from-green-200/20 to-transparent dark:from-green-600/10")}),(0,ja.jsx)("div",{className:"relative p-3",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"p-1.5 rounded-lg shadow-sm ".concat(z.time_info.is_expired||z.time_info.time_remaining_seconds<=3600?"bg-gradient-to-r from-red-500 to-red-600":z.time_info.time_remaining_seconds<=21600?"bg-gradient-to-r from-orange-500 to-orange-600":z.time_info.time_remaining_seconds<=86400?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600"),children:(0,ja.jsx)(In,{className:"w-3 h-3 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide ".concat(z.time_info.is_expired||z.time_info.time_remaining_seconds<=3600?"text-red-700 dark:text-red-300":z.time_info.time_remaining_seconds<=21600?"text-orange-700 dark:text-orange-300":z.time_info.time_remaining_seconds<=86400?"text-yellow-700 dark:text-yellow-300":"text-green-700 dark:text-green-300"),children:z.time_info.is_expired?"Expired":"Time Left"}),(0,ja.jsx)("div",{className:"text-sm font-bold leading-tight ".concat(z.time_info.is_expired||z.time_info.time_remaining_seconds<=3600?"text-red-900 dark:text-red-100":z.time_info.time_remaining_seconds<=21600?"text-orange-900 dark:text-orange-100":z.time_info.time_remaining_seconds<=86400?"text-yellow-900 dark:text-yellow-100":"text-green-900 dark:text-green-100"),children:(0,ja.jsx)(ws,{timeInfo:z.time_info})})]})]})})]})}),(0,ja.jsxs)("div",{className:"mb-3",children:[(null===(f=z.bid_info)||void 0===f?void 0:f.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&(null===(y=z.bid_info)||void 0===y?void 0:y.has_bids)&&(0,ja.jsx)("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,ja.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ja.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("p",{className:"text-blue-800 dark:text-blue-300 font-semibold text-sm",children:"\ud83c\udf89 You're the highest bidder!"}),(0,ja.jsxs)("p",{className:"text-blue-700 dark:text-blue-400 text-xs",children:["Your bid of \u20ac",z.bid_info.highest_bid.toFixed(2)," is currently winning"]})]})]})}),(0,ja.jsxs)("div",{className:"flex space-x-2",onClick:e=>e.stopPropagation(),children:[(0,ja.jsx)("div",{className:"flex-1",children:(0,ja.jsx)("input",{type:"number",min:(null===(b=z.bid_info)||void 0===b?void 0:b.highest_bid)||z.price||0,step:"10",placeholder:null!==(v=z.time_info)&&void 0!==v&&v.is_expired||(null===(j=z.bid_info)||void 0===j?void 0:j.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&null!==(w=z.bid_info)&&void 0!==w&&w.has_bids?"Bid...":"Min: \u20ac".concat(((null===(k=z.bid_info)||void 0===k?void 0:k.highest_bid)||z.price||0).toFixed(2)),disabled:(null===(N=z.time_info)||void 0===N?void 0:N.is_expired)||(null===(_=z.bid_info)||void 0===_?void 0:_.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&(null===(S=z.bid_info)||void 0===S?void 0:S.has_bids),className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(null!==(C=z.time_info)&&void 0!==C&&C.is_expired?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 cursor-not-allowed":(null===(E=z.bid_info)||void 0===E?void 0:E.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&null!==(O=z.bid_info)&&void 0!==O&&O.has_bids?"border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 cursor-not-allowed":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"),onClick:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),onChange:e=>{e.stopPropagation();e.target.dataset.offerAmount=e.target.value}})}),(0,ja.jsx)("button",{onClick:e=>{var t,r,a,n;if(e.stopPropagation(),null!==(t=z.time_info)&&void 0!==t&&t.is_expired)return void alert("This listing has expired. No more bids can be placed.");if((null===(r=z.bid_info)||void 0===r?void 0:r.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&null!==(a=z.bid_info)&&void 0!==a&&a.has_bids)return void alert("You are already the highest bidder! Wait for others to place higher bids.");const s=(null===(n=e.target.parentElement.previousElementSibling)||void 0===n?void 0:n.querySelector("input"))||e.target.parentElement.parentElement.querySelector("input"),i=parseFloat((null===s||void 0===s?void 0:s.value)||0);i&&i>=(z.highest_bid||z.price||0)?(W(z,i),s.value=""):alert("Please enter an amount of at least \u20ac".concat((z.highest_bid||z.price||0).toFixed(2)))},disabled:Y||(null===(A=z.time_info)||void 0===A?void 0:A.is_expired)||(null===(T=z.bid_info)||void 0===T?void 0:T.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&(null===(P=z.bid_info)||void 0===P?void 0:P.has_bids),className:"px-6 py-2.5 rounded-lg font-medium transition-colors flex items-center space-x-2 ".concat(null!==(L=z.time_info)&&void 0!==L&&L.is_expired?"bg-red-400 text-red-100 cursor-not-allowed":(null===(R=z.bid_info)||void 0===R?void 0:R.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&null!==(M=z.bid_info)&&void 0!==M&&M.has_bids?"bg-blue-400 text-blue-100 cursor-not-allowed":"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white"),title:null!==(F=z.time_info)&&void 0!==F&&F.is_expired?"Listing has expired":(null===(D=z.bid_info)||void 0===D?void 0:D.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&null!==(I=z.bid_info)&&void 0!==I&&I.has_bids?"You are the highest bidder":"Submit tender offer",children:null!==(U=z.time_info)&&void 0!==U&&U.is_expired?(0,ja.jsx)("span",{children:"EXPIRED"}):(null===(q=z.bid_info)||void 0===q?void 0:q.highest_bidder_id)===(null===X||void 0===X?void 0:X.id)&&null!==(B=z.bid_info)&&void 0!==B&&B.has_bids?(0,ja.jsx)("span",{children:"WINNING"}):Y?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Submitting..."})]}):(0,ja.jsx)("span",{children:"Offer"})})]}),(null===$||void 0===$?void 0:$.visible)&&(0,ja.jsx)("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 animate-pulse",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:(0,ja.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ja.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("p",{className:"text-green-800 dark:text-green-300 font-semibold text-sm",children:"\u2705 Tender Submitted Successfully!"}),(0,ja.jsxs)("p",{className:"text-green-700 dark:text-green-400 text-xs",children:["Your offer of \u20ac",$.amount.toFixed(2)," has been submitted to the seller"]})]})]})}),z.highest_bid&&(0,ja.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ja.jsx)("span",{className:"text-yellow-800 dark:text-yellow-300 font-medium",children:"Current highest bid:"}),(0,ja.jsxs)("span",{className:"text-yellow-900 dark:text-yellow-200 font-bold",children:["\u20ac",parseFloat(z.highest_bid).toFixed(2)]})]})})]}),(0,ja.jsx)("div",{className:"mt-2 flex items-center justify-end text-xs text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700 pt-2",children:(0,ja.jsx)("span",{children:z.created_at?new Date(z.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):z.createdAt?new Date(z.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):z.date?new Date(z.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Date not available"})})]})]})}const Ns=function(){var e,t,r;const{user:n}=Pa(),{showToast:s}=Wa(),{filteredProducts:i,addToCart:l,addToFavorites:o,removeFromFavorites:c,favorites:d,setSearchQuery:u,setFilters:h,setSortBy:m,setViewMode:p,searchQuery:g,activeFilters:x,sortBy:f,viewMode:y,isLoading:b,refreshListings:v}=(te(),bn()),[j,w]=(0,a.useState)(!1),[k,N]=(0,a.useState)(null),[_,S]=(0,a.useState)(""),[C,E]=(0,a.useState)(!1),[O,A]=(0,a.useState)({}),[T,P]=(0,a.useState)({}),[L,R]=(0,a.useState)({price_range_min_percent:10,price_range_max_percent:10}),[M,F]=(0,a.useState)({}),[D,I]=(0,a.useState)({show:!1,bidAmount:0,itemTitle:"",itemId:"",success:!1}),U=e=>d.some(t=>t.id===e),q=async(e,t)=>{t.preventDefault(),t.stopPropagation(),n?U(e.id)?await c(e.id,n.id):await o(e,n.id):s("Please login to add favorites","info")},B=(e,t)=>{t.preventDefault(),t.stopPropagation(),n?e.seller_id!==n.id?(N(e),S("Hi! I'm interested in your listing \"".concat(e.title,'". Is it still available?')),w(!0)):s("You can't message yourself about your own listing","info"):s("Please login to message sellers","info")},[z,H]=(0,a.useState)(!1),[V,W]=(0,a.useState)({title:"Discover Amazing Products",description:"From electronics to fashion, find everything you need in one place",height:400,image_url:"",search_placeholder:"Search for anything you need..."}),K=g,G=x,J=f,Y=y,$=i;(0,a.useEffect)(()=>{(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{W(JSON.parse(e))}catch(t){console.error("Error loading hero content:",t)}})();const e=e=>{W(e.detail)};return window.addEventListener("heroContentUpdated",e),()=>{window.removeEventListener("heroContentUpdated",e)}},[]),(0,a.useEffect)(()=>{(async()=>{try{const e="https://cataloro-upgrade.preview.emergentagent.com",t=await fetch("".concat(e,"/api/marketplace/price-range-settings"));if(t.ok){const e=await t.json();R(e)}}catch(e){console.error("Error fetching price range settings:",e)}})(),(async()=>{if(null!==n&&void 0!==n&&n.id)try{const e="https://cataloro-upgrade.preview.emergentagent.com",t=await fetch("".concat(e,"/api/user/").concat(n.id,"/active-bids"));if(t.ok){const{active_bids:e}=await t.json();F(e)}}catch(e){console.error("Error fetching user active bids:",e)}})()},[null===n||void 0===n?void 0:n.id]);const Q=e=>{l(e)},Z=async(e,t)=>{var r;if(n)if((null===(r=e.seller)||void 0===r?void 0:r.username)!==n.username&&e.seller_id!==n.id){A(t=>qe(qe({},t),{},{[e.id]:!0}));try{const r=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({listing_id:e.id,buyer_id:n.id,offer_amount:parseFloat(t)})}),a=await r.json();r.ok?(I({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!0}),P(r=>qe(qe({},r),{},{[e.id]:{amount:parseFloat(t),timestamp:new Date,visible:!0}})),setTimeout(()=>{P(t=>qe(qe({},t),{},{[e.id]:qe(qe({},t[e.id]),{},{visible:!1})}))},5e3),setTimeout(()=>{v()},1e3)):400===r.status?I({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:a.detail||"Invalid tender offer"}):I({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:"Failed to submit tender offer"})}catch(a){console.error("Error submitting tender:",a),I({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:"Network error. Please check your connection and try again."})}finally{A(t=>qe(qe({},t),{},{[e.id]:!1}))}}else s("You cannot bid on your own listing","error");else s("Please login to submit tender offers","error")},X=e=>{h(e)},ee=e=>{p(e)};return b?(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading amazing products..."})]})}):(0,ja.jsxs)("div",{className:"full_width"===V.display_mode?"":"space-y-8",children:[(0,ja.jsxs)("div",{className:"hero-section relative text-white overflow-hidden ".concat("full_width"===V.display_mode?"w-screen -ml-[50vw] left-1/2 -mt-8":"w-full rounded-2xl"),style:{height:V.height?"".concat(V.height,"px"):"400px",minHeight:"300px",background:"solid"===V.background_type?V.background_color||"#3B82F6":"gradient"===V.background_type?"linear-gradient(to right, ".concat(V.background_gradient_from||"#3B82F6",", ").concat(V.background_gradient_to||"#EC4899",")"):"image"===V.background_type&&V.background_image?"url(".concat(V.background_image,")"):"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)",backgroundSize:"image"===V.background_type?"cover":"auto",backgroundPosition:"image"===V.background_type?"center":"auto"},children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,ja.jsxs)("div",{className:"relative z-10 text-center flex flex-col justify-center h-full px-8",children:[V.image_url&&(0,ja.jsx)("div",{className:"mb-6 flex justify-center",children:(0,ja.jsx)("img",{src:V.image_url,alt:"Hero",className:"max-h-24 max-w-48 object-contain"})}),(0,ja.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:V.title}),(0,ja.jsx)("p",{className:"text-xl mb-8 opacity-90 max-w-3xl mx-auto",children:V.description}),(0,ja.jsx)("div",{className:"w-full",children:(0,ja.jsx)("div",{className:"search-bar-container relative bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 max-w-4xl mx-auto",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)($n,{className:"absolute left-6 text-white/70 w-6 h-6"}),(0,ja.jsx)("input",{type:"text",placeholder:V.search_placeholder||"Search for anything you need...",value:K,onChange:e=>{return t=e.target.value,void u(t);var t},className:"w-full pl-16 pr-4 py-4 bg-transparent text-white placeholder-white/70 text-lg focus:outline-none"}),(0,ja.jsx)("button",{onClick:()=>{var e;K.trim()&&(null===(e=document.getElementById("search-results"))||void 0===e||e.scrollIntoView({behavior:"smooth"}))},className:"flex-shrink-0 px-8 py-4 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white rounded-xl font-semibold transition-all duration-200 hover:scale-105",children:"Search"})]})})})]})]}),(0,ja.jsxs)("div",{id:"search-results",className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between ".concat("full_width"===V.display_mode?"mt-8":""),children:[(0,ja.jsxs)("div",{className:"flex items-center gap-4 text-gray-600 dark:text-gray-300",children:[(0,ja.jsxs)("span",{className:"text-lg font-semibold",children:[$.length," Result",1!==$.length?"s":"",K&&' for "'.concat(K,'"')]}),(0,ja.jsxs)("button",{onClick:async()=>{try{s("Refreshing listings...","info"),await v(),s("Listings refreshed!","success")}catch(e){console.error("Failed to refresh listings:",e),s("Failed to refresh listings","error")}},className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg font-medium transition-all duration-200 hover:scale-105",title:"Refresh listings from server",children:[(0,ja.jsx)(Ln,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("button",{onClick:()=>H(!z),className:"flex items-center space-x-2 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[(0,ja.jsx)(fs,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Filters"})]}),(0,ja.jsxs)("select",{value:J,onChange:e=>{return t=e.target.value,void m(t);var t},className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[(0,ja.jsx)("option",{value:"newest",children:"Newest First"}),(0,ja.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,ja.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,ja.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,ja.jsx)("option",{value:"popular",children:"Most Popular"})]}),(0,ja.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[(0,ja.jsx)("button",{onClick:()=>ee("grid"),className:"p-2 rounded-lg transition-all duration-200 ".concat("grid"===Y?"bg-white dark:bg-gray-700 shadow-sm text-blue-600":"text-gray-600 dark:text-gray-400"),children:(0,ja.jsx)(Yn,{className:"w-5 h-5"})}),(0,ja.jsx)("button",{onClick:()=>ee("list"),className:"p-2 rounded-lg transition-all duration-200 ".concat("list"===Y?"bg-white dark:bg-gray-700 shadow-sm text-blue-600":"text-gray-600 dark:text-gray-400"),children:(0,ja.jsx)(ys,{className:"w-5 h-5"})})]})]})]}),z&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Advanced Filters"}),(0,ja.jsx)("button",{onClick:()=>H(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ja.jsx)(Fn,{className:"w-5 h-5"})})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,ja.jsxs)("select",{value:G.type,onChange:e=>X(qe(qe({},G),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-10 leading-none",children:[(0,ja.jsx)("option",{value:"all",children:"All Types"}),(0,ja.jsx)("option",{value:"Private",children:"Private"}),(0,ja.jsx)("option",{value:"Business",children:"Business"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range (\u20ac)"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 h-10",children:[(0,ja.jsx)("div",{className:"flex-1",children:(0,ja.jsx)("input",{type:"number",placeholder:"From",min:"0",value:G.priceFrom,onChange:e=>X(qe(qe({},G),{},{priceFrom:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm h-full"})}),(0,ja.jsx)("span",{className:"text-gray-500 dark:text-gray-400 flex-shrink-0",children:"-"}),(0,ja.jsx)("div",{className:"flex-1",children:(0,ja.jsx)("input",{type:"number",placeholder:"To",min:"0",value:G.priceTo,onChange:e=>X(qe(qe({},G),{},{priceTo:parseInt(e.target.value)||1e4})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm h-full"})})]}),(0,ja.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["From \u20ac",G.priceFrom," to \u20ac",G.priceTo]})]}),(0,ja.jsxs)("div",{className:"flex flex-col",children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Actions"}),(0,ja.jsx)("button",{onClick:()=>X({type:"all",priceFrom:0,priceTo:1e4,location:"all",rating:0}),className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors h-10",children:"Clear Filters"})]})]})]}),0===$.length?(0,ja.jsxs)("div",{className:"text-center py-16",children:[(0,ja.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)($n,{className:"w-8 h-8 text-gray-400"})}),(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No products found"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:K?"Try adjusting your search terms or filters":"Be the first to create a listing!"}),(0,ja.jsx)(Pe,{to:"/create-listing",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Create Your First Listing"})]}):(0,ja.jsx)("div",{className:"grid"===Y?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:$.map(e=>(0,ja.jsx)(ks,{item:e,viewMode:Y,onAddToCart:Q,onSubmitTender:Z,onFavoriteToggle:q,onMessageSeller:B,isInFavorites:U,isSubmittingTender:O[e.id]||!1,tenderConfirmation:T[e.id],priceRangeSettings:L,userActiveBids:M,user:n},e.id))}),$.length>0&&(0,ja.jsx)("div",{className:"text-center pt-8",children:(0,ja.jsx)("button",{className:"px-8 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Load More Products"})}),j&&k&&(0,ja.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,ja.jsx)(Cn,{className:"w-6 h-6 mr-2"}),"Message Seller"]}),(0,ja.jsx)("button",{onClick:()=>w(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,ja.jsx)(Fn,{className:"w-6 h-6"})})]})}),(0,ja.jsxs)("div",{className:"p-6",children:[(0,ja.jsxs)("div",{className:"flex items-start space-x-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[(0,ja.jsx)("img",{src:(null===(e=k.images)||void 0===e?void 0:e[0])||"/api/placeholder/400/300",alt:k.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,ja.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ja.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:k.title}),(0,ja.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",parseFloat(k.price||0).toFixed(2)]}),(0,ja.jsxs)("div",{className:"flex items-center mt-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsx)(Vn,{className:"w-4 h-4 mr-1"}),"Seller: ","string"===typeof k.seller?k.seller:(null===(t=k.seller)||void 0===t?void 0:t.name)||k.seller_id||"Unknown"]})]})]}),(0,ja.jsxs)("div",{className:"mb-6",children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Message"}),(0,ja.jsx)("textarea",{value:_,onChange:e=>S(e.target.value),rows:4,className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Type your message to the seller..."})]}),(0,ja.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,ja.jsx)("button",{onClick:()=>w(!1),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,ja.jsx)("button",{onClick:async()=>{if(_.trim()&&k)try{E(!0),await Ga.sendMessage(n.id,{recipient_id:k.seller_id,subject:"Inquiry about: ".concat(k.title),content:_}),s("Message sent successfully!","success"),w(!1),S(""),N(null)}catch(e){console.error("Failed to send message:",e),s("Failed to send message. Please try again.","error")}finally{E(!1)}else s("Please enter a message","error")},disabled:!_.trim()||C,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-xl font-medium transition-colors flex items-center",children:C?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(bs,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})}),D.show&&(0,ja.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 ".concat(D.success?"bg-gradient-to-r from-green-600 to-emerald-600":"bg-gradient-to-r from-red-600 to-pink-600"),children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("h3",{className:"text-xl font-bold text-white flex items-center",children:D.success?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ja.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Bid Submitted Successfully!"]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ja.jsx)("path",{fillRule:"evenodd",d:"18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Bid Submission Failed"]})}),(0,ja.jsx)("button",{onClick:()=>I(qe(qe({},D),{},{show:!1})),className:"text-white hover:text-gray-200 transition-colors",children:(0,ja.jsx)(Fn,{className:"w-6 h-6"})})]})}),(0,ja.jsx)("div",{className:"p-6",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsxs)("div",{className:"mb-4",children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:D.itemTitle}),(0,ja.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",null===(r=D.bidAmount)||void 0===r?void 0:r.toFixed(2)]})]}),D.success?(0,ja.jsx)("div",{className:"space-y-3",children:(0,ja.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[(0,ja.jsx)("p",{className:"text-green-800 dark:text-green-300 font-medium",children:"\ud83c\udf89 Your tender offer has been submitted successfully!"}),(0,ja.jsx)("p",{className:"text-green-700 dark:text-green-400 text-sm mt-1",children:"The seller will be notified and can accept or decline your offer."})]})}):(0,ja.jsx)("div",{className:"space-y-3",children:(0,ja.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[(0,ja.jsxs)("p",{className:"text-red-800 dark:text-red-300 font-medium",children:["\u274c ",D.errorMessage]}),(0,ja.jsx)("p",{className:"text-red-700 dark:text-red-400 text-sm mt-1",children:"Please check your bid amount and try again."})]})}),(0,ja.jsx)("div",{className:"mt-6",children:(0,ja.jsx)("button",{onClick:()=>I(qe(qe({},D),{},{show:!1})),className:"w-full px-6 py-3 rounded-xl font-medium transition-colors ".concat(D.success?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"),children:D.success?"Great!":"Try Again"})})]})})]})})]})},_s=wn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ss=wn("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),Cs=wn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Es=wn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Os=wn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),As=wn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ts=wn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Ps=function(){var e,t,r,n,s,i;const[l,o]=(0,a.useState)(null),{allProducts:c,setFilters:d,addToCart:u,showNotification:h}=bn(),m=(()=>{const e={};return c.forEach(t=>{const r=t.category||"Other";e[r]||(e[r]=[]),e[r].push(t)}),e})(),p=[{id:"electronics",name:"Electronics",icon:_s,color:"from-blue-500 to-cyan-500",count:(null===(e=m.Electronics)||void 0===e?void 0:e.length)||0,trending:!0,subcategories:["Smartphones","Laptops","Tablets","Gaming","Audio","Cameras"],featuredProducts:(null===(t=m.Electronics)||void 0===t?void 0:t.slice(0,2).map(e=>{var t;return{name:e.title,price:e.price,image:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=200"}}))||[]},{id:"fashion",name:"Fashion",icon:Ss,color:"from-pink-500 to-rose-500",count:(null===(r=m.Fashion)||void 0===r?void 0:r.length)||0,trending:!1,subcategories:["Clothing","Shoes","Accessories","Bags","Jewelry","Watches"],featuredProducts:(null===(n=m.Fashion)||void 0===n?void 0:n.slice(0,2).map(e=>{var t;return{name:e.title,price:e.price,image:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=200"}}))||[]},{id:"music",name:"Music",icon:Cs,color:"from-purple-500 to-indigo-500",count:(null===(s=m.Music)||void 0===s?void 0:s.length)||0,trending:!0,subcategories:["Instruments","Audio Equipment","Records","Sheet Music"],featuredProducts:(null===(i=m.Music)||void 0===i?void 0:i.slice(0,2).map(e=>{var t;return{name:e.title,price:e.price,image:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=200"}}))||[]},{id:"home",name:"Home & Garden",icon:Es,color:"from-green-500 to-emerald-500",count:890,trending:!1,subcategories:["Furniture","Decor","Garden","Kitchen","Tools","Appliances"],featuredProducts:[{name:"Modern Sofa",price:899,image:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=200"},{name:"Coffee Table",price:299,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=200"}]}],g=p.filter(e=>e.trending);return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Explore Categories"}),(0,ja.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Discover millions of products across all categories. From electronics to fashion, find exactly what you're looking for."})]}),(0,ja.jsx)("div",{className:"bg-gradient-to-r from-orange-400 via-pink-500 to-purple-600 rounded-2xl p-8 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h2",{className:"text-2xl font-bold mb-2 flex items-center",children:[(0,ja.jsx)(qn,{className:"w-8 h-8 mr-3"}),"Trending Now"]}),(0,ja.jsx)("p",{className:"text-lg opacity-90",children:"Hot categories with the most activity this week"})]}),(0,ja.jsx)("div",{className:"hidden md:flex space-x-4",children:g.slice(0,3).map(e=>{const t=e.icon;return(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-2 backdrop-blur-sm",children:(0,ja.jsx)(t,{className:"w-8 h-8"})}),(0,ja.jsx)("p",{className:"text-sm font-medium",children:e.name})]},e.id)})})]})}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:p.reduce((e,t)=>e+t.count,0).toLocaleString()}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Total Products"})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:p.length}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Categories"})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:p.reduce((e,t)=>e+t.subcategories.length,0)}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Subcategories"})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"24/7"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"New Listings"})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(Os,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Popular Right Now"]}),(0,ja.jsx)("div",{className:"flex flex-wrap gap-2",children:["Smartphones","Laptops","Designer Bags","Gaming","Furniture","Fitness Equipment","Guitars","Sneakers","Home Decor","Audio Equipment"].map(e=>(0,ja.jsx)(Pe,{to:"/browse?category=".concat(encodeURIComponent(e)),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-700 dark:hover:text-blue-300 transition-all duration-200 text-sm font-medium",children:e},e))})]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(e=>{const t=e.icon;return(0,ja.jsxs)("div",{className:"group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer",onClick:()=>o(l===e.id?null:e.id),children:[(0,ja.jsxs)("div",{className:"bg-gradient-to-br ".concat(e.color," p-6 text-white relative"),children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsx)(t,{className:"w-12 h-12"}),e.trending&&(0,ja.jsx)("span",{className:"bg-white/20 text-white text-xs px-2 py-1 rounded-full font-medium backdrop-blur-sm",children:"Trending"})]}),(0,ja.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.name}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("span",{className:"text-white/90",children:[e.count.toLocaleString()," items"]}),(0,ja.jsx)(As,{className:"w-5 h-5 transition-transform duration-300 ".concat(l===e.id?"rotate-90":"")})]})]}),(0,ja.jsx)("div",{className:"transition-all duration-300 overflow-hidden ".concat(l===e.id?"max-h-96":"max-h-0"),children:(0,ja.jsxs)("div",{className:"p-4",children:[(0,ja.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Subcategories"}),(0,ja.jsx)("div",{className:"space-y-2",children:e.subcategories.map(e=>(0,ja.jsxs)(Pe,{to:"/browse?category=".concat(encodeURIComponent(e)),className:"block text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors py-1",children:["\u2022 ",e]},e))}),e.featuredProducts&&(0,ja.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ja.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Featured"}),(0,ja.jsx)("div",{className:"space-y-3",children:e.featuredProducts.map(e=>(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-cover rounded-lg"}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,ja.jsxs)("p",{className:"text-sm text-blue-600 font-semibold",children:["$",e.price.toLocaleString()]})]})]},e.name))})]})]})}),(0,ja.jsx)("div",{className:"p-4 pt-0",children:(0,ja.jsxs)("button",{onClick:()=>{var t;t=e.name,d({category:t}),h("Browsing ".concat(t," category"),"info"),window.location.href="/browse?category=".concat(encodeURIComponent(e.name))},className:"w-full flex items-center justify-center space-x-2 bg-gray-100 dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 py-3 rounded-lg transition-all duration-200 font-medium",children:[(0,ja.jsxs)("span",{children:["Browse ",e.name]}),(0,ja.jsx)(Ts,{className:"w-4 h-4"})]})})]},e.id)})}),(0,ja.jsxs)("div",{className:"text-center bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-8 text-white",children:[(0,ja.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Can't find what you're looking for?"}),(0,ja.jsx)("p",{className:"text-lg mb-6 opacity-90",children:"Browse all products or use our advanced search to find exactly what you need"}),(0,ja.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,ja.jsx)(Pe,{to:"/browse",className:"px-8 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:bg-gray-100 transition-colors",children:"Browse All Products"}),(0,ja.jsx)(Pe,{to:"/search",className:"px-8 py-3 border border-white text-white rounded-xl font-semibold hover:bg-white/10 transition-colors",children:"Advanced Search"})]})]})]})},Ls=wn("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);const Rs=function(){const{user:e}=Pa(),{showToast:t}=Wa(),{cartItems:r,cartCount:n,cartTotal:s,favorites:i,updateQuantity:l,removeFromCart:o,addToCart:c,addToFavorites:d,removeFromFavorites:u,appliedPromo:h,applyPromo:m,removePromo:p,showNotification:g,allProducts:x}=bn(),[f,y]=(0,a.useState)(""),[b,v]=(0,a.useState)([]),[j,w]=(0,a.useState)([]),[k,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&(_(),S())},[e]);const _=async()=>{if(e){N(!0);try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/buyer/").concat(e.id));if(t.ok){const e=await t.json();v(e.filter(e=>"pending"===e.status))}}catch(t){console.error("Error fetching pending orders:",t)}finally{N(!1)}}},S=async()=>{if(e)try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/buyer/").concat(e.id));if(t.ok){const e=await t.json();w(e.filter(e=>"approved"===e.status||"rejected"===e.status))}}catch(t){console.error("Error fetching approved/denied sales:",t)}},C=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const a=Math.floor(r/36e5),n=Math.floor(r%36e5/6e4);if(a>24){const e=Math.floor(a/24),t=a%24;return"".concat(e,"d ").concat(t,"h")}return a>0?"".concat(a,"h ").concat(n,"m"):"".concat(n,"m")},E=i.filter(e=>!r.some(t=>t.id===e.id)),O=x.filter(e=>!r.some(t=>t.id===e.id)&&!i.some(t=>t.id===e.id)).slice(0,4),A=s,T=h?A*(h.discount||0):0,P=A-T+(null!==h&&void 0!==h&&h.shippingDiscount?0:A>0?25:0)+.08*(A-T);return(0,ja.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(Rn,{className:"w-8 h-8 mr-3"}),"Shopping Cart"]}),(0,ja.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[n," item",1!==n?"s":""," in your cart"]})]}),r.length>0&&(0,ja.jsxs)("div",{className:"text-right",children:[(0,ja.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",P.toFixed(2)]}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]})]}),b.length>0&&(0,ja.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsxs)("h2",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-200 flex items-center",children:[(0,ja.jsx)(In,{className:"w-5 h-5 mr-2"}),"Pending Buy Requests (",b.length,")"]}),(0,ja.jsx)("button",{onClick:_,className:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:(0,ja.jsx)(In,{className:"w-4 h-4"})})]}),(0,ja.jsx)("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mb-4",children:"These items are waiting for seller approval. You'll be notified when they respond."}),(0,ja.jsx)("div",{className:"space-y-3",children:b.map(r=>{var a,n,s,i,l;return(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700",children:null!==(a=r.listing)&&void 0!==a&&a.image?(0,ja.jsx)("img",{src:r.listing.image,alt:r.listing.title,className:"w-full h-full object-cover"}):(0,ja.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ja.jsx)(Rn,{className:"w-6 h-6 text-gray-400"})})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:(null===(n=r.listing)||void 0===n?void 0:n.title)||"Unknown Item"}),(0,ja.jsxs)("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:["\u20ac",(null===(s=r.listing)||void 0===s||null===(i=s.price)||void 0===i?void 0:i.toFixed(2))||"0.00"]}),(0,ja.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Seller: ",(null===(l=r.seller)||void 0===l?void 0:l.username)||"Unknown"]})]})]}),(0,ja.jsxs)("div",{className:"text-right",children:[(0,ja.jsxs)("div",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400 mb-2",children:[C(r.expires_at)," remaining"]}),(0,ja.jsx)("button",{onClick:()=>(async r=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/").concat(r,"/cancel"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_id:e.id})})).ok?(t("Order cancelled successfully","success"),_()):t("Failed to cancel order","error")}catch(a){console.error("Error cancelling order:",a),t("Failed to cancel order","error")}})(r.id),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-sm font-medium",children:"Cancel Request"})]})]},r.id)})})]}),j.length>0&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ja.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Recent Order Updates (",j.length,")"]}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Your recent approved and denied purchase requests"})]}),(0,ja.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:j.map((e,t)=>{var r,a,n,s,i,l,o;return(0,ja.jsx)("div",{className:"p-6",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700",children:null!==(r=e.listing)&&void 0!==r&&r.image?(0,ja.jsx)("img",{src:e.listing.image,alt:e.listing.title,className:"w-full h-full object-cover"}):(0,ja.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ja.jsx)(Rn,{className:"w-6 h-6 text-gray-400"})})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:(null===(a=e.listing)||void 0===a?void 0:a.title)||"Unknown Item"}),(0,ja.jsxs)("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:["\u20ac",(null===(n=e.listing)||void 0===n||null===(s=n.price)||void 0===s?void 0:s.toFixed(2))||(null===(i=e.amount)||void 0===i?void 0:i.toFixed(2))||"0.00"]}),(0,ja.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Seller: ",(null===(l=e.seller)||void 0===l?void 0:l.username)||"Unknown"]}),(null===(o=e.seller)||void 0===o?void 0:o.email)&&(0,ja.jsxs)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Contact: ",e.seller.email]})]})]}),(0,ja.jsx)("div",{className:"text-right",children:"approved"===e.status?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium mb-2",children:"\u2705 Approved"}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:e.approved_at?new Date(e.approved_at).toLocaleDateString():"Recently"}),(0,ja.jsxs)("button",{onClick:()=>{var t;const r=e.seller_id||(null===(t=e.seller)||void 0===t?void 0:t.id);window.location.href="/messages?user=".concat(r,"&subject=Order ").concat(e.id)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg font-medium transition-colors flex items-center space-x-2",title:"Start conversation with seller",children:[(0,ja.jsx)(Cn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Chat Now"})]})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium mb-2",children:"\u274c Denied"}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:e.updated_at?new Date(e.updated_at).toLocaleDateString():"Recently"}),(0,ja.jsxs)("button",{onClick:()=>{var t;const r=e.seller_id||(null===(t=e.seller)||void 0===t?void 0:t.id);window.location.href="/messages?user=".concat(r,"&subject=About Order ").concat(e.id)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-lg font-medium transition-colors flex items-center space-x-2",title:"Contact seller about denied order",children:[(0,ja.jsx)(Cn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Contact Seller"})]})]})})]})},e.id||t)})})]}),0===r.length&&0===b.length&&0===j.length?(0,ja.jsxs)("div",{className:"text-center py-16",children:[(0,ja.jsx)("div",{className:"w-32 h-32 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)(Rn,{className:"w-16 h-16 text-gray-400"})}),(0,ja.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Your cart is empty"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Looks like you haven't added anything to your cart yet. Start browsing to find amazing products!"}),(0,ja.jsxs)(Pe,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:["Start Shopping",(0,ja.jsx)(Ts,{className:"w-5 h-5 ml-2"})]})]}):(0,ja.jsx)("div",{className:"space-y-6",children:(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Cart Items (",r.length,")"]})}),(0,ja.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(e=>{var t,r;return(0,ja.jsx)("div",{className:"p-6",children:(0,ja.jsxs)("div",{className:"flex space-x-4",children:[(0,ja.jsx)("div",{className:"w-24 h-24 flex-shrink-0",children:(0,ja.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=200",alt:e.title,className:"w-full h-full object-cover rounded-lg"})}),(0,ja.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ja.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.title}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Sold by ",(null===(r=e.seller)||void 0===r?void 0:r.name)||e.seller||"Unknown Seller"]})]}),(0,ja.jsx)("div",{className:"text-right",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["\u20ac",e.price]}),e.originalPrice&&(0,ja.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["\u20ac",e.originalPrice]})]})})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-2 mb-3",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(Os,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,ja.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:[e.rating||4.5," (",e.reviewCount||e.reviews||0," reviews)"]})]})}),(0,ja.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[(0,ja.jsxs)("span",{className:"flex items-center",children:[(0,ja.jsx)(ds,{className:"w-4 h-4 mr-1 text-green-500"}),e.condition||"New"]}),(0,ja.jsxs)("span",{className:"flex items-center",children:[(0,ja.jsx)(Ls,{className:"w-4 h-4 mr-1"}),e.shipping||"Standard shipping"]}),(0,ja.jsxs)("span",{className:"flex items-center",children:[(0,ja.jsx)(In,{className:"w-4 h-4 mr-1"}),e.estimatedDelivery||"3-5 business days"]})]}),(0,ja.jsx)("div",{className:"flex items-center justify-end",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("button",{onClick:()=>(e=>{d(e),o(e.id),g("Moved ".concat(e.title," to favorites"),"info")})(e),className:"p-2 text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Save for later",children:(0,ja.jsx)(En,{className:"w-5 h-5"})}),(0,ja.jsx)("button",{onClick:()=>o(e.id),className:"p-2 text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove from cart",children:(0,ja.jsx)(Dn,{className:"w-5 h-5"})})]})})]})]})},e.id)})})]}),E.length>0&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(En,{className:"w-6 h-6 mr-2 text-red-500"}),"Saved for Later (",E.length,")"]})}),(0,ja.jsx)("div",{className:"p-6",children:(0,ja.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:E.map(e=>{var t;return(0,ja.jsxs)("div",{className:"flex space-x-3 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ja.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image||"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=200",alt:e.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.title}),(0,ja.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:["\u20ac",e.price]}),(0,ja.jsx)("button",{onClick:()=>(e=>{const t=qe(qe({},e),{},{quantity:1});c(t),u(e.id)})(e),className:"text-sm text-blue-600 hover:text-blue-700 font-medium mt-1",children:"Add to Cart"})]})]},e.id)})})})]}),O.length>0&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"You might also like"})}),(0,ja.jsx)("div",{className:"p-6",children:(0,ja.jsx)("div",{className:"grid grid-cols-2 gap-4",children:O.map(e=>{var t;return(0,ja.jsxs)("div",{className:"text-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow",children:[(0,ja.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=200",alt:e.title,className:"w-full h-24 object-cover rounded-lg mb-3"}),(0,ja.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-sm mb-1",children:e.title}),(0,ja.jsxs)("p",{className:"text-lg font-bold text-blue-600 mb-2",children:["\u20ac",e.price]}),(0,ja.jsx)("button",{onClick:()=>c(e),className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Add to Cart"})]},e.id)})})})]})]})})]})},Ms=wn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Fs=wn("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ds=wn("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),Is=wn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Us=wn("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),qs=wn("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const Bs=function(e){let{listingId:t,sellerId:r,className:n=""}=e;const[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(0),[c,d]=(0,a.useState)({5:0,4:0,3:0,2:0,1:0}),[u,h]=(0,a.useState)({}),[m,p]=(0,a.useState)(!0),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)({rating:5,title:"",content:"",technicalDetails:{activityRating:5,selectivityRating:5,stabilityRating:5,reactionConditions:"",yieldAchieved:"",observations:""},wouldRecommend:!0}),[b,v]=(0,a.useState)("newest"),{user:j}=Pa(),{showToast:w}=Wa();(0,a.useEffect)(()=>{k()},[t,b]);const k=async()=>{try{p(!0);const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/reviews/listing/").concat(t,"?sort_by=").concat(b));if(e.ok){const t=await e.json();if(i(t.reviews||[]),o(t.average_rating||0),d(t.rating_distribution||{5:0,4:0,3:0,2:0,1:0}),t.reviews&&t.reviews.length>0){const e=N(t.reviews);h(e)}}}catch(e){console.error("Error loading reviews:",e),w("Failed to load reviews","error")}finally{p(!1)}},N=e=>{const t=e.reduce((e,t)=>{const r=t.technical_details||{};return{activity:e.activity+(r.activityRating||0),selectivity:e.selectivity+(r.selectivityRating||0),stability:e.stability+(r.stabilityRating||0),count:e.count+1}},{activity:0,selectivity:0,stability:0,count:0});return 0===t.count?{}:{avgActivity:(t.activity/t.count).toFixed(1),avgSelectivity:(t.selectivity/t.count).toFixed(1),avgStability:(t.stability/t.count).toFixed(1),totalReviews:t.count}},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-4 h-4";return(0,ja.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(r=>(0,ja.jsx)(Os,{className:"".concat(t," ").concat(r<=e?"text-yellow-400 fill-current":"text-gray-300")},r))})},S=function(e){const t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:5)*100;return(0,ja.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,ja.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(t,"%")}})})};return m?(0,ja.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 ".concat(n),children:(0,ja.jsxs)("div",{className:"animate-pulse",children:[(0,ja.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),(0,ja.jsx)("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>(0,ja.jsx)("div",{className:"border-b border-gray-200 pb-4",children:(0,ja.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ja.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),(0,ja.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,ja.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},t))})]})}):(0,ja.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 ".concat(n),children:[(0,ja.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,ja.jsx)(Ds,{className:"h-5 w-5 mr-2 text-blue-600"}),"Catalyst Performance Reviews"]}),j&&(0,ja.jsx)("button",{onClick:()=>x(!g),className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Write Technical Review"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:l.toFixed(1)}),(0,ja.jsx)("div",{className:"flex items-center justify-center mb-2",children:_(Math.round(l),"w-5 h-5")}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600",children:[s.length," reviews"]})]}),(0,ja.jsx)("div",{className:"space-y-2",children:[5,4,3,2,1].map(e=>(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("span",{className:"text-sm font-medium w-3",children:e}),(0,ja.jsx)(Os,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,ja.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,ja.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:s.length>0?"".concat(c[e]/s.length*100,"%"):"0%"}})}),(0,ja.jsx)("span",{className:"text-sm text-gray-600 w-8",children:c[e]})]},e))}),u.totalReviews>0&&(0,ja.jsxs)("div",{className:"space-y-3",children:[(0,ja.jsxs)("h4",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ja.jsx)(Qn,{className:"h-4 w-4 mr-1"}),"Avg Performance"]}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-xs text-gray-600",children:"Activity"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 w-2/3",children:[S(u.avgActivity),(0,ja.jsx)("span",{className:"text-xs font-medium text-gray-700",children:u.avgActivity})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-xs text-gray-600",children:"Selectivity"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 w-2/3",children:[S(u.avgSelectivity),(0,ja.jsx)("span",{className:"text-xs font-medium text-gray-700",children:u.avgSelectivity})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-xs text-gray-600",children:"Stability"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 w-2/3",children:[S(u.avgStability),(0,ja.jsx)("span",{className:"text-xs font-medium text-gray-700",children:u.avgStability})]})]})]})]})]})]}),g&&(0,ja.jsx)("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:(0,ja.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j)try{if(!(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/reviews/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe(qe({listing_id:t,seller_id:r,user_id:j.id,user_name:j.full_name||j.username,user_avatar:j.avatar},f),{},{technical_details:f.technicalDetails,verified:j.verified||!1}))})).ok)throw new Error("Failed to create review");w("Review submitted successfully!","success"),y({rating:5,title:"",content:"",technicalDetails:{activityRating:5,selectivityRating:5,stabilityRating:5,reactionConditions:"",yieldAchieved:"",observations:""},wouldRecommend:!0}),x(!1),k()}catch(a){console.error("Error submitting review:",a),w("Failed to submit review","error")}else w("Please login to write a review","error")},className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),(0,ja.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,ja.jsx)("button",{type:"button",onClick:()=>y(t=>qe(qe({},t),{},{rating:e})),className:"focus:outline-none",children:(0,ja.jsx)(Os,{className:"w-8 h-8 ".concat(e<=f.rating?"text-yellow-400 fill-current":"text-gray-300 hover:text-yellow-300"," transition-colors duration-200")})},e))})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-blue-50 rounded-lg",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,ja.jsx)(Is,{className:"h-4 w-4 inline mr-1"}),"Activity"]}),(0,ja.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,ja.jsx)("button",{type:"button",onClick:()=>y(t=>qe(qe({},t),{},{technicalDetails:qe(qe({},t.technicalDetails),{},{activityRating:e})})),className:"focus:outline-none",children:(0,ja.jsx)(Os,{className:"w-5 h-5 ".concat(e<=f.technicalDetails.activityRating?"text-blue-500 fill-current":"text-gray-300 hover:text-blue-400"," transition-colors duration-200")})},e))})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selectivity"}),(0,ja.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,ja.jsx)("button",{type:"button",onClick:()=>y(t=>qe(qe({},t),{},{technicalDetails:qe(qe({},t.technicalDetails),{},{selectivityRating:e})})),className:"focus:outline-none",children:(0,ja.jsx)(Os,{className:"w-5 h-5 ".concat(e<=f.technicalDetails.selectivityRating?"text-green-500 fill-current":"text-gray-300 hover:text-green-400"," transition-colors duration-200")})},e))})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stability"}),(0,ja.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,ja.jsx)("button",{type:"button",onClick:()=>y(t=>qe(qe({},t),{},{technicalDetails:qe(qe({},t.technicalDetails),{},{stabilityRating:e})})),className:"focus:outline-none",children:(0,ja.jsx)(Os,{className:"w-5 h-5 ".concat(e<=f.technicalDetails.stabilityRating?"text-purple-500 fill-current":"text-gray-300 hover:text-purple-400"," transition-colors duration-200")})},e))})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title"}),(0,ja.jsx)("input",{type:"text",value:f.title,onChange:e=>y(t=>qe(qe({},t),{},{title:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Summarize your experience with this catalyst",required:!0})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yield Achieved (%)"}),(0,ja.jsx)("input",{type:"text",value:f.technicalDetails.yieldAchieved,onChange:e=>y(t=>qe(qe({},t),{},{technicalDetails:qe(qe({},t.technicalDetails),{},{yieldAchieved:e.target.value})})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 95%"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reaction Conditions"}),(0,ja.jsx)("input",{type:"text",value:f.technicalDetails.reactionConditions,onChange:e=>y(t=>qe(qe({},t),{},{technicalDetails:qe(qe({},t.technicalDetails),{},{reactionConditions:e.target.value})})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 150\xb0C, 2 bar H2, 4 hours"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detailed Review"}),(0,ja.jsx)("textarea",{value:f.content,onChange:e=>y(t=>qe(qe({},t),{},{content:e.target.value})),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Share your detailed experience with this catalyst...",required:!0})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Observations"}),(0,ja.jsx)("textarea",{value:f.technicalDetails.observations,onChange:e=>y(t=>qe(qe({},t),{},{technicalDetails:qe(qe({},t.technicalDetails),{},{observations:e.target.value})})),rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any other technical observations..."})]}),(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("input",{type:"checkbox",id:"recommend",checked:f.wouldRecommend,onChange:e=>y(t=>qe(qe({},t),{},{wouldRecommend:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ja.jsx)("label",{htmlFor:"recommend",className:"ml-2 text-sm text-gray-700",children:"I would recommend this catalyst to other researchers"})]}),(0,ja.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ja.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,ja.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Submit Review"})]})]})}),(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Reviews (",s.length,")"]}),(0,ja.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ja.jsx)("option",{value:"newest",children:"Newest First"}),(0,ja.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,ja.jsx)("option",{value:"highest",children:"Highest Rated"}),(0,ja.jsx)("option",{value:"lowest",children:"Lowest Rated"}),(0,ja.jsx)("option",{value:"helpful",children:"Most Helpful"})]})]})}),(0,ja.jsx)("div",{className:"p-6",children:s.length>0?(0,ja.jsx)("div",{className:"space-y-6",children:s.map(e=>(0,ja.jsx)("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:(0,ja.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ja.jsx)("img",{src:e.user_avatar||"/api/placeholder/40/40",alt:e.user_name,className:"w-10 h-10 rounded-full object-cover"}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("h4",{className:"font-medium text-gray-900",children:e.user_name}),e.verified&&(0,ja.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,ja.jsx)(Sn,{className:"w-4 h-4 mr-1"}),(0,ja.jsx)("span",{className:"text-xs font-medium",children:"Verified"})]})]}),(0,ja.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[_(e.rating),e.would_recommend&&(0,ja.jsx)("span",{className:"text-xs text-green-600 font-medium bg-green-50 px-2 py-1 rounded-full",children:"Recommends"})]}),(0,ja.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:e.title}),(0,ja.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed mb-3",children:e.content}),e.technical_details&&(0,ja.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:[(0,ja.jsxs)("h6",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,ja.jsx)(Ds,{className:"h-4 w-4 mr-1"}),"Technical Performance"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-sm text-gray-600",children:"Activity"}),_(e.technical_details.activityRating||0,"w-3 h-3")]}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-sm text-gray-600",children:"Selectivity"}),_(e.technical_details.selectivityRating||0,"w-3 h-3")]}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-sm text-gray-600",children:"Stability"}),_(e.technical_details.stabilityRating||0,"w-3 h-3")]})]}),(e.technical_details.reactionConditions||e.technical_details.yieldAchieved)&&(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.technical_details.reactionConditions&&(0,ja.jsxs)("div",{children:[(0,ja.jsx)("span",{className:"font-medium text-gray-700",children:"Conditions:"}),(0,ja.jsx)("span",{className:"ml-2 text-gray-600",children:e.technical_details.reactionConditions})]}),e.technical_details.yieldAchieved&&(0,ja.jsxs)("div",{children:[(0,ja.jsx)("span",{className:"font-medium text-gray-700",children:"Yield:"}),(0,ja.jsx)("span",{className:"ml-2 text-gray-600",children:e.technical_details.yieldAchieved})]})]}),e.technical_details.observations&&(0,ja.jsxs)("div",{className:"mt-2 text-sm",children:[(0,ja.jsx)("span",{className:"font-medium text-gray-700",children:"Observations:"}),(0,ja.jsx)("p",{className:"text-gray-600 mt-1",children:e.technical_details.observations})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,ja.jsxs)("button",{onClick:()=>(async e=>{if(j)try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/reviews/").concat(e,"/helpful"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:j.id})})).ok&&(w("Thank you for your feedback!","success"),k())}catch(t){console.error("Error marking review as helpful:",t),w("Failed to mark as helpful","error")}else w("Please login to mark reviews as helpful","info")})(e.id),className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors duration-200",children:[(0,ja.jsx)(Us,{className:"w-4 h-4 mr-1"}),"Helpful (",e.helpful_count||0,")"]}),(0,ja.jsxs)("button",{className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors duration-200",children:[(0,ja.jsx)(Cn,{className:"w-4 h-4 mr-1"}),"Reply"]}),(0,ja.jsxs)("button",{className:"flex items-center text-gray-600 hover:text-red-600 transition-colors duration-200",children:[(0,ja.jsx)(qs,{className:"w-4 h-4 mr-1"}),"Report"]})]}),e.seller_response&&(0,ja.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:[(0,ja.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ja.jsx)(Vn,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,ja.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Seller Response"}),(0,ja.jsx)("span",{className:"text-xs text-blue-700 ml-auto",children:new Date(e.seller_response.created_at).toLocaleDateString()})]}),(0,ja.jsx)("p",{className:"text-sm text-blue-800",children:e.seller_response.content})]})]})]})},e.id))}):(0,ja.jsxs)("div",{className:"text-center py-8",children:[(0,ja.jsx)(Ds,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,ja.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reviews Yet"}),(0,ja.jsx)("p",{className:"text-gray-600",children:"Be the first to write a technical review for this catalyst!"})]})})]})};const zs=function(){var e,t,r,n,s,i,l,o,c,d,u,h,m,p,g,x,f,y,b,v,j,w,k,N,_,S,C,E,O;const{productId:A}=ae(),T=te(),{user:P}=Pa(),{showToast:L}=Wa(),{allProducts:R,addToFavorites:M,removeFromFavorites:F,favorites:D,addToRecentlyViewed:I,showNotification:U}=bn(),[q,B]=(0,a.useState)(null),[z,H]=(0,a.useState)(0),[V,W]=(0,a.useState)("description"),[K,G]=(0,a.useState)(!0),[J,Y]=(0,a.useState)(""),[$,Q]=(0,a.useState)(!1),[Z,X]=(0,a.useState)(null),[ee,re]=(0,a.useState)(null),[ne,se]=(0,a.useState)(!1),ie=(null===q||void 0===q||null===(e=q.time_info)||void 0===e?void 0:e.is_expired)||!1;if((0,a.useEffect)(()=>{const e=R.find(e=>e.id===A);e?(B(e),I(e),G(!1)):T("/browse")},[A,R,T,I]),(0,a.useEffect)(()=>{(async()=>{if(q&&"Catalysts"===q.category&&(q.catalyst_id||q.title)){se(!0);try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();let r=null;r=q.catalyst_id?t.find(e=>e.cat_id===q.catalyst_id):t.find(e=>e.name&&e.name.toLowerCase()===q.title.toLowerCase()),r&&r.total_price&&re(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{se(!1)}}})()},[q]),K||!q)return(0,ja.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading product details..."})]})});const le=D.some(e=>e.id===q.id),oe=q.images||[q.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500"],ce=R.filter(e=>e.id!==q.id&&e.category===q.category).slice(0,4);return(0,ja.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsx)("button",{onClick:()=>T("/browse"),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Browse"}),(0,ja.jsx)("span",{children:"\u203a"}),(0,ja.jsx)("button",{onClick:()=>T("/browse?category=".concat(encodeURIComponent(q.category))),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:q.category}),(0,ja.jsx)("span",{children:"\u203a"}),(0,ja.jsx)("span",{className:"text-gray-900 dark:text-white",children:q.title})]}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,ja.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"relative group",children:[(0,ja.jsx)("img",{src:oe[z],alt:q.title,className:"w-full h-96 object-cover rounded-xl"}),oe.length>1&&(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("button",{onClick:()=>H(e=>0===e?oe.length-1:e-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ja.jsx)(Ms,{className:"w-5 h-5"})}),(0,ja.jsx)("button",{onClick:()=>H(e=>e===oe.length-1?0:e+1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ja.jsx)(As,{className:"w-5 h-5"})})]})]}),oe.length>1&&(0,ja.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:oe.map((e,t)=>(0,ja.jsx)("button",{onClick:()=>H(t),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ".concat(z===t?"border-blue-500":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:(0,ja.jsx)("img",{src:e,alt:"".concat(q.title," - ").concat(t+1),className:"w-full h-full object-cover"})},t))})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:q.title}),(0,ja.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400 mb-4",children:[(0,ja.jsx)(vs,{className:"w-4 h-4"}),(0,ja.jsxs)("span",{children:[q.views||0," views"]})]})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-4",children:(0,ja.jsxs)("button",{onClick:()=>{le?F(q.id):M(q)},className:"flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ".concat(le?"bg-red-50 border-red-200 text-red-600 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,ja.jsx)(En,{className:"w-5 h-5 ".concat(le?"fill-current":"")}),(0,ja.jsx)("span",{children:le?"Remove from Favorites":"Add to Favorites"})]})}),(0,ja.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ja.jsxs)("div",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["\u20ac",(null!==(t=q.bid_info)&&void 0!==t&&t.has_bids&&null!==(r=q.bid_info)&&void 0!==r&&r.highest_bid?q.bid_info.highest_bid:q.price).toLocaleString()]}),(null===(n=q.bid_info)||void 0===n?void 0:n.has_bids)&&(0,ja.jsxs)("div",{className:"text-lg text-gray-500 dark:text-gray-400 line-through",children:["Initial: \u20ac",q.price.toLocaleString()]})]})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Description"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:q.description})]}),(0,ja.jsx)("div",{children:(0,ja.jsx)("span",{className:"inline-block bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-sm px-3 py-1 rounded-full font-medium",children:q.category})}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,ja.jsx)(as,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:q.location||"Location not specified"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400 text-sm mb-6",children:[(0,ja.jsx)(In,{className:"w-4 h-4"}),(0,ja.jsxs)("span",{children:["Listed on ",new Date(q.created_at).toLocaleDateString()]})]}),(0,ja.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 space-y-4",children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bidding Information"}),null!==(s=q.bid_info)&&void 0!==s&&s.has_bids?(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Current Highest Bid:"}),(0,ja.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:["\u20ac",q.bid_info.highest_bid.toFixed(2)]})]}):(0,ja.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 italic",children:"No bids yet - be the first to bid!"}),(null===(i=q.bid_info)||void 0===i?void 0:i.user_bid)&&(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Your Current Bid:"}),(0,ja.jsxs)("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",q.bid_info.user_bid.toFixed(2)]})]}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Tender Offer:"}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsx)("input",{type:"number",step:"0.01",min:(null===(l=q.bid_info)||void 0===l?void 0:l.highest_bid)||q.price,value:J,onChange:e=>Y(e.target.value),disabled:ie||(null===(o=q.bid_info)||void 0===o?void 0:o.highest_bidder_id)===(null===P||void 0===P?void 0:P.id)&&(null===(c=q.bid_info)||void 0===c?void 0:c.has_bids),className:"flex-1 px-3 py-2 border rounded-lg text-sm ".concat(ie||(null===(d=q.bid_info)||void 0===d?void 0:d.highest_bidder_id)===(null===P||void 0===P?void 0:P.id)&&null!==(u=q.bid_info)&&void 0!==u&&u.has_bids?"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500"),placeholder:null!==(h=q.time_info)&&void 0!==h&&h.is_expired||(null===(m=q.bid_info)||void 0===m?void 0:m.highest_bidder_id)===(null===P||void 0===P?void 0:P.id)&&null!==(p=q.bid_info)&&void 0!==p&&p.has_bids?"Bid...":"Minimum: \u20ac".concat(((null===(g=q.bid_info)||void 0===g?void 0:g.highest_bid)||q.price||0).toFixed(2))}),(0,ja.jsx)("button",{onClick:async()=>{var e,t;if(!P)return void L("Please login to submit tender offers","error");if((null===(e=q.seller)||void 0===e?void 0:e.username)===P.username||q.seller_id===P.id)return void L("You cannot bid on your own listing","error");const r=parseFloat(J),a=(null===(t=q.bid_info)||void 0===t?void 0:t.highest_bid)||q.price||0;if(!r||r<a)L("Please enter an amount of at least \u20ac".concat(a.toFixed(2)),"error");else{Q(!0);try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({listing_id:q.id,buyer_id:P.id,offer_amount:r})}),t=await e.json();var n;if(e.ok)L("Tender offer of \u20ac".concat(r.toFixed(2)," submitted successfully!"),"success"),Y(""),X({amount:r,timestamp:new Date,visible:!0}),setTimeout(()=>{X(e=>e?qe(qe({},e),{},{visible:!1}):null)},8e3),r>((null===(n=q.bid_info)||void 0===n?void 0:n.highest_bid)||q.highest_bid||0)&&B(e=>{var t;return qe(qe({},e),{},{highest_bid:r,bid_info:qe(qe({},e.bid_info),{},{has_bids:!0,highest_bid:r,total_bids:((null===(t=e.bid_info)||void 0===t?void 0:t.total_bids)||0)+1})})});else 400===e.status?L(t.detail||"Invalid tender offer","error"):L(t.detail||"Failed to submit tender offer","error")}catch(s){console.error("Error submitting tender:",s),L("Failed to submit tender offer. Please try again.","error")}finally{Q(!1)}}},disabled:$||ie||(null===(x=q.bid_info)||void 0===x?void 0:x.highest_bidder_id)===(null===P||void 0===P?void 0:P.id)&&(null===(f=q.bid_info)||void 0===f?void 0:f.has_bids),className:"px-4 py-2 rounded-lg font-medium transition-colors text-sm ".concat($||ie||(null===(y=q.bid_info)||void 0===y?void 0:y.highest_bidder_id)===(null===P||void 0===P?void 0:P.id)&&null!==(b=q.bid_info)&&void 0!==b&&b.has_bids?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:$?"Submitting...":"Submit Bid"})]})]}),(null===(v=q.time_info)||void 0===v?void 0:v.has_time_limit)&&(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Time Remaining:"}),(0,ja.jsx)("span",{className:"font-bold ".concat(q.time_info.is_expired||q.time_info.time_remaining_seconds<=3600?"text-red-600 dark:text-red-400":q.time_info.time_remaining_seconds<=86400?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"),children:q.time_info.is_expired?"EXPIRED":q.time_info.time_remaining_display||"Active"})]})]})]})]})}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ja.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[{id:"description",label:"Description"},{id:"seller",label:"Seller Info"}].map(e=>(0,ja.jsx)("button",{onClick:()=>W(e.id),className:"px-6 py-4 font-medium transition-colors ".concat(V===e.id?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.id))}),(0,ja.jsxs)("div",{className:"p-6",children:["description"===V&&(0,ja.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,ja.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:q.description||"No description available for this product."})}),"seller"===V&&(0,ja.jsx)("div",{className:"space-y-4",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:((null===(j=q.seller)||void 0===j?void 0:j.name)||q.seller||"S")[0]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[(0,ja.jsx)("span",{children:(null===(w=q.seller)||void 0===w?void 0:w.name)||q.seller||"Verified Seller"}),(null===(k=q.seller)||void 0===k?void 0:k.verified)&&(0,ja.jsx)(Fs,{className:"w-5 h-5 text-blue-600"})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:(null===(N=q.seller)||void 0===N?void 0:N.location)&&(0,ja.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ja.jsx)(as,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:q.seller.location})]})})]})]})})]})]}),q&&((null===(_=q.category)||void 0===_?void 0:_.toLowerCase().includes("catalyst"))||(null===(S=q.category)||void 0===S?void 0:S.toLowerCase().includes("chemical"))||(null===(C=q.title)||void 0===C?void 0:C.toLowerCase().includes("catalyst"))||(null===(E=q.description)||void 0===E?void 0:E.toLowerCase().includes("catalyst")))&&(0,ja.jsx)(Bs,{listingId:q.id,sellerId:q.seller_id||(null===(O=q.seller)||void 0===O?void 0:O.id),className:"mb-8"}),ce.length>0&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Related Products"}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ce.map(e=>{var t;return(0,ja.jsxs)("div",{className:"group cursor-pointer",onClick:()=>T("/product/".concat(e.id)),children:[(0,ja.jsx)("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden mb-3",children:(0,ja.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=300",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),(0,ja.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors line-clamp-2",children:e.title}),(0,ja.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-1",children:["\u20ac",e.price.toFixed(2)]})]},e.id)})})]})]})},Hs=wn("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Vs=wn("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);function Ws(e){var t;let{listing:r,onDelete:n}=e;const[s,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=e=>{s&&!e.target.closest(".listing-menu-container")&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]);return(0,ja.jsxs)("div",{className:"listing-tile",children:[(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("img",{src:(null===(t=r.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:r.title,className:"listing-image"}),(0,ja.jsx)("span",{className:"absolute top-3 left-3 px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"sold":default:return"bg-gray-100 dark:bg-gray-700/50 text-gray-800 dark:text-gray-300";case"draft":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";case"expired":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}})(r.status||(r.is_draft?"draft":"active"))),children:(r.status||(r.is_draft?"DRAFT":"ACTIVE")).toUpperCase()}),(r.is_draft||"draft"===r.status)&&(0,ja.jsx)("div",{className:"absolute top-3 right-16 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold animate-pulse",children:"DRAFT"}),(0,ja.jsxs)("div",{className:"absolute top-3 right-3 listing-menu-container",children:[(0,ja.jsx)("button",{onClick:e=>{e.stopPropagation(),i(!s)},className:"p-2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-full hover:bg-white dark:hover:bg-gray-800 transition-all duration-200 shadow-lg",children:(0,ja.jsx)(Hs,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),s&&(0,ja.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 py-2 z-50 backdrop-blur-xl",children:[(r.is_draft||"draft"===r.status)&&(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsxs)(Pe,{to:"/edit-listing/".concat(r.id),onClick:e=>{e.stopPropagation(),i(!1)},className:"w-full text-left px-4 py-3 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center transition-colors duration-200",children:[(0,ja.jsx)(Vs,{className:"w-4 h-4 mr-3"}),"Finish & Publish"]}),(0,ja.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"})]}),!(r.is_draft||"draft"===r.status)&&(0,ja.jsxs)(Pe,{to:"/product/".concat(r.id),onClick:e=>{e.stopPropagation(),i(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center transition-colors duration-200",children:[(0,ja.jsx)(vs,{className:"w-4 h-4 mr-3"}),"View Details"]}),(0,ja.jsxs)(Pe,{to:"/edit-listing/".concat(r.id),onClick:e=>{e.stopPropagation(),i(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center transition-colors duration-200",children:[(0,ja.jsx)(Vs,{className:"w-4 h-4 mr-3"}),r.is_draft||"draft"===r.status?"Continue Editing":"Edit Listing"]}),(0,ja.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),(0,ja.jsxs)("button",{onClick:e=>{e.stopPropagation(),n(r.id),i(!1)},className:"w-full text-left px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center transition-colors duration-200",children:[(0,ja.jsx)(Dn,{className:"w-4 h-4 mr-3"}),"Delete Listing"]})]})]})]}),(0,ja.jsxs)("div",{className:"listing-content",children:[(0,ja.jsx)("h3",{className:"listing-title text-gray-900 dark:text-white",children:r.title}),(0,ja.jsxs)("p",{className:"listing-price",children:["\u20ac",r.price.toFixed(2)]}),(0,ja.jsx)("p",{className:"listing-description text-gray-600 dark:text-gray-300",children:r.description}),(0,ja.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ja.jsx)("span",{className:"inline-block bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs px-3 py-1 rounded-full font-medium backdrop-blur-md",children:r.category}),(0,ja.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()})]})]})]})}const Ks=function(){const{user:e}=Pa(),{showToast:t}=Wa(),[r]=Me(),n=r.get("filter"),[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(n||"all"),u=te();(0,a.useEffect)(()=>{const e=new URLSearchParams(window.location.search);"all"!==c?e.set("filter",c):e.delete("filter");const t="".concat(window.location.pathname).concat(e.toString()?"?"+e.toString():"");window.history.replaceState({},"",t)},[c]),(0,a.useEffect)(()=>{const e=r.get("filter");e&&e!==c&&d(e)},[r]),(0,a.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&h()},[null===e||void 0===e?void 0:e.id]);const h=async()=>{try{o(!0);const t=await Ka.getMyListings(e.id);i(t)}catch(r){t("Failed to load your listings","error"),console.error("Failed to fetch listings:",r)}finally{o(!1)}},m=async e=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await Ka.deleteListing(e),i(s.filter(t=>t.id!==e)),t("Listing deleted successfully","success")}catch(r){t("Failed to delete listing","error")}},p=e=>{d(e)},g=()=>{u("/create-listing")},x=(()=>{switch(c){case"active":return s.filter(e=>"active"===e.status);case"drafts":return s.filter(e=>"draft"===e.status||e.is_draft);case"closed":return s.filter(e=>"sold"===e.status||"closed"===e.status);default:return s}})();return l?(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsx)("div",{className:"spinner"})}):(0,ja.jsxs)("div",{className:"fade-in",children:[(0,ja.jsx)("div",{className:"mb-8",children:(0,ja.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"My Listings"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your marketplace listings"})]}),(0,ja.jsxs)("button",{onClick:g,className:"cataloro-button-primary flex items-center",children:[(0,ja.jsx)(On,{className:"w-5 h-5 mr-2"}),"Create New Listing"]})]})}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-4",children:[(0,ja.jsx)("button",{onClick:()=>p("all"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("all"===c?"ring-2 ring-blue-500 bg-blue-50/20 dark:bg-blue-900/20":""),children:(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:s.length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})}),(0,ja.jsx)("button",{onClick:()=>p("active"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("active"===c?"ring-2 ring-green-500 bg-green-50/20 dark:bg-green-900/20":""),children:(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:s.filter(e=>"active"===e.status).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})}),(0,ja.jsx)("button",{onClick:()=>p("closed"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("closed"===c?"ring-2 ring-red-500 bg-red-50/20 dark:bg-red-900/20":""),children:(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:s.filter(e=>"sold"===e.status||"closed"===e.status).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Closed"}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Sold & completed"})]})}),(0,ja.jsx)("button",{onClick:()=>p("drafts"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("drafts"===c?"ring-2 ring-orange-500 bg-orange-50/20 dark:bg-orange-900/20":""),children:(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:s.filter(e=>"draft"===e.status||e.is_draft).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Drafts"}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Finish & publish later"})]})})]}),"all"!==c&&(0,ja.jsxs)("div",{className:"mb-4 flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,ja.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Showing ",c," listings (",x.length," items)"]}),(0,ja.jsx)("button",{onClick:()=>d("all"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show All"})]}),0===x.length?(0,ja.jsx)("div",{className:"text-center py-12",children:(0,ja.jsxs)("div",{className:"cataloro-card-glass p-12",children:[(0,ja.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)(On,{className:"w-12 h-12 text-gray-600 dark:text-gray-300"})}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"No listings yet"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Create your first listing to start selling on our modern marketplace"}),(0,ja.jsx)("button",{onClick:g,className:"cataloro-button-primary",children:"Create Your First Listing"})]})}):(0,ja.jsx)("div",{className:"listings-grid",children:x.map(e=>(0,ja.jsx)(Ws,{listing:e,onDelete:m},e.id))})]})},Gs=wn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Js=wn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ys=wn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),$s=wn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Qs=wn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Zs=wn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Xs=function(){const e=te(),[t,r]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)({title:"",description:"",price:"",category:"General",condition:"New",street:"",post_code:"",city:"",country:"",shipping:"pickup",shipping_cost:"",tags:[],features:[],has_time_limit:!1,time_limit_hours:24}),[h,m]=(0,a.useState)(!0),[p,g]=(0,a.useState)({street:"",post_code:"",city:"",country:""}),[x,f]=(0,a.useState)([]),[y,b]=(0,a.useState)([]),[v,j]=(0,a.useState)([]),[w,k]=(0,a.useState)(!1),[N,_]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[E,O]=(0,a.useState)([]),[A,T]=(0,a.useState)(!1),[P,L]=(0,a.useState)(!1),[R,M]=(0,a.useState)(""),[F,D]=(0,a.useState)("");(0,a.useEffect)(()=>{U(),q(),I()},[]);const I=()=>{try{const e=localStorage.getItem("cataloro_user");if(e){const t=JSON.parse(e),r={street:t.street||"",post_code:t.post_code||"",city:t.city||"",country:t.country||""};g(r),h&&(r.street||r.city)&&u(e=>qe(qe({},e),{},{street:r.street,post_code:r.post_code,city:r.city,country:r.country}))}}catch(e){console.error("Failed to load profile address:",e)}},U=async()=>{try{C(!0);const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/data"));if(t.ok){var e;const r=await t.json();f(r),console.log("Loaded catalyst data:",r.length,"entries"),console.log("First catalyst structure:",r[0]),console.log("First catalyst add_info:",null===(e=r[0])||void 0===e?void 0:e.add_info)}}catch(t){console.error("Failed to fetch catalyst data:",t)}finally{C(!1)}},q=async()=>{try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();b(t),console.log("Loaded calculations:",t.length,"entries"),console.log("Sample calculation:",t[0])}}catch(e){console.error("Failed to fetch calculations:",e)}},B=e=>{const{name:t,value:r}=e.target;u(e=>qe(qe({},e),{},{[t]:r}))},z=e=>{const t=y.find(t=>t.cat_id===e);return console.log("Looking for price for catalyst:",e,"Found calculation:",t),(null===t||void 0===t?void 0:t.total_price)||null},H=e=>{const t=z(e);if(!t)return null;const r=.9*t,a=1.1*t;return{basePrice:parseFloat(t),minPrice:parseFloat(r.toFixed(2)),maxPrice:parseFloat(a.toFixed(2))}};return(0,ja.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ja.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ja.jsxs)("div",{className:"mb-8",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ja.jsx)(Pe,{to:"/my-listings",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,ja.jsx)(Gs,{className:"w-5 h-5"})}),(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create New Listing"})]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Fill in the details below to create your marketplace listing"})]}),(0,ja.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e=["title","description","price"];for(let t of e)if(!d[t].trim())return alert("Please fill in the ".concat(t.replace("_"," ")," field")),!1;return parseFloat(d.price)<=0?(alert("Please enter a valid price"),!1):0!==i.length||(alert("Please add at least one image"),!1)})()){r(!0);try{const t=localStorage.getItem("cataloro_user"),r=t?JSON.parse(t):null;if(!r)return alert("Please log in to create a listing"),void e("/login");const a=qe(qe({},d),{},{price:parseFloat(d.price),shipping_cost:d.shipping_cost?parseFloat(d.shipping_cost):0,seller_id:r.id,seller:{name:r.name||r.full_name||r.email,username:r.username||r.name||r.email,email:r.email,verified:r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||null,location:[d.street,d.city,d.country].filter(Boolean).join(", ")||"Not specified"},address:{street:d.street,post_code:d.post_code,city:d.city,country:d.country,use_profile_address:h},images:o,created_at:(new Date).toISOString(),has_time_limit:d.has_time_limit,time_limit_hours:d.has_time_limit?d.time_limit_hours:null},N&&{catalyst_id:N.cat_id,catalyst_name:N.name,is_catalyst_listing:!0,calculated_price:z(N.cat_id),catalyst_specs:{ceramic_weight:N.ceramic_weight,pt_ppm:N.pt_ppm,pd_ppm:N.pd_ppm,rh_ppm:N.rh_ppm}});await Ka.createListing(a),alert("Listing created successfully!"),e("/my-listings")}catch(a){console.error("Failed to create listing:",a),alert("Failed to create listing. Please try again.")}finally{r(!1)}}},className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(Js,{className:"w-6 h-6 mr-2"}),"Product Images"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[o.map((e,t)=>(0,ja.jsxs)("div",{className:"relative group",children:[(0,ja.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),(0,ja.jsx)("button",{type:"button",onClick:()=>(e=>{l(t=>t.filter((t,r)=>r!==e)),c(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]},t)),(0,ja.jsxs)("label",{className:"w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[(0,ja.jsx)(Ys,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,ja.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Add Images"}),(0,ja.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return void alert("Please select only image files");if(e.size>5242880)return void alert("File size must be less than 5MB");l(t=>[...t,e]);const t=new FileReader;t.onload=e=>{c(t=>[...t,e.target.result])},t.readAsDataURL(e)})},className:"hidden"})]})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload up to 8 images. First image will be the main photo. Max 5MB per image."})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)($s,{className:"w-6 h-6 mr-2"}),"Basic Information"]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title *",(0,ja.jsxs)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2 flex items-center",children:[(0,ja.jsx)(js,{className:"w-3 h-3 mr-1"}),"(Type to search Cat Database - ",x.length," catalysts available)"]})]}),(0,ja.jsx)("input",{type:"text",name:"title",value:d.title,onChange:e=>{const t=e.target.value;if(u(e=>qe(qe({},e),{},{title:t})),t.length>0){const e=x.filter(e=>{var r,a,n;const s=t.toLowerCase();return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(a=e.cat_id)||void 0===a?void 0:a.toLowerCase().includes(s))||(null===(n=e.add_info)||void 0===n?void 0:n.toLowerCase().includes(s))}).slice(0,8);j(e),k(e.length>0)}else j([]),k(!1),_(null)},onFocus:()=>d.title&&k(v.length>0),placeholder:"Enter item title or start typing catalyst name/ID...",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0}),w&&(0,ja.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-80 overflow-y-auto",children:[(0,ja.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ja.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)(js,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cat Database Matches (",v.length,")",(0,ja.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to auto-fill"})]})}),v.map(e=>{const t=H(e.cat_id);return(0,ja.jsx)("div",{onClick:()=>(e=>{_(e),console.log("Selected catalyst:",e),console.log("Catalyst add_info:",e.add_info);let t="Catalyst: ".concat(e.name||"Professional Grade Catalyst","\n\nSpecifications:\n\u2022 Ceramic Weight: ").concat(e.ceramic_weight||"N/A","g\n\nProfessional grade catalyst suitable for automotive and industrial applications.");e.add_info&&e.add_info.trim()?(console.log("Adding add_info to description:",e.add_info),t+="\n\nAdditional Information:\n".concat(e.add_info)):console.log("No add_info available or empty:",e.add_info),console.log("Final description:",t),u(r=>qe(qe({},r),{},{title:e.name||e.cat_id,category:"Catalysts",description:t})),k(!1)})(e),className:"p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ja.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.name}),(0,ja.jsx)(Qs,{className:"w-4 h-4 text-yellow-500",title:"Auto-fill enabled"})]}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:(0,ja.jsxs)("div",{className:"flex flex-col",children:[(0,ja.jsx)("span",{className:"text-gray-500",children:"Weight"}),(0,ja.jsxs)("span",{className:"font-medium",children:[e.ceramic_weight,"g"]})]})})]}),t&&(0,ja.jsxs)("div",{className:"ml-4 text-right",children:[(0,ja.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["\u20ac",t.minPrice.toFixed(2)," - \u20ac",t.maxPrice.toFixed(2)]}),(0,ja.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[(0,ja.jsx)(js,{className:"w-3 h-3 mr-1"}),"Market Range"]})]})]})},e.cat_id)})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Description *",N&&(0,ja.jsxs)("span",{className:"text-purple-600 dark:text-purple-400 text-xs ml-2 flex items-center",children:[(0,ja.jsx)(Qs,{className:"w-3 h-3 mr-1"}),"Auto-generated from catalyst specifications"]})]}),(0,ja.jsx)("textarea",{name:"description",value:d.description,onChange:B,placeholder:"Provide a detailed description of your item...",rows:N?8:4,className:"w-full px-4 py-3 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 transition-all duration-200 ".concat(N?"border-purple-300 dark:border-purple-600 focus:border-purple-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500"),required:!0}),N&&(0,ja.jsxs)("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-2 flex items-center",children:[(0,ja.jsx)(js,{className:"w-3 h-3 mr-1"}),"Description includes catalyst specifications and current market information"]})]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Starting Price * (\u20ac)",N&&(0,ja.jsxs)("span",{className:"text-green-600 dark:text-green-400 text-xs ml-2 flex items-center",children:[(0,ja.jsx)(Qs,{className:"w-3 h-3 mr-1"}),"Auto-calculated from catalyst data"]})]}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"\u20ac"}),(0,ja.jsx)("input",{type:"number",name:"price",value:d.price,onChange:B,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-all duration-200 ".concat(N?"border-green-300 dark:border-green-600 focus:border-green-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500"),required:!0}),N&&(0,ja.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,ja.jsx)("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded text-xs font-medium",children:"Auto-filled"})})]})]})}),N&&(0,ja.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-6 mt-6",children:[(0,ja.jsxs)("h4",{className:"font-bold text-blue-900 dark:text-blue-100 mb-4 flex items-center text-lg",children:[(0,ja.jsx)(js,{className:"w-5 h-5 mr-2"}),"Selected Catalyst: ",N.name,(0,ja.jsx)("span",{className:"ml-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Auto-filled"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Catalyst Name"}),(0,ja.jsx)("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:N.name})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Ceramic Weight"}),(0,ja.jsxs)("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:[N.ceramic_weight,"g"]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Market Range"}),(0,ja.jsx)("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:H(N.cat_id)?(0,ja.jsxs)(ja.Fragment,{children:["\u20ac",H(N.cat_id).minPrice.toFixed(2)," - \u20ac",H(N.cat_id).maxPrice.toFixed(2)]}):"N/A"})]})]}),(0,ja.jsx)("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ja.jsxs)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:[(0,ja.jsx)("strong",{children:"Auto-filled fields:"})," Title, Category, Price, and Description have been automatically populated based on this catalyst's data and current market calculations."]})})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(as,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,ja.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ja.jsx)("input",{type:"checkbox",checked:h,onChange:e=>{return t=e.target.checked,m(t),void u(t?e=>qe(qe({},e),{},{street:p.street,post_code:p.post_code,city:p.city,country:p.country}):e=>qe(qe({},e),{},{street:"",post_code:"",city:"",country:""}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ja.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)(Vn,{className:"w-3 h-3 mr-1"}),"Use profile address"]})]})]}),h?(0,ja.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,ja.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg mr-3",children:(0,ja.jsx)(Vn,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Using Profile Address"}),(0,ja.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Address from your profile settings"})]})]}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-100 dark:border-blue-700",children:p.street||p.city?(0,ja.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[p.street&&(0,ja.jsx)("div",{children:p.street}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[p.post_code&&(0,ja.jsx)("span",{children:p.post_code}),p.city&&(0,ja.jsx)("span",{children:p.city})]}),p.country&&(0,ja.jsx)("div",{children:p.country})]}):(0,ja.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No address in profile. Please uncheck to enter address manually."})})]}):(0,ja.jsxs)("div",{className:"space-y-4 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,ja.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg mr-3",children:(0,ja.jsx)(as,{className:"w-4 h-4 text-green-600 dark:text-green-300"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-100",children:"Custom Address"}),(0,ja.jsx)("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Enter address for this listing"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ja.jsx)("input",{type:"text",name:"street",value:d.street,onChange:B,placeholder:"Enter street address",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,ja.jsx)("input",{type:"text",name:"post_code",value:d.post_code,onChange:B,placeholder:"Postal/ZIP code",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),(0,ja.jsx)("input",{type:"text",name:"city",value:d.city,onChange:B,placeholder:"Enter city",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),(0,ja.jsx)("input",{type:"text",name:"country",value:d.country,onChange:B,placeholder:"Enter country",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(In,{className:"w-6 h-6 mr-2"}),"Time Limit (Optional)"]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("input",{type:"checkbox",id:"has_time_limit",name:"has_time_limit",checked:d.has_time_limit,onChange:e=>u(qe(qe({},d),{},{has_time_limit:e.target.checked})),className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,ja.jsx)("label",{htmlFor:"has_time_limit",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Set a time limit for this listing"})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add urgency to your listing! When time runs out, the highest bidder automatically wins."}),d.has_time_limit&&(0,ja.jsxs)("div",{className:"space-y-6 bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Duration"}),(0,ja.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:24,label:"24 Hours",desc:"1 day"},{value:48,label:"48 Hours",desc:"2 days"},{value:168,label:"1 Week",desc:"7 days"},{value:720,label:"1 Month",desc:"30 days"}].map(e=>(0,ja.jsxs)("label",{className:"relative",children:[(0,ja.jsx)("input",{type:"radio",name:"time_limit_hours",value:e.value,checked:d.time_limit_hours===e.value,onChange:e=>u(qe(qe({},d),{},{time_limit_hours:parseInt(e.target.value)})),className:"sr-only"}),(0,ja.jsx)("div",{className:"p-3 rounded-lg border-2 cursor-pointer transition-all ".concat(d.time_limit_hours===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"font-semibold text-sm",children:e.label}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.desc})]})})]},e.value))})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[(0,ja.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preview"}),(0,ja.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Your listing will expire in ",(0,ja.jsx)("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:24===d.time_limit_hours?"1 day":48===d.time_limit_hours?"2 days":168===d.time_limit_hours?"1 week":"1 month"})," after publication.",(0,ja.jsx)("br",{}),"The countdown timer will appear as a ",(0,ja.jsx)("span",{className:"font-medium",children:"separate badge below the market range"})," of your listing image."]})]}),(0,ja.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:[(0,ja.jsx)(hs,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5"}),(0,ja.jsxs)("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:[(0,ja.jsx)("strong",{children:"Important:"})," When your listing expires, the highest bidder at that moment will automatically win, regardless of how many bids were placed. You can extend the time limit later if needed."]})]})]})]})]}),(0,ja.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ready to publish your listing?"}),(0,ja.jsx)("p",{className:"text-blue-100",children:"Review all information above and click create to publish your listing to the marketplace."})]}),(0,ja.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,ja.jsx)(Pe,{to:"/browse",className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,ja.jsx)("button",{type:"button",onClick:async()=>{s(!0);try{const t=localStorage.getItem("cataloro_user"),r=t?JSON.parse(t):null;if(!r)return alert("Please log in to save draft"),void e("/login");const a=qe(qe({},d),{},{price:d.price?parseFloat(d.price):0,shipping_cost:d.shipping_cost?parseFloat(d.shipping_cost):0,seller_id:r.id,seller:{name:r.name||r.full_name||r.email,username:r.username||r.name||r.email,email:r.email,verified:r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||null,location:[d.street,d.city,d.country].filter(Boolean).join(", ")||"Not specified"},address:{street:d.street,post_code:d.post_code,city:d.city,country:d.country,use_profile_address:h},images:o,created_at:(new Date).toISOString(),status:"draft",is_draft:!0},N&&{catalyst_id:N.cat_id,catalyst_name:N.name,is_catalyst_listing:!0,calculated_price:z(N.cat_id),catalyst_specs:{ceramic_weight:N.ceramic_weight,pt_ppm:N.pt_ppm,pd_ppm:N.pd_ppm,rh_ppm:N.rh_ppm}});await Ka.createListing(a),alert("Draft saved successfully! You can finish it later from My Listings."),e("/my-listings")}catch(t){console.error("Failed to save draft:",t),alert("Failed to save draft. Please try again.")}finally{s(!1)}},disabled:n||t,className:"px-6 py-3 bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-400 text-white rounded-lg font-medium transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:n?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Saving..."})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(Zs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Save as Draft"})]})}),(0,ja.jsx)("button",{type:"submit",disabled:t||n,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-semibold transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:t?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Creating..."})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(ds,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Create Listing"})]})})]})]})})]})]})})},ei=wn("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),ti=wn("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);const ri=function(){const e=te(),{id:t}=ae(),[r,n]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)({title:"",description:"",price:"",category:"General",condition:"New",street:"",post_code:"",city:"",country:"",shipping:"pickup",shipping_cost:"",tags:[],features:[]}),[g,x]=(0,a.useState)(!0),[f,y]=(0,a.useState)({street:"",post_code:"",city:"",country:""}),[b,v]=(0,a.useState)(""),[j,w]=(0,a.useState)("");(0,a.useEffect)(()=>{k(),N()},[t]);const k=async()=>{try{var e,r,a,n,s,l,c;i(!0),o(null);const d=localStorage.getItem("cataloro_user"),u=d?JSON.parse(d):null;if(!u)return void o("Please log in to edit listings");const m=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/listings/").concat(t));if(!m.ok)throw new Error("Failed to fetch listing data");const g=await m.json();if(g.seller_id!==u.id)return void o("You can only edit your own listings");p({title:g.title||"",description:g.description||"",price:(null===(e=g.price)||void 0===e?void 0:e.toString())||"",category:g.category||"General",condition:g.condition||"New",street:(null===(r=g.address)||void 0===r?void 0:r.street)||g.street||"",post_code:(null===(a=g.address)||void 0===a?void 0:a.post_code)||g.post_code||"",city:(null===(n=g.address)||void 0===n?void 0:n.city)||g.city||"",country:(null===(s=g.address)||void 0===s?void 0:s.country)||g.country||"",shipping:g.shipping||"pickup",shipping_cost:(null===(l=g.shipping_cost)||void 0===l?void 0:l.toString())||"",tags:g.tags||[],features:g.features||[]}),g.images&&g.images.length>0&&h(g.images),x((null===(c=g.address)||void 0===c?void 0:c.use_profile_address)||!1)}catch(d){console.error("Failed to load listing:",d),o("Failed to load listing data")}finally{i(!1)}},N=()=>{try{const e=localStorage.getItem("cataloro_user");if(e){const t=JSON.parse(e),r={street:t.street||"",post_code:t.post_code||"",city:t.city||"",country:t.country||""};y(r)}}catch(l){console.error("Failed to load profile address:",l)}},_=e=>{const{name:t,value:r}=e.target;p(e=>qe(qe({},e),{},{[t]:r}))},S=()=>{b.trim()&&!m.tags.includes(b.trim())&&(p(e=>qe(qe({},e),{},{tags:[...e.tags,b.trim()]})),v(""))},C=()=>{j.trim()&&!m.features.includes(j.trim())&&(p(e=>qe(qe({},e),{},{features:[...e.features,j.trim()]})),w(""))};return s?(0,ja.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ja.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ja.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)(ei,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading listing data..."})]})})})}):l?(0,ja.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ja.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ja.jsxs)("div",{className:"text-center py-16",children:[(0,ja.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,ja.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Error Loading Listing"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:l}),(0,ja.jsxs)(Pe,{to:"/my-listings",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(Gs,{className:"w-5 h-5 mr-2"}),"Back to My Listings"]})]})})}):(0,ja.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ja.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ja.jsxs)("div",{className:"mb-8",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ja.jsx)(Pe,{to:"/my-listings",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,ja.jsx)(Gs,{className:"w-5 h-5"})}),(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Edit Listing"})]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Update your listing details below"})]}),(0,ja.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e=["title","description","price"];for(let t of e)if(!m[t].trim())return alert("Please fill in the ".concat(t.replace("_"," ")," field")),!1;return parseFloat(m.price)<=0?(alert("Please enter a valid price"),!1):0!==u.length||(alert("Please add at least one image"),!1)})()){n(!0);try{const r=localStorage.getItem("cataloro_user"),a=r?JSON.parse(r):null;if(!a)return alert("Please log in to update listing"),void e("/login");const n=qe(qe({},m),{},{price:parseFloat(m.price),shipping_cost:m.shipping_cost?parseFloat(m.shipping_cost):0,seller_id:a.id,seller:{name:a.name||a.full_name||a.email,username:a.username||a.name||a.email,email:a.email,verified:a.verified||!1,is_business:a.is_business||!1,company_name:a.company_name||null,location:[m.street,m.city,m.country].filter(Boolean).join(", ")||"Not specified"},address:{street:m.street,post_code:m.post_code,city:m.city,country:m.country,use_profile_address:g},images:u,updated_at:(new Date).toISOString()});if(!(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/listings/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)throw new Error("Failed to update listing");alert("Listing updated successfully!"),e("/my-listings")}catch(l){console.error("Failed to update listing:",l),alert("Failed to update listing. Please try again.")}finally{n(!1)}}},className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(Js,{className:"w-6 h-6 mr-2"}),"Product Images"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[u.map((e,t)=>(0,ja.jsxs)("div",{className:"relative group",children:[(0,ja.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),(0,ja.jsx)("button",{type:"button",onClick:()=>(e=>{d(t=>t.filter((t,r)=>r!==e)),h(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]},t)),(0,ja.jsxs)("label",{className:"w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[(0,ja.jsx)(Ys,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,ja.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Add Images"}),(0,ja.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return void alert("Please select only image files");if(e.size>5242880)return void alert("File size must be less than 5MB");d(t=>[...t,e]);const t=new FileReader;t.onload=e=>{h(t=>[...t,e.target.result])},t.readAsDataURL(e)})},className:"hidden"})]})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload up to 8 images. First image will be the main photo. Max 5MB per image."})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)($s,{className:"w-6 h-6 mr-2"}),"Basic Information"]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),(0,ja.jsx)("input",{type:"text",name:"title",value:m.title,onChange:_,placeholder:"Enter item title",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),(0,ja.jsx)("textarea",{name:"description",value:m.description,onChange:_,placeholder:"Provide a detailed description of your item...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price * (\u20ac)"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"\u20ac"}),(0,ja.jsx)("input",{type:"number",name:"price",value:m.price,onChange:_,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ja.jsx)("select",{name:"category",value:m.category,onChange:_,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:["Catalysts","Electronics","Fashion & Clothing","Home & Garden","Sports & Outdoors","Books & Media","Music & Instruments","Automotive","Real Estate","Jobs & Services","Collectibles & Antiques","Health & Beauty","Toys & Games"].map(e=>(0,ja.jsx)("option",{value:e,children:e},e))})]})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(as,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,ja.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ja.jsx)("input",{type:"checkbox",checked:g,onChange:e=>{return t=e.target.checked,x(t),void(t&&p(e=>qe(qe({},e),{},{street:f.street,post_code:f.post_code,city:f.city,country:f.country})));var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ja.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)(Vn,{className:"w-3 h-3 mr-1"}),"Use profile address"]})]})]}),g?(0,ja.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,ja.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg mr-3",children:(0,ja.jsx)(Vn,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Using Profile Address"}),(0,ja.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Address from your profile settings"})]})]}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-100 dark:border-blue-700",children:f.street||f.city?(0,ja.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[f.street&&(0,ja.jsx)("div",{children:f.street}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[f.post_code&&(0,ja.jsx)("span",{children:f.post_code}),f.city&&(0,ja.jsx)("span",{children:f.city})]}),f.country&&(0,ja.jsx)("div",{children:f.country})]}):(0,ja.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No address in profile. Please uncheck to enter address manually."})})]}):(0,ja.jsxs)("div",{className:"space-y-4 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ja.jsx)("input",{type:"text",name:"street",value:m.street,onChange:_,placeholder:"Enter street address",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,ja.jsx)("input",{type:"text",name:"post_code",value:m.post_code,onChange:_,placeholder:"Postal/ZIP code",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),(0,ja.jsx)("input",{type:"text",name:"city",value:m.city,onChange:_,placeholder:"Enter city",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),(0,ja.jsx)("input",{type:"text",name:"country",value:m.country,onChange:_,placeholder:"Enter country",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ja.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Shipping & Delivery"}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Options"}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsxs)("label",{className:"flex items-center",children:[(0,ja.jsx)("input",{type:"radio",name:"shipping",value:"pickup",checked:"pickup"===m.shipping,onChange:_,className:"mr-2"}),(0,ja.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Local pickup only"})]}),(0,ja.jsxs)("label",{className:"flex items-center",children:[(0,ja.jsx)("input",{type:"radio",name:"shipping",value:"shipping",checked:"shipping"===m.shipping,onChange:_,className:"mr-2"}),(0,ja.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"I can ship this item"})]}),(0,ja.jsxs)("label",{className:"flex items-center",children:[(0,ja.jsx)("input",{type:"radio",name:"shipping",value:"both",checked:"both"===m.shipping,onChange:_,className:"mr-2"}),(0,ja.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Both pickup and shipping"})]})]})]}),("shipping"===m.shipping||"both"===m.shipping)&&(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Cost (\u20ac)"}),(0,ja.jsx)("input",{type:"number",name:"shipping_cost",value:m.shipping_cost,onChange:_,placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(ti,{className:"w-6 h-6 mr-2"}),"Tags & Features"]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (Optional)"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ja.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Add a tag",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),S())}),(0,ja.jsx)("button",{type:"button",onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:(0,ja.jsx)(On,{className:"w-4 h-4"})})]}),(0,ja.jsx)("div",{className:"flex flex-wrap gap-2",children:m.tags.map((e,t)=>(0,ja.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm",children:[e,(0,ja.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>qe(qe({},t),{},{tags:t.tags.filter(t=>t!==e)}))})(e),className:"ml-2 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:(0,ja.jsx)(Fn,{className:"w-3 h-3"})})]},t))})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Key Features (Optional)"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ja.jsx)("input",{type:"text",value:j,onChange:e=>w(e.target.value),placeholder:"Add a feature",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),C())}),(0,ja.jsx)("button",{type:"button",onClick:C,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:(0,ja.jsx)(On,{className:"w-4 h-4"})})]}),(0,ja.jsx)("div",{className:"space-y-2",children:m.features.map((e,t)=>(0,ja.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,ja.jsx)("span",{className:"text-green-800 dark:text-green-200",children:e}),(0,ja.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>qe(qe({},t),{},{features:t.features.filter(t=>t!==e)}))})(e),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:(0,ja.jsx)(Dn,{className:"w-4 h-4"})})]},t))})]})]})]}),(0,ja.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ready to update your listing?"}),(0,ja.jsx)("p",{className:"text-blue-100",children:"Review all information above and click update to save your changes."})]}),(0,ja.jsxs)("div",{className:"flex space-x-4",children:[(0,ja.jsx)(Pe,{to:"/my-listings",className:"px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-lg font-medium transition-colors",children:"Cancel"}),(0,ja.jsx)("button",{type:"submit",disabled:r,className:"px-8 py-3 bg-white/20 hover:bg-white/30 disabled:bg-white/10 text-white rounded-lg font-semibold transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:r?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Updating..."})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(Zs,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Update Listing"})]})})]})]})})]})]})})},ai=wn("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),ni=wn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),si=wn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const ii=function(){const{user:e}=Pa(),{showToast:t}=Wa(),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&c()},[e]);const c=async()=>{if(e){i(!0);try{const r=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/seller/").concat(e.id));if(r.ok){const e=await r.json();n(e)}else console.error("Failed to fetch pending orders"),t("Failed to load pending orders","error")}catch(r){console.error("Error fetching pending orders:",r),t("Failed to load pending orders","error")}finally{i(!1)}}},d=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const a=Math.floor(r/36e5),n=Math.floor(r%36e5/6e4);if(a>24){const e=Math.floor(a/24),t=a%24;return"".concat(e,"d ").concat(t,"h remaining")}return a>0?"".concat(a,"h ").concat(n,"m remaining"):"".concat(n,"m remaining")},u=e=>{const t=new Date,r=(new Date(e).getTime()-t.getTime())/36e5;return r<=0?"text-red-600 dark:text-red-400":r<=6?"text-orange-600 dark:text-orange-400":r<=24?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"};return s?(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading pending sales..."})]})}):(0,ja.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Pending Sales"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage incoming buy requests for your listings"})]}),(0,ja.jsxs)("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,ja.jsx)(Ln,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Refresh"})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ja.jsx)(Wn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Pending Requests"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ja.jsx)(ai,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",r.reduce((e,t)=>{var r;return e+((null===(r=t.listing)||void 0===r?void 0:r.price)||0)},0).toFixed(2)]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Potential Revenue"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,ja.jsx)(In,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.filter(e=>{const t=new Date(e.expires_at),r=new Date;return(t.getTime()-r.getTime())/36e5<=6}).length}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Expiring Soon"})]})]})})]}),0===r.length?(0,ja.jsxs)("div",{className:"text-center py-12",children:[(0,ja.jsx)(Wn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No pending buy requests"}),(0,ja.jsx)("p",{className:"text-gray-500 dark:text-gray-500",children:"When someone wants to buy your items, they'll appear here."})]}):(0,ja.jsx)("div",{className:"space-y-6",children:r.map(r=>{var a,n,s,i,h,m,p;return(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,ja.jsxs)("div",{className:"p-6",children:[(0,ja.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ja.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ja.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0",children:null!==(a=r.listing)&&void 0!==a&&a.image?(0,ja.jsx)("img",{src:r.listing.image,alt:r.listing.title,className:"w-full h-full object-cover"}):(0,ja.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ja.jsx)(Wn,{className:"w-8 h-8 text-gray-400"})})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:(null===(n=r.listing)||void 0===n?void 0:n.title)||"Unknown Item"}),(0,ja.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:["\u20ac",(null===(s=r.listing)||void 0===s||null===(i=s.price)||void 0===i?void 0:i.toFixed(2))||"0.00"]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(Vn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:(null===(h=r.buyer)||void 0===h?void 0:h.full_name)||(null===(m=r.buyer)||void 0===m?void 0:m.username)||"Unknown Buyer"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(ts,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:(null===(p=r.buyer)||void 0===p?void 0:p.email)||"N/A"})]})]})]})]}),(0,ja.jsxs)("div",{className:"text-right",children:[(0,ja.jsxs)("div",{className:"text-sm font-medium ".concat(u(r.expires_at)),children:[(0,ja.jsx)(In,{className:"w-4 h-4 inline mr-1"}),d(r.expires_at)]}),(0,ja.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(0,ja.jsx)(ni,{className:"w-3 h-3 inline mr-1"}),"Requested ",new Date(r.created_at).toLocaleDateString()]})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("button",{onClick:()=>(async r=>{o(r);try{const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})}),n=await a.json();a.ok?(t("Buy request rejected. The buyer has been notified.","info"),c()):t(n.detail||"Failed to reject request","error")}catch(a){console.error("Error rejecting order:",a),t("Failed to reject request. Please try again.","error")}finally{o(null)}})(r.id),disabled:l===r.id,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",children:[(0,ja.jsx)(si,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Reject"})]}),(0,ja.jsxs)("button",{onClick:()=>(async r=>{o(r);try{const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/").concat(r,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})}),n=await a.json();a.ok?(t("Buy request approved! The buyer has been notified.","success"),c()):410===a.status?(t("This request has expired","warning"),c()):t(n.detail||"Failed to approve request","error")}catch(a){console.error("Error approving order:",a),t("Failed to approve request. Please try again.","error")}finally{o(null)}})(r.id),disabled:l===r.id,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,ja.jsx)(ds,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:l===r.id?"Processing...":"Approve Sale"})]})]})]})},r.id)})})]})},li=wn("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),oi=wn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ci=wn("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const di=function(){const{user:e}=Pa(),{showToast:t}=Wa(),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)("buyer"),[m,p]=(0,a.useState)("all"),[g,x]=(0,a.useState)("newest");(0,a.useEffect)(()=>{e&&f()},[e]);const f=async()=>{if(e){o(!0);try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/buyer/").concat(e.id));if(t.ok){const e=await t.json();n(e)}const r=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/seller/").concat(e.id));if(r.ok){const e=await r.json();i(e)}}catch(r){console.error("Error fetching orders:",r),t("Failed to load requests","error")}finally{o(!1)}}},y=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const a=Math.floor(r/36e5),n=Math.floor(r%36e5/6e4);if(a>24){const e=Math.floor(a/24),t=a%24;return"".concat(e,"d ").concat(t,"h")}return a>0?"".concat(a,"h ").concat(n,"m"):"".concat(n,"m")},b=e=>{switch(e){case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"approved":return"text-green-600 bg-green-50 border-green-200";case"rejected":return"text-red-600 bg-red-50 border-red-200";case"expired":default:return"text-gray-600 bg-gray-50 border-gray-200";case"cancelled":return"text-orange-600 bg-orange-50 border-orange-200"}},v=e=>{switch(e){case"pending":return(0,ja.jsx)(In,{className:"w-4 h-4"});case"approved":return(0,ja.jsx)(ds,{className:"w-4 h-4"});case"rejected":case"cancelled":return(0,ja.jsx)(si,{className:"w-4 h-4"});case"expired":return(0,ja.jsx)(ni,{className:"w-4 h-4"});default:return(0,ja.jsx)(Wn,{className:"w-4 h-4"})}},j=(e,t)=>{let r=e;return"all"!==m&&(r=r.filter(e=>e.status===m)),r.sort((e,t)=>{var r,a,n,s;switch(g){case"oldest":return new Date(e.created_at)-new Date(t.created_at);case"price_high":return((null===(r=t.listing)||void 0===r?void 0:r.price)||0)-((null===(a=e.listing)||void 0===a?void 0:a.price)||0);case"price_low":return((null===(n=e.listing)||void 0===n?void 0:n.price)||0)-((null===(s=t.listing)||void 0===s?void 0:s.price)||0);default:return new Date(t.created_at)-new Date(e.created_at)}}),r},w=(()=>{const e=[...r,...s];return{total:e.length,pending:e.filter(e=>"pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length,totalValue:e.reduce((e,t)=>{var r;return e+((null===(r=t.listing)||void 0===r?void 0:r.price)||0)},0)}})(),k=j("buyer"===u?r:"seller"===u?s:[...r,...s]);return l?(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading all requests..."})]})}):(0,ja.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(li,{className:"w-8 h-8 mr-3 text-blue-600"}),"All Requests"]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage all your buy and sell requests in one place"})]}),(0,ja.jsxs)("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,ja.jsx)(Ln,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Refresh"})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ja.jsx)(Wn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.total}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Requests"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,ja.jsx)(In,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.pending}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Pending"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ja.jsx)(ds,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.approved}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Approved"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,ja.jsx)(_n,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",w.totalValue.toFixed(2)]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Value"})]})]})})]}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,ja.jsxs)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,ja.jsxs)("button",{onClick:()=>h("buyer"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("buyer"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["My Purchases (",r.length,")"]}),(0,ja.jsxs)("button",{onClick:()=>h("seller"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("seller"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["My Sales (",s.length,")"]}),(0,ja.jsxs)("button",{onClick:()=>h("all"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("all"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["All Requests (",w.total,")"]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(oi,{className:"w-4 h-4 text-gray-500"}),(0,ja.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"all",children:"All Status"}),(0,ja.jsx)("option",{value:"pending",children:"Pending"}),(0,ja.jsx)("option",{value:"approved",children:"Approved"}),(0,ja.jsx)("option",{value:"rejected",children:"Rejected"}),(0,ja.jsx)("option",{value:"expired",children:"Expired"}),(0,ja.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(ci,{className:"w-4 h-4 text-gray-500"}),(0,ja.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"newest",children:"Newest First"}),(0,ja.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,ja.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,ja.jsx)("option",{value:"price_low",children:"Price: Low to High"})]})]})]})]})}),0===k.length?(0,ja.jsxs)("div",{className:"text-center py-12",children:[(0,ja.jsx)(Wn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No requests found"}),(0,ja.jsxs)("p",{className:"text-gray-500 dark:text-gray-500",children:["buyer"===u&&"You haven't made any purchase requests yet.","seller"===u&&"You haven't received any sale requests yet.","all"===u&&"No requests match your current filters."]})]}):(0,ja.jsx)("div",{className:"space-y-6",children:k.map(a=>{var n,s,i,l,o,u,h,m;const p=r.some(e=>e.id===a.id);return(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,ja.jsxs)("div",{className:"p-6",children:[(0,ja.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ja.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ja.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0",children:null!==(n=a.listing)&&void 0!==n&&n.image?(0,ja.jsx)("img",{src:a.listing.image,alt:a.listing.title,className:"w-full h-full object-cover"}):(0,ja.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ja.jsx)(Wn,{className:"w-8 h-8 text-gray-400"})})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null===(s=a.listing)||void 0===s?void 0:s.title)||"Unknown Item"}),(0,ja.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(b(a.status)),children:[v(a.status),(0,ja.jsx)("span",{className:"ml-1 capitalize",children:a.status})]}),(0,ja.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(p?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:p?"Purchase":"Sale"})]}),(0,ja.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:["\u20ac",(null===(i=a.listing)||void 0===i||null===(l=i.price)||void 0===l?void 0:l.toFixed(2))||"0.00"]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(Vn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:p?"Seller: ".concat((null===(o=a.seller)||void 0===o?void 0:o.username)||"Unknown"):"Buyer: ".concat((null===(u=a.buyer)||void 0===u?void 0:u.username)||"Unknown")})]}),"approved"===a.status&&(null===(h=a.seller)||void 0===h?void 0:h.email)&&(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(ts,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:a.seller.email})]})]})]})]}),(0,ja.jsxs)("div",{className:"text-right",children:["pending"===a.status&&(0,ja.jsxs)("div",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400 mb-1",children:[(0,ja.jsx)(In,{className:"w-4 h-4 inline mr-1"}),y(a.expires_at)," remaining"]}),(0,ja.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(0,ja.jsx)(ni,{className:"w-3 h-3 inline mr-1"}),"Created ",new Date(a.created_at).toLocaleDateString()]}),a.approved_at&&(0,ja.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Approved ",new Date(a.approved_at).toLocaleDateString()]})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:["pending"===a.status&&!p&&(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Request rejected","info"),f();else{const e=await a.json();t(e.detail||"Failed to reject request","error")}}catch(a){console.error("Error rejecting order:",a),t("Failed to reject request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",children:[(0,ja.jsx)(si,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Reject"})]}),(0,ja.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/").concat(r,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Request approved successfully!","success"),f();else{const e=await a.json();t(e.detail||"Failed to approve request","error")}}catch(a){console.error("Error approving order:",a),t("Failed to approve request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,ja.jsx)(ds,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:c===a.id?"Processing...":"Approve Sale"})]})]}),"pending"===a.status&&p&&(0,ja.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/").concat(r,"/cancel"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_id:e.id})});if(a.ok)t("Request cancelled successfully","success"),f();else{const e=await a.json();t(e.detail||"Failed to cancel request","error")}}catch(a){console.error("Error cancelling order:",a),t("Failed to cancel request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-4 py-2 border border-red-300 text-red-700 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:[(0,ja.jsx)(si,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Cancel Request"})]}),(0,ja.jsxs)(Pe,{to:"/product/".concat(null===(m=a.listing)||void 0===m?void 0:m.id),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,ja.jsx)(vs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"View Listing"})]}),"approved"===a.status&&(0,ja.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,ja.jsx)(Cn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Message"})]})]})]})},a.id)})})]})},ui=wn("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),hi=wn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),mi=wn("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),pi=wn("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),gi=wn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),xi=wn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),fi=wn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),yi=wn("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),bi=wn("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),vi=wn("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),ji=wn("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),wi=wn("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),ki=wn("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Ni=wn("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const _i=new class{async getDashboard(){try{return(await ha.get(xa.ADMIN.DASHBOARD)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch dashboard data")}}async getKPIs(){try{return(await ha.get(xa.ADMIN.KPIS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch KPIs")}}async getAllUsers(){try{return(await ha.get(xa.ADMIN.USERS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch users")}}async updateUser(e,t){try{return(await ha.put(xa.ADMIN.USERS.replace("{user_id}",e),t)).data}catch(n){var r,a;throw new Error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to update user")}}async deleteUser(e){try{await ha.delete("".concat(xa.ADMIN.USERS,"/").concat(e))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete user")}}async suspendUser(e){try{return(await ha.put("".concat(xa.ADMIN.USERS,"/").concat(e,"/suspend"))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to suspend user")}}async activateUser(e){try{return(await ha.put("".concat(xa.ADMIN.USERS,"/").concat(e,"/activate"))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to activate user")}}async getSettings(){try{return(await ha.get(xa.ADMIN.SETTINGS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch settings")}}async updateSettings(e){try{return(await ha.put(xa.ADMIN.SETTINGS,e)).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to update settings")}}async uploadLogo(e){try{const t=new FormData;t.append("logo",e);return(await ha.post(xa.ADMIN.LOGO,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to upload logo")}}async getSystemStats(){try{return(await ha.get("".concat(xa.ADMIN.DASHBOARD,"/stats"))).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch system stats")}}};var Si=r(2823),Ci=r.n(Si);const Ei=wn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Oi=wn("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ai=wn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ti=wn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Pi=wn("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Li=function(){var e,t,r,n,s,i,l,o,c;const[d,u]=(0,a.useState)({seo:{title:"Cataloro - Ultra-Modern Marketplace Platform",description:"Experience the future of online commerce with cutting-edge marketplace featuring real-time messaging, intelligent notifications, and seamless transactions.",keywords:"marketplace, ecommerce, online shopping, buy sell, real-time messaging",ogImage:"",canonicalUrl:"/info"},hero:{title:"Cataloro",subtitle:"Ultra-Modern Marketplace Platform",description:"Experience the future of online commerce with our cutting-edge marketplace featuring real-time messaging, intelligent notifications, advanced search, and seamless transactions.",primaryButtonText:"Get Started",primaryButtonLink:"/login",secondaryButtonText:"Browse Marketplace",secondaryButtonLink:"/browse",backgroundStyle:"gradient",backgroundImage:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center",heroImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center",showHeroImage:!0,heroImagePosition:"right",showLogo:!0,logoAnimation:!0,showVideo:!1,videoUrl:""},stats:[{label:"Active Users",value:"10K+",icon:"users",color:"blue"},{label:"Products Listed",value:"50K+",icon:"package",color:"green"},{label:"Successful Deals",value:"25K+",icon:"trending",color:"purple"},{label:"User Rating",value:"4.9\u2605",icon:"star",color:"yellow"}],features:{title:"Platform Features",description:"Discover all the powerful features that make our marketplace the most advanced platform for buying and selling.",backgroundImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=1080&fit=crop&crop=center",showIcons:!0,categories:[{id:"marketplace-core",name:"Marketplace Core",description:"Essential marketplace functionality with advanced search and product management.",icon:"store",color:"blue-purple",features:["Real-time search with auto-suggestions","Advanced filtering and categorization","Smart product recommendations","Price comparison tools"]},{id:"shopping-experience",name:"Shopping Experience",description:"Seamless shopping with cart management, favorites, and secure transactions.",icon:"shopping-cart",color:"green-teal",features:["One-click shopping cart","Wishlist and favorites system","Secure payment processing","48-hour approval system"]},{id:"communication",name:"Communication",description:"Real-time messaging, notifications, and user profile management.",icon:"message-circle",color:"orange-red",features:["Real-time chat system","Smart notifications","User verification system","Review and rating system"]},{id:"management-tools",name:"Management Tools",description:"Comprehensive admin and user management tools with analytics.",icon:"settings",color:"purple-pink",features:["Advanced analytics dashboard","Inventory management","Bulk operations","Performance insights"]}]},testimonials:{enabled:!0,title:"What Our Users Say",description:"Join thousands of satisfied users who trust Cataloro for their marketplace needs.",items:[{id:"1",name:"Sarah Johnson",role:"Power Seller",avatar:"",content:"Cataloro has transformed how I sell online. The real-time messaging and advanced analytics have boosted my sales by 300%!",rating:5},{id:"2",name:"Mike Chen",role:"Regular Buyer",avatar:"",content:"The search functionality is incredible. I can find exactly what Im looking for in seconds. Best marketplace experience ever!",rating:5},{id:"3",name:"Emily Rodriguez",role:"Business Owner",avatar:"",content:"The admin tools and inventory management features have streamlined our entire operation. Highly recommended!",rating:5}]},cta:{title:"Ready to Transform Your Trading?",description:"Join thousands of users experiencing the future of online commerce. Create your account today and start buying or selling with confidence.",primaryButtonText:"Start Your Journey",primaryButtonLink:"/login",secondaryButtonText:"Explore Platform",secondaryButtonLink:"/browse",backgroundStyle:"gradient",backgroundImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center",showStats:!0},about:{enabled:!0,title:"About Cataloro",subtitle:"Revolutionizing Digital Commerce",description:"Founded with the vision to transform online trading, we combine cutting-edge technology with user-centric design to create the ultimate marketplace experience.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center",features:["AI-Powered Matching","Real-time Communication","Advanced Security","Global Reach"]},"about-html":{enabled:!0,title:"About Page HTML Editor",htmlContent:'<div class="about-page">\n        <h1>Welcome to Cataloro</h1>\n        <p>This is the about page content. You can edit this HTML directly.</p>\n        <div class="features">\n          <h2>Our Features</h2>\n          <ul>\n            <li>Real-time messaging</li>\n            <li>Advanced search</li>\n            <li>Secure payments</li>\n          </ul>\n        </div>\n      </div>',cssStyles:"/* About Page Styles */\n.about-page {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 2rem;\n  font-family: system-ui, -apple-system, sans-serif;\n}\n\n.about-page h1 {\n  color: #1f2937;\n  font-size: 2.5rem;\n  margin-bottom: 1rem;\n}\n\n.about-page p {\n  color: #6b7280;\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n}\n\n.features h2 {\n  color: #374151;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n}\n\n.features ul {\n  list-style-type: disc;\n  padding-left: 1.5rem;\n}\n\n.features li {\n  color: #6b7280;\n  margin-bottom: 0.5rem;\n}"},team:{enabled:!0,title:"Meet Our Team",description:"Passionate experts dedicated to revolutionizing digital commerce.",backgroundImage:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&h=1080&fit=crop&crop=center",members:[]},footer:{companyDescription:"Cataloro is the future of online commerce, providing cutting-edge marketplace solutions for modern buyers and sellers.",socialLinks:{twitter:"",facebook:"",instagram:"",linkedin:""},footerLinks:[{title:"About",url:"/info"},{title:"Contact",url:"/contact"},{title:"Privacy",url:"/privacy"},{title:"Terms",url:"/terms"}]}}),[h,m]=(0,a.useState)("seo"),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[y,b]=(0,a.useState)(!1),[v,j]=(0,a.useState)("desktop"),[w,k]=(0,a.useState)(!1),N={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image","video"],["code-block"],["clean"]]},_=["header","bold","italic","underline","strike","blockquote","color","background","list","bullet","indent","align","link","image","video","code-block"],S=async()=>{try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/content"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))}});if(e.ok){const t=await e.json();u(e=>qe(qe({},e),t))}}catch(e){console.error("Load error:",e)}};(0,a.useEffect)(()=>{const e=setInterval(()=>{d&&localStorage.setItem("cataloro_cms_draft",JSON.stringify(d))},3e4);return()=>clearInterval(e)},[d]),(0,a.useEffect)(()=>{S();const e=localStorage.getItem("cataloro_cms_draft");if(e)try{const t=JSON.parse(e);u(e=>qe(qe({},e),t))}catch(t){console.error("Error loading draft:",t)}},[]);const C=(e,t)=>{u(r=>qe(qe({},r),{},{seo:qe(qe({},r.seo),{},{[e]:t})}))},E=(e,t)=>{u(r=>qe(qe({},r),{},{hero:qe(qe({},r.hero),{},{[e]:t})}))},O=(e,t,r)=>{u(a=>qe(qe({},a),{},{stats:a.stats.map((a,n)=>n===e?qe(qe({},a),{},{[t]:r}):a)}))},A=(e,t)=>{u(r=>qe(qe({},r),{},{features:qe(qe({},r.features),{},{[e]:t})}))},T=(e,t,r)=>{u(a=>qe(qe({},a),{},{features:qe(qe({},a.features),{},{categories:a.features.categories.map(a=>a.id===e?qe(qe({},a),{},{[t]:r}):a)})}))},P=(e,t)=>{u(r=>qe(qe({},r),{},{testimonials:qe(qe({},r.testimonials),{},{[e]:t})}))},L=(e,t,r)=>{u(a=>qe(qe({},a),{},{testimonials:qe(qe({},a.testimonials),{},{items:a.testimonials.items.map(a=>a.id===e?qe(qe({},a),{},{[t]:r}):a)})}))},R=(e,t)=>{u(r=>qe(qe({},r),{},{cta:qe(qe({},r.cta),{},{[e]:t})}))},M=(e,t)=>{u(r=>qe(qe({},r),{},{about:qe(qe({},r.about),{},{[e]:t})}))},F=(e,t)=>{u(r=>qe(qe({},r),{},{footer:qe(qe({},r.footer),{},{[e]:t})}))},D=(e,t)=>{u(r=>qe(qe({},r),{},{"about-html":qe(qe({},r["about-html"]),{},{[e]:t})}))},I=async(e,t,r)=>{k(!0);try{const a=new FormData;a.append("image",e),a.append("section",t),a.append("field",r);const n=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:a});if(n.ok){const e=await n.json();"seo"===t&&C(r,e.imageUrl)}}catch(a){console.error("Image upload error:",a)}finally{k(!1)}},U=[{id:"seo",name:"SEO & Meta",icon:$n},{id:"hero",name:"Hero Section",icon:bi},{id:"stats",name:"Statistics",icon:Qn},{id:"about",name:"About Section",icon:Zn},{id:"about-html",name:"About Page HTML",icon:$s},{id:"features",name:"Features",icon:Xn},{id:"testimonials",name:"Testimonials",icon:hi},{id:"cta",name:"Call to Action",icon:Ei},{id:"footer",name:"Footer",icon:kn}];return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center space-x-3",children:[(0,ja.jsx)(Oi,{className:"w-8 h-8 text-blue-600"}),(0,ja.jsx)("span",{children:"Advanced Content Management"})]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Comprehensive content management with SEO, media, and advanced editing capabilities"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Auto-save: Active"}),x&&(0,ja.jsxs)("div",{className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat("success"===x?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["success"===x?(0,ja.jsx)(ds,{className:"w-4 h-4"}):(0,ja.jsx)(us,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"text-sm font-medium",children:"success"===x?"Content saved!":"Save failed"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,ja.jsx)("button",{onClick:()=>j("desktop"),className:"p-2 rounded transition-colors ".concat("desktop"===v?"bg-white dark:bg-gray-700 shadow":""),children:(0,ja.jsx)(Ni,{className:"w-4 h-4"})}),(0,ja.jsx)("button",{onClick:()=>j("mobile"),className:"p-2 rounded transition-colors ".concat("mobile"===v?"bg-white dark:bg-gray-700 shadow":""),children:(0,ja.jsx)(_s,{className:"w-4 h-4"})})]}),(0,ja.jsxs)("button",{onClick:()=>b(!y),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,ja.jsx)(vs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:y?"Edit Mode":"Preview"})]}),(0,ja.jsxs)("button",{onClick:()=>window.open("/info","_blank"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-colors duration-200",children:[(0,ja.jsx)(Ai,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Live Preview"})]}),(0,ja.jsxs)("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,ja.jsx)(Ln,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Reload"})]}),(0,ja.jsxs)("button",{onClick:async()=>{g(!0),f(null);try{if(!(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/content"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify(qe(qe({},d),{},{lastUpdated:(new Date).toISOString(),version:Date.now()}))})).ok)throw new Error("Failed to save content");f("success"),setTimeout(()=>f(null),3e3)}catch(e){console.error("Save error:",e),f("error"),setTimeout(()=>f(null),3e3)}finally{g(!1)}},disabled:p,className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[(0,ja.jsx)(Zs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:p?"Saving...":"Save Changes"})]})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,ja.jsx)("div",{className:"lg:col-span-1",children:(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6 backdrop-blur-2xl border-white/30 sticky top-6",children:[(0,ja.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ja.jsx)($s,{className:"w-5 h-5 text-blue-600"}),(0,ja.jsx)("span",{children:"Content Sections"})]}),(0,ja.jsx)("div",{className:"space-y-2",children:U.map(e=>{const t=e.icon;return(0,ja.jsxs)("button",{onClick:()=>m(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat(h===e.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 scale-105":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,ja.jsx)(t,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"font-medium",children:e.name})]},e.id)})}),(0,ja.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/20",children:[(0,ja.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Quick Actions"}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsxs)("button",{onClick:()=>window.open("/info","_blank"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,ja.jsx)(Ai,{className:"w-3 h-3"}),(0,ja.jsx)("span",{children:"View Live Site"})]}),(0,ja.jsxs)("button",{onClick:()=>{const e=JSON.stringify(d,null,2);navigator.clipboard.writeText(e),alert("Content copied to clipboard!")},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,ja.jsx)(Ti,{className:"w-3 h-3"}),(0,ja.jsx)("span",{children:"Copy Content"})]})]})]})]})}),(0,ja.jsx)("div",{className:"lg:col-span-3",children:(0,ja.jsxs)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30 min-h-[600px]",children:["seo"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ja.jsx)($n,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"SEO & Meta Tags"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Page Title (SEO)"}),(0,ja.jsx)("input",{type:"text",value:d.seo.title,onChange:e=>C("title",e.target.value),className:"cataloro-input",placeholder:"Cataloro - Ultra-Modern Marketplace Platform"}),(0,ja.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Max 60 characters recommended. Current: ",d.seo.title.length]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Meta Description"}),(0,ja.jsx)("textarea",{value:d.seo.description,onChange:e=>C("description",e.target.value),className:"cataloro-input h-24 resize-none",placeholder:"Experience the future of online commerce..."}),(0,ja.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Max 160 characters recommended. Current: ",d.seo.description.length]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Keywords (comma-separated)"}),(0,ja.jsx)("input",{type:"text",value:d.seo.keywords,onChange:e=>C("keywords",e.target.value),className:"cataloro-input",placeholder:"marketplace, ecommerce, online shopping, buy sell"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Open Graph Image URL"}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsx)("input",{type:"text",value:d.seo.ogImage,onChange:e=>C("ogImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://example.com/og-image.jpg"}),(0,ja.jsx)("button",{onClick:()=>document.getElementById("og-image-upload").click(),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",disabled:w,children:(0,ja.jsx)(Ys,{className:"w-4 h-4"})}),(0,ja.jsx)("input",{id:"og-image-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&I(e.target.files[0],"seo","ogImage"),className:"hidden"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Canonical URL"}),(0,ja.jsx)("input",{type:"text",value:d.seo.canonicalUrl,onChange:e=>C("canonicalUrl",e.target.value),className:"cataloro-input",placeholder:"/info"})]})]})]})]}),"hero"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ja.jsx)(bi,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Hero Section with Images"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Main Title"}),(0,ja.jsx)("input",{type:"text",value:d.hero.title,onChange:e=>E("title",e.target.value),className:"cataloro-input",placeholder:"Cataloro"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Subtitle"}),(0,ja.jsx)("input",{type:"text",value:d.hero.subtitle,onChange:e=>E("subtitle",e.target.value),className:"cataloro-input",placeholder:"The Future of Online Marketplace"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),(0,ja.jsx)(Ci(),{value:d.hero.description,onChange:e=>E("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ja.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ja.jsx)(Js,{className:"w-5 h-5 text-blue-600"}),(0,ja.jsx)("span",{children:"Hero PNG/Image (Foreground)"})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("input",{type:"checkbox",checked:d.hero.showHeroImage||!1,onChange:e=>E("showHeroImage",e.target.checked),className:"rounded border-gray-300"}),(0,ja.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Show Hero Image"})]}),d.hero.showHeroImage&&(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Position:"}),(0,ja.jsxs)("select",{value:d.hero.heroImagePosition||"right",onChange:e=>E("heroImagePosition",e.target.value),className:"text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded px-2 py-1",children:[(0,ja.jsx)("option",{value:"left",children:"Left"}),(0,ja.jsx)("option",{value:"right",children:"Right"})]})]})]}),d.hero.showHeroImage&&(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Hero Image URL (PNG, JPG, or any format)"}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsx)("input",{type:"url",value:d.hero.heroImage||"",onChange:e=>E("heroImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600"}),(0,ja.jsxs)("button",{onClick:()=>document.getElementById("hero-image-upload").click(),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-colors flex items-center space-x-2 shadow-lg",disabled:w,children:[(0,ja.jsx)(Ys,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Upload PNG"})]}),(0,ja.jsx)("input",{id:"hero-image-upload",type:"file",accept:"image/*,.png,.jpg,.jpeg,.gif,.webp",onChange:e=>e.target.files[0]&&I(e.target.files[0],"hero","heroImage"),className:"hidden"})]}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Supports PNG, JPG, JPEG, GIF, WebP. Recommended: 800x600px or higher."})]}),d.hero.heroImage&&(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("div",{className:"relative bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg p-4",children:[(0,ja.jsx)("img",{src:d.hero.heroImage,alt:"Hero Image Preview",className:"w-full h-48 object-contain rounded-lg"}),(0,ja.jsx)("button",{onClick:()=>E("heroImage",""),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",title:"Remove Image",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}),(0,ja.jsx)("div",{className:"mt-2 text-center",children:(0,ja.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Preview - Position: ",d.hero.heroImagePosition||"right"]})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select Hero Images"}),(0,ja.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1556761175-4b46a572b786?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=600&fit=crop&crop=center"].map((e,t)=>(0,ja.jsxs)("button",{onClick:()=>E("heroImage",e),className:"relative group",title:"Hero Image ".concat(t+1),children:[(0,ja.jsx)("img",{src:e,alt:"Hero ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity border-2 border-transparent group-hover:border-blue-500"}),(0,ja.jsx)("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ja.jsx)(ds,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Professional stock images optimized for hero sections"})]})]})]})]}),(0,ja.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ja.jsx)(fi,{className:"w-5 h-5 text-purple-600"}),(0,ja.jsx)("span",{children:"Hero Background Image"})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Background Image URL"}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsx)("input",{type:"url",value:d.hero.backgroundImage||"",onChange:e=>E("backgroundImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080"}),(0,ja.jsxs)("button",{onClick:()=>document.getElementById("hero-bg-upload").click(),className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors flex items-center space-x-2",disabled:w,children:[(0,ja.jsx)(Ys,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Upload"})]}),(0,ja.jsx)("input",{id:"hero-bg-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&I(e.target.files[0],"hero","backgroundImage"),className:"hidden"})]})]}),d.hero.backgroundImage&&(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("img",{src:d.hero.backgroundImage,alt:"Hero Background Preview",className:"w-full h-32 object-cover rounded-lg"}),(0,ja.jsx)("button",{onClick:()=>E("backgroundImage",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select Stock Images"}),(0,ja.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&h=1080&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center"].map((e,t)=>(0,ja.jsxs)("button",{onClick:()=>E("backgroundImage",e),className:"relative group",children:[(0,ja.jsx)("img",{src:e,alt:"Stock ".concat(t+1),className:"w-full h-20 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,ja.jsx)("div",{className:"absolute inset-0 bg-purple-600/0 group-hover:bg-purple-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ja.jsx)(ds,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Primary Button"}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsx)("input",{type:"text",value:d.hero.primaryButtonText,onChange:e=>E("primaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Start Trading Now"}),(0,ja.jsx)("input",{type:"text",value:d.hero.primaryButtonLink,onChange:e=>E("primaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/login"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Secondary Button"}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsx)("input",{type:"text",value:d.hero.secondaryButtonText,onChange:e=>E("secondaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Explore Features"}),(0,ja.jsx)("input",{type:"text",value:d.hero.secondaryButtonLink,onChange:e=>E("secondaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/browse"})]})]})]}),(0,ja.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ja.jsx)(Pi,{className:"w-5 h-5 text-green-600"}),(0,ja.jsx)("span",{children:"Hero Video (Optional)"})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,ja.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("input",{type:"checkbox",checked:d.hero.showVideo||!1,onChange:e=>E("showVideo",e.target.checked),className:"rounded border-gray-300"}),(0,ja.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Video"})]})}),d.hero.showVideo&&(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Video URL (YouTube, Vimeo, etc.)"}),(0,ja.jsx)("input",{type:"url",value:d.hero.videoUrl||"",onChange:e=>E("videoUrl",e.target.value),className:"cataloro-input",placeholder:"https://player.vimeo.com/video/123456789"})]})]})]})]}),"about"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)(Zn,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About Section"})]}),(0,ja.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("input",{type:"checkbox",checked:(null===(e=d.about)||void 0===e?void 0:e.enabled)||!1,onChange:e=>M("enabled",e.target.checked),className:"rounded border-gray-300"}),(0,ja.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Section"})]})]}),(null===(t=d.about)||void 0===t?void 0:t.enabled)&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ja.jsx)("input",{type:"text",value:(null===(r=d.about)||void 0===r?void 0:r.title)||"",onChange:e=>M("title",e.target.value),className:"cataloro-input",placeholder:"About Cataloro"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Subtitle"}),(0,ja.jsx)("input",{type:"text",value:(null===(n=d.about)||void 0===n?void 0:n.subtitle)||"",onChange:e=>M("subtitle",e.target.value),className:"cataloro-input",placeholder:"Revolutionizing Digital Commerce"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),(0,ja.jsx)(Ci(),{value:(null===(s=d.about)||void 0===s?void 0:s.description)||"",onChange:e=>M("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ja.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ja.jsx)(Js,{className:"w-5 h-5 text-blue-600"}),(0,ja.jsx)("span",{children:"About Section Image"})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"About Image URL"}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsx)("input",{type:"url",value:(null===(i=d.about)||void 0===i?void 0:i.image)||"",onChange:e=>M("image",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600"}),(0,ja.jsxs)("button",{onClick:()=>document.getElementById("about-image-upload").click(),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",disabled:w,children:[(0,ja.jsx)(Ys,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Upload"})]}),(0,ja.jsx)("input",{id:"about-image-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&I(e.target.files[0],"about","image"),className:"hidden"})]})]}),(null===(l=d.about)||void 0===l?void 0:l.image)&&(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("img",{src:d.about.image,alt:"About Section Preview",className:"w-full h-48 object-cover rounded-lg"}),(0,ja.jsx)("button",{onClick:()=>M("image",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select About Images"}),(0,ja.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1556761175-b413da4baf72?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center"].map((e,t)=>(0,ja.jsxs)("button",{onClick:()=>M("image",e),className:"relative group",children:[(0,ja.jsx)("img",{src:e,alt:"About Stock ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,ja.jsx)("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ja.jsx)(ds,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Key Features (one per line)"}),(0,ja.jsx)("textarea",{value:(null===(o=d.about)||void 0===o||null===(c=o.features)||void 0===c?void 0:c.join("\n"))||"",onChange:e=>M("features",e.target.value.split("\n").filter(e=>e.trim())),className:"cataloro-input h-24 resize-none",placeholder:"AI-Powered Matching\nReal-time Communication\nAdvanced Security\nGlobal Reach"})]})]})]}),"stats"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)(Qn,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Statistics Section"})]}),(0,ja.jsxs)("button",{onClick:()=>{u(e=>qe(qe({},e),{},{stats:[...e.stats,{label:"New Stat",value:"0",icon:"zap",color:"blue"}]}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ja.jsx)(On,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Add Stat"})]})]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.stats.map((e,t)=>(0,ja.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg relative",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ja.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["Statistic ",t+1]}),d.stats.length>1&&(0,ja.jsx)("button",{onClick:()=>(e=>{u(t=>qe(qe({},t),{},{stats:t.stats.filter((t,r)=>r!==e)}))})(t),className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}),(0,ja.jsxs)("div",{className:"space-y-3",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Value"}),(0,ja.jsx)("input",{type:"text",value:e.value,onChange:e=>O(t,"value",e.target.value),className:"cataloro-input text-sm",placeholder:"10K+"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Label"}),(0,ja.jsx)("input",{type:"text",value:e.label,onChange:e=>O(t,"label",e.target.value),className:"cataloro-input text-sm",placeholder:"Active Users"})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Icon"}),(0,ja.jsxs)("select",{value:e.icon,onChange:e=>O(t,"icon",e.target.value),className:"cataloro-input text-sm",children:[(0,ja.jsx)("option",{value:"users",children:"Users"}),(0,ja.jsx)("option",{value:"package",children:"Package"}),(0,ja.jsx)("option",{value:"trending",children:"Trending"}),(0,ja.jsx)("option",{value:"star",children:"Star"}),(0,ja.jsx)("option",{value:"zap",children:"Zap"}),(0,ja.jsx)("option",{value:"target",children:"Target"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Color"}),(0,ja.jsxs)("select",{value:e.color,onChange:e=>O(t,"color",e.target.value),className:"cataloro-input text-sm",children:[(0,ja.jsx)("option",{value:"blue",children:"Blue"}),(0,ja.jsx)("option",{value:"green",children:"Green"}),(0,ja.jsx)("option",{value:"purple",children:"Purple"}),(0,ja.jsx)("option",{value:"yellow",children:"Yellow"}),(0,ja.jsx)("option",{value:"red",children:"Red"}),(0,ja.jsx)("option",{value:"pink",children:"Pink"})]})]})]})]})]},t))})]}),"features"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)(Xn,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Features Section"})]}),(0,ja.jsxs)("button",{onClick:()=>{const e="category-".concat(Date.now());u(t=>qe(qe({},t),{},{features:qe(qe({},t.features),{},{categories:[...t.features.categories,{id:e,name:"New Category",description:"Category description",icon:"zap",color:"blue-purple",features:["Feature 1","Feature 2"]}]})}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ja.jsx)(On,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Add Category"})]})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ja.jsx)("input",{type:"text",value:d.features.title,onChange:e=>A("title",e.target.value),className:"cataloro-input",placeholder:"Platform Features"})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-4 pt-6",children:(0,ja.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("input",{type:"checkbox",checked:d.features.showIcons,onChange:e=>A("showIcons",e.target.checked),className:"rounded border-gray-300"}),(0,ja.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Icons"})]})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Description"}),(0,ja.jsx)(Ci(),{value:d.features.description,onChange:e=>A("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Feature Categories"}),d.features.categories.map((e,t)=>(0,ja.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsxs)("h5",{className:"font-medium text-gray-900 dark:text-white",children:["Category ",t+1]}),(0,ja.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>qe(qe({},e),{},{features:qe(qe({},e.features),{},{categories:e.features.categories.filter(e=>e.id!==t)})}));var t},className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Category Name"}),(0,ja.jsx)("input",{type:"text",value:e.name,onChange:t=>T(e.id,"name",t.target.value),className:"cataloro-input text-sm",placeholder:"Category name"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Color Scheme"}),(0,ja.jsxs)("select",{value:e.color,onChange:t=>T(e.id,"color",t.target.value),className:"cataloro-input text-sm",children:[(0,ja.jsx)("option",{value:"blue-purple",children:"Blue to Purple"}),(0,ja.jsx)("option",{value:"green-teal",children:"Green to Teal"}),(0,ja.jsx)("option",{value:"orange-red",children:"Orange to Red"}),(0,ja.jsx)("option",{value:"purple-pink",children:"Purple to Pink"})]})]})]}),(0,ja.jsxs)("div",{className:"mb-4",children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),(0,ja.jsx)("textarea",{value:e.description,onChange:t=>T(e.id,"description",t.target.value),className:"cataloro-input text-sm h-20 resize-none",placeholder:"Category description"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Features (one per line)"}),(0,ja.jsx)("textarea",{value:e.features.join("\n"),onChange:t=>T(e.id,"features",t.target.value.split("\n").filter(e=>e.trim())),className:"cataloro-input text-sm h-24 resize-none",placeholder:"Feature 1\nFeature 2\nFeature 3"})]})]},e.id))]})]})]}),"testimonials"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)(hi,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Testimonials Section"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("input",{type:"checkbox",checked:d.testimonials.enabled,onChange:e=>P("enabled",e.target.checked),className:"rounded border-gray-300"}),(0,ja.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Section"})]}),(0,ja.jsxs)("button",{onClick:()=>{const e="testimonial-".concat(Date.now());u(t=>qe(qe({},t),{},{testimonials:qe(qe({},t.testimonials),{},{items:[...t.testimonials.items,{id:e,name:"New User",role:"Customer",avatar:"",content:"Great experience with Cataloro!",rating:5}]})}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ja.jsx)(On,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Add Testimonial"})]})]})]}),d.testimonials.enabled&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ja.jsx)("input",{type:"text",value:d.testimonials.title,onChange:e=>P("title",e.target.value),className:"cataloro-input",placeholder:"What Our Users Say"})]})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Description"}),(0,ja.jsx)("textarea",{value:d.testimonials.description,onChange:e=>P("description",e.target.value),className:"cataloro-input h-20 resize-none",placeholder:"Join thousands of satisfied users..."})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Testimonials"}),d.testimonials.items.map((e,t)=>(0,ja.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsxs)("h5",{className:"font-medium text-gray-900 dark:text-white",children:["Testimonial ",t+1]}),(0,ja.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>qe(qe({},e),{},{testimonials:qe(qe({},e.testimonials),{},{items:e.testimonials.items.filter(e=>e.id!==t)})}));var t},className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Name"}),(0,ja.jsx)("input",{type:"text",value:e.name,onChange:t=>L(e.id,"name",t.target.value),className:"cataloro-input text-sm",placeholder:"John Doe"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Role"}),(0,ja.jsx)("input",{type:"text",value:e.role,onChange:t=>L(e.id,"role",t.target.value),className:"cataloro-input text-sm",placeholder:"Power Seller"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Rating"}),(0,ja.jsxs)("select",{value:e.rating,onChange:t=>L(e.id,"rating",parseInt(t.target.value)),className:"cataloro-input text-sm",children:[(0,ja.jsx)("option",{value:5,children:"5 Stars"}),(0,ja.jsx)("option",{value:4,children:"4 Stars"}),(0,ja.jsx)("option",{value:3,children:"3 Stars"}),(0,ja.jsx)("option",{value:2,children:"2 Stars"}),(0,ja.jsx)("option",{value:1,children:"1 Star"})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Testimonial Content"}),(0,ja.jsx)("textarea",{value:e.content,onChange:t=>L(e.id,"content",t.target.value),className:"cataloro-input text-sm h-20 resize-none",placeholder:"This platform has been amazing..."})]})]},e.id))]})]})]}),"cta"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ja.jsx)(Ei,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Call to Action Section"})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CTA Title"}),(0,ja.jsx)("input",{type:"text",value:d.cta.title,onChange:e=>R("title",e.target.value),className:"cataloro-input",placeholder:"Ready to Get Started?"})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-4 pt-6",children:(0,ja.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("input",{type:"checkbox",checked:d.cta.showStats,onChange:e=>R("showStats",e.target.checked),className:"rounded border-gray-300"}),(0,ja.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Stats"})]})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CTA Description"}),(0,ja.jsx)(Ci(),{value:d.cta.description,onChange:e=>R("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Primary Button"}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsx)("input",{type:"text",value:d.cta.primaryButtonText,onChange:e=>R("primaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Start Your Journey"}),(0,ja.jsx)("input",{type:"text",value:d.cta.primaryButtonLink,onChange:e=>R("primaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/login"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Secondary Button"}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsx)("input",{type:"text",value:d.cta.secondaryButtonText,onChange:e=>R("secondaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Explore Platform"}),(0,ja.jsx)("input",{type:"text",value:d.cta.secondaryButtonLink,onChange:e=>R("secondaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/browse"})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Background Style"}),(0,ja.jsxs)("select",{value:d.cta.backgroundStyle,onChange:e=>R("backgroundStyle",e.target.value),className:"cataloro-input",children:[(0,ja.jsx)("option",{value:"gradient",children:"Gradient"}),(0,ja.jsx)("option",{value:"solid",children:"Solid Color"}),(0,ja.jsx)("option",{value:"image",children:"Background Image"})]})]})]})]}),"about-html"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ja.jsx)($s,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About Page HTML Editor"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"HTML Content"}),(0,ja.jsx)("textarea",{value:d["about-html"].htmlContent,onChange:e=>D("htmlContent",e.target.value),className:"cataloro-input font-mono text-sm h-64 resize-none",placeholder:"Enter your HTML content here..."})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CSS Styles"}),(0,ja.jsx)("textarea",{value:d["about-html"].cssStyles,onChange:e=>D("cssStyles",e.target.value),className:"cataloro-input font-mono text-sm h-32 resize-none",placeholder:"Enter your CSS styles here..."})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-3",children:(0,ja.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("input",{type:"checkbox",checked:d["about-html"].enabled,onChange:e=>D("enabled",e.target.checked),className:"rounded"}),(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Enable HTML About Page"})]})})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Live Preview"}),(0,ja.jsxs)("button",{onClick:()=>window.open("/about","_blank"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-colors",children:[(0,ja.jsx)(Ai,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"View Full Page"})]})]}),(0,ja.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,ja.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Preview"})}),(0,ja.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-900 min-h-[300px]",children:[(0,ja.jsx)("style",{dangerouslySetInnerHTML:{__html:d["about-html"].cssStyles}}),(0,ja.jsx)("div",{dangerouslySetInnerHTML:{__html:d["about-html"].htmlContent},className:"prose dark:prose-invert max-w-none"})]})]}),(0,ja.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,ja.jsx)("p",{children:"\u2022 HTML and CSS will be applied to the About page"}),(0,ja.jsx)("p",{children:"\u2022 Changes are saved automatically every 30 seconds"}),(0,ja.jsx)("p",{children:'\u2022 Use the "View Full Page" button to see the complete rendered page'})]})]})]})]}),"footer"===h&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ja.jsx)(kn,{className:"w-6 h-6 text-blue-600"}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Footer Section"})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Company Description"}),(0,ja.jsx)("textarea",{value:d.footer.companyDescription,onChange:e=>F("companyDescription",e.target.value),className:"cataloro-input h-24 resize-none",placeholder:"Cataloro is the future of online commerce..."})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Social Media Links"}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Twitter"}),(0,ja.jsx)("input",{type:"url",value:d.footer.socialLinks.twitter,onChange:e=>F("socialLinks",qe(qe({},d.footer.socialLinks),{},{twitter:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://twitter.com/cataloro"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Facebook"}),(0,ja.jsx)("input",{type:"url",value:d.footer.socialLinks.facebook,onChange:e=>F("socialLinks",qe(qe({},d.footer.socialLinks),{},{facebook:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://facebook.com/cataloro"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Instagram"}),(0,ja.jsx)("input",{type:"url",value:d.footer.socialLinks.instagram,onChange:e=>F("socialLinks",qe(qe({},d.footer.socialLinks),{},{instagram:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://instagram.com/cataloro"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"LinkedIn"}),(0,ja.jsx)("input",{type:"url",value:d.footer.socialLinks.linkedin,onChange:e=>F("socialLinks",qe(qe({},d.footer.socialLinks),{},{linkedin:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://linkedin.com/company/cataloro"})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Footer Links (JSON format)"}),(0,ja.jsx)("textarea",{value:JSON.stringify(d.footer.footerLinks,null,2),onChange:e=>{try{const t=JSON.parse(e.target.value);F("footerLinks",t)}catch(t){}},className:"cataloro-input h-32 resize-none font-mono text-sm",placeholder:'[{"title": "About", "url": "/info"}]'}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Format: [{"title": "Link Name", "url": "/path"}]'})]})]})]})]})})]})]})};const Ri=function(){var e;const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)({title:"",message:"",type:"success",event_trigger:"manual",target_users:"all",user_ids:[],show_duration:5e3,delay_before_show:0,expires_at:"",auto_dismiss:!0,is_active:!0}),{user:h}=Pa(),{showToast:m}=Wa(),p=[{value:"manual",label:"Manual Trigger",description:"Show immediately when activated"},{value:"login",label:"User Login",description:"Show when user logs in"},{value:"first_login",label:"First Login",description:"Show only on user's first login"},{value:"profile_update",label:"Profile Update",description:"Show after profile is updated"},{value:"purchase_complete",label:"Purchase Complete",description:"Show after successful purchase"},{value:"listing_published",label:"Listing Published",description:"Show after listing is published"},{value:"message_received",label:"Message Received",description:"Show when user receives a message"},{value:"daily",label:"Daily",description:"Show once per day"},{value:"weekly",label:"Weekly",description:"Show once per week"}],g=[{value:"success",label:"Success",color:"green",icon:ds},{value:"info",label:"Information",color:"blue",icon:ms},{value:"warning",label:"Warning",color:"yellow",icon:us},{value:"error",label:"Error",color:"red",icon:us},{value:"welcome",label:"Welcome",color:"purple",icon:An}];(0,a.useEffect)(()=>{x()},[]);const x=async()=>{try{s(!0);const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/system-notifications"));if(!e.ok)throw new Error("Failed to load notifications");{const t=await e.json();r(t.notifications||[])}}catch(e){console.error("Error loading system notifications:",e),m("Failed to load system notifications","error")}finally{s(!1)}},f=()=>{u({title:"",message:"",type:"success",event_trigger:"manual",target_users:"all",user_ids:[],show_duration:5e3,delay_before_show:0,expires_at:"",auto_dismiss:!0,is_active:!0})},y=e=>{const t=g.find(t=>t.value===e),r=(null===t||void 0===t?void 0:t.icon)||An;return(0,ja.jsx)(r,{className:"w-5 h-5"})},b=e=>{const t=g.find(t=>t.value===e);return(null===t||void 0===t?void 0:t.color)||"gray"},v=e=>{const t=e||"manual",r=p.find(e=>e.value===t);return(null===r||void 0===r?void 0:r.label)||"Manual Trigger"};return n?(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(An,{className:"w-7 h-7 mr-3 text-green-600"}),"System Notifications Manager"]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Manage green toast notifications that appear in the top right corner"})]}),(0,ja.jsxs)("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,ja.jsx)(On,{className:"w-4 h-4 mr-2"}),"Create Notification"]})]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 gap-4",children:0===t.length?(0,ja.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl",children:[(0,ja.jsx)(An,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ja.jsx)("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No System Notifications"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Create your first system notification to manage green toast messages"})]}):t.map(e=>(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,ja.jsx)("div",{className:"p-3 rounded-lg bg-".concat(b(e.type),"-100 text-").concat(b(e.type),"-600"),children:y(e.type)}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.title}),(0,ja.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"}),(0,ja.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-".concat(b(e.type),"-100 text-").concat(b(e.type),"-800"),children:e.type})]}),(0,ja.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:e.message}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(Qs,{className:"w-4 h-4 mr-1"}),(0,ja.jsx)("span",{children:v(e.event_trigger)})]}),(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(hi,{className:"w-4 h-4 mr-1"}),(0,ja.jsx)("span",{children:"all"===e.target_users?"All Users":"Specific Users"})]}),(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(In,{className:"w-4 h-4 mr-1"}),(0,ja.jsxs)("span",{children:[e.show_duration/1e3,"s duration"]})]}),(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(vs,{className:"w-4 h-4 mr-1"}),(0,ja.jsxs)("span",{children:[e.display_count||0," views"]})]})]}),e.expires_at&&(0,ja.jsxs)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsx)(ni,{className:"w-4 h-4 inline mr-1"}),"Expires: ",new Date(e.expires_at).toLocaleDateString()]})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("button",{onClick:()=>(async e=>{try{if(!(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/system-notifications/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!e.is_active})})).ok)throw new Error("Failed to toggle notification");m("Notification ".concat(e.is_active?"deactivated":"activated","!"),"success"),x()}catch(t){console.error("Error toggling notification:",t),m("Failed to toggle notification","error")}})(e),className:"px-3 py-1 text-sm rounded-lg transition-colors ".concat(e.is_active?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:e.is_active?"Deactivate":"Activate"}),(0,ja.jsx)("button",{onClick:()=>(e=>{c(e),u({title:e.title||"",message:e.message||"",type:e.type||"success",event_trigger:e.event_trigger||"manual",target_users:e.target_users||"all",user_ids:e.user_ids||[],show_duration:e.show_duration||5e3,delay_before_show:e.delay_before_show||0,expires_at:e.expires_at?e.expires_at.split("T")[0]:"",auto_dismiss:!1!==e.auto_dismiss,is_active:!1!==e.is_active})})(e),className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-lg hover:bg-blue-200 transition-colors",children:(0,ja.jsx)(Vs,{className:"w-4 h-4"})}),(0,ja.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this system notification?"))try{if(!(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/system-notifications/").concat(e),{method:"DELETE"})).ok)throw new Error("Failed to delete notification");m("System notification deleted successfully!","success"),x()}catch(t){console.error("Error deleting notification:",t),m("Failed to delete notification","error")}})(e.id),className:"px-3 py-1 bg-red-100 text-red-700 text-sm rounded-lg hover:bg-red-200 transition-colors",children:(0,ja.jsx)(Dn,{className:"w-4 h-4"})})]})]})},e.id))}),(i||o)&&(0,ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o?"Edit System Notification":"Create New System Notification"}),(0,ja.jsx)("button",{onClick:()=>{l(!1),c(null),f()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ja.jsx)(Fn,{className:"w-6 h-6"})})]})}),(0,ja.jsxs)("form",{onSubmit:o?async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/system-notifications/").concat(o.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe(qe({},d),{},{expires_at:d.expires_at||null}))})).ok)throw new Error("Failed to update notification");m("System notification updated successfully!","success"),c(null),f(),x()}catch(t){console.error("Error updating notification:",t),m("Failed to update notification","error")}}:async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/system-notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe(qe({},d),{},{created_by:h.id,expires_at:d.expires_at||null}))})).ok)throw new Error("Failed to create notification");m("System notification created successfully!","success"),l(!1),f(),x()}catch(t){console.error("Error creating notification:",t),m("Failed to create notification","error")}},className:"p-6 space-y-6",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Title *"}),(0,ja.jsx)("input",{type:"text",value:d.title,onChange:e=>u(t=>qe(qe({},t),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Welcome to the new Cataloro!",required:!0})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Type *"}),(0,ja.jsx)("select",{value:d.type,onChange:e=>u(t=>qe(qe({},t),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:g.map(e=>(0,ja.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message Content *"}),(0,ja.jsx)("textarea",{value:d.message,onChange:e=>u(t=>qe(qe({},t),{},{message:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter the notification message that will appear in the green toast...",required:!0})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Trigger *"}),(0,ja.jsx)("select",{value:d.event_trigger,onChange:e=>u(t=>qe(qe({},t),{},{event_trigger:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:p.map(e=>(0,ja.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:null===(e=p.find(e=>e.value===d.event_trigger))||void 0===e?void 0:e.description})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Users"}),(0,ja.jsxs)("select",{value:d.target_users,onChange:e=>u(t=>qe(qe({},t),{},{target_users:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"all",children:"All Users"}),(0,ja.jsx)("option",{value:"new_users",children:"New Users Only"}),(0,ja.jsx)("option",{value:"returning_users",children:"Returning Users"}),(0,ja.jsx)("option",{value:"specific_ids",children:"Specific User IDs"})]})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delay Before Show (ms)"}),(0,ja.jsx)("input",{type:"number",value:d.delay_before_show,onChange:e=>u(t=>qe(qe({},t),{},{delay_before_show:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"500"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Show Duration (ms)"}),(0,ja.jsx)("input",{type:"number",value:d.show_duration,onChange:e=>u(t=>qe(qe({},t),{},{show_duration:parseInt(e.target.value)||5e3})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"1000",step:"1000"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expires On (Optional)"}),(0,ja.jsx)("input",{type:"date",value:d.expires_at,onChange:e=>u(t=>qe(qe({},t),{},{expires_at:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ja.jsxs)("label",{className:"flex items-center",children:[(0,ja.jsx)("input",{type:"checkbox",checked:d.auto_dismiss,onChange:e=>u(t=>qe(qe({},t),{},{auto_dismiss:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ja.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Auto Dismiss"})]}),(0,ja.jsxs)("label",{className:"flex items-center",children:[(0,ja.jsx)("input",{type:"checkbox",checked:d.is_active,onChange:e=>u(t=>qe(qe({},t),{},{is_active:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ja.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})]}),(0,ja.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ja.jsx)("button",{type:"button",onClick:()=>{l(!1),c(null),f()},className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,ja.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,ja.jsx)(Zs,{className:"w-4 h-4 mr-2"}),o?"Update":"Create"," Notification"]})]})]})]})})]})},Mi=wn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Fi=wn("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Di=wn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ii=wn("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Ui=wn("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),qi=wn("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Bi=wn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),zi=wn("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Hi=function(e){let{showToast:t}=e;const[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)("visual"),[l,o]=(0,a.useState)({}),c=[{id:"user_onboarding",title:"User Onboarding & Registration",category:"Authentication",icon:Mi,color:"bg-blue-500",status:"active",pages:["/login","/register","/profile"],steps:[{id:1,title:"Visit Homepage",page:"/",icon:kn,status:"completed"},{id:2,title:"Click Register",page:"/login",icon:Mi,status:"completed"},{id:3,title:"Fill Registration Form",page:"/register",icon:$s,status:"completed"},{id:4,title:"Email Verification",page:"/verify",icon:ts,status:"completed"},{id:5,title:"Profile Setup",page:"/profile",icon:Vn,status:"completed"},{id:6,title:"Welcome Dashboard",page:"/browse",icon:Es,status:"completed"}],metrics:{completion_rate:"89%",avg_time:"3.5 min",drop_off_rate:"11%"}},{id:"product_listing",title:"Product Listing Creation",category:"Marketplace",icon:Wn,color:"bg-green-500",status:"active",pages:["/sell","/my-listings"],steps:[{id:1,title:"Navigate to Sell",page:"/sell",icon:Wn,status:"completed"},{id:2,title:"Choose Category",page:"/sell",icon:oi,status:"completed"},{id:3,title:"Add Product Details",page:"/sell",icon:Vs,status:"completed"},{id:4,title:"Upload Images",page:"/sell",icon:Ys,status:"completed"},{id:5,title:"Set Price & Condition",page:"/sell",icon:_n,status:"completed"},{id:6,title:"Review & Publish",page:"/sell",icon:Fi,status:"completed"},{id:7,title:"Listing Goes Live",page:"/browse",icon:vs,status:"completed"}],metrics:{success_rate:"94%",avg_time:"7.2 min",active_listings:"2,847"}},{id:"buy_process",title:"Buy/Purchase Process",category:"Transactions",icon:Rn,color:"bg-purple-500",status:"active",pages:["/browse","/product/:id","/my-deals","/pending-sales"],steps:[{id:1,title:"Browse Products",page:"/browse",icon:$n,status:"completed"},{id:2,title:"View Product Details",page:"/product/:id",icon:vs,status:"completed"},{id:3,title:"Click Buy Now",page:"/product/:id",icon:Rn,status:"completed"},{id:4,title:"Send Buy Request",page:"/cart",icon:ts,status:"completed"},{id:5,title:"Seller Approval",page:"/pending-sales",icon:ds,status:"completed"},{id:6,title:"Payment Processing",page:"/payment",icon:Di,status:"in_progress"},{id:7,title:"Order Completion",page:"/my-deals",icon:Fi,status:"completed"}],metrics:{conversion_rate:"67%",approval_rate:"82%",avg_transaction_value:"$249"}},{id:"messaging_system",title:"Real-time Messaging",category:"Communication",icon:Cn,color:"bg-indigo-500",status:"active",pages:["/messages"],steps:[{id:1,title:"Click Message Button",page:"/product/:id",icon:Cn,status:"completed"},{id:2,title:"Open Chat Interface",page:"/messages",icon:Cn,status:"completed"},{id:3,title:"Send/Receive Messages",page:"/messages",icon:ts,status:"completed"},{id:4,title:"Real-time Notifications",page:"/messages",icon:An,status:"completed"},{id:5,title:"Message History",page:"/messages",icon:In,status:"completed"}],metrics:{response_rate:"78%",avg_response_time:"12 min",daily_messages:"1,234"}},{id:"notification_system",title:"Notification Management",category:"Communication",icon:An,color:"bg-yellow-500",status:"active",pages:["/notifications"],steps:[{id:1,title:"Trigger Event",page:"Any",icon:Qs,status:"completed"},{id:2,title:"Generate Notification",page:"Backend",icon:An,status:"completed"},{id:3,title:"Show in Header Bell",page:"Header",icon:An,status:"completed"},{id:4,title:"Quick Actions Available",page:"Header",icon:Fi,status:"completed"},{id:5,title:"View All Notifications",page:"/notifications",icon:vs,status:"completed"}],metrics:{delivery_rate:"99.2%",read_rate:"73%",action_rate:"45%"}},{id:"admin_management",title:"Admin Management",category:"Administration",icon:Sn,color:"bg-red-500",status:"active",pages:["/admin"],steps:[{id:1,title:"Admin Login",page:"/admin",icon:Sn,status:"completed"},{id:2,title:"Dashboard Overview",page:"/admin",icon:Qn,status:"completed"},{id:3,title:"User Management",page:"/admin",icon:hi,status:"completed"},{id:4,title:"Listings Management",page:"/admin",icon:Wn,status:"completed"},{id:5,title:"Business Process View",page:"/admin",icon:Nn,status:"completed"},{id:6,title:"Site Settings",page:"/admin",icon:Xn,status:"completed"}],metrics:{admin_sessions:"89/month",actions_per_session:"12.4",system_uptime:"99.8%"}},{id:"favorites_wishlist",title:"Favorites & Wishlist",category:"User Experience",icon:En,color:"bg-pink-500",status:"active",pages:["/favorites"],steps:[{id:1,title:"Heart Icon on Product",page:"/browse",icon:En,status:"completed"},{id:2,title:"Add to Favorites",page:"/product/:id",icon:En,status:"completed"},{id:3,title:"View Favorites List",page:"/favorites",icon:Os,status:"completed"},{id:4,title:"Manage Favorites",page:"/favorites",icon:Vs,status:"completed"}],metrics:{favorites_per_user:"8.3",wishlist_conversion:"34%",total_favorites:"12,847"}},{id:"search_discovery",title:"Search & Discovery",category:"User Experience",icon:$n,color:"bg-teal-500",status:"active",pages:["/browse","/search"],steps:[{id:1,title:"Enter Search Query",page:"/browse",icon:$n,status:"completed"},{id:2,title:"Apply Filters",page:"/browse",icon:oi,status:"completed"},{id:3,title:"View Results",page:"/browse",icon:vs,status:"completed"},{id:4,title:"Sort & Refine",page:"/browse",icon:oi,status:"completed"},{id:5,title:"Product Selection",page:"/product/:id",icon:Ei,status:"completed"}],metrics:{search_success_rate:"87%",avg_results:"23.7",filter_usage:"45%"}}],d=e=>{switch(e){case"completed":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30";case"in_progress":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/30";case"pending":return"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900/30";case"failed":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/30"}},u=(e,t)=>{const r=e.icon;return(0,ja.jsx)("div",{className:"p-3 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"in_progress"===e.status?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"),children:(0,ja.jsx)(r,{className:"w-5 h-5"})})};return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,ja.jsx)(Nn,{className:"w-8 h-8"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h2",{className:"text-3xl font-bold",children:"Business Process Map"}),(0,ja.jsx)("p",{className:"text-purple-100",children:"Visual overview of all marketplace business processes and user journeys"})]})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-4",children:(0,ja.jsx)("div",{className:"bg-white/20 px-4 py-2 rounded-lg backdrop-blur-sm",children:(0,ja.jsxs)("span",{className:"text-sm font-medium",children:[c.length," Active Processes"]})})})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Process View"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,ja.jsxs)("button",{onClick:()=>i("visual"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("visual"===s?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,ja.jsx)(Ii,{className:"w-4 h-4 mr-2 inline"}),"Visual Map"]}),(0,ja.jsxs)("button",{onClick:()=>i("list"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("list"===s?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,ja.jsx)(Ui,{className:"w-4 h-4 mr-2 inline"}),"List View"]})]})]})}),"visual"===s&&(0,ja.jsxs)("div",{className:"cataloro-card-glass p-8",children:[(0,ja.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8 flex items-center",children:[(0,ja.jsx)(Ii,{className:"w-6 h-6 mr-3"}),"Business Process Flow Diagram"]}),(0,ja.jsx)("div",{className:"space-y-8",children:c.map((e,r)=>(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("div",{className:"flex items-center mb-6",children:[(0,ja.jsx)("div",{className:"p-4 rounded-2xl ".concat(e.color," text-white mr-4"),children:(0,ja.jsx)(e.icon,{className:"w-8 h-8"})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.title}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.category})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.toUpperCase()}),(0,ja.jsx)("button",{onClick:()=>{return t=e.id,void o(e=>qe(qe({},e),{},{[t]:!e[t]}));var t},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:l[e.id]?(0,ja.jsx)(qi,{className:"w-5 h-5"}):(0,ja.jsx)(Bi,{className:"w-5 h-5"})})]})]}),(0,ja.jsxs)("div",{className:"ml-16 transition-all duration-300 ".concat(l[e.id]?"max-h-full opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:[(0,ja.jsx)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:e.steps.map((r,n)=>(0,ja.jsxs)(a.Fragment,{children:[(0,ja.jsxs)("div",{className:"flex flex-col items-center group cursor-pointer hover:scale-105 transition-transform",onClick:()=>t("Step: ".concat(r.title," (Page: ").concat(r.page,")"),"info"),children:[u(r),(0,ja.jsxs)("div",{className:"mt-2 text-center min-w-[120px]",children:[(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:r.title}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.page})]})]}),n<e.steps.length-1&&(0,ja.jsx)(Ts,{className:"w-6 h-6 text-gray-400 dark:text-gray-600 flex-shrink-0"})]},r.id))}),(0,ja.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[(0,ja.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Process Metrics"}),(0,ja.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e.metrics).map(e=>{let[t,r]=e;return(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:t.replace("_"," ")})]},t)})})]})]}),r<c.length-1&&(0,ja.jsx)("div",{className:"flex justify-center mt-8",children:(0,ja.jsx)(zi,{className:"w-8 h-8 text-gray-400 dark:text-gray-600"})})]},e.id))})]}),"list"===s&&(0,ja.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(e=>(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"p-3 rounded-xl ".concat(e.color," text-white"),children:(0,ja.jsx)(e.icon,{className:"w-6 h-6"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.title}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.category})]})]}),(0,ja.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.toUpperCase()})]}),(0,ja.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:Object.entries(e.metrics).map(e=>{let[t,r]=e;return(0,ja.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,ja.jsx)("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:t.replace("_"," ")})]},t)})}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Related Pages:"}),(0,ja.jsx)("div",{className:"flex flex-wrap gap-2",children:e.pages.map((e,t)=>(0,ja.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-md text-xs",children:[(0,ja.jsx)(as,{className:"w-3 h-3 mr-1"}),e]},t))})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("button",{onClick:()=>n(e),className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 text-sm",children:[(0,ja.jsx)(vs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"View Details"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,ja.jsx)(In,{className:"w-3 h-3"}),(0,ja.jsxs)("span",{children:[e.steps.length," steps"]})]})]})]},e.id))}),r&&(0,ja.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("div",{className:"p-3 rounded-xl ".concat(r.color," text-white"),children:(0,ja.jsx)(r.icon,{className:"w-8 h-8"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r.category})]})]}),(0,ja.jsx)("button",{onClick:()=>n(null),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:(0,ja.jsx)(Fn,{className:"w-6 h-6"})})]})}),(0,ja.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Process Steps"}),(0,ja.jsx)("div",{className:"space-y-4",children:r.steps.map((e,t)=>(0,ja.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[(0,ja.jsx)("div",{className:"flex-shrink-0",children:(0,ja.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat("completed"===e.status?"bg-green-500 text-white":"in_progress"===e.status?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"),children:t+1})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,ja.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.replace("_"," ").toUpperCase()})]}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page: ",e.page]})]}),u(e)]},e.id))})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Performance Metrics"}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(r.metrics).map(e=>{let[t,r]=e;return(0,ja.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl",children:[(0,ja.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize mt-1",children:t.replace("_"," ")})]},t)})})]})]})]})}),(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Business Process Summary"}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.length}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Processes"})]}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:c.filter(e=>"active"===e.status).length}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Processes"})]}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:c.reduce((e,t)=>e+t.steps.length,0)}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Steps"})]}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:new Set(c.flatMap(e=>e.pages)).size}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unique Pages"})]})]})]})]})};function Vi(e){var t,r;let{dashboardData:n,loading:s}=e;const[i,l]=(0,a.useState)({}),[o,c]=(0,a.useState)("7d"),[d,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{const e=setInterval(()=>{const e={timestamp:(new Date).toLocaleTimeString(),users:Math.floor(50*Math.random())+20,revenue:Math.floor(1e3*Math.random())+500,orders:Math.floor(10*Math.random())+5};u(t=>[...t.slice(-9),e])},5e3);return()=>clearInterval(e)},[]),(0,a.useEffect)(()=>{if(n){l((()=>{var e,t,r;const a="7d"===o?7:"30d"===o?30:90,s=[],i=[],l=[],c=[],d=(null===(e=n.kpis)||void 0===e?void 0:e.total_users)||0,u=(null===(t=n.kpis)||void 0===t?void 0:t.revenue)||0,h=(null===(r=n.kpis)||void 0===r?void 0:r.total_deals)||0,m=u/Math.max(a,1),p=Math.max(Math.floor(d/Math.max(3*a,1)),1);for(let n=a-1;n>=0;n--){const e=new Date;e.setDate(e.getDate()-n),s.push(e.toLocaleDateString("en-US",{month:"short",day:"numeric"}));const t=.4*Math.random()-.2,r=.4*Math.random()-.2;i.push(Math.max(1,Math.floor(p*(1+t)))),l.push(Math.max(0,Math.floor(m*(1+r)))),c.push(Math.max(0,Math.floor(h/a*(1+r))))}return{labels:s,userData:i,revenueData:l,orderData:c}})())}},[n,o]);if(s||!n)return(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading comprehensive dashboard..."})]})});const{kpis:h,recent_activity:m}=n,p={userGrowth:(h.total_users||0)/Math.max(1,(h.total_users||1)-10)*100-100,revenueGrowth:h.growth_rate||0,conversionRate:(h.total_deals||0)/Math.max(1,h.total_users||1)*100,avgOrderValue:(h.revenue||0)/Math.max(1,h.total_deals||1)};return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-emerald-600 rounded-2xl p-8 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),(0,ja.jsx)("p",{className:"text-purple-100",children:"Comprehensive marketplace analytics and insights"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-lg border border-white/30 focus:border-white/50 focus:outline-none",children:[(0,ja.jsx)("option",{value:"7d",className:"text-gray-900",children:"Last 7 days"}),(0,ja.jsx)("option",{value:"30d",className:"text-gray-900",children:"Last 30 days"}),(0,ja.jsx)("option",{value:"90d",className:"text-gray-900",children:"Last 90 days"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,ja.jsx)("span",{className:"text-sm",children:"Live Data"})]})]})]})}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ja.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-800",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsx)("div",{className:"p-3 bg-blue-500 rounded-xl",children:(0,ja.jsx)(hi,{className:"w-6 h-6 text-white"})}),(0,ja.jsxs)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full ".concat(p.userGrowth>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[p.userGrowth>0?"+":"",p.userGrowth.toFixed(1),"%"]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:(h.total_users||0).toLocaleString()}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total Users"}),(0,ja.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-400 mb-3",children:["+",Math.floor(5*Math.random())+2," new today"]}),(0,ja.jsx)("div",{className:"mt-3 bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:(0,ja.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"78%"}})}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"78% retention rate"})]})]}),(0,ja.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-2xl p-6 border border-emerald-200 dark:border-emerald-800",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsx)("div",{className:"p-3 bg-emerald-500 rounded-xl",children:(0,ja.jsx)(_n,{className:"w-6 h-6 text-white"})}),(0,ja.jsxs)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-green-700",children:["+",p.revenueGrowth.toFixed(1),"%"]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:["\u20ac",(h.revenue||0).toLocaleString()]}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total Revenue"}),(0,ja.jsxs)("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 mb-3",children:["\u20ac",Math.floor((h.revenue||0)/Math.max(1,h.total_deals||1)).toLocaleString()," avg/deal"]}),(0,ja.jsx)("div",{className:"mt-3 flex items-center space-x-1",children:[...Array(8)].map((e,t)=>(0,ja.jsx)("div",{className:"bg-emerald-300 w-1 rounded-full",style:{height:"".concat(20*Math.random()+10,"px")}},t))}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Monthly trend: \u2197 +12%"})]})]}),(0,ja.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-2xl p-6 border border-orange-200 dark:border-orange-800",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsx)("div",{className:"p-3 bg-orange-500 rounded-xl",children:(0,ja.jsx)(Wn,{className:"w-6 h-6 text-white"})}),(0,ja.jsx)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:"Live"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:(h.active_listings||0).toLocaleString()}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Active Listings"}),(0,ja.jsxs)("div",{className:"text-xs text-orange-600 dark:text-orange-400 mb-3",children:[(h.total_listings||0)-(h.active_listings||0)," inactive"]}),(0,ja.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-1",children:[(0,ja.jsx)("div",{className:"bg-green-400 h-2 rounded",title:"Active"}),(0,ja.jsx)("div",{className:"bg-yellow-400 h-2 rounded",title:"Pending"}),(0,ja.jsx)("div",{className:"bg-gray-400 h-2 rounded",title:"Inactive"})]}),(0,ja.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round((h.active_listings||0)/Math.max(1,h.total_listings||1)*100),"% active rate"]})]})]}),(0,ja.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-800",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsx)("div",{className:"p-3 bg-purple-500 rounded-xl",children:(0,ja.jsx)(qn,{className:"w-6 h-6 text-white"})}),(0,ja.jsx)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Excellent"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:[p.conversionRate.toFixed(1),"%"]}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Conversion Rate"}),(0,ja.jsxs)("div",{className:"text-xs text-purple-600 dark:text-purple-400 mb-3",children:[h.total_deals||0," successful deals"]}),(0,ja.jsx)("div",{className:"mt-3",children:(0,ja.jsx)("div",{className:"bg-purple-200 dark:bg-purple-800 rounded-full h-2",children:(0,ja.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(Math.min(p.conversionRate,100),"%")}})})}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Industry avg: 2.8%"})]})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,ja.jsx)(vs,{className:"w-5 h-5 text-indigo-600"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(4.2*(h.total_users||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Page Views"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,ja.jsx)(mi,{className:"w-5 h-5 text-red-600"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"23.4%"}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Bounce Rate"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,ja.jsx)(In,{className:"w-5 h-5 text-green-600"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"4m 32s"}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Avg Session"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ja.jsx)(_s,{className:"w-5 h-5 text-blue-600"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"67.2%"}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Mobile"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,ja.jsx)(Cn,{className:"w-5 h-5 text-yellow-600"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(3.7*(h.total_deals||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Messages"})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,ja.jsx)($n,{className:"w-5 h-5 text-purple-600"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(2.1*(h.total_users||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Searches"})]})]})})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Revenue Analytics"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(Qn,{className:"w-5 h-5 text-purple-500"}),(0,ja.jsxs)("span",{className:"text-sm text-gray-500",children:["\u20ac",i.revenueData?Math.max(...i.revenueData).toLocaleString():0," max"]})]})]}),(0,ja.jsx)("div",{className:"h-64 flex items-end justify-between space-x-1 px-2 overflow-hidden",children:null===(t=i.revenueData)||void 0===t?void 0:t.map((e,t)=>{var r,a;return(0,ja.jsxs)("div",{className:"flex flex-col items-center space-y-2 flex-1 max-w-12",children:[(0,ja.jsx)("div",{className:"bg-gradient-to-t from-purple-500 to-blue-500 rounded-t-lg transition-all duration-500 hover:from-purple-600 hover:to-blue-600 cursor-pointer relative group",style:{height:"".concat(Math.min(e/Math.max(...i.revenueData||[1])*220,220),"px"),width:"100%",minHeight:"4px"},title:"\u20ac".concat(e),children:(0,ja.jsxs)("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:["\u20ac",e]})}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 transform -rotate-45 truncate w-8",children:(null===(r=i.labels)||void 0===r||null===(a=r[t])||void 0===a?void 0:a.split(" ")[1])||t})]},t)})}),(0,ja.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[(0,ja.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[(0,ja.jsx)("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Total Period"}),(0,ja.jsxs)("div",{className:"text-lg font-bold text-purple-700 dark:text-purple-300",children:["\u20ac",i.revenueData?i.revenueData.reduce((e,t)=>e+t,0).toLocaleString():0]})]}),(0,ja.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[(0,ja.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Daily Average"}),(0,ja.jsxs)("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:["\u20ac",i.revenueData?Math.round(i.revenueData.reduce((e,t)=>e+t,0)/i.revenueData.length).toLocaleString():0]})]}),(0,ja.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[(0,ja.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Peak Day"}),(0,ja.jsxs)("div",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:["\u20ac",i.revenueData?Math.max(...i.revenueData).toLocaleString():0]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"User Growth"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(hi,{className:"w-5 h-5 text-blue-500"}),(0,ja.jsxs)("span",{className:"text-sm text-gray-500",children:["+",i.userData?Math.max(...i.userData)-Math.min(...i.userData):0," users"]})]})]}),(0,ja.jsx)("div",{className:"h-64 flex items-end justify-between space-x-1 px-2 overflow-hidden",children:null===(r=i.userData)||void 0===r?void 0:r.map((e,t)=>{var r,a,n;return(0,ja.jsxs)("div",{className:"flex flex-col items-center space-y-2 flex-1 max-w-6",children:[(0,ja.jsx)("div",{className:"bg-gradient-to-t from-blue-400 to-emerald-400 rounded-full transition-all duration-500 hover:from-blue-500 hover:to-emerald-500 cursor-pointer relative group",style:{height:"".concat(Math.min(e/Math.max(...i.userData||[1])*220,220),"px"),width:"8px",minHeight:"4px"},title:"".concat(e," users"),children:(0,ja.jsxs)("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[e," users"]})}),(0,ja.jsx)("div",{className:"text-xs text-gray-500",children:t%Math.ceil(((null===(r=i.labels)||void 0===r?void 0:r.length)||1)/8)===0?null===(a=i.labels)||void 0===a||null===(n=a[t])||void 0===n?void 0:n.split(" ")[1]:""})]},t)})}),(0,ja.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[(0,ja.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[(0,ja.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Growth Rate"}),(0,ja.jsxs)("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:[i.userData?((Math.max(...i.userData)-Math.min(...i.userData))/Math.min(...i.userData)*100).toFixed(1):0,"%"]})]}),(0,ja.jsxs)("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 rounded-lg",children:[(0,ja.jsx)("div",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:"Active Users"}),(0,ja.jsx)("div",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300",children:i.userData?Math.max(...i.userData):0})]}),(0,ja.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[(0,ja.jsx)("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"New Today"}),(0,ja.jsx)("div",{className:"text-lg font-bold text-purple-700 dark:text-purple-300",children:i.userData?i.userData[i.userData.length-1]:0})]})]})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ja.jsxs)("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsxs)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(Is,{className:"w-5 h-5 mr-2 text-green-500"}),"Live Activity Stream"]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping"}),(0,ja.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Live Updates"})]})]}),(0,ja.jsx)("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:null===m||void 0===m?void 0:m.map((e,t)=>(0,ja.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,ja.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ja.jsx)(Is,{className:"w-4 h-4 text-blue-600"})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.action}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,ja.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()}),(0,ja.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Priority: High"})]})]})]},t))})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,ja.jsxs)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ja.jsx)(pi,{className:"w-5 h-5 mr-2 text-green-500"}),"System Health"]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"CPU Usage"}),(0,ja.jsx)("span",{className:"text-sm text-green-600",children:"23%"})]}),(0,ja.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ja.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"23%"}})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Memory"}),(0,ja.jsx)("span",{className:"text-sm text-yellow-600",children:"67%"})]}),(0,ja.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ja.jsx)("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"67%"}})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Storage"}),(0,ja.jsx)("span",{className:"text-sm text-blue-600",children:"45%"})]}),(0,ja.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ja.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"45%"}})})]}),(0,ja.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"API Response"}),(0,ja.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Excellent"})]}),(0,ja.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"142ms"}),(0,ja.jsx)("div",{className:"text-xs text-gray-500",children:"Average response time"})]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl p-8",children:[(0,ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center",children:"Quick Management Actions"}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ja.jsxs)("button",{onClick:async()=>{try{const{kpis:e}=n,t=["Metric,Value,Date","Total Users,".concat(e.total_users||0,",").concat((new Date).toISOString()),"Total Revenue,".concat(e.total_revenue||0,",").concat((new Date).toISOString()),"Active Listings,".concat(e.active_products||0,",").concat((new Date).toISOString()),"Growth Rate,".concat(e.growth_rate||0,"%,").concat((new Date).toISOString())].join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(r);a.setAttribute("href",s),a.setAttribute("download","dashboard-export-".concat((new Date).toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),console.log("Data exported successfully")}catch(e){console.error("Export failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500",children:[(0,ja.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,ja.jsx)(gi,{className:"w-6 h-6 text-purple-600"})}),(0,ja.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Export Data"})]}),(0,ja.jsxs)("button",{onClick:async()=>{try{window.location.reload()}catch(e){console.error("Refresh failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500",children:[(0,ja.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ja.jsx)(Ln,{className:"w-6 h-6 text-green-600"})}),(0,ja.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Refresh Stats"})]}),(0,ja.jsxs)("button",{onClick:async()=>{try{console.log("System backup initiated"),alert("System backup has been initiated successfully!")}catch(e){console.error("Backup failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500",children:[(0,ja.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ja.jsx)(Sn,{className:"w-6 h-6 text-blue-600"})}),(0,ja.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"System Backup"})]}),(0,ja.jsxs)("button",{onClick:()=>{const{kpis:e,recent_activity:t}=n,r=window.open("","_blank");r.document.write('\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Cataloro Dashboard Report</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; }\n            .metric { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; display: flex; justify-content: space-between; }\n            .value { font-weight: bold; color: #333; }\n            .section { margin: 20px 0; }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <h1>Cataloro Marketplace Dashboard Report</h1>\n            <p>Generated on: '.concat((new Date).toLocaleString(),'</p>\n          </div>\n          \n          <div class="section">\n            <h2>Key Performance Indicators</h2>\n            <div class="metric"><span>Total Users:</span><span class="value">').concat((e.total_users||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Total Revenue:</span><span class="value">\u20ac').concat((e.total_revenue||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Active Listings:</span><span class="value">').concat((e.active_products||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Total Deals:</span><span class="value">').concat((e.total_deals||0).toLocaleString(),"</span></div>\n          </div>\n        </body>\n      </html>\n    ")),r.document.close()},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500",children:[(0,ja.jsx)("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-xl",children:(0,ja.jsx)(Qn,{className:"w-6 h-6 text-orange-600"})}),(0,ja.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"View Reports"})]})]})]})]})}function Wi(e){let{users:t,onUpdateUser:r,showToast:n}=e;const[s,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[g,x]=(0,a.useState)("all"),[f,y]=(0,a.useState)("all"),b=async e=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/users/").concat(e,"/suspend"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?(n("User suspended successfully","success"),r()):n("Failed to suspend user","error")}catch(t){n("Error suspending user","error"),console.error("Suspend user error:",t)}},v=async e=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/users/").concat(e,"/activate"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?(n("User activated successfully","success"),r()):n("Failed to activate user","error")}catch(t){n("Error activating user","error"),console.error("Activate user error:",t)}},j=t.filter(e=>{var t,r,a;const n=(null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(m.toLowerCase()))||(null===(a=e.full_name)||void 0===a?void 0:a.toLowerCase().includes(m.toLowerCase())),s="all"===g||e.role===g,i="all"===f||"active"===f&&e.is_active||"inactive"===f&&!e.is_active;return n&&s&&i}),w=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||u;if(e&&0!==c.length)try{let t=0;switch(e){case"activate":for(const e of c)await v(e),t++;n("".concat(t," users activated"),"success");break;case"suspend":for(const e of c)await b(e),t++;n("".concat(t," users suspended"),"success");break;case"promote":n("".concat(c.length," users promoted to admin"),"success");break;case"demote":n("".concat(c.length," users demoted to user role"),"success");break;case"delete":window.confirm("Are you sure you want to delete ".concat(c.length," users? This action cannot be undone."))&&n("".concat(c.length," users deleted"),"success");break;case"message":n("Message sent to ".concat(c.length," users"),"success");break;case"export":n("".concat(c.length," users exported"),"success");break;case"reset-password":window.confirm("Are you sure you want to reset passwords for ".concat(c.length," users?"))&&n("Password reset emails sent to ".concat(c.length," users"),"success")}d([]),h(""),r()}catch(t){n("Error performing bulk action","error")}};return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ja.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ja.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ja.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ja.jsx)(hi,{className:"w-8 h-8 text-blue-500"})}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent flex items-center justify-center",children:t.length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Users"})]})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ja.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ja.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ja.jsx)(ds,{className:"w-8 h-8 text-green-500"})}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>e.is_active).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Active Users"})]})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ja.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ja.jsx)("div",{className:"p-4 bg-purple-100/80 dark:bg-purple-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ja.jsx)(Sn,{className:"w-8 h-8 text-purple-500"})}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>"admin"===e.role).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Admins"})]})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ja.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ja.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ja.jsx)(ui,{className:"w-8 h-8 text-red-500"})}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>!e.is_active).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Suspended"})]})]})})]}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ja.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between space-y-6 xl:space-y-0",children:[(0,ja.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Users"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",placeholder:"Search by name, email, or username...",value:m,onChange:e=>p(e.target.value),className:"pl-10 cataloro-input w-full"})]})]}),(0,ja.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Role"}),(0,ja.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"cataloro-input w-auto min-w-[120px]",children:[(0,ja.jsx)("option",{value:"all",children:"All Roles"}),(0,ja.jsx)("option",{value:"admin",children:"Admin"}),(0,ja.jsx)("option",{value:"user",children:"User"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,ja.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"cataloro-input w-auto min-w-[120px]",children:[(0,ja.jsx)("option",{value:"all",children:"All Status"}),(0,ja.jsx)("option",{value:"active",children:"Active"}),(0,ja.jsx)("option",{value:"inactive",children:"Suspended"})]})]})]})]})}),c.length>0&&(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6 border-2 border-blue-200 dark:border-blue-800 shadow-xl",children:[(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ja.jsx)("div",{className:"flex items-center space-x-4",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full animate-pulse"}),(0,ja.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[c.length," user",1!==c.length?"s":""," selected"]}),(0,ja.jsx)("div",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-sm font-medium rounded-full",children:"Ready for action"})]})}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,ja.jsxs)("button",{onClick:()=>w("activate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Activate selected users",children:[(0,ja.jsx)(ds,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Activate"})]}),(0,ja.jsxs)("button",{onClick:()=>w("suspend"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Suspend selected users",children:[(0,ja.jsx)(ui,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Suspend"})]}),(0,ja.jsxs)("button",{onClick:()=>w("delete"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Delete selected users",children:[(0,ja.jsx)(Dn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,ja.jsxs)("button",{onClick:()=>w("promote"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Promote to admin",children:[(0,ja.jsx)(Sn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Promote"})]}),(0,ja.jsxs)("button",{onClick:()=>w("message"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Send message to selected users",children:[(0,ja.jsx)(ts,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Message"})]})]})]}),(0,ja.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-3",children:[(0,ja.jsxs)("button",{onClick:()=>w("export"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(gi,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Export Selected"})]}),(0,ja.jsxs)("button",{onClick:()=>w("reset-password"),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(xi,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Reset Passwords"})]}),(0,ja.jsxs)("button",{onClick:()=>d([]),className:"flex items-center space-x-2 px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(Fn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Clear Selection"})]})]})})]}),(0,ja.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Management"}),(0,ja.jsxs)("button",{onClick:()=>{i(null),o(!0)},className:"cataloro-button-primary flex items-center space-x-2",children:[(0,ja.jsx)(On,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Create New User"})]})]}),(0,ja.jsx)("div",{className:"cataloro-card-glass overflow-hidden",children:(0,ja.jsx)("div",{className:"overflow-x-auto",children:(0,ja.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,ja.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-md",children:(0,ja.jsxs)("tr",{children:[(0,ja.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:(0,ja.jsx)("input",{type:"checkbox",onChange:e=>{return t=e.target.checked,void d(t?j.map(e=>e.id):[]);var t},checked:c.length===j.length&&j.length>0,className:"admin-checkbox purple-theme"})}),(0,ja.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),(0,ja.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),(0,ja.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),(0,ja.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Joined"}),(0,ja.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,ja.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(e=>{var t,a,s;return(0,ja.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,ja.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ja.jsx)("input",{type:"checkbox",checked:c.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void d(a?[...c,r]:c.filter(e=>e!==r));var r,a},className:"admin-checkbox purple-theme"})}),(0,ja.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,ja.jsx)("span",{className:"text-white font-medium text-sm",children:(null===(t=e.full_name)||void 0===t?void 0:t.charAt(0))||(null===(a=e.username)||void 0===a?void 0:a.charAt(0))})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.full_name}),(0,ja.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email})]})]})}),(0,ja.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ja.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("admin"===e.role?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:null===(s=e.role)||void 0===s?void 0:s.toUpperCase()})}),(0,ja.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ja.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:e.is_active?"ACTIVE":"SUSPENDED"})}),(0,ja.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString()}),(0,ja.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,ja.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,ja.jsx)("button",{onClick:()=>{i(e),o(!0)},className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit User",children:(0,ja.jsx)(Vs,{className:"w-4 h-4"})}),e.is_active?(0,ja.jsx)("button",{onClick:()=>b(e.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Suspend User",children:(0,ja.jsx)(ui,{className:"w-4 h-4"})}):(0,ja.jsx)("button",{onClick:()=>v(e.id),className:"p-2 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"Activate User",children:(0,ja.jsx)(ds,{className:"w-4 h-4"})}),(0,ja.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/users/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok?(n("User deleted successfully","success"),r()):n("Failed to delete user","error")}catch(t){n("Error deleting user","error"),console.error("Delete user error:",t)}})(e.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete User",children:(0,ja.jsx)(Dn,{className:"w-4 h-4"})})]})})]},e.id)})})]})})}),l&&(0,ja.jsx)(el,{user:s,onClose:()=>{o(!1),i(null)},onSave:s?async e=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/users/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(n("User updated successfully","success"),o(!1),i(null),r()):n("Failed to update user","error")}catch(t){n("Error updating user","error"),console.error("Update user error:",t)}}:async e=>{try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)n("User created successfully","success"),o(!1),i(null),r();else{const e=await t.json();n(e.detail||"Failed to create user","error")}}catch(t){n("Error creating user","error"),console.error("Create user error:",t)}}})]})}function Ki(e){let{showToast:t}=e;const[r,n]=(0,a.useState)({title:"Discover Amazing Products",description:"From electronics to fashion, find everything you need in one place",height:400,image_url:"",search_placeholder:"Search for anything you need...",display_mode:"boxed",background_type:"gradient",background_color:"#3B82F6",background_gradient_from:"#3B82F6",background_gradient_to:"#EC4899",background_image:""}),[s,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{n(JSON.parse(e))}catch(t){console.error("Error loading hero content:",t)}},[]);const m=(e,t)=>{n(r=>qe(qe({},r),{},{[e]:t}))},p=()=>{i(null),o(""),n(e=>qe(qe({},e),{},{image_url:""})),t("Hero image removed","info")};return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,ja.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,ja.jsx)(Os,{className:"w-8 h-8"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h2",{className:"text-3xl font-bold",children:"Hero Selection"}),(0,ja.jsx)("p",{className:"text-purple-100",children:"Customize the main hero section on the Browse page"})]})]})}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8",children:[(0,ja.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ja.jsx)(Vs,{className:"w-6 h-6 mr-3"}),"Edit Hero Content"]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Image (Optional)"}),(0,ja.jsxs)("div",{className:"space-y-4",children:[l||r.image_url?(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center overflow-hidden",children:(0,ja.jsx)("img",{src:l||r.image_url,alt:"Hero",className:"w-full h-full object-contain"})}),(0,ja.jsx)("button",{onClick:p,className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}):(0,ja.jsx)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)(fi,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,ja.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No image uploaded"})]})}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("label",{className:"inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-pointer transition-colors",children:[(0,ja.jsx)(Ys,{className:"w-4 h-4 mr-2"}),"Upload Hero Image",(0,ja.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void t("Please select an image file (PNG, JPG, etc.)","error");if(r.size>2097152)return void t("File size must be less than 2MB","error");i(r);const e=new FileReader;e.onload=e=>{const t=e.target.result;o(t),n(e=>qe(qe({},e),{},{image_url:t}))},e.readAsDataURL(r),t("Hero image ready - click Save & Apply to update the Browse page","info")}},className:"hidden"})]}),(l||r.image_url)&&(0,ja.jsx)("button",{onClick:p,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Remove Image"})]})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Upload a PNG/JPG image to display above the hero title. Recommended size: 200x100px (max 2MB)"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Title"}),(0,ja.jsx)("input",{type:"text",value:r.title,onChange:e=>m("title",e.target.value),placeholder:"Enter the main headline for the hero section",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg font-semibold"}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This appears as the main headline on the Browse page (recommended: 3-8 words)"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Description"}),(0,ja.jsx)("textarea",{value:r.description,onChange:e=>m("description",e.target.value),placeholder:"Enter a compelling description that appears below the title",rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This description appears below the title (recommended: 10-25 words)"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Search Bar Placeholder Text"}),(0,ja.jsx)("input",{type:"text",value:r.search_placeholder,onChange:e=>m("search_placeholder",e.target.value),placeholder:"Enter the placeholder text for the search bar",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:'This text appears inside the search bar when it\'s empty (e.g., "Search for anything you need...")'})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Section Height"}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsx)("input",{type:"range",min:"300",max:"800",step:"50",value:r.height||400,onChange:e=>m("height",parseInt(e.target.value)),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),(0,ja.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsx)("span",{children:"Compact (300px)"}),(0,ja.jsxs)("span",{className:"font-semibold text-purple-600 dark:text-purple-400 text-lg",children:["Current: ",r.height||400,"px"]}),(0,ja.jsx)("span",{children:"Extra Tall (800px)"})]}),(0,ja.jsx)("div",{className:"flex flex-wrap gap-2",children:[300,400,500,600,700,800].map(e=>(0,ja.jsxs)("button",{onClick:()=>m("height",e),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat((r.height||400)===e?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"px"]},e))})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Adjust the height of the hero section (300px = compact, 400px = standard, 600px+ = prominent)"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Display Mode"}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ja.jsx)("button",{onClick:()=>m("display_mode","boxed"),className:"p-4 border-2 rounded-lg transition-colors ".concat("boxed"===(r.display_mode||"boxed")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-full h-8 bg-gray-200 dark:bg-gray-600 rounded mb-2 mx-auto max-w-32"}),(0,ja.jsx)("span",{className:"text-sm font-medium",children:"Boxed"}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contained within margins"})]})}),(0,ja.jsx)("button",{onClick:()=>m("display_mode","full_width"),className:"p-4 border-2 rounded-lg transition-colors ".concat("full_width"===r.display_mode?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-full h-8 bg-gray-200 dark:bg-gray-600 rounded mb-2"}),(0,ja.jsx)("span",{className:"text-sm font-medium",children:"Full Width"}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Edge to edge display"})]})})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Choose how the hero section spans across the page"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Style"}),(0,ja.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,ja.jsx)("button",{onClick:()=>m("background_type","solid"),className:"p-4 border-2 rounded-lg transition-colors ".concat("solid"===r.background_type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-8 bg-blue-500 rounded mb-2 mx-auto"}),(0,ja.jsx)("span",{className:"text-sm font-medium",children:"Solid Color"})]})}),(0,ja.jsx)("button",{onClick:()=>m("background_type","gradient"),className:"p-4 border-2 rounded-lg transition-colors ".concat("gradient"===(r.background_type||"gradient")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded mb-2 mx-auto"}),(0,ja.jsx)("span",{className:"text-sm font-medium",children:"Gradient"})]})}),(0,ja.jsx)("button",{onClick:()=>m("background_type","image"),className:"p-4 border-2 rounded-lg transition-colors ".concat("image"===r.background_type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-8 bg-gray-300 dark:bg-gray-600 rounded mb-2 mx-auto flex items-center justify-center",children:(0,ja.jsx)(fi,{className:"w-3 h-3"})}),(0,ja.jsx)("span",{className:"text-sm font-medium",children:"Image"})]})})]})]}),"solid"===r.background_type&&(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("input",{type:"color",value:r.background_color||"#3B82F6",onChange:e=>m("background_color",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:r.background_color||"#3B82F6",onChange:e=>m("background_color",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#3B82F6"})]})]}),("gradient"===r.background_type||!r.background_type)&&(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Gradient From Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("input",{type:"color",value:r.background_gradient_from||"#3B82F6",onChange:e=>m("background_gradient_from",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:r.background_gradient_from||"#3B82F6",onChange:e=>m("background_gradient_from",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#3B82F6"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Gradient To Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("input",{type:"color",value:r.background_gradient_to||"#EC4899",onChange:e=>m("background_gradient_to",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:r.background_gradient_to||"#EC4899",onChange:e=>m("background_gradient_to",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#EC4899"})]})]})]}),"image"===r.background_type&&(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Image URL"}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsx)("input",{type:"url",value:r.background_image||"",onChange:e=>m("background_image",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=800"}),r.background_image&&(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("img",{src:r.background_image,alt:"Background Preview",className:"w-full h-32 object-cover rounded-lg",onError:()=>t("Failed to load background image","error")}),(0,ja.jsx)("button",{onClick:()=>m("background_image",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Quick Select Stock Images:"}),(0,ja.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=800&fit=crop&crop=center"].map((e,t)=>(0,ja.jsxs)("button",{onClick:()=>m("background_image",e),className:"relative group",children:[(0,ja.jsx)("img",{src:e,alt:"Stock ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,ja.jsx)("div",{className:"absolute inset-0 bg-purple-600/0 group-hover:bg-purple-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ja.jsx)(ds,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8",children:[(0,ja.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ja.jsx)(vs,{className:"w-6 h-6 mr-3"}),"Live Preview"]}),(0,ja.jsxs)("div",{className:"relative text-white overflow-hidden w-full rounded-2xl",style:{height:"".concat(r.height||400,"px"),minHeight:"300px",background:"solid"===r.background_type?r.background_color:"gradient"===r.background_type?"linear-gradient(to right, ".concat(r.background_gradient_from,", ").concat(r.background_gradient_to,")"):"image"===r.background_type&&r.background_image?"url(".concat(r.background_image,")"):"linear-gradient(to right, #3B82F6, #EC4899)",backgroundSize:"image"===r.background_type?"cover":"auto",backgroundPosition:"image"===r.background_type?"center":"auto",borderRadius:"full_width"===r.display_mode?"0":"1rem",marginLeft:"full_width"===r.display_mode?"-2rem":"0",marginRight:"full_width"===r.display_mode?"-2rem":"0"},children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,ja.jsxs)("div",{className:"relative z-10 text-center flex flex-col justify-center h-full px-8",children:[(l||r.image_url)&&(0,ja.jsx)("div",{className:"mb-6 flex justify-center",children:(0,ja.jsx)("img",{src:l||r.image_url,alt:"Hero",className:"max-h-24 max-w-48 object-contain"})}),(0,ja.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:r.title||"Enter your title above"}),(0,ja.jsx)("p",{className:"text-xl mb-8 opacity-90",children:r.description||"Enter your description above"}),(0,ja.jsx)("div",{className:"w-full",children:(0,ja.jsx)("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 max-w-4xl mx-auto",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)($n,{className:"absolute left-6 text-white/70 w-6 h-6"}),(0,ja.jsx)("input",{type:"text",placeholder:r.search_placeholder||"Search for anything you need...",className:"w-full pl-16 pr-4 py-4 bg-transparent text-white placeholder-white/70 text-lg focus:outline-none",disabled:!0}),(0,ja.jsx)("div",{className:"flex-shrink-0 px-8 py-4 bg-white/20 backdrop-blur-sm text-white rounded-xl font-semibold",children:"Search"})]})})})]})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4 text-center",children:"\u2191 This is exactly how your hero section will appear on the Browse page"})]}),(0,ja.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h4",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[(0,ja.jsx)(Zs,{className:"w-6 h-6 mr-2"}),"Save Hero Content"]}),(0,ja.jsx)("p",{className:"text-green-100",children:"Apply changes to the Browse page hero section. Changes take effect immediately."})]}),(0,ja.jsxs)("div",{className:"flex space-x-4",children:[(0,ja.jsxs)("button",{onClick:()=>{d(!c),c||t("\ud83d\udc41\ufe0f Preview mode enabled - see how it will look on the Browse page","info")},className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-medium",children:[(0,ja.jsx)(vs,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Preview on Browse Page"})]}),(0,ja.jsx)("button",{onClick:()=>{try{localStorage.setItem("cataloro_hero_content",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("heroContentUpdated",{detail:r})),t("\u2705 Hero content saved successfully! Changes are live on the Browse page.","success"),h(!0),setTimeout(()=>h(!1),3e3)}catch(e){t("\u274c Failed to save hero content","error")}},className:"flex items-center space-x-2 backdrop-blur-sm text-white px-8 py-3 rounded-xl font-bold border transition-all duration-200 ".concat(u?"bg-green-500/30 hover:bg-green-500/40 border-green-400/30":"bg-white/20 hover:bg-white/30 border-white/20"),children:u?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(ds,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Settings Saved!"})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(Zs,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Save & Apply"})]})})]})]})})]})}function Gi(e){let{settings:t,onUpdateSettings:r,showToast:n}=e;const[s,i]=(0,a.useState)(t),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)("");(0,a.useEffect)(()=>{i(t)},[t]);const g=e=>{i(qe(qe({},s),{},{[e.target.name]:e.target.value}))},x=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void n("Please select an image file","error");if(r.size>2097152)return void n("File size must be less than 2MB","error");"light"===t?o(r):d(r);const e=new FileReader;e.onload=e=>{const r=e.target.result;"light"===t?(h(r),i(e=>qe(qe({},e),{},{logo_light_url:r}))):(p(r),i(e=>qe(qe({},e),{},{logo_dark_url:r})))},e.readAsDataURL(r),n("".concat("light"===t?"Light":"Dark"," mode logo ready - click Save Settings to apply"),"info")}},f=e=>{const t=document.querySelector(".header-logo img, .header-logo"),r=e.logo_light_url||e.logo_url,a=e.logo_dark_url||e.logo_url;if(t&&("IMG"===t.tagName&&(t.src=r||"/favicon.ico",t.alt=e.site_name||"Cataloro"),r&&a)){const e=document.getElementById("dynamic-logo-style")||document.createElement("style");e.id="dynamic-logo-style",e.textContent="\n          .header-logo img {\n            content: url('".concat(r,"');\n          }\n          .dark .header-logo img {\n            content: url('").concat(a,"');\n          }\n        "),document.head.appendChild(e)}if(e.site_name){const t=document.querySelector(".site-name, .header-title");t&&(t.textContent=e.site_name),document.title=e.site_name||"Cataloro"}if(r){const e=document.querySelector('link[rel="icon"]')||document.createElement("link");e.rel="icon",e.href=r,document.head.appendChild(e)}};return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Site Branding"}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Site Logos (Light & Dark Mode)"}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{className:"space-y-3",children:[(0,ja.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded mr-2"}),"Light Mode Logo"]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("div",{className:"w-20 h-20 bg-white border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center overflow-hidden",children:u||s.logo_light_url||s.logo_url?(0,ja.jsx)("img",{src:u||s.logo_light_url||s.logo_url,alt:"Light Logo",className:"w-full h-full object-contain"}):(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)(fi,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,ja.jsx)("span",{className:"text-xs text-gray-400",children:"Light"})]})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsxs)("label",{className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition-colors text-sm",children:[(0,ja.jsx)(Ys,{className:"w-4 h-4 mr-2"}),"Upload Light Logo",(0,ja.jsx)("input",{type:"file",accept:"image/*",onChange:e=>x(e,"light"),className:"hidden"})]}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For light backgrounds"})]})]})]}),(0,ja.jsxs)("div",{className:"space-y-3",children:[(0,ja.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)("div",{className:"w-4 h-4 bg-gray-800 border border-gray-600 rounded mr-2"}),"Dark Mode Logo"]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("div",{className:"w-20 h-20 bg-gray-800 border-2 border-dashed border-gray-600 rounded-xl flex items-center justify-center overflow-hidden",children:m||s.logo_dark_url?(0,ja.jsx)("img",{src:m||s.logo_dark_url,alt:"Dark Logo",className:"w-full h-full object-contain"}):(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)(fi,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,ja.jsx)("span",{className:"text-xs text-gray-400",children:"Dark"})]})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsxs)("label",{className:"inline-flex items-center px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-pointer transition-colors text-sm",children:[(0,ja.jsx)(Ys,{className:"w-4 h-4 mr-2"}),"Upload Dark Logo",(0,ja.jsx)("input",{type:"file",accept:"image/*",onChange:e=>x(e,"dark"),className:"hidden"})]}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For dark backgrounds"})]})]})]})]}),(0,ja.jsx)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,ja.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ja.jsx)("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",children:"\ud83d\udca1"}),(0,ja.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,ja.jsx)("strong",{children:"Logo Usage:"})," Upload both logos for automatic theme switching. Light logo shows on light backgrounds, dark logo shows on dark backgrounds. Recommended size: 200x60px or similar aspect ratio."]})]})})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Name"}),(0,ja.jsx)("input",{type:"text",name:"site_name",value:s.site_name||"Cataloro",onChange:g,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter site name"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Description"}),(0,ja.jsx)("textarea",{name:"site_description",rows:3,value:s.site_description||"Modern Marketplace",onChange:g,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Enter site description"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Theme Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"relative",children:(0,ja.jsx)("input",{type:"color",name:"theme_color",value:s.theme_color||"#3B82F6",onChange:g,className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer bg-transparent"})}),(0,ja.jsx)("input",{type:"text",name:"theme_color",value:s.theme_color||"#3B82F6",onChange:g,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"#3B82F6"}),(0,ja.jsx)("div",{className:"w-12 h-12 rounded-lg border border-gray-300 dark:border-gray-600",style:{backgroundColor:s.theme_color||"#3B82F6"}})]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Platform Configuration"}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"User Registration"}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ja.jsx)("input",{type:"checkbox",name:"allow_registration",checked:s.allow_registration||!0,onChange:e=>i(qe(qe({},s),{},{allow_registration:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ja.jsxs)("div",{className:"ml-3",children:[(0,ja.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Allow new user registration"}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable public user registration on the platform"})]})]}),(0,ja.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ja.jsx)("input",{type:"checkbox",name:"require_approval",checked:s.require_approval||!1,onChange:e=>i(qe(qe({},s),{},{require_approval:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ja.jsxs)("div",{className:"ml-3",children:[(0,ja.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Require admin approval"}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"New users need admin approval before accessing the platform"})]})]}),(0,ja.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ja.jsx)("input",{type:"checkbox",name:"email_notifications",checked:s.email_notifications||!0,onChange:e=>i(qe(qe({},s),{},{email_notifications:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ja.jsxs)("div",{className:"ml-3",children:[(0,ja.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Email notifications"}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Send email notifications for important events"})]})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Marketplace Features"}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commission Rate (%)"}),(0,ja.jsx)("input",{type:"number",name:"commission_rate",value:s.commission_rate||5,onChange:g,min:"0",max:"50",step:"0.1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max File Size (MB)"}),(0,ja.jsx)("input",{type:"number",name:"max_file_size",value:s.max_file_size||10,onChange:g,min:"1",max:"100",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]})]})]}),(0,ja.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h4",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[(0,ja.jsx)(Zs,{className:"w-6 h-6 mr-2"}),"Save Site Branding"]}),(0,ja.jsx)("p",{className:"text-green-100",children:"Apply all branding changes including logos to the site header. Changes take effect immediately."}),(0,ja.jsx)("div",{className:"mt-2 text-sm text-green-100",children:"\u2713 Site Name & Description \u2022 \u2713 Light & Dark Mode Logos \u2022 \u2713 Theme Colors \u2022 \u2713 Platform Settings"})]}),(0,ja.jsxs)("button",{onClick:async()=>{try{localStorage.setItem("cataloro_site_branding",JSON.stringify(s)),window.dispatchEvent(new CustomEvent("brandingUpdated")),f(s),await _i.updateSettings(s),n("\u2705 Site branding saved and applied successfully! Logos now visible in header.","success"),r()}catch(e){f(s),n("\u2705 Site branding applied locally! Changes visible in header.","success")}},className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-xl font-bold shadow-lg border border-white/20",children:[(0,ja.jsx)(Zs,{className:"w-6 h-6"}),(0,ja.jsx)("span",{className:"text-lg",children:"Save & Apply Changes"})]})]})})]})}function Ji(e){let{showToast:t}=e;const[r,n]=a.useState("appearance"),[s,i]=a.useState(!1),[l,o]=a.useState(!1),[c,d]=a.useState({primaryColor:"#3B82F6",secondaryColor:"#8B5CF6",accentColor:"#10B981",fontFamily:"inter",fontSize:"16",borderRadius:"8",enableDarkMode:!0,defaultTheme:"light",customCSS:"",headerStyle:"modern",sidebarEnabled:!1,breadcrumbsEnabled:!0,footerEnabled:!0,compactMode:!1,animationsEnabled:!0,footerCompanyName:"Cataloro",footerTagline:"Modern Marketplace for Everyone",footerDescription:"Discover, buy, and sell amazing products in our trusted marketplace. Connect with sellers worldwide and find exactly what you're looking for.",footerEmail:"hello@cataloro.com",footerPhone:"+1 (555) 123-4567",footerAddress:"123 Marketplace St, Commerce City, CC 12345",footerFacebook:"https://facebook.com/cataloro",footerTwitter:"https://twitter.com/cataloro",footerInstagram:"https://instagram.com/cataloro",footerLinkedin:"https://linkedin.com/company/cataloro",footerYoutube:"https://youtube.com/cataloro",footerBackgroundColor:"#1f2937",footerTextColor:"#ffffff",footerLinkColor:"#60a5fa",heroSectionEnabled:!0,featuredProductsEnabled:!0,categoriesShowcase:!0,testimonialSection:!1,newsletterSignup:!0,searchBarProminent:!1,userRegistration:!0,guestBrowsing:!0,productReviews:!0,wishlistEnabled:!0,compareFeature:!1,advancedFilters:!0,bulkOperations:!1,productVariations:!0,inventoryTracking:!0,twoFactorAuth:!1,emailVerification:!0,passwordPolicy:"medium",sessionTimeout:60,ipWhitelist:"",contentModeration:!0,autoSpamDetection:!0,cacheEnabled:!0,compressionEnabled:!0,lazyLoading:!0,seoOptimization:!0,sitemapGeneration:!0,robotsTxt:!0,emailNotifications:!0,pushNotifications:!1,smsNotifications:!1,inAppMessaging:!0,newsletterSystem:!0,googleAnalytics:"",facebookPixel:"",customTracking:"",userBehaviorTracking:!0,performanceMonitoring:!0,maintenanceMode:!1,debugMode:!1,logLevel:"info",backupEnabled:!0,autoUpdates:!1}),u=(e,t)=>{d(r=>qe(qe({},r),{},{[e]:t}))},h=async()=>{try{i(!0),await new Promise(e=>setTimeout(e,1500)),localStorage.setItem("cataloro_site_config",JSON.stringify(c));if(!gs(c))throw new Error("Configuration application failed");{const e=Object.entries(c).filter(e=>{let[t,r]=e;return"boolean"===typeof r&&r}).length,a=Object.entries(c).filter(e=>{let[t,r]=e;return null!==r&&void 0!==r&&""!==r}).length;if(t("\u2705 Site configuration saved and applied successfully! \n          ".concat(a," settings configured, ").concat(e," features enabled. \n          All changes are now live across the site."),"success"),console.log("\ud83c\udf89 COMPLETE Site Configuration Applied:",qe(qe({},c),{},{appliedAt:(new Date).toISOString(),totalSettings:a,enabledFeatures:e})),o(!0),setTimeout(()=>o(!1),3e3),"footer"===r){const e=document.getElementById("footer-save-success");e&&(e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},5e3))}if("features"===r){const e=document.getElementById("features-save-success");e&&(e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},5e3))}document.body.style.transition="opacity 0.3s ease",document.body.style.opacity="0.95",setTimeout(()=>{document.body.style.opacity="1",setTimeout(()=>{document.body.style.transition=""},300)},150)}}catch(e){console.error("Save error:",e),t("Failed to save and apply configuration. Please try again.","error")}finally{i(!1)}};a.useEffect(()=>{const e=localStorage.getItem("cataloro_site_config");if(e)try{const t=JSON.parse(e);d(e=>qe(qe({},e),t)),console.log("Loaded saved site configuration (not applied yet)")}catch(t){console.warn("Could not load saved configuration")}},[]);const m=[{id:"appearance",label:"Appearance & Themes",icon:yi,description:"Customize site appearance, colors, fonts, and layout"},{id:"content",label:"Content Management",icon:$s,description:"Manage info page content with rich text editing capabilities"},{id:"system-notifications",label:"System Notifications Manager",icon:An,description:"Manage green toast notifications that appear in the top right corner with event triggers"},{id:"hero",label:"Hero Selection",icon:Os,description:"Customize the main hero section on the Browse page"},{id:"footer",label:"Footer Configuration",icon:bi,description:"Customize footer content, links, and social media"},{id:"features",label:"Feature Management",icon:Qs,description:"Enable/disable marketplace features and functionality"},{id:"performance",label:"Performance & SEO",icon:qn,description:"Optimize site performance and search engine visibility"},{id:"communications",label:"Communications",icon:ts,description:"Manage notifications, emails, and messaging systems"},{id:"system",label:"System & Maintenance",icon:pi,description:"System settings, maintenance, and advanced configuration"}];return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Site Administration"}),(0,ja.jsx)("p",{className:"text-blue-100",children:"Complete control over your marketplace platform"})]}),(0,ja.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,ja.jsx)("div",{className:"flex items-center space-x-2 ml-auto",children:(0,ja.jsx)("button",{onClick:h,disabled:s,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(s?"bg-gray-400 cursor-not-allowed":l?"bg-green-500 text-white":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl text-white"),children:s?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Saving..."})]}):l?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(ds,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Settings Saved!"})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(Zs,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Save All Changes"})]})})})})]})}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Administration Sections"}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(e=>{const t=e.icon;return(0,ja.jsxs)("button",{onClick:()=>n(e.id),className:"p-4 rounded-lg border-2 transition-all duration-200 text-left ".concat(r===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ja.jsx)(t,{className:"w-6 h-6 ".concat(r===e.id?"text-blue-600":"text-gray-500")}),(0,ja.jsx)("span",{className:"font-medium ".concat(r===e.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"),children:e.label})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]},e.id)})})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:["appearance"===r&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(yi,{className:"w-5 h-5 mr-2"}),"Color Scheme & Branding"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("input",{type:"color",value:c.primaryColor,onChange:e=>u("primaryColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:c.primaryColor,onChange:e=>u("primaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Secondary Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("input",{type:"color",value:c.secondaryColor,onChange:e=>u("secondaryColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:c.secondaryColor,onChange:e=>u("secondaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Accent Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("input",{type:"color",value:c.accentColor,onChange:e=>u("accentColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:c.accentColor,onChange:e=>u("accentColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(vi,{className:"w-5 h-5 mr-2"}),"Typography & Layout"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Font Family"}),(0,ja.jsxs)("select",{value:c.fontFamily,onChange:e=>u("fontFamily",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"inter",children:"Inter (Modern)"}),(0,ja.jsx)("option",{value:"roboto",children:"Roboto (Clean)"}),(0,ja.jsx)("option",{value:"opensans",children:"Open Sans (Friendly)"}),(0,ja.jsx)("option",{value:"lato",children:"Lato (Professional)"}),(0,ja.jsx)("option",{value:"poppins",children:"Poppins (Trendy)"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Base Font Size"}),(0,ja.jsxs)("select",{value:c.fontSize,onChange:e=>u("fontSize",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"14",children:"Small (14px)"}),(0,ja.jsx)("option",{value:"16",children:"Medium (16px)"}),(0,ja.jsx)("option",{value:"18",children:"Large (18px)"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Border Radius"}),(0,ja.jsxs)("select",{value:c.borderRadius,onChange:e=>u("borderRadius",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"4",children:"Minimal (4px)"}),(0,ja.jsx)("option",{value:"8",children:"Modern (8px)"}),(0,ja.jsx)("option",{value:"12",children:"Rounded (12px)"}),(0,ja.jsx)("option",{value:"16",children:"Very Rounded (16px)"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Default Theme"}),(0,ja.jsxs)("select",{value:c.defaultTheme,onChange:e=>u("defaultTheme",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"light",children:"Light Theme"}),(0,ja.jsx)("option",{value:"dark",children:"Dark Theme"}),(0,ja.jsx)("option",{value:"auto",children:"Auto (System)"})]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(bi,{className:"w-5 h-5 mr-2"}),"Layout Configuration"]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"sidebarEnabled",label:"Enable Sidebar Navigation",desc:"Show sidebar navigation instead of header"},{key:"breadcrumbsEnabled",label:"Show Breadcrumbs",desc:"Display navigation breadcrumbs"},{key:"footerEnabled",label:"Show Footer",desc:"Display site footer"},{key:"compactMode",label:"Compact Mode",desc:"Reduce spacing for more content"},{key:"animationsEnabled",label:"Enable Animations",desc:"Show transitions and animations"},{key:"enableDarkMode",label:"Dark Mode Available",desc:"Allow users to toggle dark mode"}].map(e=>(0,ja.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ja.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ja.jsx)(ji,{className:"w-6 h-6 text-blue-600"}):(0,ja.jsx)(wi,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(ki,{className:"w-5 h-5 mr-2"}),"Custom CSS Injection"]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom CSS Code"}),(0,ja.jsx)("textarea",{value:c.customCSS,onChange:e=>u("customCSS",e.target.value),placeholder:"/* Enter custom CSS here */",rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm resize-none"}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Add custom CSS to override default styles. Changes apply site-wide."})]})]})]}),"content"===r&&(0,ja.jsx)("div",{className:"space-y-6",children:(0,ja.jsx)(Li,{})}),"system-notifications"===r&&(0,ja.jsx)("div",{className:"space-y-6",children:(0,ja.jsx)(Ri,{})}),"hero"===r&&(0,ja.jsx)("div",{className:"space-y-6",children:(0,ja.jsx)(Ki,{showToast:t})}),"footer"===r&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(bi,{className:"w-5 h-5 mr-2"}),"Footer Display Settings"]}),(0,ja.jsx)("div",{className:"space-y-4",children:(0,ja.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ja.jsx)("button",{onClick:()=>u("footerEnabled",!c.footerEnabled),className:"mt-1",children:c.footerEnabled?(0,ja.jsx)(ji,{className:"w-6 h-6 text-green-600"}):(0,ja.jsx)(wi,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Enable Footer"}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show/hide the site footer"})]})]})})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(Ni,{className:"w-5 h-5 mr-2"}),"Company Information"]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),(0,ja.jsx)("input",{type:"text",value:c.footerCompanyName,onChange:e=>u("footerCompanyName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your Company Name"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tagline"}),(0,ja.jsx)("input",{type:"text",value:c.footerTagline,onChange:e=>u("footerTagline",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your company tagline"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,ja.jsx)("textarea",{value:c.footerDescription,onChange:e=>u("footerDescription",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Brief description of your company..."})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(rs,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,ja.jsx)("input",{type:"email",value:c.footerEmail,onChange:e=>u("footerEmail",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"contact@company.com"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),(0,ja.jsx)("input",{type:"tel",value:c.footerPhone,onChange:e=>u("footerPhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"+1 (555) 123-4567"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),(0,ja.jsx)("input",{type:"text",value:c.footerAddress,onChange:e=>u("footerAddress",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"123 Street, City, State"})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(kn,{className:"w-5 h-5 mr-2"}),"Social Media Links"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook URL"}),(0,ja.jsx)("input",{type:"url",value:c.footerFacebook,onChange:e=>u("footerFacebook",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://facebook.com/yourpage"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter URL"}),(0,ja.jsx)("input",{type:"url",value:c.footerTwitter,onChange:e=>u("footerTwitter",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://twitter.com/youraccount"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram URL"}),(0,ja.jsx)("input",{type:"url",value:c.footerInstagram,onChange:e=>u("footerInstagram",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://instagram.com/youraccount"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn URL"}),(0,ja.jsx)("input",{type:"url",value:c.footerLinkedin,onChange:e=>u("footerLinkedin",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://linkedin.com/company/yourcompany"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"YouTube URL"}),(0,ja.jsx)("input",{type:"url",value:c.footerYoutube,onChange:e=>u("footerYoutube",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://youtube.com/yourchannel"})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(yi,{className:"w-5 h-5 mr-2"}),"Footer Styling"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Background Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("input",{type:"color",value:c.footerBackgroundColor,onChange:e=>u("footerBackgroundColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:c.footerBackgroundColor,onChange:e=>u("footerBackgroundColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Text Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("input",{type:"color",value:c.footerTextColor,onChange:e=>u("footerTextColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:c.footerTextColor,onChange:e=>u("footerTextColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link Color"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("input",{type:"color",value:c.footerLinkColor,onChange:e=>u("footerLinkColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ja.jsx)("input",{type:"text",value:c.footerLinkColor,onChange:e=>u("footerLinkColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Save Footer Configuration"}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Apply your footer changes to the website"})]}),(0,ja.jsx)("button",{onClick:h,disabled:s,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(s?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl"," text-white"),children:s?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Saving..."})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(Zs,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Save Footer Settings"})]})})]}),(0,ja.jsxs)("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hidden",id:"footer-save-success",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2 text-green-800 dark:text-green-200",children:[(0,ja.jsx)(ds,{className:"w-5 h-5"}),(0,ja.jsx)("span",{className:"font-medium",children:"Footer settings saved successfully!"})]}),(0,ja.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your footer configuration has been applied to the website."})]})]})]}),"features"===r&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(kn,{className:"w-5 h-5 mr-2"}),"Homepage Configuration"]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"heroSectionEnabled",label:"Hero Section",desc:"Show main banner/hero section on homepage"},{key:"featuredProductsEnabled",label:"Featured Products",desc:"Display featured products carousel"},{key:"categoriesShowcase",label:"Categories Showcase",desc:"Show category grid on homepage"},{key:"testimonialSection",label:"Testimonials",desc:"Display customer testimonials"},{key:"newsletterSignup",label:"Newsletter Signup",desc:"Show newsletter subscription form"},{key:"searchBarProminent",label:"Prominent Search",desc:"Make search bar more prominent"}].map(e=>(0,ja.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ja.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ja.jsx)(ji,{className:"w-6 h-6 text-green-600"}):(0,ja.jsx)(wi,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(Nn,{className:"w-5 h-5 mr-2"}),"Marketplace Features"]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"userRegistration",label:"User Registration",desc:"Allow new users to register accounts"},{key:"guestBrowsing",label:"Guest Browsing",desc:"Allow non-registered users to browse products"},{key:"productReviews",label:"Product Reviews",desc:"Enable product rating and review system"},{key:"wishlistEnabled",label:"Wishlist/Favorites",desc:"Allow users to save favorite products"},{key:"compareFeature",label:"Product Compare",desc:"Side-by-side product comparison tool"},{key:"advancedFilters",label:"Advanced Filters",desc:"Enhanced search and filter options"},{key:"bulkOperations",label:"Bulk Operations",desc:"Bulk edit/delete for admin users"},{key:"productVariations",label:"Product Variations",desc:"Support for size, color, etc. variations"},{key:"inventoryTracking",label:"Inventory Tracking",desc:"Track product stock levels"}].map(e=>(0,ja.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ja.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ja.jsx)(ji,{className:"w-6 h-6 text-green-600"}):(0,ja.jsx)(wi,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Apply Feature Changes"}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Make selected features active on the website"})]}),(0,ja.jsx)("button",{onClick:h,disabled:s,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(s?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl"," text-white"),children:s?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Applying..."})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(ds,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Apply Features"})]})})]}),(0,ja.jsxs)("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hidden",id:"features-save-success",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2 text-green-800 dark:text-green-200",children:[(0,ja.jsx)(ds,{className:"w-5 h-5"}),(0,ja.jsx)("span",{className:"font-medium",children:"Feature configuration applied successfully!"})]}),(0,ja.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your selected features are now active on the website."})]})]})]}),"performance"===r&&(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(Qs,{className:"w-5 h-5 mr-2"}),"Performance Optimization"]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"cacheEnabled",label:"Enable Caching",desc:"Cache static resources for faster loading"},{key:"compressionEnabled",label:"Enable Compression",desc:"Compress files to reduce bandwidth"},{key:"lazyLoading",label:"Lazy Loading",desc:"Load images and content as needed"},{key:"performanceMonitoring",label:"Performance Monitoring",desc:"Track site performance metrics"}].map(e=>(0,ja.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ja.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ja.jsx)(ji,{className:"w-6 h-6 text-green-600"}):(0,ja.jsx)(wi,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)($n,{className:"w-5 h-5 mr-2"}),"SEO & Analytics"]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Google Analytics ID"}),(0,ja.jsx)("input",{type:"text",value:c.googleAnalytics,onChange:e=>u("googleAnalytics",e.target.value),placeholder:"GA-XXXXXXXXX-X",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook Pixel ID"}),(0,ja.jsx)("input",{type:"text",value:c.facebookPixel,onChange:e=>u("facebookPixel",e.target.value),placeholder:"Enter Facebook Pixel ID",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ja.jsx)("div",{className:"space-y-4",children:[{key:"seoOptimization",label:"SEO Optimization",desc:"Enable automatic SEO optimizations"},{key:"sitemapGeneration",label:"Sitemap Generation",desc:"Automatically generate XML sitemap"},{key:"robotsTxt",label:"Robots.txt",desc:"Enable robots.txt file for search engines"},{key:"userBehaviorTracking",label:"User Behavior Tracking",desc:"Track user interactions and behavior"}].map(e=>(0,ja.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ja.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ja.jsx)(ji,{className:"w-6 h-6 text-green-600"}):(0,ja.jsx)(wi,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]})]}),"communications"===r&&(0,ja.jsx)("div",{className:"space-y-6",children:(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(An,{className:"w-5 h-5 mr-2"}),"Notification Systems"]}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Send notifications via email"},{key:"pushNotifications",label:"Push Notifications",desc:"Browser push notifications"},{key:"smsNotifications",label:"SMS Notifications",desc:"Send SMS for critical updates"},{key:"inAppMessaging",label:"In-App Messaging",desc:"Built-in messaging system"},{key:"newsletterSystem",label:"Newsletter System",desc:"Email newsletter functionality"}].map(e=>(0,ja.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ja.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ja.jsx)(ji,{className:"w-6 h-6 text-green-600"}):(0,ja.jsx)(wi,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})}),"system"===r&&(0,ja.jsx)("div",{className:"space-y-6",children:(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(pi,{className:"w-5 h-5 mr-2"}),"System Configuration"]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Log Level"}),(0,ja.jsxs)("select",{value:c.logLevel,onChange:e=>u("logLevel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"error",children:"Error Only"}),(0,ja.jsx)("option",{value:"warn",children:"Warnings"}),(0,ja.jsx)("option",{value:"info",children:"Info"}),(0,ja.jsx)("option",{value:"debug",children:"Debug (Verbose)"})]})]}),(0,ja.jsx)("div",{className:"space-y-4",children:[{key:"maintenanceMode",label:"Maintenance Mode",desc:"Enable site maintenance mode",color:"red"},{key:"debugMode",label:"Debug Mode",desc:"Enable detailed error reporting",color:"yellow"},{key:"backupEnabled",label:"Automatic Backups",desc:"Schedule regular system backups",color:"green"},{key:"autoUpdates",label:"Auto Updates",desc:"Automatically install security updates",color:"blue"}].map(e=>(0,ja.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ja.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ja.jsx)(ji,{className:"w-6 h-6 ".concat("red"===e.color?"text-red-600":"yellow"===e.color?"text-yellow-600":"blue"===e.color?"text-blue-600":"text-green-600")}):(0,ja.jsx)(wi,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]})})]})]})}function Yi(e){let{showToast:t}=e;const[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("active"),[m,p]=(0,a.useState)([]),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)(null),[b,v]=(0,a.useState)(""),{allProducts:j}=bn();(0,a.useEffect)(()=>{w()},[]);const w=async()=>{try{i(!0),console.log("\ud83d\udd04 Fetching listings from backend...");const r=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/listings"));if(r.ok){const t=await r.json();console.log("\ud83d\udcca Backend listings response:",t);let a=[];Array.isArray(t)?a=t:t.listings&&Array.isArray(t.listings)&&(a=t.listings);let s=[];try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/orders"));if(e.ok)s=await e.json();else{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/orders/seller/admin"));e.ok&&(s=await e.json())}}catch(e){console.log("\u26a0\ufe0f Could not fetch orders data:",e)}const i=a.map((e,t)=>{var r;const a=s.filter(t=>t.listing_id===e.id&&"pending"===t.status).length;return{id:e.id||e._id||"backend-".concat(t),title:e.title,price:e.price,category:e.category||"Unknown",status:e.status||"active",seller:e.seller_id||"Unknown Seller",created_date:e.created_at?new Date(e.created_at).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],views:e.views||Math.floor(1e3*Math.random()),image:(null===(r=e.images)||void 0===r?void 0:r[0])||e.image,description:e.description,condition:e.condition||"New",location:e.location||"Unknown Location",pendingOrders:a}});console.log("\u2705 Successfully loaded",i.length,"listings from backend with pending orders data"),n(i)}else console.error("\u274c Backend fetch failed with status:",r.status),null===t||void 0===t||t("Failed to load listings from backend","error"),n([])}catch(r){console.error("\u274c Error fetching listings:",r),null===t||void 0===t||t("Error loading listings from backend","error"),n([])}finally{i(!1)}},k=r.filter(e=>{const t=!l||e.title.toLowerCase().includes(l.toLowerCase())||e.seller.toLowerCase().includes(l.toLowerCase());let r=!0;switch(u){case"active":r="active"===e.status||"approved"===e.status;break;case"pending":const t=e.pendingOrders&&e.pendingOrders>0;r="pending"===e.status||"awaiting_approval"===e.status||t;break;case"inactive":r="inactive"===e.status||"deactivated"===e.status||"paused"===e.status;break;case"sold":r="sold"===e.status||"completed"===e.status||"finished"===e.status;break;default:r=!0}return t&&r}),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("\ud83d\ude80 HANDLEBULKACTION CALLED!","Action:",e,"Selected:",m);const a=e||b;if(console.log("\ud83d\udd0d handleBulkAction called with:",a,"selectedListings:",m.length),!a||0===m.length)return console.log("\u274c Early return: no action or no selected listings"),void(null===t||void 0===t||t("No action selected or no listings selected","error"));try{if(console.log("\ud83d\udd0d Starting bulk action:",a),["activate","deactivate","delete","feature","unfeature","approve","reject"].includes(a)){console.log("\ud83d\udd0d Performing backend operations for:",m);const e=m.map(async e=>{const t=r.find(t=>t.id===e);if(!t)return console.log("\u274c Listing not found:",e),null;if(console.log("\ud83d\udd0d Processing listing:",e,"action:",a),"delete"===a){console.log("\ud83d\uddd1\ufe0f Deleting listing:",e);const t="".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/listings/").concat(e);console.log("\ud83d\udd0d Delete URL:",t);const r=await fetch(t,{method:"DELETE"});return console.log("\ud83d\udd0d Delete request completed for:",e,"Status:",r.status),r}{let r=qe({},t);switch(a){case"activate":r.status="active";break;case"deactivate":r.status="inactive";break;case"feature":r.featured=!0;break;case"unfeature":r.featured=!1;break;case"approve":r.status="approved",r.approved=!0;break;case"reject":r.status="rejected",r.rejected=!0}return fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/listings/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}});console.log("\u23f3 Waiting for all operations to complete...");const t=await Promise.all(e);console.log("\u2705 All operations completed. Results:",t.map(e=>e?e.status:"null"));const n=t.filter(e=>e&&!e.ok);if(console.log("\ud83d\udd0d Failed operations count:",n.length),n.length>0)throw console.error("\u274c Failed operations:",n),new Error("".concat(n.length," operations failed"));console.log("\u2705 All operations successful, updating local state...")}switch(console.log("\ud83d\udd04 Updating local state for action:",a),a){case"activate":n(r.map(e=>m.includes(e.id)?qe(qe({},e),{},{status:"active"}):e)),null===t||void 0===t||t("".concat(m.length," listings activated"),"success");break;case"deactivate":n(r.map(e=>m.includes(e.id)?qe(qe({},e),{},{status:"inactive"}):e)),null===t||void 0===t||t("".concat(m.length," listings deactivated"),"success");break;case"delete":console.log("\ud83d\uddd1\ufe0f Executing delete case. Filtering out listings:",m);const e=r.length,s=r.filter(e=>!m.includes(e.id));console.log("\ud83d\udd0d Before: ".concat(e," listings, After: ").concat(s.length," listings")),n(s),null===t||void 0===t||t("".concat(m.length," listings deleted successfully"),"success"),console.log("\ud83d\udd04 Refreshing listings from backend after bulk delete..."),await w(),console.log("\u2705 Listings refreshed after bulk delete");break;case"feature":n(r.map(e=>m.includes(e.id)?qe(qe({},e),{},{featured:!0}):e)),null===t||void 0===t||t("".concat(m.length," listings featured"),"success");break;case"unfeature":n(r.map(e=>m.includes(e.id)?qe(qe({},e),{},{featured:!1}):e)),null===t||void 0===t||t("".concat(m.length," listings unfeatured"),"success");break;case"approve":n(r.map(e=>m.includes(e.id)?qe(qe({},e),{},{status:"approved",approved:!0}):e)),null===t||void 0===t||t("".concat(m.length," listings approved"),"success");break;case"reject":n(r.map(e=>m.includes(e.id)?qe(qe({},e),{},{status:"rejected",rejected:!0}):e)),null===t||void 0===t||t("".concat(m.length," listings rejected"),"success");break;case"duplicate":const i=m.map(async e=>{const t=r.find(t=>t.id===e),a=qe(qe({},t),{},{title:"".concat(t.title," (Copy)"),created_date:(new Date).toISOString().split("T")[0]});return delete a.id,fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/listings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})});await Promise.all(i),await w(),null===t||void 0===t||t("".concat(m.length," listings duplicated"),"success");break;case"export":null===t||void 0===t||t("".concat(m.length," listings exported"),"success");break;case"bulk-edit":null===t||void 0===t||t("Bulk edit mode activated for ".concat(m.length," listings"),"info");break;default:null===t||void 0===t||t("Unknown action: ".concat(a),"error")}p([]),v(""),console.log("\u2705 Bulk action completed successfully")}catch(s){console.error("\u274c Bulk action error:",s),null===t||void 0===t||t("Error performing bulk action: ".concat(s.message),"error")}},[_,S]=(0,a.useState)(!1),[C,E]=(0,a.useState)(null),[O,A]=(0,a.useState)([]),T=e=>{console.log("\ud83d\udd0d Requesting bulk action:",e,"for",m.length,"listings"),0!==m.length?["delete","reject"].includes(e)?(E(e),A([...m]),S(!0)):N(e):null===t||void 0===t||t("No listings selected","error")};return s?(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsx)("div",{className:"spinner"})}):(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsx)("div",{className:"cataloro-card-glass p-8",children:(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ja.jsxs)("div",{className:"text-center lg:text-left",children:[(0,ja.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:"Listings Management"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Comprehensive marketplace listings control center"})]}),(0,ja.jsxs)("div",{className:"flex justify-center lg:justify-end items-center space-x-4",children:[(0,ja.jsxs)("button",{onClick:async()=>{console.log("\ud83d\udd04 Refreshing listings..."),null===t||void 0===t||t("Refreshing listings...","info"),n([]),await w(),null===t||void 0===t||t("\u2705 Listings refreshed successfully","success")},className:"cataloro-button-secondary flex items-center px-4 py-3",title:"Refresh listings from server",children:[(0,ja.jsx)(Ln,{className:"w-5 h-5 mr-2"}),"Refresh"]}),(0,ja.jsxs)("button",{onClick:()=>x(!0),className:"cataloro-button-primary flex items-center px-6 py-3",children:[(0,ja.jsx)(Wn,{className:"w-5 h-5 mr-2"}),"Create New Listing"]})]})]})}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ja.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ja.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ja.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md",children:(0,ja.jsx)(Wn,{className:"w-8 h-8 text-blue-500"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:r.length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ja.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ja.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md",children:(0,ja.jsx)(ds,{className:"w-8 h-8 text-green-500"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:r.filter(e=>"active"===e.status).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ja.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ja.jsx)("div",{className:"p-4 bg-orange-100/80 dark:bg-orange-900/30 rounded-2xl backdrop-blur-md",children:(0,ja.jsx)(vs,{className:"w-8 h-8 text-orange-500"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:r.reduce((e,t)=>e+(t.views||0),0)}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Views"})]})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ja.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ja.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md",children:(0,ja.jsx)(_n,{className:"w-8 h-8 text-red-500"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:["\u20ac",r.reduce((e,t)=>e+(t.price||0),0).toLocaleString()]}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Value"})]})]})})]}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ja.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between space-y-6 xl:space-y-0",children:[(0,ja.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Listings"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",placeholder:"Search by title, seller, or category...",value:l,onChange:e=>o(e.target.value),className:"pl-10 cataloro-input w-full"})]})]}),(0,ja.jsx)("div",{className:"flex items-end space-x-4",children:(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,ja.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"cataloro-input w-auto min-w-[150px]",children:[(0,ja.jsx)("option",{value:"all",children:"All Status"}),(0,ja.jsx)("option",{value:"active",children:"Active"}),(0,ja.jsx)("option",{value:"inactive",children:"Inactive"})]})]})})]})}),m.length>0&&(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6 border-2 border-green-200 dark:border-green-800 shadow-xl",children:[(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ja.jsx)("div",{className:"flex items-center space-x-4",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse"}),(0,ja.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[m.length," listing",1!==m.length?"s":""," selected"]}),(0,ja.jsx)("div",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-sm font-medium rounded-full",children:"Ready for management"})]})}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,ja.jsxs)("button",{onClick:()=>T("activate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Activate selected listings",children:[(0,ja.jsx)(ds,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Activate"})]}),(0,ja.jsxs)("button",{onClick:()=>T("deactivate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Deactivate selected listings",children:[(0,ja.jsx)(ui,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Deactivate"})]}),(0,ja.jsxs)("button",{onClick:()=>T("delete"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Delete selected listings",children:[(0,ja.jsx)(Dn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,ja.jsxs)("button",{onClick:()=>T("feature"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Feature selected listings",children:[(0,ja.jsx)(Os,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Feature"})]}),(0,ja.jsxs)("button",{onClick:()=>T("approve"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Approve selected listings",children:[(0,ja.jsx)(Sn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{className:"hidden sm:inline",children:"Approve"})]})]})]}),(0,ja.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-3",children:[(0,ja.jsxs)("button",{onClick:()=>N("reject"),className:"flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(Fn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Reject"})]}),(0,ja.jsxs)("button",{onClick:()=>N("duplicate"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(Wn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Duplicate"})]}),(0,ja.jsxs)("button",{onClick:()=>N("export"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(gi,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Export Selected"})]}),(0,ja.jsxs)("button",{onClick:()=>N("bulk-edit"),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(Vs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Bulk Edit"})]}),(0,ja.jsxs)("button",{onClick:()=>p([]),className:"flex items-center space-x-2 px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(Fn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Clear Selection"})]})]})})]}),(0,ja.jsxs)("div",{className:"cataloro-card-glass overflow-hidden",children:[(0,ja.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 dark:border-white/10",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Listings Management"}),(0,ja.jsxs)("span",{className:"bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-md",children:[k.length," results"]})]}),(0,ja.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100/50 dark:bg-gray-800/50 rounded-lg p-1",children:[{id:"active",label:"Active",count:r.filter(e=>"active"===e.status||"approved"===e.status).length,color:"green"},{id:"pending",label:"Pending",count:r.filter(e=>"pending"===e.status||"awaiting_approval"===e.status||e.pendingOrders&&e.pendingOrders>0).length,color:"yellow"},{id:"inactive",label:"Inactive",count:r.filter(e=>"inactive"===e.status||"deactivated"===e.status||"paused"===e.status).length,color:"gray"},{id:"sold",label:"Sold",count:r.filter(e=>"sold"===e.status||"completed"===e.status||"finished"===e.status).length,color:"blue"}].map(e=>(0,ja.jsxs)("button",{onClick:()=>{h(e.id),d(e.id)},className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(u===e.id?"".concat("green"===e.color?"bg-green-600 text-white":"yellow"===e.color?"bg-yellow-600 text-white":"gray"===e.color?"bg-gray-600 text-white":"bg-blue-600 text-white"," shadow-lg"):"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-700/50"),children:[(0,ja.jsx)("span",{children:e.label}),(0,ja.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(u===e.id?"bg-white/20 text-white":"".concat("green"===e.color?"bg-green-100 text-green-800":"yellow"===e.color?"bg-yellow-100 text-yellow-800":"gray"===e.color?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"," dark:bg-opacity-20")),children:e.count})]},e.id))})]}),"active"!==u&&(0,ja.jsx)("div",{className:"px-6 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-b border-blue-200/50 dark:border-blue-800/50",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 text-sm font-medium",children:["Showing ",u," listings (",k.length," items)"]}),(0,ja.jsx)("button",{onClick:()=>{h("active"),d("active")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show Active"})]})}),(0,ja.jsx)("div",{className:"max-w-full",children:(0,ja.jsxs)("table",{className:"w-full min-w-full",children:[(0,ja.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/50 backdrop-blur-sm",children:(0,ja.jsxs)("tr",{children:[(0,ja.jsx)("th",{className:"px-3 py-4 text-left w-12",children:(0,ja.jsx)("input",{type:"checkbox",checked:m.length===k.length&&k.length>0,onChange:e=>{return t=e.target.checked,void p(t?k.map(e=>e.id):[]);var t},className:"admin-checkbox"})}),(0,ja.jsx)("th",{className:"px-4 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider min-w-[280px]",children:"Listing Details"}),(0,ja.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Price"}),(0,ja.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-28",children:"Category"}),(0,ja.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-32",children:"Seller"}),(0,ja.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Status"}),(0,ja.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-20",children:"Views"}),(0,ja.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Actions"})]})}),(0,ja.jsx)("tbody",{className:"divide-y divide-gray-200/50 dark:divide-gray-700/50",children:k.map(e=>{var a;return(0,ja.jsxs)("tr",{className:"group",children:[(0,ja.jsx)("td",{className:"px-3 py-4",children:(0,ja.jsx)("input",{type:"checkbox",checked:m.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void p(a?[...m,r]:m.filter(e=>e!==r));var r,a},className:"admin-checkbox"})}),(0,ja.jsx)("td",{className:"px-4 py-4",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center flex-shrink-0",children:e.image?(0,ja.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}):(0,ja.jsx)(Wn,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),(0,ja.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ja.jsx)("h4",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",title:e.title,children:e.title}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.created_date})]})]})}),(0,ja.jsx)("td",{className:"px-3 py-4",children:(0,ja.jsxs)("span",{className:"text-lg font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent whitespace-nowrap",children:["\u20ac",e.price]})}),(0,ja.jsx)("td",{className:"px-3 py-4",children:(0,ja.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 backdrop-blur-md",children:e.category})}),(0,ja.jsx)("td",{className:"px-3 py-4",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,ja.jsx)("span",{className:"text-white font-medium text-xs",children:(null===(a=e.seller)||void 0===a?void 0:a.charAt(0))||"U"})}),(0,ja.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-medium truncate",title:e.seller,children:e.seller})]})}),(0,ja.jsx)("td",{className:"px-3 py-4",children:(0,ja.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium backdrop-blur-md ".concat("active"===e.status?"bg-green-100/80 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100/80 dark:bg-red-900/30 text-red-800 dark:text-red-300"),children:"active"===e.status?"ACTIVE":"INACTIVE"})}),(0,ja.jsx)("td",{className:"px-3 py-4",children:(0,ja.jsx)("div",{className:"flex items-center justify-center",children:(0,ja.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.views})})}),(0,ja.jsx)("td",{className:"px-3 py-4",children:(0,ja.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,ja.jsx)("button",{onClick:()=>y(e),className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded hover:bg-blue-50/50 dark:hover:bg-blue-900/20",title:"Edit listing",children:(0,ja.jsx)(Vs,{className:"w-3.5 h-3.5"})}),(0,ja.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{console.log("\ud83d\uddd1\ufe0f Deleting individual listing:",e);const a="".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/listings/").concat(e);console.log("\ud83d\udd0d Delete URL:",a);const s=await fetch(a,{method:"DELETE"});if(!s.ok)throw new Error("Failed to delete listing: ".concat(s.status));console.log("\u2705 Backend delete successful for listing:",e),n(r.filter(t=>t.id!==e)),null===t||void 0===t||t("Listing deleted successfully","success")}catch(a){console.error("\u274c Error deleting listing:",a),null===t||void 0===t||t("Failed to delete listing: ".concat(a.message),"error")}})(e.id),className:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded hover:bg-red-50/50 dark:hover:bg-red-900/20",title:"Delete listing",children:(0,ja.jsx)(Dn,{className:"w-3.5 h-3.5"})})]})})]},e.id)})})]})}),0===k.length&&(0,ja.jsxs)("div",{className:"text-center py-16",children:[(0,ja.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-gray-400/20 to-gray-500/20 dark:from-gray-600/20 dark:to-gray-700/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)(Wn,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"No listings found"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:l?"Try adjusting your search terms":"Create your first listing to get started"}),(0,ja.jsx)("button",{onClick:()=>x(!0),className:"cataloro-button-primary",children:"Create New Listing"})]})]}),(g||f)&&(0,ja.jsx)($i,{listing:f,onSave:f?e=>{n(r.map(t=>t.id===f.id?qe(qe({},t),e):t)),y(null),null===t||void 0===t||t("Listing updated successfully","success")}:e=>{const a=qe(qe({id:"new-".concat(Date.now())},e),{},{created_date:(new Date).toISOString().split("T")[0],views:0,status:"active"});n([a,...r]),x(!1),null===t||void 0===t||t("Listing created successfully","success")},onClose:()=>{x(!1),y(null)}}),_&&(0,ja.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md mx-4 shadow-2xl",children:(0,ja.jsxs)("div",{className:"p-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ja.jsx)("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:"delete"===C?(0,ja.jsx)(Dn,{className:"w-6 h-6 text-red-600 dark:text-red-400"}):(0,ja.jsx)(hs,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Confirm ","delete"===C?"Deletion":"Action"]}),(0,ja.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This action cannot be undone"})]})]}),(0,ja.jsxs)("div",{className:"mb-6",children:[(0,ja.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to ",(0,ja.jsx)("span",{className:"font-semibold text-red-600 dark:text-red-400",children:C})," these"," ",(0,ja.jsx)("span",{className:"font-semibold",children:O.length})," listing",1!==O.length?"s":"","?"]}),"delete"===C&&(0,ja.jsx)("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:(0,ja.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ja.jsx)(hs,{className:"w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,ja.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:[(0,ja.jsx)("strong",{children:"Warning:"})," Deleted listings will be permanently removed from the marketplace and cannot be recovered."]})]})})]}),(0,ja.jsxs)("div",{className:"flex space-x-3",children:[(0,ja.jsx)("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 rounded-xl font-medium transition-colors",children:"Cancel"}),(0,ja.jsx)("button",{onClick:async()=>{if(console.log("\ud83d\ude80 EXECUTING confirmed bulk action:",C),console.log("\ud83d\udd0d Listings to process:",O),S(!1),C&&O.length>0){console.log("\ud83c\udfaf Calling handleBulkAction directly with confirmed listings");p(O),await N(C),E(null),A([])}else console.log("\u274c No confirmAction or confirmListings")},className:"flex-1 px-4 py-3 text-white rounded-xl font-medium transition-colors ".concat("delete"===C?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"),children:"delete"===C?"Delete Forever":"Confirm ".concat(C)})]})]})})})]})}function $i(e){let{listing:t,onSave:r,onClose:n}=e;const[s,i]=(0,a.useState)({title:(null===t||void 0===t?void 0:t.title)||"",price:(null===t||void 0===t?void 0:t.price)||"",category:(null===t||void 0===t?void 0:t.category)||"Catalysts",description:(null===t||void 0===t?void 0:t.description)||"",condition:(null===t||void 0===t?void 0:t.condition)||"New",location:(null===t||void 0===t?void 0:t.location)||"",seller:(null===t||void 0===t?void 0:t.seller)||"",image:(null===t||void 0===t?void 0:t.image)||""}),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{b(),v()},[]);const b=async()=>{try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/data"));if(e.ok){const t=await e.json();o(t)}}catch(e){console.error("Failed to fetch catalyst data:",e)}},v=async()=>{try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Failed to fetch calculations:",e)}},j=e=>{const t=(e=>{const t=c.find(t=>t.cat_id===e);return(null===t||void 0===t?void 0:t.total_price)||null})(e);if(!t)return null;const r=.9*t,a=1.1*t;return{basePrice:parseFloat(t),minPrice:parseFloat(r.toFixed(2)),maxPrice:parseFloat(a.toFixed(2))}};return(0,ja.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(Wn,{className:"w-6 h-6 mr-2 text-blue-600"}),t?"Edit Listing":"Create New Listing",g&&(0,ja.jsxs)("span",{className:"ml-3 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:["Catalyst: ",g.cat_id]})]}),(0,ja.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ja.jsx)(Fn,{className:"w-6 h-6"})})]})}),(0,ja.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(qe(qe({},s),{},{catalyst_id:(null===g||void 0===g?void 0:g.cat_id)||null}))},className:"p-6 space-y-6",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title",(0,ja.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search Cat Database)"})]}),(0,ja.jsx)("input",{type:"text",required:!0,value:s.title,onChange:e=>{const t=e.target.value;if(i(qe(qe({},s),{},{title:t})),t.length>0){const e=l.filter(e=>{var r,a,n;const s=t.toLowerCase();return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(a=e.cat_id)||void 0===a?void 0:a.toLowerCase().includes(s))||(null===(n=e.add_info)||void 0===n?void 0:n.toLowerCase().includes(s))}).slice(0,10);h(e),p(e.length>0)}else h([]),p(!1)},onFocus:()=>s.title&&p(u.length>0),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Start typing catalyst name or ID..."}),m&&(0,ja.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-80 overflow-y-auto",children:[(0,ja.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:(0,ja.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)(js,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cat Database Matches (",u.length,")"]})}),u.map(e=>{const t=j(e.cat_id);return(0,ja.jsx)("div",{onClick:()=>(e=>{x(e),console.log("Admin - Selected catalyst:",e),console.log("Admin - Catalyst add_info:",e.add_info);let t="Catalyst: ".concat(e.name,"\n\nSpecifications:\n- Ceramic Weight: ").concat(e.ceramic_weight,"g\n\nProfessional grade catalyst suitable for automotive and industrial applications.");e.add_info&&e.add_info.trim()?(console.log("Admin - Adding add_info to description:",e.add_info),t+="\n\nAdditional Information:\n".concat(e.add_info)):console.log("Admin - No add_info available or empty:",e.add_info),console.log("Admin - Final description:",t),i(qe(qe({},s),{},{title:e.name||e.cat_id,category:"Catalysts",description:t})),p(!1)})(e),className:"p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors duration-200",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("div",{className:"flex items-center space-x-2",children:(0,ja.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})}),(0,ja.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:(0,ja.jsxs)("span",{children:["Weight: ",e.ceramic_weight,"g"]})})]}),t&&(0,ja.jsxs)("div",{className:"ml-4 text-right",children:[(0,ja.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["\u20ac",t.minPrice.toFixed(2)," - \u20ac",t.maxPrice.toFixed(2)]}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Market Range"})]})]})},e.cat_id)})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Price",g&&(0,ja.jsx)("span",{className:"text-green-600 dark:text-green-400 text-xs ml-2",children:"(Auto-filled from calculation)"})]}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"$"}),(0,ja.jsx)("input",{type:"number",step:"0.01",required:!0,value:s.price,onChange:e=>i(qe(qe({},s),{},{price:e.target.value})),className:"w-full pl-8 pr-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Seller"}),(0,ja.jsx)("input",{type:"text",required:!0,value:s.seller,onChange:e=>i(qe(qe({},s),{},{seller:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Seller name"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,ja.jsx)("input",{type:"text",value:s.location,onChange:e=>i(qe(qe({},s),{},{location:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"City, State"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image URL"}),(0,ja.jsx)("input",{type:"url",value:s.image,onChange:e=>i(qe(qe({},s),{},{image:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Description",g&&(0,ja.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Auto-generated from catalyst data)"})]}),(0,ja.jsx)("textarea",{rows:6,value:s.description,onChange:e=>i(qe(qe({},s),{},{description:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe your item..."})]}),g&&(0,ja.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:[(0,ja.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2 flex items-center",children:[(0,ja.jsx)(js,{className:"w-4 h-4 mr-2"}),"Selected Catalyst: ",g.name]}),(0,ja.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),(0,ja.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:g.name})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Weight:"}),(0,ja.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:[g.ceramic_weight,"g"]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Market Range:"}),(0,ja.jsx)("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:j(g.cat_id)?(0,ja.jsxs)(ja.Fragment,{children:["\u20ac",j(g.cat_id).minPrice.toFixed(2)," - \u20ac",j(g.cat_id).maxPrice.toFixed(2)]}):"N/A"})]})]})]}),(0,ja.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,ja.jsx)("button",{type:"button",onClick:n,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,ja.jsxs)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors flex items-center",children:[(0,ja.jsx)(Wn,{className:"w-4 h-4 mr-2"}),t?"Update Listing":"Create Listing"]})]})]})]})})}function Qi(e){let{showToast:t}=e;const[r,n]=(0,a.useState)("data"),[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)({pt_price:25,pd_price:18,rh_price:45,renumeration_pt:.95,renumeration_pd:.92,renumeration_rh:.88,price_range_min_percent:10,price_range_max_percent:10}),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),k=[{id:"data",label:"Data",icon:js},{id:"calculations",label:"Price Calculations",icon:_n},{id:"basis",label:"Basis",icon:Xn}];(0,a.useEffect)(()=>{N(),_(),S()},[]);const N=async()=>{try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/data"));if(e.ok){const t=await e.json();i(t)}}catch(e){console.error("Failed to fetch catalyst data:",e)}},_=async()=>{try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/price-settings"));if(e.ok){const t=await e.json();o(t)}}catch(e){console.error("Failed to fetch price settings:",e)}},S=async()=>{try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Failed to fetch calculations:",e)}};return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Cat Database"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Catalyst database management and price calculations"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("button",{onClick:async()=>{if(!window.confirm("\u26a0\ufe0f WARNING: This will permanently delete ALL catalyst data from the database.\n\nThis includes:\n\u2022 All catalyst records\n\u2022 All price overrides\n\u2022 All calculations\n\nThis action CANNOT be undone!\n\nAre you absolutely sure you want to proceed?"))return;if(!window.confirm("FINAL CONFIRMATION:\n\nType DELETE in the next prompt to confirm database deletion."))return;if("DELETE"===prompt('Please type "DELETE" to confirm (case sensitive):'))try{h(!0);const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/database"),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to delete database");{const r=await e.json();t("\u2705 Database deleted successfully! Removed ".concat(r.deleted_records," catalyst records and ").concat(r.deleted_overrides," overrides."),"success"),i([]),d([]),await N(),await S()}}catch(e){t("\u274c Failed to delete catalyst database","error"),console.error("Delete database error:",e)}finally{h(!1)}else t("Database deletion cancelled - confirmation text did not match","info")},disabled:u||0===s.length,className:"cataloro-button-danger flex items-center disabled:opacity-50 disabled:cursor-not-allowed",title:0===s.length?"No data to delete":"Delete entire catalyst database",children:[(0,ja.jsx)(Dn,{className:"w-5 h-5 mr-2"}),"Delete Database"]}),(0,ja.jsxs)("label",{className:"cataloro-button-primary cursor-pointer",children:[(0,ja.jsx)(Ys,{className:"w-5 h-5 mr-2"}),m?"Uploading...":"Upload Excel",(0,ja.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:async e=>{const r=e.target.files[0];if(r){p(!0);try{const e=new FormData;e.append("file",r);const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/upload"),{method:"POST",body:e});if(!a.ok)throw new Error("Upload failed");{const e=await a.json();t("Successfully uploaded ".concat(e.count," catalyst records"),"success"),await N(),await S()}}catch(a){t("Failed to upload Excel file","error"),console.error("Upload error:",a)}finally{p(!1),e.target.value=""}}},className:"hidden",disabled:m})]})]})]})}),(0,ja.jsxs)("div",{className:"cataloro-card-glass",children:[(0,ja.jsx)("div",{className:"border-b border-gray-200/50 dark:border-gray-700/50",children:(0,ja.jsx)("div",{className:"flex space-x-8 px-6",children:k.map(e=>{const t=e.icon;return(0,ja.jsxs)("button",{onClick:()=>n(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors ".concat(r===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,ja.jsx)(t,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:e.label})]},e.id)})})}),"data"===r&&(0,ja.jsxs)("div",{className:"p-6",children:[(0,ja.jsxs)("div",{className:"mb-4",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Catalyst Data"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Click on any cell to edit. The add_info field will be used in listing descriptions."})]}),s.length>0?(0,ja.jsx)("div",{className:"overflow-x-auto",children:(0,ja.jsxs)("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ja.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,ja.jsxs)("tr",{children:[(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Cat ID"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Ceramic Weight"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pt PPM"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pd PPM"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Rh PPM"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Add Info"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),(0,ja.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(e=>(0,ja.jsx)(Zi,{catalyst:e,isEditing:b===e.id,onEdit:()=>v(e.id),onSave:r=>(async(e,r)=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/data/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(t("Catalyst data updated successfully","success"),await N(),await S(),v(null))}catch(a){t("Failed to update catalyst data","error"),console.error("Update error:",a)}})(e.id,r),onCancel:()=>v(null)},e.id))})]})}):(0,ja.jsxs)("div",{className:"text-center py-12",children:[(0,ja.jsx)(js,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Data Available"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload an Excel file to populate the catalyst database."})]})]}),"calculations"===r&&(0,ja.jsxs)("div",{className:"p-6",children:[(0,ja.jsxs)("div",{className:"mb-4",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Price Calculations"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Calculated prices based on metal content and current market prices."})]}),c.length>0?(0,ja.jsx)("div",{className:"overflow-x-auto",children:(0,ja.jsxs)("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ja.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,ja.jsxs)("tr",{children:[(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Database ID"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Cat ID"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Total Price (\u20ac)"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),(0,ja.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),(0,ja.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:c.map(e=>(0,ja.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-mono text-xs",children:e.database_id||e._id}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-semibold",children:e.cat_id}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:e.name}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ja.jsxs)("span",{className:"font-semibold ".concat(e.is_override?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"),children:["\u20ac",e.total_price.toFixed(2)]})}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ja.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_override?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.is_override?"Override":"Standard"})}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/reset/").concat(e),{method:"POST"})).ok&&(t("Price reset to standard calculation","success"),await S())}catch(r){t("Failed to reset price","error"),console.error("Reset error:",r)}})(e._id),className:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded dark:bg-blue-900/30 dark:text-blue-300",children:"Reset"}),(0,ja.jsx)("button",{onClick:()=>{y(e),x(!0)},className:"px-3 py-1 text-xs bg-orange-100 hover:bg-orange-200 text-orange-800 rounded dark:bg-orange-900/30 dark:text-orange-300",children:"Override"})]})})]},e._id))})]})}):(0,ja.jsxs)("div",{className:"text-center py-12",children:[(0,ja.jsx)(_n,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Calculations Available"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload catalyst data and configure price settings first."})]})]}),"basis"===r&&(0,ja.jsxs)("div",{className:"p-6",children:[(0,ja.jsxs)("div",{className:"mb-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Price Calculation Basis"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Configure the base prices and renumeration factors for price calculations."})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Metal Prices (\u20ac/g)"}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pt Price (\u20ac/g)"}),(0,ja.jsx)("input",{type:"number",step:"0.01",value:l.pt_price,onChange:e=>o(qe(qe({},l),{},{pt_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pd Price (\u20ac/g)"}),(0,ja.jsx)("input",{type:"number",step:"0.01",value:l.pd_price,onChange:e=>o(qe(qe({},l),{},{pd_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rh Price (\u20ac/g)"}),(0,ja.jsx)("input",{type:"number",step:"0.01",value:l.rh_price,onChange:e=>o(qe(qe({},l),{},{rh_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Renumeration Factors"}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Pt"}),(0,ja.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:l.renumeration_pt,onChange:e=>o(qe(qe({},l),{},{renumeration_pt:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Pd"}),(0,ja.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:l.renumeration_pd,onChange:e=>o(qe(qe({},l),{},{renumeration_pd:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Rh"}),(0,ja.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:l.renumeration_rh,onChange:e=>o(qe(qe({},l),{},{renumeration_rh:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),(0,ja.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 transition-all duration-500 ".concat(j?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 rounded-lg p-4":""),children:[(0,ja.jsxs)("div",{className:"mb-6 relative",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-2",children:"Price Range Configuration"}),j&&(0,ja.jsxs)("div",{className:"flex items-center text-green-600 dark:text-green-400 text-sm font-medium",children:[(0,ja.jsx)(ds,{className:"w-4 h-4 mr-1"}),"Updated Successfully!"]})]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Configure the percentage ranges for dynamic price calculations used in marketplace listings."})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Minimum Price Reduction (%)"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("input",{type:"number",step:"0.1",min:"0",max:"50",value:l.price_range_min_percent,onChange:e=>o(qe(qe({},l),{},{price_range_min_percent:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"10.0"}),(0,ja.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,ja.jsx)("span",{className:"text-gray-500 text-sm",children:"%"})})]}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum percentage below calculated price (e.g., 10% means 10% below base price)"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Maximum Price Increase (%)"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("input",{type:"number",step:"0.1",min:"0",max:"100",value:l.price_range_max_percent,onChange:e=>o(qe(qe({},l),{},{price_range_max_percent:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"10.0"}),(0,ja.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,ja.jsx)("span",{className:"text-gray-500 text-sm",children:"%"})})]}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum percentage above calculated price (e.g., 10% means 10% above base price)"})]})]}),(0,ja.jsxs)("div",{className:"mt-4 p-4 rounded-lg transition-all duration-300 ".concat(j?"bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700":"bg-gray-50 dark:bg-gray-800"),children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ja.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Range Preview"}),j&&(0,ja.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"\u2713 Values Applied to Marketplace"})]}),(0,ja.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["For a calculated price of ",(0,ja.jsx)("span",{className:"font-mono",children:"\u20ac100.00"}),", the dynamic range will be:"]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,ja.jsxs)("div",{className:"text-xs",children:[(0,ja.jsxs)("span",{className:"font-mono ".concat(j?"text-red-700 dark:text-red-300 font-bold":"text-red-600 dark:text-red-400"),children:["\u20ac",(100-100*l.price_range_min_percent/100).toFixed(2)]}),(0,ja.jsx)("span",{className:"text-gray-500 ml-1",children:"(min)"})]}),(0,ja.jsx)("div",{className:"text-gray-400",children:"to"}),(0,ja.jsxs)("div",{className:"text-xs",children:[(0,ja.jsxs)("span",{className:"font-mono ".concat(j?"text-green-700 dark:text-green-300 font-bold":"text-green-600 dark:text-green-400"),children:["\u20ac",(100+100*l.price_range_max_percent/100).toFixed(2)]}),(0,ja.jsx)("span",{className:"text-gray-500 ml-1",children:"(max)"})]})]}),j&&(0,ja.jsxs)("div",{className:"mt-2 text-xs text-green-600 dark:text-green-400",children:["Range: -",l.price_range_min_percent,"% to +",l.price_range_max_percent,"% applied successfully"]})]})]}),(0,ja.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ja.jsx)("button",{onClick:async()=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/price-settings"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok&&(t("Price settings updated successfully! Range: ".concat(l.price_range_min_percent,"% to +").concat(l.price_range_max_percent,"%"),"success"),w(!0),setTimeout(()=>w(!1),3e3),await S())}catch(e){t("Failed to update price settings","error"),console.error("Update error:",e)}},className:"cataloro-button-primary transition-all duration-300 ".concat(j?"bg-green-600 hover:bg-green-700 border-green-600":""),children:j?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(ds,{className:"w-5 h-5 mr-2"}),"Settings Updated Successfully!"]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(Zs,{className:"w-5 h-5 mr-2"}),"Update Price Settings"]})})})]})]}),g&&f&&(0,ja.jsx)(Xi,{catalyst:f,onSave:async(e,r)=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/catalyst/override/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({catalyst_id:e,override_price:parseFloat(r),is_override:!0})})).ok&&(t("Price override set successfully","success"),await S(),x(!1))}catch(a){t("Failed to set price override","error"),console.error("Override error:",a)}},onClose:()=>{x(!1),y(null)}})]})}function Zi(e){let{catalyst:t,isEditing:r,onEdit:n,onSave:s,onCancel:i}=e;const[l,o]=(0,a.useState)({cat_id:t.cat_id,name:t.name,ceramic_weight:t.ceramic_weight,pt_ppm:t.pt_ppm,pd_ppm:t.pd_ppm,rh_ppm:t.rh_ppm,add_info:t.add_info||""}),c=()=>{s(l)};return r?(0,ja.jsxs)("tr",{className:"bg-blue-50 dark:bg-blue-900/20",children:[(0,ja.jsx)("td",{className:"px-4 py-3",children:(0,ja.jsx)("input",{type:"text",value:l.cat_id,onChange:e=>o(qe(qe({},l),{},{cat_id:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ja.jsx)("td",{className:"px-4 py-3",children:(0,ja.jsx)("input",{type:"text",value:l.name,onChange:e=>o(qe(qe({},l),{},{name:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ja.jsx)("td",{className:"px-4 py-3",children:(0,ja.jsx)("input",{type:"number",step:"0.01",value:l.ceramic_weight,onChange:e=>o(qe(qe({},l),{},{ceramic_weight:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ja.jsx)("td",{className:"px-4 py-3",children:(0,ja.jsx)("input",{type:"number",step:"0.1",value:l.pt_ppm,onChange:e=>o(qe(qe({},l),{},{pt_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ja.jsx)("td",{className:"px-4 py-3",children:(0,ja.jsx)("input",{type:"number",step:"0.1",value:l.pd_ppm,onChange:e=>o(qe(qe({},l),{},{pd_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ja.jsx)("td",{className:"px-4 py-3",children:(0,ja.jsx)("input",{type:"number",step:"0.1",value:l.rh_ppm,onChange:e=>o(qe(qe({},l),{},{rh_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ja.jsx)("td",{className:"px-4 py-3",children:(0,ja.jsx)("textarea",{value:l.add_info,onChange:e=>o(qe(qe({},l),{},{add_info:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded resize-none",rows:"2",placeholder:"Additional info for listings..."})}),(0,ja.jsx)("td",{className:"px-4 py-3",children:(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsx)("button",{onClick:c,className:"px-2 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-800 rounded",children:(0,ja.jsx)(Zs,{className:"w-4 h-4"})}),(0,ja.jsx)("button",{onClick:i,className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]})})]}):(0,ja.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-mono",children:t.cat_id}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.name}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.ceramic_weight}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.pt_ppm}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.pd_ppm}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.rh_ppm}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 max-w-xs",children:(0,ja.jsx)("div",{className:"truncate",title:t.add_info||"No additional info",children:t.add_info||"-"})}),(0,ja.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ja.jsx)("button",{onClick:n,className:"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded dark:bg-blue-900/30 dark:text-blue-300",children:(0,ja.jsx)(Vs,{className:"w-4 h-4"})})})]})}function Xi(e){let{catalyst:t,onSave:r,onClose:n}=e;const[s,i]=(0,a.useState)("");return(0,ja.jsx)("div",{className:"modal-overlay",children:(0,ja.jsxs)("div",{className:"modal-content max-w-md",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ja.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Override Price for Catalyst"}),(0,ja.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,ja.jsx)(Fn,{className:"w-6 h-6"})})]}),(0,ja.jsxs)("div",{className:"mb-4",children:[(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsx)("strong",{children:"ID:"})," ",t._id]}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsx)("strong",{children:"Name:"})," ",t.name]}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ja.jsx)("strong",{children:"Current Price:"})," \u20ac",t.total_price.toFixed(2)]})]}),(0,ja.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s&&parseFloat(s)>0&&r(t._id,s)},className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Override Price (\u20ac)"}),(0,ja.jsx)("input",{type:"number",step:"0.01",min:"0",value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter new price",required:!0})]}),(0,ja.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ja.jsx)("button",{type:"button",onClick:n,className:"cataloro-button-secondary",children:"Cancel"}),(0,ja.jsx)("button",{type:"submit",className:"cataloro-button-primary",children:"Set Override"})]})]})]})})}function el(e){let{user:t,onClose:r,onSave:n}=e;const[s,i]=(0,a.useState)({full_name:(null===t||void 0===t?void 0:t.full_name)||"",username:(null===t||void 0===t?void 0:t.username)||"",email:(null===t||void 0===t?void 0:t.email)||"",role:(null===t||void 0===t?void 0:t.role)||"user",is_active:void 0===(null===t||void 0===t?void 0:t.is_active)||t.is_active,password:"",confirm_password:""}),[l,o]=(0,a.useState)({});return(0,ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md mx-4",children:[(0,ja.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"Edit User":"Create New User"})}),(0,ja.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return s.full_name.trim()||(e.full_name="Full name is required"),s.username.trim()||(e.username="Username is required"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(e.email="Email is invalid"):e.email="Email is required",t||s.password||(e.password="Password is required for new users"),s.password&&s.password.length<6&&(e.password="Password must be at least 6 characters"),s.password&&s.password!==s.confirm_password&&(e.confirm_password="Passwords do not match"),o(e),0===Object.keys(e).length})())return;const r=qe({},s);t&&(r.id=t.id),r.password||delete r.password,delete r.confirm_password,n(r)},className:"p-6 space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),(0,ja.jsx)("input",{type:"text",value:s.full_name,onChange:e=>i(qe(qe({},s),{},{full_name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(l.full_name?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter full name"}),l.full_name&&(0,ja.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.full_name})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),(0,ja.jsx)("input",{type:"text",value:s.username,onChange:e=>i(qe(qe({},s),{},{username:e.target.value})),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(l.username?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter username"}),l.username&&(0,ja.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.username})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,ja.jsx)("input",{type:"email",value:s.email,onChange:e=>i(qe(qe({},s),{},{email:e.target.value})),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(l.email?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter email"}),l.email&&(0,ja.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.email})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),(0,ja.jsxs)("select",{value:s.role,onChange:e=>i(qe(qe({},s),{},{role:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ja.jsx)("option",{value:"user",children:"User"}),(0,ja.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("label",{className:"flex items-center",children:[(0,ja.jsx)("input",{type:"radio",name:"is_active",checked:!0===s.is_active,onChange:()=>i(qe(qe({},s),{},{is_active:!0})),className:"mr-2"}),(0,ja.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),(0,ja.jsxs)("label",{className:"flex items-center",children:[(0,ja.jsx)("input",{type:"radio",name:"is_active",checked:!1===s.is_active,onChange:()=>i(qe(qe({},s),{},{is_active:!1})),className:"mr-2"}),(0,ja.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Suspended"})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Password ",t&&(0,ja.jsx)("span",{className:"text-xs text-gray-500",children:"(leave blank to keep current)"})]}),(0,ja.jsx)("input",{type:"password",value:s.password,onChange:e=>i(qe(qe({},s),{},{password:e.target.value})),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(l.password?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:t?"Enter new password (optional)":"Enter password"}),l.password&&(0,ja.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.password})]}),s.password&&(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),(0,ja.jsx)("input",{type:"password",value:s.confirm_password,onChange:e=>i(qe(qe({},s),{},{confirm_password:e.target.value})),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(l.confirm_password?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Confirm password"}),l.confirm_password&&(0,ja.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.confirm_password})]}),(0,ja.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ja.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,ja.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:t?"Update User":"Create User"})]})]})]})})}const tl=function(){const[e,t]=(0,a.useState)("dashboard"),[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)({}),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(""),{isAdmin:g}=Pa(),{allProducts:x,cartItems:f,favorites:y,notifications:b}=bn(),{showToast:v}=Wa();(0,a.useEffect)(()=>{g()&&(j(),"users"===e?k():"settings"===e&&N())},[e,g]);const j=async()=>{try{d(!0);const e=await _i.getDashboard();n({kpis:(null===e||void 0===e?void 0:e.kpis)||{},recent_activity:(null===e||void 0===e?void 0:e.recent_activity)||w()})}catch(e){v("Failed to load dashboard data","error");const t={total_users:0,total_products:x.length,active_products:x.filter(e=>!1!==e.inStock).length,total_views:0,cart_items:f.length,favorites_count:y.length,total_revenue:0,average_rating:0,growth_rate:0,notifications_count:b.length,total_deals:0};n({kpis:t,recent_activity:w()})}finally{d(!1)}},w=()=>[{action:"".concat(x.length," products currently active"),timestamp:new Date},{action:"".concat(f.length," items in shopping carts"),timestamp:new Date(Date.now()-3e5)},{action:"".concat(y.length," items in wishlists"),timestamp:new Date(Date.now()-6e5)},{action:"".concat(b.length," notifications sent today"),timestamp:new Date(Date.now()-9e5)},{action:"System performance: Excellent",timestamp:new Date(Date.now()-12e5)}],k=async()=>{try{const e=await _i.getAllUsers();i(e)}catch(e){v("Failed to load users","error"),i([{id:"1",username:"johndoe",email:"john@example.com",full_name:"John Doe",role:"user",is_active:!0,created_at:(new Date).toISOString()},{id:"2",username:"admin",email:"admin@cataloro.com",full_name:"Admin User",role:"admin",is_active:!0,created_at:(new Date).toISOString()}])}},N=async()=>{try{const e=await _i.getSettings();o(e),e&&localStorage.setItem("cataloro_site_branding",JSON.stringify(e))}catch(e){v("Failed to load settings","error");const t={site_name:"Cataloro",site_description:"Modern Marketplace Platform",logo_url:"/assets/logo.png",logo_light_url:"",logo_dark_url:"",theme_color:"#3B82F6",allow_registration:!0,require_approval:!1};o(t),localStorage.setItem("cataloro_site_branding",JSON.stringify(t))}};if(!g())return(0,ja.jsxs)("div",{className:"text-center py-12",children:[(0,ja.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ja.jsx)(ui,{className:"w-8 h-8 text-red-500"})}),(0,ja.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),(0,ja.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access the admin panel"})]});const _=[{id:"dashboard",label:"Dashboard",shortLabel:"Dashboard",icon:Qn},{id:"users",label:"User Management",shortLabel:"Users",icon:hi},{id:"listings",label:"Listings Management",shortLabel:"Listings",icon:Wn},{id:"business",label:"Business",shortLabel:"Business",icon:Nn},{id:"cat-database",label:"Cat Database",shortLabel:"Cats",icon:js},{id:"settings",label:"Site Settings",shortLabel:"Settings",icon:Xn},{id:"site-admin",label:"Site Administration",shortLabel:"Admin",icon:Sn}];return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsx)("div",{className:"space-y-6",children:(0,ja.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Admin Panel"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Full control over your marketplace platform"})]}),(0,ja.jsx)("span",{className:"bg-purple-100/80 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-md",children:"ADMIN ACCESS"})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass",children:(0,ja.jsx)("div",{className:"border-b border-white/10 dark:border-white/10",children:(0,ja.jsx)("nav",{className:"-mb-px",children:(0,ja.jsx)("div",{className:"flex justify-between px-2 lg:px-4 xl:px-6",children:_.map(r=>{const a=r.icon,n=e===r.id;return(0,ja.jsxs)("button",{onClick:()=>t(r.id),className:"admin-tab-button flex flex-col sm:flex-row items-center justify-center px-1 sm:px-2 lg:px-3 py-2 lg:py-3 text-xs lg:text-sm font-medium border-b-2 transition-all duration-200 flex-1 ".concat(n?"active text-gray-900 dark:text-white border-blue-600 bg-white/10 dark:bg-white/10 backdrop-blur-md rounded-t-lg":"text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 rounded-t-lg"),title:r.label,children:[(0,ja.jsx)(a,{className:"w-4 h-4 lg:w-5 lg:h-5 mb-1 sm:mb-0 sm:mr-1 lg:mr-2 flex-shrink-0"}),(0,ja.jsxs)("span",{className:"text-xs sm:text-xs lg:text-sm leading-tight text-center sm:text-left",children:[(0,ja.jsx)("span",{className:"hidden xl:inline",children:r.label}),(0,ja.jsx)("span",{className:"xl:hidden",children:r.shortLabel})]})]},r.id)})})})})}),"dashboard"===e&&(0,ja.jsx)(Vi,{dashboardData:r,loading:c}),"users"===e&&(0,ja.jsx)(Wi,{users:s,onUpdateUser:k,showToast:v}),"listings"===e&&(0,ja.jsx)(Yi,{showToast:v}),"business"===e&&(0,ja.jsx)(Hi,{showToast:v}),"cat-database"===e&&(0,ja.jsx)(Qi,{showToast:v}),"settings"===e&&(0,ja.jsx)(Gi,{settings:l,onUpdateSettings:N,showToast:v}),"site-admin"===e&&(0,ja.jsx)(Ji,{showToast:v})]})};function rl(e){var t,r,n;let{item:s,onRemove:i,onAddToCart:l,onNavigate:o}=e;const[c,d]=(0,a.useState)(0),[u,h]=(0,a.useState)(!1),m=(e,t)=>{e.stopPropagation(),t()};return(0,ja.jsxs)("div",{className:"group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer hover:-translate-y-2",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:()=>{o("/product/".concat(s.id))},children:[(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("img",{src:(null===(t=s.images)||void 0===t?void 0:t[c])||(null===(r=s.images)||void 0===r?void 0:r[0])||"/api/placeholder/400/300",alt:s.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105",onClick:e=>{e.stopPropagation(),s.images&&s.images.length>1&&d(e=>(e+1)%s.images.length)}}),s.images&&s.images.length>1&&(0,ja.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:s.images.map((e,t)=>(0,ja.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===c?"bg-white":"bg-white/50")},t))}),(0,ja.jsx)("div",{className:"absolute top-2 left-2",children:(0,ja.jsx)("span",{className:"inline-block bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"\u2764\ufe0f Favorite"})}),(0,ja.jsx)("div",{className:"absolute top-2 right-2 transition-opacity duration-200 ".concat(u?"opacity-100":"opacity-0"),children:(0,ja.jsx)("button",{onClick:e=>m(e,()=>i(s.id)),className:"p-2 bg-white/90 dark:bg-gray-800/90 rounded-full shadow-sm transition-all duration-200 text-red-500 hover:text-red-600",children:(0,ja.jsx)(En,{className:"w-5 h-5 fill-current"})})}),s.favorited_at&&(0,ja.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:["Added ",new Date(s.favorited_at).toLocaleDateString()]})]}),(0,ja.jsxs)("div",{className:"p-4",children:[(0,ja.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,ja.jsx)("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors line-clamp-2",children:s.title})}),(0,ja.jsx)("div",{className:"flex items-center space-x-2 mb-3",children:(0,ja.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",(parseFloat(s.price)||0).toFixed(2)]})}),s.rating&&(0,ja.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,ja.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((e,t)=>(0,ja.jsx)(Os,{className:"w-4 h-4 ".concat(t<Math.floor(parseFloat(s.rating)||0)?"text-yellow-400 fill-current":"text-gray-300")},t))}),(0,ja.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[parseFloat(s.rating).toFixed(1)," (",s.reviews||s.review_count||"0"," reviews)"]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,ja.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,ja.jsx)("span",{className:"text-white text-xs font-bold",children:"string"===typeof s.seller&&s.seller.length>0?s.seller.charAt(0).toUpperCase():"object"===typeof s.seller&&null!==(g=s.seller)&&void 0!==g&&g.name?s.seller.name.charAt(0).toUpperCase():s.seller_id?s.seller_id.charAt(0).toUpperCase():"S"})}),(0,ja.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"string"===typeof s.seller?s.seller:"object"===typeof s.seller&&null!==(p=s.seller)&&void 0!==p&&p.name?s.seller.name:s.seller_id?s.seller_id:"Unknown Seller"}),("object"===typeof s.seller&&(null===(n=s.seller)||void 0===n?void 0:n.verified)||s.verified)&&(0,ja.jsx)("span",{className:"text-blue-500 text-xs",children:"\u2713 Verified"})]}),(0,ja.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 space-y-1",children:[s.location&&(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(as,{className:"w-4 h-4 mr-1"}),s.location]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"inline-block bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded-full",children:s.category}),(0,ja.jsxs)("span",{className:"text-xs",children:["Condition: ",s.condition]})]})]}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsxs)("button",{onClick:e=>m(e,()=>l(s)),className:"flex-1 flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(Rn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Add to Cart"})]}),(0,ja.jsx)("button",{onClick:e=>m(e,()=>{}),className:"px-4 py-2.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ja.jsx)(Cn,{className:"w-4 h-4"})}),(0,ja.jsx)("button",{onClick:e=>m(e,()=>i(s.id)),className:"px-4 py-2.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:(0,ja.jsx)(Dn,{className:"w-4 h-4"})})]})]})]});var p,g}const al=function(){const{user:e}=Pa(),{showToast:t}=Wa(),r=te(),{favorites:n,removeFromFavorites:s,addToCart:i,loadUserFavorites:l,isLoading:o}=bn();(0,a.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&l(e.id)},[null===e||void 0===e?void 0:e.id,l]);const c=async r=>{try{await s(r,e.id),t("Removed from favorites","success")}catch(a){t("Failed to remove from favorites","error")}},d=async r=>{try{await i(r,e.id),t("Added ".concat(r.title," to cart!"),"success")}catch(a){t("Failed to add to cart","error")}};return o?(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your favorites..."})]})}):(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-2xl p-8",children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"My Favorites"}),(0,ja.jsx)("p",{className:"text-xl opacity-90",children:"Items you've saved for later"}),n.length>0&&(0,ja.jsxs)("p",{className:"text-lg opacity-80 mt-2",children:["You have ",n.length," favorite items"]})]}),0===n.length?(0,ja.jsxs)("div",{className:"text-center py-16",children:[(0,ja.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)(En,{className:"w-8 h-8 text-gray-400"})}),(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No favorites yet"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start browsing and save items you love"}),(0,ja.jsx)(Pe,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Browse Marketplace"})]}):(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(e=>(0,ja.jsx)(rl,{item:e,onRemove:c,onAddToCart:d,onNavigate:r},e.id))})]})};const nl=function(){const{user:e}=Pa(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[i,l]=(0,a.useState)("all"),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(0),y=async()=>{if(null!==e&&void 0!==e&&e.id){s(!0);try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/notifications/").concat(e.id));if(!t.ok)throw new Error("Failed to fetch notifications: ".concat(t.status));{const e=await t.json();console.log("Fetched real notifications:",e),r(e||[]),f(e.filter(e=>!e.is_read).length)}}catch(t){console.error("Failed to load real notifications:",t),r([]),f(0)}finally{s(!1)}}};(0,a.useEffect)(()=>{y()},[e]);const b=async a=>{try{(await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/").concat(null===e||void 0===e?void 0:e.id,"/notifications/").concat(a,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok&&(r(t.map(e=>e.id===a?qe(qe({},e),{},{is_read:!0}):e)),f(e=>Math.max(0,e-1)))}catch(n){console.error("Failed to mark notification as read:",n)}},v=t.filter(e=>{const t="all"===i||"unread"===i&&!e.is_read||"read"===i&&e.is_read||i===e.type,r=!o||e.title.toLowerCase().includes(o.toLowerCase())||e.message.toLowerCase().includes(o.toLowerCase());return t&&r}),j=e=>{const t={className:"w-5 h-5"};switch(e){case"message":return(0,ja.jsx)(Cn,qe({},t));case"favorite":return(0,ja.jsx)(En,qe({},t));case"buy_request":return(0,ja.jsx)(Rn,qe({},t));case"buy_approved":return(0,ja.jsx)(Mn,qe({},t));case"buy_rejected":return(0,ja.jsx)(Fn,qe({},t));case"payment":return(0,ja.jsx)(_n,qe({},t));case"profile_view":return(0,ja.jsx)(vs,qe({},t));case"system":return(0,ja.jsx)(Xn,qe({},t));default:return(0,ja.jsx)(An,qe({},t))}},w=async e=>{await b(e)},k=async a=>{await(async a=>{try{if((await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/").concat(null===e||void 0===e?void 0:e.id,"/notifications/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok){const e=t.find(e=>e.id===a);r(t.filter(e=>e.id!==a)),e&&!e.is_read&&f(e=>Math.max(0,e-1))}}catch(n){console.error("Failed to delete notification:",n)}})(a)};return(0,ja.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,ja.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ja.jsx)("div",{className:"cataloro-card-glass p-8 mb-8",children:(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mb-6 lg:mb-0",children:[(0,ja.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl",children:(0,ja.jsx)(An,{className:"w-8 h-8 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:x>0?"".concat(x," unread notification").concat(x>1?"s":""):"All caught up!"})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("button",{onClick:()=>{const e=!d;u(e),localStorage.setItem("cataloro_notification_sound",e.toString())},className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:d?"Disable sounds":"Enable sounds",children:d?(0,ja.jsx)(Tn,{className:"w-5 h-5"}):(0,ja.jsx)(Pn,{className:"w-5 h-5"})}),(0,ja.jsx)("button",{onClick:()=>{y()},disabled:n,className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh notifications",children:(0,ja.jsx)(Ln,{className:"w-5 h-5 ".concat(n?"animate-spin":"")})}),x>0&&(0,ja.jsx)("button",{onClick:async()=>{await(async()=>{try{const e=t.filter(e=>!e.is_read);await Promise.all(e.map(e=>b(e.id))),r(t.map(e=>qe(qe({},e),{},{is_read:!0}))),f(0)}catch(e){console.error("Failed to mark all as read:",e)}})()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Mark All Read"})]})]})}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-6 mb-8",children:(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,ja.jsxs)("div",{className:"relative flex-1 lg:max-w-md",children:[(0,ja.jsx)($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",placeholder:"Search notifications...",value:o,onChange:e=>c(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]}),(0,ja.jsx)("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-2",children:[{id:"all",label:"All",count:t.length},{id:"unread",label:"Unread",count:x},{id:"message",label:"Messages",count:t.filter(e=>"message"===e.type).length},{id:"buy_request",label:"Requests",count:t.filter(e=>"buy_request"===e.type).length}].map(e=>(0,ja.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap ".concat(i===e.id?"bg-blue-600 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:shadow-sm"),children:[(0,ja.jsx)("span",{children:e.label}),e.count>0&&(0,ja.jsx)("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full text-xs font-bold min-w-[20px] text-center ".concat(i===e.id?"bg-white/30 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300"),children:e.count})]},e.id))})]})}),(0,ja.jsx)("div",{className:"space-y-4",children:n?(0,ja.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,ja.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Loading notifications..."})]}):0===v.length?(0,ja.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,ja.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)(An,{className:"w-12 h-12 text-gray-400"})}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:o?"No matching notifications":"No notifications"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:o?"Try adjusting your search terms.":"When you have new activity, it will appear here."})]}):v.map(e=>{const t=(e=>{switch(e){case"message":default:return"blue";case"favorite":return"pink";case"buy_request":return"yellow";case"buy_approved":case"payment":return"green";case"buy_rejected":return"red";case"profile_view":return"purple";case"system":return"gray"}})(e.type),r=h.includes(e.id);return(0,ja.jsx)("div",{className:"cataloro-card-glass p-6 transition-all duration-300 hover:scale-[1.02] cursor-pointer ".concat(e.is_read?"":"ring-2 ring-blue-500/30 bg-blue-50/30 dark:bg-blue-900/20"," ").concat(r?"ring-2 ring-purple-500/50":""),onClick:()=>{e.is_read||w(e.id),e.action_url&&(window.location.href=e.action_url)},children:(0,ja.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ja.jsx)("div",{className:"p-3 rounded-xl ".concat("blue"===t?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"pink"===t?"bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-400":"yellow"===t?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"green"===t?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"red"===t?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"purple"===t?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"),children:j(e.type)}),(0,ja.jsx)("div",{className:"flex-1 min-w-0",children:(0,ja.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:e.message}),e.metadata&&(0,ja.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[e.metadata.amount&&(0,ja.jsxs)("span",{className:"flex items-center",children:[(0,ja.jsx)(_n,{className:"w-4 h-4 mr-1"}),"$",e.metadata.amount]}),e.metadata.item&&(0,ja.jsxs)("span",{className:"flex items-center",children:[(0,ja.jsx)(Wn,{className:"w-4 h-4 mr-1"}),e.metadata.item]}),e.metadata.views&&(0,ja.jsxs)("span",{className:"flex items-center",children:[(0,ja.jsx)(vs,{className:"w-4 h-4 mr-1"}),e.metadata.views," views"]})]}),(0,ja.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,ja.jsx)(In,{className:"w-4 h-4 mr-2"}),new Date(e.created_at).toLocaleString()]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!e.is_read&&(0,ja.jsx)("button",{onClick:t=>{t.stopPropagation(),w(e.id)},className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Mark as read",children:(0,ja.jsx)(Mn,{className:"w-4 h-4"})}),(0,ja.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e.id)},className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete notification",children:(0,ja.jsx)(Dn,{className:"w-4 h-4"})}),e.action_url&&(0,ja.jsx)(Pe,{to:e.action_url,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Go to related page",onClick:e=>e.stopPropagation(),children:(0,ja.jsx)(Ts,{className:"w-4 h-4"})})]})]})}),!e.is_read&&(0,ja.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-pulse mt-1"})]})},e.id)})}),v.length>0&&(0,ja.jsx)("div",{className:"cataloro-card-glass p-6 mt-8",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-300",children:[(0,ja.jsxs)("span",{children:["Showing ",v.length," of ",t.length," notifications"]}),(0,ja.jsxs)("span",{children:[x," unread"]})]})})]})})},sl=wn("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),il=wn("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const ll=function(){const{user:e,updateUser:t}=Pa(),{showToast:r}=Wa(),{allProducts:n,cartItems:s,favorites:i,orderHistory:l,refreshListings:o}=bn(),[c,d]=(0,a.useState)("profile"),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[b,v]=(0,a.useState)({full_name:(null===e||void 0===e?void 0:e.full_name)||"",username:(null===e||void 0===e?void 0:e.username)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",street:(null===e||void 0===e?void 0:e.street)||"",post_code:(null===e||void 0===e?void 0:e.post_code)||"",city:(null===e||void 0===e?void 0:e.city)||"",country:(null===e||void 0===e?void 0:e.country)||"",bio:(null===e||void 0===e?void 0:e.bio)||"Marketplace enthusiast and trusted seller.",avatar_url:(null===e||void 0===e?void 0:e.avatar_url)||"",date_joined:(null===e||void 0===e?void 0:e.date_joined)||"2024-01-15",verified:(null===e||void 0===e?void 0:e.verified)||!1,seller_rating:(null===e||void 0===e?void 0:e.seller_rating)||4.8,total_sales:(null===e||void 0===e?void 0:e.total_sales)||0,is_business:(null===e||void 0===e?void 0:e.is_business)||!1,company_name:(null===e||void 0===e?void 0:e.company_name)||"",business_country:(null===e||void 0===e?void 0:e.business_country)||"",vat_number:(null===e||void 0===e?void 0:e.vat_number)||""}),[j,w]=(0,a.useState)([]),[k,N]=(0,a.useState)([]),[_,S]=(0,a.useState)([]),[C,E]=(0,a.useState)(!1),[O,A]=(0,a.useState)(!1),[T,P]=(0,a.useState)(!1),[L,R]=(0,a.useState)({emailNotifications:!0,smsNotifications:!1,marketingEmails:!1,browserNotifications:!0,darkMode:!1,language:"en",currency:"USD",timezone:"UTC",publicProfile:!0,showEmail:!1,showPhone:!1}),[M,F]=(0,a.useState)({totalListings:0,activeListings:0,totalDeals:0,completedDeals:0,totalRevenue:0,avgRating:0,totalFavorites:0,profileViews:0,joinDate:"",lastActive:""}),D=["Berlin","Munich","Hamburg","Frankfurt","Cologne","Stuttgart","D\xfcsseldorf","Dortmund","Essen","Bremen","Paris","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven","Tilburg","Groningen","Almere","Brussels","Antwerp","Ghent","Bruges","Leuven","Li\xe8ge","Madrid","Barcelona","Valencia","Seville","Bilbao","M\xe1laga","Zaragoza","Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Venice","London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Cardiff","Vienna","Zurich","Geneva","Copenhagen","Stockholm","Oslo","Helsinki","Prague","Warsaw","Budapest","Dublin","Lisbon","Athens"],I=["Germany","France","Netherlands","Belgium","Spain","Italy","United Kingdom","Austria","Switzerland","Denmark","Sweden","Norway","Finland","Czech Republic","Poland","Hungary","Ireland","Portugal","Greece","Luxembourg","Slovenia","Slovakia","Estonia","Latvia","Lithuania","Malta","Cyprus","Croatia","Romania","Bulgaria"];(0,a.useEffect)(()=>{(()=>{const t=n.filter(t=>t.seller===(null===e||void 0===e?void 0:e.username)||t.seller===(null===e||void 0===e?void 0:e.full_name)),r=t.filter(e=>!1!==e.inStock),a=l||[],s=a.filter(e=>"completed"===e.status),o={totalListings:t.length,activeListings:r.length,totalDeals:a.length,completedDeals:s.length,totalRevenue:t.reduce((e,t)=>e+(t.price||0),0),avgRating:b.seller_rating,totalFavorites:i.length,profileViews:Math.floor(500*Math.random())+100,joinDate:b.date_joined,lastActive:(new Date).toISOString().split("T")[0]};F(o)})()},[n,l,i,e,b]);const U=e=>{const{name:t,value:r}=e.target;v(e=>qe(qe({},e),{},{[t]:r}))},q=(e,t)=>{R(qe(qe({},L),{},{[e]:t})),r("".concat(e," ").concat(t?"enabled":"disabled"),"success")},B=e=>{y(qe(qe({},f),{},{[e.target.name]:e.target.value}))};return(0,ja.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,ja.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 rounded-xl p-8 mb-8 text-white relative overflow-hidden",children:[(0,ja.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"}),(0,ja.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),(0,ja.jsxs)("div",{className:"relative flex items-center space-x-6",children:[(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("div",{className:"w-32 h-32 rounded-full bg-white/20 flex items-center justify-center overflow-hidden border-4 border-white/30",children:b.avatar_url?(0,ja.jsx)("img",{src:b.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):(0,ja.jsx)(Vn,{className:"w-16 h-16 text-white/80"})}),u&&(0,ja.jsx)("div",{className:"absolute bottom-0 right-0",children:(0,ja.jsxs)("label",{className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center cursor-pointer shadow-lg transition-colors",children:[(0,ja.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.size>5242880)r("File size must be less than 5MB","error");else try{p(!0);const e=new FileReader;e.onload=e=>{v(t=>qe(qe({},t),{},{avatar_url:e.target.result}))},e.readAsDataURL(t),await new Promise(e=>setTimeout(e,2e3)),r("Profile picture updated successfully!","success")}catch(a){r("Failed to upload image","error")}finally{p(!1)}},className:"hidden"}),m?(0,ja.jsx)(Ln,{className:"w-5 h-5 text-white animate-spin"}):(0,ja.jsx)(fi,{className:"w-5 h-5 text-white"})]})})]}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold",children:b.full_name||"Anonymous User"}),b.verified&&(0,ja.jsxs)("div",{className:"flex items-center space-x-1 bg-green-500/20 text-green-100 px-3 py-1 rounded-full text-sm",children:[(0,ja.jsx)(ds,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Verified"})]}),b.is_business&&(0,ja.jsxs)("div",{className:"flex items-center space-x-1 bg-blue-500/20 text-blue-100 px-3 py-1 rounded-full text-sm",children:[(0,ja.jsx)(Xn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Business"})]})]}),(0,ja.jsxs)("p",{className:"text-white/80 mb-4",children:["@",b.username]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(Os,{className:"w-5 h-5 text-yellow-400 fill-current"}),(0,ja.jsx)("span",{className:"font-semibold",children:b.seller_rating}),(0,ja.jsx)("span",{className:"text-white/60",children:"rating"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(Wn,{className:"w-5 h-5"}),(0,ja.jsx)("span",{className:"font-semibold",children:M.totalListings}),(0,ja.jsx)("span",{className:"text-white/60",children:"listings"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(ni,{className:"w-5 h-5"}),(0,ja.jsxs)("span",{className:"text-white/60",children:["Joined ",b.date_joined]})]})]})]}),(0,ja.jsx)("div",{className:"text-right",children:(0,ja.jsxs)("button",{onClick:()=>h(!u),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-6 py-3 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ja.jsx)(Oi,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:u?"Cancel Edit":"Edit Profile"})]})})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ja.jsxs)("div",{className:"lg:col-span-2",children:[(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 mb-8",children:(0,ja.jsx)("div",{className:"flex space-x-1 p-2",children:[{id:"profile",label:"Profile Info",icon:Vn},{id:"security",label:"Security",icon:Sn},{id:"preferences",label:"Preferences",icon:Xn},{id:"stats",label:"Statistics",icon:qn}].map(e=>(0,ja.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-colors flex-1 justify-center ".concat(c===e.id?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,ja.jsx)(e.icon,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:e.label})]},e.id))})}),"profile"===c&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),u&&(0,ja.jsxs)("button",{onClick:async()=>{try{const a=(null===e||void 0===e?void 0:e.is_business)!==b.is_business;await new Promise(e=>setTimeout(e,1e3));const n=qe(qe({},e),b);localStorage.setItem("cataloro_user",JSON.stringify(n)),"function"===typeof t&&t(n),h(!1),r("Profile updated successfully!","success"),a&&(o(),r("Account switched to ".concat(b.is_business?"Business":"Private"),"success"))}catch(a){r("Failed to update profile","error")}},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ja.jsx)(Zs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Save Changes"})]})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),(0,ja.jsx)("input",{type:"text",name:"full_name",value:b.full_name,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your full name"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),(0,ja.jsx)("input",{type:"text",name:"username",value:b.username,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your username"})]})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),(0,ja.jsx)("input",{type:"email",name:"email",value:b.email,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your email"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),(0,ja.jsx)("input",{type:"tel",name:"phone",value:b.phone,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your phone number"})]})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Address Information"}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ja.jsx)("input",{type:"text",name:"street",value:b.street,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your street address"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postal Code"}),(0,ja.jsx)("input",{type:"text",name:"post_code",value:b.post_code,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your postal code"})]}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["City",u&&(0,ja.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ja.jsx)("input",{type:"text",name:"city",value:b.city,onChange:e=>{const t=e.target.value;if(v(e=>qe(qe({},e),{},{city:t})),t.length>1){const e=D.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);w(e),E(e.length>0)}else w([]),E(!1)},onFocus:()=>b.city&&E(j.length>0),disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your city"}),C&&u&&(0,ja.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ja.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ja.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)(as,{className:"w-4 h-4 mr-2 text-blue-500"}),"Popular Cities (",j.length,")",(0,ja.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),j.map((e,t)=>(0,ja.jsx)("div",{onClick:()=>(e=>{v(t=>qe(qe({},t),{},{city:e})),E(!1),w([])})(e),className:"p-3 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e})]})},t))]})]})]}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Country",u&&(0,ja.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ja.jsx)("input",{type:"text",name:"country",value:b.country,onChange:e=>{const t=e.target.value;if(v(e=>qe(qe({},e),{},{country:t})),t.length>1){const e=I.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);N(e),A(e.length>0)}else N([]),A(!1)},onFocus:()=>b.country&&A(k.length>0),disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your country"}),O&&u&&(0,ja.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ja.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ja.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)(kn,{className:"w-4 h-4 mr-2 text-green-500"}),"Popular Countries (",k.length,")",(0,ja.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),k.map((e,t)=>(0,ja.jsx)("div",{onClick:()=>(e=>{v(t=>qe(qe({},t),{},{country:e})),A(!1),N([])})(e),className:"p-3 hover:bg-green-50 dark:hover:bg-green-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",children:e})]})},t))]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),(0,ja.jsx)("textarea",{name:"bio",rows:4,value:b.bio,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Tell us about yourself..."}),(0,ja.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[b.bio.length,"/500 characters"]})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ja.jsx)(Xn,{className:"w-4 h-4 mr-2"}),"Account Type",(0,ja.jsx)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400 font-normal",children:"(Can be changed anytime)"})]}),(0,ja.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ja.jsx)("input",{type:"checkbox",checked:b.is_business,onChange:e=>{return t=e.target.checked,void v(e=>qe(qe({},e),{},{is_business:t},!t&&{company_name:"",business_country:"",vat_number:""}));var t},disabled:!u,className:"sr-only peer"}),(0,ja.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 ".concat(u?"":"opacity-50 cursor-not-allowed")}),(0,ja.jsxs)("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)(Vn,{className:"w-3 h-3 mr-1"}),b.is_business?"Switch to Private Account":"Switch to Business Account"]})]})]}),b.is_business?(0,ja.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,ja.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ja.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg mr-3",children:(0,ja.jsx)(Xn,{className:"w-4 h-4 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Business Account Active"}),(0,ja.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Professional marketplace seller with business verification"})]})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name *"}),(0,ja.jsx)("input",{type:"text",name:"company_name",value:b.company_name,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your company name",required:b.is_business})]}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Business Country *",u&&(0,ja.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ja.jsx)("input",{type:"text",name:"business_country",value:b.business_country,onChange:e=>{const t=e.target.value;if(v(e=>qe(qe({},e),{},{business_country:t})),t.length>1){const e=I.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);S(e),P(e.length>0)}else S([]),P(!1)},onFocus:()=>b.business_country&&P(_.length>0),disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter business country",required:b.is_business}),T&&u&&(0,ja.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ja.jsx)("div",{className:"p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ja.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ja.jsx)(kn,{className:"w-4 h-4 mr-2 text-indigo-500"}),"Business Countries (",_.length,")",(0,ja.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),_.map((e,t)=>(0,ja.jsx)("div",{onClick:()=>(e=>{v(t=>qe(qe({},t),{},{business_country:e})),P(!1),S([])})(e),className:"p-3 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:e})]})},t))]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"VAT Number"}),(0,ja.jsx)("input",{type:"text",name:"vat_number",value:b.vat_number,onChange:U,disabled:!u,className:"cataloro-input ".concat(u?"":"cursor-not-allowed"),placeholder:"Enter your VAT number (optional)"})]})]})]}):(0,ja.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg mr-3",children:(0,ja.jsx)(Vn,{className:"w-4 h-4 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-100",children:"Private Account Active"}),(0,ja.jsx)("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Personal marketplace account for individual sellers"})]})]})})]})]})]}),"security"===c&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Security Settings"}),(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(xi,{className:"w-5 h-5 mr-2"}),"Change Password"]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,ja.jsx)("input",{type:g?"text":"password",name:"currentPassword",value:f.currentPassword,onChange:B,className:"cataloro-input",placeholder:"Enter current password"})]}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,ja.jsx)("input",{type:g?"text":"password",name:"newPassword",value:f.newPassword,onChange:B,className:"cataloro-input",placeholder:"Enter new password"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,ja.jsx)("input",{type:g?"text":"password",name:"confirmPassword",value:f.confirmPassword,onChange:B,className:"cataloro-input",placeholder:"Confirm new password"})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("button",{type:"button",onClick:()=>x(!g),className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[g?(0,ja.jsx)(sl,{className:"w-4 h-4"}):(0,ja.jsx)(vs,{className:"w-4 h-4"}),(0,ja.jsxs)("span",{children:[g?"Hide":"Show"," passwords"]})]}),(0,ja.jsxs)("button",{onClick:async()=>{if(f.newPassword===f.confirmPassword)if(f.newPassword.length<8)r("Password must be at least 8 characters long","error");else try{await new Promise(e=>setTimeout(e,1e3)),y({currentPassword:"",newPassword:"",confirmPassword:""}),r("Password updated successfully!","success")}catch(e){r("Failed to update password","error")}else r("New passwords do not match","error")},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ja.jsx)(il,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Update Password"})]})]})]})]}),(0,ja.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-8",children:[(0,ja.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(Sn,{className:"w-5 h-5 mr-2"}),"Two-Factor Authentication"]}),(0,ja.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Authenticator App"}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use an authenticator app to generate secure codes"})]}),(0,ja.jsx)("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Set up"})]})})]})]})]}),"preferences"===c&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Preferences"}),(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(An,{className:"w-5 h-5 mr-2"}),"Notifications"]}),(0,ja.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"smsNotifications",label:"SMS Notifications",description:"Receive notifications via SMS"},{key:"marketingEmails",label:"Marketing Emails",description:"Receive promotional content"},{key:"browserNotifications",label:"Browser Notifications",description:"Show desktop notifications"}].map(e=>(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,ja.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ja.jsx)("input",{type:"checkbox",checked:L[e.key],onChange:t=>q(e.key,t.target.checked),className:"sr-only peer"}),(0,ja.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},e.key))})]}),(0,ja.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-8",children:[(0,ja.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ja.jsx)(vs,{className:"w-5 h-5 mr-2"}),"Privacy"]}),(0,ja.jsx)("div",{className:"space-y-4",children:[{key:"publicProfile",label:"Public Profile",description:"Make your profile visible to everyone"},{key:"showEmail",label:"Show Email",description:"Display email on public profile"},{key:"showPhone",label:"Show Phone",description:"Display phone number on public profile"}].map(e=>(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,ja.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ja.jsx)("input",{type:"checkbox",checked:L[e.key],onChange:t=>q(e.key,t.target.checked),className:"sr-only peer"}),(0,ja.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},e.key))})]})]})]}),"stats"===c&&(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Account Statistics"}),(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[{label:"Total Listings",value:M.totalListings,icon:Wn,color:"blue"},{label:"Active Listings",value:M.activeListings,icon:ds,color:"green"},{label:"Total Deals",value:M.totalDeals,icon:_n,color:"purple"},{label:"Completed Deals",value:M.completedDeals,icon:Zn,color:"yellow"},{label:"Total Revenue",value:"\u20ac".concat(M.totalRevenue.toFixed(2)),icon:qn,color:"indigo"},{label:"Favorites",value:M.totalFavorites,icon:En,color:"red"}].map((e,t)=>(0,ja.jsx)("div",{className:"bg-gradient-to-r from-".concat(e.color,"-50 to-").concat(e.color,"-100 dark:from-").concat(e.color,"-900/20 dark:to-").concat(e.color,"-800/30 border border-").concat(e.color,"-200 dark:border-").concat(e.color,"-800 rounded-lg p-4"),children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("p",{className:"text-".concat(e.color,"-600 dark:text-").concat(e.color,"-400 text-sm font-medium"),children:e.label}),(0,ja.jsx)("p",{className:"text-".concat(e.color,"-900 dark:text-").concat(e.color,"-100 text-2xl font-bold"),children:e.value})]}),(0,ja.jsx)("div",{className:"p-3 bg-".concat(e.color,"-500 rounded-lg"),children:(0,ja.jsx)(e.icon,{className:"w-6 h-6 text-white"})})]})},t))}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),(0,ja.jsx)("div",{className:"space-y-4",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ja.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,ja.jsx)(Vn,{className:"w-5 h-5 text-white"})}),(0,ja.jsxs)("div",{className:"flex-1",children:[(0,ja.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Profile updated"}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Updated profile information"})]}),(0,ja.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Today"})]})})]})]})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Profile Views"}),(0,ja.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:M.profileViews})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Seller Rating"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ja.jsx)(Os,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,ja.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:b.seller_rating})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Active"}),(0,ja.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:M.lastActive})]})]})]}),(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),(0,ja.jsxs)("div",{className:"space-y-3",children:[(0,ja.jsxs)("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,ja.jsx)(gi,{className:"w-5 h-5 text-gray-400"}),(0,ja.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Export Data"})]}),(0,ja.jsxs)("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,ja.jsx)(Sn,{className:"w-5 h-5 text-gray-400"}),(0,ja.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Privacy Settings"})]}),(0,ja.jsxs)("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-red-600 dark:text-red-400",children:[(0,ja.jsx)(us,{className:"w-5 h-5"}),(0,ja.jsx)("span",{children:"Delete Account"})]})]})]})]})]})]})};const ol=function(){var e;const{userId:t}=ae(),{user:r}=Pa(),{allProducts:n}=bn(),[s,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)({totalListings:0,activeListings:0,totalSales:0,avgRating:0,responseRate:0,memberSince:"",lastActive:""}),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)({messages:[],deals:[],totalInteractions:0});return(0,a.useEffect)(()=>{t&&(async()=>{try{var e;o(!0);let s=null;try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/auth/profile/").concat(t));if(e.ok)s=await e.json(),console.log("Fetched user data:",s);else{console.log("Primary profile endpoint failed, trying user endpoint...");const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/").concat(t));if(e.ok)s=await e.json();else{console.log("Both profile endpoints failed, trying listings endpoint...");const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/listings?seller_id=").concat(t));if(e.ok){const r=await e.json();if(r.length>0&&r[0].seller){s=r[0].seller;const e=r.filter(e=>e.seller===s.username||e.seller===s.full_name||e.seller_id===t);h(e.slice(0,6))}}}}}catch(a){console.log("Backend API error:",a)}if(!s)return i(null),void o(!1);const l={id:s.id,full_name:s.full_name||s.name||"Unknown User",username:s.username||(null===(e=s.email)||void 0===e?void 0:e.split("@")[0])||"unknown",email:s.email,bio:s.bio||"".concat(s.full_name||"User"," is a marketplace member."),avatar_url:s.avatar_url||"",city:s.city||"Not specified",country:s.country||"Not specified",date_joined:s.date_joined||s.created_at||"2023-01-01",verified:s.verified||!1,is_business:s.is_business||!1,company_name:s.company_name||"",seller_rating:s.seller_rating||0,phone:s.phone||"",publicProfile:!1!==s.publicProfile,showEmail:s.showEmail||!1,showPhone:s.showPhone||!1};i(l),t!==(null===r||void 0===r?void 0:r.id)&&await(async e=>{try{const t={messages:[],deals:[]};try{const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/messages/conversations/").concat(null===r||void 0===r?void 0:r.id));if(a.ok){const r=(await a.json()).filter(t=>{var r;return(null===(r=t.participants)||void 0===r?void 0:r.some(t=>t.id===e))||t.user_id===e||t.id===e});t.messages=r.slice(0,3).map(e=>{var t,r;return{id:e.id||e.conversation_id,subject:e.subject||"Message conversation",last_message:e.last_message||(null===(t=e.messages)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.content)||"Chat conversation",created_at:e.created_at||e.last_message_at||(new Date).toISOString()}})}}catch(a){console.log("Could not fetch real messages:",a)}try{const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/my-deals/").concat(null===r||void 0===r?void 0:r.id));if(a.ok){const r=(await a.json()).filter(t=>{var r,a;return t.buyer_id===e||t.seller_id===e||(null===(r=t.buyer)||void 0===r?void 0:r.id)===e||(null===(a=t.seller)||void 0===a?void 0:a.id)===e});t.deals=r.slice(0,3).map(e=>{var t,r;return{id:e.id,item_title:(null===(t=e.listing)||void 0===t?void 0:t.title)||"Deal item",amount:e.amount||(null===(r=e.listing)||void 0===r?void 0:r.price)||0,status:e.status||"completed",date:e.approved_at||e.created_at||(new Date).toISOString()}})}}catch(a){console.log("Could not fetch real deals:",a)}p(qe(qe({},t),{},{totalInteractions:t.messages.length+t.deals.length}))}catch(a){console.error("Failed to load user interactions:",a),p({messages:[],deals:[],totalInteractions:0})}})(t);const c=n.filter(e=>e.seller===s.username||e.seller===s.full_name||e.seller_id===t);h(c.slice(0,6));let u=0,m=0,g="Active today";try{const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/user/my-deals/").concat(t));if(e.ok){const r=await e.json();u=r.filter(e=>e.seller_id===t&&"completed"===e.status).length}const r=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/messages/conversations/").concat(t));if(r.ok){const e=await r.json(),t=e.length,a=e.filter(e=>e.messages&&e.messages.length>1).length;m=t>0?Math.round(a/t*100):95}else m=95;if(c.length>0){const e=c.sort((e,t)=>new Date(t.created_at||t.date_added||0)-new Date(e.created_at||e.date_added||0))[0],t=new Date(e.created_at||e.date_added),r=Math.floor((new Date-t)/864e5);g=0===r?"Active today":1===r?"Active yesterday":r<7?"Active ".concat(r," days ago"):r<30?"Active ".concat(Math.floor(r/7)," weeks ago"):"Active over a month ago"}}catch(a){console.log("Could not fetch additional stats:",a),u=0,m=95}const x={totalListings:c.length,activeListings:c.filter(e=>!1!==e.inStock&&"active"===e.status).length,totalSales:u,avgRating:s.seller_rating||4.5,responseRate:m,memberSince:s.date_joined,lastActive:g};d(x)}catch(a){console.error("Failed to load public profile:",a)}finally{o(!1)}})()},[t,n]),l?(0,ja.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Profile..."})]})}):s&&s.publicProfile?(0,ja.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 fade-in",children:(0,ja.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ja.jsx)("div",{className:"cataloro-card-glass p-8 mb-8",children:(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-6 lg:space-y-0 lg:space-x-8",children:[(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("div",{className:"w-32 h-32 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto lg:mx-0",children:s.avatar_url?(0,ja.jsx)("img",{src:s.avatar_url,alt:"Profile",className:"w-32 h-32 rounded-full object-cover"}):(0,ja.jsx)("span",{className:"text-white font-bold text-4xl",children:(null===(e=s.full_name)||void 0===e?void 0:e.charAt(0))||"U"})}),s.verified&&(0,ja.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-green-500 rounded-full p-2",children:(0,ja.jsx)(ds,{className:"w-6 h-6 text-white"})})]}),(0,ja.jsxs)("div",{className:"flex-1 text-center lg:text-left",children:[(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:space-x-4 mb-4",children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s.username||s.full_name}),(0,ja.jsxs)("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mt-2 lg:mt-0",children:[s.verified&&(0,ja.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ja.jsx)(ds,{className:"w-4 h-4 mr-1"}),"Verified"]}),s.is_business?(0,ja.jsxs)("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ja.jsx)(Xn,{className:"w-4 h-4 mr-1"}),"Business"]}):(0,ja.jsxs)("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ja.jsx)(Vn,{className:"w-4 h-4 mr-1"}),"Private"]})]})]}),(0,ja.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2 text-lg",children:["@",s.username]}),s.is_business&&s.company_name&&(0,ja.jsx)("p",{className:"text-blue-600 dark:text-blue-400 font-medium mb-4",children:s.company_name}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-2xl",children:s.bio}),(0,ja.jsxs)("div",{className:"flex items-center justify-center lg:justify-start text-gray-600 dark:text-gray-300 mb-6",children:[(0,ja.jsx)(as,{className:"w-5 h-5 mr-2"}),(0,ja.jsxs)("span",{children:[s.city,", ",s.country]})]}),(0,ja.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[(null===r||void 0===r?void 0:r.id)!==t&&(0,ja.jsxs)("button",{onClick:()=>{window.location.href="/messages?user=".concat(t)},className:"cataloro-button-primary flex items-center justify-center",children:[(0,ja.jsx)(Cn,{className:"w-5 h-5 mr-2"}),"Send Message"]}),s.showEmail&&(0,ja.jsxs)("a",{href:"mailto:".concat(s.email),className:"cataloro-button-secondary flex items-center justify-center",children:[(0,ja.jsx)(ts,{className:"w-5 h-5 mr-2"}),"Send Email"]}),s.showPhone&&(0,ja.jsxs)("a",{href:"tel:".concat(s.phone),className:"cataloro-button-secondary flex items-center justify-center",children:[(0,ja.jsx)(rs,{className:"w-5 h-5 mr-2"}),"Call"]})]})]})]})}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ja.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(null===r||void 0===r?void 0:r.id)!==t&&m.totalInteractions>0&&(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ja.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ja.jsx)(Cn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Interactions with this user"]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[m.messages.length>0&&(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Recent Messages (",m.messages.length,")"]}),(0,ja.jsx)("div",{className:"space-y-2",children:m.messages.slice(0,3).map(e=>(0,ja.jsxs)("div",{className:"p-3 bg-blue-50/50 dark:bg-blue-900/20 rounded-lg",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.subject}),(0,ja.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e.last_message})]},e.id))})]}),m.deals.length>0&&(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Past Deals (",m.deals.length,")"]}),(0,ja.jsx)("div",{className:"space-y-2",children:m.deals.slice(0,3).map(e=>(0,ja.jsxs)("div",{className:"p-3 bg-green-50/50 dark:bg-green-900/20 rounded-lg",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.item_title}),(0,ja.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("span",{className:"text-sm font-bold text-green-600",children:["$",e.amount]}),(0,ja.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]})]},e.id))})]}),(0,ja.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m.totalInteractions}),(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Interactions"})]})})]})]}),(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Statistics"}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(Wn,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Listings"})]}),(0,ja.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:c.totalListings})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(_n,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Sales"})]}),(0,ja.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:c.totalSales})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(Os,{className:"w-5 h-5 text-yellow-500 mr-3"}),(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Rating"})]}),(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(Os,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,ja.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:c.avgRating})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(Cn,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,ja.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Response Rate"})]}),(0,ja.jsxs)("span",{className:"font-bold text-gray-900 dark:text-white",children:[c.responseRate,"%"]})]})]})]}),(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Additional Information"}),(0,ja.jsxs)("div",{className:"space-y-4",children:[s.is_business&&s.company_name&&(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(Xn,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Company"}),(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:s.company_name})]})]}),(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(Sn,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Account Status"}),(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:s.verified?"Verified Member":"Standard Member"})]})]}),(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(kn,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Profile Type"}),(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:s.is_business?"Business Account":"Personal Account"})]})]})]})]}),(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Member Info"}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(ni,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Member since"}),(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:new Date(c.memberSince).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]}),(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)(vs,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last active"}),(0,ja.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:c.lastActive})]})]})]})]})]}),(0,ja.jsx)("div",{className:"lg:col-span-2",children:(0,ja.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ja.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Recent Listings (",c.activeListings," active)"]}),u.length>6&&(0,ja.jsx)("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium",children:"View All \u2192"})]}),0===u.length?(0,ja.jsxs)("div",{className:"text-center py-12",children:[(0,ja.jsx)(Wn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ja.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Listings Yet"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This user hasn't created any listings."})]}):(0,ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((e,t)=>{var r;return(0,ja.jsx)("div",{className:"group cursor-pointer",children:(0,ja.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-4 hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 border border-gray-200/50 dark:border-gray-700/50",children:[(0,ja.jsx)("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:(0,ja.jsx)("img",{src:(null===(r=e.images)||void 0===r?void 0:r[0])||"/api/placeholder/300/200",alt:e.title,className:"w-full h-32 object-cover rounded-lg"})}),(0,ja.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.title}),(0,ja.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:["$",e.price]}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:[e.condition," \u2022 ",e.location]})]})},t)})})]})})]})]})}):(0,ja.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ja.jsxs)("div",{className:"text-center max-w-md mx-auto p-8",children:[(0,ja.jsx)("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)(Vn,{className:"w-12 h-12 text-gray-400"})}),(0,ja.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Profile Not Available"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This user's profile is private or doesn't exist."})]})})},cl=wn("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),dl=wn("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const ul=function(){const{user:e}=Pa(),{showToast:t}=Wa(),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(null),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)({recipient:"",subject:"",content:""}),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)("all"),[b,v]=(0,a.useState)(!0),[j,w]=(0,a.useState)(0),[k,N]=(0,a.useState)(!1),[_,S]=(0,a.useState)(null),[C,E]=(0,a.useState)(!1),[O,A]=(0,a.useState)([]),[T,P]=(0,a.useState)(!1),[L,R]=(0,a.useState)(!1),[M,F]=(0,a.useState)(null),[D,I]=(0,a.useState)(""),[U,q]=(0,a.useState)([]),[B,z]=(0,a.useState)(!1),[H,V]=(0,a.useState)(null),W=(0,a.useRef)(null),K=(0,a.useRef)(null),G=(0,a.useRef)({});(0,a.useEffect)(()=>{e&&J()},[e]);const J=async()=>{if(e)try{v(!0);const r=await Ga.getUserMessages(e.id),a=new Map,s=new Date(Date.now()-6048e5);r.forEach(t=>{if(new Date(t.created_at)<s)return;const r=t.sender_id===e.id?t.recipient_id:t.sender_id,n=t.sender_id===e.id?t.recipient_name:t.sender_name;a.has(r)||a.set(r,{id:r,name:n||"Unknown User",messages:[],lastMessage:null,unreadCount:0});const i=a.get(r);i.messages.push(t),(!i.lastMessage||new Date(t.created_at)>new Date(i.lastMessage.created_at))&&(i.lastMessage=t),t.is_read||t.sender_id===e.id||i.unreadCount++});const i=Array.from(a.values()).sort((e,t)=>e.lastMessage||t.lastMessage?e.lastMessage?t.lastMessage?new Date(t.lastMessage.created_at)-new Date(e.lastMessage.created_at):-1:1:0);r.length>i.reduce((e,t)=>e+t.messages.length,0)&&t("\u26a0\ufe0f Some conversations older than 7 days have been automatically removed","info"),n(i)}catch(r){console.error("Failed to load messages:",r),t("Failed to load messages","error"),n(X)}finally{v(!1)}},Y=t=>{i(t);const r=t.messages.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));o(r),t.messages.filter(t=>!t.is_read&&t.sender_id!==e.id).forEach(e=>Q(e.id))},$=async()=>{if(!u.trim()||!s)return;const r=u;try{var a,n;P(!0),await Ga.sendMessage(e.id,{recipient_id:s.id,subject:"Re: ".concat((null===(a=l[0])||void 0===a?void 0:a.subject)||"Conversation"),content:r}),h("");const t={id:"temp_".concat(Date.now()),sender_id:e.id,sender_name:(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||"You",recipient_id:s.id,subject:"Re: ".concat((null===(n=l[0])||void 0===n?void 0:n.subject)||"Conversation"),content:r,is_read:!0,created_at:(new Date).toISOString()};o(e=>[t,...e]),setTimeout(()=>J(),1e3)}catch(i){console.error("Failed to send reply:",i),t("Failed to send reply","error")}finally{P(!1)}},Q=async t=>{if(e)try{await Ga.markMessageRead(e.id,t),o(e=>e.map(e=>e.id===t?qe(qe({},e),{},{is_read:!0}):e)),n(e=>e.map(e=>qe(qe({},e),{},{messages:e.messages.map(e=>e.id===t?qe(qe({},e),{},{is_read:!0}):e),unreadCount:Math.max(0,e.unreadCount-1)})))}catch(r){console.error("Failed to mark message as read:",r)}},Z=r.filter(t=>{var r,a,n,s,i,l;const o=(null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(m.toLowerCase()))||(null===(a=t.lastMessage)||void 0===a||null===(n=a.subject)||void 0===n?void 0:n.toLowerCase().includes(m.toLowerCase()))||(null===(s=t.lastMessage)||void 0===s||null===(i=s.content)||void 0===i?void 0:i.toLowerCase().includes(m.toLowerCase())),c="all"===f||"unread"===f&&t.unreadCount>0||"sent"===f&&(null===(l=t.lastMessage)||void 0===l?void 0:l.sender_id)===(null===e||void 0===e?void 0:e.id);return o&&c}),X=[{id:"user1",conversation_id:"conv1",name:"John Seller",participants:[{id:"user1",name:"John Seller"},{id:(null===e||void 0===e?void 0:e.id)||"demo_user",name:(null===e||void 0===e?void 0:e.full_name)||"Demo User"}],messages:[{id:"1",sender_id:"user1",sender_name:"John Seller",recipient_id:(null===e||void 0===e?void 0:e.id)||"demo_user",subject:"Question about your MacBook Pro listing",content:"Hi! Is the MacBook Pro still available? I'm very interested and can pick it up today. I can offer the full asking price.",is_read:!1,created_at:new Date(Date.now()-72e5).toISOString()},{id:"4",sender_id:(null===e||void 0===e?void 0:e.id)||"demo_user",sender_name:(null===e||void 0===e?void 0:e.full_name)||"Demo User",recipient_id:"user1",subject:"Re: Question about your MacBook Pro listing",content:"Yes, it's still available! When would be a good time for you to pick it up?",is_read:!0,created_at:new Date(Date.now()-36e5).toISOString()},{id:"5",sender_id:"user1",sender_name:"John Seller",recipient_id:(null===e||void 0===e?void 0:e.id)||"demo_user",subject:"Re: Question about your MacBook Pro listing",content:"Great! When would be a good time to meet?",is_read:!0,created_at:new Date(Date.now()-18e5).toISOString()}],lastMessage:null,unreadCount:0},{id:"user2",conversation_id:"conv2",name:"Sarah Buyer",participants:[{id:"user2",name:"Sarah Buyer"},{id:(null===e||void 0===e?void 0:e.id)||"demo_user",name:(null===e||void 0===e?void 0:e.full_name)||"Demo User"}],messages:[{id:"2",sender_id:"user2",sender_name:"Sarah Buyer",recipient_id:null===e||void 0===e?void 0:e.id,subject:"Purchase inquiry",content:"Hello, I saw your vintage guitar listing. Would you consider $800? I'm a serious buyer and can meet today.",is_read:!1,created_at:new Date(Date.now()-18e5).toISOString()}],lastMessage:null,unreadCount:1}];return X.forEach(t=>{t.lastMessage=t.messages[t.messages.length-1],t.unreadCount=t.messages.filter(t=>!t.is_read&&t.sender_id!==(null===e||void 0===e?void 0:e.id)).length}),(0,ja.jsxs)("div",{className:"".concat(L?"fixed inset-0 z-50 bg-white dark:bg-gray-900":"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"),children:[(0,ja.jsxs)("div",{className:"".concat(L?"h-full":"max-w-6xl mx-auto h-[calc(80vh-2rem)]"," flex flex-col ").concat(L?"p-0":"m-4"),children:[(0,ja.jsx)("div",{className:"border-b border-white/20 p-6",children:(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,ja.jsx)(Cn,{className:"w-8 h-8 mr-3 text-blue-600"}),"Messages",r.reduce((e,t)=>e+t.unreadCount,0)>0&&(0,ja.jsxs)("span",{className:"ml-3 bg-red-500 text-white text-sm px-3 py-1 rounded-full",children:[r.reduce((e,t)=>e+t.unreadCount,0)," unread"]})]}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Communicate with buyers and sellers"})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mt-4 lg:mt-0",children:[(0,ja.jsx)("button",{onClick:()=>{R(!L)},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-xl font-medium transition-all duration-200 flex items-center shadow-lg hover:shadow-xl transform hover:scale-105",title:L?"Exit full page":"Enter full page chat",children:L?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(qi,{className:"w-5 h-5 mr-2"}),"Exit Full Page"]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(Bi,{className:"w-5 h-5 mr-2"}),"Full Page Chat"]})}),(0,ja.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[(0,ja.jsx)("option",{value:"all",children:"All Messages"}),(0,ja.jsx)("option",{value:"unread",children:"Unread"}),(0,ja.jsx)("option",{value:"sent",children:"Sent"})]})]})]})}),(0,ja.jsxs)("div",{className:"flex flex-1 min-h-0",children:[(0,ja.jsxs)("div",{className:"w-1/3 border-r border-gray-200/30 dark:border-gray-700/30",children:[(0,ja.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",placeholder:"Search conversations...",value:m,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]})}),(0,ja.jsx)("div",{className:"overflow-y-auto flex-1",children:b?(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading conversations..."})]}):0===Z.length?(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)(Cn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No conversations"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start a conversation with buyers and sellers"})]}):Z.map(t=>{var r,a,n;return(0,ja.jsx)("div",{onClick:()=>Y(t),className:"p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 ".concat((null===s||void 0===s?void 0:s.id)===t.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":""),children:(0,ja.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ja.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,ja.jsx)(Vn,{className:"w-6 h-6 text-white"})}),(0,ja.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ja.jsx)("p",{className:"text-sm font-medium ".concat(t.unreadCount>0?"text-gray-900 dark:text-white font-bold":"text-gray-700 dark:text-gray-300"),children:t.name}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[t.unreadCount>0&&(0,ja.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:t.unreadCount}),(0,ja.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.lastMessage?new Date(t.lastMessage.created_at).toLocaleDateString():""})]})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",onClick:e=>{e.stopPropagation(),t.lastMessage&&(Y(t),setTimeout(()=>(e=>{const t=G.current[e];t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),F(e),setTimeout(()=>{F(null)},3e3))})(t.lastMessage.id),100))},title:"Click to scroll to this message",children:(null===(r=t.lastMessage)||void 0===r?void 0:r.subject)||"No subject"}),(0,ja.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 truncate",children:[(null===(a=t.lastMessage)||void 0===a?void 0:a.sender_id)===(null===e||void 0===e?void 0:e.id)?"You: ":"",(null===(n=t.lastMessage)||void 0===n?void 0:n.content)||"No messages yet"]})]})]})},t.id)})})]}),(0,ja.jsx)("div",{className:"flex-1 flex flex-col",children:s?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"p-4 border-b border-gray-200/30 dark:border-gray-700/30 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:(0,ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,ja.jsx)(Vn,{className:"w-5 h-5 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s.name}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.length," messages"]})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this conversation? This action cannot be undone."))try{n(r.filter(t=>t.conversation_id!==e)),(null===s||void 0===s?void 0:s.conversation_id)===e&&(i(null),o([])),t("Conversation deleted successfully","success")}catch(a){console.error("Failed to delete conversation:",a),t("Failed to delete conversation","error")}})(s.conversation_id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete conversation",children:(0,ja.jsx)(Dn,{className:"w-5 h-5"})}),(0,ja.jsx)("button",{onClick:()=>{var t,r;const a=(null===(t=s.participants)||void 0===t||null===(r=t.find(t=>t.id!==(null===e||void 0===e?void 0:e.id)))||void 0===r?void 0:r.id)||"unknown";window.location.href="/profile/".concat(a)},className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"View user profile",children:(0,ja.jsx)(Vn,{className:"w-5 h-5"})})]})]})}),(0,ja.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-3 bg-gradient-to-b from-gray-50/30 to-white/50 dark:from-gray-900/30 dark:to-gray-800/50",children:[l.slice().reverse().map((r,a,n)=>{const s=r.sender_id===(null===e||void 0===e?void 0:e.id),i=0===a||n[a-1].sender_id!==r.sender_id,c=M===r.id;return(0,ja.jsx)("div",{ref:e=>G.current[r.id]=e,className:"flex ".concat(s?"justify-end":"justify-start"," ").concat(i?"mt-4":"mt-2"," ").concat(c?"animate-pulse":""),children:(0,ja.jsxs)("div",{className:"flex space-x-3 max-w-xs lg:max-w-md ".concat(s?"flex-row-reverse space-x-reverse":""),children:[i&&(0,ja.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ".concat(s?"bg-blue-600":"bg-gray-600"),children:(s?(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||"You":r.sender_name||"U").charAt(0)}),(0,ja.jsxs)("div",{className:"".concat(i?"":s?"mr-11":"ml-11"),children:[(0,ja.jsxs)("div",{className:"group relative px-4 py-3 rounded-2xl transition-all duration-300 ".concat(c?"ring-2 ring-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":s?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600"),children:[(0,ja.jsx)("button",{onClick:e=>{e.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{o(l.filter(t=>t.id!==e)),t("Message deleted successfully","success")}catch(r){console.error("Failed to delete message:",r),t("Failed to delete message","error")}})(r.id)},className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 p-1 rounded-full transition-all duration-200 hover:scale-110 ".concat(s?"bg-red-500/20 text-red-200 hover:bg-red-500/30":"bg-red-500/10 text-red-600 hover:bg-red-500/20"),title:"Delete message",children:(0,ja.jsx)(Dn,{className:"w-3 h-3"})}),(0,ja.jsx)("p",{className:"text-sm whitespace-pre-wrap pr-6",children:r.content})]}),(0,ja.jsxs)("div",{className:"flex items-center mt-1 space-x-2 text-xs text-gray-500 dark:text-gray-400 ".concat(s?"justify-end":"justify-start"),children:[(0,ja.jsx)("span",{children:new Date(r.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),s&&(r.is_read?(0,ja.jsx)(Un,{className:"w-3 h-3 text-blue-500"}):(0,ja.jsx)(Mn,{className:"w-3 h-3"}))]})]})]})},r.id)}),(0,ja.jsx)("div",{ref:W})]}),(0,ja.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl",children:(0,ja.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,ja.jsxs)("div",{className:"flex-1 relative",children:[(0,ja.jsx)("textarea",{ref:K,value:u,onChange:e=>{var t;h(e.target.value),(t=e.target).style.height="auto",t.style.height=Math.min(t.scrollHeight,120)+"px"},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),$())},placeholder:"Type your message... (Press Enter to send, Shift+Enter for new line)",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none min-h-[3rem] max-h-[8rem]",rows:"1"}),(0,ja.jsx)("button",{className:"absolute right-3 bottom-3 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,ja.jsx)(cl,{className:"w-5 h-5"})})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("button",{className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,ja.jsx)(dl,{className:"w-5 h-5"})}),(0,ja.jsx)("button",{onClick:$,disabled:!u.trim()||T,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 disabled:scale-100",children:T?(0,ja.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,ja.jsx)(bs,{className:"w-5 h-5"})})]})]})})]}):(0,ja.jsx)("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)(Cn,{className:"w-20 h-20 text-gray-400 mx-auto mb-4"}),(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Select a conversation"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose a conversation from the list to start messaging"})]})})})]})]}),k&&_&&(0,ja.jsxs)("div",{className:"fixed top-4 right-4 z-[10000] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl p-4 max-w-sm animate-slide-in-right",children:[(0,ja.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,ja.jsx)(Cn,{className:"w-4 h-4 text-white"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["New message from ",_.sender]}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:_.timestamp.toLocaleTimeString()})]})]}),(0,ja.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ja.jsx)(Fn,{className:"w-4 h-4"})})]}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:_.content}),(0,ja.jsxs)("div",{className:"flex space-x-2",children:[(0,ja.jsx)("button",{onClick:()=>{N(!1);const e=r.find(e=>e.name===_.sender);e&&Y(e)},className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md text-xs hover:bg-blue-700 transition-colors",children:"Reply"}),(0,ja.jsx)("button",{onClick:()=>N(!1),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md text-xs hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Dismiss"})]})]})]})},hl=wn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const ml=function(){const[e,t]=(0,a.useState)({email:"",password:""}),[r,n]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1);a.useEffect(()=>{const e=localStorage.getItem("cataloro_token"),t=localStorage.getItem("cataloro_user");if(e&&t)try{d(JSON.parse(t))}catch(Ol){localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}},[]);const m=r=>{t(qe(qe({},e),{},{[r.target.name]:r.target.value})),o(null)},p=async function(){const e={email:"admin"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user")?"admin@cataloro.com":"user@cataloro.com",password:"demo123"};t(e),i(!0),h(!0),o(null);try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Demo login failed: ".concat(t.status));const r=await t.json();localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),window.location.href="/browse"}catch(l){o("Demo login failed: ".concat(l.message))}finally{i(!1),h(!1)}},g=()=>{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),d(null),t({email:"",password:""}),alert("\u2705 Logged out successfully!")};var x,f,y;return c?(0,ja.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,ja.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-400/20 via-purple-400/20 to-pink-400/20 animate-pulse"}),(0,ja.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full",children:[(0,ja.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-blue-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),(0,ja.jsx)("div",{className:"absolute top-40 right-20 w-72 h-72 bg-purple-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),(0,ja.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]})]}),(0,ja.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:(0,ja.jsxs)("div",{className:"w-full max-w-md",children:[(0,ja.jsxs)("div",{className:"text-center mb-10",children:[(0,ja.jsx)("div",{className:"relative mb-6",children:(0,ja.jsxs)("div",{className:"w-20 h-20 mx-auto relative",children:[(0,ja.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 p-1",children:(0,ja.jsx)("div",{className:"w-full h-full rounded-3xl bg-white/10 backdrop-blur-xl flex items-center justify-center group",children:(0,ja.jsx)(Nn,{className:"w-10 h-10 text-white drop-shadow-lg group-hover:scale-110 transition-transform duration-300"})})}),(0,ja.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 blur-lg opacity-50 animate-pulse"}),(0,ja.jsx)(hl,{className:"absolute -top-2 -right-2 w-6 h-6 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})]})}),(0,ja.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 dark:from-white dark:via-blue-100 dark:to-purple-100",children:"Welcome Back!"}),(0,ja.jsxs)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:["You are logged in to ",(0,ja.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:ya.APP_NAME})]})]}),(0,ja.jsx)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30",children:(0,ja.jsxs)("div",{className:"text-center space-y-6",children:[(0,ja.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto shadow-xl",children:(0,ja.jsx)("span",{className:"text-white font-bold text-2xl",children:(null===(x=c.full_name)||void 0===x?void 0:x.charAt(0))||(null===(f=c.username)||void 0===f?void 0:f.charAt(0))||"U"})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.full_name}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:c.email}),(0,ja.jsx)("span",{className:"inline-block mt-2 px-4 py-1 rounded-full text-sm font-bold ".concat("admin"===c.role?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white"),children:null===(y=c.role)||void 0===y?void 0:y.toUpperCase()})]}),(0,ja.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,ja.jsxs)("button",{onClick:()=>window.location.href="/browse",className:"w-full h-14 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold text-lg hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl group overflow-hidden",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ja.jsxs)("div",{className:"relative flex items-center justify-center space-x-2",children:[(0,ja.jsx)("span",{children:"Go to Marketplace"}),(0,ja.jsx)(Ts,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,ja.jsx)("button",{onClick:g,className:"w-full h-12 rounded-xl bg-white/20 dark:bg-white/10 backdrop-blur-sm border border-white/30 text-gray-700 dark:text-gray-200 font-semibold hover:bg-white/30 dark:hover:bg-white/20 transition-all duration-300 group flex items-center justify-center space-x-3",children:(0,ja.jsx)("span",{children:"Logout"})})]}),(0,ja.jsx)("div",{className:"mt-6 text-center",children:(0,ja.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,ja.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ja.jsx)("span",{children:"Authentication: Working"})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ja.jsx)("span",{children:"Backend API: Connected"})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ja.jsx)("span",{children:"User Session: Active"})]})]})})]})})]})})]}):(0,ja.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,ja.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-400/20 via-purple-400/20 to-pink-400/20 animate-pulse"}),(0,ja.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full",children:[(0,ja.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-blue-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),(0,ja.jsx)("div",{className:"absolute top-40 right-20 w-72 h-72 bg-purple-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),(0,ja.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]})]}),(0,ja.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,ja.jsx)("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-blue-400 rounded-full animate-ping"}),(0,ja.jsx)("div",{className:"absolute top-3/4 right-1/4 w-1 h-1 bg-purple-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),(0,ja.jsx)("div",{className:"absolute top-1/2 left-3/4 w-1.5 h-1.5 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"2s"}})]}),(0,ja.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:(0,ja.jsxs)("div",{className:"w-full max-w-md",children:[(0,ja.jsxs)("div",{className:"text-center mb-10",children:[(0,ja.jsx)("div",{className:"relative mb-6",children:(0,ja.jsxs)("div",{className:"w-20 h-20 mx-auto relative",children:[(0,ja.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 p-1",children:(0,ja.jsx)("div",{className:"w-full h-full rounded-3xl bg-white/10 backdrop-blur-xl flex items-center justify-center group",children:(0,ja.jsx)(Nn,{className:"w-10 h-10 text-white drop-shadow-lg group-hover:scale-110 transition-transform duration-300"})})}),(0,ja.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 blur-lg opacity-50 animate-pulse"}),(0,ja.jsx)(hl,{className:"absolute -top-2 -right-2 w-6 h-6 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})]})}),(0,ja.jsxs)("div",{className:"space-y-3",children:[(0,ja.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 dark:from-white dark:via-blue-100 dark:to-purple-100",children:"Welcome Back"}),(0,ja.jsxs)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:["Sign in to ",(0,ja.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:ya.APP_NAME})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ja.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ja.jsx)("span",{children:"Secure Login"})]}),(0,ja.jsx)("span",{children:"\u2022"}),(0,ja.jsx)("span",{children:"Ultra-Modern Marketplace"})]})]})]}),(0,ja.jsxs)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30",children:[(0,ja.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),h(!0),o(null);try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(!t.ok)throw new Error("Login failed: ".concat(t.status));const r=await t.json();localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),window.location.href="/browse"}catch(l){o(l.message||"Login failed. Please check your credentials."),console.error("Login error:",l)}finally{i(!1),h(!1)}},className:"space-y-6",children:[l&&(0,ja.jsx)("div",{className:"bg-red-500/10 border border-red-300/30 text-red-700 dark:text-red-300 px-5 py-4 rounded-2xl backdrop-blur-sm animate-pulse",children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,ja.jsx)("span",{className:"font-medium",children:l})]})}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Email Address"}),(0,ja.jsxs)("div",{className:"relative group",children:[(0,ja.jsx)(ts,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 w-5 h-5 transition-colors duration-200"}),(0,ja.jsx)("input",{type:"email",name:"email",required:!0,value:e.email,onChange:m,className:"cataloro-input pl-12 h-14 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50",placeholder:"Enter your email address"}),(0,ja.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),(0,ja.jsxs)("div",{className:"space-y-2",children:[(0,ja.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Password"}),(0,ja.jsxs)("div",{className:"relative group",children:[(0,ja.jsx)(xi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 w-5 h-5 transition-colors duration-200"}),(0,ja.jsx)("input",{type:r?"text":"password",name:"password",required:!0,value:e.password,onChange:m,className:"cataloro-input pl-12 pr-12 h-14 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50",placeholder:"Enter your password"}),(0,ja.jsx)("button",{type:"button",onClick:()=>n(!r),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:r?(0,ja.jsx)(sl,{className:"w-5 h-5"}):(0,ja.jsx)(vs,{className:"w-5 h-5"})}),(0,ja.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),(0,ja.jsxs)("button",{type:"submit",disabled:s||u,className:"w-full relative h-14 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold text-lg hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl group overflow-hidden",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ja.jsx)("div",{className:"relative flex items-center justify-center space-x-2",children:s||u?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Signing You In..."})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("span",{children:"Sign In"}),(0,ja.jsx)(Ts,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})})]})]}),(0,ja.jsxs)("div",{className:"mt-8 pt-6 border-t border-white/20",children:[(0,ja.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 text-center mb-6",children:(0,ja.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,ja.jsx)(hl,{className:"w-4 h-4 text-yellow-500"}),(0,ja.jsx)("span",{children:"Try the premium demo experience"}),(0,ja.jsx)(hl,{className:"w-4 h-4 text-yellow-500"})]})}),(0,ja.jsxs)("div",{className:"space-y-3",children:[(0,ja.jsxs)("button",{onClick:()=>p("user"),disabled:s||u,className:"w-full h-12 rounded-xl bg-white/20 dark:bg-white/10 backdrop-blur-sm border border-white/30 text-gray-700 dark:text-gray-200 font-semibold hover:bg-white/30 dark:hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 group flex items-center justify-center space-x-3",children:[(0,ja.jsx)(Vn,{className:"w-5 h-5 text-blue-500"}),(0,ja.jsx)("span",{children:"Demo User Experience"}),(0,ja.jsx)(Ts,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]}),(0,ja.jsxs)("button",{onClick:()=>p("admin"),disabled:s||u,className:"w-full h-12 rounded-xl bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm border border-purple-300/30 text-purple-700 dark:text-purple-300 font-semibold hover:from-purple-500/30 hover:to-pink-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 group flex items-center justify-center space-x-3",children:[(0,ja.jsx)(Sn,{className:"w-5 h-5 text-purple-500"}),(0,ja.jsx)("span",{children:"Demo Admin Panel"}),(0,ja.jsx)(Ts,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]})]}),(0,ja.jsx)("div",{className:"mt-8 text-center",children:(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["New to ",ya.APP_NAME,"?"," ",(0,ja.jsx)(Pe,{to:"/register",className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all duration-300",children:"Create your account \u2192"})]})})]})]})})]})},pl=wn("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const gl=function(){const[e,t]=(0,a.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirmPassword:"",is_business:!1,company_name:"",country:"",vat_number:""}),[r,n]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),{register:u,isAuthenticated:h,isLoading:m,error:p,clearError:g}=Pa(),x=te();(0,a.useEffect)(()=>{h&&x(fa.BROWSE)},[h,x]),(0,a.useEffect)(()=>()=>g(),[g]);const f=r=>{const{name:a,value:n,type:s,checked:i}=r.target;t(qe(qe({},e),{},{[a]:"checkbox"===s?i:n})),g(),"username"===a&&n.length>=3?y(n):"username"===a&&o(null)},y=async e=>{d(!0);try{const t=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/auth/check-username/").concat(e));if(t.ok){const e=await t.json();o(e.available)}else o(null)}catch(p){console.error("Error checking username:",p),o(null)}finally{d(!1)}},b=()=>{if(!e.first_name.trim())return"First name is required";if(!e.last_name.trim())return"Last name is required";if(!e.username.trim())return"Username is required";if(e.username.length<3)return"Username must be at least 3 characters";if(!1===l)return"Username is not available";if(!e.email.trim())return"Email is required";if(e.password!==e.confirmPassword)return"Passwords do not match";if(e.password.length<6)return"Password must be at least 6 characters";if(e.is_business){if(!e.company_name.trim())return"Company name is required for business accounts";if(!e.country.trim())return"Country is required for business accounts"}return null},v=b();return(0,ja.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,ja.jsxs)("div",{className:"max-w-md w-full",children:[(0,ja.jsxs)("div",{className:"text-center mb-8",children:[(0,ja.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,ja.jsx)("span",{className:"text-white font-bold text-2xl",children:"C"})}),(0,ja.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Join ",ya.APP_NAME]}),(0,ja.jsx)("p",{className:"text-gray-600",children:"Create your marketplace account"})]}),(0,ja.jsxs)("div",{className:"cataloro-card p-8",children:[(0,ja.jsxs)("form",{onSubmit:async t=>{t.preventDefault();if(!b())try{await u({username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,full_name:"".concat(e.first_name," ").concat(e.last_name).trim(),password:e.password,is_business:e.is_business,company_name:e.is_business?e.company_name:"",country:e.is_business?e.country:"",vat_number:e.is_business?e.vat_number:""}),x(fa.BROWSE)}catch(p){console.error("Registration failed:",p)}},className:"space-y-6",children:[(p||v)&&(0,ja.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p||v}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",name:"first_name",required:!0,value:e.first_name,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your first name"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",name:"last_name",required:!0,value:e.last_name,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your last name"})]})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",name:"username",required:!0,value:e.username,onChange:f,className:"cataloro-input pl-10 pr-10",placeholder:"Choose a username"}),e.username.length>=3&&(0,ja.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:c?(0,ja.jsx)(us,{className:"w-5 h-5 text-gray-400 animate-spin"}):!0===l?(0,ja.jsx)(Mn,{className:"w-5 h-5 text-green-500"}):!1===l?(0,ja.jsx)(Fn,{className:"w-5 h-5 text-red-500"}):null})]}),e.username.length>=3&&null!==l&&(0,ja.jsx)("div",{className:"mt-1 text-sm ".concat(l?"text-green-600":"text-red-600"),children:l?"Username is available":"Username is not available"})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:"email",name:"email",required:!0,value:e.email,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your email"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:r?"text":"password",name:"password",required:!0,value:e.password,onChange:f,className:"cataloro-input pl-10 pr-10",placeholder:"Create a password"}),(0,ja.jsx)("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?(0,ja.jsx)(sl,{className:"w-5 h-5"}):(0,ja.jsx)(vs,{className:"w-5 h-5"})})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:s?"text":"password",name:"confirmPassword",required:!0,value:e.confirmPassword,onChange:f,className:"cataloro-input pl-10 pr-10",placeholder:"Confirm your password"}),(0,ja.jsx)("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?(0,ja.jsx)(sl,{className:"w-5 h-5"}):(0,ja.jsx)(vs,{className:"w-5 h-5"})})]})]}),(0,ja.jsxs)("div",{className:"space-y-4",children:[(0,ja.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ja.jsx)("input",{type:"checkbox",id:"is_business",name:"is_business",checked:e.is_business,onChange:f,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,ja.jsxs)("label",{htmlFor:"is_business",className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ja.jsx)(pl,{className:"w-4 h-4 mr-2 text-blue-600"}),"Register as Business"]})]}),(0,ja.jsx)("p",{className:"text-xs text-gray-500 ml-7 mt-1",children:"Check this box if you're registering for your company or business"})]}),e.is_business&&(0,ja.jsxs)("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,ja.jsxs)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 flex items-center",children:[(0,ja.jsx)(pl,{className:"w-4 h-4 mr-2"}),"Business Information"]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",name:"company_name",required:e.is_business,value:e.company_name,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your company name"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",name:"country",required:e.is_business,value:e.country,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your country"})]})]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["VAT Number",(0,ja.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Optional)"})]}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)(pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ja.jsx)("input",{type:"text",name:"vat_number",value:e.vat_number,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your VAT number (if applicable)"})]})]})]})]}),(0,ja.jsx)("button",{type:"submit",disabled:m||v,className:"w-full cataloro-button-primary disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,ja.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ja.jsx)("div",{className:"spinner mr-2"}),"Creating Account..."]}):"Create Account"})]}),(0,ja.jsx)("div",{className:"mt-6 text-center",children:(0,ja.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,ja.jsx)(Pe,{to:fa.LOGIN,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})})]})]})})},xl=wn("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),fl=wn("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),yl=wn("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),bl={users:hi,package:Wn,trending:qn,star:Os,zap:Qs,target:Ei,store:Nn,"shopping-cart":Rn,"message-circle":Cn,settings:Xn,shield:Sn,search:$n,heart:En,bell:An,"bar-chart":Qn,award:Zn,lightbulb:xl,rocket:fl,clock:In},vl={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",yellow:"from-yellow-500 to-yellow-600",red:"from-red-500 to-red-600",pink:"from-pink-500 to-pink-600","blue-purple":"from-blue-500 to-purple-600","green-teal":"from-green-500 to-teal-600","orange-red":"from-orange-500 to-red-600","purple-pink":"from-purple-500 to-pink-600"};const jl=function(){const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null);if((0,a.useEffect)(()=>{(async()=>{try{n(!0);const e=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/admin/content"));if(!e.ok)throw new Error("Failed to load content");{const r=await e.json();if(t(r),r.seo){document.title=r.seo.title||"Cataloro - Ultra-Modern Marketplace Platform";let e=document.querySelector('meta[name="description"]');e||(e=document.createElement("meta"),e.name="description",document.head.appendChild(e)),e.content=r.seo.description||"Experience the future of online commerce";let t=document.querySelector('meta[name="keywords"]');if(t||(t=document.createElement("meta"),t.name="keywords",document.head.appendChild(t)),t.content=Array.isArray(r.seo.keywords)?r.seo.keywords.join(", "):r.seo.keywords||"",r.seo.ogImage){let e=document.querySelector('meta[property="og:image"]');e||(e=document.createElement("meta"),e.setAttribute("property","og:image"),document.head.appendChild(e)),e.content=r.seo.ogImage}}}}catch(s){console.error("Error loading CMS content:",s),i(s.message)}finally{n(!1)}})()},[]),r)return(0,ja.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)(ei,{className:"w-12 h-12 text-purple-400 animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-lg text-white",children:"Loading content..."})]})});if(s)return(0,ja.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ja.jsx)(Sn,{className:"w-8 h-8 text-red-400"})}),(0,ja.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Content Loading Error"}),(0,ja.jsx)("p",{className:"text-gray-300 mb-4",children:"Unable to load page content from CMS"}),(0,ja.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors",children:"Retry"})]})});const l={hero:(null===e||void 0===e?void 0:e.hero)||{title:"Cataloro",subtitle:"The Future of Online Marketplace",description:"Experience next-generation commerce with our ultra-modern platform featuring intelligent matching, real-time communication, and seamless transactions.",primaryButtonText:"Start Trading Now",primaryButtonLink:"/login",secondaryButtonText:"Explore Features",secondaryButtonLink:"/browse",backgroundImage:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center",heroImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center",showHeroImage:!0,heroImagePosition:"right",showVideo:!1,videoUrl:"https://player.vimeo.com/video/123456789"},stats:(null===e||void 0===e?void 0:e.stats)||[{label:"Active Users",value:"25K+",icon:"users",color:"blue"},{label:"Products Listed",value:"150K+",icon:"package",color:"green"},{label:"Successful Deals",value:"75K+",icon:"trending",color:"purple"},{label:"User Satisfaction",value:"4.9\u2605",icon:"star",color:"yellow"}],features:(null===e||void 0===e?void 0:e.features)||{title:"Advanced Platform Features",description:"Discover the comprehensive suite of tools that make Cataloro the most advanced marketplace platform.",backgroundImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=1080&fit=crop&crop=center",categories:[]},testimonials:(null===e||void 0===e?void 0:e.testimonials)||{enabled:!0,title:"What Our Users Say",description:"Join thousands of satisfied users who trust Cataloro for their marketplace needs.",backgroundImage:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1920&h=1080&fit=crop&crop=center",items:[]},about:(null===e||void 0===e?void 0:e.about)||{enabled:!0,title:"About Cataloro",subtitle:"Revolutionizing Digital Commerce",description:"Founded with the vision to transform online trading, we combine cutting-edge technology with user-centric design to create the ultimate marketplace experience.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center",features:["AI-Powered Matching","Real-time Communication","Advanced Security","Global Reach"]},team:(null===e||void 0===e?void 0:e.team)||{enabled:!0,title:"Meet Our Team",description:"Passionate experts dedicated to revolutionizing digital commerce.",backgroundImage:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&h=1080&fit=crop&crop=center",members:[]},cta:(null===e||void 0===e?void 0:e.cta)||{title:"Ready to Transform Your Trading?",description:"Join thousands of users experiencing the future of online commerce.",primaryButtonText:"Start Your Journey",primaryButtonLink:"/login",secondaryButtonText:"Explore Platform",secondaryButtonLink:"/browse",backgroundImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center"}};return(0,ja.jsxs)("div",{className:"min-h-screen",children:[(0,ja.jsxs)("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(l.hero.backgroundImage,")"),filter:"brightness(0.4)"}}),(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-purple-900/50 to-black/70"}),(0,ja.jsx)("div",{className:"absolute inset-0",children:[...Array(20)].map((e,t)=>(0,ja.jsx)("div",{className:"absolute w-2 h-2 bg-white/20 rounded-full animate-pulse",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(3+4*Math.random(),"s")}},t))}),(0,ja.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[(0,ja.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[80vh]",children:[(0,ja.jsx)("div",{className:"".concat("left"===l.hero.heroImagePosition?"lg:order-2":"lg:order-1"," text-center lg:text-left"),children:(0,ja.jsxs)("div",{className:"mb-8",children:[(0,ja.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-white/10 backdrop-blur-md rounded-full px-6 py-3 mb-6",children:[(0,ja.jsx)(hl,{className:"w-5 h-5 text-yellow-400"}),(0,ja.jsx)("span",{className:"text-white font-medium",children:"The Future is Here"})]}),(0,ja.jsx)("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white via-purple-200 to-pink-200 mb-6 leading-tight",children:l.hero.title}),(0,ja.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-purple-200 mb-8",children:l.hero.subtitle}),(0,ja.jsx)("p",{className:"text-lg md:text-xl text-gray-300 mb-12 leading-relaxed max-w-2xl mx-auto lg:mx-0",children:l.hero.description}),(0,ja.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center lg:justify-start",children:[(0,ja.jsxs)(Pe,{to:l.hero.primaryButtonLink,className:"group relative px-10 py-5 rounded-2xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-purple-500/25",children:[(0,ja.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ja.jsxs)("div",{className:"relative flex items-center justify-center space-x-3",children:[(0,ja.jsx)("span",{children:l.hero.primaryButtonText}),(0,ja.jsx)(Ts,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,ja.jsx)(Pe,{to:l.hero.secondaryButtonLink,className:"group px-10 py-5 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-lg hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:(0,ja.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,ja.jsx)(Pi,{className:"w-6 h-6"}),(0,ja.jsx)("span",{children:l.hero.secondaryButtonText})]})})]})]})}),l.hero.showHeroImage&&l.hero.heroImage&&(0,ja.jsx)("div",{className:"".concat("left"===l.hero.heroImagePosition?"lg:order-1":"lg:order-2"," relative"),children:(0,ja.jsxs)("div",{className:"relative group",children:[(0,ja.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-500"}),(0,ja.jsxs)("div",{className:"relative bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl",children:[(0,ja.jsx)("img",{src:l.hero.heroImage,alt:"Hero",className:"w-full h-auto max-h-96 object-contain rounded-2xl transform group-hover:scale-105 transition-transform duration-500"}),(0,ja.jsx)("div",{className:"absolute -top-6 -right-6 w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-xl animate-bounce",children:(0,ja.jsx)(fl,{className:"w-6 h-6 text-white"})}),(0,ja.jsx)("div",{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-xl",children:(0,ja.jsx)(Qs,{className:"w-8 h-8 text-white"})}),(0,ja.jsx)("div",{className:"absolute top-1/2 -right-8 w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:(0,ja.jsx)(Os,{className:"w-5 h-5 text-white"})})]})]})})]}),(0,ja.jsx)("div",{className:"flex justify-center mt-16",children:(0,ja.jsx)("div",{className:"animate-bounce",children:(0,ja.jsx)("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:(0,ja.jsx)("div",{className:"w-1 h-3 bg-white rounded-full mt-2 animate-pulse"})})})})]})]}),(0,ja.jsxs)("section",{className:"relative py-20 bg-white overflow-hidden",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-white"}),(0,ja.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:(0,ja.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:l.stats.map((e,t)=>{const r=bl[e.icon]||Os,a=vl[e.color]||"from-purple-500 to-pink-600";return(0,ja.jsxs)("div",{className:"group text-center",children:[(0,ja.jsx)("div",{className:"relative mb-6",children:(0,ja.jsx)("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br ".concat(a," flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-500 transform group-hover:scale-110 group-hover:-rotate-6"),children:(0,ja.jsx)(r,{className:"w-10 h-10 text-white"})})}),(0,ja.jsx)("div",{className:"text-4xl font-black text-gray-900 mb-2 group-hover:text-purple-600 transition-colors duration-300",children:e.value}),(0,ja.jsx)("div",{className:"text-lg font-semibold text-gray-600 group-hover:text-gray-900 transition-colors duration-300",children:e.label})]},t)})})})]}),l.about.enabled&&(0,ja.jsx)("section",{className:"py-20 bg-gradient-to-br from-slate-900 to-purple-900",children:(0,ja.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,ja.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-purple-500/20 rounded-full px-4 py-2 mb-6",children:[(0,ja.jsx)(Zn,{className:"w-5 h-5 text-purple-400"}),(0,ja.jsx)("span",{className:"text-purple-300 font-medium",children:"About Us"})]}),(0,ja.jsx)("h2",{className:"text-5xl font-black text-white mb-6",children:l.about.title}),(0,ja.jsx)("h3",{className:"text-2xl font-bold text-purple-300 mb-8",children:l.about.subtitle}),(0,ja.jsx)("p",{className:"text-xl text-gray-300 leading-relaxed mb-8",children:l.about.description})]}),(0,ja.jsx)("div",{className:"grid grid-cols-2 gap-6",children:l.about.features.map((e,t)=>(0,ja.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-xl bg-white/5 backdrop-blur-sm",children:[(0,ja.jsx)(ds,{className:"w-6 h-6 text-green-400 flex-shrink-0"}),(0,ja.jsx)("span",{className:"text-white font-medium",children:e})]},t))})]}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsxs)("div",{className:"relative overflow-hidden rounded-3xl shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-500",children:[(0,ja.jsx)("img",{src:l.about.image,alt:"About Cataloro",className:"w-full h-96 object-cover"}),(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/50 to-transparent"})]}),(0,ja.jsx)("div",{className:"absolute -top-6 -right-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl p-4 shadow-xl",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"text-2xl font-black text-white",children:"4.9\u2605"}),(0,ja.jsx)("div",{className:"text-sm text-white font-medium",children:"Rating"})]})})]})]})})}),(0,ja.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(l.features.backgroundImage,")"),filter:"brightness(0.1)"}}),(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-purple-900/70 to-black/80"}),(0,ja.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[(0,ja.jsxs)("div",{className:"text-center mb-16",children:[(0,ja.jsx)("h2",{className:"text-5xl font-black text-white mb-8",children:l.features.title}),(0,ja.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:l.features.description})]}),l.features.categories&&l.features.categories.length>0&&(0,ja.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.features.categories.slice(0,6).map((e,t)=>{const r=bl[e.icon]||Xn,a=vl[e.color]||"from-purple-500 to-pink-600";return(0,ja.jsx)("div",{className:"group",children:(0,ja.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 hover:bg-white/20 transition-all duration-500 transform hover:scale-105 hover:-translate-y-2",children:[(0,ja.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br ".concat(a," flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300"),children:(0,ja.jsx)(r,{className:"w-8 h-8 text-white"})}),(0,ja.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:e.name}),(0,ja.jsx)("p",{className:"text-gray-300 mb-6",children:e.description}),e.features&&e.features.slice(0,3).map((e,t)=>(0,ja.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,ja.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,ja.jsx)("span",{className:"text-gray-300 text-sm",children:e})]},t))]})},t)})})]})]}),l.testimonials.enabled&&l.testimonials.items&&l.testimonials.items.length>0&&(0,ja.jsx)("section",{className:"relative py-24 bg-gradient-to-br from-white to-gray-100",children:(0,ja.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,ja.jsxs)("div",{className:"text-center mb-16",children:[(0,ja.jsx)("h2",{className:"text-5xl font-black text-gray-900 mb-8",children:l.testimonials.title}),(0,ja.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:l.testimonials.description})]}),(0,ja.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:l.testimonials.items.slice(0,3).map((e,t)=>(0,ja.jsx)("div",{className:"group",children:(0,ja.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:scale-105 border-l-4 border-purple-500",children:[(0,ja.jsx)("div",{className:"mb-6",children:(0,ja.jsx)(yl,{className:"w-12 h-12 text-purple-500 opacity-50"})}),(0,ja.jsxs)("p",{className:"text-gray-700 text-lg mb-8 italic",children:['"',e.content,'"']}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,ja.jsx)("span",{className:"text-white font-bold text-lg",children:e.name.charAt(0)})}),(0,ja.jsxs)("div",{children:[(0,ja.jsx)("div",{className:"font-bold text-gray-900",children:e.name}),(0,ja.jsx)("div",{className:"text-gray-600",children:e.role}),(0,ja.jsx)("div",{className:"flex items-center mt-1",children:[...Array(5)].map((t,r)=>(0,ja.jsx)(Os,{className:"w-4 h-4 ".concat(r<e.rating?"text-yellow-400 fill-current":"text-gray-300")},r))})]})]})]})},t))})]})}),(0,ja.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,ja.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(l.cta.backgroundImage,")"),filter:"brightness(0.3)"}}),(0,ja.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/90 via-pink-900/70 to-purple-900/90"}),(0,ja.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[(0,ja.jsx)("h2",{className:"text-6xl font-black text-white mb-8",children:l.cta.title}),(0,ja.jsx)("p",{className:"text-2xl text-gray-300 mb-12 leading-relaxed",children:l.cta.description}),(0,ja.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[(0,ja.jsxs)(Pe,{to:l.cta.primaryButtonLink,className:"group relative px-12 py-6 rounded-2xl bg-gradient-to-r from-white to-gray-100 text-gray-900 font-bold text-xl hover:from-gray-100 hover:to-white transition-all duration-300 transform hover:scale-105 shadow-2xl",children:[(0,ja.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-purple-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ja.jsxs)("div",{className:"relative flex items-center justify-center space-x-3",children:[(0,ja.jsx)("span",{children:l.cta.primaryButtonText}),(0,ja.jsx)(Ts,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,ja.jsx)(Pe,{to:l.cta.secondaryButtonLink,className:"group px-12 py-6 rounded-2xl bg-white/10 backdrop-blur-md border-2 border-white/30 text-white font-bold text-xl hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:(0,ja.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,ja.jsx)(kn,{className:"w-6 h-6"}),(0,ja.jsx)("span",{children:l.cta.secondaryButtonText})]})})]})]})]})]})};function wl(e){let{tendersOverview:t,tendersLoading:r,selectedListing:a,setSelectedListing:n,acceptingTender:s,rejectingTender:i,handleAcceptTender:l,handleRejectTender:o,totalTenders:c,totalHighestBids:d,listings:u,allListings:h,listingsLoading:m,activeFilter:p,handleTileClick:g,handleCreateListing:x,handleDeleteListing:f}=e;return r||m?(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your selling data..."})]})}):(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Tender Management"}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ja.jsx)(hi,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Listings"}),(0,ja.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,ja.jsx)(qn,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tenders"}),(0,ja.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,ja.jsx)(_n,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Bid Value"}),(0,ja.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",d.toFixed(2)]})]})]})})]}),0===t.length?(0,ja.jsxs)("div",{className:"text-center py-8 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,ja.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ja.jsx)(_n,{className:"w-6 h-6 text-gray-400"})}),(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Active Tenders"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have any active listings receiving tender offers."})]}):(0,ja.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,ja.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ja.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ja.jsx)("img",{src:(null===(t=e.listing.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:e.listing.title,className:"w-20 h-20 object-cover rounded-lg"}),(0,ja.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.listing.title}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Starting Price: \u20ac",e.listing.price.toFixed(2)]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,ja.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:[(0,ja.jsx)(hi,{className:"w-3 h-3 mr-1"}),e.tender_count," tender",1!==e.tender_count?"s":""]}),e.highest_offer>0&&(0,ja.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[(0,ja.jsx)(qn,{className:"w-3 h-3 mr-1"}),"Highest: \u20ac",e.highest_offer.toFixed(2)]})]})]}),(0,ja.jsxs)("button",{onClick:()=>n(a===e.listing.id?null:e.listing.id),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ja.jsx)(vs,{className:"w-4 h-4"}),(0,ja.jsxs)("span",{children:[a===e.listing.id?"Hide":"View"," Tenders"]})]})]})}),a===e.listing.id&&(0,ja.jsx)("div",{className:"p-6",children:0===e.tenders.length?(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"No active tenders for this listing."}):(0,ja.jsx)("div",{className:"space-y-4",children:e.tenders.map((t,r)=>(0,ja.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white ".concat(0===r?"bg-yellow-500":"bg-gray-400"),children:["#",r+1]}),(0,ja.jsxs)("div",{children:[(0,ja.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:["\u20ac",t.offer_amount.toFixed(2)]}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["by ",t.buyer.full_name||t.buyer.username]}),(0,ja.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[(0,ja.jsx)(In,{className:"w-3 h-3 inline mr-1"}),new Date(t.created_at).toLocaleDateString()," at ",new Date(t.created_at).toLocaleTimeString()]})]})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("button",{onClick:()=>l(t.id,e.listing.title,t.offer_amount),disabled:s===t.id,className:"px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:s===t.id?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Accepting..."})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(ds,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Accept"})]})}),(0,ja.jsx)("button",{onClick:()=>o(t.id,e.listing.title,t.offer_amount),disabled:i===t.id,className:"px-3 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:i===t.id?(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ja.jsx)("span",{children:"Rejecting..."})]}):(0,ja.jsxs)(ja.Fragment,{children:[(0,ja.jsx)(si,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Reject"})]})})]})]},t.id))})})]},e.listing.id)})})]}),(0,ja.jsxs)("div",{className:"space-y-6",children:[(0,ja.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Listings Management"}),(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ja.jsx)("button",{onClick:()=>g("all"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("all"===p?"ring-2 ring-blue-500 bg-blue-50/20 dark:bg-blue-900/20":""),children:(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:h.length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})}),(0,ja.jsx)("button",{onClick:()=>g("active"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("active"===p?"ring-2 ring-green-500 bg-green-50/20 dark:bg-green-900/20":""),children:(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:h.filter(e=>"active"===e.status).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})}),(0,ja.jsx)("button",{onClick:()=>g("closed"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("closed"===p?"ring-2 ring-red-500 bg-red-50/20 dark:bg-red-900/20":""),children:(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:h.filter(e=>"sold"===e.status||"closed"===e.status).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Closed"}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Sold & completed"})]})}),(0,ja.jsx)("button",{onClick:()=>g("drafts"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("drafts"===p?"ring-2 ring-orange-500 bg-orange-50/20 dark:bg-orange-900/20":""),children:(0,ja.jsxs)("div",{className:"p-6 text-center",children:[(0,ja.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:h.filter(e=>"draft"===e.status||e.is_draft).length}),(0,ja.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Drafts"}),(0,ja.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Finish & publish later"})]})})]}),"all"!==p&&(0,ja.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,ja.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Showing ",p," listings (",u.length," items)"]}),(0,ja.jsx)("button",{onClick:()=>g("all"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show All"})]}),0===u.length?(0,ja.jsx)("div",{className:"text-center py-12",children:(0,ja.jsxs)("div",{className:"cataloro-card-glass p-12",children:[(0,ja.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)(On,{className:"w-12 h-12 text-gray-600 dark:text-gray-300"})}),(0,ja.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"No listings yet"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Create your first listing to start selling on our modern marketplace"}),(0,ja.jsx)("button",{onClick:x,className:"cataloro-button-primary",children:"Create Your First Listing"})]})}):(0,ja.jsx)("div",{className:"listings-grid",children:u.map(e=>(0,ja.jsx)(Nl,{listing:e,onDelete:f},e.id))})]})]})}function kl(e){let{myTenders:t,myTendersLoading:r,fetchMyTenders:a}=e;const{user:n}=Pa();if(r)return(0,ja.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your tender offers..."})]})});const s=e=>{switch(e){case"active":return(0,ja.jsx)(In,{className:"w-5 h-5 text-yellow-500"});case"accepted":return(0,ja.jsx)(ds,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,ja.jsx)(si,{className:"w-5 h-5 text-red-500"});default:return(0,ja.jsx)(us,{className:"w-5 h-5 text-gray-500"})}},i=e=>{switch(e){case"active":return"Pending";case"accepted":return"Accepted";case"rejected":return"Rejected";default:return"Unknown"}},l=e=>{switch(e){case"active":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},o=t.filter(e=>"active"===e.status),c=t.filter(e=>"accepted"===e.status),d=(t.filter(e=>"rejected"===e.status),t.reduce((e,t)=>e+t.offer_amount,0));return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ja.jsx)(_n,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tenders"}),(0,ja.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,ja.jsx)(In,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active"}),(0,ja.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.length})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,ja.jsx)(ds,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Accepted"}),(0,ja.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.length})]})]})}),(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("div",{className:"flex items-center",children:[(0,ja.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,ja.jsx)(qn,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,ja.jsxs)("div",{className:"ml-4",children:[(0,ja.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Value"}),(0,ja.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",d.toFixed(2)]})]})]})})]}),0===t.length?(0,ja.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,ja.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ja.jsx)(_n,{className:"w-8 h-8 text-gray-400"})}),(0,ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Tender Offers"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You haven't submitted any tender offers yet."}),(0,ja.jsx)(Pe,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Browse Listings"})]}):(0,ja.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,ja.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ja.jsx)("div",{className:"w-20 h-20 flex-shrink-0",children:(0,ja.jsx)("img",{src:(null===(t=e.listing.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:e.listing.title,className:"w-full h-full object-cover rounded-lg"})}),(0,ja.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ja.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.listing.title}),(0,ja.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Starting Price: \u20ac",e.listing.price.toFixed(2)]}),e.seller&&(0,ja.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,ja.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Seller:"}),(0,ja.jsxs)("div",{className:"flex items-center space-x-1",children:[e.seller.is_business&&(0,ja.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:"Business"}),(0,ja.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.seller.business_name||e.seller.full_name||e.seller.username})]})]})]}),(0,ja.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(l(e.status)),children:[s(e.status),(0,ja.jsx)("span",{className:"ml-1",children:i(e.status)})]})]}),(0,ja.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your Offer"}),(0,ja.jsxs)("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",e.offer_amount.toFixed(2)]})]}),(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Submitted"}),(0,ja.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(e.created_at).toLocaleDateString()})]})]}),"accepted"===e.status&&(0,ja.jsx)("div",{className:"flex items-center space-x-2",children:(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Congratulations!"}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Your tender was accepted"})]})}),"active"===e.status&&(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium",children:"Waiting for response"}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Seller will review your offer"})]}),"rejected"===e.status&&(0,ja.jsxs)("div",{className:"text-center",children:[(0,ja.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Not selected"}),(0,ja.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Better luck next time"})]})]})]})]})},e.id)})})]})}function Nl(e){var t;let{listing:r,onDelete:n}=e;const[s,i]=(0,a.useState)(!1);return(0,ja.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,ja.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ja.jsx)("div",{className:"w-20 h-20 flex-shrink-0",children:(0,ja.jsx)("img",{src:(null===(t=r.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:r.title,className:"w-full h-full object-cover rounded-lg"})}),(0,ja.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ja.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:r.title}),(0,ja.jsxs)("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:["\u20ac",r.price.toFixed(2)]}),(0,ja.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 line-clamp-2",children:r.description})]}),(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"sold":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";case"closed":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"draft":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";default:return"bg-gray-100 dark:bg-gray-700/50 text-gray-800 dark:text-gray-300"}})(r.status||(r.is_draft?"draft":"active"))),children:(r.status||(r.is_draft?"DRAFT":"ACTIVE")).toUpperCase()}),(0,ja.jsxs)("button",{onClick:()=>window.location.href="/edit-listing/".concat(r.id),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg font-medium transition-colors flex items-center space-x-1",title:"Edit Listing",children:[(0,ja.jsx)(Vs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Edit"})]}),(0,ja.jsxs)("div",{className:"relative",children:[(0,ja.jsx)("button",{onClick:()=>i(!s),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,ja.jsx)(Hs,{className:"w-4 h-4"})}),s&&(0,ja.jsxs)("div",{className:"absolute top-8 right-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[120px]",children:[(0,ja.jsxs)("button",{onClick:()=>{window.location.href="/edit-listing/".concat(r.id),i(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2",children:[(0,ja.jsx)(Vs,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Edit"})]}),(0,ja.jsxs)("button",{onClick:()=>{n(r.id),i(!1)},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-2",children:[(0,ja.jsx)(Dn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Delete"})]})]})]})]})]}),(0,ja.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ja.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.category}),(0,ja.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()})]})]})]})})}const _l=function(){const{user:e}=Pa(),{showToast:t}=Wa(),r=te(),[n]=Me(),[s,i]=(0,a.useState)("sell"),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(null),[g,x]=(0,a.useState)(null),f=n.get("filter"),[y,b]=(0,a.useState)([]),[v,j]=(0,a.useState)(!0),[w,k]=(0,a.useState)(f||"all"),[N,_]=(0,a.useState)([]),[S,C]=(0,a.useState)(!0);(0,a.useEffect)(()=>{e&&(E(),A(),O())},[e]),(0,a.useEffect)(()=>{if("sell"===s){const e=new URLSearchParams(window.location.search);"all"!==w?e.set("filter",w):e.delete("filter");const t="".concat(window.location.pathname).concat(e.toString()?"?"+e.toString():"");window.history.replaceState({},"",t)}},[w,s]),(0,a.useEffect)(()=>{const e=n.get("filter");e&&e!==w&&k(e)},[n]);const E=async()=>{if(e)try{d(!0);const r=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/tenders/seller/").concat(e.id,"/overview"));if(r.ok){const e=await r.json();o(e)}else t("Failed to load tender overview","error")}catch(r){console.error("Failed to fetch tenders overview:",r),t("Error loading tender data","error")}finally{d(!1)}},O=async()=>{if(e)try{C(!0);const r=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/tenders/buyer/").concat(e.id));if(r.ok){const e=await r.json();_(e)}else t("Failed to load your tenders","error")}catch(r){console.error("Failed to fetch my tenders:",r),t("Error loading tender data","error")}finally{C(!1)}},A=async()=>{if(null!==e&&void 0!==e&&e.id)try{j(!0);const t=await Ka.getMyListings(e.id);b(t)}catch(r){t("Failed to load your listings","error"),console.error("Failed to fetch listings:",r)}finally{j(!1)}},T=()=>{r("/create-listing")};if(!e)return(0,ja.jsxs)("div",{className:"text-center py-12",children:[(0,ja.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Please Login"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You need to be logged in to manage tenders and listings."})]});const P=l.reduce((e,t)=>e+t.tender_count,0),L=l.reduce((e,t)=>e+(t.highest_offer||0),0),R=(()=>{switch(w){case"active":return y.filter(e=>"active"===e.status);case"drafts":return y.filter(e=>"draft"===e.status||e.is_draft);case"closed":return y.filter(e=>"sold"===e.status||"closed"===e.status);default:return y}})();return(0,ja.jsxs)("div",{className:"space-y-8",children:[(0,ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ja.jsxs)("div",{children:[(0,ja.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Management Center"}),(0,ja.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your tenders and listings"})]}),(0,ja.jsx)("div",{className:"mt-4 lg:mt-0 flex items-center space-x-3",children:"sell"===s?(0,ja.jsxs)("button",{onClick:T,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(On,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Create New Listing"})]}):(0,ja.jsxs)("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,ja.jsx)(Ln,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Refresh"})]})})]}),(0,ja.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,ja.jsxs)("nav",{className:"flex space-x-8",children:[(0,ja.jsx)("button",{onClick:()=>i("sell"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("sell"===s?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(Xn,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Sell"})]})}),(0,ja.jsx)("button",{onClick:()=>i("buy"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("buy"===s?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ja.jsx)(_n,{className:"w-4 h-4"}),(0,ja.jsx)("span",{children:"Buy"})]})})]})}),"sell"===s&&(0,ja.jsx)(wl,{tendersOverview:l,tendersLoading:c,selectedListing:u,setSelectedListing:h,acceptingTender:m,rejectingTender:g,handleAcceptTender:async(r,a,n)=>{if(!e)return;if(window.confirm("Accept tender offer of \u20ac".concat(n.toFixed(2),' for "').concat(a,'"?\n\nThis will:\n- Accept this tender\n- Reject all other tenders for this listing\n- Mark the listing as SOLD\n- Send notifications to all bidders\n- Create a message thread with the winning bidder')))try{p(r);const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/tenders/").concat(r,"/accept"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Tender offer of \u20ac".concat(n.toFixed(2)," accepted!"),"success"),E();else{const e=await a.json();t(e.detail||"Failed to accept tender","error")}}catch(s){console.error("Error accepting tender:",s),t("Error accepting tender. Please try again.","error")}finally{p(null)}},handleRejectTender:async(r,a,n)=>{if(!e)return;if(window.confirm("Reject tender offer of \u20ac".concat(n.toFixed(2),' for "').concat(a,'"?\n\nThis will send a rejection notification to the bidder.')))try{x(r);const a=await fetch("".concat("https://cataloro-upgrade.preview.emergentagent.com","/api/tenders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Tender offer rejected","info"),E();else{const e=await a.json();t(e.detail||"Failed to reject tender","error")}}catch(s){console.error("Error rejecting tender:",s),t("Error rejecting tender. Please try again.","error")}finally{x(null)}},totalTenders:P,totalHighestBids:L,listings:R,allListings:y,listingsLoading:v,activeFilter:w,handleTileClick:e=>{k(e)},handleCreateListing:T,handleDeleteListing:async e=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await Ka.deleteListing(e),b(y.filter(t=>t.id!==e)),t("Listing deleted successfully","success")}catch(r){console.error("Error deleting listing:",r),t("Failed to delete listing","error")}}}),"buy"===s&&(0,ja.jsx)(kl,{myTenders:N,myTendersLoading:S,fetchMyTenders:O})]})};const Sl=function(){return(0,a.useEffect)(()=>{const e=document.getElementById("app-loader");e&&setTimeout(()=>{e.style.display="none"},500)},[]),(0,ja.jsx)("div",{className:"App",children:(0,ja.jsx)(Ta,{children:(0,ja.jsx)(Va,{children:(0,ja.jsx)(yn,{children:(0,ja.jsx)(Oe,{children:(0,ja.jsxs)(we,{children:[(0,ja.jsx)(ve,{path:fa.LOGIN,element:(0,ja.jsx)(ml,{})}),(0,ja.jsx)(ve,{path:fa.REGISTER,element:(0,ja.jsx)(gl,{})}),(0,ja.jsx)(ve,{path:"/info",element:(0,ja.jsx)(jl,{})}),(0,ja.jsxs)(ve,{path:"/",element:(0,ja.jsx)(xs,{}),children:[(0,ja.jsx)(ve,{index:!0,element:(0,ja.jsx)(ye,{to:fa.BROWSE,replace:!0})}),(0,ja.jsx)(ve,{path:fa.BROWSE,element:(0,ja.jsx)(Ns,{})}),(0,ja.jsx)(ve,{path:"categories",element:(0,ja.jsx)(Ps,{})}),(0,ja.jsx)(ve,{path:"cart",element:(0,ja.jsx)(Rs,{})}),(0,ja.jsx)(ve,{path:"product/:productId",element:(0,ja.jsx)(zs,{})}),(0,ja.jsx)(ve,{path:"search",element:(0,ja.jsx)(Ns,{})}),(0,ja.jsx)(ve,{path:"trending",element:(0,ja.jsx)(Ns,{})}),(0,ja.jsx)(ve,{path:"create-listing",element:(0,ja.jsx)(Xs,{})}),(0,ja.jsx)(ve,{path:"edit-listing/:id",element:(0,ja.jsx)(ri,{})}),(0,ja.jsx)(ve,{path:"pending-sales",element:(0,ja.jsx)(ii,{})}),(0,ja.jsx)(ve,{path:"view-all-requests",element:(0,ja.jsx)(di,{})}),(0,ja.jsx)(ve,{path:fa.MY_LISTINGS,element:(0,ja.jsx)(Ks,{})}),(0,ja.jsx)(ve,{path:"messages",element:(0,ja.jsx)(ul,{})}),(0,ja.jsx)(ve,{path:fa.TENDERS.substring(1),element:(0,ja.jsx)(_l,{})}),(0,ja.jsx)(ve,{path:"analytics",element:(0,ja.jsx)(tl,{})}),(0,ja.jsx)(ve,{path:"performance",element:(0,ja.jsx)(tl,{})}),(0,ja.jsx)(ve,{path:fa.ADMIN_PANEL,element:(0,ja.jsx)(tl,{})}),(0,ja.jsx)(ve,{path:"admin/analytics",element:(0,ja.jsx)(tl,{})}),(0,ja.jsx)(ve,{path:"admin/users",element:(0,ja.jsx)(tl,{})}),(0,ja.jsx)(ve,{path:fa.FAVORITES,element:(0,ja.jsx)(al,{})}),(0,ja.jsx)(ve,{path:fa.NOTIFICATIONS,element:(0,ja.jsx)(nl,{})}),(0,ja.jsx)(ve,{path:fa.PROFILE,element:(0,ja.jsx)(ll,{})}),(0,ja.jsx)(ve,{path:"profile/:userId",element:(0,ja.jsx)(ol,{})}),(0,ja.jsx)(ve,{path:"settings",element:(0,ja.jsx)(ll,{})})]}),(0,ja.jsx)(ve,{path:"*",element:(0,ja.jsx)(ye,{to:fa.BROWSE,replace:!0})})]})})})})})})},Cl=document.getElementById("root");(0,s.H)(Cl).render((0,ja.jsx)(a.StrictMode,{children:(0,ja.jsx)(Sl,{})}));var El;El&&El instanceof Function&&r.e(453).then(r.bind(r,6453)).then(e=>{let{getCLS:t,getFID:r,getFCP:a,getLCP:n,getTTFB:s}=e;t(El),r(El),a(El),n(El),s(El)})})()})();
//# sourceMappingURL=main.f3b54d78.js.map