/*! For license information please see main.5d9079b8.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},219:(e,t,r)=>{"use strict";var a=r(3763),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return a.isMemo(e)?i:o[e.$$typeof]||n}o[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[a.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,r,a){if("string"!==typeof r){if(g){var n=h(r);n&&n!==g&&e(t,n,a)}var i=d(r);u&&(i=i.concat(u(r)));for(var o=l(t),p=l(r),x=0;x<i.length;++x){var f=i[x];if(!s[f]&&(!a||!a[f])&&(!p||!p[f])&&(!o||!o[f])){var b=m(r,f);try{c(t,f,b)}catch(y){}}}}return t}},438:(e,t,r)=>{var a=r(2622);e.exports=function(e){return a(this,e).get(e)}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},1143:(e,t,r)=>{var a=r(3028)(Object.keys,Object);e.exports=a},1153:(e,t,r)=>{"use strict";var a=r(5043),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,s={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1268:(e,t,r)=>{var a=r(5428),n=r(7574),s=r(6832),i=s&&s.isTypedArray,o=i?n(i):a;e.exports=o},1340:(e,t,r)=>{var a=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(a(e[r][0],t))return r;return-1}},1629:(e,t,r)=>{var a=r(6913),n=r(6686);e.exports=function(e){if(!n(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var a=r(1340);e.exports=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}},1946:(e,t,r)=>{var a=r(1340);e.exports=function(e){return a(this.__data__,e)>-1}},2070:(e,t,r)=>{var a=r(7937)(r(6552),"Set");e.exports=a},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},2154:(e,t,r)=>{var a=r(5575),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(t,e)?t[e]:void 0}},2555:(e,t,r)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{A:()=>o})},2587:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}},2622:(e,t,r)=>{var a=r(705);e.exports=function(e,t){var r=e.__data__;return a(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var a=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},2706:(e,t,r)=>{"use strict";e.exports=r(7358)},2730:(e,t,r)=>{"use strict";var a=r(5043),n=r(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function p(e,t,r,a,n,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,r,a){var n=x.hasOwnProperty(t)?x[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,a){if(null===t||"undefined"===typeof t||function(e,t,r,a){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,a))return!0;if(a)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,n,a)&&(r=null),a||null===n?function(e){return!!u.call(g,e)||!u.call(h,e)&&(m.test(e)?g[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,a=n.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,b);x[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,b);x[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,b);x[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var D,R=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),s=a.stack.split("\n"),i=n.length-1,o=s.length-1;1<=i&&0<=o&&n[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||n[i]!==s[o]){var l="\n"+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case _:return"Profiler";case N:return"StrictMode";case E:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return z(e(t))}catch(r){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function $(e,t){var r=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Q(e,t);var r=V(t.value),a=t.type;if(null!=r)"number"===a?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function se(e,t){var r=V(t.value),a=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function pe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var a=0===r.indexOf("--"),n=pe(r,t[r],a);"float"===r&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}Object.keys(he).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var fe=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ne=null;function _e(e){if(e=yn(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=jn(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Oe=!1;function Pe(e,t,r){if(Oe)return e(t,r);Oe=!0;try{return Ce(e,t,r)}finally{Oe=!1,(null!==ke||null!==Ne)&&(Ee(),Ae())}}function Te(e,t){var r=e.stateNode;if(null===r)return null;var a=jn(r);if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Le=!1;if(d)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(de){Le=!1}function Ie(e,t,r,a,n,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var De=!1,Re=null,Fe=!1,Be=null,Ue={onError:function(e){De=!0,Re=e}};function qe(e,t,r,a,n,s,i,o,l){De=!1,Re=null,Ie.apply(Ue,arguments)}function ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(a=n.return)){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return Ve(n),e;if(i===a)return Ve(n),t;i=i.sibling}throw Error(s(188))}if(r.return!==a.return)r=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,a=i;break}if(l===a){o=!0,a=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=n;break}if(l===a){o=!0,a=i,r=n;break}l=l.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,$e=n.unstable_requestPaint,Qe=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Xe=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,rt=n.unstable_LowPriority,at=n.unstable_IdlePriority,nt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var r=e.pendingLanes;if(0===r)return 0;var a=0,n=e.suspendedLanes,s=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~n;0!==o?a=ut(o):0!==(s&=i)&&(a=ut(s))}else 0!==(i=r&~n)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(s=t&-t)||16===n&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(r=31-it(t)),a|=e[r],t&=~n;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ft(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-it(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,kt,Nt,_t,St=!1,At=[],Ct=null,Et=null,Ot=null,Pt=new Map,Tt=new Map,Lt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Dt(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=yn(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Rt(e){var t=bn(e.target);if(null!==t){var r=ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void _t(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=yn(r))&&wt(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);ve=a,r.target.dispatchEvent(a),ve=null,t.shift()}return!0}function Bt(e,t,r){Ft(e)&&r.delete(t)}function Ut(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Et&&Ft(Et)&&(Et=null),null!==Ot&&Ft(Ot)&&(Ot=null),Pt.forEach(Bt),Tt.forEach(Bt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return qt(t,e)}if(0<At.length){qt(At[0],e);for(var r=1;r<At.length;r++){var a=At[r];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Ct&&qt(Ct,e),null!==Et&&qt(Et,e),null!==Ot&&qt(Ot,e),Pt.forEach(t),Tt.forEach(t),r=0;r<Lt.length;r++)(a=Lt[r]).blockedOn===e&&(a.blockedOn=null);for(;0<Lt.length&&null===(r=Lt[0]).blockedOn;)Rt(r),null===r.blockedOn&&Lt.shift()}var Ht=v.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,r,a){var n=yt,s=Ht.transition;Ht.transition=null;try{yt=1,Kt(e,t,r,a)}finally{yt=n,Ht.transition=s}}function Wt(e,t,r,a){var n=yt,s=Ht.transition;Ht.transition=null;try{yt=4,Kt(e,t,r,a)}finally{yt=n,Ht.transition=s}}function Kt(e,t,r,a){if(Vt){var n=Yt(e,t,r,a);if(null===n)Ha(e,t,a,Jt,r),It(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return Ct=Dt(Ct,e,t,r,a,n),!0;case"dragenter":return Et=Dt(Et,e,t,r,a,n),!0;case"mouseover":return Ot=Dt(Ot,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return Pt.set(s,Dt(Pt.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,Tt.set(s,Dt(Tt.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(It(e,a),4&t&&-1<Mt.indexOf(e)){for(;null!==n;){var s=yn(n);if(null!==s&&jt(s),null===(s=Yt(e,t,r,a))&&Ha(e,t,a,Jt,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else Ha(e,t,a,null,r)}}var Jt=null;function Yt(e,t,r,a){if(Jt=null,null!==(e=bn(e=je(a))))if(null===(t=ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case rt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Xt=null;function er(){if(Xt)return Xt;var e,t,r=Zt,a=r.length,n="value"in Qt?Qt.value:Qt.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&r[a-t]===n[s-t];t++);return Xt=n.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ar(){return!1}function nr(e){function t(t,r,a,n,s){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?rr:ar,this.isPropagationStopped=ar,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,ir,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=nr(lr),dr=R({},lr,{view:0,detail:0}),ur=nr(dr),mr=R({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(sr=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=sr=0,or=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),hr=nr(mr),gr=nr(R({},mr,{dataTransfer:0})),pr=nr(R({},dr,{relatedTarget:0})),xr=nr(R({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),fr=R({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=nr(fr),yr=nr(R({},lr,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Nr(){return kr}var _r=R({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=nr(_r),Ar=nr(R({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cr=nr(R({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Er=nr(R({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=R({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pr=nr(Or),Tr=[9,13,27,32],Lr=d&&"CompositionEvent"in window,Mr=null;d&&"documentMode"in document&&(Mr=document.documentMode);var Ir=d&&"TextEvent"in window&&!Mr,Dr=d&&(!Lr||Mr&&8<Mr&&11>=Mr),Rr=String.fromCharCode(32),Fr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Tr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qr=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function Vr(e,t,r,a){Se(a),0<(t=Ga(t,"onChange")).length&&(r=new cr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Gr=null,Wr=null;function Kr(e){Ra(e,0)}function Jr(e){if(K(vn(e)))return e}function Yr(e,t){if("change"===e)return t}var $r=!1;if(d){var Qr;if(d){var Zr="oninput"in document;if(!Zr){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),Zr="function"===typeof Xr.oninput}Qr=Zr}else Qr=!1;$r=Qr&&(!document.documentMode||9<document.documentMode)}function ea(){Gr&&(Gr.detachEvent("onpropertychange",ta),Wr=Gr=null)}function ta(e){if("value"===e.propertyName&&Jr(Wr)){var t=[];Vr(t,Wr,e,je(e)),Pe(Kr,t)}}function ra(e,t,r){"focusin"===e?(ea(),Wr=r,(Gr=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jr(Wr)}function na(e,t){if("click"===e)return Jr(t)}function sa(e,t){if("input"===e||"change"===e)return Jr(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!u.call(t,n)||!ia(e[n],t[n]))return!1}return!0}function la(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var r,a=la(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=la(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=ua(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&da(r.ownerDocument.documentElement,r)){if(null!==a&&ma(r))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(a.start,n);a=void 0===a.end?s:Math.min(a.end,n),!e.extend&&s>a&&(n=a,a=s,s=n),n=ca(r,s);var i=ca(r,a);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ga=d&&"documentMode"in document&&11>=document.documentMode,pa=null,xa=null,fa=null,ba=!1;function ya(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ba||null==pa||pa!==J(a)||("selectionStart"in(a=pa)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},fa&&oa(fa,a)||(fa=a,0<(a=Ga(xa,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=pa)))}function va(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ja={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},wa={},ka={};function Na(e){if(wa[e])return wa[e];if(!ja[e])return e;var t,r=ja[e];for(t in r)if(r.hasOwnProperty(t)&&t in ka)return wa[e]=r[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var _a=Na("animationend"),Sa=Na("animationiteration"),Aa=Na("animationstart"),Ca=Na("transitionend"),Ea=new Map,Oa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(e,t){Ea.set(e,t),l(t,[e])}for(var Ta=0;Ta<Oa.length;Ta++){var La=Oa[Ta];Pa(La.toLowerCase(),"on"+(La[0].toUpperCase()+La.slice(1)))}Pa(_a,"onAnimationEnd"),Pa(Sa,"onAnimationIteration"),Pa(Aa,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(Ca,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ia=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Da(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,a,n,i,o,l,c){if(qe.apply(this,arguments),De){if(!De)throw Error(s(198));var d=Re;De=!1,Re=null,Fe||(Fe=!0,Be=d)}}(a,t,void 0,e),e.currentTarget=null}function Ra(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;Da(n,o,c),s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;Da(n,o,c),s=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Fa(e,t){var r=t[pn];void 0===r&&(r=t[pn]=new Set);var a=e+"__bubble";r.has(a)||(za(t,e,2,!1),r.add(a))}function Ba(e,t,r){var a=0;t&&(a|=4),za(r,e,a,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function qa(e){if(!e[Ua]){e[Ua]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ia.has(t)||Ba(t,!1,e),Ba(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ua]||(t[Ua]=!0,Ba("selectionchange",!1,t))}}function za(e,t,r,a){switch($t(t)){case 1:var n=Gt;break;case 4:n=Wt;break;default:n=Kt}r=n.bind(null,t,r,e),n=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Ha(e,t,r,a,n){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;i=i.return}for(;null!==o;){if(null===(i=bn(o)))return;if(5===(l=i.tag)||6===l){a=s=i;continue e}o=o.parentNode}}a=a.return}Pe(function(){var a=s,n=je(r),i=[];e:{var o=Ea.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":c="focus",l=pr;break;case"focusout":c="blur",l=pr;break;case"beforeblur":case"afterblur":l=pr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cr;break;case _a:case Sa:case Aa:l=xr;break;case Ca:l=Er;break;case"scroll":l=ur;break;case"wheel":l=Pr;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var h,g=a;null!==g;){var p=(h=g).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Te(g,m))&&d.push(Va(g,p,h)))),u)break;g=g.return}0<d.length&&(o=new l(o,c,null,r,n),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!bn(c)&&!c[gn])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=r.relatedTarget||r.toElement)?bn(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=hr,p="onMouseLeave",m="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ar,p="onPointerLeave",m="onPointerEnter",g="pointer"),u=null==l?o:vn(l),h=null==c?o:vn(c),(o=new d(p,g+"leave",l,r,n)).target=u,o.relatedTarget=h,p=null,bn(n)===a&&((d=new d(m,g+"enter",c,r,n)).target=h,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(m=c,g=0,h=d=l;h;h=Wa(h))g++;for(h=0,p=m;p;p=Wa(p))h++;for(;0<g-h;)d=Wa(d),g--;for(;0<h-g;)m=Wa(m),h--;for(;g--;){if(d===m||null!==m&&d===m.alternate)break e;d=Wa(d),m=Wa(m)}d=null}else d=null;null!==l&&Ka(i,o,l,d,!1),null!==c&&null!==u&&Ka(i,u,c,d,!0)}if("select"===(l=(o=a?vn(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=Yr;else if(Hr(o))if($r)x=sa;else{x=aa;var f=ra}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=na);switch(x&&(x=x(e,a))?Vr(i,x,r,n):(f&&f(e,o,a),"focusout"===e&&(f=o._wrapperState)&&f.controlled&&"number"===o.type&&ee(o,"number",o.value)),f=a?vn(a):window,e){case"focusin":(Hr(f)||"true"===f.contentEditable)&&(pa=f,xa=a,fa=null);break;case"focusout":fa=xa=pa=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,ya(i,r,n);break;case"selectionchange":if(ga)break;case"keydown":case"keyup":ya(i,r,n)}var b;if(Lr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else qr?Br(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Dr&&"ko"!==r.locale&&(qr||"onCompositionStart"!==y?"onCompositionEnd"===y&&qr&&(b=er()):(Zt="value"in(Qt=n)?Qt.value:Qt.textContent,qr=!0)),0<(f=Ga(a,y)).length&&(y=new yr(y,e,null,r,n),i.push({event:y,listeners:f}),b?y.data=b:null!==(b=Ur(r))&&(y.data=b))),(b=Ir?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Fr=!0,Rr);case"textInput":return(e=t.data)===Rr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(qr)return"compositionend"===e||!Lr&&Br(e,t)?(e=er(),Xt=Zt=Qt=null,qr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(a=Ga(a,"onBeforeInput")).length&&(n=new yr("onBeforeInput","beforeinput",null,r,n),i.push({event:n,listeners:a}),n.data=b))}Ra(i,t)})}function Va(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ga(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=Te(e,r))&&a.unshift(Va(e,s,n)),null!=(s=Te(e,t))&&a.push(Va(e,s,n))),e=e.return}return a}function Wa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,r,a,n){for(var s=t._reactName,i=[];null!==r&&r!==a;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,n?null!=(l=Te(r,s))&&i.unshift(Va(r,l,o)):n||null!=(l=Te(r,s))&&i.push(Va(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Ja=/\r\n?/g,Ya=/\u0000|\uFFFD/g;function $a(e){return("string"===typeof e?e:""+e).replace(Ja,"\n").replace(Ya,"")}function Qa(e,t,r){if(t=$a(t),$a(e)!==t&&r)throw Error(s(425))}function Za(){}var Xa=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,sn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(on)}:rn;function on(e){setTimeout(function(){throw e})}function ln(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===a)return e.removeChild(n),void zt(t);a--}else"$"!==r&&"$?"!==r&&"$!"!==r||a++;r=n}while(r);zt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),mn="__reactFiber$"+un,hn="__reactProps$"+un,gn="__reactContainer$"+un,pn="__reactEvents$"+un,xn="__reactListeners$"+un,fn="__reactHandles$"+un;function bn(e){var t=e[mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gn]||r[mn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=dn(e);null!==e;){if(r=e[mn])return r;e=dn(e)}return t}r=(e=r).parentNode}return null}function yn(e){return!(e=e[mn]||e[gn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jn(e){return e[hn]||null}var wn=[],kn=-1;function Nn(e){return{current:e}}function _n(e){0>kn||(e.current=wn[kn],wn[kn]=null,kn--)}function Sn(e,t){kn++,wn[kn]=e.current,e.current=t}var An={},Cn=Nn(An),En=Nn(!1),On=An;function Pn(e,t){var r=e.type.contextTypes;if(!r)return An;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in r)s[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ln(){_n(En),_n(Cn)}function Mn(e,t,r){if(Cn.current!==An)throw Error(s(168));Sn(Cn,t),Sn(En,r)}function In(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return r;for(var n in a=a.getChildContext())if(!(n in t))throw Error(s(108,H(e)||"Unknown",n));return R({},r,a)}function Dn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,On=Cn.current,Sn(Cn,e),Sn(En,En.current),!0}function Rn(e,t,r){var a=e.stateNode;if(!a)throw Error(s(169));r?(e=In(e,t,On),a.__reactInternalMemoizedMergedChildContext=e,_n(En),_n(Cn),Sn(Cn,e)):_n(En),Sn(En,r)}var Fn=null,Bn=!1,Un=!1;function qn(e){null===Fn?Fn=[e]:Fn.push(e)}function zn(){if(!Un&&null!==Fn){Un=!0;var e=0,t=yt;try{var r=Fn;for(yt=1;e<r.length;e++){var a=r[e];do{a=a(!0)}while(null!==a)}Fn=null,Bn=!1}catch(n){throw null!==Fn&&(Fn=Fn.slice(e+1)),Ke(Xe,zn),n}finally{yt=t,Un=!1}}return null}var Hn=[],Vn=0,Gn=null,Wn=0,Kn=[],Jn=0,Yn=null,$n=1,Qn="";function Zn(e,t){Hn[Vn++]=Wn,Hn[Vn++]=Gn,Gn=e,Wn=t}function Xn(e,t,r){Kn[Jn++]=$n,Kn[Jn++]=Qn,Kn[Jn++]=Yn,Yn=e;var a=$n;e=Qn;var n=32-it(a)-1;a&=~(1<<n),r+=1;var s=32-it(t)+n;if(30<s){var i=n-n%5;s=(a&(1<<i)-1).toString(32),a>>=i,n-=i,$n=1<<32-it(t)+n|r<<n|a,Qn=s+e}else $n=1<<s|r<<n|a,Qn=e}function es(e){null!==e.return&&(Zn(e,1),Xn(e,1,0))}function ts(e){for(;e===Gn;)Gn=Hn[--Vn],Hn[Vn]=null,Wn=Hn[--Vn],Hn[Vn]=null;for(;e===Yn;)Yn=Kn[--Jn],Kn[Jn]=null,Qn=Kn[--Jn],Kn[Jn]=null,$n=Kn[--Jn],Kn[Jn]=null}var rs=null,as=null,ns=!1,ss=null;function is(e,t){var r=Pc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function os(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,as=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Yn?{id:$n,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Pc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,as=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(ns){var t=as;if(t){var r=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cn(r.nextSibling);var a=rs;t&&os(e,t)?is(a,r):(e.flags=-4097&e.flags|2,ns=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,ns=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!ns)return ds(e),ns=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=cn(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){as=cn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}as=null}}else as=rs?cn(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=as;e;)e=cn(e.nextSibling)}function hs(){as=rs=null,ns=!1}function gs(e){null===ss?ss=[e]:ss.push(e)}var ps=v.ReactCurrentBatchConfig;function xs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var a=r.stateNode}if(!a)throw Error(s(147,e));var n=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function i(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=2,r):a:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,a){return null===t||6!==t.tag?((t=Rc(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,a){var s=r.type;return s===k?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&bs(s)===t.type)?((a=n(t,r.props)).ref=xs(e,t,r),a.return=e,a):((a=Mc(r.type,r.key,r.props,null,e.mode,a)).ref=xs(e,t,r),a.return=e,a)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,a,s){return null===t||7!==t.tag?((t=Ic(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Mc(t.type,t.key,t.props,null,e.mode,r)).ref=xs(e,null,t),r.return=e,r;case w:return(t=Fc(t,e.mode,r)).return=e,t;case T:return m(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Ic(t,e.mode,r,null)).return=e,t;fs(e,t)}return null}function h(e,t,r,a){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==n?null:l(e,t,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===n?c(e,t,r,a):null;case w:return r.key===n?d(e,t,r,a):null;case T:return h(e,t,(n=r._init)(r._payload),a)}if(te(r)||I(r))return null!==n?null:u(e,t,r,a,null);fs(e,r)}return null}function g(e,t,r,a,n){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(r)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case w:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case T:return g(e,t,r,(0,a._init)(a._payload),n)}if(te(a)||I(a))return u(t,e=e.get(r)||null,a,n,null);fs(t,a)}return null}function p(n,s,o,l){for(var c=null,d=null,u=s,p=s=0,x=null;null!==u&&p<o.length;p++){u.index>p?(x=u,u=null):x=u.sibling;var f=h(n,u,o[p],l);if(null===f){null===u&&(u=x);break}e&&u&&null===f.alternate&&t(n,u),s=i(f,s,p),null===d?c=f:d.sibling=f,d=f,u=x}if(p===o.length)return r(n,u),ns&&Zn(n,p),c;if(null===u){for(;p<o.length;p++)null!==(u=m(n,o[p],l))&&(s=i(u,s,p),null===d?c=u:d.sibling=u,d=u);return ns&&Zn(n,p),c}for(u=a(n,u);p<o.length;p++)null!==(x=g(u,n,p,o[p],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?p:x.key),s=i(x,s,p),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(n,e)}),ns&&Zn(n,p),c}function x(n,o,l,c){var d=I(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,p=o,x=o=0,f=null,b=l.next();null!==p&&!b.done;x++,b=l.next()){p.index>x?(f=p,p=null):f=p.sibling;var y=h(n,p,b.value,c);if(null===y){null===p&&(p=f);break}e&&p&&null===y.alternate&&t(n,p),o=i(y,o,x),null===u?d=y:u.sibling=y,u=y,p=f}if(b.done)return r(n,p),ns&&Zn(n,x),d;if(null===p){for(;!b.done;x++,b=l.next())null!==(b=m(n,b.value,c))&&(o=i(b,o,x),null===u?d=b:u.sibling=b,u=b);return ns&&Zn(n,x),d}for(p=a(n,p);!b.done;x++,b=l.next())null!==(b=g(p,n,x,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?x:b.key),o=i(b,o,x),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach(function(e){return t(n,e)}),ns&&Zn(n,x),d}return function e(a,s,i,l){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===k){if(7===d.tag){r(a,d.sibling),(s=n(d,i.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&bs(c)===d.type){r(a,d.sibling),(s=n(d,i.props)).ref=xs(a,d,i),s.return=a,a=s;break e}r(a,d);break}t(a,d),d=d.sibling}i.type===k?((s=Ic(i.props.children,a.mode,l,i.key)).return=a,a=s):((l=Mc(i.type,i.key,i.props,null,a.mode,l)).ref=xs(a,s,i),l.return=a,a=l)}return o(a);case w:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){r(a,s.sibling),(s=n(s,i.children||[])).return=a,a=s;break e}r(a,s);break}t(a,s),s=s.sibling}(s=Fc(i,a.mode,l)).return=a,a=s}return o(a);case T:return e(a,s,(d=i._init)(i._payload),l)}if(te(i))return p(a,s,i,l);if(I(i))return x(a,s,i,l);fs(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(r(a,s.sibling),(s=n(s,i)).return=a,a=s):(r(a,s),(s=Rc(i,a.mode,l)).return=a,a=s),o(a)):r(a,s)}}var vs=ys(!0),js=ys(!1),ws=Nn(null),ks=null,Ns=null,_s=null;function Ss(){_s=Ns=ks=null}function As(e){var t=ws.current;_n(ws),e._currentValue=t}function Cs(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Es(e,t){ks=e,_s=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===ks)throw Error(s(308));Ns=e,ks.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Ps=null;function Ts(e){null===Ps?Ps=[e]:Ps.push(e)}function Ls(e,t,r,a){var n=t.interleaved;return null===n?(r.next=r,Ts(t)):(r.next=n.next,n.next=r),t.interleaved=r,Ms(e,a)}function Ms(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Is=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Cl)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Ms(e,r)}return null===(n=a.interleaved)?(t.next=t,Ts(a)):(t.next=n.next,n.next=t),a.interleaved=t,Ms(e,r)}function Us(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,bt(e,r)}}function qs(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?n=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zs(e,t,r,a){var n=e.updateQueue;Is=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=n.baseState;for(i=0,d=c=l=null,o=s;;){var m=o.lane,h=o.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,p=o;switch(m=t,h=r,p.tag){case 1:if("function"===typeof(g=p.payload)){u=g.call(h,u,m);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(m="function"===typeof(g=p.payload)?g.call(h,u,m):g)||void 0===m)break e;u=R({},u,m);break e;case 2:Is=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=n.effects)?n.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=m;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(m=o).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===s&&(n.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=u}}function Hs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=r,"function"!==typeof n)throw Error(s(191,n));n.call(a)}}}var Vs={},Gs=Nn(Vs),Ws=Nn(Vs),Ks=Nn(Vs);function Js(e){if(e===Vs)throw Error(s(174));return e}function Ys(e,t){switch(Sn(Ks,t),Sn(Ws,e),Sn(Gs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_n(Gs),Sn(Gs,t)}function $s(){_n(Gs),_n(Ws),_n(Ks)}function Qs(e){Js(Ks.current);var t=Js(Gs.current),r=le(t,e.type);t!==r&&(Sn(Ws,e),Sn(Gs,r))}function Zs(e){Ws.current===e&&(_n(Gs),_n(Ws))}var Xs=Nn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=v.ReactCurrentDispatcher,ni=v.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(s(321))}function gi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ia(e[r],t[r]))return!1;return!0}function pi(e,t,r,a,n,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:Xi,e=r(a,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ai.current=eo,e=r(a,n)}while(di)}if(ai.current=Qi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function xi(){var e=0!==ui;return ui=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function yi(e,t){return"function"===typeof t?t(e):t}function vi(e){var t=bi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=oi,n=a.baseQueue,i=r.pending;if(null!==i){if(null!==n){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,r.pending=null}if(null!==n){i=n.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=a):c=c.next=m,ii.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=a:c.next=l,ia(a,t.memoizedState)||(yo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(null!==(e=r.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Dl|=i,n=n.next}while(n!==e)}else null===n&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ji(e){var t=bi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=t.memoizedState;if(null!==n){r.pending=null;var o=n=n.next;do{i=e(i,o.action),o=o.next}while(o!==n);ia(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function wi(){}function ki(e,t){var r=ii,a=bi(),n=t(),i=!ia(a.memoizedState,n);if(i&&(a.memoizedState=n,yo=!0),a=a.queue,Ii(Si.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(r.flags|=2048,Oi(9,_i.bind(null,r,a,n,t),void 0,null),null===El)throw Error(s(349));0!==(30&si)||Ni(r,t,n)}return n}function Ni(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _i(e,t,r,a){t.value=r,t.getSnapshot=a,Ai(t)&&Ci(e)}function Si(e,t,r){return r(function(){Ai(t)&&Ci(e)})}function Ai(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ia(e,r)}catch(a){return!0}}function Ci(e){var t=Ms(e,1);null!==t&&rc(t,e,1,-1)}function Ei(e){var t=fi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Oi(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function Pi(){return bi().memoizedState}function Ti(e,t,r,a){var n=fi();ii.flags|=e,n.memoizedState=Oi(1|t,r,void 0,void 0===a?null:a)}function Li(e,t,r,a){var n=bi();a=void 0===a?null:a;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==a&&gi(a,i.deps))return void(n.memoizedState=Oi(t,r,s,a))}ii.flags|=e,n.memoizedState=Oi(1|t,r,s,a)}function Mi(e,t){return Ti(8390656,8,e,t)}function Ii(e,t){return Li(2048,8,e,t)}function Di(e,t){return Li(4,2,e,t)}function Ri(e,t){return Li(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Li(4,4,Fi.bind(null,t,e),r)}function Ui(){}function qi(e,t){var r=bi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&gi(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function zi(e,t){var r=bi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&gi(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Hi(e,t,r){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=r):(ia(r,t)||(r=pt(),ii.lanes|=r,Dl|=r,e.baseState=!0),t)}function Vi(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var a=ni.transition;ni.transition={};try{e(!1),t()}finally{yt=r,ni.transition=a}}function Gi(){return bi().memoizedState}function Wi(e,t,r){var a=tc(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ji(e))Yi(t,r);else if(null!==(r=Ls(e,t,r,a))){rc(r,e,a,ec()),$i(r,t,a)}}function Ki(e,t,r){var a=tc(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Yi(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(n.hasEagerState=!0,n.eagerState=o,ia(o,i)){var l=t.interleaved;return null===l?(n.next=n,Ts(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(r=Ls(e,t,n,a))&&(rc(r,e,a,n=ec()),$i(r,t,a))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Yi(e,t){di=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $i(e,t,r){if(0!==(4194240&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,bt(e,r)}}var Qi={readContext:Os,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Zi={readContext:Os,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Mi,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ti(4194308,4,Fi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var r=fi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=fi();return t=void 0!==r?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:Ei,useDebugValue:Ui,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Ei(!1),t=e[0];return e=Vi.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ii,n=fi();if(ns){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===El)throw Error(s(349));0!==(30&si)||Ni(a,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,Mi(Si.bind(null,a,i,e),[e]),a.flags|=2048,Oi(9,_i.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=fi(),t=El.identifierPrefix;if(ns){var r=Qn;t=":"+t+"R"+(r=($n&~(1<<32-it($n)-1)).toString(32)+r),0<(r=ui++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xi={readContext:Os,useCallback:qi,useContext:Os,useEffect:Ii,useImperativeHandle:Bi,useInsertionEffect:Di,useLayoutEffect:Ri,useMemo:zi,useReducer:vi,useRef:Pi,useState:function(){return vi(yi)},useDebugValue:Ui,useDeferredValue:function(e){return Hi(bi(),oi.memoizedState,e)},useTransition:function(){return[vi(yi)[0],bi().memoizedState]},useMutableSource:wi,useSyncExternalStore:ki,useId:Gi,unstable_isNewReconciler:!1},eo={readContext:Os,useCallback:qi,useContext:Os,useEffect:Ii,useImperativeHandle:Bi,useInsertionEffect:Di,useLayoutEffect:Ri,useMemo:zi,useReducer:ji,useRef:Pi,useState:function(){return ji(yi)},useDebugValue:Ui,useDeferredValue:function(e){var t=bi();return null===oi?t.memoizedState=e:Hi(t,oi.memoizedState,e)},useTransition:function(){return[ji(yi)[0],bi().memoizedState]},useMutableSource:wi,useSyncExternalStore:ki,useId:Gi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=R({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,a){r=null===(r=r(a,t=e.memoizedState))||void 0===r?t:R({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=ec(),n=tc(e),s=Fs(a,n);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Bs(e,s,n))&&(rc(t,e,n,a),Us(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=ec(),n=tc(e),s=Fs(a,n);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Bs(e,s,n))&&(rc(t,e,n,a),Us(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),a=tc(e),n=Fs(r,a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Bs(e,n,a))&&(rc(t,e,a,r),Us(t,e,a))}};function no(e,t,r,a,n,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!oa(r,a)||!oa(n,s))}function so(e,t,r){var a=!1,n=An,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(n=Tn(t)?On:Cn.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Pn(e,n):An),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,r,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?n.context=Os(s):(s=Tn(t)?On:Cn.current,n.context=Pn(e,s)),n.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,r),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ao.enqueueReplaceState(n,n.state,null),zs(e,r,n,a),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",a=t;do{r+=q(a),a=a.return}while(a);var n=r}catch(s){n="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:n,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,r){(r=Fs(-1,r)).tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Vl||(Vl=!0,Gl=a),uo(0,t)},r}function go(e,t,r){(r=Fs(-1,r)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof a&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function po(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new mo;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=_c.bind(null,e,t,r),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fo(e,t,r,a,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fs(-1,1)).tag=2,Bs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var bo=v.ReactCurrentOwner,yo=!1;function vo(e,t,r,a){t.child=null===e?js(t,null,r,a):vs(t,e.child,r,a)}function jo(e,t,r,a,n){r=r.render;var s=t.ref;return Es(t,n),a=pi(e,t,r,a,s,n),r=xi(),null===e||yo?(ns&&r&&es(t),t.flags|=1,vo(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vo(e,t,n))}function wo(e,t,r,a,n){if(null===e){var s=r.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Mc(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,a,n))}if(s=e.child,0===(e.lanes&n)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:oa)(i,a)&&e.ref===t.ref)return Vo(e,t,n)}return t.flags|=1,(e=Lc(s,a)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(oa(s,a)&&e.ref===t.ref){if(yo=!1,t.pendingProps=a=s,0===(e.lanes&n))return t.lanes=e.lanes,Vo(e,t,n);0!==(131072&e.flags)&&(yo=!0)}}return So(e,t,r,a,n)}function No(e,t,r){var a=t.pendingProps,n=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Ll,Tl),Tl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sn(Ll,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:r,Sn(Ll,Tl),Tl|=a}else null!==s?(a=s.baseLanes|r,t.memoizedState=null):a=r,Sn(Ll,Tl),Tl|=a;return vo(e,t,n,r),t.child}function _o(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,r,a,n){var s=Tn(r)?On:Cn.current;return s=Pn(t,s),Es(t,n),r=pi(e,t,r,a,s,n),a=xi(),null===e||yo?(ns&&a&&es(t),t.flags|=1,vo(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vo(e,t,n))}function Ao(e,t,r,a,n){if(Tn(r)){var s=!0;Dn(t)}else s=!1;if(Es(t,n),null===t.stateNode)Ho(e,t),so(t,r,a),oo(t,r,a,n),a=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Pn(t,c=Tn(r)?On:Cn.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==a||l!==c)&&io(t,i,a,c),Is=!1;var m=t.memoizedState;i.state=m,zs(t,a,i,n),l=t.memoizedState,o!==a||m!==l||En.current||Is?("function"===typeof d&&(ro(t,r,d,a),l=t.memoizedState),(o=Is||no(t,r,o,a,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Rs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Os(l):l=Pn(t,l=Tn(r)?On:Cn.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&io(t,i,a,l),Is=!1,m=t.memoizedState,i.state=m,zs(t,a,i,n);var g=t.memoizedState;o!==u||m!==g||En.current||Is?("function"===typeof h&&(ro(t,r,h,a),g=t.memoizedState),(c=Is||no(t,r,c,a,m,g,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,g,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,g,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),i.props=a,i.state=g,i.context=l,a=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return Co(e,t,r,a,s,n)}function Co(e,t,r,a,n,s){_o(e,t);var i=0!==(128&t.flags);if(!a&&!i)return n&&Rn(t,r,!1),Vo(e,t,s);a=t.stateNode,bo.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,o,s)):vo(e,t,o,s),t.memoizedState=a.state,n&&Rn(t,r,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Mn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mn(0,t.context,!1),Ys(e,t.containerInfo)}function Oo(e,t,r,a,n){return hs(),gs(n),t.flags|=256,vo(e,t,r,a),t.child}var Po,To,Lo,Mo,Io={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,t,r){var a,n=t.pendingProps,i=Xs.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sn(Xs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,n,0,null),e=Ic(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(r),t.memoizedState=Io,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,r,a,n,i,o){if(r)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,a=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=Dc({mode:"visible",children:a.children},n,0,null),(i=Ic(i,n,o,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&vs(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Io,i);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===n.data){if(a=n.nextSibling&&n.nextSibling.dataset)var l=a.dgst;return a=l,Bo(e,t,o,a=co(i=Error(s(419)),a,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(a=El)){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(a.suspendedLanes|o))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Ms(e,n),rc(a,e,n,-1))}return pc(),Bo(e,t,o,a=co(Error(s(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,as=cn(n.nextSibling),rs=t,ns=!0,ss=null,null!==e&&(Kn[Jn++]=$n,Kn[Jn++]=Qn,Kn[Jn++]=Yn,$n=e.id,Qn=e.overflow,Yn=t),t=Fo(t,a.children),t.flags|=4096,t)}(e,t,l,n,a,i,r);if(o){o=n.fallback,l=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Lc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?o=Lc(a,o):(o=Ic(o,l,r,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Io,n}return e=(o=e.child).sibling,n=Lc(o,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,r,a){return null!==a&&gs(a),vs(t,e.child,null,r),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Cs(e.return,t,r)}function qo(e,t,r,a,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function zo(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;if(vo(e,t,a.children,r),0!==(2&(a=Xs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,r,t);else if(19===e.tag)Uo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Sn(Xs,a),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),qo(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}qo(t,!0,r,null,s);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Lc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Lc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Go(e,t){if(!ns)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Ko(e,t,r){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Tn(t.type)&&Ln(),Wo(t),null;case 3:return a=t.stateNode,$s(),_n(En),_n(Cn),ri(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),To(e,t),Wo(t),null;case 5:Zs(t);var n=Js(Ks.current);if(r=t.type,null!==e&&null!=t.stateNode)Lo(e,t,r,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Js(Gs.current),us(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[mn]=t,a[hn]=i,e=0!==(1&t.mode),r){case"dialog":Fa("cancel",a),Fa("close",a);break;case"iframe":case"object":case"embed":Fa("load",a);break;case"video":case"audio":for(n=0;n<Ma.length;n++)Fa(Ma[n],a);break;case"source":Fa("error",a);break;case"img":case"image":case"link":Fa("error",a),Fa("load",a);break;case"details":Fa("toggle",a);break;case"input":$(a,i),Fa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Fa("invalid",a);break;case"textarea":ne(a,i),Fa("invalid",a)}for(var l in be(r,i),n=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Qa(a.textContent,c,e),n=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Qa(a.textContent,c,e),n=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fa("scroll",a)}switch(r){case"input":W(a),X(a,i,!0);break;case"textarea":W(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Za)}a=n,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),"select"===r&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[mn]=t,e[hn]=a,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(r,a),r){case"dialog":Fa("cancel",e),Fa("close",e),n=a;break;case"iframe":case"object":case"embed":Fa("load",e),n=a;break;case"video":case"audio":for(n=0;n<Ma.length;n++)Fa(Ma[n],e);n=a;break;case"source":Fa("error",e),n=a;break;case"img":case"image":case"link":Fa("error",e),Fa("load",e),n=a;break;case"details":Fa("toggle",e),n=a;break;case"input":$(e,a),n=Y(e,a),Fa("invalid",e);break;case"option":default:n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=R({},a,{value:void 0}),Fa("invalid",e);break;case"textarea":ne(e,a),n=ae(e,a),Fa("invalid",e)}for(i in be(r,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Fa("scroll",e):null!=d&&y(e,i,d,l))}switch(r){case"input":W(e),X(e,a,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+V(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?re(e,!!a.multiple,i,!1):null!=a.defaultValue&&re(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Za)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(r=Js(Ks.current),Js(Gs.current),us(t)){if(a=t.stateNode,r=t.memoizedProps,a[mn]=t,(i=a.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Qa(a.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qa(a.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[mn]=t,t.stateNode=a}return Wo(t),null;case 13:if(_n(Xs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ns&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ms(),hs(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[mn]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Ml&&(Ml=3):pc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return $s(),To(e,t),null===e&&qa(t.stateNode.containerInfo),Wo(t),null;case 10:return As(t.type._context),Wo(t),null;case 19:if(_n(Xs),null===(i=t.memoizedState))return Wo(t),null;if(a=0!==(128&t.flags),null===(l=i.rendering))if(a)Go(i,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Go(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;null!==r;)e=a,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sn(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>zl&&(t.flags|=128,a=!0,Go(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(l))){if(t.flags|=128,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Go(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ns)return Wo(t),null}else 2*Qe()-i.renderingStartTime>zl&&1073741824!==r&&(t.flags|=128,a=!0,Go(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,r=Xs.current,Sn(Xs,a?1&r|2:1&r),t):(Wo(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Jo(e,t){switch(ts(t),t.tag){case 1:return Tn(t.type)&&Ln(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),_n(En),_n(Cn),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(_n(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _n(Xs),null;case 4:return $s(),null;case 10:return As(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Po=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},To=function(){},Lo=function(e,t,r,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Js(Gs.current);var s,i=null;switch(r){case"input":n=Y(e,n),a=Y(e,a),i=[];break;case"select":n=R({},n,{value:void 0}),a=R({},a,{value:void 0}),i=[];break;case"textarea":n=ae(e,n),a=ae(e,a),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in be(r,a),r=null,n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var l=n[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=n?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fa("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Mo=function(e,t,r,a){r!==a&&(t.flags|=4)};var Yo=!1,$o=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Xo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(a){Nc(e,t,a)}else r.current=null}function el(e,t,r){try{r()}catch(a){Nc(e,t,a)}}var tl=!1;function rl(e,t,r){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,void 0!==s&&el(t,r,s)}n=n.next}while(n!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mn],delete t[hn],delete t[pn],delete t[xn],delete t[fn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function ml(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(nt,r)}catch(o){}switch(r.tag){case 5:$o||Xo(r,t);case 6:var a=dl,n=ul;dl=null,ml(e,t,r),ul=n,null!==(dl=a)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?ln(e.parentNode,r):1===e.nodeType&&ln(e,r),zt(e)):ln(dl,r.stateNode));break;case 4:a=dl,n=ul,dl=r.stateNode.containerInfo,ul=!0,ml(e,t,r),dl=a,ul=n;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(a=r.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var s=n,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(r,t,i),n=n.next}while(n!==a)}ml(e,t,r);break;case 1:if(!$o&&(Xo(r,t),"function"===typeof(a=r.stateNode).componentWillUnmount))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){Nc(r,t,o)}ml(e,t,r);break;case 21:ml(e,t,r);break;case 22:1&r.mode?($o=(a=$o)||null!==r.memoizedState,ml(e,t,r),$o=a):ml(e,t,r);break;default:ml(e,t,r)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qo),t.forEach(function(t){var a=Cc.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}}function pl(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));hl(i,o,n),dl=null,ul=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){Nc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),fl(e),4&a){try{rl(3,e,e.return),al(3,e)}catch(x){Nc(e,e.return,x)}try{rl(5,e,e.return)}catch(x){Nc(e,e.return,x)}}break;case 1:pl(t,e),fl(e),512&a&&null!==r&&Xo(r,r.return);break;case 5:if(pl(t,e),fl(e),512&a&&null!==r&&Xo(r,r.return),32&e.flags){var n=e.stateNode;try{me(n,"")}catch(x){Nc(e,e.return,x)}}if(4&a&&null!=(n=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(n,i),ye(l,o);var d=ye(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?xe(n,m):"dangerouslySetInnerHTML"===u?ue(n,m):"children"===u?me(n,m):y(n,u,m,d)}switch(l){case"input":Z(n,i);break;case"textarea":se(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var g=i.value;null!=g?re(n,!!i.multiple,g,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(n,!!i.multiple,i.defaultValue,!0):re(n,!!i.multiple,i.multiple?[]:"",!1))}n[hn]=i}catch(x){Nc(e,e.return,x)}}break;case 6:if(pl(t,e),fl(e),4&a){if(null===e.stateNode)throw Error(s(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(x){Nc(e,e.return,x)}}break;case 3:if(pl(t,e),fl(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(x){Nc(e,e.return,x)}break;case 4:default:pl(t,e),fl(e);break;case 13:pl(t,e),fl(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(ql=Qe())),4&a&&gl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?($o=(d=$o)||u,pl(t,e),$o=d):pl(t,e),fl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(m=Zo=u;null!==Zo;){switch(g=(h=Zo).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Xo(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){a=h,r=h.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Nc(a,r,x)}}break;case 5:Xo(h,h.return);break;case 22:if(null!==h.memoizedState){jl(m);continue}}null!==g?(g.return=h,Zo=g):jl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{n=m.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(x){Nc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){Nc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pl(t,e),fl(e),4&a&&gl(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var a=r;break e}r=r.return}throw Error(s(160))}switch(a.tag){case 5:var n=a.stateNode;32&a.flags&&(me(n,""),a.flags&=-33),cl(e,ol(e),n);break;case 3:case 4:var i=a.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,r){Zo=e,yl(e,t,r)}function yl(e,t,r){for(var a=0!==(1&e.mode);null!==Zo;){var n=Zo,s=n.child;if(22===n.tag&&a){var i=null!==n.memoizedState||Yo;if(!i){var o=n.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Yo;var c=$o;if(Yo=i,($o=l)&&!c)for(Zo=n;null!==Zo;)l=(i=Zo).child,22===i.tag&&null!==i.memoizedState?wl(n):null!==l?(l.return=i,Zo=l):wl(n);for(;null!==s;)Zo=s,yl(s,t,r),s=s.sibling;Zo=n,Yo=o,$o=c}vl(e)}else 0!==(8772&n.subtreeFlags)&&null!==s?(s.return=n,Zo=s):vl(e)}}function vl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!$o)if(null===r)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hs(t,i,a);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Hs(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&zt(m)}}}break;default:throw Error(s(163))}$o||512&t.flags&&nl(t)}catch(h){Nc(t,t.return,h)}}if(t===e){Zo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zo=r;break}Zo=t.return}}function jl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zo=r;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{al(4,t)}catch(l){Nc(t,r,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(l){Nc(t,n,l)}}var s=t.return;try{nl(t)}catch(l){Nc(t,s,l)}break;case 5:var i=t.return;try{nl(t)}catch(l){Nc(t,i,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var kl,Nl=Math.ceil,_l=v.ReactCurrentDispatcher,Sl=v.ReactCurrentOwner,Al=v.ReactCurrentBatchConfig,Cl=0,El=null,Ol=null,Pl=0,Tl=0,Ll=Nn(0),Ml=0,Il=null,Dl=0,Rl=0,Fl=0,Bl=null,Ul=null,ql=0,zl=1/0,Hl=null,Vl=!1,Gl=null,Wl=null,Kl=!1,Jl=null,Yl=0,$l=0,Ql=null,Zl=-1,Xl=0;function ec(){return 0!==(6&Cl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==ps.transition?(0===Xl&&(Xl=pt()),Xl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,r,a){if(50<$l)throw $l=0,Ql=null,Error(s(185));ft(e,r,a),0!==(2&Cl)&&e===El||(e===El&&(0===(2&Cl)&&(Rl|=r),4===Ml&&oc(e,Pl)),ac(e,a),1===r&&0===Cl&&0===(1&t.mode)&&(zl=Qe()+500,Bn&&zn()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=n[i];-1===l?0!==(o&r)&&0===(o&a)||(n[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=mt(e,e===El?Pl:0);if(0===a)null!==r&&Je(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=r&&Je(r),1===t)0===e.tag?function(e){Bn=!0,qn(e)}(lc.bind(null,e)):qn(lc.bind(null,e)),sn(function(){0===(6&Cl)&&zn()}),r=null;else{switch(vt(a)){case 1:r=Xe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=at}r=Ec(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Zl=-1,Xl=0,0!==(6&Cl))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var a=mt(e,e===El?Pl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=xc(e,a);else{t=a;var n=Cl;Cl|=2;var i=gc();for(El===e&&Pl===t||(Hl=null,zl=Qe()+500,mc(e,t));;)try{bc();break}catch(l){hc(e,l)}Ss(),_l.current=i,Cl=n,null!==Ol?t=0:(El=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(n=gt(e))&&(a=n,t=sc(e,n))),1===t)throw r=Il,mc(e,0),oc(e,a),ac(e,Qe()),r;if(6===t)oc(e,a);else{if(n=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!ia(s(),n))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=xc(e,a))&&(0!==(i=gt(e))&&(a=i,t=sc(e,i))),1===t))throw r=Il,mc(e,0),oc(e,a),ac(e,Qe()),r;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Ul,Hl);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=ql+500-Qe())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=rn(jc.bind(null,e,Ul,Hl),t);break}jc(e,Ul,Hl);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-it(a);i=1<<o,(o=t[o])>n&&(n=o),a&=~i}if(a=n,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Nl(a/1960))-a)){e.timeoutHandle=rn(jc.bind(null,e,Ul,Hl),a);break}jc(e,Ul,Hl);break;default:throw Error(s(329))}}}return ac(e,Qe()),e.callbackNode===r?nc.bind(null,e):null}function sc(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Ul,Ul=r,null!==t&&ic(t)),e}function ic(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),a=1<<r;e[r]=-1,t&=~a}}function lc(e){if(0!==(6&Cl))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return ac(e,Qe()),null;var r=xc(e,t);if(0!==e.tag&&2===r){var a=gt(e);0!==a&&(t=a,r=sc(e,a))}if(1===r)throw r=Il,mc(e,0),oc(e,t),ac(e,Qe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Ul,Hl),ac(e,Qe()),null}function cc(e,t){var r=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=r)&&(zl=Qe()+500,Bn&&zn())}}function dc(e){null!==Jl&&0===Jl.tag&&0===(6&Cl)&&wc();var t=Cl;Cl|=1;var r=Al.transition,a=yt;try{if(Al.transition=null,yt=1,e)return e()}finally{yt=a,Al.transition=r,0===(6&(Cl=t))&&zn()}}function uc(){Tl=Ll.current,_n(Ll)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,an(r)),null!==Ol)for(r=Ol.return;null!==r;){var a=r;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ln();break;case 3:$s(),_n(En),_n(Cn),ri();break;case 5:Zs(a);break;case 4:$s();break;case 13:case 19:_n(Xs);break;case 10:As(a.type._context);break;case 22:case 23:uc()}r=r.return}if(El=e,Ol=e=Lc(e.current,null),Pl=Tl=t,Ml=0,Il=null,Fl=Rl=Dl=0,Ul=Bl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(a=(r=Ps[t]).interleaved)){r.interleaved=null;var n=a.next,s=r.pending;if(null!==s){var i=s.next;s.next=n,a.next=i}r.pending=a}Ps=null}return e}function hc(e,t){for(;;){var r=Ol;try{if(Ss(),ai.current=Qi,ci){for(var a=ii.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Sl.current=null,null===r||null===r.return){Ml=1,Il=t,Ol=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=xo(o);if(null!==g){g.flags&=-257,fo(g,o,l,0,t),1&g.mode&&po(i,d,t),c=d;var p=(t=g).updateQueue;if(null===p){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}if(0===(1&t)){po(i,d,t),pc();break e}c=Error(s(426))}else if(ns&&1&l.mode){var f=xo(o);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),fo(f,o,l,0,t),gs(lo(c,l));break e}}i=c=lo(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[i]:Bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,qs(i,ho(0,c,t));break e;case 1:l=c;var b=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Wl||!Wl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,qs(i,go(i,l,t));break e}}i=i.return}while(null!==i)}vc(r)}catch(v){t=v,Ol===r&&null!==r&&(Ol=r=r.return);continue}break}}function gc(){var e=_l.current;return _l.current=Qi,null===e?Qi:e}function pc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===El||0===(268435455&Dl)&&0===(268435455&Rl)||oc(El,Pl)}function xc(e,t){var r=Cl;Cl|=2;var a=gc();for(El===e&&Pl===t||(Hl=null,mc(e,t));;)try{fc();break}catch(n){hc(e,n)}if(Ss(),Cl=r,_l.current=a,null!==Ol)throw Error(s(261));return El=null,Pl=0,Ml}function fc(){for(;null!==Ol;)yc(Ol)}function bc(){for(;null!==Ol&&!Ye();)yc(Ol)}function yc(e){var t=kl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?vc(e):Ol=t,Sl.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ko(r,t,Tl)))return void(Ol=r)}else{if(null!==(r=Jo(r,t)))return r.flags&=32767,void(Ol=r);if(null===e)return Ml=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ml&&(Ml=5)}function jc(e,t,r){var a=yt,n=Al.transition;try{Al.transition=null,yt=1,function(e,t,r,a){do{wc()}while(null!==Jl);if(0!==(6&Cl))throw Error(s(327));r=e.finishedWork;var n=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-it(r),s=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~s}}(e,i),e===El&&(Ol=El=null,Pl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Ec(tt,function(){return wc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Al.transition,Al.transition=null;var o=yt;yt=1;var l=Cl;Cl|=4,Sl.current=null,function(e,t){if(Xa=Vt,ma(e=ua())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch(j){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var g;m!==r||0!==n&&3!==m.nodeType||(l=o+n),m!==i||0!==a&&3!==m.nodeType||(c=o+a),3===m.nodeType&&(o+=m.nodeValue.length),null!==(g=m.firstChild);)h=m,m=g;for(;;){if(m===e)break t;if(h===r&&++d===n&&(l=o),h===i&&++u===a&&(c=o),null!==(g=m.nextSibling))break;h=(m=h).parentNode}m=g}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(en={focusedElem:e,selectionRange:r},Vt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var x=p.memoizedProps,f=p.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:to(t.type,x),f);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){Nc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}p=tl,tl=!1}(e,r),xl(r,e),ha(en),Vt=!!Xa,en=Xa=null,e.current=r,bl(r,e,n),$e(),Cl=l,yt=o,Al.transition=i}else e.current=r;if(Kl&&(Kl=!1,Jl=e,Yl=n),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,Qe()),null!==t)for(a=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Ql?$l++:($l=0,Ql=e):$l=0,zn()}(e,t,r,a)}finally{Al.transition=n,yt=a}return null}function wc(){if(null!==Jl){var e=vt(Yl),t=Al.transition,r=yt;try{if(Al.transition=null,yt=16>e?16:e,null===Jl)var a=!1;else{if(e=Jl,Jl=null,Yl=0,0!==(6&Cl))throw Error(s(331));var n=Cl;for(Cl|=4,Zo=e.current;null!==Zo;){var i=Zo,o=i.child;if(0!==(16&Zo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:rl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Zo=m;else for(;null!==Zo;){var h=(u=Zo).sibling,g=u.return;if(sl(u),u===d){Zo=null;break}if(null!==h){h.return=g,Zo=h;break}Zo=g}}}var p=i.alternate;if(null!==p){var x=p.child;if(null!==x){p.child=null;do{var f=x.sibling;x.sibling=null,x=f}while(null!==x)}}Zo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(i=Zo).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Zo=b;break e}Zo=i.return}}var y=e.current;for(Zo=y;null!==Zo;){var v=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,Zo=v;else e:for(o=y;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(w){Nc(l,l.return,w)}if(l===o){Zo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Zo=j;break e}Zo=l.return}}if(Cl=n,zn(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(nt,e)}catch(w){}a=!0}return a}finally{yt=r,Al.transition=t}}return!1}function kc(e,t,r){e=Bs(e,t=ho(0,t=lo(r,t),1),1),t=ec(),null!==e&&(ft(e,1,t),ac(e,t))}function Nc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Wl||!Wl.has(a))){t=Bs(t,e=go(t,e=lo(r,e),1),1),e=ec(),null!==t&&(ft(t,1,e),ac(t,e));break}}t=t.return}}function _c(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Pl&r)===r&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>Qe()-ql?mc(e,0):Fl|=r),ac(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Ms(e,t))&&(ft(e,t,r),ac(e,r))}function Ac(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Cc(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Sc(e,r)}function Ec(e,t){return Ke(e,t)}function Oc(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,r,a){return new Oc(e,t,r,a)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var r=e.alternate;return null===r?((r=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mc(e,t,r,a,n,i){var o=2;if(a=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Ic(r.children,n,i,t);case N:o=8,n|=8;break;case _:return(e=Pc(12,r,t,2|n)).elementType=_,e.lanes=i,e;case E:return(e=Pc(13,r,t,n)).elementType=E,e.lanes=i,e;case O:return(e=Pc(19,r,t,n)).elementType=O,e.lanes=i,e;case L:return Dc(r,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case A:o=9;break e;case C:o=11;break e;case P:o=14;break e;case T:o=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,r,t,n)).elementType=e,t.type=a,t.lanes=i,t}function Ic(e,t,r,a){return(e=Pc(7,e,a,t)).lanes=r,e}function Dc(e,t,r,a){return(e=Pc(22,e,a,t)).elementType=L,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,t,r){return(e=Pc(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,a,n,s,i,o,l){return e=new Bc(e,t,r,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function qc(e){if(!e)return An;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Tn(r))return In(e,r,t)}return t}function zc(e,t,r,a,n,s,i,o,l){return(e=Uc(r,a,!0,e,0,s,0,o,l)).context=qc(null),r=e.current,(s=Fs(a=ec(),n=tc(r))).callback=void 0!==t&&null!==t?t:null,Bs(r,s,n),e.current.lanes=n,ft(e,n,a),ac(e,a),e}function Hc(e,t,r,a){var n=t.current,s=ec(),i=tc(n);return r=qc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fs(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Bs(n,t,i))&&(rc(e,n,i,s),Us(e,n,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}kl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||En.current)yo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yo=!1,function(e,t,r){switch(t.tag){case 3:Eo(t),hs();break;case 5:Qs(t);break;case 1:Tn(t.type)&&Dn(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Sn(ws,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Sn(Xs,1&Xs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ro(e,t,r):(Sn(Xs,1&Xs.current),null!==(e=Vo(e,t,r))?e.sibling:null);Sn(Xs,1&Xs.current);break;case 19:if(a=0!==(r&t.childLanes),0!==(128&e.flags)){if(a)return zo(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Sn(Xs,Xs.current),a)break;return null;case 22:case 23:return t.lanes=0,No(e,t,r)}return Vo(e,t,r)}(e,t,r);yo=0!==(131072&e.flags)}else yo=!1,ns&&0!==(1048576&t.flags)&&Xn(t,Wn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ho(e,t),e=t.pendingProps;var n=Pn(t,Cn.current);Es(t,r),n=pi(null,t,a,e,n,r);var i=xi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tn(a)?(i=!0,Dn(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Ds(t),n.updater=ao,t.stateNode=n,n._reactInternals=t,oo(t,a,e,r),t=Co(null,t,a,!0,i,r)):(t.tag=0,ns&&i&&es(t),vo(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,a=(n=a._init)(a._payload),t.type=a,n=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(a),e=to(a,e),n){case 0:t=So(null,t,a,e,r);break e;case 1:t=Ao(null,t,a,e,r);break e;case 11:t=jo(null,t,a,e,r);break e;case 14:t=wo(null,t,a,to(a.type,e),r);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,So(e,t,a,n=t.elementType===a?n:to(a,n),r);case 1:return a=t.type,n=t.pendingProps,Ao(e,t,a,n=t.elementType===a?n:to(a,n),r);case 3:e:{if(Eo(t),null===e)throw Error(s(387));a=t.pendingProps,n=(i=t.memoizedState).element,Rs(e,t),zs(t,a,null,r);var o=t.memoizedState;if(a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Oo(e,t,a,r,n=lo(Error(s(423)),t));break e}if(a!==n){t=Oo(e,t,a,r,n=lo(Error(s(424)),t));break e}for(as=cn(t.stateNode.containerInfo.firstChild),rs=t,ns=!0,ss=null,r=js(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hs(),a===n){t=Vo(e,t,r);break e}vo(e,t,a,r)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),a=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,o=n.children,tn(a,n)?o=null:null!==i&&tn(a,i)&&(t.flags|=32),_o(e,t),vo(e,t,o,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Ro(e,t,r);case 4:return Ys(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=vs(t,null,a,r):vo(e,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,jo(e,t,a,n=t.elementType===a?n:to(a,n),r);case 7:return vo(e,t,t.pendingProps,r),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,Sn(ws,a._currentValue),a._currentValue=o,null!==i)if(ia(i.value,o)){if(i.children===n.children&&!En.current){t=Vo(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Fs(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Cs(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Cs(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}vo(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Es(t,r),a=a(n=Os(n)),t.flags|=1,vo(e,t,a,r),t.child;case 14:return n=to(a=t.type,t.pendingProps),wo(e,t,a,n=to(a.type,n),r);case 15:return ko(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:to(a,n),Ho(e,t),t.tag=1,Tn(a)?(e=!0,Dn(t)):e=!1,Es(t,r),so(t,a,n),oo(t,a,n,r),Co(null,t,a,!0,e,r);case 19:return zo(e,t,r);case 22:return No(e,t,r)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Xc(e,t,r,a,n){var s=r._reactRootContainer;if(s){var i=s;if("function"===typeof n){var o=n;n=function(){var e=Vc(i);o.call(e)}}Hc(t,i,e,n)}else i=function(e,t,r,a,n){if(n){if("function"===typeof a){var s=a;a=function(){var e=Vc(i);s.call(e)}}var i=zc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[gn]=i.current,qa(8===e.nodeType?e.parentNode:e),dc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof a){var o=a;a=function(){var e=Vc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[gn]=l.current,qa(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,r,a)}),l}(r,t,e,n,a);return Vc(i)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[gn]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lt.length&&0!==t&&t<Lt[r].priority;r++);Lt.splice(r,0,e),0===r&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(bt(t,1|r),ac(t,Qe()),0===(6&Cl)&&(zl=Qe()+500,zn()))}break;case 13:dc(function(){var t=Ms(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Wc(e,1)}},wt=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)rc(t,e,134217728,ec());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),r=Ms(e,t);if(null!==r)rc(r,e,t,ec());Wc(e,t)}},Nt=function(){return yt},_t=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},we=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=jn(a);if(!n)throw Error(s(90));K(a),Z(a,n)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ce=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[yn,vn,jn,Se,Ae,cc]},td={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{nt=ad.inject(rd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var r=!1,a="",n=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,a,n),e[gn]=t.current,qa(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(s(200));return Xc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!$c(e))throw Error(s(405));var a=null!=r&&r.hydratedSources||null,n=!1,i="",o=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=zc(t,null,e,1,null!=r?r:null,n,0,i,o),e[gn]=t.current,qa(e),a)for(e=0;e<a.length;e++)n=(n=(r=a[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Yc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(s(200));return Xc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Qc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,r,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var a=r(5193),n=r(2761),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return n(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2823:function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var s=arguments[t],i=0,o=s.length;i<o;i++,n++)a[n]=s[i];return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=i(r(5043)),l=i(r(7950)),c=i(r(9853)),d=i(r(7680)),u=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,a,n){var s,i,o,l;"text-change"===e?null===(i=(s=r).onEditorChangeText)||void 0===i||i.call(s,r.editor.root.innerHTML,t,n,r.unprivilegedEditor):"selection-change"===e&&(null===(l=(o=r).onEditorChangeSelection)||void 0===l||l.call(o,t,n,r.unprivilegedEditor))};var a=r.isControlled()?t.value:t.defaultValue;return r.value=null!==a&&void 0!==a?a:"",r}return a(t,e),t.prototype.validateProps=function(e){var t;if(o.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(e.children)&&"textarea"===(null===(t=o.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,a=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var n=this.getEditorContents(),i=null!==(r=e.value)&&void 0!==r?r:"";this.isEqualValue(i,n)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),s(this.cleanProps,this.dirtyProps).some(function(t){return!c.default(e[t],a.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(r){return!c.default(e[r],t.props[r])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var a=this.editor.getContents(),n=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:n},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var s=this.regenerationSnapshot,i=(a=s.delta,s.selection);delete this.regenerationSnapshot,this.instantiateEditor();var o=this.editor;o.setContents(a),m(function(){return r.setEditorSelection(o,i)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var a=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),m(function(){return r.setEditorSelection(e,a)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,a;(null===(a=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===a?void 0:a.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,a=t.preserveWhitespace,s={key:this.state.generation,ref:function(t){e.editingArea=t}};return o.default.Children.count(r)?o.default.cloneElement(o.default.Children.only(r),s):a?o.default.createElement("pre",n({},s)):o.default.createElement("div",n({},s))},t.prototype.render=function(){var e;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,a){var n,s;if(this.editor){var i=this.isDelta(this.value)?a.getContents():a.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=i,null===(s=(n=this.props).onChange)||void 0===s||s.call(n,e,t,r,a))}},t.prototype.onEditorChangeSelection=function(e,t,r){var a,n,s,i,o,l;if(this.editor){var d=this.getEditorSelection(),u=!d&&e,m=d&&!e;c.default(e,d)||(this.selection=e,null===(n=(a=this.props).onChangeSelection)||void 0===n||n.call(a,e,t,r),u?null===(i=(s=this.props).onFocus)||void 0===i||i.call(s,e,t,r):m&&(null===(l=(o=this.props).onBlur)||void 0===l||l.call(o,d,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(o.default.Component);function m(e){Promise.resolve().then(e)}e.exports=u},2929:(e,t,r)=>{var a=r(6552).Uint8Array;e.exports=a},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3204:(e,t,r)=>{var a=r(3343),n=r(2777),s=r(4052),i=r(4543),o=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),d=!r&&n(e),u=!r&&!d&&i(e),m=!r&&!d&&!u&&l(e),h=r||d||u||m,g=h?a(e.length,String):[],p=g.length;for(var x in e)!t&&!c.call(e,x)||h&&("length"==x||u&&("offset"==x||"parent"==x)||m&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||o(x,p))||g.push(x);return g}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3343:e=>{e.exports=function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}},3440:(e,t,r)=>{var a=r(6552)["__core-js_shared__"];e.exports=a},3536:function(e,t,r){var a;e=r.nmd(e),function(){var n,s="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",l=16,c=32,d=64,u=128,m=256,h=1/0,g=9007199254740991,p=NaN,x=4294967295,f=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",d],["rearg",m]],b="[object Arguments]",y="[object Array]",v="[object Boolean]",j="[object Date]",w="[object Error]",k="[object Function]",N="[object GeneratorFunction]",_="[object Map]",S="[object Number]",A="[object Object]",C="[object Promise]",E="[object RegExp]",O="[object Set]",P="[object String]",T="[object Symbol]",L="[object WeakMap]",M="[object ArrayBuffer]",I="[object DataView]",D="[object Float32Array]",R="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",q="[object Uint8Array]",z="[object Uint8ClampedArray]",H="[object Uint16Array]",V="[object Uint32Array]",G=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(J.source),Q=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,se=RegExp(ne.source),ie=/^\s+/,oe=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,me=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,xe=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Ne="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Ee="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",Te="["+Ne+"]",Le="["+Oe+"]",Me="["+_e+"]",Ie="\\d+",De="["+Se+"]",Re="["+Ae+"]",Fe="[^"+Ne+Oe+Ie+Se+Ae+Ce+"]",Be="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Ne+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ce+"]",Ve="\\u200d",Ge="(?:"+Re+"|"+Fe+")",We="(?:"+He+"|"+Fe+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Je="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Me+"|"+Be+")"+"?",$e="["+Ee+"]?",Qe=$e+Ye+("(?:"+Ve+"(?:"+[Ue,qe,ze].join("|")+")"+$e+Ye+")*"),Ze="(?:"+[De,qe,ze].join("|")+")"+Qe,Xe="(?:"+[Ue+Me+"?",Me,qe,ze,Te].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(Me,"g"),rt=RegExp(Be+"(?="+Be+")|"+Xe+Qe,"g"),at=RegExp([He+"?"+Re+"+"+Ke+"(?="+[Le,He,"$"].join("|")+")",We+"+"+Je+"(?="+[Le,He+Ge,"$"].join("|")+")",He+"?"+Ge+"+"+Ke,He+"+"+Je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Ze].join("|"),"g"),nt=RegExp("["+Ve+Ne+_e+Ee+"]"),st=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,lt={};lt[D]=lt[R]=lt[F]=lt[B]=lt[U]=lt[q]=lt[z]=lt[H]=lt[V]=!0,lt[b]=lt[y]=lt[M]=lt[v]=lt[I]=lt[j]=lt[w]=lt[k]=lt[_]=lt[S]=lt[A]=lt[E]=lt[O]=lt[P]=lt[L]=!1;var ct={};ct[b]=ct[y]=ct[M]=ct[I]=ct[v]=ct[j]=ct[D]=ct[R]=ct[F]=ct[B]=ct[U]=ct[_]=ct[S]=ct[A]=ct[E]=ct[O]=ct[P]=ct[T]=ct[q]=ct[z]=ct[H]=ct[V]=!0,ct[w]=ct[k]=ct[L]=!1;var dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,mt=parseInt,ht="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,gt="object"==typeof self&&self&&self.Object===Object&&self,pt=ht||gt||Function("return this")(),xt=t&&!t.nodeType&&t,ft=xt&&e&&!e.nodeType&&e,bt=ft&&ft.exports===xt,yt=bt&&ht.process,vt=function(){try{var e=ft&&ft.require&&ft.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),jt=vt&&vt.isArrayBuffer,wt=vt&&vt.isDate,kt=vt&&vt.isMap,Nt=vt&&vt.isRegExp,_t=vt&&vt.isSet,St=vt&&vt.isTypedArray;function At(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ct(e,t,r,a){for(var n=-1,s=null==e?0:e.length;++n<s;){var i=e[n];t(a,i,r(i),e)}return a}function Et(e,t){for(var r=-1,a=null==e?0:e.length;++r<a&&!1!==t(e[r],r,e););return e}function Ot(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}function Tt(e,t){for(var r=-1,a=null==e?0:e.length,n=0,s=[];++r<a;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}function Lt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Mt(e,t,r){for(var a=-1,n=null==e?0:e.length;++a<n;)if(r(t,e[a]))return!0;return!1}function It(e,t){for(var r=-1,a=null==e?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}function Dt(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}function Rt(e,t,r,a){var n=-1,s=null==e?0:e.length;for(a&&s&&(r=e[++n]);++n<s;)r=t(r,e[n],n,e);return r}function Ft(e,t,r,a){var n=null==e?0:e.length;for(a&&n&&(r=e[--n]);n--;)r=t(r,e[n],n,e);return r}function Bt(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var Ut=Kt("length");function qt(e,t,r){var a;return r(e,function(e,r,n){if(t(e,r,n))return a=r,!1}),a}function zt(e,t,r,a){for(var n=e.length,s=r+(a?1:-1);a?s--:++s<n;)if(t(e[s],s,e))return s;return-1}function Ht(e,t,r){return t===t?function(e,t,r){var a=r-1,n=e.length;for(;++a<n;)if(e[a]===t)return a;return-1}(e,t,r):zt(e,Gt,r)}function Vt(e,t,r,a){for(var n=r-1,s=e.length;++n<s;)if(a(e[n],t))return n;return-1}function Gt(e){return e!==e}function Wt(e,t){var r=null==e?0:e.length;return r?$t(e,t)/r:p}function Kt(e){return function(t){return null==t?n:t[e]}}function Jt(e){return function(t){return null==e?n:e[t]}}function Yt(e,t,r,a,n){return n(e,function(e,n,s){r=a?(a=!1,e):t(r,e,n,s)}),r}function $t(e,t){for(var r,a=-1,s=e.length;++a<s;){var i=t(e[a]);i!==n&&(r=r===n?i:r+i)}return r}function Qt(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}function Zt(e){return e?e.slice(0,pr(e)+1).replace(ie,""):e}function Xt(e){return function(t){return e(t)}}function er(e,t){return It(t,function(t){return e[t]})}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,a=e.length;++r<a&&Ht(t,e[r],0)>-1;);return r}function ar(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}var nr=Jt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sr=Jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ir(e){return"\\"+dt[e]}function or(e){return nt.test(e)}function lr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}function cr(e,t){return function(r){return e(t(r))}}function dr(e,t){for(var r=-1,a=e.length,n=0,s=[];++r<a;){var i=e[r];i!==t&&i!==o||(e[r]=o,s[n++]=r)}return s}function ur(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function mr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function hr(e){return or(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Ut(e)}function gr(e){return or(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function pr(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var xr=Jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var fr=function e(t){var r=(t=null==t?pt:fr.defaults(pt.Object(),t,fr.pick(pt,it))).Array,a=t.Date,oe=t.Error,Ne=t.Function,_e=t.Math,Se=t.Object,Ae=t.RegExp,Ce=t.String,Ee=t.TypeError,Oe=r.prototype,Pe=Ne.prototype,Te=Se.prototype,Le=t["__core-js_shared__"],Me=Pe.toString,Ie=Te.hasOwnProperty,De=0,Re=function(){var e=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Te.toString,Be=Me.call(Se),Ue=pt._,qe=Ae("^"+Me.call(Ie).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=bt?t.Buffer:n,He=t.Symbol,Ve=t.Uint8Array,Ge=ze?ze.allocUnsafe:n,We=cr(Se.getPrototypeOf,Se),Ke=Se.create,Je=Te.propertyIsEnumerable,Ye=Oe.splice,$e=He?He.isConcatSpreadable:n,Qe=He?He.iterator:n,Ze=He?He.toStringTag:n,Xe=function(){try{var e=us(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,nt=a&&a.now!==pt.Date.now&&a.now,dt=t.setTimeout!==pt.setTimeout&&t.setTimeout,ht=_e.ceil,gt=_e.floor,xt=Se.getOwnPropertySymbols,ft=ze?ze.isBuffer:n,yt=t.isFinite,vt=Oe.join,Ut=cr(Se.keys,Se),Jt=_e.max,br=_e.min,yr=a.now,vr=t.parseInt,jr=_e.random,wr=Oe.reverse,kr=us(t,"DataView"),Nr=us(t,"Map"),_r=us(t,"Promise"),Sr=us(t,"Set"),Ar=us(t,"WeakMap"),Cr=us(Se,"create"),Er=Ar&&new Ar,Or={},Pr=Rs(kr),Tr=Rs(Nr),Lr=Rs(_r),Mr=Rs(Sr),Ir=Rs(Ar),Dr=He?He.prototype:n,Rr=Dr?Dr.valueOf:n,Fr=Dr?Dr.toString:n;function Br(e){if(eo(e)&&!Hi(e)&&!(e instanceof Hr)){if(e instanceof zr)return e;if(Ie.call(e,"__wrapped__"))return Fs(e)}return new zr(e)}var Ur=function(){function e(){}return function(t){if(!Xi(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function qr(){}function zr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=x,this.__views__=[]}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Wr;++t<r;)this.add(e[t])}function Jr(e){var t=this.__data__=new Gr(e);this.size=t.size}function Yr(e,t){var r=Hi(e),a=!r&&zi(e),n=!r&&!a&&Ki(e),s=!r&&!a&&!n&&lo(e),i=r||a||n||s,o=i?Qt(e.length,Ce):[],l=o.length;for(var c in e)!t&&!Ie.call(e,c)||i&&("length"==c||n&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bs(c,l))||o.push(c);return o}function $r(e){var t=e.length;return t?e[Ka(0,t-1)]:n}function Qr(e,t){return Ms(En(e),ia(t,0,e.length))}function Zr(e){return Ms(En(e))}function Xr(e,t,r){(r!==n&&!Bi(e[t],r)||r===n&&!(t in e))&&na(e,t,r)}function ea(e,t,r){var a=e[t];Ie.call(e,t)&&Bi(a,r)&&(r!==n||t in e)||na(e,t,r)}function ta(e,t){for(var r=e.length;r--;)if(Bi(e[r][0],t))return r;return-1}function ra(e,t,r,a){return ua(e,function(e,n,s){t(a,e,r(e),s)}),a}function aa(e,t){return e&&On(t,Po(t),e)}function na(e,t,r){"__proto__"==t&&Xe?Xe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sa(e,t){for(var a=-1,s=t.length,i=r(s),o=null==e;++a<s;)i[a]=o?n:So(e,t[a]);return i}function ia(e,t,r){return e===e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function oa(e,t,r,a,s,i){var o,l=1&t,c=2&t,d=4&t;if(r&&(o=s?r(e,a,s,i):r(e)),o!==n)return o;if(!Xi(e))return e;var u=Hi(e);if(u){if(o=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!l)return En(e,o)}else{var m=gs(e),h=m==k||m==N;if(Ki(e))return kn(e,l);if(m==A||m==b||h&&!s){if(o=c||h?{}:xs(e),!l)return c?function(e,t){return On(e,hs(e),t)}(e,function(e,t){return e&&On(t,To(t),e)}(o,e)):function(e,t){return On(e,ms(e),t)}(e,aa(o,e))}else{if(!ct[m])return s?e:{};o=function(e,t,r){var a=e.constructor;switch(t){case M:return Nn(e);case v:case j:return new a(+e);case I:return function(e,t){var r=t?Nn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case D:case R:case F:case B:case U:case q:case z:case H:case V:return _n(e,r);case _:return new a;case S:case P:return new a(e);case E:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new a;case T:return n=e,Rr?Se(Rr.call(n)):{}}var n}(e,m,l)}}i||(i=new Jr);var g=i.get(e);if(g)return g;i.set(e,o),so(e)?e.forEach(function(a){o.add(oa(a,t,r,a,e,i))}):to(e)&&e.forEach(function(a,n){o.set(n,oa(a,t,r,n,e,i))});var p=u?n:(d?c?ns:as:c?To:Po)(e);return Et(p||e,function(a,n){p&&(a=e[n=a]),ea(o,n,oa(a,t,r,n,e,i))}),o}function la(e,t,r){var a=r.length;if(null==e)return!a;for(e=Se(e);a--;){var s=r[a],i=t[s],o=e[s];if(o===n&&!(s in e)||!i(o))return!1}return!0}function ca(e,t,r){if("function"!=typeof e)throw new Ee(s);return Os(function(){e.apply(n,r)},t)}function da(e,t,r,a){var n=-1,s=Lt,i=!0,o=e.length,l=[],c=t.length;if(!o)return l;r&&(t=It(t,Xt(r))),a?(s=Mt,i=!1):t.length>=200&&(s=tr,i=!1,t=new Kr(t));e:for(;++n<o;){var d=e[n],u=null==r?d:r(d);if(d=a||0!==d?d:0,i&&u===u){for(var m=c;m--;)if(t[m]===u)continue e;l.push(d)}else s(t,u,a)||l.push(d)}return l}Br.templateSettings={escape:Z,evaluate:X,interpolate:ee,variable:"",imports:{_:Br}},Br.prototype=qr.prototype,Br.prototype.constructor=Br,zr.prototype=Ur(qr.prototype),zr.prototype.constructor=zr,Hr.prototype=Ur(qr.prototype),Hr.prototype.constructor=Hr,Vr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Vr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vr.prototype.get=function(e){var t=this.__data__;if(Cr){var r=t[e];return r===i?n:r}return Ie.call(t,e)?t[e]:n},Vr.prototype.has=function(e){var t=this.__data__;return Cr?t[e]!==n:Ie.call(t,e)},Vr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cr&&t===n?i:t,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=ta(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ye.call(t,r,1),--this.size,!0)},Gr.prototype.get=function(e){var t=this.__data__,r=ta(t,e);return r<0?n:t[r][1]},Gr.prototype.has=function(e){return ta(this.__data__,e)>-1},Gr.prototype.set=function(e,t){var r=this.__data__,a=ta(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this},Wr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Nr||Gr),string:new Vr}},Wr.prototype.delete=function(e){var t=cs(this,e).delete(e);return this.size-=t?1:0,t},Wr.prototype.get=function(e){return cs(this,e).get(e)},Wr.prototype.has=function(e){return cs(this,e).has(e)},Wr.prototype.set=function(e,t){var r=cs(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this},Kr.prototype.add=Kr.prototype.push=function(e){return this.__data__.set(e,i),this},Kr.prototype.has=function(e){return this.__data__.has(e)},Jr.prototype.clear=function(){this.__data__=new Gr,this.size=0},Jr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Jr.prototype.get=function(e){return this.__data__.get(e)},Jr.prototype.has=function(e){return this.__data__.has(e)},Jr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Gr){var a=r.__data__;if(!Nr||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Wr(a)}return r.set(e,t),this.size=r.size,this};var ua=Ln(ya),ma=Ln(va,!0);function ha(e,t){var r=!0;return ua(e,function(e,a,n){return r=!!t(e,a,n)}),r}function ga(e,t,r){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=t(i);if(null!=o&&(l===n?o===o&&!oo(o):r(o,l)))var l=o,c=i}return c}function pa(e,t){var r=[];return ua(e,function(e,a,n){t(e,a,n)&&r.push(e)}),r}function xa(e,t,r,a,n){var s=-1,i=e.length;for(r||(r=fs),n||(n=[]);++s<i;){var o=e[s];t>0&&r(o)?t>1?xa(o,t-1,r,a,n):Dt(n,o):a||(n[n.length]=o)}return n}var fa=Mn(),ba=Mn(!0);function ya(e,t){return e&&fa(e,t,Po)}function va(e,t){return e&&ba(e,t,Po)}function ja(e,t){return Tt(t,function(t){return $i(e[t])})}function wa(e,t){for(var r=0,a=(t=yn(t,e)).length;null!=e&&r<a;)e=e[Ds(t[r++])];return r&&r==a?e:n}function ka(e,t,r){var a=t(e);return Hi(e)?a:Dt(a,r(e))}function Na(e){return null==e?e===n?"[object Undefined]":"[object Null]":Ze&&Ze in Se(e)?function(e){var t=Ie.call(e,Ze),r=e[Ze];try{e[Ze]=n;var a=!0}catch(i){}var s=Fe.call(e);a&&(t?e[Ze]=r:delete e[Ze]);return s}(e):function(e){return Fe.call(e)}(e)}function _a(e,t){return e>t}function Sa(e,t){return null!=e&&Ie.call(e,t)}function Aa(e,t){return null!=e&&t in Se(e)}function Ca(e,t,a){for(var s=a?Mt:Lt,i=e[0].length,o=e.length,l=o,c=r(o),d=1/0,u=[];l--;){var m=e[l];l&&t&&(m=It(m,Xt(t))),d=br(m.length,d),c[l]=!a&&(t||i>=120&&m.length>=120)?new Kr(l&&m):n}m=e[0];var h=-1,g=c[0];e:for(;++h<i&&u.length<d;){var p=m[h],x=t?t(p):p;if(p=a||0!==p?p:0,!(g?tr(g,x):s(u,x,a))){for(l=o;--l;){var f=c[l];if(!(f?tr(f,x):s(e[l],x,a)))continue e}g&&g.push(x),u.push(p)}}return u}function Ea(e,t,r){var a=null==(e=As(e,t=yn(t,e)))?e:e[Ds(Ys(t))];return null==a?n:At(a,e,r)}function Oa(e){return eo(e)&&Na(e)==b}function Pa(e,t,r,a,s){return e===t||(null==e||null==t||!eo(e)&&!eo(t)?e!==e&&t!==t:function(e,t,r,a,s,i){var o=Hi(e),l=Hi(t),c=o?y:gs(e),d=l?y:gs(t),u=(c=c==b?A:c)==A,m=(d=d==b?A:d)==A,h=c==d;if(h&&Ki(e)){if(!Ki(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new Jr),o||lo(e)?ts(e,t,r,a,s,i):function(e,t,r,a,n,s,i){switch(r){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!s(new Ve(e),new Ve(t)));case v:case j:case S:return Bi(+e,+t);case w:return e.name==t.name&&e.message==t.message;case E:case P:return e==t+"";case _:var o=lr;case O:var l=1&a;if(o||(o=ur),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;a|=2,i.set(e,t);var d=ts(o(e),o(t),a,n,s,i);return i.delete(e),d;case T:if(Rr)return Rr.call(e)==Rr.call(t)}return!1}(e,t,c,r,a,s,i);if(!(1&r)){var g=u&&Ie.call(e,"__wrapped__"),p=m&&Ie.call(t,"__wrapped__");if(g||p){var x=g?e.value():e,f=p?t.value():t;return i||(i=new Jr),s(x,f,r,a,i)}}if(!h)return!1;return i||(i=new Jr),function(e,t,r,a,s,i){var o=1&r,l=as(e),c=l.length,d=as(t),u=d.length;if(c!=u&&!o)return!1;var m=c;for(;m--;){var h=l[m];if(!(o?h in t:Ie.call(t,h)))return!1}var g=i.get(e),p=i.get(t);if(g&&p)return g==t&&p==e;var x=!0;i.set(e,t),i.set(t,e);var f=o;for(;++m<c;){var b=e[h=l[m]],y=t[h];if(a)var v=o?a(y,b,h,t,e,i):a(b,y,h,e,t,i);if(!(v===n?b===y||s(b,y,r,a,i):v)){x=!1;break}f||(f="constructor"==h)}if(x&&!f){var j=e.constructor,w=t.constructor;j==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof j&&j instanceof j&&"function"==typeof w&&w instanceof w||(x=!1)}return i.delete(e),i.delete(t),x}(e,t,r,a,s,i)}(e,t,r,a,Pa,s))}function Ta(e,t,r,a){var s=r.length,i=s,o=!a;if(null==e)return!i;for(e=Se(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){var c=(l=r[s])[0],d=e[c],u=l[1];if(o&&l[2]){if(d===n&&!(c in e))return!1}else{var m=new Jr;if(a)var h=a(d,u,c,e,t,m);if(!(h===n?Pa(u,d,3,a,m):h))return!1}}return!0}function La(e){return!(!Xi(e)||(t=e,Re&&Re in t))&&($i(e)?qe:be).test(Rs(e));var t}function Ma(e){return"function"==typeof e?e:null==e?al:"object"==typeof e?Hi(e)?Ua(e[0],e[1]):Ba(e):ml(e)}function Ia(e){if(!ks(e))return Ut(e);var t=[];for(var r in Se(e))Ie.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Da(e){if(!Xi(e))return function(e){var t=[];if(null!=e)for(var r in Se(e))t.push(r);return t}(e);var t=ks(e),r=[];for(var a in e)("constructor"!=a||!t&&Ie.call(e,a))&&r.push(a);return r}function Ra(e,t){return e<t}function Fa(e,t){var a=-1,n=Gi(e)?r(e.length):[];return ua(e,function(e,r,s){n[++a]=t(e,r,s)}),n}function Ba(e){var t=ds(e);return 1==t.length&&t[0][2]?_s(t[0][0],t[0][1]):function(r){return r===e||Ta(r,e,t)}}function Ua(e,t){return vs(e)&&Ns(t)?_s(Ds(e),t):function(r){var a=So(r,e);return a===n&&a===t?Ao(r,e):Pa(t,a,3)}}function qa(e,t,r,a,s){e!==t&&fa(t,function(i,o){if(s||(s=new Jr),Xi(i))!function(e,t,r,a,s,i,o){var l=Cs(e,r),c=Cs(t,r),d=o.get(c);if(d)return void Xr(e,r,d);var u=i?i(l,c,r+"",e,t,o):n,m=u===n;if(m){var h=Hi(c),g=!h&&Ki(c),p=!h&&!g&&lo(c);u=c,h||g||p?Hi(l)?u=l:Wi(l)?u=En(l):g?(m=!1,u=kn(c,!0)):p?(m=!1,u=_n(c,!0)):u=[]:ao(c)||zi(c)?(u=l,zi(l)?u=fo(l):Xi(l)&&!$i(l)||(u=xs(c))):m=!1}m&&(o.set(c,u),s(u,c,a,i,o),o.delete(c));Xr(e,r,u)}(e,t,o,r,qa,a,s);else{var l=a?a(Cs(e,o),i,o+"",e,t,s):n;l===n&&(l=i),Xr(e,o,l)}},To)}function za(e,t){var r=e.length;if(r)return bs(t+=t<0?r:0,r)?e[t]:n}function Ha(e,t,r){t=t.length?It(t,function(e){return Hi(e)?function(t){return wa(t,1===e.length?e[0]:e)}:e}):[al];var a=-1;t=It(t,Xt(ls()));var n=Fa(e,function(e,r,n){var s=It(t,function(t){return t(e)});return{criteria:s,index:++a,value:e}});return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(n,function(e,t){return function(e,t,r){var a=-1,n=e.criteria,s=t.criteria,i=n.length,o=r.length;for(;++a<i;){var l=Sn(n[a],s[a]);if(l)return a>=o?l:l*("desc"==r[a]?-1:1)}return e.index-t.index}(e,t,r)})}function Va(e,t,r){for(var a=-1,n=t.length,s={};++a<n;){var i=t[a],o=wa(e,i);r(o,i)&&Za(s,yn(i,e),o)}return s}function Ga(e,t,r,a){var n=a?Vt:Ht,s=-1,i=t.length,o=e;for(e===t&&(t=En(t)),r&&(o=It(e,Xt(r)));++s<i;)for(var l=0,c=t[s],d=r?r(c):c;(l=n(o,d,l,a))>-1;)o!==e&&Ye.call(o,l,1),Ye.call(e,l,1);return e}function Wa(e,t){for(var r=e?t.length:0,a=r-1;r--;){var n=t[r];if(r==a||n!==s){var s=n;bs(n)?Ye.call(e,n,1):un(e,n)}}return e}function Ka(e,t){return e+gt(jr()*(t-e+1))}function Ja(e,t){var r="";if(!e||t<1||t>g)return r;do{t%2&&(r+=e),(t=gt(t/2))&&(e+=e)}while(t);return r}function Ya(e,t){return Ps(Ss(e,t,al),e+"")}function $a(e){return $r(Uo(e))}function Qa(e,t){var r=Uo(e);return Ms(r,ia(t,0,r.length))}function Za(e,t,r,a){if(!Xi(e))return e;for(var s=-1,i=(t=yn(t,e)).length,o=i-1,l=e;null!=l&&++s<i;){var c=Ds(t[s]),d=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(s!=o){var u=l[c];(d=a?a(u,c,l):n)===n&&(d=Xi(u)?u:bs(t[s+1])?[]:{})}ea(l,c,d),l=l[c]}return e}var Xa=Er?function(e,t){return Er.set(e,t),e}:al,en=Xe?function(e,t){return Xe(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:al;function tn(e){return Ms(Uo(e))}function rn(e,t,a){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(a=a>s?s:a)<0&&(a+=s),s=t>a?0:a-t>>>0,t>>>=0;for(var i=r(s);++n<s;)i[n]=e[n+t];return i}function an(e,t){var r;return ua(e,function(e,a,n){return!(r=t(e,a,n))}),!!r}function nn(e,t,r){var a=0,n=null==e?a:e.length;if("number"==typeof t&&t===t&&n<=2147483647){for(;a<n;){var s=a+n>>>1,i=e[s];null!==i&&!oo(i)&&(r?i<=t:i<t)?a=s+1:n=s}return n}return sn(e,t,al,r)}function sn(e,t,r,a){var s=0,i=null==e?0:e.length;if(0===i)return 0;for(var o=(t=r(t))!==t,l=null===t,c=oo(t),d=t===n;s<i;){var u=gt((s+i)/2),m=r(e[u]),h=m!==n,g=null===m,p=m===m,x=oo(m);if(o)var f=a||p;else f=d?p&&(a||h):l?p&&h&&(a||!g):c?p&&h&&!g&&(a||!x):!g&&!x&&(a?m<=t:m<t);f?s=u+1:i=u}return br(i,4294967294)}function on(e,t){for(var r=-1,a=e.length,n=0,s=[];++r<a;){var i=e[r],o=t?t(i):i;if(!r||!Bi(o,l)){var l=o;s[n++]=0===i?0:i}}return s}function ln(e){return"number"==typeof e?e:oo(e)?p:+e}function cn(e){if("string"==typeof e)return e;if(Hi(e))return It(e,cn)+"";if(oo(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dn(e,t,r){var a=-1,n=Lt,s=e.length,i=!0,o=[],l=o;if(r)i=!1,n=Mt;else if(s>=200){var c=t?null:Yn(e);if(c)return ur(c);i=!1,n=tr,l=new Kr}else l=t?[]:o;e:for(;++a<s;){var d=e[a],u=t?t(d):d;if(d=r||0!==d?d:0,i&&u===u){for(var m=l.length;m--;)if(l[m]===u)continue e;t&&l.push(u),o.push(d)}else n(l,u,r)||(l!==o&&l.push(u),o.push(d))}return o}function un(e,t){return null==(e=As(e,t=yn(t,e)))||delete e[Ds(Ys(t))]}function mn(e,t,r,a){return Za(e,t,r(wa(e,t)),a)}function hn(e,t,r,a){for(var n=e.length,s=a?n:-1;(a?s--:++s<n)&&t(e[s],s,e););return r?rn(e,a?0:s,a?s+1:n):rn(e,a?s+1:0,a?n:s)}function gn(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Rt(t,function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))},r)}function pn(e,t,a){var n=e.length;if(n<2)return n?dn(e[0]):[];for(var s=-1,i=r(n);++s<n;)for(var o=e[s],l=-1;++l<n;)l!=s&&(i[s]=da(i[s]||o,e[l],t,a));return dn(xa(i,1),t,a)}function xn(e,t,r){for(var a=-1,s=e.length,i=t.length,o={};++a<s;){var l=a<i?t[a]:n;r(o,e[a],l)}return o}function fn(e){return Wi(e)?e:[]}function bn(e){return"function"==typeof e?e:al}function yn(e,t){return Hi(e)?e:vs(e,t)?[e]:Is(bo(e))}var vn=Ya;function jn(e,t,r){var a=e.length;return r=r===n?a:r,!t&&r>=a?e:rn(e,t,r)}var wn=rt||function(e){return pt.clearTimeout(e)};function kn(e,t){if(t)return e.slice();var r=e.length,a=Ge?Ge(r):new e.constructor(r);return e.copy(a),a}function Nn(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function _n(e,t){var r=t?Nn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Sn(e,t){if(e!==t){var r=e!==n,a=null===e,s=e===e,i=oo(e),o=t!==n,l=null===t,c=t===t,d=oo(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||a&&o&&c||!r&&c||!s)return 1;if(!a&&!i&&!d&&e<t||d&&r&&s&&!a&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}function An(e,t,a,n){for(var s=-1,i=e.length,o=a.length,l=-1,c=t.length,d=Jt(i-o,0),u=r(c+d),m=!n;++l<c;)u[l]=t[l];for(;++s<o;)(m||s<i)&&(u[a[s]]=e[s]);for(;d--;)u[l++]=e[s++];return u}function Cn(e,t,a,n){for(var s=-1,i=e.length,o=-1,l=a.length,c=-1,d=t.length,u=Jt(i-l,0),m=r(u+d),h=!n;++s<u;)m[s]=e[s];for(var g=s;++c<d;)m[g+c]=t[c];for(;++o<l;)(h||s<i)&&(m[g+a[o]]=e[s++]);return m}function En(e,t){var a=-1,n=e.length;for(t||(t=r(n));++a<n;)t[a]=e[a];return t}function On(e,t,r,a){var s=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],c=a?a(r[l],e[l],l,r,e):n;c===n&&(c=e[l]),s?na(r,l,c):ea(r,l,c)}return r}function Pn(e,t){return function(r,a){var n=Hi(r)?Ct:ra,s=t?t():{};return n(r,e,ls(a,2),s)}}function Tn(e){return Ya(function(t,r){var a=-1,s=r.length,i=s>1?r[s-1]:n,o=s>2?r[2]:n;for(i=e.length>3&&"function"==typeof i?(s--,i):n,o&&ys(r[0],r[1],o)&&(i=s<3?n:i,s=1),t=Se(t);++a<s;){var l=r[a];l&&e(t,l,a,i)}return t})}function Ln(e,t){return function(r,a){if(null==r)return r;if(!Gi(r))return e(r,a);for(var n=r.length,s=t?n:-1,i=Se(r);(t?s--:++s<n)&&!1!==a(i[s],s,i););return r}}function Mn(e){return function(t,r,a){for(var n=-1,s=Se(t),i=a(t),o=i.length;o--;){var l=i[e?o:++n];if(!1===r(s[l],l,s))break}return t}}function In(e){return function(t){var r=or(t=bo(t))?gr(t):n,a=r?r[0]:t.charAt(0),s=r?jn(r,1).join(""):t.slice(1);return a[e]()+s}}function Dn(e){return function(t){return Rt(Qo(Ho(t).replace(et,"")),e,"")}}function Rn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Ur(e.prototype),a=e.apply(r,t);return Xi(a)?a:r}}function Fn(e){return function(t,r,a){var s=Se(t);if(!Gi(t)){var i=ls(r,3);t=Po(t),r=function(e){return i(s[e],e,s)}}var o=e(t,r,a);return o>-1?s[i?t[o]:o]:n}}function Bn(e){return rs(function(t){var r=t.length,a=r,i=zr.prototype.thru;for(e&&t.reverse();a--;){var o=t[a];if("function"!=typeof o)throw new Ee(s);if(i&&!l&&"wrapper"==is(o))var l=new zr([],!0)}for(a=l?a:r;++a<r;){var c=is(o=t[a]),d="wrapper"==c?ss(o):n;l=d&&js(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[is(d[0])].apply(l,d[3]):1==o.length&&js(o)?l[c]():l.thru(o)}return function(){var e=arguments,a=e[0];if(l&&1==e.length&&Hi(a))return l.plant(a).value();for(var n=0,s=r?t[n].apply(this,e):a;++n<r;)s=t[n].call(this,s);return s}})}function Un(e,t,a,s,i,o,l,c,d,m){var h=t&u,g=1&t,p=2&t,x=24&t,f=512&t,b=p?n:Rn(e);return function u(){for(var y=arguments.length,v=r(y),j=y;j--;)v[j]=arguments[j];if(x)var w=os(u),k=function(e,t){for(var r=e.length,a=0;r--;)e[r]===t&&++a;return a}(v,w);if(s&&(v=An(v,s,i,x)),o&&(v=Cn(v,o,l,x)),y-=k,x&&y<m){var N=dr(v,w);return Kn(e,t,Un,u.placeholder,a,v,N,c,d,m-y)}var _=g?a:this,S=p?_[e]:e;return y=v.length,c?v=function(e,t){var r=e.length,a=br(t.length,r),s=En(e);for(;a--;){var i=t[a];e[a]=bs(i,r)?s[i]:n}return e}(v,c):f&&y>1&&v.reverse(),h&&d<y&&(v.length=d),this&&this!==pt&&this instanceof u&&(S=b||Rn(S)),S.apply(_,v)}}function qn(e,t){return function(r,a){return function(e,t,r,a){return ya(e,function(e,n,s){t(a,r(e),n,s)}),a}(r,e,t(a),{})}}function zn(e,t){return function(r,a){var s;if(r===n&&a===n)return t;if(r!==n&&(s=r),a!==n){if(s===n)return a;"string"==typeof r||"string"==typeof a?(r=cn(r),a=cn(a)):(r=ln(r),a=ln(a)),s=e(r,a)}return s}}function Hn(e){return rs(function(t){return t=It(t,Xt(ls())),Ya(function(r){var a=this;return e(t,function(e){return At(e,a,r)})})})}function Vn(e,t){var r=(t=t===n?" ":cn(t)).length;if(r<2)return r?Ja(t,e):t;var a=Ja(t,ht(e/hr(t)));return or(t)?jn(gr(a),0,e).join(""):a.slice(0,e)}function Gn(e){return function(t,a,s){return s&&"number"!=typeof s&&ys(t,a,s)&&(a=s=n),t=ho(t),a===n?(a=t,t=0):a=ho(a),function(e,t,a,n){for(var s=-1,i=Jt(ht((t-e)/(a||1)),0),o=r(i);i--;)o[n?i:++s]=e,e+=a;return o}(t,a,s=s===n?t<a?1:-1:ho(s),e)}}function Wn(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=xo(t),r=xo(r)),e(t,r)}}function Kn(e,t,r,a,s,i,o,l,u,m){var h=8&t;t|=h?c:d,4&(t&=~(h?d:c))||(t&=-4);var g=[e,t,s,h?i:n,h?o:n,h?n:i,h?n:o,l,u,m],p=r.apply(n,g);return js(e)&&Es(p,g),p.placeholder=a,Ts(p,e,t)}function Jn(e){var t=_e[e];return function(e,r){if(e=xo(e),(r=null==r?0:br(go(r),292))&&yt(e)){var a=(bo(e)+"e").split("e");return+((a=(bo(t(a[0]+"e"+(+a[1]+r)))+"e").split("e"))[0]+"e"+(+a[1]-r))}return t(e)}}var Yn=Sr&&1/ur(new Sr([,-0]))[1]==h?function(e){return new Sr(e)}:ll;function $n(e){return function(t){var r=gs(t);return r==_?lr(t):r==O?mr(t):function(e,t){return It(t,function(t){return[t,e[t]]})}(t,e(t))}}function Qn(e,t,a,i,h,g,p,x){var f=2&t;if(!f&&"function"!=typeof e)throw new Ee(s);var b=i?i.length:0;if(b||(t&=-97,i=h=n),p=p===n?p:Jt(go(p),0),x=x===n?x:go(x),b-=h?h.length:0,t&d){var y=i,v=h;i=h=n}var j=f?n:ss(e),w=[e,t,a,i,h,y,v,g,p,x];if(j&&function(e,t){var r=e[1],a=t[1],n=r|a,s=n<131,i=a==u&&8==r||a==u&&r==m&&e[7].length<=t[8]||384==a&&t[7].length<=t[8]&&8==r;if(!s&&!i)return e;1&a&&(e[2]=t[2],n|=1&r?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?An(c,l,t[4]):l,e[4]=c?dr(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Cn(c,l,t[6]):l,e[6]=c?dr(e[5],o):t[6]);(l=t[7])&&(e[7]=l);a&u&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=n}(w,j),e=w[0],t=w[1],a=w[2],i=w[3],h=w[4],!(x=w[9]=w[9]===n?f?0:e.length:Jt(w[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==l?function(e,t,a){var s=Rn(e);return function i(){for(var o=arguments.length,l=r(o),c=o,d=os(i);c--;)l[c]=arguments[c];var u=o<3&&l[0]!==d&&l[o-1]!==d?[]:dr(l,d);return(o-=u.length)<a?Kn(e,t,Un,i.placeholder,n,l,u,n,n,a-o):At(this&&this!==pt&&this instanceof i?s:e,this,l)}}(e,t,x):t!=c&&33!=t||h.length?Un.apply(n,w):function(e,t,a,n){var s=1&t,i=Rn(e);return function t(){for(var o=-1,l=arguments.length,c=-1,d=n.length,u=r(d+l),m=this&&this!==pt&&this instanceof t?i:e;++c<d;)u[c]=n[c];for(;l--;)u[c++]=arguments[++o];return At(m,s?a:this,u)}}(e,t,a,i);else var k=function(e,t,r){var a=1&t,n=Rn(e);return function t(){return(this&&this!==pt&&this instanceof t?n:e).apply(a?r:this,arguments)}}(e,t,a);return Ts((j?Xa:Es)(k,w),e,t)}function Zn(e,t,r,a){return e===n||Bi(e,Te[r])&&!Ie.call(a,r)?t:e}function Xn(e,t,r,a,s,i){return Xi(e)&&Xi(t)&&(i.set(t,e),qa(e,t,n,Xn,i),i.delete(t)),e}function es(e){return ao(e)?n:e}function ts(e,t,r,a,s,i){var o=1&r,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var m=-1,h=!0,g=2&r?new Kr:n;for(i.set(e,t),i.set(t,e);++m<l;){var p=e[m],x=t[m];if(a)var f=o?a(x,p,m,t,e,i):a(p,x,m,e,t,i);if(f!==n){if(f)continue;h=!1;break}if(g){if(!Bt(t,function(e,t){if(!tr(g,t)&&(p===e||s(p,e,r,a,i)))return g.push(t)})){h=!1;break}}else if(p!==x&&!s(p,x,r,a,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function rs(e){return Ps(Ss(e,n,Vs),e+"")}function as(e){return ka(e,Po,ms)}function ns(e){return ka(e,To,hs)}var ss=Er?function(e){return Er.get(e)}:ll;function is(e){for(var t=e.name+"",r=Or[t],a=Ie.call(Or,t)?r.length:0;a--;){var n=r[a],s=n.func;if(null==s||s==e)return n.name}return t}function os(e){return(Ie.call(Br,"placeholder")?Br:e).placeholder}function ls(){var e=Br.iteratee||nl;return e=e===nl?Ma:e,arguments.length?e(arguments[0],arguments[1]):e}function cs(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ds(e){for(var t=Po(e),r=t.length;r--;){var a=t[r],n=e[a];t[r]=[a,n,Ns(n)]}return t}function us(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return La(r)?r:n}var ms=xt?function(e){return null==e?[]:(e=Se(e),Tt(xt(e),function(t){return Je.call(e,t)}))}:pl,hs=xt?function(e){for(var t=[];e;)Dt(t,ms(e)),e=We(e);return t}:pl,gs=Na;function ps(e,t,r){for(var a=-1,n=(t=yn(t,e)).length,s=!1;++a<n;){var i=Ds(t[a]);if(!(s=null!=e&&r(e,i)))break;e=e[i]}return s||++a!=n?s:!!(n=null==e?0:e.length)&&Zi(n)&&bs(i,n)&&(Hi(e)||zi(e))}function xs(e){return"function"!=typeof e.constructor||ks(e)?{}:Ur(We(e))}function fs(e){return Hi(e)||zi(e)||!!($e&&e&&e[$e])}function bs(e,t){var r=typeof e;return!!(t=null==t?g:t)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function ys(e,t,r){if(!Xi(r))return!1;var a=typeof t;return!!("number"==a?Gi(r)&&bs(t,r.length):"string"==a&&t in r)&&Bi(r[t],e)}function vs(e,t){if(Hi(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!oo(e))||(re.test(e)||!te.test(e)||null!=t&&e in Se(t))}function js(e){var t=is(e),r=Br[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var a=ss(r);return!!a&&e===a[0]}(kr&&gs(new kr(new ArrayBuffer(1)))!=I||Nr&&gs(new Nr)!=_||_r&&gs(_r.resolve())!=C||Sr&&gs(new Sr)!=O||Ar&&gs(new Ar)!=L)&&(gs=function(e){var t=Na(e),r=t==A?e.constructor:n,a=r?Rs(r):"";if(a)switch(a){case Pr:return I;case Tr:return _;case Lr:return C;case Mr:return O;case Ir:return L}return t});var ws=Le?$i:xl;function ks(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function Ns(e){return e===e&&!Xi(e)}function _s(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Se(r)))}}function Ss(e,t,a){return t=Jt(t===n?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=Jt(n.length-t,0),o=r(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=r(t+1);++s<t;)l[s]=n[s];return l[t]=a(o),At(e,this,l)}}function As(e,t){return t.length<2?e:wa(e,rn(t,0,-1))}function Cs(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Es=Ls(Xa),Os=dt||function(e,t){return pt.setTimeout(e,t)},Ps=Ls(en);function Ts(e,t,r){var a=t+"";return Ps(e,function(e,t){var r=t.length;if(!r)return e;var a=r-1;return t[a]=(r>1?"& ":"")+t[a],t=t.join(r>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(a,function(e,t){return Et(f,function(r){var a="_."+r[0];t&r[1]&&!Lt(e,a)&&e.push(a)}),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(de):[]}(a),r)))}function Ls(e){var t=0,r=0;return function(){var a=yr(),s=16-(a-r);if(r=a,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Ms(e,t){var r=-1,a=e.length,s=a-1;for(t=t===n?a:t;++r<t;){var i=Ka(r,s),o=e[i];e[i]=e[r],e[r]=o}return e.length=t,e}var Is=function(e){var t=Li(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ae,function(e,r,a,n){t.push(a?n.replace(he,"$1"):r||e)}),t});function Ds(e){if("string"==typeof e||oo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Rs(e){if(null!=e){try{return Me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fs(e){if(e instanceof Hr)return e.clone();var t=new zr(e.__wrapped__,e.__chain__);return t.__actions__=En(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bs=Ya(function(e,t){return Wi(e)?da(e,xa(t,1,Wi,!0)):[]}),Us=Ya(function(e,t){var r=Ys(t);return Wi(r)&&(r=n),Wi(e)?da(e,xa(t,1,Wi,!0),ls(r,2)):[]}),qs=Ya(function(e,t){var r=Ys(t);return Wi(r)&&(r=n),Wi(e)?da(e,xa(t,1,Wi,!0),n,r):[]});function zs(e,t,r){var a=null==e?0:e.length;if(!a)return-1;var n=null==r?0:go(r);return n<0&&(n=Jt(a+n,0)),zt(e,ls(t,3),n)}function Hs(e,t,r){var a=null==e?0:e.length;if(!a)return-1;var s=a-1;return r!==n&&(s=go(r),s=r<0?Jt(a+s,0):br(s,a-1)),zt(e,ls(t,3),s,!0)}function Vs(e){return(null==e?0:e.length)?xa(e,1):[]}function Gs(e){return e&&e.length?e[0]:n}var Ws=Ya(function(e){var t=It(e,fn);return t.length&&t[0]===e[0]?Ca(t):[]}),Ks=Ya(function(e){var t=Ys(e),r=It(e,fn);return t===Ys(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Ca(r,ls(t,2)):[]}),Js=Ya(function(e){var t=Ys(e),r=It(e,fn);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Ca(r,n,t):[]});function Ys(e){var t=null==e?0:e.length;return t?e[t-1]:n}var $s=Ya(Qs);function Qs(e,t){return e&&e.length&&t&&t.length?Ga(e,t):e}var Zs=rs(function(e,t){var r=null==e?0:e.length,a=sa(e,t);return Wa(e,It(t,function(e){return bs(e,r)?+e:e}).sort(Sn)),a});function Xs(e){return null==e?e:wr.call(e)}var ei=Ya(function(e){return dn(xa(e,1,Wi,!0))}),ti=Ya(function(e){var t=Ys(e);return Wi(t)&&(t=n),dn(xa(e,1,Wi,!0),ls(t,2))}),ri=Ya(function(e){var t=Ys(e);return t="function"==typeof t?t:n,dn(xa(e,1,Wi,!0),n,t)});function ai(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,function(e){if(Wi(e))return t=Jt(e.length,t),!0}),Qt(t,function(t){return It(e,Kt(t))})}function ni(e,t){if(!e||!e.length)return[];var r=ai(e);return null==t?r:It(r,function(e){return At(t,n,e)})}var si=Ya(function(e,t){return Wi(e)?da(e,t):[]}),ii=Ya(function(e){return pn(Tt(e,Wi))}),oi=Ya(function(e){var t=Ys(e);return Wi(t)&&(t=n),pn(Tt(e,Wi),ls(t,2))}),li=Ya(function(e){var t=Ys(e);return t="function"==typeof t?t:n,pn(Tt(e,Wi),n,t)}),ci=Ya(ai);var di=Ya(function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ni(e,r)});function ui(e){var t=Br(e);return t.__chain__=!0,t}function mi(e,t){return t(e)}var hi=rs(function(e){var t=e.length,r=t?e[0]:0,a=this.__wrapped__,s=function(t){return sa(t,e)};return!(t>1||this.__actions__.length)&&a instanceof Hr&&bs(r)?((a=a.slice(r,+r+(t?1:0))).__actions__.push({func:mi,args:[s],thisArg:n}),new zr(a,this.__chain__).thru(function(e){return t&&!e.length&&e.push(n),e})):this.thru(s)});var gi=Pn(function(e,t,r){Ie.call(e,r)?++e[r]:na(e,r,1)});var pi=Fn(zs),xi=Fn(Hs);function fi(e,t){return(Hi(e)?Et:ua)(e,ls(t,3))}function bi(e,t){return(Hi(e)?Ot:ma)(e,ls(t,3))}var yi=Pn(function(e,t,r){Ie.call(e,r)?e[r].push(t):na(e,r,[t])});var vi=Ya(function(e,t,a){var n=-1,s="function"==typeof t,i=Gi(e)?r(e.length):[];return ua(e,function(e){i[++n]=s?At(t,e,a):Ea(e,t,a)}),i}),ji=Pn(function(e,t,r){na(e,r,t)});function wi(e,t){return(Hi(e)?It:Fa)(e,ls(t,3))}var ki=Pn(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var Ni=Ya(function(e,t){if(null==e)return[];var r=t.length;return r>1&&ys(e,t[0],t[1])?t=[]:r>2&&ys(t[0],t[1],t[2])&&(t=[t[0]]),Ha(e,xa(t,1),[])}),_i=nt||function(){return pt.Date.now()};function Si(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Qn(e,u,n,n,n,n,t)}function Ai(e,t){var r;if("function"!=typeof t)throw new Ee(s);return e=go(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var Ci=Ya(function(e,t,r){var a=1;if(r.length){var n=dr(r,os(Ci));a|=c}return Qn(e,a,t,r,n)}),Ei=Ya(function(e,t,r){var a=3;if(r.length){var n=dr(r,os(Ei));a|=c}return Qn(t,a,e,r,n)});function Oi(e,t,r){var a,i,o,l,c,d,u=0,m=!1,h=!1,g=!0;if("function"!=typeof e)throw new Ee(s);function p(t){var r=a,s=i;return a=i=n,u=t,l=e.apply(s,r)}function x(e){var r=e-d;return d===n||r>=t||r<0||h&&e-u>=o}function f(){var e=_i();if(x(e))return b(e);c=Os(f,function(e){var r=t-(e-d);return h?br(r,o-(e-u)):r}(e))}function b(e){return c=n,g&&a?p(e):(a=i=n,l)}function y(){var e=_i(),r=x(e);if(a=arguments,i=this,d=e,r){if(c===n)return function(e){return u=e,c=Os(f,t),m?p(e):l}(d);if(h)return wn(c),c=Os(f,t),p(d)}return c===n&&(c=Os(f,t)),l}return t=xo(t)||0,Xi(r)&&(m=!!r.leading,o=(h="maxWait"in r)?Jt(xo(r.maxWait)||0,t):o,g="trailing"in r?!!r.trailing:g),y.cancel=function(){c!==n&&wn(c),u=0,a=d=i=c=n},y.flush=function(){return c===n?l:b(_i())},y}var Pi=Ya(function(e,t){return ca(e,1,t)}),Ti=Ya(function(e,t,r){return ca(e,xo(t)||0,r)});function Li(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ee(s);var r=function(){var a=arguments,n=t?t.apply(this,a):a[0],s=r.cache;if(s.has(n))return s.get(n);var i=e.apply(this,a);return r.cache=s.set(n,i)||s,i};return r.cache=new(Li.Cache||Wr),r}function Mi(e){if("function"!=typeof e)throw new Ee(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Li.Cache=Wr;var Ii=vn(function(e,t){var r=(t=1==t.length&&Hi(t[0])?It(t[0],Xt(ls())):It(xa(t,1),Xt(ls()))).length;return Ya(function(a){for(var n=-1,s=br(a.length,r);++n<s;)a[n]=t[n].call(this,a[n]);return At(e,this,a)})}),Di=Ya(function(e,t){var r=dr(t,os(Di));return Qn(e,c,n,t,r)}),Ri=Ya(function(e,t){var r=dr(t,os(Ri));return Qn(e,d,n,t,r)}),Fi=rs(function(e,t){return Qn(e,m,n,n,n,t)});function Bi(e,t){return e===t||e!==e&&t!==t}var Ui=Wn(_a),qi=Wn(function(e,t){return e>=t}),zi=Oa(function(){return arguments}())?Oa:function(e){return eo(e)&&Ie.call(e,"callee")&&!Je.call(e,"callee")},Hi=r.isArray,Vi=jt?Xt(jt):function(e){return eo(e)&&Na(e)==M};function Gi(e){return null!=e&&Zi(e.length)&&!$i(e)}function Wi(e){return eo(e)&&Gi(e)}var Ki=ft||xl,Ji=wt?Xt(wt):function(e){return eo(e)&&Na(e)==j};function Yi(e){if(!eo(e))return!1;var t=Na(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ao(e)}function $i(e){if(!Xi(e))return!1;var t=Na(e);return t==k||t==N||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qi(e){return"number"==typeof e&&e==go(e)}function Zi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function Xi(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eo(e){return null!=e&&"object"==typeof e}var to=kt?Xt(kt):function(e){return eo(e)&&gs(e)==_};function ro(e){return"number"==typeof e||eo(e)&&Na(e)==S}function ao(e){if(!eo(e)||Na(e)!=A)return!1;var t=We(e);if(null===t)return!0;var r=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Me.call(r)==Be}var no=Nt?Xt(Nt):function(e){return eo(e)&&Na(e)==E};var so=_t?Xt(_t):function(e){return eo(e)&&gs(e)==O};function io(e){return"string"==typeof e||!Hi(e)&&eo(e)&&Na(e)==P}function oo(e){return"symbol"==typeof e||eo(e)&&Na(e)==T}var lo=St?Xt(St):function(e){return eo(e)&&Zi(e.length)&&!!lt[Na(e)]};var co=Wn(Ra),uo=Wn(function(e,t){return e<=t});function mo(e){if(!e)return[];if(Gi(e))return io(e)?gr(e):En(e);if(Qe&&e[Qe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Qe]());var t=gs(e);return(t==_?lr:t==O?ur:Uo)(e)}function ho(e){return e?(e=xo(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function go(e){var t=ho(e),r=t%1;return t===t?r?t-r:t:0}function po(e){return e?ia(go(e),0,x):0}function xo(e){if("number"==typeof e)return e;if(oo(e))return p;if(Xi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var r=fe.test(e);return r||ye.test(e)?mt(e.slice(2),r?2:8):xe.test(e)?p:+e}function fo(e){return On(e,To(e))}function bo(e){return null==e?"":cn(e)}var yo=Tn(function(e,t){if(ks(t)||Gi(t))On(t,Po(t),e);else for(var r in t)Ie.call(t,r)&&ea(e,r,t[r])}),vo=Tn(function(e,t){On(t,To(t),e)}),jo=Tn(function(e,t,r,a){On(t,To(t),e,a)}),wo=Tn(function(e,t,r,a){On(t,Po(t),e,a)}),ko=rs(sa);var No=Ya(function(e,t){e=Se(e);var r=-1,a=t.length,s=a>2?t[2]:n;for(s&&ys(t[0],t[1],s)&&(a=1);++r<a;)for(var i=t[r],o=To(i),l=-1,c=o.length;++l<c;){var d=o[l],u=e[d];(u===n||Bi(u,Te[d])&&!Ie.call(e,d))&&(e[d]=i[d])}return e}),_o=Ya(function(e){return e.push(n,Xn),At(Mo,n,e)});function So(e,t,r){var a=null==e?n:wa(e,t);return a===n?r:a}function Ao(e,t){return null!=e&&ps(e,t,Aa)}var Co=qn(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r},el(al)),Eo=qn(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ie.call(e,t)?e[t].push(r):e[t]=[r]},ls),Oo=Ya(Ea);function Po(e){return Gi(e)?Yr(e):Ia(e)}function To(e){return Gi(e)?Yr(e,!0):Da(e)}var Lo=Tn(function(e,t,r){qa(e,t,r)}),Mo=Tn(function(e,t,r,a){qa(e,t,r,a)}),Io=rs(function(e,t){var r={};if(null==e)return r;var a=!1;t=It(t,function(t){return t=yn(t,e),a||(a=t.length>1),t}),On(e,ns(e),r),a&&(r=oa(r,7,es));for(var n=t.length;n--;)un(r,t[n]);return r});var Do=rs(function(e,t){return null==e?{}:function(e,t){return Va(e,t,function(t,r){return Ao(e,r)})}(e,t)});function Ro(e,t){if(null==e)return{};var r=It(ns(e),function(e){return[e]});return t=ls(t),Va(e,r,function(e,r){return t(e,r[0])})}var Fo=$n(Po),Bo=$n(To);function Uo(e){return null==e?[]:er(e,Po(e))}var qo=Dn(function(e,t,r){return t=t.toLowerCase(),e+(r?zo(t):t)});function zo(e){return $o(bo(e).toLowerCase())}function Ho(e){return(e=bo(e))&&e.replace(je,nr).replace(tt,"")}var Vo=Dn(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Go=Dn(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Wo=In("toLowerCase");var Ko=Dn(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var Jo=Dn(function(e,t,r){return e+(r?" ":"")+$o(t)});var Yo=Dn(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),$o=In("toUpperCase");function Qo(e,t,r){return e=bo(e),(t=r?n:t)===n?function(e){return st.test(e)}(e)?function(e){return e.match(at)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Zo=Ya(function(e,t){try{return At(e,n,t)}catch(r){return Yi(r)?r:new oe(r)}}),Xo=rs(function(e,t){return Et(t,function(t){t=Ds(t),na(e,t,Ci(e[t],e))}),e});function el(e){return function(){return e}}var tl=Bn(),rl=Bn(!0);function al(e){return e}function nl(e){return Ma("function"==typeof e?e:oa(e,1))}var sl=Ya(function(e,t){return function(r){return Ea(r,e,t)}}),il=Ya(function(e,t){return function(r){return Ea(e,r,t)}});function ol(e,t,r){var a=Po(t),n=ja(t,a);null!=r||Xi(t)&&(n.length||!a.length)||(r=t,t=e,e=this,n=ja(t,Po(t)));var s=!(Xi(r)&&"chain"in r)||!!r.chain,i=$i(e);return Et(n,function(r){var a=t[r];e[r]=a,i&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=En(this.__actions__)).push({func:a,args:arguments,thisArg:e}),r.__chain__=t,r}return a.apply(e,Dt([this.value()],arguments))})}),e}function ll(){}var cl=Hn(It),dl=Hn(Pt),ul=Hn(Bt);function ml(e){return vs(e)?Kt(Ds(e)):function(e){return function(t){return wa(t,e)}}(e)}var hl=Gn(),gl=Gn(!0);function pl(){return[]}function xl(){return!1}var fl=zn(function(e,t){return e+t},0),bl=Jn("ceil"),yl=zn(function(e,t){return e/t},1),vl=Jn("floor");var jl=zn(function(e,t){return e*t},1),wl=Jn("round"),kl=zn(function(e,t){return e-t},0);return Br.after=function(e,t){if("function"!=typeof t)throw new Ee(s);return e=go(e),function(){if(--e<1)return t.apply(this,arguments)}},Br.ary=Si,Br.assign=yo,Br.assignIn=vo,Br.assignInWith=jo,Br.assignWith=wo,Br.at=ko,Br.before=Ai,Br.bind=Ci,Br.bindAll=Xo,Br.bindKey=Ei,Br.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Hi(e)?e:[e]},Br.chain=ui,Br.chunk=function(e,t,a){t=(a?ys(e,t,a):t===n)?1:Jt(go(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var i=0,o=0,l=r(ht(s/t));i<s;)l[o++]=rn(e,i,i+=t);return l},Br.compact=function(e){for(var t=-1,r=null==e?0:e.length,a=0,n=[];++t<r;){var s=e[t];s&&(n[a++]=s)}return n},Br.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),a=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Dt(Hi(a)?En(a):[a],xa(t,1))},Br.cond=function(e){var t=null==e?0:e.length,r=ls();return e=t?It(e,function(e){if("function"!=typeof e[1])throw new Ee(s);return[r(e[0]),e[1]]}):[],Ya(function(r){for(var a=-1;++a<t;){var n=e[a];if(At(n[0],this,r))return At(n[1],this,r)}})},Br.conforms=function(e){return function(e){var t=Po(e);return function(r){return la(r,e,t)}}(oa(e,1))},Br.constant=el,Br.countBy=gi,Br.create=function(e,t){var r=Ur(e);return null==t?r:aa(r,t)},Br.curry=function e(t,r,a){var s=Qn(t,8,n,n,n,n,n,r=a?n:r);return s.placeholder=e.placeholder,s},Br.curryRight=function e(t,r,a){var s=Qn(t,l,n,n,n,n,n,r=a?n:r);return s.placeholder=e.placeholder,s},Br.debounce=Oi,Br.defaults=No,Br.defaultsDeep=_o,Br.defer=Pi,Br.delay=Ti,Br.difference=Bs,Br.differenceBy=Us,Br.differenceWith=qs,Br.drop=function(e,t,r){var a=null==e?0:e.length;return a?rn(e,(t=r||t===n?1:go(t))<0?0:t,a):[]},Br.dropRight=function(e,t,r){var a=null==e?0:e.length;return a?rn(e,0,(t=a-(t=r||t===n?1:go(t)))<0?0:t):[]},Br.dropRightWhile=function(e,t){return e&&e.length?hn(e,ls(t,3),!0,!0):[]},Br.dropWhile=function(e,t){return e&&e.length?hn(e,ls(t,3),!0):[]},Br.fill=function(e,t,r,a){var s=null==e?0:e.length;return s?(r&&"number"!=typeof r&&ys(e,t,r)&&(r=0,a=s),function(e,t,r,a){var s=e.length;for((r=go(r))<0&&(r=-r>s?0:s+r),(a=a===n||a>s?s:go(a))<0&&(a+=s),a=r>a?0:po(a);r<a;)e[r++]=t;return e}(e,t,r,a)):[]},Br.filter=function(e,t){return(Hi(e)?Tt:pa)(e,ls(t,3))},Br.flatMap=function(e,t){return xa(wi(e,t),1)},Br.flatMapDeep=function(e,t){return xa(wi(e,t),h)},Br.flatMapDepth=function(e,t,r){return r=r===n?1:go(r),xa(wi(e,t),r)},Br.flatten=Vs,Br.flattenDeep=function(e){return(null==e?0:e.length)?xa(e,h):[]},Br.flattenDepth=function(e,t){return(null==e?0:e.length)?xa(e,t=t===n?1:go(t)):[]},Br.flip=function(e){return Qn(e,512)},Br.flow=tl,Br.flowRight=rl,Br.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,a={};++t<r;){var n=e[t];a[n[0]]=n[1]}return a},Br.functions=function(e){return null==e?[]:ja(e,Po(e))},Br.functionsIn=function(e){return null==e?[]:ja(e,To(e))},Br.groupBy=yi,Br.initial=function(e){return(null==e?0:e.length)?rn(e,0,-1):[]},Br.intersection=Ws,Br.intersectionBy=Ks,Br.intersectionWith=Js,Br.invert=Co,Br.invertBy=Eo,Br.invokeMap=vi,Br.iteratee=nl,Br.keyBy=ji,Br.keys=Po,Br.keysIn=To,Br.map=wi,Br.mapKeys=function(e,t){var r={};return t=ls(t,3),ya(e,function(e,a,n){na(r,t(e,a,n),e)}),r},Br.mapValues=function(e,t){var r={};return t=ls(t,3),ya(e,function(e,a,n){na(r,a,t(e,a,n))}),r},Br.matches=function(e){return Ba(oa(e,1))},Br.matchesProperty=function(e,t){return Ua(e,oa(t,1))},Br.memoize=Li,Br.merge=Lo,Br.mergeWith=Mo,Br.method=sl,Br.methodOf=il,Br.mixin=ol,Br.negate=Mi,Br.nthArg=function(e){return e=go(e),Ya(function(t){return za(t,e)})},Br.omit=Io,Br.omitBy=function(e,t){return Ro(e,Mi(ls(t)))},Br.once=function(e){return Ai(2,e)},Br.orderBy=function(e,t,r,a){return null==e?[]:(Hi(t)||(t=null==t?[]:[t]),Hi(r=a?n:r)||(r=null==r?[]:[r]),Ha(e,t,r))},Br.over=cl,Br.overArgs=Ii,Br.overEvery=dl,Br.overSome=ul,Br.partial=Di,Br.partialRight=Ri,Br.partition=ki,Br.pick=Do,Br.pickBy=Ro,Br.property=ml,Br.propertyOf=function(e){return function(t){return null==e?n:wa(e,t)}},Br.pull=$s,Br.pullAll=Qs,Br.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Ga(e,t,ls(r,2)):e},Br.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Ga(e,t,n,r):e},Br.pullAt=Zs,Br.range=hl,Br.rangeRight=gl,Br.rearg=Fi,Br.reject=function(e,t){return(Hi(e)?Tt:pa)(e,Mi(ls(t,3)))},Br.remove=function(e,t){var r=[];if(!e||!e.length)return r;var a=-1,n=[],s=e.length;for(t=ls(t,3);++a<s;){var i=e[a];t(i,a,e)&&(r.push(i),n.push(a))}return Wa(e,n),r},Br.rest=function(e,t){if("function"!=typeof e)throw new Ee(s);return Ya(e,t=t===n?t:go(t))},Br.reverse=Xs,Br.sampleSize=function(e,t,r){return t=(r?ys(e,t,r):t===n)?1:go(t),(Hi(e)?Qr:Qa)(e,t)},Br.set=function(e,t,r){return null==e?e:Za(e,t,r)},Br.setWith=function(e,t,r,a){return a="function"==typeof a?a:n,null==e?e:Za(e,t,r,a)},Br.shuffle=function(e){return(Hi(e)?Zr:tn)(e)},Br.slice=function(e,t,r){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&ys(e,t,r)?(t=0,r=a):(t=null==t?0:go(t),r=r===n?a:go(r)),rn(e,t,r)):[]},Br.sortBy=Ni,Br.sortedUniq=function(e){return e&&e.length?on(e):[]},Br.sortedUniqBy=function(e,t){return e&&e.length?on(e,ls(t,2)):[]},Br.split=function(e,t,r){return r&&"number"!=typeof r&&ys(e,t,r)&&(t=r=n),(r=r===n?x:r>>>0)?(e=bo(e))&&("string"==typeof t||null!=t&&!no(t))&&!(t=cn(t))&&or(e)?jn(gr(e),0,r):e.split(t,r):[]},Br.spread=function(e,t){if("function"!=typeof e)throw new Ee(s);return t=null==t?0:Jt(go(t),0),Ya(function(r){var a=r[t],n=jn(r,0,t);return a&&Dt(n,a),At(e,this,n)})},Br.tail=function(e){var t=null==e?0:e.length;return t?rn(e,1,t):[]},Br.take=function(e,t,r){return e&&e.length?rn(e,0,(t=r||t===n?1:go(t))<0?0:t):[]},Br.takeRight=function(e,t,r){var a=null==e?0:e.length;return a?rn(e,(t=a-(t=r||t===n?1:go(t)))<0?0:t,a):[]},Br.takeRightWhile=function(e,t){return e&&e.length?hn(e,ls(t,3),!1,!0):[]},Br.takeWhile=function(e,t){return e&&e.length?hn(e,ls(t,3)):[]},Br.tap=function(e,t){return t(e),e},Br.throttle=function(e,t,r){var a=!0,n=!0;if("function"!=typeof e)throw new Ee(s);return Xi(r)&&(a="leading"in r?!!r.leading:a,n="trailing"in r?!!r.trailing:n),Oi(e,t,{leading:a,maxWait:t,trailing:n})},Br.thru=mi,Br.toArray=mo,Br.toPairs=Fo,Br.toPairsIn=Bo,Br.toPath=function(e){return Hi(e)?It(e,Ds):oo(e)?[e]:En(Is(bo(e)))},Br.toPlainObject=fo,Br.transform=function(e,t,r){var a=Hi(e),n=a||Ki(e)||lo(e);if(t=ls(t,4),null==r){var s=e&&e.constructor;r=n?a?new s:[]:Xi(e)&&$i(s)?Ur(We(e)):{}}return(n?Et:ya)(e,function(e,a,n){return t(r,e,a,n)}),r},Br.unary=function(e){return Si(e,1)},Br.union=ei,Br.unionBy=ti,Br.unionWith=ri,Br.uniq=function(e){return e&&e.length?dn(e):[]},Br.uniqBy=function(e,t){return e&&e.length?dn(e,ls(t,2)):[]},Br.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?dn(e,n,t):[]},Br.unset=function(e,t){return null==e||un(e,t)},Br.unzip=ai,Br.unzipWith=ni,Br.update=function(e,t,r){return null==e?e:mn(e,t,bn(r))},Br.updateWith=function(e,t,r,a){return a="function"==typeof a?a:n,null==e?e:mn(e,t,bn(r),a)},Br.values=Uo,Br.valuesIn=function(e){return null==e?[]:er(e,To(e))},Br.without=si,Br.words=Qo,Br.wrap=function(e,t){return Di(bn(t),e)},Br.xor=ii,Br.xorBy=oi,Br.xorWith=li,Br.zip=ci,Br.zipObject=function(e,t){return xn(e||[],t||[],ea)},Br.zipObjectDeep=function(e,t){return xn(e||[],t||[],Za)},Br.zipWith=di,Br.entries=Fo,Br.entriesIn=Bo,Br.extend=vo,Br.extendWith=jo,ol(Br,Br),Br.add=fl,Br.attempt=Zo,Br.camelCase=qo,Br.capitalize=zo,Br.ceil=bl,Br.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=xo(r))===r?r:0),t!==n&&(t=(t=xo(t))===t?t:0),ia(xo(e),t,r)},Br.clone=function(e){return oa(e,4)},Br.cloneDeep=function(e){return oa(e,5)},Br.cloneDeepWith=function(e,t){return oa(e,5,t="function"==typeof t?t:n)},Br.cloneWith=function(e,t){return oa(e,4,t="function"==typeof t?t:n)},Br.conformsTo=function(e,t){return null==t||la(e,t,Po(t))},Br.deburr=Ho,Br.defaultTo=function(e,t){return null==e||e!==e?t:e},Br.divide=yl,Br.endsWith=function(e,t,r){e=bo(e),t=cn(t);var a=e.length,s=r=r===n?a:ia(go(r),0,a);return(r-=t.length)>=0&&e.slice(r,s)==t},Br.eq=Bi,Br.escape=function(e){return(e=bo(e))&&Q.test(e)?e.replace(Y,sr):e},Br.escapeRegExp=function(e){return(e=bo(e))&&se.test(e)?e.replace(ne,"\\$&"):e},Br.every=function(e,t,r){var a=Hi(e)?Pt:ha;return r&&ys(e,t,r)&&(t=n),a(e,ls(t,3))},Br.find=pi,Br.findIndex=zs,Br.findKey=function(e,t){return qt(e,ls(t,3),ya)},Br.findLast=xi,Br.findLastIndex=Hs,Br.findLastKey=function(e,t){return qt(e,ls(t,3),va)},Br.floor=vl,Br.forEach=fi,Br.forEachRight=bi,Br.forIn=function(e,t){return null==e?e:fa(e,ls(t,3),To)},Br.forInRight=function(e,t){return null==e?e:ba(e,ls(t,3),To)},Br.forOwn=function(e,t){return e&&ya(e,ls(t,3))},Br.forOwnRight=function(e,t){return e&&va(e,ls(t,3))},Br.get=So,Br.gt=Ui,Br.gte=qi,Br.has=function(e,t){return null!=e&&ps(e,t,Sa)},Br.hasIn=Ao,Br.head=Gs,Br.identity=al,Br.includes=function(e,t,r,a){e=Gi(e)?e:Uo(e),r=r&&!a?go(r):0;var n=e.length;return r<0&&(r=Jt(n+r,0)),io(e)?r<=n&&e.indexOf(t,r)>-1:!!n&&Ht(e,t,r)>-1},Br.indexOf=function(e,t,r){var a=null==e?0:e.length;if(!a)return-1;var n=null==r?0:go(r);return n<0&&(n=Jt(a+n,0)),Ht(e,t,n)},Br.inRange=function(e,t,r){return t=ho(t),r===n?(r=t,t=0):r=ho(r),function(e,t,r){return e>=br(t,r)&&e<Jt(t,r)}(e=xo(e),t,r)},Br.invoke=Oo,Br.isArguments=zi,Br.isArray=Hi,Br.isArrayBuffer=Vi,Br.isArrayLike=Gi,Br.isArrayLikeObject=Wi,Br.isBoolean=function(e){return!0===e||!1===e||eo(e)&&Na(e)==v},Br.isBuffer=Ki,Br.isDate=Ji,Br.isElement=function(e){return eo(e)&&1===e.nodeType&&!ao(e)},Br.isEmpty=function(e){if(null==e)return!0;if(Gi(e)&&(Hi(e)||"string"==typeof e||"function"==typeof e.splice||Ki(e)||lo(e)||zi(e)))return!e.length;var t=gs(e);if(t==_||t==O)return!e.size;if(ks(e))return!Ia(e).length;for(var r in e)if(Ie.call(e,r))return!1;return!0},Br.isEqual=function(e,t){return Pa(e,t)},Br.isEqualWith=function(e,t,r){var a=(r="function"==typeof r?r:n)?r(e,t):n;return a===n?Pa(e,t,n,r):!!a},Br.isError=Yi,Br.isFinite=function(e){return"number"==typeof e&&yt(e)},Br.isFunction=$i,Br.isInteger=Qi,Br.isLength=Zi,Br.isMap=to,Br.isMatch=function(e,t){return e===t||Ta(e,t,ds(t))},Br.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Ta(e,t,ds(t),r)},Br.isNaN=function(e){return ro(e)&&e!=+e},Br.isNative=function(e){if(ws(e))throw new oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return La(e)},Br.isNil=function(e){return null==e},Br.isNull=function(e){return null===e},Br.isNumber=ro,Br.isObject=Xi,Br.isObjectLike=eo,Br.isPlainObject=ao,Br.isRegExp=no,Br.isSafeInteger=function(e){return Qi(e)&&e>=-9007199254740991&&e<=g},Br.isSet=so,Br.isString=io,Br.isSymbol=oo,Br.isTypedArray=lo,Br.isUndefined=function(e){return e===n},Br.isWeakMap=function(e){return eo(e)&&gs(e)==L},Br.isWeakSet=function(e){return eo(e)&&"[object WeakSet]"==Na(e)},Br.join=function(e,t){return null==e?"":vt.call(e,t)},Br.kebabCase=Vo,Br.last=Ys,Br.lastIndexOf=function(e,t,r){var a=null==e?0:e.length;if(!a)return-1;var s=a;return r!==n&&(s=(s=go(r))<0?Jt(a+s,0):br(s,a-1)),t===t?function(e,t,r){for(var a=r+1;a--;)if(e[a]===t)return a;return a}(e,t,s):zt(e,Gt,s,!0)},Br.lowerCase=Go,Br.lowerFirst=Wo,Br.lt=co,Br.lte=uo,Br.max=function(e){return e&&e.length?ga(e,al,_a):n},Br.maxBy=function(e,t){return e&&e.length?ga(e,ls(t,2),_a):n},Br.mean=function(e){return Wt(e,al)},Br.meanBy=function(e,t){return Wt(e,ls(t,2))},Br.min=function(e){return e&&e.length?ga(e,al,Ra):n},Br.minBy=function(e,t){return e&&e.length?ga(e,ls(t,2),Ra):n},Br.stubArray=pl,Br.stubFalse=xl,Br.stubObject=function(){return{}},Br.stubString=function(){return""},Br.stubTrue=function(){return!0},Br.multiply=jl,Br.nth=function(e,t){return e&&e.length?za(e,go(t)):n},Br.noConflict=function(){return pt._===this&&(pt._=Ue),this},Br.noop=ll,Br.now=_i,Br.pad=function(e,t,r){e=bo(e);var a=(t=go(t))?hr(e):0;if(!t||a>=t)return e;var n=(t-a)/2;return Vn(gt(n),r)+e+Vn(ht(n),r)},Br.padEnd=function(e,t,r){e=bo(e);var a=(t=go(t))?hr(e):0;return t&&a<t?e+Vn(t-a,r):e},Br.padStart=function(e,t,r){e=bo(e);var a=(t=go(t))?hr(e):0;return t&&a<t?Vn(t-a,r)+e:e},Br.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),vr(bo(e).replace(ie,""),t||0)},Br.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ys(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ho(e),t===n?(t=e,e=0):t=ho(t)),e>t){var a=e;e=t,t=a}if(r||e%1||t%1){var s=jr();return br(e+s*(t-e+ut("1e-"+((s+"").length-1))),t)}return Ka(e,t)},Br.reduce=function(e,t,r){var a=Hi(e)?Rt:Yt,n=arguments.length<3;return a(e,ls(t,4),r,n,ua)},Br.reduceRight=function(e,t,r){var a=Hi(e)?Ft:Yt,n=arguments.length<3;return a(e,ls(t,4),r,n,ma)},Br.repeat=function(e,t,r){return t=(r?ys(e,t,r):t===n)?1:go(t),Ja(bo(e),t)},Br.replace=function(){var e=arguments,t=bo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Br.result=function(e,t,r){var a=-1,s=(t=yn(t,e)).length;for(s||(s=1,e=n);++a<s;){var i=null==e?n:e[Ds(t[a])];i===n&&(a=s,i=r),e=$i(i)?i.call(e):i}return e},Br.round=wl,Br.runInContext=e,Br.sample=function(e){return(Hi(e)?$r:$a)(e)},Br.size=function(e){if(null==e)return 0;if(Gi(e))return io(e)?hr(e):e.length;var t=gs(e);return t==_||t==O?e.size:Ia(e).length},Br.snakeCase=Ko,Br.some=function(e,t,r){var a=Hi(e)?Bt:an;return r&&ys(e,t,r)&&(t=n),a(e,ls(t,3))},Br.sortedIndex=function(e,t){return nn(e,t)},Br.sortedIndexBy=function(e,t,r){return sn(e,t,ls(r,2))},Br.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var a=nn(e,t);if(a<r&&Bi(e[a],t))return a}return-1},Br.sortedLastIndex=function(e,t){return nn(e,t,!0)},Br.sortedLastIndexBy=function(e,t,r){return sn(e,t,ls(r,2),!0)},Br.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=nn(e,t,!0)-1;if(Bi(e[r],t))return r}return-1},Br.startCase=Jo,Br.startsWith=function(e,t,r){return e=bo(e),r=null==r?0:ia(go(r),0,e.length),t=cn(t),e.slice(r,r+t.length)==t},Br.subtract=kl,Br.sum=function(e){return e&&e.length?$t(e,al):0},Br.sumBy=function(e,t){return e&&e.length?$t(e,ls(t,2)):0},Br.template=function(e,t,r){var a=Br.templateSettings;r&&ys(e,t,r)&&(t=n),e=bo(e),t=jo({},t,a,Zn);var s,i,o=jo({},t.imports,a.imports,Zn),l=Po(o),c=er(o,l),d=0,u=t.interpolate||we,m="__p += '",h=Ae((t.escape||we).source+"|"+u.source+"|"+(u===ee?ge:we).source+"|"+(t.evaluate||we).source+"|$","g"),g="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(h,function(t,r,a,n,o,l){return a||(a=n),m+=e.slice(d,l).replace(ke,ir),r&&(s=!0,m+="' +\n__e("+r+") +\n'"),o&&(i=!0,m+="';\n"+o+";\n__p += '"),a&&(m+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),m+="';\n";var p=Ie.call(t,"variable")&&t.variable;if(p){if(me.test(p))throw new oe("Invalid `variable` option passed into `_.template`")}else m="with (obj) {\n"+m+"\n}\n";m=(i?m.replace(G,""):m).replace(W,"$1").replace(K,"$1;"),m="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var x=Zo(function(){return Ne(l,g+"return "+m).apply(n,c)});if(x.source=m,Yi(x))throw x;return x},Br.times=function(e,t){if((e=go(e))<1||e>g)return[];var r=x,a=br(e,x);t=ls(t),e-=x;for(var n=Qt(a,t);++r<e;)t(r);return n},Br.toFinite=ho,Br.toInteger=go,Br.toLength=po,Br.toLower=function(e){return bo(e).toLowerCase()},Br.toNumber=xo,Br.toSafeInteger=function(e){return e?ia(go(e),-9007199254740991,g):0===e?e:0},Br.toString=bo,Br.toUpper=function(e){return bo(e).toUpperCase()},Br.trim=function(e,t,r){if((e=bo(e))&&(r||t===n))return Zt(e);if(!e||!(t=cn(t)))return e;var a=gr(e),s=gr(t);return jn(a,rr(a,s),ar(a,s)+1).join("")},Br.trimEnd=function(e,t,r){if((e=bo(e))&&(r||t===n))return e.slice(0,pr(e)+1);if(!e||!(t=cn(t)))return e;var a=gr(e);return jn(a,0,ar(a,gr(t))+1).join("")},Br.trimStart=function(e,t,r){if((e=bo(e))&&(r||t===n))return e.replace(ie,"");if(!e||!(t=cn(t)))return e;var a=gr(e);return jn(a,rr(a,gr(t))).join("")},Br.truncate=function(e,t){var r=30,a="...";if(Xi(t)){var s="separator"in t?t.separator:s;r="length"in t?go(t.length):r,a="omission"in t?cn(t.omission):a}var i=(e=bo(e)).length;if(or(e)){var o=gr(e);i=o.length}if(r>=i)return e;var l=r-hr(a);if(l<1)return a;var c=o?jn(o,0,l).join(""):e.slice(0,l);if(s===n)return c+a;if(o&&(l+=c.length-l),no(s)){if(e.slice(l).search(s)){var d,u=c;for(s.global||(s=Ae(s.source,bo(pe.exec(s))+"g")),s.lastIndex=0;d=s.exec(u);)var m=d.index;c=c.slice(0,m===n?l:m)}}else if(e.indexOf(cn(s),l)!=l){var h=c.lastIndexOf(s);h>-1&&(c=c.slice(0,h))}return c+a},Br.unescape=function(e){return(e=bo(e))&&$.test(e)?e.replace(J,xr):e},Br.uniqueId=function(e){var t=++De;return bo(e)+t},Br.upperCase=Yo,Br.upperFirst=$o,Br.each=fi,Br.eachRight=bi,Br.first=Gs,ol(Br,function(){var e={};return ya(Br,function(t,r){Ie.call(Br.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),Br.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Br[e].placeholder=Br}),Et(["drop","take"],function(e,t){Hr.prototype[e]=function(r){r=r===n?1:Jt(go(r),0);var a=this.__filtered__&&!t?new Hr(this):this.clone();return a.__filtered__?a.__takeCount__=br(r,a.__takeCount__):a.__views__.push({size:br(r,x),type:e+(a.__dir__<0?"Right":"")}),a},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Et(["filter","map","takeWhile"],function(e,t){var r=t+1,a=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ls(e,3),type:r}),t.__filtered__=t.__filtered__||a,t}}),Et(["head","last"],function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}}),Et(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}}),Hr.prototype.compact=function(){return this.filter(al)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Ya(function(e,t){return"function"==typeof e?new Hr(this):this.map(function(r){return Ea(r,e,t)})}),Hr.prototype.reject=function(e){return this.filter(Mi(ls(e)))},Hr.prototype.slice=function(e,t){e=go(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=go(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(x)},ya(Hr.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),s=Br[a?"take"+("last"==t?"Right":""):t],i=a||/^find/.test(t);s&&(Br.prototype[t]=function(){var t=this.__wrapped__,o=a?[1]:arguments,l=t instanceof Hr,c=o[0],d=l||Hi(t),u=function(e){var t=s.apply(Br,Dt([e],o));return a&&m?t[0]:t};d&&r&&"function"==typeof c&&1!=c.length&&(l=d=!1);var m=this.__chain__,h=!!this.__actions__.length,g=i&&!m,p=l&&!h;if(!i&&d){t=p?t:new Hr(this);var x=e.apply(t,o);return x.__actions__.push({func:mi,args:[u],thisArg:n}),new zr(x,m)}return g&&p?e.apply(this,o):(x=this.thru(u),g?a?x.value()[0]:x.value():x)})}),Et(["pop","push","shift","sort","splice","unshift"],function(e){var t=Oe[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);Br.prototype[e]=function(){var e=arguments;if(a&&!this.__chain__){var n=this.value();return t.apply(Hi(n)?n:[],e)}return this[r](function(r){return t.apply(Hi(r)?r:[],e)})}}),ya(Hr.prototype,function(e,t){var r=Br[t];if(r){var a=r.name+"";Ie.call(Or,a)||(Or[a]=[]),Or[a].push({name:t,func:r})}}),Or[Un(n,2).name]=[{name:"wrapper",func:n}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=En(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=En(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=En(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Hi(e),a=t<0,n=r?e.length:0,s=function(e,t,r){var a=-1,n=r.length;for(;++a<n;){var s=r[a],i=s.size;switch(s.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=br(t,e+i);break;case"takeRight":e=Jt(e,t-i)}}return{start:e,end:t}}(0,n,this.__views__),i=s.start,o=s.end,l=o-i,c=a?o:i-1,d=this.__iteratees__,u=d.length,m=0,h=br(l,this.__takeCount__);if(!r||!a&&n==l&&h==l)return gn(e,this.__actions__);var g=[];e:for(;l--&&m<h;){for(var p=-1,x=e[c+=t];++p<u;){var f=d[p],b=f.iteratee,y=f.type,v=b(x);if(2==y)x=v;else if(!v){if(1==y)continue e;break e}}g[m++]=x}return g},Br.prototype.at=hi,Br.prototype.chain=function(){return ui(this)},Br.prototype.commit=function(){return new zr(this.value(),this.__chain__)},Br.prototype.next=function(){this.__values__===n&&(this.__values__=mo(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Br.prototype.plant=function(e){for(var t,r=this;r instanceof qr;){var a=Fs(r);a.__index__=0,a.__values__=n,t?s.__wrapped__=a:t=a;var s=a;r=r.__wrapped__}return s.__wrapped__=e,t},Br.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:mi,args:[Xs],thisArg:n}),new zr(t,this.__chain__)}return this.thru(Xs)},Br.prototype.toJSON=Br.prototype.valueOf=Br.prototype.value=function(){return gn(this.__wrapped__,this.__actions__)},Br.prototype.first=Br.prototype.head,Qe&&(Br.prototype[Qe]=function(){return this}),Br}();pt._=fr,(a=function(){return fr}.call(t,r,t,e))===n||(e.exports=a)}.call(this)},3668:(e,t,r)=>{var a=r(8902),n=r(2587),s=r(8114);e.exports=function(e,t,r,i,o,l){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var m=l.get(e),h=l.get(t);if(m&&h)return m==t&&h==e;var g=-1,p=!0,x=2&r?new a:void 0;for(l.set(e,t),l.set(t,e);++g<d;){var f=e[g],b=t[g];if(i)var y=c?i(b,f,g,t,e,l):i(f,b,g,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(x){if(!n(t,function(e,t){if(!s(x,t)&&(f===e||o(f,e,r,i,l)))return x.push(t)})){p=!1;break}}else if(f!==b&&!o(f,b,r,i,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},3713:(e,t,r)=>{var a=r(6140),n=r(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return n(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3763:(e,t,r)=>{"use strict";e.exports=r(4983)},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}},4190:(e,t,r)=>{var a=r(1340);e.exports=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,x={};function f(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||g}function b(){}function y(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||g}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=f.prototype;var v=y.prototype=new b;v.constructor=y,p(v,f.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,a){var n,s={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!N.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===s[n]&&(s[n]=l[n]);return{$$typeof:r,type:e,key:i,ref:o,props:s,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,n,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case a:l=!0}}if(l)return i=i(l=e),e=""===s?"."+C(l,0):s,j(i)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),E(i,t,n,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+C(o=e[c],c);l+=E(o,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,n,d=s+C(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,r){if(null==e)return e;var a=[],n=0;return E(e,a,"","",function(e){return t.call(r,e,n++)}),a}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},L={transition:null},M={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,r){O(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=n,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=I,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!N.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:r,type:e.type,key:s,ref:i,props:n,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,r){return T.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,r){return T.current.useReducer(e,t,r)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return T.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4262:(e,t,r)=>{var a=r(8895),n=r(4052);e.exports=function(e,t,r){var s=t(e);return n(e)?s:a(s,r(e))}},4391:(e,t,r)=>{"use strict";var a=r(7950);t.H=a.createRoot,a.hydrateRoot},4543:(e,t,r)=>{e=r.nmd(e);var a=r(6552),n=r(14),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s?a.Buffer:void 0,l=(o?o.isBuffer:void 0)||n;e.exports=l},4545:(e,t,r)=>{var a=r(7160);e.exports=function(){this.__data__=new a,this.size=0}},4552:(e,t,r)=>{var a=r(9812),n=Object.prototype,s=n.hasOwnProperty,i=n.toString,o=a?a.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),r=e[o];try{e[o]=void 0;var a=!0}catch(l){}var n=i.call(e);return a&&(t?e[o]=r:delete e[o]),n}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4816:(e,t,r)=>{var a=r(7251),n=r(7159),s=r(438),i=r(9394),o=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},4983:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,p=r?Symbol.for("react.memo"):60115,x=r?Symbol.for("react.lazy"):60116,f=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,v=r?Symbol.for("react.scope"):60119;function j(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case u:case s:case o:case i:case h:return e;default:switch(e=e&&e.$$typeof){case c:case m:case x:case p:case l:return e;default:return t}}case n:return t}}}function w(e){return j(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=a,t.ForwardRef=m,t.Fragment=s,t.Lazy=x,t.Memo=p,t.Portal=n,t.Profiler=o,t.StrictMode=i,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||j(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return j(e)===c},t.isContextProvider=function(e){return j(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return j(e)===m},t.isFragment=function(e){return j(e)===s},t.isLazy=function(e){return j(e)===x},t.isMemo=function(e){return j(e)===p},t.isPortal=function(e){return j(e)===n},t.isProfiler=function(e){return j(e)===o},t.isStrictMode=function(e){return j(e)===i},t.isSuspense=function(e){return j(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===u||e===o||e===i||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===x||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===m||e.$$typeof===b||e.$$typeof===y||e.$$typeof===v||e.$$typeof===f)},t.typeOf=j},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5193:(e,t,r)=>{var a=r(6913),n=r(2761);e.exports=function(e){return n(e)&&"[object Arguments]"==a(e)}},5204:(e,t,r)=>{var a=r(7937)(r(6552),"Map");e.exports=a},5387:(e,t,r)=>{var a=r(7937)(r(6552),"Promise");e.exports=a},5428:(e,t,r)=>{var a=r(6913),n=r(6173),s=r(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&n(e.length)&&!!i[a(e)]}},5538:(e,t,r)=>{var a=r(7160),n=r(4545),s=r(793),i=r(7760),o=r(3892),l=r(6788);function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,r)=>{var a=r(7937)(Object,"create");e.exports=a},5752:(e,t,r)=>{var a=r(9395),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,s,i,o){var l=1&r,c=a(e),d=c.length;if(d!=a(t).length&&!l)return!1;for(var u=d;u--;){var m=c[u];if(!(l?m in t:n.call(t,m)))return!1}var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var p=!0;o.set(e,t),o.set(t,e);for(var x=l;++u<d;){var f=e[m=c[u]],b=t[m];if(s)var y=l?s(b,f,m,t,e,o):s(f,b,m,e,t,o);if(!(void 0===y?f===b||i(f,b,r,s,o):y)){p=!1;break}x||(x="constructor"==m)}if(p&&!x){var v=e.constructor,j=t.constructor;v==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof j&&j instanceof j||(p=!1)}return o.delete(e),o.delete(t),p}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6399:(e,t,r)=>{var a=r(5538),n=r(3668),s=r(9987),i=r(5752),o=r(6924),l=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",m="[object Array]",h="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,p,x,f){var b=l(e),y=l(t),v=b?m:o(e),j=y?m:o(t),w=(v=v==u?h:v)==h,k=(j=j==u?h:j)==h,N=v==j;if(N&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(N&&!w)return f||(f=new a),b||d(e)?n(e,t,r,p,x,f):s(e,t,v,r,p,x,f);if(!(1&r)){var _=w&&g.call(e,"__wrapped__"),S=k&&g.call(t,"__wrapped__");if(_||S){var A=_?e.value():e,C=S?t.value():t;return f||(f=new a),x(A,C,r,p,f)}}return!!N&&(f||(f=new a),i(e,t,r,p,x,f))}},6552:(e,t,r)=>{var a=r(7105),n="object"==typeof self&&self&&self.Object===Object&&self,s=a||n||Function("return this")();e.exports=s},6571:(e,t,r)=>{var a=r(1629),n=r(6173);e.exports=function(e){return null!=e&&n(e.length)&&!a(e)}},6600:(e,t,r)=>{var a=r(7937)(r(6552),"WeakMap");e.exports=a},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,r)=>{var a=r(7160),n=r(5204),s=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof a){var i=r.__data__;if(!n||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(i)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var a=r(7105),n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,i=s&&s.exports===n&&a.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,r)=>{var a=r(2622);e.exports=function(e,t){var r=a(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}},6913:(e,t,r)=>{var a=r(9812),n=r(4552),s=r(6095),i=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?n(e):s(e)}},6924:(e,t,r)=>{var a=r(7685),n=r(5204),s=r(5387),i=r(2070),o=r(6600),l=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",m="[object Set]",h="[object WeakMap]",g="[object DataView]",p=c(a),x=c(n),f=c(s),b=c(i),y=c(o),v=l;(a&&v(new a(new ArrayBuffer(1)))!=g||n&&v(new n)!=d||s&&v(s.resolve())!=u||i&&v(new i)!=m||o&&v(new o)!=h)&&(v=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,a=r?c(r):"";if(a)switch(a){case p:return g;case x:return d;case f:return u;case b:return m;case y:return h}return t}),e.exports=v},6954:(e,t,r)=>{var a=r(1629),n=r(7857),s=r(6686),i=r(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,m=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||n(e))&&(a(e)?m:o).test(i(e))}},6989:(e,t,r)=>{var a=r(6399),n=r(2761);e.exports=function e(t,r,s,i,o){return t===r||(null==t||null==r||!n(t)&&!n(r)?t!==t&&r!==r:a(t,r,s,i,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7105:(e,t,r)=>{var a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=a},7159:(e,t,r)=>{var a=r(2622);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var a=r(7563),n=r(9935),s=r(4190),i=r(1946),o=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,n=e[a];if(!(0<s(n,t)))break e;e[a]=t,e[r]=n,r=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,n=e.length,i=n>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,r))c<n&&0>s(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[o]=r,a=o);else{if(!(c<n&&0>s(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,g=!1,p=!1,x=!1,f="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=a(d)}}function j(e){if(x=!1,v(e),!p)if(null!==a(c))p=!0,L(w);else{var t=a(d);null!==t&&M(j,t.startTime-e)}}function w(e,r){p=!1,x&&(x=!1,b(S),S=-1),g=!0;var s=h;try{for(v(r),m=a(c);null!==m&&(!(m.expirationTime>r)||e&&!E());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var o=i(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?m.callback=o:m===a(c)&&n(c),v(r)}else n(c);m=a(c)}if(null!==m)var l=!0;else{var u=a(d);null!==u&&M(j,u.startTime-r),l=!1}return l}finally{m=null,h=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,_=null,S=-1,A=5,C=-1;function E(){return!(t.unstable_now()-C<A)}function O(){if(null!==_){var e=t.unstable_now();C=e;var r=!0;try{r=_(!0,e)}finally{r?k():(N=!1,_=null)}}else N=!1}if("function"===typeof y)k=function(){y(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=O,k=function(){T.postMessage(null)}}else k=function(){f(O,0)};function L(e){_=e,N||(N=!0,k())}function M(e,r){S=f(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,n,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(d,e),null===a(c)&&e===a(d)&&(x?(b(S),S=-1):x=!0,M(j,s-i))):(e.sortIndex=o,r(c,e),p||g||(p=!0,L(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},7251:(e,t,r)=>{var a=r(8724),n=r(7160),s=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(s||n),string:new a}}},7358:(e,t)=>{"use strict";var r=60103,a=60106,n=60107,s=60108,i=60114,o=60109,l=60110,c=60112,d=60113,u=60120,m=60115,h=60116,g=60121,p=60122,x=60117,f=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;r=y("react.element"),a=y("react.portal"),n=y("react.fragment"),s=y("react.strict_mode"),i=y("react.profiler"),o=y("react.provider"),l=y("react.context"),c=y("react.forward_ref"),d=y("react.suspense"),u=y("react.suspense_list"),m=y("react.memo"),h=y("react.lazy"),g=y("react.block"),p=y("react.server.block"),x=y("react.fundamental"),f=y("react.debug_trace_mode"),b=y("react.legacy_hidden")}function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case n:case i:case s:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case m:case o:return e;default:return t}}case a:return t}}}t.isContextConsumer=function(e){return v(e)===l}},7529:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length,n=0,s=[];++r<a;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var a=r(5575);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},7680:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),n=r(18),s=r(19),i=r(45),o=r(46),l=r(47),c=r(48),d=r(49),u=r(12),m=r(32),h=r(33),g=r(31),p=r(1),x={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:a.default,Format:n.default,Leaf:s.default,Embed:c.default,Scroll:i.default,Block:l.default,Inline:o.default,Text:d.default,Attributor:{Attribute:u.default,Class:m.default,Style:h.default,Store:g.default}};t.default=x},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return a(t,e),t}(Error);t.ParchmentError=n;var s,i={},o={},l={},c={};function d(e,t){var r;if(void 0===t&&(t=s.ANY),"string"===typeof e)r=c[e]||i[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"===typeof e)e&s.LEVEL&s.BLOCK?r=c.block:e&s.LEVEL&s.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var a=(e.getAttribute("class")||"").split(/\s+/);for(var n in a)if(r=o[a[n]])break;r=r||l[e.tagName]}return null==r?null:t&s.LEVEL&r.scope&&t&s.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(s=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new n("Unable to create "+e+" blot");var a=r,s=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(t);return new a(s,t)},t.find=function e(r,a){return void 0===a&&(a=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:a?e(r.parentNode,a):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map(function(t){return e(t)});var a=t[0];if("string"!==typeof a.blotName&&"string"!==typeof a.attrName)throw new n("Invalid definition");if("abstract"===a.blotName)throw new n("Cannot register abstract class");return c[a.blotName||a.attrName]=a,"string"===typeof a.keyName?i[a.keyName]=a:(null!=a.className&&(o[a.className]=a),null!=a.tagName&&(Array.isArray(a.tagName)?a.tagName=a.tagName.map(function(e){return e.toUpperCase()}):a.tagName=a.tagName.toUpperCase(),(Array.isArray(a.tagName)?a.tagName:[a.tagName]).forEach(function(e){null!=l[e]&&null!=a.className||(l[e]=a)}))),a}},function(e,t,r){var a=r(51),n=r(11),s=r(3),i=r(20),o=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},l.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=s(!0,{},e),"object"===typeof r){if("number"===typeof e.delete&&"number"===typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"===typeof r.delete&&null!=e.insert&&(t-=1,"object"!==typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(n(e.attributes,r.attributes)){if("string"===typeof e.insert&&"string"===typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(a){(e(a)?t:r).push(a)}),[t,r]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+i.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+i.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var r=[],a=i.iterator(this.ops),n=0;n<t&&a.hasNext();){var s;n<e?s=a.next(e-n):(s=a.next(t-n),r.push(s)),n+=i.length(s)}return new l(r)},l.prototype.compose=function(e){var t=i.iterator(this.ops),r=i.iterator(e.ops),a=[],s=r.peek();if(null!=s&&"number"===typeof s.retain&&null==s.attributes){for(var o=s.retain;"insert"===t.peekType()&&t.peekLength()<=o;)o-=t.peekLength(),a.push(t.next());s.retain-o>0&&r.next(s.retain-o)}for(var c=new l(a);t.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===t.peekType())c.push(t.next());else{var d=Math.min(t.peekLength(),r.peekLength()),u=t.next(d),m=r.next(d);if("number"===typeof m.retain){var h={};"number"===typeof u.retain?h.retain=d:h.insert=u.insert;var g=i.attributes.compose(u.attributes,m.attributes,"number"===typeof u.retain);if(g&&(h.attributes=g),c.push(h),!r.hasNext()&&n(c.ops[c.ops.length-1],h)){var p=new l(t.rest());return c.concat(p).chop()}}else"number"===typeof m.delete&&"number"===typeof u.retain&&c.push(m)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var r=[this,e].map(function(t){return t.map(function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:o;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),s=new l,c=a(r[0],r[1],t),d=i.iterator(this.ops),u=i.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case a.INSERT:r=Math.min(u.peekLength(),t),s.push(u.next(r));break;case a.DELETE:r=Math.min(t,d.peekLength()),d.next(r),s.delete(r);break;case a.EQUAL:r=Math.min(d.peekLength(),u.peekLength(),t);var o=d.next(r),l=u.next(r);n(o.insert,l.insert)?s.retain(r,i.attributes.diff(o.attributes,l.attributes)):s.push(l).delete(r)}t-=r}}),s.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var r=i.iterator(this.ops),a=new l,n=0;r.hasNext();){if("insert"!==r.peekType())return;var s=r.peek(),o=i.length(s)-r.peekLength(),c="string"===typeof s.insert?s.insert.indexOf(t,o)-o:-1;if(c<0)a.push(r.next());else if(c>0)a.push(r.next(c));else{if(!1===e(a,r.next(1).attributes||{},n))return;n+=1,a=new l}}a.length()>0&&e(a,{},n)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var r=i.iterator(this.ops),a=i.iterator(e.ops),n=new l;r.hasNext()||a.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===a.peekType())if("insert"===a.peekType())n.push(a.next());else{var s=Math.min(r.peekLength(),a.peekLength()),o=r.next(s),c=a.next(s);if(o.delete)continue;c.delete?n.push(c):n.retain(s,i.attributes.transform(o.attributes,c.attributes,t))}else n.retain(i.length(r.next()));return n.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var r=i.iterator(this.ops),a=0;r.hasNext()&&a<=e;){var n=r.peekLength(),s=r.peekType();r.next(),"delete"!==s?("insert"===s&&(a<e||!t)&&(e+=n),a+=n):e-=Math.min(n,e-a)}return e},e.exports=l},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},o=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,n=r.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!s)return!1;for(t in e);return"undefined"===typeof t||r.call(e,t)},l=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(s)return s(e,t).value}return e[t]};e.exports=function e(){var t,r,a,n,s,d,u=arguments[0],m=1,h=arguments.length,g=!1;for("boolean"===typeof u&&(g=u,u=arguments[1]||{},m=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});m<h;++m)if(null!=(t=arguments[m]))for(r in t)a=c(u,r),u!==(n=c(t,r))&&(g&&n&&(o(n)||(s=i(n)))?(s?(s=!1,d=a&&i(a)?a:[]):d=a&&o(a)?a:{},l(u,{name:r,newValue:e(g,d,n)})):"undefined"!==typeof n&&l(u,{name:r,newValue:n}));return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=u(r(3)),i=u(r(2)),o=u(r(0)),l=u(r(16)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return m(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),a(t,[{key:"attach",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new o.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new i.default).insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=o.default.query(e,o.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,a){this.format(r,a)}},{key:"insertAt",value:function(e,r,a){if("string"===typeof r&&r.endsWith("\n")){var s=o.default.create(x.blotName);this.parent.insertBefore(s,0===e?this:this.next),s.insertAt(0,r.slice(0,-1))}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a)}}]),t}(o.default.Embed);p.scope=o.default.Scope.BLOCK_BLOT;var x=function(e){function t(e){m(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return g(t,e),a(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(o.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),f(t))},new i.default).insert("\n",f(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,a,s){r<=0||(o.default.query(a,o.default.Scope.BLOCK)?e+r===this.length()&&this.format(a,s):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),a,s),this.cache={})}},{key:"insertAt",value:function(e,r,a){if(null!=a)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a);if(0!==r.length){var s=r.split("\n"),i=s.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var o=this;s.reduce(function(e,t){return(o=o.split(e,!0)).insertAt(0,t),t.length},e+i.length)}}},{key:"insertBefore",value:function(e,r){var a=this.children.head;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),a instanceof l.default&&a.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var a=this.clone();return 0===e?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}var s=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},s}}]),t}(o.default.Block);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,s.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:f(e.parent,t))}x.blotName="block",x.tagName="P",x.defaultChild="break",x.allowedChildren=[c.default,o.default.Embed,d.default],t.bubbleFormats=f,t.BlockEmbed=p,t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(50);var i=x(r(2)),o=x(r(14)),l=x(r(8)),c=x(r(9)),d=x(r(0)),u=r(15),m=x(u),h=x(r(3)),g=x(r(10)),p=x(r(34));function x(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=(0,g.default)("quill"),y=function(){function e(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=v(t,a),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=d.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new o.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e){e===l.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(e,t){var a=r.selection.lastRange,n=a&&0===a.length?a.index:void 0;j.call(r,function(){return r.editor.update(null,t,n)},e)});var s=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+n+"<p><br></p></div>");this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),g.default.level(e)}},{key:"find",value:function(e){return e.__quill||d.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&b.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var n=e.attrName||e.blotName;"string"===typeof n?this.register("formats/"+n,e,t):Object.keys(e).forEach(function(a){r.register(a,e[a],t)})}else null==this.imports[e]||a||b.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?d.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),s(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var a=this,s=w(e,t,r),i=n(s,4);return e=i[0],t=i[1],r=i[3],j.call(this,function(){return a.editor.deleteText(e,t)},r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return j.call(this,function(){var a=r.getSelection(!0),n=new i.default;if(null==a)return n;if(d.default.query(e,d.default.Scope.BLOCK))n=r.editor.formatLine(a.index,a.length,f({},e,t));else{if(0===a.length)return r.selection.format(e,t),n;n=r.editor.formatText(a.index,a.length,f({},e,t))}return r.setSelection(a,l.default.sources.SILENT),n},a)}},{key:"formatLine",value:function(e,t,r,a,s){var i,o=this,l=w(e,t,r,a,s),c=n(l,4);return e=c[0],t=c[1],i=c[2],s=c[3],j.call(this,function(){return o.editor.formatLine(e,t,i)},s,e,0)}},{key:"formatText",value:function(e,t,r,a,s){var i,o=this,l=w(e,t,r,a,s),c=n(l,4);return e=c[0],t=c[1],i=c[2],s=c[3],j.call(this,function(){return o.editor.formatText(e,t,i)},s,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var a=this.container.getBoundingClientRect();return{bottom:r.bottom-a.top,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),a=n(r,2);return e=a[0],t=a[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),a=n(r,2);return e=a[0],t=a[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,a){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return j.call(this,function(){return n.editor.insertEmbed(t,r,a)},s,t)}},{key:"insertText",value:function(e,t,r,a,s){var i,o=this,l=w(e,0,r,a,s),c=n(l,4);return e=c[0],i=c[2],s=c[3],j.call(this,function(){return o.editor.insertText(e,t,i)},s,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var a=this,s=w(e,t,r),i=n(s,4);return e=i[0],t=i[1],r=i[3],j.call(this,function(){return a.editor.removeFormat(e,t)},r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return j.call(this,function(){e=new i.default(e);var r=t.getLength(),a=t.editor.deleteText(0,r),n=t.editor.applyDelta(e),s=n.ops[n.ops.length-1];return null!=s&&"string"===typeof s.insert&&"\n"===s.insert[s.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),n.delete(1)),a.compose(n)},r)}},{key:"setSelection",value:function(t,r,a){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var s=w(t,r,a),i=n(s,4);t=i[0],r=i[1],a=i[3],this.selection.setRange(new u.Range(t,r),a),a!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,r=(new i.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return j.call(this,function(){return e=new i.default(e),t.editor.applyDelta(e,r)},r,!0)}}]),e}();function v(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==y.DEFAULTS.theme){if(t.theme=y.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=p.default;var r=(0,h.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var a=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var r=y.import("modules/"+t);return null==r?b.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},y.DEFAULTS,{modules:a},r,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e},{}),t}function j(e,t,r,a){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new i.default;var n=null==r?null:this.getSelection(),s=this.editor.delta,o=e();if(null!=n&&(!0===r&&(r=n.index),null==a?n=k(n,o,t):0!==a&&(n=k(n,r,a,t)),this.setSelection(n,l.default.sources.SILENT)),o.length()>0){var c,d,u=[l.default.events.TEXT_CHANGE,o,s,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(u)),t!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,u)}return o}function w(e,t,r,n,s){var i={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(s=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(s=n,n=r,r=t,t=0),"object"===("undefined"===typeof r?"undefined":a(r))?(i=r,s=n):"string"===typeof r&&(null!=n?i[r]=n:s=r),[e,t,i,s=s||l.default.sources.API]}function k(e,t,r,a){if(null==e)return null;var s=void 0,o=void 0;if(t instanceof i.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,a!==l.default.sources.USER)}),d=n(c,2);s=d[0],o=d[1]}else{var m=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&a===l.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)}),h=n(m,2);s=h[0],o=h[1]}return new u.Range(s,o-s)}y.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},y.events=l.default.events,y.sources=l.default.sources,y.version="1.3.7",y.imports={delta:i.default,parchment:d.default,"core/module":c.default,"core/theme":p.default},t.expandConfig=v,t.overload=w,t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=o(r(7)),i=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"formatAt",value:function(e,r,a,s){if(t.compare(this.statics.blotName,a)<0&&i.default.query(a,i.default.Scope.BLOT)){var o=this.isolate(e,r);s&&o.wrap(a,s)}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,a,s)}},{key:"optimize",value:function(e){if(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var a=t.order.indexOf(e),n=t.order.indexOf(r);return a>=0||n>=0?a-n:e===r?0:e<r?-1:1}}]),t}(i.default.Inline);l.allowedChildren=[l,i.default.Embed,s.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default.Text);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=i(r(54));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,i(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)})})});var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",o.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"emit",value:function(){o.log.apply(o,arguments),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];(this.listeners[e.type]||[]).forEach(function(t){var a=t.node,n=t.handler;(e.target===a||a.contains(e.target))&&n.apply(void 0,[e].concat(r))})}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(s.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};a.DEFAULTS={},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=["error","warn","log","info"],n="warn";function s(e){if(a.indexOf(e)<=a.indexOf(n)){for(var t,r=arguments.length,s=Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];(t=console)[e].apply(t,s)}}function i(e){return a.reduce(function(t,r){return t[r]=s.bind(console,r,e),t},{})}s.level=i.level=function(e){n=e},t.default=i},function(e,t,r){var a=Array.prototype.slice,n=r(52),s=r(53),i=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var c,d;if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=a.call(e),t=a.call(t),i(e,t,r));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var u=n(e),m=n(t)}catch(h){return!1}if(u.length!=m.length)return!1;for(u.sort(),m.sort(),c=u.length-1;c>=0;c--)if(u[c]!=m[c])return!1;for(c=u.length-1;c>=0;c--)if(d=u[c],!i(e[d],t[d],r))return!1;return typeof e===typeof t}(e,t,r))};function o(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var n=a.Scope.TYPE&a.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&a.Scope.LEVEL|n:this.scope=a.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=a.query(e,a.Scope.BLOT&(this.scope|a.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=u(r(2)),o=u(r(0)),l=u(r(4)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return m(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),t}(c.default);p.blotName="code",p.tagName="CODE";var x=function(e){function t(){return m(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),n(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,r){return t.insert(r).insert("\n",e.formats())},new i.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var n=this.descendant(d.default,this.length()-1),i=a(n,1)[0];null!=i&&i.deleteAt(i.length()-1,1),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,a,n){if(0!==r&&null!=o.default.query(a,o.default.Scope.BLOCK)&&(a!==this.statics.blotName||n!==this.statics.formats(this.domNode))){var s=this.newlineIndex(e);if(!(s<0||s>=e+r)){var i=this.newlineIndex(e,!0)+1,l=s-i+1,c=this.isolate(i,l),d=c.next;c.format(a,n),d instanceof t&&d.formatAt(0,e-i+r-l,a,n)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var n=this.descendant(d.default,e),s=a(n,2),i=s[0],o=s[1];i.insertAt(o,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(o.default.create("text","\n")),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=o.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof o.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(l.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",t.Code=p,t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=f(r(2)),o=f(r(20)),l=f(r(0)),c=f(r(13)),d=f(r(24)),u=r(4),m=f(u),h=f(r(16)),g=f(r(21)),p=f(r(11)),x=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}var b=/^[ -~]*$/,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return s(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var s=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var r=(0,g.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,g.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var a=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(a,t.attributes)}return e.push(t)},new i.default)}(e)).reduce(function(e,i){var c=i.retain||i.delete||i.insert.length||1,d=i.attributes||{};if(null!=i.insert){if("string"===typeof i.insert){var h=i.insert;h.endsWith("\n")&&r&&(r=!1,h=h.slice(0,-1)),e>=s&&!h.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,h);var g=t.scroll.line(e),p=n(g,2),f=p[0],b=p[1],y=(0,x.default)({},(0,u.bubbleFormats)(f));if(f instanceof m.default){var v=f.descendant(l.default.Leaf,b),j=n(v,1)[0];y=(0,x.default)(y,(0,u.bubbleFormats)(j))}d=o.default.attributes.diff(y,d)||{}}else if("object"===a(i.insert)){var w=Object.keys(i.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,i.insert[w])}s+=c}return Object.keys(d).forEach(function(r){t.scroll.formatAt(e,c,r,d[r])}),e+c},0),e.reduce(function(e,r){return"number"===typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new i.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(a).forEach(function(n){if(null==r.scroll.whitelist||r.scroll.whitelist[n]){var s=r.scroll.lines(e,Math.max(t,1)),i=t;s.forEach(function(t){var s=t.length();if(t instanceof c.default){var o=e-t.offset(r.scroll),l=t.newlineIndex(o+i)-o+1;t.formatAt(o,l,n,a[n])}else t.format(n,a[n]);i-=s})}}),this.scroll.optimize(),this.update((new i.default).retain(e).retain(t,(0,g.default)(a)))}},{key:"formatText",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(a).forEach(function(n){r.scroll.formatAt(e,t,n,a[n])}),this.update((new i.default).retain(e).retain(t,(0,g.default)(a)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new i.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],a=[];0===t?this.scroll.path(e).forEach(function(e){var t=n(e,1)[0];t instanceof m.default?r.push(t):t instanceof l.default.Leaf&&a.push(t)}):(r=this.scroll.lines(e,t),a=this.scroll.descendants(l.default.Leaf,e,t));var s=[r,a].map(function(e){if(0===e.length)return{};for(var t=(0,u.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=v((0,u.bubbleFormats)(r),t)}return t});return x.default.apply(x.default,s)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new i.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(a).forEach(function(n){r.scroll.formatAt(e,t.length,n,a[n])}),this.update((new i.default).retain(e).insert(t,(0,g.default)(a)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===m.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),a=this.scroll.line(e+t),s=n(a,2),o=s[0],l=s[1],d=0,u=new i.default;null!=o&&(d=o instanceof c.default?o.newlineIndex(l)-l+1:o.length()-l,u=o.delta().slice(l,l+d-1).insert("\n"));var m=this.getContents(e,t+d).diff((new i.default).insert(r).concat(u)),h=(new i.default).retain(e).concat(m);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(b)&&l.default.find(t[0].target)){var n=l.default.find(t[0].target),s=(0,u.bubbleFormats)(n),o=n.offset(this.scroll),c=t[0].oldValue.replace(d.default.CONTENTS,""),m=(new i.default).insert(c),h=(new i.default).insert(n.value());e=(new i.default).retain(o).concat(m.diff(h,r)).reduce(function(e,t){return t.insert?e.insert(t.insert,s):e.push(t)},new i.default),this.delta=a.compose(e)}else this.delta=this.getDelta(),e&&(0,p.default)(a.compose(e),this.delta)||(e=a.diff(this.delta,r));return e}}]),e}();function v(e,t){return Object.keys(t).reduce(function(r,a){return null==e[a]||(t[a]===e[a]?r[a]=t[a]:Array.isArray(t[a])?t[a].indexOf(e[a])<0&&(r[a]=t[a].concat([e[a]])):r[a]=[t[a],e[a]]),r},{})}t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=c(r(0)),i=c(r(21)),o=c(r(11)),l=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=(0,c(r(10)).default)("quill:selection"),h=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.index=t,this.length=r},g=function(){function e(t,r){var a=this;u(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){a.mouseDown||setTimeout(a.update.bind(a,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&a.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(a.hasFocus()){var e=a.getNativeRange();null!=e&&e.start.node!==a.cursor.textNode&&a.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{a.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var r=t.range,n=r.startNode,s=r.startOffset,i=r.endNode,o=r.endOffset;a.setNativeRange(n,s,i,o)}}),this.update(l.default.sources.SILENT)}return n(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!s.default.query(e,s.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var a=s.default.find(r.start.node,!1);if(null==a)return;if(a instanceof s.default.Leaf){var n=a.split(r.start.offset);a.parent.insertBefore(this.cursor,n)}else a.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var n=void 0,s=this.scroll.leaf(e),i=a(s,2),o=i[0],l=i[1];if(null==o)return null;var c=o.position(l,!0),d=a(c,2);n=d[0],l=d[1];var u=document.createRange();if(t>0){u.setStart(n,l);var m=this.scroll.leaf(e+t),h=a(m,2);if(o=h[0],l=h[1],null==o)return null;var g=o.position(l,!0),p=a(g,2);return n=p[0],l=p[1],u.setEnd(n,l),u.getBoundingClientRect()}var x="left",f=void 0;return n instanceof Text?(l<n.data.length?(u.setStart(n,l),u.setEnd(n,l+1)):(u.setStart(n,l-1),u.setEnd(n,l),x="right"),f=u.getBoundingClientRect()):(f=o.domNode.getBoundingClientRect(),l>0&&(x="right")),{bottom:f.top+f.height,height:f.height,left:f[x],right:f[x],top:f.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return m.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var n=r.map(function(e){var r=a(e,2),n=r[0],i=r[1],o=s.default.find(n,!0),l=o.offset(t.scroll);return 0===i?l:o instanceof s.default.Container?l+o.length():l+o.index(n,i)}),i=Math.min(Math.max.apply(Math,d(n)),this.scroll.length()-1),o=Math.min.apply(Math,[i].concat(d(n)));return new h(o,i-o)}},{key:"normalizeNative",value:function(e){if(!p(this.root,e.startContainer)||!e.collapsed&&!p(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r}),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],n=[],s=this.scroll.length();return r.forEach(function(e,r){e=Math.min(s-1,e);var i,o=t.scroll.leaf(e),l=a(o,2),c=l[0],d=l[1],u=c.position(d,0!==r),m=a(u,2);i=m[0],d=m[1],n.push(i,d)}),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var n=this.scroll.length()-1,s=this.scroll.line(Math.min(t.index,n)),i=a(s,1)[0],o=i;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,n));o=a(l,1)[0]}if(null!=i&&null!=o){var c=e.getBoundingClientRect();r.top<c.top?e.scrollTop-=c.top-r.top:r.bottom>c.bottom&&(e.scrollTop+=r.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.info("setNativeRange",e,t,r,a),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var s=document.getSelection();if(null!=s)if(null!=e){this.hasFocus()||this.root.focus();var i=(this.getNativeRange()||{}).native;if(null==i||n||e!==i.startContainer||t!==i.startOffset||r!==i.endContainer||a!==i.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(a=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var o=document.createRange();o.setStart(e,t),o.setEnd(r,a),s.removeAllRanges(),s.addRange(o)}}else s.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(r=t,t=!1),m.info("setRange",e),null!=e){var a=this.rangeToNative(e);this.setNativeRange.apply(this,d(a).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,r=this.getRange(),n=a(r,2),s=n[0],c=n[1];if(this.lastRange=s,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,o.default)(t,this.lastRange)){var d;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var u,m=[l.default.events.SELECTION_CHANGE,(0,i.default)(this.lastRange),(0,i.default)(t),e];(d=this.emitter).emit.apply(d,[l.default.events.EDITOR_CHANGE].concat(m)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,m)}}}]),e}();function p(e,t){try{t.parentNode}catch(r){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"insertInto",value:function(e,r){0===e.children.length?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default.Embed);o.blotName="break",o.tagName="BR",t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(44),s=r(30),i=r(1),o=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return a(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new n.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var r=l(t);e.insertBefore(r,e.children.head||void 0)}catch(a){if(a instanceof i.ParchmentError)return;throw a}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,r){e.deleteAt(t,r)})},t.prototype.descendant=function(e,r){var a=this.children.find(r),n=a[0],s=a[1];return null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e?[n,s]:n instanceof t?n.descendant(e,s):[null,-1]},t.prototype.descendants=function(e,r,a){void 0===r&&(r=0),void 0===a&&(a=Number.MAX_VALUE);var n=[],s=a;return this.children.forEachAt(r,a,function(r,a,i){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&n.push(r),r instanceof t&&(n=n.concat(r.descendants(e,a,s))),s-=i}),n},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,a){this.children.forEachAt(e,t,function(e,t,n){e.formatAt(t,n,r,a)})},t.prototype.insertAt=function(e,t,r){var a=this.children.find(e),n=a[0],s=a[1];if(n)n.insertAt(s,t,r);else{var o=null==r?i.create("text",t):i.create(t,r);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new i.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(r){e.insertBefore(r,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=i.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var a=this.children.find(e,r),n=a[0],s=a[1],i=[[this,e]];return n instanceof t?i.concat(n.path(s,r)):(null!=n&&i.push([n,s]),i)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),function(e,a,n){e=e.split(a,t),r.appendChild(e)}),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,a=[],n=[];e.forEach(function(e){e.target===r.domNode&&"childList"===e.type&&(a.push.apply(a,e.addedNodes),n.push.apply(n,e.removedNodes))}),n.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=i.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}}),a.filter(function(e){return e.parentNode==r.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=i.find(e.nextSibling));var a=l(e);a.next==t&&null!=a.next||(null!=a.parent&&a.parent.removeChild(r),r.insertBefore(a,t||void 0))})},t}(s.default);function l(e){var t=i.find(e);if(null==t)try{t=i.create(e)}catch(r){t=i.create(i.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),s=r(31),i=r(17),o=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new s.default(r.domNode),r}return a(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=o.query(e);r instanceof n.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var a=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(a),a},t.prototype.update=function(t,r){var a=this;e.prototype.update.call(this,t,r),t.some(function(e){return e.target===a.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(r,a){var n=e.prototype.wrap.call(this,r,a);return n instanceof t&&n.statics.scope===this.statics.scope&&this.attributes.move(n),n},t}(i.default);t.default=l},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=s.Scope.INLINE_BLOT,t}(n.default);t.default=i},function(e,t,r){var a=r(11),n=r(3),s={attributes:{compose:function(e,t,r){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var a=n(!0,{},t);for(var s in r||(a=Object.keys(a).reduce(function(e,t){return null!=a[t]&&(e[t]=a[t]),e},{})),e)void 0!==e[s]&&void 0===t[s]&&(a[s]=e[s]);return Object.keys(a).length>0?a:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(r,n){return a(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r},{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!==typeof e)return t;if("object"===typeof t){if(!r)return t;var a=Object.keys(t).reduce(function(r,a){return void 0===e[a]&&(r[a]=t[a]),r},{});return Object.keys(a).length>0?a:void 0}}},iterator:function(e){return new i(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function i(e){this.ops=e,this.index=0,this.offset=0}i.prototype.hasNext=function(){return this.peekLength()<1/0},i.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,a=s.length(t);if(e>=a-r?(e=a-r,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var n={};return t.attributes&&(n.attributes=t.attributes),"number"===typeof t.retain?n.retain=e:"string"===typeof t.insert?n.insert=t.insert.substr(r,e):n.insert=t.insert,n}return{retain:1/0}},i.prototype.peek=function(){return this.ops[this.index]},i.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},i.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},i.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),a=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(a)}return[]},e.exports=s},function(e,t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,a;try{t=Map}catch(o){t=function(){}}try{r=Set}catch(o){r=function(){}}try{a=Promise}catch(o){a=function(){}}function n(s,o,l,c,d){"object"===typeof o&&(l=o.depth,c=o.prototype,d=o.includeNonEnumerable,o=o.circular);var u=[],m=[],h="undefined"!=typeof Buffer;return"undefined"==typeof o&&(o=!0),"undefined"==typeof l&&(l=1/0),function s(l,g){if(null===l)return null;if(0===g)return l;var p,x;if("object"!=typeof l)return l;if(e(l,t))p=new t;else if(e(l,r))p=new r;else if(e(l,a))p=new a(function(e,t){l.then(function(t){e(s(t,g-1))},function(e){t(s(e,g-1))})});else if(n.__isArray(l))p=[];else if(n.__isRegExp(l))p=new RegExp(l.source,i(l)),l.lastIndex&&(p.lastIndex=l.lastIndex);else if(n.__isDate(l))p=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return p=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(p),p;e(l,Error)?p=Object.create(l):"undefined"==typeof c?(x=Object.getPrototypeOf(l),p=Object.create(x)):(p=Object.create(c),x=c)}if(o){var f=u.indexOf(l);if(-1!=f)return m[f];u.push(l),m.push(p)}for(var b in e(l,t)&&l.forEach(function(e,t){var r=s(t,g-1),a=s(e,g-1);p.set(r,a)}),e(l,r)&&l.forEach(function(e){var t=s(e,g-1);p.add(t)}),l){var y;x&&(y=Object.getOwnPropertyDescriptor(x,b)),y&&null==y.set||(p[b]=s(l[b],g-1))}if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(l);for(b=0;b<v.length;b++){var j=v[b];(!(k=Object.getOwnPropertyDescriptor(l,j))||k.enumerable||d)&&(p[j]=s(l[j],g-1),k.enumerable||Object.defineProperty(p,j,{enumerable:!1}))}}if(d){var w=Object.getOwnPropertyNames(l);for(b=0;b<w.length;b++){var k,N=w[b];(k=Object.getOwnPropertyDescriptor(l,N))&&k.enumerable||(p[N]=s(l[N],g-1),Object.defineProperty(p,N,{enumerable:!1}))}}return p}(s,l)}function s(e){return Object.prototype.toString.call(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return n.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},n.__objToStr=s,n.__isDate=function(e){return"object"===typeof e&&"[object Date]"===s(e)},n.__isArray=function(e){return"object"===typeof e&&"[object Array]"===s(e)},n.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===s(e)},n.__getRegExpFlags=i,n}();"object"===typeof e&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=h(r(0)),o=h(r(8)),l=r(4),c=h(l),d=h(r(16)),u=h(r(13)),m=h(r(25));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){return e instanceof c.default||e instanceof l.BlockEmbed}var p=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.emitter=r.emitter,Array.isArray(r.whitelist)&&(a.whitelist=r.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),a.domNode.addEventListener("DOMNodeInserted",function(){}),a.optimize(),a.enable(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var n=this.line(e),i=a(n,2),o=i[0],c=i[1],m=this.line(e+r),h=a(m,1)[0];if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=h&&o!==h&&c>0){if(o instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(o instanceof u.default){var g=o.newlineIndex(o.length(),!0);if(g>-1&&(o=o.split(g+1))===h)return void this.optimize()}else if(h instanceof u.default){var p=h.newlineIndex(0);p>-1&&h.split(p+1)}var x=h.children.head instanceof d.default?null:h.children.head;o.moveChildren(h,x),o.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,a,n){(null==this.whitelist||this.whitelist[a])&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,a,n),this.optimize())}},{key:"insertAt",value:function(e,r,a){if(null==a||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==a||null==i.default.query(r,i.default.Scope.BLOCK)){var n=i.default.create(this.statics.defaultChild);this.appendChild(n),null==a&&r.endsWith("\n")&&(r=r.slice(0,-1)),n.insertAt(0,r,a)}else{var o=i.default.create(r,a);this.appendChild(o)}else s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===i.default.Scope.INLINE_BLOT){var a=i.default.create(this.statics.defaultChild);a.appendChild(e),e=a}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(g,e)}},{key:"lines",value:function(){return function e(t,r,a){var n=[],s=a;return t.children.forEachAt(r,a,function(t,r,a){g(t)?n.push(t):t instanceof i.default.Container&&(n=n.concat(e(t,r,s))),s-=a}),n}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(o.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=o.default.sources.USER;"string"===typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(o.default.events.SCROLL_BEFORE_UPDATE,r,e),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(o.default.events.SCROLL_UPDATE,r,e)}}}]),t}(i.default.Scroll);p.blotName="scroll",p.className="ql-editor",p.tagName="DIV",p.defaultChild="block",p.allowedChildren=[c.default,l.BlockEmbed,m.default],t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=p(r(21)),o=p(r(11)),l=p(r(3)),c=p(r(2)),d=p(r(20)),u=p(r(0)),m=p(r(5)),h=p(r(10)),g=p(r(9));function p(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(0,h.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.bindings={},Object.keys(a.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&a.options.bindings[t]&&a.addBinding(a.options.bindings[t])}),a.addBinding({key:t.keys.ENTER,shiftKey:null},N),a.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},j),a.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),a.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),a.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},k),a.addBinding({key:t.keys.DELETE},{collapsed:!1},k),a.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),a.listen(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"match",value:function(e,t){return t=A(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(r){return!!t[r]!==e[r]&&null!==t[r]})&&t.key===(e.which||e.keyCode)}}]),s(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=A(e);if(null==a||null==a.key)return f.warn("Attempted to add invalid keyboard binding",a);"function"===typeof t&&(t={handler:t}),"function"===typeof r&&(r={handler:r}),a=(0,l.default)(a,t,r),this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(r){if(!r.defaultPrevented){var s=r.which||r.keyCode,i=(e.bindings[s]||[]).filter(function(e){return t.match(r,e)});if(0!==i.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),d=n(c,2),m=d[0],h=d[1],g=e.quill.getLeaf(l.index),p=n(g,2),x=p[0],f=p[1],b=0===l.length?[x,f]:e.quill.getLeaf(l.index+l.length),y=n(b,2),v=y[0],j=y[1],w=x instanceof u.default.Text?x.value().slice(0,f):"",k=v instanceof u.default.Text?v.value().slice(j):"",N={collapsed:0===l.length,empty:0===l.length&&m.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:w,suffix:k};i.some(function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==N.format[e]}))return!1}else if("object"===a(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,o.default)(t.format[e],N.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix))&&!(null!=t.suffix&&!t.suffix.test(N.suffix))&&!0!==t.handler.call(e,l,N)})&&r.preventDefault()}}}})}}]),t}(g.default);function v(e,t){var r,a=e===y.keys.LEFT?"prefix":"suffix";return x(r={key:e,shiftKey:t,altKey:null},a,/^$/),x(r,"handler",function(r){var a=r.index;e===y.keys.RIGHT&&(a+=r.length+1);var s=this.quill.getLeaf(a);return!(n(s,1)[0]instanceof u.default.Embed)||(e===y.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,m.default.sources.USER):this.quill.setSelection(r.index-1,m.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,m.default.sources.USER):this.quill.setSelection(r.index+r.length+1,m.default.sources.USER),!1)}),r}function j(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),a=n(r,1)[0],s={};if(0===t.offset){var i=this.quill.getLine(e.index-1),o=n(i,1)[0];if(null!=o&&o.length()>1){var l=a.formats(),c=this.quill.getFormat(e.index-1,1);s=d.default.attributes.diff(l,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,m.default.sources.USER),Object.keys(s).length>0&&this.quill.formatLine(e.index-u,u,s,m.default.sources.USER),this.quill.focus()}}function w(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var a={},s=0,i=this.quill.getLine(e.index),o=n(i,1)[0];if(t.offset>=o.length()-1){var l=this.quill.getLine(e.index+1),c=n(l,1)[0];if(c){var u=o.formats(),h=this.quill.getFormat(e.index,1);a=d.default.attributes.diff(u,h)||{},s=c.length()}}this.quill.deleteText(e.index,r,m.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index+s-1,r,a,m.default.sources.USER)}}function k(e){var t=this.quill.getLines(e),r={};if(t.length>1){var a=t[0].formats(),n=t[t.length-1].formats();r=d.default.attributes.diff(n,a)||{}}this.quill.deleteText(e,m.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,m.default.sources.USER),this.quill.setSelection(e.index,m.default.sources.SILENT),this.quill.focus()}function N(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var a=Object.keys(t.format).reduce(function(e,r){return u.default.query(r,u.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e},{});this.quill.insertText(e.index,"\n",a,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==a[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],m.default.sources.USER))})}function _(e){return{key:y.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=u.default.query("code-block"),a=t.index,s=t.length,i=this.quill.scroll.descendant(r,a),o=n(i,2),l=o[0],c=o[1];if(null!=l){var d=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,g=l.newlineIndex(d+c+s),p=l.domNode.textContent.slice(h,g).split("\n");c=0,p.forEach(function(t,n){e?(l.insertAt(h+c,r.TAB),c+=r.TAB.length,0===n?a+=r.TAB.length:s+=r.TAB.length):t.startsWith(r.TAB)&&(l.deleteAt(h+c,r.TAB.length),c-=r.TAB.length,0===n?a-=r.TAB.length:s-=r.TAB.length),c+=t.length+1}),this.quill.update(m.default.sources.USER),this.quill.setSelection(a,s,m.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],m.default.sources.USER)}}}function A(e){if("string"===typeof e||"number"===typeof e)return A({key:e});if("object"===("undefined"===typeof e?"undefined":a(e))&&(e=(0,i.default)(e,!1)),"string"===typeof e.key)if(null!=y.keys[e.key.toUpperCase()])e.key=y.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[b]=e.shortKey,delete e.shortKey),e}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",m.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",m.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",m.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,m.default.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,m.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,m.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,m.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,m.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=n(t,2),a=r[0],s=r[1],i=(0,l.default)({},a.formats(),{list:"checked"}),o=(new c.default).retain(e.index).insert("\n",i).retain(a.length()-s-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),a=n(r,2),s=a[0],i=a[1],o=(new c.default).retain(e.index).insert("\n",t.format).retain(s.length()-i-1).retain(1,{header:null});this.quill.updateContents(o,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,a=this.quill.getLine(e.index),s=n(a,2),i=s[0],o=s[1];if(o>r)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",m.default.sources.USER),this.quill.history.cutoff();var d=(new c.default).retain(e.index-o).delete(r+1).retain(i.length()-2-o).retain(1,{list:l});this.quill.updateContents(d,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,m.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=n(t,2),a=r[0],s=r[1],i=(new c.default).retain(e.index+a.length()-s-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,m.default.sources.USER)}},"embed left":v(y.keys.LEFT,!1),"embed left shift":v(y.keys.LEFT,!0),"embed right":v(y.keys.RIGHT,!1),"embed right shift":v(y.keys.RIGHT,!0)}},t.default=y,t.SHORTKEY=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=l(r(0)),o=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.selection=r,a.textNode=document.createTextNode(t.CONTENTS),a.domNode.appendChild(a.textNode),a._length=0,a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"value",value:function(){}}]),s(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var a=this,s=0;null!=a&&a.statics.scope!==i.default.Scope.BLOCK_BLOT;)s+=a.offset(a.parent),a=a.parent;null!=a&&(this._length=t.CONTENTS.length,a.optimize(),a.formatAt(s,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),n=void 0,s=void 0,l=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var c=[e,r.start.offset,r.end.offset];n=c[0],s=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var d=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof o.default?(n=this.next.domNode,this.next.insertAt(0,d),this.textNode.data=t.CONTENTS):(this.textNode.data=d,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=s){var u=[s,l].map(function(e){return Math.max(0,Math.min(n.data.length,e-1))}),m=a(u,2);return s=m[0],l=m[1],{startNode:n,startOffset:s,endNode:n,endOffset:l}}}}},{key:"update",value:function(e,t){var r=this;if(e.some(function(e){return"characterData"===e.type&&e.target===r.textNode})){var a=this.restore();a&&(t.range=a)}}},{key:"value",value:function(){return""}}]),t}(i.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(0)),n=r(4),s=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default.Container);o.allowedChildren=[s.default,n.BlockEmbed,o],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=(a=i)&&a.__esModule?a:{default:a},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"value",value:function(e){var r=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):r}}]),t}(o.default.Attributor.Style),c=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),d=new l("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);function l(e,t){var r=document.createElement("a");r.href=e;var a=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(a)>-1}o.blotName="link",o.tagName="A",o.SANITIZED_URL="about:blank",o.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=o,t.sanitize=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=o(r(23)),i=o(r(107));function o(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){r.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case s.default.keys.ENTER:r.togglePicker();break;case s.default.keys.ESCAPE:r.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return n(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",function(){t.selectItem(r,!0)}),r.addEventListener("keydown",function(e){switch(e.keyCode){case s.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case s.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=i.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(r){var a=e.buildItem(r);t.appendChild(a),!0===r.selected&&e.selectItem(a)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":a(Event))){var n=document.createEvent("Event");n.initEvent("change",!0,!0),this.select.dispatchEvent(n)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(r(0)),n=f(r(5)),s=r(4),i=f(s),o=f(r(16)),l=f(r(25)),c=f(r(24)),d=f(r(35)),u=f(r(6)),m=f(r(22)),h=f(r(7)),g=f(r(55)),p=f(r(42)),x=f(r(23));function f(e){return e&&e.__esModule?e:{default:e}}n.default.register({"blots/block":i.default,"blots/block/embed":s.BlockEmbed,"blots/break":o.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":d.default,"blots/inline":u.default,"blots/scroll":m.default,"blots/text":h.default,"modules/clipboard":g.default,"modules/history":p.default,"modules/keyboard":x.default}),a.default.register(i.default,o.default,c.default,u.default,m.default,h.default),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(){function e(e){this.domNode=e,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new a.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return a.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,n){var s=this.isolate(e,t);if(null!=a.query(r,a.Scope.BLOT)&&n)s.wrap(r,n);else if(null!=a.query(r,a.Scope.ATTRIBUTE)){var i=a.create(this.statics.scope);s.wrap(i),i.format(r,n)}},e.prototype.insertAt=function(e,t,r){var n=null==r?a.create("text",t):a.create(t,r),s=this.split(e);this.parent.insertBefore(n,s)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[a.DATA_KEY]&&delete this.domNode[a.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"===typeof e?a.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"===typeof e?a.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),n=r(32),s=r(33),i=r(1),o=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=a.default.keys(this.domNode),r=n.default.keys(this.domNode),o=s.default.keys(this.domNode);t.concat(r).concat(o).forEach(function(t){var r=i.query(t,i.Scope.ATTRIBUTE);r instanceof a.default&&(e.attributes[r.attrName]=r)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(r){var a=t.attributes[r].value(t.domNode);e.format(r,a)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=e.attributes[r].value(e.domNode),t},{})},e}();t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();function n(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){n(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(n(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=s},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();function n(e){var t=e.split("-"),r=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[n(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[n(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[n(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return a(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();n.DEFAULTS={modules:{}},n.themes={default:n},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=o(r(0)),i=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(e){r.contentNode.appendChild(e)}),r.leftGuard=document.createTextNode(l),r.rightGuard=document.createTextNode(l),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,a=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof i.default){var n=this.prev.length();this.prev.insertAt(n,a),t={startNode:this.prev.domNode,startOffset:n+a.length}}else r=document.createTextNode(a),this.parent.insertBefore(s.default.create(r),this),t={startNode:r,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(r=document.createTextNode(a),this.parent.insertBefore(s.default.create(r),this.next),t={startNode:r,startOffset:a.length}));return e.data=l,t}},{key:"update",value:function(e,t){var r=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var a=r.restore(e.target);a&&(t.range=a)}})}}]),t}(s.default.Embed);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new s.default.Attributor.Attribute("align","align",i),l=new s.default.Attributor.Class("align","ql-align",i),c=new s.default.Attributor.Style("align","text-align",i);t.AlignAttribute=o,t.AlignClass=l,t.AlignStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i=r(26),o=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),l=new i.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});t.BackgroundClass=o,t.BackgroundStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},o=new s.default.Attributor.Attribute("direction","dir",i),l=new s.default.Attributor.Class("direction","ql-direction",i),c=new s.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=o,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=(a=i)&&a.__esModule?a:{default:a},l={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new o.default.Attributor.Class("font","ql-font",l),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"value",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(o.default.Attributor.Style),u=new d("font","font-family",l);t.FontStyle=u,t.FontClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=o},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(0)),s=i(r(5));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.lastRecorded=0,a.ignoreChange=!1,a.clear(),a.quill.on(s.default.events.EDITOR_CHANGE,function(e,t,r,n){e!==s.default.events.TEXT_CHANGE||a.ignoreChange||(a.options.userOnly&&n!==s.default.sources.USER?a.transform(t):a.record(t,r))}),a.quill.keyboard.addBinding({key:"Z",shortKey:!0},a.undo.bind(a)),a.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},a.redo.bind(a)),/Win/i.test(navigator.platform)&&a.quill.keyboard.addBinding({key:"Y",shortKey:!0},a.redo.bind(a)),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],s.default.sources.USER),this.ignoreChange=!1;var a=l(r[e]);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){var n=this.stack.undo.pop();r=r.compose(n.undo),e=n.redo.compose(e)}else this.lastRecorded=a;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(i(r(9)).default);function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=n.default.query(e,n.default.Scope.BLOCK)}))}(e)&&(r-=1),r}o.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=o,t.getLastChangeIndex=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=g(r(3)),i=g(r(2)),o=g(r(8)),l=g(r(23)),c=g(r(34)),d=g(r(59)),u=g(r(60)),m=g(r(28)),h=g(r(61));function g(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],v=[!1,"serif","monospace"],j=["1","2","3",!1],w=["small",!1,"large","huge"],k=function(e){function t(e,r){p(this,t);var a=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==a.tooltip||a.tooltip.root.contains(r.target)||document.activeElement===a.tooltip.textbox||a.quill.hasFocus()||a.tooltip.hide(),null!=a.pickers&&a.pickers.forEach(function(e){e.container.contains(r.target)||e.close()})}),a}return f(t,e),a(t,[{key:"addModule",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"===typeof t[r])e.innerHTML=t[r];else{var a=e.value||"";null!=a&&t[r][a]&&(e.innerHTML=t[r][a])}})})}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&_(e,b),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&_(e,y,"background"===r?"#ffffff":"#000000"),new d.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?_(e,v):e.classList.contains("ql-header")?_(e,j):e.classList.contains("ql-size")&&_(e,w)),new m.default(e)}),this.quill.on(o.default.events.EDITOR_CHANGE,function(){r.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);k.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var a=e.quill.getSelection(!0);e.quill.updateContents((new i.default).retain(a.index).delete(a.length).insert({image:r.target.result}),o.default.sources.USER),e.quill.setSelection(a.index+1,o.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(e){function t(e,r){p(this,t);var a=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.textbox=a.root.querySelector('input[type="text"]'),a.listen(),a}return f(t,e),a(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,o.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var r=this.quill.getSelection(!0);if(null!=r){var a=r.index+r.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),e,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(a+1," ",o.default.sources.USER),this.quill.setSelection(a+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var a=document.createElement("option");t===r?a.setAttribute("selected","selected"):a.setAttribute("value",t),e.appendChild(a)})}t.BaseTooltip=N,t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,a=this.iterator();r=a();){var n=r.length();if(e<n||t&&e===n&&(null==r.next||0!==r.next.length()))return[r,e];e-=n}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var a,n=this.find(e),s=n[0],i=e-n[1],o=this.iterator(s);(a=o())&&i<e+t;){var l=a.length();e>i?r(a,e-i,Math.min(t,i+l-e)):r(a,0,Math.min(l,e+t-i)),i+=l}},e.prototype.map=function(e){return this.reduce(function(t,r){return t.push(e(r)),t},[])},e.prototype.reduce=function(e,t){for(var r,a=this.iterator();r=a();)t=e(t,r);return t},e}();t.default=a},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),s=r(1),i={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},o=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver(function(e){r.update(e)}),r.observer.observe(r.domNode,i),r.attach(),r}return a(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,a,n){this.update(),e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.insertAt=function(t,r,a){this.update(),e.prototype.insertAt.call(this,t,r,a)},t.prototype.optimize=function(t,r){var a=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var o=function(e,t){void 0===t&&(t=!0),null!=e&&e!==a&&null!=e.domNode.parentNode&&(null==e.domNode[s.DATA_KEY].mutations&&(e.domNode[s.DATA_KEY].mutations=[]),t&&o(e.parent))},l=function(e){null!=e.domNode[s.DATA_KEY]&&null!=e.domNode[s.DATA_KEY].mutations&&(e instanceof n.default&&e.children.forEach(l),e.optimize(r))},c=t,d=0;c.length>0;d+=1){if(d>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=s.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(o(s.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=s.find(e,!1);o(t,!1),t instanceof n.default&&t.children.forEach(function(e){o(e,!1)})})):"attributes"===e.type&&o(t.prev)),o(t))}),this.children.forEach(l),i=(c=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},t.prototype.update=function(t,r){var a=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map(function(e){var t=s.find(e.target,!0);return null==t?null:null==t.domNode[s.DATA_KEY].mutations?(t.domNode[s.DATA_KEY].mutations=[e],t):(t.domNode[s.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==a&&null!=e.domNode[s.DATA_KEY]&&e.update(e.domNode[s.DATA_KEY].mutations||[],r)}),null!=this.domNode[s.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="DIV",t}(n.default);t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,a){var s=this;r!==this.statics.blotName||a?e.prototype.format.call(this,r,a):(this.children.forEach(function(e){e instanceof n.default||(e=e.wrap(t.blotName,!0)),s.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,r,a,n){null!=this.formats()[a]||s.query(a,s.Scope.ATTRIBUTE)?this.isolate(t,r).format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var a=this.formats();if(0===Object.keys(a).length)return this.unwrap();var n=this.next;n instanceof t&&n.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(a,n.formats())&&(n.moveChildren(this),n.remove())},t.blotName="inline",t.scope=s.Scope.INLINE_BLOT,t.tagName="SPAN",t}(n.default);t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(r){var a=s.query(t.blotName).tagName;if(r.tagName!==a)return e.formats.call(this,r)},t.prototype.format=function(r,a){null!=s.query(r,s.Scope.BLOCK)&&(r!==this.statics.blotName||a?e.prototype.format.call(this,r,a):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,a,n){null!=s.query(a,s.Scope.BLOCK)?this.format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.insertAt=function(t,r,a){if(null==a||null!=s.query(r,s.Scope.INLINE))e.prototype.insertAt.call(this,t,r,a);else{var n=this.split(t),i=s.create(r,a);n.parent.insertBefore(i,n)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="P",t}(n.default);t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,a,n){0===t&&r===this.length()?this.format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=n},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),s=r(1),i=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return a(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,a){null==a?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,a)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=s.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some(function(e){return"characterData"===e.type&&e.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=s.Scope.INLINE_BLOT,t}(n.default);t.default=i},function(e,t,r){"use strict";var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:n.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var a=r.indexOf(e,t);return-1!==a&&a===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),a=r.length>>>0,n=arguments[1],s=0;s<a;s++)if(t=r[s],e.call(n,t,s,r))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var r=-1;function a(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var d=s(e,t),u=e.substring(0,d);d=i(e=e.substring(d),t=t.substring(d));var m=e.substring(e.length-d),h=function(e,t){var o;if(!e)return[[1,t]];if(!t)return[[r,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,d=l.indexOf(c);if(-1!=d)return o=[[1,l.substring(0,d)],[0,c],[1,l.substring(d+c.length)]],e.length>t.length&&(o[0][0]=o[2][0]=r),o;if(1==c.length)return[[r,e],[1,t]];var u=function(e,t){var r=e.length>t.length?e:t,a=e.length>t.length?t:e;if(r.length<4||2*a.length<r.length)return null;function n(e,t,r){for(var a,n,o,l,c=e.substring(r,r+Math.floor(e.length/4)),d=-1,u="";-1!=(d=t.indexOf(c,d+1));){var m=s(e.substring(r),t.substring(d)),h=i(e.substring(0,r),t.substring(0,d));u.length<h+m&&(u=t.substring(d-h,d)+t.substring(d,d+m),a=e.substring(0,r-h),n=e.substring(r+m),o=t.substring(0,d-h),l=t.substring(d+m))}return 2*u.length>=e.length?[a,n,o,l,u]:null}var o,l,c,d,u,m=n(r,a,Math.ceil(r.length/4)),h=n(r,a,Math.ceil(r.length/2));if(!m&&!h)return null;o=h?m&&m[4].length>h[4].length?m:h:m,e.length>t.length?(l=o[0],c=o[1],d=o[2],u=o[3]):(d=o[0],u=o[1],l=o[2],c=o[3]);var g=o[4];return[l,c,d,u,g]}(e,t);if(u){var m=u[0],h=u[1],g=u[2],p=u[3],x=u[4],f=a(m,g),b=a(h,p);return f.concat([[0,x]],b)}return function(e,t){for(var a=e.length,s=t.length,i=Math.ceil((a+s)/2),o=i,l=2*i,c=new Array(l),d=new Array(l),u=0;u<l;u++)c[u]=-1,d[u]=-1;c[o+1]=0,d[o+1]=0;for(var m=a-s,h=m%2!=0,g=0,p=0,x=0,f=0,b=0;b<i;b++){for(var y=-b+g;y<=b-p;y+=2){for(var v=o+y,j=(S=y==-b||y!=b&&c[v-1]<c[v+1]?c[v+1]:c[v-1]+1)-y;S<a&&j<s&&e.charAt(S)==t.charAt(j);)S++,j++;if(c[v]=S,S>a)p+=2;else if(j>s)g+=2;else if(h&&(N=o+m-y)>=0&&N<l&&-1!=d[N]&&S>=(k=a-d[N]))return n(e,t,S,j)}for(var w=-b+x;w<=b-f;w+=2){for(var k,N=o+w,_=(k=w==-b||w!=b&&d[N-1]<d[N+1]?d[N+1]:d[N-1]+1)-w;k<a&&_<s&&e.charAt(a-k-1)==t.charAt(s-_-1);)k++,_++;if(d[N]=k,k>a)f+=2;else if(_>s)x+=2;else if(!h){var S;if((v=o+m-w)>=0&&v<l&&-1!=c[v])if(j=o+(S=c[v])-v,S>=(k=a-k))return n(e,t,S,j)}}}return[[r,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return u&&h.unshift([0,u]),m&&h.push([0,m]),o(h),null!=l&&(h=function(e,t){var a=function(e,t){if(0===t)return[0,e];for(var a=0,n=0;n<e.length;n++){var s=e[n];if(s[0]===r||0===s[0]){var i=a+s[1].length;if(t===i)return[n+1,e];if(t<i){e=e.slice();var o=t-a,l=[s[0],s[1].slice(0,o)],c=[s[0],s[1].slice(o)];return e.splice(n,1,l,c),[n+1,e]}a=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),n=a[1],s=a[0],i=n[s],o=n[s+1];if(null==i)return e;if(0!==i[0])return e;if(null!=o&&i[1]+o[1]===o[1]+i[1])return n.splice(s,2,o,i),c(n,s,2);if(null!=o&&0===o[1].indexOf(i[1])){n.splice(s,2,[o[0],i[1]],[0,i[1]]);var l=o[1].slice(i[1].length);return l.length>0&&n.splice(s+2,0,[o[0],l]),c(n,s,3)}return e}(h,l)),h=function(e){for(var t=!1,a=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},s=2;s<e.length;s+=1)0===e[s-2][0]&&n(e[s-2][1])&&e[s-1][0]===r&&a(e[s-1][1])&&1===e[s][0]&&a(e[s][1])&&(t=!0,e[s-1][1]=e[s-2][1].slice(-1)+e[s-1][1],e[s][1]=e[s-2][1].slice(-1)+e[s][1],e[s-2][1]=e[s-2][1].slice(0,-1));if(!t)return e;var i=[];for(s=0;s<e.length;s+=1)e[s][1].length>0&&i.push(e[s]);return i}(h)}function n(e,t,r,n){var s=e.substring(0,r),i=t.substring(0,n),o=e.substring(r),l=t.substring(n),c=a(s,i),d=a(o,l);return c.concat(d)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,a=Math.min(e.length,t.length),n=a,s=0;r<n;)e.substring(s,n)==t.substring(s,n)?s=r=n:a=n,n=Math.floor((a-r)/2+r);return n}function i(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,a=Math.min(e.length,t.length),n=a,s=0;r<n;)e.substring(e.length-n,e.length-s)==t.substring(t.length-n,t.length-s)?s=r=n:a=n,n=Math.floor((a-r)/2+r);return n}function o(e){e.push([0,""]);for(var t,a=0,n=0,l=0,c="",d="";a<e.length;)switch(e[a][0]){case 1:l++,d+=e[a][1],a++;break;case r:n++,c+=e[a][1],a++;break;case 0:n+l>1?(0!==n&&0!==l&&(0!==(t=s(d,c))&&(a-n-l>0&&0==e[a-n-l-1][0]?e[a-n-l-1][1]+=d.substring(0,t):(e.splice(0,0,[0,d.substring(0,t)]),a++),d=d.substring(t),c=c.substring(t)),0!==(t=i(d,c))&&(e[a][1]=d.substring(d.length-t)+e[a][1],d=d.substring(0,d.length-t),c=c.substring(0,c.length-t))),0===n?e.splice(a-l,n+l,[1,d]):0===l?e.splice(a-n,n+l,[r,c]):e.splice(a-n-l,n+l,[r,c],[1,d]),a=a-n-l+(n?1:0)+(l?1:0)+1):0!==a&&0==e[a-1][0]?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,l=0,n=0,c="",d=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(a=1;a<e.length-1;)0==e[a-1][0]&&0==e[a+1][0]&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)==e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),u=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),u=!0)),a++;u&&o(e)}var l=a;function c(e,t,r){for(var a=t+r-1;a>=0&&a>=t-1;a--)if(a+1<e.length){var n=e[a],s=e[a+1];n[0]===s[1]&&e.splice(a,2,[n[0],n[1]+s[1]])}return e}l.INSERT=1,l.DELETE=r,l.EQUAL=0,e.exports=l},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"===typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function a(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?a:n).supported=a,t.unsupported=n},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a="~";function n(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),i.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(e,t){var r=a?a+e:e,n=this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,o=new Array(i);s<i;s++)o[s]=n[s].fn;return o},i.prototype.emit=function(e,t,r,n,s,i){var o=a?a+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,n),!0;case 5:return d.fn.call(d.context,t,r,n,s),!0;case 6:return d.fn.call(d.context,t,r,n,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,n);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},i.prototype.on=function(e,t,r){var n=new s(t,r||this),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.once=function(e,t,r){var n=new s(t,r||this,!0),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.removeListener=function(e,t,r,s){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return 0===--this._eventsCount?this._events=new n:delete this._events[i],this;var o=this._events[i];if(o.fn)o.fn!==t||s&&!o.once||r&&o.context!==r||(0===--this._eventsCount?this._events=new n:delete this._events[i]);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||s&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new n:delete this._events[i]}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new n:delete this._events[t])):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=a,i.EventEmitter=i,"undefined"!==typeof e&&(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=y(r(3)),o=y(r(2)),l=y(r(0)),c=y(r(5)),d=y(r(10)),u=y(r(9)),m=r(36),h=r(37),g=y(r(13)),p=r(26),x=r(38),f=r(39),b=r(40);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=(0,d.default)("quill:clipboard"),w="__ql-matcher",k=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,I],["br",function(e,t){return E(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var r={},a=e.style||{};return a.fontStyle&&"italic"===C(e).fontStyle&&(r.italic=!0),a.fontWeight&&(C(e).fontWeight.startsWith("bold")||parseInt(C(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=A(t,r)),parseFloat(a.textIndent||0)>0&&(t=(new o.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=l.default.query(e);if(null==r||"list-item"!==r.blotName||!E(t,"\n"))return t;for(var a=-1,n=e.parentNode;!n.classList.contains("ql-clipboard");)"list"===(l.default.query(n)||{}).blotName&&(a+=1),n=n.parentNode;return a<=0?t:t.compose((new o.default).retain(t.length()-1).retain(1,{indent:a}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new o.default}]],N=[m.AlignAttribute,x.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),_=[m.AlignStyle,h.BackgroundStyle,p.ColorStyle,x.DirectionStyle,f.FontStyle,b.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),S=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.root.addEventListener("paste",a.onPaste.bind(a)),a.container=a.quill.addContainer("ql-clipboard"),a.container.setAttribute("contenteditable",!0),a.container.setAttribute("tabindex",-1),a.matchers=[],k.concat(a.options.matchers).forEach(function(e){var t=n(e,2),s=t[0],i=t[1];(r.matchVisual||i!==D)&&a.addMatcher(s,i)}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[g.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new o.default).insert(r,v({},g.default.blotName,t[g.default.blotName]))}var a=this.prepareMatching(),s=n(a,2),i=s[0],l=s[1],c=P(this.container,i,l);return E(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new o.default).retain(c.length()-1).delete(1))),j.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var a=this.convert(t);this.quill.updateContents((new o.default).retain(e).concat(a),r),this.quill.setSelection(e+a.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),a=(new o.default).retain(r.index),n=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){a=a.concat(t.convert()).delete(r.length),t.quill.updateContents(a,c.default.sources.USER),t.quill.setSelection(a.length()-r.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=n,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach(function(a){var s=n(a,2),i=s[0],o=s[1];switch(i){case Node.TEXT_NODE:r.push(o);break;case Node.ELEMENT_NODE:t.push(o);break;default:[].forEach.call(e.container.querySelectorAll(i),function(e){e[w]=e[w]||[],e[w].push(o)})}}),[t,r]}}]),t}(u.default);function A(e,t,r){return"object"===("undefined"===typeof t?"undefined":a(t))?Object.keys(t).reduce(function(e,r){return A(e,r,t[r])},e):e.reduce(function(e,a){return a.attributes&&a.attributes[t]?e.push(a):e.insert(a.insert,(0,i.default)({},v({},t,r),a.attributes))},new o.default)}function C(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function E(e,t){for(var r="",a=e.ops.length-1;a>=0&&r.length<t.length;--a){var n=e.ops[a];if("string"!==typeof n.insert)break;r=n.insert+r}return r.slice(-1*t.length)===t}function O(e){if(0===e.childNodes.length)return!1;var t=C(e);return["block","list-item"].indexOf(t.display)>-1}function P(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,r){return r(e,t)},new o.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(a,n){var s=P(n,t,r);return n.nodeType===e.ELEMENT_NODE&&(s=t.reduce(function(e,t){return t(n,e)},s),s=(n[w]||[]).reduce(function(e,t){return t(n,e)},s)),a.concat(s)},new o.default):new o.default}function T(e,t,r){return A(r,e,!0)}function L(e,t){var r=l.default.Attributor.Attribute.keys(e),a=l.default.Attributor.Class.keys(e),n=l.default.Attributor.Style.keys(e),s={};return r.concat(a).concat(n).forEach(function(t){var r=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=r&&(s[r.attrName]=r.value(e),s[r.attrName])||(null==(r=N[t])||r.attrName!==t&&r.keyName!==t||(s[r.attrName]=r.value(e)||void 0),null==(r=_[t])||r.attrName!==t&&r.keyName!==t||(r=_[t],s[r.attrName]=r.value(e)||void 0))}),Object.keys(s).length>0&&(t=A(t,s)),t}function M(e,t){var r=l.default.query(e);if(null==r)return t;if(r.prototype instanceof l.default.Embed){var a={},n=r.value(e);null!=n&&(a[r.blotName]=n,t=(new o.default).insert(a,r.formats(e)))}else"function"===typeof r.formats&&(t=A(t,r.blotName,r.formats(e)));return t}function I(e,t){return E(t,"\n")||(O(e)||t.length()>0&&e.nextSibling&&O(e.nextSibling))&&t.insert("\n"),t}function D(e,t){if(O(e)&&null!=e.nextElementSibling&&!E(t,"\n\n")){var r=e.offsetHeight+parseFloat(C(e).marginTop)+parseFloat(C(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function R(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!C(e.parentNode).whiteSpace.startsWith("pre")){var a=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,a.bind(a,!0)),(null==e.previousSibling&&O(e.parentNode)||null!=e.previousSibling&&O(e.previousSibling))&&(r=r.replace(/^\s+/,a.bind(a,!1))),(null==e.nextSibling&&O(e.parentNode)||null!=e.nextSibling&&O(e.nextSibling))&&(r=r.replace(/\s+$/,a.bind(a,!1)))}return t.insert(r)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=L,t.matchBlot=M,t.matchNewline=I,t.matchSpacing=D,t.matchText=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);o.blotName="bold",o.tagName=["STRONG","B"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=d(r(2)),i=d(r(0)),o=d(r(5)),l=d(r(10)),c=d(r(9));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=(0,l.default)("quill:toolbar"),h=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,s=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(s.options.container)){var i=document.createElement("div");p(i,s.options.container),e.container.parentNode.insertBefore(i,e.container),s.container=i}else"string"===typeof s.options.container?s.container=document.querySelector(s.options.container):s.container=s.options.container;return s.container instanceof HTMLElement?(s.container.classList.add("ql-toolbar"),s.controls=[],s.handlers={},Object.keys(s.options.handlers).forEach(function(e){s.addHandler(e,s.options.handlers[e])}),[].forEach.call(s.container.querySelectorAll("button, select"),function(e){s.attach(e)}),s.quill.on(o.default.events.EDITOR_CHANGE,function(e,t){e===o.default.events.SELECTION_CHANGE&&s.update(t)}),s.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){var e=s.quill.selection.getRange(),t=a(e,1)[0];s.update(t)}),s):(n=m.error("Container required for toolbar",s.options),u(s,n))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void m.warn("ignoring attaching to disabled format",r,e);if(null==i.default.query(r))return void m.warn("ignoring attaching to nonexistent format",r,e)}var n="SELECT"===e.tagName?"change":"click";e.addEventListener(n,function(n){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),n.preventDefault();t.quill.focus();var d=t.quill.selection.getRange(),u=a(d,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,l);else if(i.default.query(r).prototype instanceof i.default.Embed){if(!(l=prompt("Enter "+r)))return;t.quill.updateContents((new s.default).retain(u.index).delete(u.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,l)),o.default.sources.USER)}else t.quill.format(r,l,o.default.sources.USER);t.update(u)}),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(r){var n=a(r,2),s=n[0],i=n[1];if("SELECT"===i.tagName){var o=void 0;if(null==e)o=null;else if(null==t[s])o=i.querySelector("option[selected]");else if(!Array.isArray(t[s])){var l=t[s];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),o=i.querySelector('option[value="'+l+'"]')}null==o?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(null==e)i.classList.remove("ql-active");else if(i.hasAttribute("value")){var c=t[s]===i.getAttribute("value")||null!=t[s]&&t[s].toString()===i.getAttribute("value")||null==t[s]&&!i.getAttribute("value");i.classList.toggle("ql-active",c)}else i.classList.toggle("ql-active",null!=t[s])})}}]),t}(c.default);function g(e,t,r){var a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("ql-"+t),null!=r&&(a.value=r),e.appendChild(a)}function p(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(function(e){if("string"===typeof e)g(r,e);else{var t=Object.keys(e)[0],a=e[t];Array.isArray(a)?function(e,t,r){var a=document.createElement("select");a.classList.add("ql-"+t),r.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),a.appendChild(t)}),e.appendChild(a)}(r,t,a):g(r,t,a)}}),e.appendChild(r)})}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach(function(t){null!=i.default.query(t,i.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,o.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",o.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,o.default.sources.USER),this.quill.format("direction",e,o.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),a=parseInt(r.indent||0);if("+1"===e||"-1"===e){var n="+1"===e?1:-1;"rtl"===r.direction&&(n*=-1),this.quill.format("indent",a+n,o.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,o.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,o.default.sources.USER):this.quill.format("list","unchecked",o.default.sources.USER):this.quill.format("list",e,o.default.sources.USER)}}},t.default=h,t.addControls=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(28),o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.label.innerHTML=r,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"buildItem",value:function(e){var r=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var a=this.label.querySelector(".ql-color-label"),n=e&&e.getAttribute("data-value")||"";a&&("line"===a.tagName?a.style.stroke=n:a.style.fill=n)}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(28),o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=r[e.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"selectItem",value:function(e,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return a(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var a=this.boundsContainer.getBoundingClientRect(),n=this.root.getBoundingClientRect(),s=0;if(n.right>a.right&&(s=a.right-n.right,this.root.style.left=t+s+"px"),n.left<a.left&&(s=a.left-n.left,this.root.style.left=t+s+"px"),n.bottom>a.bottom){var i=n.bottom-n.top,o=e.bottom-e.top+i;this.root.style.top=r-o+"px",this.root.classList.add("ql-flip")}return s}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=h(r(3)),o=h(r(8)),l=r(43),c=h(l),d=h(r(27)),u=r(15),m=h(r(41));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(e){function t(e,r){g(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=f);var a=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.container.classList.add("ql-snow"),a}return x(t,e),s(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),m.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,r){e.handlers.link.call(e,!r.format.link)})}}]),t}(c.default);b.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var y=function(e){function t(e,r){g(this,t);var a=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.preview=a.root.querySelector("a.ql-preview"),a}return x(t,e),s(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,o.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(t,r,n){if(null!=t){if(0===t.length&&n===o.default.sources.USER){var s=e.quill.scroll.descendant(d.default,t.index),i=a(s,2),l=i[0],c=i[1];if(null!=l){e.linkRange=new u.Range(t.index-c,l.length());var m=d.default.formats(l.domNode);return e.preview.textContent=m,e.preview.setAttribute("href",m),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=I(r(29)),n=r(36),s=r(38),i=r(64),o=I(r(65)),l=I(r(66)),c=r(67),d=I(c),u=r(37),m=r(26),h=r(39),g=r(40),p=I(r(56)),x=I(r(68)),f=I(r(27)),b=I(r(69)),y=I(r(70)),v=I(r(71)),j=I(r(72)),w=I(r(73)),k=r(13),N=I(k),_=I(r(74)),S=I(r(75)),A=I(r(57)),C=I(r(41)),E=I(r(28)),O=I(r(59)),P=I(r(60)),T=I(r(61)),L=I(r(108)),M=I(r(62));function I(e){return e&&e.__esModule?e:{default:e}}a.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":n.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":g.SizeClass,"attributors/style/align":n.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":g.SizeStyle},!0),a.default.register({"formats/align":n.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":i.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":h.FontClass,"formats/size":g.SizeClass,"formats/blockquote":o.default,"formats/code-block":N.default,"formats/header":l.default,"formats/list":d.default,"formats/bold":p.default,"formats/code":k.Code,"formats/italic":x.default,"formats/link":f.default,"formats/script":b.default,"formats/strike":y.default,"formats/underline":v.default,"formats/image":j.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":_.default,"modules/syntax":S.default,"modules/toolbar":A.default,"themes/bubble":L.default,"themes/snow":M.default,"ui/icons":C.default,"ui/picker":E.default,"ui/icon-picker":P.default,"ui/color-picker":O.default,"ui/tooltip":T.default},!0),t.default=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=(a=i)&&a.__esModule?a:{default:a},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var a=this.value(e)||0;r="+1"===r?a+1:a-1}return 0===r?(this.remove(e),!0):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(o.default.Attributor.Class),c=new l("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((a=s)&&a.__esModule?a:{default:a}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=l(r(0)),i=l(r(4)),o=l(r(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"format",value:function(e,r){e!==h.blotName||r?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(s.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:n(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(i.default);m.blotName="list-item",m.tagName="LI";var h=function(e){function t(e){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=function(t){if(t.target.parentNode===e){var a=r.statics.formats(e),n=s.default.find(t.target);"checked"===a?n.format("list","unchecked"):"unchecked"===a&&n.format("list","checked")}};return e.addEventListener("touchstart",a),e.addEventListener("mousedown",a),r}return u(t,e),a(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",a=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||a.setAttribute("data-checked","checked"===e),a}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),a(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof m)n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var a=null==r?this.length():r.offset(this),s=this.split(a);s.parent.insertBefore(e,s)}}},{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=s.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(o.default);h.blotName="list",h.scope=s.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[m],t.ListItem=m,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(56),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);o.blotName="script",o.tagName=["SUB","SUP"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=(a=i)&&a.__esModule?a:{default:a},l=r(27),c=["alt","height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(4),o=r(27),l=(a=o)&&a.__esModule?a:{default:a},c=["height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(i.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=l(r(35)),i=l(r(5)),o=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:"create",value:function(e){var r=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(s.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var h=function(e){function t(){c(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(m,!0)}}]),t}(o.default);t.FormulaBlot=m,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=l(r(0)),i=l(r(5)),o=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(r(13)).default);m.className="ql-syntax";var h=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),g=function(e){function t(e,r){c(this,t);var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!==typeof a.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var n=null;return a.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(n),n=setTimeout(function(){a.highlight(),n=null},a.options.interval)}),a.highlight(),a}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(h,!0),i.default.register(m,!0)}}]),a(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(m).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(i.default.sources.SILENT),null!=t&&this.quill.setSelection(t,i.default.sources.SILENT)}}}]),t}(o.default);g.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=m,t.CodeToken=h,t.default=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var a=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=u(r(3)),i=u(r(8)),o=r(43),l=u(o),c=r(15),d=u(r(41));function u(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(e){function t(e,r){m(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=p);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.container.classList.add("ql-bubble"),a}return g(t,e),n(t,[{key:"extendToolbar",value:function(e){this.tooltip=new f(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default)}}]),t}(l.default);x.DEFAULTS=(0,s.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var f=function(e){function t(e,r){m(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.on(i.default.events.EDITOR_CHANGE,function(e,t,r,n){if(e===i.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&n===i.default.sources.USER){a.show(),a.root.style.left="0px",a.root.style.width="",a.root.style.width=a.root.offsetWidth+"px";var s=a.quill.getLines(t.index,t.length);if(1===s.length)a.position(a.quill.getBounds(t));else{var o=s[s.length-1],l=a.quill.getIndex(o),d=Math.min(o.length()-1,t.index+t.length-l),u=a.quill.getBounds(new c.Range(l,d));a.position(u)}}else document.activeElement!==a.textbox&&a.quill.hasFocus()&&a.hide()}),a}return g(t,e),n(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),n=this.root.querySelector(".ql-tooltip-arrow");if(n.style.marginLeft="",0===r)return r;n.style.marginLeft=-1*r-n.offsetWidth/2+"px"}}]),t}(o.BaseTooltip);f.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=f,t.default=x},function(e,t,r){e.exports=r(63)}]).default},e.exports=t()},7685:(e,t,r)=>{var a=r(7937)(r(6552),"DataView");e.exports=a},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_ADS_CONFIG:()=>n,activateAd:()=>h,calculateExpirationDate:()=>d,deactivateExpiredAds:()=>p,executeExpirationEvents:()=>g,getAdsConfiguration:()=>i,getTimeRemaining:()=>m,initializeAdsConfiguration:()=>s,isAdExpired:()=>u,loadAndApplyAdsConfiguration:()=>l,saveAdsConfiguration:()=>o,trackAdClick:()=>c});var a=r(2555);const n={adsManager:{browsePageAd:{active:!0,image:null,description:"Browse Page Advertisement Space",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0,startDate:null,expirationDate:null,expirationEvents:["deactivate"]},favoriteAd:{active:!1,image:null,description:"",runtime:"1 month",width:"100%",height:"200px",url:"",clicks:0,startDate:null,expirationDate:null,expirationEvents:["deactivate"],notificationMethods:["notificationCenter"],notificationUsers:[]},messengerAd:{active:!1,image:null,description:"",runtime:"1 month",width:"250px",height:"400px",url:"",clicks:0,startDate:null,expirationDate:null,expirationEvents:["deactivate"],notificationMethods:["notificationCenter"],notificationUsers:[]},footerAd:{active:!1,logo:null,companyName:"",runtime:"1 month",url:"",clicks:0,startDate:null,expirationDate:null,expirationEvents:["deactivate"],notificationMethods:["notificationCenter"],notificationUsers:[]}},heroSectionEnabled:!0,featuredProductsEnabled:!0,categoriesShowcase:!0,testimonialSection:!1,footerEnabled:!0},s=()=>{try{console.log("\ud83d\udd27 Initializing ads configuration...");const t=localStorage.getItem("cataloro_site_config");let r={};if(t)try{r=JSON.parse(t)}catch(e){console.warn("\u26a0\ufe0f Invalid existing config, using defaults:",e),r={}}const s=(0,a.A)((0,a.A)((0,a.A)({},n),r),{},{adsManager:(0,a.A)((0,a.A)({},n.adsManager),r.adsManager||{})});return s.heroSectionEnabled=!0,localStorage.setItem("cataloro_site_config",JSON.stringify(s)),console.log("\u2705 Ads configuration initialized:",s),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:s.adsManager})),s}catch(e){return console.error("\u274c Failed to initialize ads configuration:",e),n}},i=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){return JSON.parse(e).adsManager||n.adsManager}return n.adsManager}catch(e){return console.error("\u274c Failed to get ads configuration:",e),n.adsManager}},o=e=>{try{const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),r=(0,a.A)((0,a.A)({},t),{},{adsManager:e,heroSectionEnabled:!0});return localStorage.setItem("cataloro_site_config",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:e})),console.log("\u2705 Ads configuration saved:",e),!0}catch(t){return console.error("\u274c Failed to save ads configuration:",t),!1}},l=()=>{try{const e=s();return!1===e.heroSectionEnabled&&(e.heroSectionEnabled=!0,localStorage.setItem("cataloro_site_config",JSON.stringify(e))),console.log("\u2705 Ads configuration loaded and applied on startup"),e}catch(e){return console.warn("\u26a0\ufe0f Could not load ads configuration:",e),s()}},c=e=>{try{const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");if(t.adsManager&&t.adsManager[e])return t.adsManager[e].clicks=(t.adsManager[e].clicks||0)+1,localStorage.setItem("cataloro_site_config",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adClicked",{detail:{adType:e,clicks:t.adsManager[e].clicks}})),console.log("\ud83d\udd17 Ad click tracked: ".concat(e," (Total clicks: ").concat(t.adsManager[e].clicks,")")),t.adsManager[e].clicks}catch(t){console.error("\u274c Failed to track ad click:",t)}return 0},d=(e,t)=>{if(!e)return null;const r=new Date(e),a=new Date(r);if(t.startsWith("custom_")){const e=t.match(/custom_(\d+)d_(\d+)h_(\d+)m/);if(e){const t=parseInt(e[1])||0,r=parseInt(e[2])||0,n=parseInt(e[3])||0;return a.setDate(a.getDate()+t),a.setHours(a.getHours()+r),a.setMinutes(a.getMinutes()+n),a.toISOString()}}if(t.includes("days")||t.includes("hours")||t.includes("minutes")){const e=t.match(/(\d+)\s*days?/),r=t.match(/(\d+)\s*hours?/),n=t.match(/(\d+)\s*minutes?/),s=e?parseInt(e[1]):0,i=r?parseInt(r[1]):0,o=n?parseInt(n[1]):0;return a.setDate(a.getDate()+s),a.setHours(a.getHours()+i),a.setMinutes(a.getMinutes()+o),a.toISOString()}switch(t){case"1 minute":a.setMinutes(a.getMinutes()+1);break;case"5 minutes":a.setMinutes(a.getMinutes()+5);break;case"1 hour":a.setHours(a.getHours()+1);break;case"1 day":a.setDate(a.getDate()+1);break;case"1 week":a.setDate(a.getDate()+7);break;case"1 month":default:a.setMonth(a.getMonth()+1);break;case"3 months":a.setMonth(a.getMonth()+3);break;case"12 months":case"1 year":a.setFullYear(a.getFullYear()+1)}return a.toISOString()},u=e=>!!e.expirationDate&&new Date>new Date(e.expirationDate),m=e=>{if(!e)return null;const t=new Date,r=new Date(e)-t;if(r<=0)return{expired:!0};return{days:Math.floor(r/864e5),hours:Math.floor(r%864e5/36e5),minutes:Math.floor(r%36e5/6e4),seconds:Math.floor(r%6e4/1e3),expired:!1}},h=(e,t)=>{try{const r=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");r.adsManager||(r.adsManager={}),r.adsManager[e]||(r.adsManager[e]={});const n=(new Date).toISOString(),s=d(n,t.runtime||"1 month");return r.adsManager[e]=(0,a.A)((0,a.A)((0,a.A)({},r.adsManager[e]),t),{},{active:!0,startDate:n,expirationDate:s}),localStorage.setItem("cataloro_site_config",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:r.adsManager})),console.log("\ud83d\udd52 Ad activated: ".concat(e," (Expires: ").concat(s,")")),!0}catch(r){return console.error("\u274c Failed to activate ad:",r),!1}},g=(e,t)=>{const r=t.expirationEvents||[];console.log("\ud83d\udd14 Executing expiration events for ".concat(e,":"),r),r.forEach(r=>{switch(r){case"notify":console.log("\ud83d\udce7 Sending admin notification for expired ad: ".concat(e)),window.dispatchEvent(new CustomEvent("adExpiredNotification",{detail:{adType:e,adConfig:t,message:'Advertisement "'.concat(e,'" has expired')}}));break;case"deactivate":console.log("\u274c Deactivating expired ad: ".concat(e));break;case"reset":console.log("\ud83d\udd04 Resetting duration for ad: ".concat(e));try{const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");if(t.adsManager&&t.adsManager[e]){const r=(new Date).toISOString(),a=t.adsManager[e].runtime,n=d(r,a);t.adsManager[e].startDate=r,t.adsManager[e].expirationDate=n,t.adsManager[e].active=!0,localStorage.setItem("cataloro_site_config",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:t.adsManager})),console.log("\ud83d\udd04 Ad duration reset for ".concat(e," until:"),n)}}catch(a){console.error("Error resetting ad duration for ".concat(e,":"),a)}break;default:console.warn("Unknown expiration event: ".concat(r))}})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");if(!t.adsManager)return;let r=!1;return Object.keys(t.adsManager).forEach(a=>{const n=t.adsManager[a];if(n.active&&u(n)){var s,i;if(e)return void console.log("\ud83d\udd27 Skipping automatic expiration for ".concat(a," - manual admin control active"));g(a,n);const o=null===(s=n.expirationEvents)||void 0===s?void 0:s.includes("reset"),l=null===(i=n.expirationEvents)||void 0===i?void 0:i.includes("deactivate");o&&!l?console.log("\ud83d\udd04 Ad ".concat(a," expired but configured for reset - automatic reactivation handled")):(l||!o&&!l)&&(t.adsManager[a].active=!1,r=!0,console.log("\ud83d\udd52 Ad expired and automatically deactivated: ".concat(a," (can be manually reactivated by admin)")))}}),r&&(localStorage.setItem("cataloro_site_config",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:t.adsManager}))),r}catch(t){return console.error("\u274c Failed to deactivate expired ads:",t),!1}}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var a=r(3440),n=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!n&&n in e}},7937:(e,t,r)=>{var a=r(6954),n=r(4657);e.exports=function(e,t){var r=n(e,t);return a(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8673:(e,t,r)=>{var a=r(3204),n=r(3713),s=r(6571);e.exports=function(e){return s(e)?a(e):n(e)}},8724:(e,t,r)=>{var a=r(7615),n=r(5051),s=r(2154),i=r(8734),o=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},8734:(e,t,r)=>{var a=r(5575),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:n.call(t,e)}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8895:e=>{e.exports=function(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}},8902:(e,t,r)=>{var a=r(4816),n=r(6179),s=r(6704);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new a;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=n,i.prototype.has=s,e.exports=i},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var a=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<r}},9394:(e,t,r)=>{var a=r(2622);e.exports=function(e){return a(this,e).has(e)}},9395:(e,t,r)=>{var a=r(4262),n=r(9621),s=r(8673);e.exports=function(e){return a(e,s,n)}},9621:(e,t,r)=>{var a=r(7529),n=r(7828),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(e){return null==e?[]:(e=Object(e),a(i(e),function(t){return s.call(e,t)}))}:n;e.exports=o},9812:(e,t,r)=>{var a=r(6552).Symbol;e.exports=a},9853:(e,t,r)=>{var a=r(6989);e.exports=function(e,t){return a(e,t)}},9935:(e,t,r)=>{var a=r(1340),n=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():n.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var a=r(9812),n=r(2929),s=r(3211),i=r(3668),o=r(4160),l=r(2074),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,a,c,u,m){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=o;case"[object Set]":var g=1&a;if(h||(h=l),e.size!=t.size&&!g)return!1;var p=m.get(e);if(p)return p==t;a|=2,m.set(e,t);var x=i(h(e),h(t),a,c,u,m);return m.delete(e),x;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>a[e]);return i.default=()=>a,r.d(s,i),s}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,a)=>(r.f[a](e,t),t),[])),r.u=e=>"static/js/"+e+".e68ce003.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="cataloro-marketplace:";r.l=(a,n,s,i)=>{if(e[a])e[a].push(n);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=a),e[a]=[n];var m=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var n=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach(e=>e(r)),t)return t(r)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise((r,a)=>n=e[t]=[r,a]);a.push(n[2]=s);var i=r.p+r.u(t),o=new Error;r.l(i,a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,n[1](o)}},"chunk-"+t,t)}};var t=(t,a)=>{var n,s,i=a[0],o=a[1],l=a[2],c=0;if(i.some(t=>0!==e[t])){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(l)l(r)}for(t&&t(a);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.webpackChunkcataloro_marketplace=self.webpackChunkcataloro_marketplace||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>zt,hasStandardBrowserEnv:()=>Vt,hasStandardBrowserWebWorkerEnv:()=>Gt,navigator:()=>Ht,origin:()=>Wt});var t={};r.r(t),r.d(t,{Decoder:()=>os,Encoder:()=>ss,PacketType:()=>ns,protocol:()=>as});var a,n=r(5043),s=r.t(n,2),i=r(4391),o=r(7950),l=r.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,r,a){return void 0===r&&(r=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function x(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,t,r,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=a.Pop,m=null,x=f();function f(){return(o.state||{idx:null}).idx}function b(){l=a.Pop;let e=f(),t=null==e?null:e-x;x=e,m&&m({action:l,location:v.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:p(e);return r=r.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==x&&(x=0,o.replaceState(c({},o.state,{idx:x}),""));let v={get action(){return l},get location(){return e(s,o)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(d,b),m=e,()=>{s.removeEventListener(d,b),m=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let n=g(v.location,e,t);r&&r(n,e),x=f()+1;let c=h(n,x),d=v.createHref(n);try{o.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(d)}i&&m&&m({action:l,location:v.location,delta:1})},replace:function(e,t){l=a.Replace;let n=g(v.location,e,t);r&&r(n,e),x=f();let s=h(n,x),c=v.createHref(n);o.replaceState(s,"",c),i&&m&&m({action:l,location:v.location,delta:0})},go:e=>o.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,r){return void 0===r&&(r="/"),v(e,t,r,!1)}function v(e,t,r,a){let n=M(("string"===typeof t?x(t):t).pathname||"/",r);if(null==n)return null;let s=j(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=L(n);i=P(s[o],e,a)}return i}function j(e,t,r,a){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a="");let n=(e,n,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(u(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let o=B([a,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),j(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:O(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let a of w(e.path))n(e,t,a);else n(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===a.length)return n?[s,""]:[s];let i=w(a.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),n&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,N=3,_=2,S=1,A=10,C=-2,E=e=>"*"===e;function O(e,t){let r=e.split("/"),a=r.length;return r.some(E)&&(a+=C),t&&(a+=_),r.filter(e=>!E(e)).reduce((e,t)=>e+(k.test(t)?N:""===t?S:A),a)}function P(e,t,r){void 0===r&&(r=!1);let{routesMeta:a}=e,n={},s="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!a[a.length-1].route.index&&(d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:B([s,d.pathname]),pathnameBase:U(B([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=B([s,d.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let s=new RegExp(n,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],i=s.replace(/(.)\/+$/,"$1"),o=n.slice(1),l=a.reduce((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[a]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}function I(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let r=D(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function F(e,t,r,a){let n;void 0===a&&(a=!1),"string"===typeof e?n=x(e):(n=c({},e),u(!n.pathname||!n.pathname.includes("?"),I("?","pathname","search",n)),u(!n.pathname||!n.pathname.includes("#"),I("#","pathname","hash",n)),u(!n.search||!n.search.includes("#"),I("#","search","hash",n)));let s,i=""===e||""===n.pathname,o=i?"/":n.pathname;if(null==o)s=r;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:a="",hash:n=""}="string"===typeof e?x(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:q(a),hash:z(n)}}(n,s),d=o&&"/"!==o&&o.endsWith("/"),m=(i||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!d&&!m||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],G=(new Set(V),["get",...V]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W.apply(this,arguments)}const K=n.createContext(null);const J=n.createContext(null);const Y=n.createContext(null);const $=n.createContext(null);const Q=n.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=n.createContext(null);function X(){return null!=n.useContext($)}function ee(){return X()||u(!1),n.useContext($).location}function te(e){n.useContext(Y).static||n.useLayoutEffect(e)}function re(){let{isDataRoute:e}=n.useContext(Q);return e?function(){let{router:e}=ge(me.UseNavigateStable),t=xe(he.UseNavigateStable),r=n.useRef(!1);return te(()=>{r.current=!0}),n.useCallback(function(a,n){void 0===n&&(n={}),r.current&&("number"===typeof a?e.navigate(a):e.navigate(a,W({fromRouteId:t},n)))},[e,t])}():function(){X()||u(!1);let e=n.useContext(K),{basename:t,future:r,navigator:a}=n.useContext(Y),{matches:s}=n.useContext(Q),{pathname:i}=ee(),o=JSON.stringify(R(s,r.v7_relativeSplatPath)),l=n.useRef(!1);return te(()=>{l.current=!0}),n.useCallback(function(r,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof r)return void a.go(r);let s=F(r,JSON.parse(o),i,"path"===n.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:B([t,s.pathname])),(n.replace?a.replace:a.push)(s,n.state,n)},[t,a,o,i,e])}()}const ae=n.createContext(null);function ne(){let{matches:e}=n.useContext(Q),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:r}=void 0===t?{}:t,{future:a}=n.useContext(Y),{matches:s}=n.useContext(Q),{pathname:i}=ee(),o=JSON.stringify(R(s,a.v7_relativeSplatPath));return n.useMemo(()=>F(e,JSON.parse(o),i,"path"===r),[e,o,i,r])}function ie(e,t,r,s){X()||u(!1);let{navigator:i}=n.useContext(Y),{matches:o}=n.useContext(Q),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let m,h=ee();if(t){var g;let e="string"===typeof t?x(t):t;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||u(!1),m=e}else m=h;let p=m.pathname||"/",f=p;if("/"!==d){let e=d.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:f});let v=ue(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:B([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,s);return t&&v?n.createElement($.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:a.Pop}},v):v}function oe(){let e=function(){var e;let t=n.useContext(Z),r=pe(he.UseRouteError),a=xe(he.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[a]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:s},r):null,null)}const le=n.createElement(oe,null);class ce extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(Q.Provider,{value:this.props.routeContext},n.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:r,children:a}=e,s=n.useContext(K);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(Q.Provider,{value:t},a)}function ue(e,t,r,a){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let n=0;n<o.length;n++){let e=o[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=n),e.route.id){let{loaderData:t,errors:a}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,a,s)=>{let i,u=!1,m=null,h=null;var g;r&&(i=l&&a.route.id?l[a.route.id]:void 0,m=a.route.errorElement||le,c&&(d<0&&0===s?(g="route-fallback",!1||fe[g]||(fe[g]=!0),u=!0,h=null):d===s&&(u=!0,h=a.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,s+1)),x=()=>{let t;return t=i?m:u?h:a.route.Component?n.createElement(a.route.Component,null):a.route.element?a.route.element:e,n.createElement(de,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?n.createElement(ce,{location:r.location,revalidation:r.revalidation,component:m,error:i,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function ge(e){let t=n.useContext(K);return t||u(!1),t}function pe(e){let t=n.useContext(J);return t||u(!1),t}function xe(e){let t=function(){let e=n.useContext(Q);return e||u(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||u(!1),r.route.id}const fe={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:r,state:a,relative:s}=e;X()||u(!1);let{future:i,static:o}=n.useContext(Y),{matches:l}=n.useContext(Q),{pathname:c}=ee(),d=re(),m=F(t,R(l,i.v7_relativeSplatPath),c,"path"===s),h=JSON.stringify(m);return n.useEffect(()=>d(JSON.parse(h),{replace:r,state:a,relative:s}),[d,h,s,r,a]),null}function ve(e){return function(e){let t=n.useContext(Q).outlet;return t?n.createElement(ae.Provider,{value:e},t):t}(e.context)}function je(e){u(!1)}function we(e){let{basename:t="/",children:r=null,location:s,navigationType:i=a.Pop,navigator:o,static:l=!1,future:c}=e;X()&&u(!1);let d=t.replace(/^\/*/,"/"),m=n.useMemo(()=>({basename:d,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof s&&(s=x(s));let{pathname:h="/",search:g="",hash:p="",state:f=null,key:b="default"}=s,y=n.useMemo(()=>{let e=M(h,d);return null==e?null:{location:{pathname:e,search:g,hash:p,state:f,key:b},navigationType:i}},[d,h,g,p,f,b,i]);return null==y?null:n.createElement(Y.Provider,{value:m},n.createElement($.Provider,{children:r,value:y}))}function ke(e){let{children:t,location:r}=e;return ie(Ne(t),r)}new Promise(()=>{});n.Component;function Ne(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,(e,a)=>{if(!n.isValidElement(e))return;let s=[...t,a];if(e.type===n.Fragment)return void r.push.apply(r,Ne(e.props.children,s));e.type!==je&&u(!1),e.props.index&&e.props.children&&u(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ne(e.props.children,s)),r.push(i)}),r}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_e.apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}function Ae(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(e=>[r,e]):[[r,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(hx){}new Map;const Ee=s.startTransition;l.flushSync,s.useId;function Oe(e){let{basename:t,children:r,future:a,window:s}=e,i=n.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return g("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=i.current,[c,d]=n.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},m=n.useCallback(e=>{u&&Ee?Ee(()=>d(e)):d(e)},[d,u]);return n.useLayoutEffect(()=>l.listen(m),[l,m]),n.useEffect(()=>be(a),[a]),n.createElement(we,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:a})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=n.forwardRef(function(e,t){let r,{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:m,viewTransition:h}=e,g=Se(e,Ce),{basename:x}=n.useContext(Y),f=!1;if("string"===typeof d&&Te.test(d)&&(r=d,Pe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=M(t.pathname,x);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:f=!0}catch(hx){}let b=function(e,t){let{relative:r}=void 0===t?{}:t;X()||u(!1);let{basename:a,navigator:s}=n.useContext(Y),{hash:i,pathname:o,search:l}=se(e,{relative:r}),c=o;return"/"!==a&&(c="/"===o?a:B([a,o])),s.createHref({pathname:c,search:l,hash:i})}(d,{relative:s}),y=function(e,t){let{target:r,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=re(),d=ee(),u=se(e,{relative:o});return n.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==a?a:p(d)===p(u);c(e,{replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,a,s,r,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:m,relative:s,viewTransition:h});return n.createElement("a",_e({},g,{href:r||b,onClick:f||i?a:function(e){a&&a(e),e.defaultPrevented||y(e)},ref:t,target:c}))});var Me,Ie;function De(e){let t=n.useRef(Ae(e)),r=n.useRef(!1),a=ee(),s=n.useMemo(()=>function(e,t){let r=Ae(e);return t&&t.forEach((e,a)=>{r.has(a)||t.getAll(a).forEach(e=>{r.append(a,e)})}),r}(a.search,r.current?null:t.current),[a.search]),i=re(),o=n.useCallback((e,t)=>{const a=Ae("function"===typeof e?e(s):e);r.current=!0,i("?"+a,t)},[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));var Re=r(2555);function Fe(e,t){return function(){return e.apply(t,arguments)}}const{toString:Be}=Object.prototype,{getPrototypeOf:Ue}=Object,{iterator:qe,toStringTag:ze}=Symbol,He=(e=>t=>{const r=Be.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ve=e=>(e=e.toLowerCase(),t=>He(t)===e),Ge=e=>t=>typeof t===e,{isArray:We}=Array,Ke=Ge("undefined");function Je(e){return null!==e&&!Ke(e)&&null!==e.constructor&&!Ke(e.constructor)&&Qe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ye=Ve("ArrayBuffer");const $e=Ge("string"),Qe=Ge("function"),Ze=Ge("number"),Xe=e=>null!==e&&"object"===typeof e,et=e=>{if("object"!==He(e))return!1;const t=Ue(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ze in e)&&!(qe in e)},tt=Ve("Date"),rt=Ve("File"),at=Ve("Blob"),nt=Ve("FileList"),st=Ve("URLSearchParams"),[it,ot,lt,ct]=["ReadableStream","Request","Response","Headers"].map(Ve);function dt(e,t){let r,a,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),We(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Je(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let i;for(r=0;r<s;r++)i=a[r],t.call(null,e[i],i,e)}}function ut(e,t){if(Je(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a,n=r.length;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ht=e=>!Ke(e)&&e!==mt;const gt=(pt="undefined"!==typeof Uint8Array&&Ue(Uint8Array),e=>pt&&e instanceof pt);var pt;const xt=Ve("HTMLFormElement"),ft=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),bt=Ve("RegExp"),yt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};dt(r,(r,n)=>{let s;!1!==(s=t(r,n,e))&&(a[n]=s||r)}),Object.defineProperties(e,a)};const vt=Ve("AsyncFunction"),jt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),a=[],mt.addEventListener("message",e=>{let{source:t,data:n}=e;t===mt&&n===r&&a.length&&a.shift()()},!1),e=>{a.push(e),mt.postMessage(r,"*")}):e=>setTimeout(e);var r,a})("function"===typeof setImmediate,Qe(mt.postMessage)),wt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(mt):"undefined"!==typeof process&&process.nextTick||jt,kt={isArray:We,isArrayBuffer:Ye,isBuffer:Je,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Qe(e.append)&&("formdata"===(t=He(e))||"object"===t&&Qe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ye(e.buffer),t},isString:$e,isNumber:Ze,isBoolean:e=>!0===e||!1===e,isObject:Xe,isPlainObject:et,isEmptyObject:e=>{if(!Xe(e)||Je(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(hx){return!1}},isReadableStream:it,isRequest:ot,isResponse:lt,isHeaders:ct,isUndefined:Ke,isDate:tt,isFile:rt,isBlob:at,isRegExp:bt,isFunction:Qe,isStream:e=>Xe(e)&&Qe(e.pipe),isURLSearchParams:st,isTypedArray:gt,isFileList:nt,forEach:dt,merge:function e(){const{caseless:t,skipUndefined:r}=ht(this)&&this||{},a={},n=(n,s)=>{const i=t&&ut(a,s)||s;et(a[i])&&et(n)?a[i]=e(a[i],n):et(n)?a[i]=e({},n):We(n)?a[i]=n.slice():r&&Ke(n)||(a[i]=n)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&dt(arguments[s],n);return a},extend:function(e,t,r){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return dt(t,(t,a)=>{r&&Qe(t)?e[a]=Fe(t,r):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,a)=>{let n,s,i;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),s=n.length;s-- >0;)i=n[s],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&Ue(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:He,kindOfTest:Ve,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return-1!==a&&a===r},toArray:e=>{if(!e)return null;if(We(e))return e;let t=e.length;if(!Ze(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[qe]).call(e);let a;for(;(a=r.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const a=[];for(;null!==(r=e.exec(t));)a.push(r);return a},isHTMLForm:xt,hasOwnProperty:ft,hasOwnProp:ft,reduceDescriptors:yt,freezeMethods:e=>{yt(e,(t,r)=>{if(Qe(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const a=e[r];Qe(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},a=e=>{e.forEach(e=>{r[e]=!0})};return We(e)?a(e):a(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ut,global:mt,isContextDefined:ht,isSpecCompliantForm:function(e){return!!(e&&Qe(e.append)&&"FormData"===e[ze]&&e[qe])},toJSONObject:e=>{const t=new Array(10),r=(e,a)=>{if(Xe(e)){if(t.indexOf(e)>=0)return;if(Je(e))return e;if(!("toJSON"in e)){t[a]=e;const n=We(e)?[]:{};return dt(e,(e,t)=>{const s=r(e,a+1);!Ke(s)&&(n[t]=s)}),t[a]=void 0,n}}return e};return r(e,0)},isAsyncFn:vt,isThenable:e=>e&&(Xe(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),setImmediate:jt,asap:wt,isIterable:e=>null!=e&&Qe(e[qe])};function Nt(e,t,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}kt.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kt.toJSONObject(this.config),code:this.code,status:this.status}}});const _t=Nt.prototype,St={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{St[e]={value:e}}),Object.defineProperties(Nt,St),Object.defineProperty(_t,"isAxiosError",{value:!0}),Nt.from=(e,t,r,a,n,s)=>{const i=Object.create(_t);kt.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Nt.call(i,o,l,r,a,n),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const At=Nt;function Ct(e){return kt.isPlainObject(e)||kt.isArray(e)}function Et(e){return kt.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,r){return e?e.concat(t).map(function(e,t){return e=Et(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Pt=kt.toFlatObject(kt,{},null,function(e){return/^is[A-Z]/.test(e)});const Tt=function(e,t,r){if(!kt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(r=kt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!kt.isUndefined(t[e])})).metaTokens,n=r.visitor||c,s=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&kt.isSpecCompliantForm(t);if(!kt.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(kt.isDate(e))return e.toISOString();if(kt.isBoolean(e))return e.toString();if(!o&&kt.isBlob(e))throw new At("Blob is not supported. Use a Buffer instead.");return kt.isArrayBuffer(e)||kt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let o=e;if(e&&!n&&"object"===typeof e)if(kt.endsWith(r,"{}"))r=a?r:r.slice(0,-2),e=JSON.stringify(e);else if(kt.isArray(e)&&function(e){return kt.isArray(e)&&!e.some(Ct)}(e)||(kt.isFileList(e)||kt.endsWith(r,"[]"))&&(o=kt.toArray(e)))return r=Et(r),o.forEach(function(e,a){!kt.isUndefined(e)&&null!==e&&t.append(!0===i?Ot([r],a,s):null===i?r:r+"[]",l(e))}),!1;return!!Ct(e)||(t.append(Ot(n,r,s),l(e)),!1)}const d=[],u=Object.assign(Pt,{defaultVisitor:c,convertValue:l,isVisitable:Ct});if(!kt.isObject(e))throw new TypeError("data must be an object");return function e(r,a){if(!kt.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+a.join("."));d.push(r),kt.forEach(r,function(r,s){!0===(!(kt.isUndefined(r)||null===r)&&n.call(t,r,kt.isString(s)?s.trim():s,a,u))&&e(r,a?a.concat(s):[s])}),d.pop()}}(e),t};function Lt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Mt(e,t){this._pairs=[],e&&Tt(e,this,t)}const It=Mt.prototype;It.append=function(e,t){this._pairs.push([e,t])},It.toString=function(e){const t=e?function(t){return e.call(this,t,Lt)}:Lt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Dt=Mt;function Rt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ft(e,t,r){if(!t)return e;const a=r&&r.encode||Rt;kt.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let s;if(s=n?n(t,r):kt.isURLSearchParams(t)?t.toString():new Dt(t,r).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Bt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){kt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Ut={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Dt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},zt="undefined"!==typeof window&&"undefined"!==typeof document,Ht="object"===typeof navigator&&navigator||void 0,Vt=zt&&(!Ht||["ReactNative","NativeScript","NS"].indexOf(Ht.product)<0),Gt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Wt=zt&&window.location.href||"http://localhost",Kt=(0,Re.A)((0,Re.A)({},e),qt);const Jt=function(e){function t(e,r,a,n){let s=e[n++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=n>=e.length;if(s=!s&&kt.isArray(a)?a.length:s,o)return kt.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!i;a[s]&&kt.isObject(a[s])||(a[s]=[]);return t(e,r,a[s],n)&&kt.isArray(a[s])&&(a[s]=function(e){const t={},r=Object.keys(e);let a;const n=r.length;let s;for(a=0;a<n;a++)s=r[a],t[s]=e[s];return t}(a[s])),!i}if(kt.isFormData(e)&&kt.isFunction(e.entries)){const r={};return kt.forEachEntry(e,(e,a)=>{t(function(e){return kt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,r,0)}),r}return null};const Yt={transitional:Ut,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,n=kt.isObject(e);n&&kt.isHTMLForm(e)&&(e=new FormData(e));if(kt.isFormData(e))return a?JSON.stringify(Jt(e)):e;if(kt.isArrayBuffer(e)||kt.isBuffer(e)||kt.isStream(e)||kt.isFile(e)||kt.isBlob(e)||kt.isReadableStream(e))return e;if(kt.isArrayBufferView(e))return e.buffer;if(kt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Tt(e,new Kt.classes.URLSearchParams,(0,Re.A)({visitor:function(e,t,r,a){return Kt.isNode&&kt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=kt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Tt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,r){if(kt.isString(e))try{return(t||JSON.parse)(e),kt.trim(e)}catch(hx){if("SyntaxError"!==hx.name)throw hx}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Yt.transitional,r=t&&t.forcedJSONParsing,a="json"===this.responseType;if(kt.isResponse(e)||kt.isReadableStream(e))return e;if(e&&kt.isString(e)&&(r&&!this.responseType||a)){const r=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(hx){if(r){if("SyntaxError"===hx.name)throw At.from(hx,At.ERR_BAD_RESPONSE,this,null,this.response);throw hx}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kt.forEach(["delete","get","head","post","put","patch"],e=>{Yt.headers[e]={}});const $t=Yt,Qt=kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zt=Symbol("internals");function Xt(e){return e&&String(e).trim().toLowerCase()}function er(e){return!1===e||null==e?e:kt.isArray(e)?e.map(er):String(e)}function tr(e,t,r,a,n){return kt.isFunction(a)?a.call(this,t,r):(n&&(t=r),kt.isString(t)?kt.isString(a)?-1!==t.indexOf(a):kt.isRegExp(a)?a.test(t):void 0:void 0)}class rr{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function n(e,t,r){const n=Xt(t);if(!n)throw new Error("header name must be a non-empty string");const s=kt.findKey(a,n);(!s||void 0===a[s]||!0===r||void 0===r&&!1!==a[s])&&(a[s||t]=er(e))}const s=(e,t)=>kt.forEach(e,(e,r)=>n(e,r,t));if(kt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(kt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,a,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),r=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!r||t[r]&&Qt[r]||("set-cookie"===r?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t})(e),t);else if(kt.isObject(e)&&kt.isIterable(e)){let r,a,n={};for(const t of e){if(!kt.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(r=n[a])?kt.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(n,t)}else null!=e&&n(t,e,r);return this}get(e,t){if(e=Xt(e)){const r=kt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}(e);if(kt.isFunction(t))return t.call(this,e,r);if(kt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xt(e)){const r=kt.findKey(this,e);return!(!r||void 0===this[r]||t&&!tr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let a=!1;function n(e){if(e=Xt(e)){const n=kt.findKey(r,e);!n||t&&!tr(0,r[n],n,t)||(delete r[n],a=!0)}}return kt.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const n=t[r];e&&!tr(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,r={};return kt.forEach(this,(a,n)=>{const s=kt.findKey(r,n);if(s)return t[s]=er(a),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(n):String(n).trim();i!==n&&delete t[n],t[i]=er(a),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return kt.forEach(this,(r,a)=>{null!=r&&!1!==r&&(t[a]=e&&kt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Zt]=this[Zt]={accessors:{}}).accessors,r=this.prototype;function a(e){const a=Xt(e);t[a]||(!function(e,t){const r=kt.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(e,r,n){return this[a].call(this,t,e,r,n)},configurable:!0})})}(r,e),t[a]=!0)}return kt.isArray(e)?e.forEach(a):a(e),this}}rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),kt.reduceDescriptors(rr.prototype,(e,t)=>{let{value:r}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[a]=e}}}),kt.freezeMethods(rr);const ar=rr;function nr(e,t){const r=this||$t,a=t||r,n=ar.from(a.headers);let s=a.data;return kt.forEach(e,function(e){s=e.call(r,s,n.normalize(),t?t.status:void 0)}),n.normalize(),s}function sr(e){return!(!e||!e.__CANCEL__)}function ir(e,t,r){At.call(this,null==e?"canceled":e,At.ERR_CANCELED,t,r),this.name="CanceledError"}kt.inherits(ir,At,{__CANCEL__:!0});const or=ir;function lr(e,t,r){const a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new At("Request failed with status code "+r.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const cr=function(e,t){e=e||10;const r=new Array(e),a=new Array(e);let n,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];n||(n=l),r[s]=o,a[s]=l;let d=i,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-n<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const dr=function(e,t){let r,a,n=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=s,r=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(r=l,a||(a=setTimeout(()=>{a=null,i(r)},s-t)))},()=>r&&i(r)]},ur=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const n=cr(50,250);return dr(r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,o=s-a,l=n(o);a=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},mr=(e,t)=>{const r=null!=e;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},hr=e=>function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return kt.asap(()=>e(...r))},gr=Kt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Kt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,pr=Kt.hasStandardBrowserEnv?{write(e,t,r,a,n,s){const i=[e+"="+encodeURIComponent(t)];kt.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),kt.isString(a)&&i.push("path="+a),kt.isString(n)&&i.push("domain="+n),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xr(e,t,r){let a=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(a||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const fr=e=>e instanceof ar?(0,Re.A)({},e):e;function br(e,t){t=t||{};const r={};function a(e,t,r,a){return kt.isPlainObject(e)&&kt.isPlainObject(t)?kt.merge.call({caseless:a},e,t):kt.isPlainObject(t)?kt.merge({},t):kt.isArray(t)?t.slice():t}function n(e,t,r,n){return kt.isUndefined(t)?kt.isUndefined(e)?void 0:a(void 0,e,0,n):a(e,t,0,n)}function s(e,t){if(!kt.isUndefined(t))return a(void 0,t)}function i(e,t){return kt.isUndefined(t)?kt.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(r,n,s){return s in t?a(r,n):s in e?a(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>n(fr(e),fr(t),0,!0)};return kt.forEach(Object.keys((0,Re.A)((0,Re.A)({},e),t)),function(a){const s=l[a]||n,i=s(e[a],t[a],a);kt.isUndefined(i)&&s!==o||(r[a]=i)}),r}const yr=e=>{const t=br({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=ar.from(i),t.url=Ft(xr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),kt.isFormData(r))if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(kt.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,a]=e;t.includes(r.toLowerCase())&&i.set(r,a)})}if(Kt.hasStandardBrowserEnv&&(a&&kt.isFunction(a)&&(a=a(t)),a||!1!==a&&gr(t.url))){const e=n&&s&&pr.read(s);e&&i.set(n,e)}return t},vr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const a=yr(e);let n=a.data;const s=ar.from(a.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=a;function g(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function x(){if(!p)return;const a=ar.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());lr(function(e){t(e),g()},function(e){r(e),g()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:e,request:p}),p=null}p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout,"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(x)},p.onabort=function(){p&&(r(new At("Request aborted",At.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const a=t&&t.message?t.message:"Network Error",n=new At(a,At.ERR_NETWORK,e,p);n.event=t||null,r(n),p=null},p.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||Ut;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),r(new At(t,n.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,e,p)),p=null},void 0===n&&s.setContentType(null),"setRequestHeader"in p&&kt.forEach(s.toJSON(),function(e,t){p.setRequestHeader(t,e)}),kt.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),u&&"json"!==u&&(p.responseType=a.responseType),h&&([l,d]=ur(h,!0),p.addEventListener("progress",l)),m&&p.upload&&([o,c]=ur(m),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{p&&(r(!t||t.type?new or(null,e,p):t),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);f&&-1===Kt.protocols.indexOf(f)?r(new At("Unsupported protocol "+f+":",At.ERR_BAD_REQUEST,e)):p.send(n||null)})},jr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,a=new AbortController;const n=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof At?t:new or(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,n(new At("timeout ".concat(t," of ms exceeded"),At.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:o}=a;return o.unsubscribe=()=>kt.asap(i),o}};function wr(e,t){this.v=e,this.k=t}function kr(e){return function(){return new Nr(e.apply(this,arguments))}}function Nr(e){var t,r;function a(t,r){try{var s=e[t](r),i=s.value,o=i instanceof wr;Promise.resolve(o?i.v:i).then(function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return a(l,r);r=e[l](r).value}n(s.done?"return":"normal",r)},function(e){a("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(s,i){var o={key:e,arg:n,resolve:s,reject:i,next:null};r?r=r.next=o:(t=r=o,a(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function _r(e){return new wr(e,0)}function Sr(e){var t={},r=!1;function a(t,a){return r=!0,a=new Promise(function(r){r(e[t](a))}),{done:!1,value:new wr(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):a("return",e)}),t}function Ar(e){var t,r,a,n=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,a=Symbol.iterator);n--;){if(r&&null!=(t=e[r]))return t.call(e);if(a&&null!=(t=e[a]))return new Cr(t.call(e));r="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Cr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Cr=function(e){this.s=e,this.n=e.next},Cr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Cr(e)}Nr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Nr.prototype.next=function(e){return this._invoke("next",e)},Nr.prototype.throw=function(e){return this._invoke("throw",e)},Nr.prototype.return=function(e){return this._invoke("return",e)};const Er=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let a,n=0;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Or=function(){var e=kr(function*(e,t){var r,a=!1,n=!1;try{for(var s,i=Ar(Pr(e));a=!(s=yield _r(i.next())).done;a=!1){const e=s.value;yield*Sr(Ar(Er(e,t)))}}catch(o){n=!0,r=o}finally{try{a&&null!=i.return&&(yield _r(i.return()))}finally{if(n)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Pr=function(){var e=kr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Sr(Ar(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield _r(t.read());if(e)break;yield r}}finally{yield _r(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Tr=(e,t,r,a)=>{const n=Or(e,t);let s,i=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return o(),void e.close();let s=a.byteLength;if(r){let e=i+=s;r(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},{isFunction:Lr}=kt,Mr=(e=>{let{fetch:t,Request:r,Response:a}=e;return{fetch:t,Request:r,Response:a}})(kt.global),{ReadableStream:Ir,TextEncoder:Dr}=kt.global,Rr=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return!!e(...r)}catch(hx){return!1}},Fr=e=>{const{fetch:t,Request:r,Response:a}=Object.assign({},Mr,e),n=Lr(t),s=Lr(r),i=Lr(a);if(!n)return!1;const o=n&&Lr(Ir),l=n&&("function"===typeof Dr?(c=new Dr,e=>c.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var c;const d=s&&o&&Rr(()=>{let e=!1;const t=new r(Kt.origin,{body:new Ir,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&Rr(()=>kt.isReadableStream(new a("").body)),m={stream:u&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,r)=>{let a=t&&t[e];if(a)return a.call(t);throw new At("Response type '".concat(e,"' is not supported"),At.ERR_NOT_SUPPORT,r)})});const h=async(e,t)=>{const a=kt.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(kt.isBlob(e))return e.size;if(kt.isSpecCompliantForm(e)){const t=new r(Kt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return kt.isArrayBufferView(e)||kt.isArrayBuffer(e)?e.byteLength:(kt.isURLSearchParams(e)&&(e+=""),kt.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:n,method:i,data:o,signal:l,cancelToken:c,timeout:g,onDownloadProgress:p,onUploadProgress:x,responseType:f,headers:b,withCredentials:y="same-origin",fetchOptions:v}=yr(e);f=f?(f+"").toLowerCase():"text";let j=jr([l,c&&c.toAbortSignal()],g),w=null;const k=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let N;try{if(x&&d&&"get"!==i&&"head"!==i&&0!==(N=await h(b,o))){let e,t=new r(n,{method:"POST",body:o,duplex:"half"});if(kt.isFormData(o)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,r]=mr(N,ur(hr(x)));o=Tr(t.body,65536,e,r)}}kt.isString(y)||(y=y?"include":"omit");const l=s&&"credentials"in r.prototype,c=(0,Re.A)((0,Re.A)({},v),{},{signal:j,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:l?y:void 0});w=s&&new r(n,c);let g=await(s?t(w,v):t(n,c));const _=u&&("stream"===f||"response"===f);if(u&&(p||_&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=g[t]});const t=kt.toFiniteNumber(g.headers.get("content-length")),[r,n]=p&&mr(t,ur(hr(p),!0))||[];g=new a(Tr(g.body,65536,r,()=>{n&&n(),k&&k()}),e)}f=f||"text";let S=await m[kt.findKey(m,f)||"text"](g,e);return!_&&k&&k(),await new Promise((t,r)=>{lr(t,r,{data:S,headers:ar.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:w})})}catch(_){if(k&&k(),_&&"TypeError"===_.name&&/Load failed|fetch/i.test(_.message))throw Object.assign(new At("Network Error",At.ERR_NETWORK,e,w),{cause:_.cause||_});throw At.from(_,_&&_.code,e,w)}}},Br=new Map,Ur=e=>{let t=kt.merge.call({skipUndefined:!0},Mr,e?e.env:null);const{fetch:r,Request:a,Response:n}=t,s=[a,n,r];let i,o,l=s.length,c=Br;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:Fr(t)),c=o;return o},qr=(Ur(),{http:null,xhr:vr,fetch:{get:Ur}});kt.forEach(qr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(hx){}Object.defineProperty(e,"adapterName",{value:t})}});const zr=e=>"- ".concat(e),Hr=e=>kt.isFunction(e)||null===e||!1===e,Vr=(e,t)=>{e=kt.isArray(e)?e:[e];const{length:r}=e;let a,n;const s={};for(let i=0;i<r;i++){let r;if(a=e[i],n=a,!Hr(a)&&(n=qr[(r=String(a)).toLowerCase()],void 0===n))throw new At("Unknown adapter '".concat(r,"'"));if(n&&(kt.isFunction(n)||(n=n.get(t))))break;s[r||"#"+i]=n}if(!n){const e=Object.entries(s).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(zr).join("\n"):" "+zr(e[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n};function Gr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new or(null,e)}function Wr(e){Gr(e),e.headers=ar.from(e.headers),e.data=nr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Vr(e.adapter||$t.adapter,e)(e).then(function(t){return Gr(e),t.data=nr.call(e,e.transformResponse,t),t.headers=ar.from(t.headers),t},function(t){return sr(t)||(Gr(e),t&&t.response&&(t.response.data=nr.call(e,e.transformResponse,t.response),t.response.headers=ar.from(t.response.headers))),Promise.reject(t)})}const Kr="1.12.0",Jr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Yr={};Jr.transitional=function(e,t,r){function a(e,t){return"[Axios v"+Kr+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,s)=>{if(!1===e)throw new At(a(n," has been removed"+(t?" in "+t:"")),At.ERR_DEPRECATED);return t&&!Yr[n]&&(Yr[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},Jr.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const $r={assertOptions:function(e,t,r){if("object"!==typeof e)throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const s=a[n],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new At("option "+s+" must be "+r,At.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new At("Unknown option "+s,At.ERR_BAD_OPTION)}},validators:Jr},Qr=$r.validators;class Zr{constructor(e){this.defaults=e||{},this.interceptors={request:new Bt,response:new Bt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(hx){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=br(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:n}=t;void 0!==r&&$r.assertOptions(r,{silentJSONParsing:Qr.transitional(Qr.boolean),forcedJSONParsing:Qr.transitional(Qr.boolean),clarifyTimeoutError:Qr.transitional(Qr.boolean)},!1),null!=a&&(kt.isFunction(a)?t.paramsSerializer={serialize:a}:$r.assertOptions(a,{encode:Qr.function,serialize:Qr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),$r.assertOptions(t,{baseUrl:Qr.spelling("baseURL"),withXsrfToken:Qr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=n&&kt.merge(n.common,n[t.method]);n&&kt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=ar.concat(s,n);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Wr.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Wr.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Ft(xr((e=br(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}kt.forEach(["delete","get","head","options"],function(e){Zr.prototype[e]=function(t,r){return this.request(br(r||{},{method:e,url:t,data:(r||{}).data}))}}),kt.forEach(["post","put","patch"],function(e){function t(t){return function(r,a,n){return this.request(br(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Zr.prototype[e]=t(),Zr.prototype[e+"Form"]=t(!0)});const Xr=Zr;class ea{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{r.subscribe(e),t=e}).then(e);return a.cancel=function(){r.unsubscribe(t)},a},e(function(e,a,n){r.reason||(r.reason=new or(e,a,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ea(function(t){e=t}),cancel:e}}}const ta=ea;const ra={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ra).forEach(e=>{let[t,r]=e;ra[r]=t});const aa=ra;const na=function e(t){const r=new Xr(t),a=Fe(Xr.prototype.request,r);return kt.extend(a,Xr.prototype,r,{allOwnKeys:!0}),kt.extend(a,r,null,{allOwnKeys:!0}),a.create=function(r){return e(br(t,r))},a}($t);na.Axios=Xr,na.CanceledError=or,na.CancelToken=ta,na.isCancel=sr,na.VERSION=Kr,na.toFormData=Tt,na.AxiosError=At,na.Cancel=na.CanceledError,na.all=function(e){return Promise.all(e)},na.spread=function(e){return function(t){return e.apply(null,t)}},na.isAxiosError=function(e){return kt.isObject(e)&&!0===e.isAxiosError},na.mergeConfig=br,na.AxiosHeaders=ar,na.formToJSON=e=>Jt(kt.isHTMLForm(e)?new FormData(e):e),na.getAdapter=Vr,na.HttpStatusCode=aa,na.default=na;const sa=na,ia={development:{BACKEND_URL:"https://cataloro.com",FRONTEND_URL:"https://cataloro.com"},production:{BACKEND_URL:"https://cataloro.com",FRONTEND_URL:"http://217.154.0.82"}},oa=ia.production,la={API_BASE_URL:oa.BACKEND_URL},ca={AUTH:{LOGIN:"".concat(oa.BACKEND_URL,"/api/auth/login"),REGISTER:"".concat(oa.BACKEND_URL,"/api/auth/register"),LOGOUT:"".concat(oa.BACKEND_URL,"/api/auth/logout"),PROFILE:"".concat(oa.BACKEND_URL,"/api/auth/profile"),REFRESH:"".concat(oa.BACKEND_URL,"/api/auth/refresh")},MARKETPLACE:{LISTINGS:"".concat(oa.BACKEND_URL,"/api/listings"),BROWSE:"".concat(oa.BACKEND_URL,"/api/marketplace/browse"),FAVORITES:"".concat(oa.BACKEND_URL,"/api/marketplace/favorites"),SEARCH:"".concat(oa.BACKEND_URL,"/api/marketplace/search")},USER:{MY_LISTINGS:"".concat(oa.BACKEND_URL,"/api/user/my-listings/{user_id}"),MY_DEALS:"".concat(oa.BACKEND_URL,"/api/user/my-deals/{user_id}"),NOTIFICATIONS:"".concat(oa.BACKEND_URL,"/api/user/{user_id}/notifications"),PROFILE:"".concat(oa.BACKEND_URL,"/api/user/profile")},ADMIN:{DASHBOARD:"".concat(oa.BACKEND_URL,"/api/admin/dashboard"),USERS:"".concat(oa.BACKEND_URL,"/api/admin/users"),SETTINGS:"".concat(oa.BACKEND_URL,"/api/admin/settings"),KPIS:"".concat(oa.BACKEND_URL,"/api/admin/kpis"),LOGO:"".concat(oa.BACKEND_URL,"/api/admin/logo")}},da={HOME:"/",BROWSE:"/browse",MY_LISTINGS:"/my-listings",TENDERS:"/tenders",MY_TENDERS:"/my-tenders",BUY:"/buy",SELL:"/sell",ADMIN_PANEL:"/admin",FAVORITES:"/favorites",NOTIFICATIONS:"/notifications",PROFILE:"/profile",LOGIN:"/login",REGISTER:"/register",INFO:"/info"},ua={APP_NAME:"Cataloro",LOGO_URL:"/assets/logo.png",DEFAULT_AVATAR:"/assets/default-avatar.png",PAGINATION_SIZE:12,NOTIFICATION_TIMEOUT:5e3},ma={USER:"user",ADMIN:"admin",MODERATOR:"moderator"};const ha=new class{constructor(){sa.defaults.timeout=1e4,sa.interceptors.request.use(e=>{const t=localStorage.getItem("cataloro_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),sa.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),window.location.href="/login"),Promise.reject(e)})}async login(e,t){try{return(await sa.post(ca.AUTH.LOGIN,{email:e,password:t})).data}catch(n){var r,a;throw new Error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Login failed")}}async register(e){try{return(await sa.post(ca.AUTH.REGISTER,e)).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Registration failed")}}async logout(){try{await sa.post(ca.AUTH.LOGOUT)}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}}async getProfile(e){try{return(await sa.get(ca.AUTH.PROFILE.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch profile")}}async refreshToken(){try{const e=await sa.post(ca.AUTH.REFRESH),{token:t}=e.data;return localStorage.setItem("cataloro_token",t),t}catch(e){throw new Error("Token refresh failed")}}isAuthenticated(){return!!localStorage.getItem("cataloro_token")}getCurrentUser(){try{const e=localStorage.getItem("cataloro_user");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing user data:",e),null}}getToken(){return localStorage.getItem("cataloro_token")}};var ga=r(579);const pa={user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},xa="LOGIN_START",fa="LOGIN_SUCCESS",ba="LOGIN_FAILURE",ya="LOGOUT",va="SET_USER",ja="CLEAR_ERROR";function wa(e,t){switch(t.type){case xa:return(0,Re.A)((0,Re.A)({},e),{},{isLoading:!0,error:null});case fa:return(0,Re.A)((0,Re.A)({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null});case ba:return(0,Re.A)((0,Re.A)({},e),{},{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t.payload});case ya:return(0,Re.A)({},pa);case va:return(0,Re.A)((0,Re.A)({},e),{},{user:t.payload});case ja:return(0,Re.A)((0,Re.A)({},e),{},{error:null});default:return e}}const ka=(0,n.createContext)();function Na(e){let{children:t}=e;const[r,a]=(0,n.useReducer)(wa,pa);(0,n.useEffect)(()=>{const e=localStorage.getItem("cataloro_token"),t=localStorage.getItem("cataloro_user");if(e&&t)try{a({type:fa,payload:{token:e,user:JSON.parse(t)}})}catch(r){console.error("Error parsing stored user data:",r),localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}},[]);const s=async(e,t)=>{a({type:xa});try{const r=await ha.login(e,t);return localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),a({type:fa,payload:r}),r}catch(r){throw a({type:ba,payload:r.message}),r}},i=()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.role)===ma.ADMIN},o=(0,Re.A)((0,Re.A)({},r),{},{login:s,register:async e=>{a({type:xa});try{const t=await ha.register(e);return t.user_id?await s(e.email,e.password):t}catch(t){throw a({type:ba,payload:t.message}),t}},logout:()=>{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),a({type:ya})},clearError:()=>{a({type:ja})},updateUser:e=>{localStorage.setItem("cataloro_user",JSON.stringify(e)),a({type:va,payload:e})},isAdmin:i,isModerator:()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.role)===ma.MODERATOR||i()},hasPermission:e=>{if(!r.user)return!1;const t={[ma.USER]:1,[ma.MODERATOR]:2,[ma.ADMIN]:3};return t[r.user.role]>=t[e]}});return(0,ga.jsx)(ka.Provider,{value:o,children:t})}function _a(){const e=(0,n.useContext)(ka);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Sa=new class{async getUserNotifications(e){try{return(await sa.get(ca.USER.NOTIFICATIONS.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch notifications")}}async markAsRead(e,t){try{await sa.put("".concat(ca.USER.NOTIFICATIONS.replace("{user_id}",e),"/").concat(t,"/read"))}catch(n){var r,a;throw new Error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to mark notification as read")}}async markAllAsRead(e){try{await sa.put("".concat(ca.USER.NOTIFICATIONS.replace("{user_id}",e),"/read-all"))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to mark all notifications as read")}}async deleteNotification(e,t){try{await sa.delete("".concat(ca.USER.NOTIFICATIONS.replace("{user_id}",e),"/").concat(t))}catch(n){var r,a;throw new Error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to delete notification")}}},Aa={notifications:[],unreadCount:0,isLoading:!1,error:null},Ca="FETCH_START",Ea="FETCH_SUCCESS",Oa="FETCH_FAILURE",Pa="MARK_AS_READ",Ta="MARK_ALL_AS_READ",La="ADD_NOTIFICATION",Ma="REMOVE_NOTIFICATION";function Ia(e,t){switch(t.type){case Ca:return(0,Re.A)((0,Re.A)({},e),{},{isLoading:!0,error:null});case Ea:const r=t.payload,a=r.filter(e=>!e.is_read).length;return(0,Re.A)((0,Re.A)({},e),{},{notifications:r,unreadCount:a,isLoading:!1,error:null});case Oa:return(0,Re.A)((0,Re.A)({},e),{},{isLoading:!1,error:t.payload});case Pa:const n=e.notifications.map(e=>e.id===t.payload?(0,Re.A)((0,Re.A)({},e),{},{is_read:!0}):e);return(0,Re.A)((0,Re.A)({},e),{},{notifications:n,unreadCount:Math.max(0,e.unreadCount-1)});case Ta:return(0,Re.A)((0,Re.A)({},e),{},{notifications:e.notifications.map(e=>(0,Re.A)((0,Re.A)({},e),{},{is_read:!0})),unreadCount:0});case La:return(0,Re.A)((0,Re.A)({},e),{},{notifications:[t.payload,...e.notifications],unreadCount:e.unreadCount+1});case Ma:const s=e.notifications.filter(e=>e.id!==t.payload);return(0,Re.A)((0,Re.A)({},e),{},{notifications:s,unreadCount:s.filter(e=>!e.is_read).length});default:return e}}const Da=(0,n.createContext)();function Ra(e){let{children:t}=e;const[r,a]=(0,n.useReducer)(Ia,Aa),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a({type:La,payload:(0,Re.A)({id:Date.now().toString(),user_id:t,created_at:(new Date).toISOString(),is_read:!1},e)})},i=e=>{a({type:Ma,payload:e})},o=(0,Re.A)((0,Re.A)({},r),{},{fetchNotifications:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){a({type:Ca});try{const t=await Sa.getUserNotifications(e);a({type:Ea,payload:t})}catch(t){a({type:Oa,payload:t.message})}}},markAsRead:async e=>{try{await Sa.markAsRead(e),a({type:Pa,payload:e})}catch(t){console.error("Error marking notification as read:",t)}},markAllAsRead:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)try{await Sa.markAllAsRead(e),a({type:Ta})}catch(t){console.error("Error marking all notifications as read:",t)}},addNotification:s,removeNotification:i,showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";s({title:t.charAt(0).toUpperCase()+t.slice(1),message:e,type:t}),setTimeout(()=>{i(Date.now().toString())},5e3)}});return(0,ga.jsx)(Da.Provider,{value:o,children:t})}function Fa(){const e=(0,n.useContext)(Da);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e}const Ba=new class{async browseListings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;try{const n=new URLSearchParams(e);n.append("limit",a.toString()),n.append("offset",((r-1)*a).toString()),t&&n.append("user_id",t),e.bidFilter&&"all"!==e.bidFilter&&n.append("bid_filter",e.bidFilter),console.log("\ud83c\udf10 API call to browse - page:",r,"pageSize:",a,"filters:",e);const s=await sa.get("".concat(la.API_BASE_URL,"/api/marketplace/browse?").concat(n));return s.data&&s.data.listings?(console.log("\ud83c\udf10 API response - listings:",s.data.listings.length,"pagination:",s.data.pagination),s.data):(console.log("\ud83c\udf10 API response - fallback array format:",s.data.length),{listings:s.data,pagination:{current_page:r,total_pages:1,total_count:s.data.length,page_size:a,has_next:!1,has_prev:!1}})}catch(i){var n,s;throw new Error((null===(n=i.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.detail)||"Failed to fetch listings")}}async getMyListings(e){try{const t=(await sa.get(ca.USER.MY_LISTINGS.replace("{user_id}",e),{params:{status:"all",limit:1e3}})).data;return t&&"object"===typeof t&&Array.isArray(t.listings)?t.listings:Array.isArray(t)?t:[]}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch your listings")}}async getMyDeals(e){try{return(await sa.get(ca.USER.MY_DEALS.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch your deals")}}async createListing(e){try{const t=localStorage.getItem("cataloro_token");return(await sa.post("".concat(la.API_BASE_URL,"/api/listings"),e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to create listing")}}async updateListing(e,t){try{return(await sa.put("".concat(ca.MARKETPLACE.LISTINGS,"/").concat(e),t)).data}catch(n){var r,a;throw new Error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to update listing")}}async deleteListing(e){try{await sa.delete("".concat(ca.MARKETPLACE.LISTINGS,"/").concat(e))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete listing")}}async searchListings(e){try{return(await sa.get("".concat(ca.MARKETPLACE.SEARCH,"?q=").concat(encodeURIComponent(e)))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Search failed")}}};const Ua=new class{constructor(){this.baseURL=la.API_BASE_URL,this.rateLimitBackoff={}}async handleRateLimitedRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=e.split("?")[0];if(this.rateLimitBackoff[a]&&Date.now()<this.rateLimitBackoff[a])throw console.warn("\u23f3 Rate limit backoff active for ".concat(a," - skipping request")),new Error("Rate limit backoff - request skipped");try{const n=await fetch(e,t);if(429===n.status){const n=3e4*Math.pow(2,r);if(this.rateLimitBackoff[a]=Date.now()+n,console.warn("\ud83d\udea6 Rate limit hit for ".concat(a," - backing off for ").concat(n/1e3,"s")),r<3)return await new Promise(e=>setTimeout(e,n)),this.handleRateLimitedRequest(e,t,r+1);throw new Error("429 Too Many Requests - Max retries exceeded")}if(delete this.rateLimitBackoff[a],!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return n}catch(n){if(n.message.includes("429")||n.message.includes("Rate limit"))throw n;throw console.error("Request error:",n),n}}async getUserFavorites(e){try{const t=localStorage.getItem("cataloro_token"),r=await this.handleRateLimitedRequest("".concat(this.baseURL,"/api/user/").concat(e,"/favorites"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});return await r.json()}catch(t){throw console.error("Error fetching favorites:",t),t}}async addToFavorites(e,t){try{const r=localStorage.getItem("cataloro_token"),a=await fetch("".concat(this.baseURL,"/api/user/").concat(e,"/favorites/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(r){throw console.error("Error adding to favorites:",r),r}}async removeFromFavorites(e,t){try{const r=localStorage.getItem("cataloro_token"),a=await fetch("".concat(this.baseURL,"/api/user/").concat(e,"/favorites/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(r){throw console.error("Error removing from favorites:",r),r}}async getUserMessages(e){try{const t=localStorage.getItem("cataloro_token"),r=await fetch("".concat(this.baseURL,"/api/user/").concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(t){throw console.error("Error fetching messages:",t),t}}async sendMessage(e){try{const t=e.sender_id;if(!t)throw new Error("sender_id is required in messageData");const r=localStorage.getItem("cataloro_token"),a=await fetch("".concat(this.baseURL,"/api/user/").concat(t,"/messages"),{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(t){throw console.error("Error sending message:",t),t}}async markMessageRead(e,t){try{const r=localStorage.getItem("cataloro_token"),a=await fetch("".concat(this.baseURL,"/api/user/").concat(e,"/messages/").concat(t,"/read"),{method:"PUT",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(r){throw console.error("Error marking message as read:",r),r}}async getUserNotifications(e){try{const t=localStorage.getItem("cataloro_token"),r=await fetch("".concat(this.baseURL,"/api/user/").concat(e,"/notifications"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(t){throw console.error("Error fetching notifications:",t),t}}async createNotification(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error creating notification:",r),r}}async markNotificationRead(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications/").concat(t,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error marking notification as read:",r),r}}async searchUsers(e){try{const t=await fetch("".concat(this.baseURL,"/users/search?q=").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error searching users:",t),t}}},qa={favorites:[],favoriteCount:0,searchQuery:"",activeFilters:{type:"all",priceFrom:0,priceTo:1e4,rating:0,location:"all",bidFilter:"all",hotDeals:"all"},sortBy:"newest",currentPage:1,pageSize:40,totalPages:1,totalListings:0,isLoadingPage:!1,allProducts:[],filteredProducts:[],categories:[],recentlyViewed:[],notifications:[],messages:[],viewMode:"grid",isLoading:!1,appliedPromo:null,availablePromos:[{code:"SAVE10",discount:.1,description:"10% off your order"},{code:"FREESHIP",shippingDiscount:!0,description:"Free shipping"},{code:"WELCOME20",discount:.2,description:"20% off first order",minAmount:100}]},za={APPLY_PROMO:"APPLY_PROMO",REMOVE_PROMO:"REMOVE_PROMO",ADD_TO_FAVORITES:"ADD_TO_FAVORITES",REMOVE_FROM_FAVORITES:"REMOVE_FROM_FAVORITES",SET_FAVORITES:"SET_FAVORITES",SET_PRODUCTS:"SET_PRODUCTS",SET_FILTERED_PRODUCTS:"SET_FILTERED_PRODUCTS",ADD_PRODUCT:"ADD_PRODUCT",UPDATE_PRODUCT:"UPDATE_PRODUCT",DELETE_PRODUCT:"DELETE_PRODUCT",SET_SEARCH_QUERY:"SET_SEARCH_QUERY",SET_FILTERS:"SET_FILTERS",SET_SORT_BY:"SET_SORT_BY",SET_CURRENT_PAGE:"SET_CURRENT_PAGE",SET_PAGINATION_INFO:"SET_PAGINATION_INFO",SET_LOADING_PAGE:"SET_LOADING_PAGE",SET_VIEW_MODE:"SET_VIEW_MODE",SET_LOADING:"SET_LOADING",ADD_NOTIFICATION:"ADD_NOTIFICATION",REMOVE_NOTIFICATION:"REMOVE_NOTIFICATION",ADD_TO_RECENTLY_VIEWED:"ADD_TO_RECENTLY_VIEWED",ADD_MESSAGE:"ADD_MESSAGE",MARK_MESSAGE_READ:"MARK_MESSAGE_READ"};function Ha(e,t){switch(t.type){case za.ADD_TO_FAVORITES:return e.favorites.some(e=>e.id===t.payload.id)?e:(0,Re.A)((0,Re.A)({},e),{},{favorites:[...e.favorites,t.payload],favoriteCount:e.favoriteCount+1});case za.REMOVE_FROM_FAVORITES:return(0,Re.A)((0,Re.A)({},e),{},{favorites:e.favorites.filter(e=>e.id!==t.payload),favoriteCount:Math.max(0,e.favoriteCount-1)});case za.SET_FAVORITES:return(0,Re.A)((0,Re.A)({},e),{},{favorites:t.payload,favoriteCount:t.payload.length});case za.SET_PRODUCTS:{const r=[...t.payload].sort((t,r)=>{switch(e.sortBy){case"price_low":return t.price-r.price;case"price_high":return r.price-t.price;case"rating":return(r.rating||0)-(t.rating||0);case"popular":return(r.views||0)-(t.views||0);default:return new Date(r.created_at||r.createdAt)-new Date(t.created_at||t.createdAt)}});return(0,Re.A)((0,Re.A)({},e),{},{allProducts:t.payload,filteredProducts:r})}case za.SET_FILTERED_PRODUCTS:return(0,Re.A)((0,Re.A)({},e),{},{filteredProducts:t.payload});case za.SET_SEARCH_QUERY:return(0,Re.A)((0,Re.A)({},e),{},{searchQuery:t.payload});case za.SET_FILTERS:return(0,Re.A)((0,Re.A)({},e),{},{activeFilters:(0,Re.A)((0,Re.A)({},e.activeFilters),t.payload)});case za.SET_SORT_BY:return(0,Re.A)((0,Re.A)({},e),{},{sortBy:t.payload});case za.SET_CURRENT_PAGE:return(0,Re.A)((0,Re.A)({},e),{},{currentPage:t.payload});case za.SET_PAGINATION_INFO:return(0,Re.A)((0,Re.A)({},e),{},{totalPages:t.payload.totalPages,totalListings:t.payload.totalListings,currentPage:t.payload.currentPage||e.currentPage});case za.SET_LOADING_PAGE:return(0,Re.A)((0,Re.A)({},e),{},{isLoadingPage:t.payload});case za.SET_VIEW_MODE:return(0,Re.A)((0,Re.A)({},e),{},{viewMode:t.payload});case za.APPLY_PROMO:{const r=e.availablePromos.find(e=>e.code===t.payload);return(0,Re.A)((0,Re.A)({},e),{},{appliedPromo:r||null})}case za.REMOVE_PROMO:return(0,Re.A)((0,Re.A)({},e),{},{appliedPromo:null});case za.ADD_NOTIFICATION:return(0,Re.A)((0,Re.A)({},e),{},{notifications:[t.payload,...e.notifications]});case za.REMOVE_NOTIFICATION:return(0,Re.A)((0,Re.A)({},e),{},{notifications:e.notifications.filter(e=>e.id!==t.payload)});case za.ADD_TO_RECENTLY_VIEWED:{const r=e.recentlyViewed.filter(e=>e.id!==t.payload.id);return(0,Re.A)((0,Re.A)({},e),{},{recentlyViewed:[t.payload,...r].slice(0,10)})}case za.SET_LOADING:return(0,Re.A)((0,Re.A)({},e),{},{isLoading:t.payload});default:return e}}const Va=(0,n.createContext)();function Ga(e){let{children:t}=e;const[r,a]=(0,n.useReducer)(Ha,qa);(0,n.useEffect)(()=>{const e=localStorage.getItem("cataloro_cart"),t=localStorage.getItem("cataloro_favorites");if(e)try{JSON.parse(e).forEach(e=>{a({type:za.ADD_TO_CART,payload:e})})}catch(r){console.error("Error loading cart from storage:",r)}if(t)try{JSON.parse(t).forEach(e=>{a({type:za.ADD_TO_FAVORITES,payload:e})})}catch(r){console.error("Error loading favorites from storage:",r)}s()},[]),(0,n.useEffect)(()=>{localStorage.setItem("cataloro_favorites",JSON.stringify(r.favorites))},[r.favorites]);const s=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;console.log("\ud83d\udd04 Loading products - page:",n,"filters:",e),a({type:za.SET_LOADING,payload:!0}),a({type:za.SET_LOADING_PAGE,payload:!0});try{const s=e||r.activeFilters,i={};s.type&&"all"!==s.type&&(i.type=s.type),s.priceFrom>0&&(i.price_from=s.priceFrom),s.priceTo<1e4&&(i.price_to=s.priceTo),s.bidFilter&&"all"!==s.bidFilter&&(i.bidFilter=s.bidFilter);const o=t||(()=>{try{const e=localStorage.getItem("cataloro_user");return e?JSON.parse(e).id:null}catch(e){return null}})(),l=await Ba.browseListings(i,o,n,r.pageSize);let c,d;if(console.log("\u2705 Loaded listings from API - page:",n,"response:",l),l&&l.listings)c=l.listings,d=l.pagination,console.log("\u2705 New API format - listings:",c.length,"pagination:",d);else{if(!Array.isArray(l))throw new Error("Invalid API response format");c=l,d={current_page:n,total_pages:1,total_count:l.length,page_size:r.pageSize,has_next:!1,has_prev:!1},console.log("\u2705 Fallback array format - listings:",c.length)}console.log("\ud83d\udccb Processing listings:",c.length),c.length>0&&(console.log("\ud83d\udd0d First listing raw data:",JSON.stringify(c[0],null,2)),console.log("\ud83d\udd0d First listing seller data:",c[0].seller));const u=c.map((e,t)=>{var r,a,n,s,i,o,l,c;const d={id:e.id,title:e.title,description:e.description,price:parseFloat(e.price)||0,originalPrice:1.1*(parseFloat(e.price)||0),category:e.category,condition:e.condition,location:e.location||"Unknown",images:e.images||[],bid_info:e.bid_info||{has_bids:!1,total_bids:0,highest_bid:parseFloat(e.price)||0,highest_bidder_id:""},time_info:(()=>{if(e.time_info)return e.time_info;const t=e.has_time_limit||!1,r=e.is_expired||!1,a=e.expires_at,n=e.time_limit_hours;let s=null;if(t&&a&&!r){const e=new Date,t=new Date(a).getTime()-e.getTime();s=Math.max(0,Math.floor(t/1e3))}return{has_time_limit:t,is_expired:r,time_remaining_seconds:s,time_limit_hours:n,expires_at:a,status_text:r?"EXPIRED":t?"ACTIVE":null}})(),seller:(0,Re.A)((0,Re.A)({},e.seller),{},{name:(null===(r=e.seller)||void 0===r?void 0:r.name)||"Unknown Seller",username:(null===(a=e.seller)||void 0===a?void 0:a.username)||"Unknown",email:(null===(n=e.seller)||void 0===n?void 0:n.email)||"",is_business:(null===(s=e.seller)||void 0===s?void 0:s.is_business)||!1,business_name:(null===(i=e.seller)||void 0===i?void 0:i.business_name)||"",verified:(null===(o=e.seller)||void 0===o?void 0:o.verified)||!1,location:(null===(l=e.seller)||void 0===l?void 0:l.location)||"Unknown"}),address:e.address||{},created_at:e.created_at,updated_at:e.updated_at,rating:4.5,reviewCount:Math.floor(100*Math.random())+10,isHotDeal:Math.random()>.7,hasFastShipping:Math.random()>.6,verified:(null===(c=e.seller)||void 0===c?void 0:c.verified)||!1,inStock:!0,quantity:1,tags:e.tags||[],features:e.features||[],is_partners_only:e.is_partners_only||!1,public_at:e.public_at,show_partners_first:e.show_partners_first||!1,partners_visibility_hours:e.partners_visibility_hours};return 0===t&&(console.log("\ud83d\udd04 First listing transformed:",JSON.stringify(d,null,2)),console.log("\ud83d\udd04 First listing seller after transform:",d.seller)),d});return a({type:za.SET_PRODUCTS,payload:u}),a({type:za.SET_PAGINATION_INFO,payload:{totalPages:d.total_pages,totalListings:d.total_count,currentPage:d.current_page}}),a({type:za.SET_LOADING,payload:!1}),console.log("\u2705 Updated state with",u.length,"listings and pagination:",d),void console.log("\ud83c\udf89 Successfully loaded",u.length,"real listings from API")}catch(s){console.error("\u274c Failed to load products:",s);const e=(n-1)*r.pageSize,t=e+r.pageSize,i=[{id:"1",title:"MacBook Pro 16-inch M3 Max",description:"Professional laptop with M3 Max chip, perfect for developers and creators. Includes original box and all accessories.",price:2499,originalPrice:2799,category:"Electronics",subcategory:"Laptops",seller:{name:"TechGuru123",username:"TechGuru123",email:"techguru123@example.com",rating:4.9,reviews:156,verified:!0,is_business:!1,location:"San Francisco, CA"},images:["https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500","https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?w=500","https://images.unsplash.com/photo-1585337701044-7305994ea6fb?w=500"],condition:"Like New",views:234,favorites:45,createdAt:(new Date).toISOString(),features:["M3 Max Chip","64GB RAM","2TB SSD","Space Gray","16-inch Display"],shipping:"Free shipping",estimatedDelivery:"2-3 business days",rating:4.8,reviewCount:156,tags:["Hot Deal","Fast Shipping","Professional"],inStock:!0,quantity:1,time_info:{has_time_limit:!0,is_expired:!1,time_remaining_seconds:43200,time_limit_hours:24,expires_at:new Date(Date.now()+432e5).toISOString()}},{id:"2",title:"Vintage Gibson Les Paul Standard 1959",description:"Authentic 1959 Gibson Les Paul in museum-quality condition. This is a collector's dream with incredible tone and playability.",price:45e3,originalPrice:55e3,category:"Music",subcategory:"Guitars",seller:{name:"VintageGuitars_Pro",username:"VintageGuitars_Pro",email:"vintage.guitars.pro@example.com",rating:4.9,reviews:89,verified:!0,is_business:!0,company_name:"Vintage Guitars Pro LLC",location:"Nashville, TN"},images:["https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=500","https://images.unsplash.com/photo-1564186763535-ebb21ef5277f?w=500","https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=500"],condition:"Excellent",views:1289,favorites:267,createdAt:new Date(Date.now()-864e5).toISOString(),features:["1959 Model","Original Case","Certificate of Authenticity","Museum Quality"],shipping:"Insured shipping - $150",estimatedDelivery:"3-5 business days",rating:4.9,reviewCount:89,tags:["Vintage","Authenticated","Collector Item"],inStock:!0,quantity:1,time_info:{has_time_limit:!0,is_expired:!1,time_remaining_seconds:129600,time_limit_hours:48,expires_at:new Date(Date.now()+1296e5).toISOString()}},{id:"3",title:"Louis Vuitton Neverfull MM",description:"Authentic Louis Vuitton handbag in pristine condition. Perfect for daily use with elegant design.",price:1850,originalPrice:2200,category:"Fashion",subcategory:"Handbags",seller:{name:"LuxuryItems_NYC",username:"LuxuryItems_NYC",email:"luxury.items.nyc@example.com",rating:4.7,reviews:245,verified:!0,is_business:!0,company_name:"Luxury Items NYC Inc.",location:"New York, NY"},images:["https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=500","https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500"],condition:"Excellent",views:456,favorites:189,createdAt:new Date(Date.now()-1728e5).toISOString(),features:["Authentic","Dust Bag Included","Care Instructions","Serial Number"],shipping:"Express delivery - $25",estimatedDelivery:"1-2 business days",rating:4.6,reviewCount:245,tags:["Luxury","Authentic","Designer"],inStock:!0,quantity:1,time_info:{has_time_limit:!0,is_expired:!1,time_remaining_seconds:64800,time_limit_hours:24,expires_at:new Date(Date.now()+648e5).toISOString()}},{id:"4",title:"Gaming PC - RTX 4090 Build",description:"Ultimate gaming PC with RTX 4090, perfect for 4K gaming, streaming, and content creation.",price:4200,originalPrice:4800,category:"Electronics",subcategory:"Computers",seller:{name:"PCBuilder_Expert",rating:4.9,reviews:78,verified:!0,location:"Austin, TX"},images:["https://images.unsplash.com/photo-1587831990711-23ca6441447b?w=500"],condition:"New",views:698,favorites:212,createdAt:new Date(Date.now()-432e5).toISOString(),features:["RTX 4090","Intel i9-13900K","64GB RAM","Custom Cooling"],shipping:"Free shipping",estimatedDelivery:"3-5 business days",rating:5,reviewCount:78,tags:["Gaming","Custom Built","High Performance"],inStock:!0,quantity:1,time_info:{has_time_limit:!1,is_expired:!1,time_remaining_seconds:null,time_limit_hours:null,expires_at:null}},{id:"5",title:"iPhone 15 Pro Max 1TB",description:"Latest iPhone 15 Pro Max in Natural Titanium with maximum storage capacity.",price:1599,category:"Electronics",subcategory:"Smartphones",seller:{name:"AppleStore_Certified",rating:4.8,reviews:324,verified:!0,location:"Cupertino, CA"},images:["https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=500"],condition:"New",views:1205,favorites:398,createdAt:new Date(Date.now()-216e5).toISOString(),features:["1TB Storage","Natural Titanium","Pro Camera System","A17 Pro Chip"],shipping:"Free shipping",estimatedDelivery:"1-2 business days",rating:4.8,reviewCount:324,tags:["Latest Model","Premium","Fast Shipping"],inStock:!0,quantity:1,time_info:{has_time_limit:!0,is_expired:!1,time_remaining_seconds:21600,time_limit_hours:24,expires_at:new Date(Date.now()+216e5).toISOString()}}],o=i.slice(e,t);a({type:za.SET_PRODUCTS,payload:o});const l=Math.ceil(i.length/r.pageSize);a({type:za.SET_PAGINATION_INFO,payload:{totalPages:l,totalListings:i.length,currentPage:n}}),console.log("\u2705 Fallback to demo data - page:",n,"showing:",o.length,"of",i.length)}finally{a({type:za.SET_LOADING,payload:!1}),a({type:za.SET_LOADING_PAGE,payload:!1})}},i={addToFavorites:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r.favorites.some(t=>t.id===e.id))l("Already in favorites!","info");else try{t&&await Ua.addToFavorites(t,e.id),a({type:za.ADD_TO_FAVORITES,payload:e}),l("Added ".concat(e.title," to favorites!"),"success")}catch(n){console.error("Error adding to favorites:",n),a({type:za.ADD_TO_FAVORITES,payload:e}),l("Added ".concat(e.title," to favorites!"),"success")}},removeFromFavorites:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t&&await Ua.removeFromFavorites(t,e),a({type:za.REMOVE_FROM_FAVORITES,payload:e}),l("Removed from favorites","info")}catch(r){console.error("Error removing from favorites:",r),a({type:za.REMOVE_FROM_FAVORITES,payload:e}),l("Removed from favorites","info")}},loadUserFavorites:async e=>{try{const t=await Ua.getUserFavorites(e);a({type:za.SET_FAVORITES,payload:t})}catch(t){console.error("Error loading user favorites:",t)}},setSearchQuery:async e=>{a({type:za.SET_SEARCH_QUERY,payload:e}),("all"!==r.activeFilters.type||r.activeFilters.priceFrom>0||r.activeFilters.priceTo<1e4)&&await s(r.activeFilters),o(e,r.activeFilters,r.sortBy)},setFilters:async e=>{const t=(0,Re.A)((0,Re.A)({},r.activeFilters),e);a({type:za.SET_FILTERS,payload:e}),void 0!==e.type||void 0!==e.priceFrom||void 0!==e.priceTo||void 0!==e.bidFilter?await s(t):o(r.searchQuery,t,r.sortBy)},setSortBy:e=>{a({type:za.SET_SORT_BY,payload:e}),o(r.searchQuery,r.activeFilters,e)},setViewMode:e=>{a({type:za.SET_VIEW_MODE,payload:e})},applyPromo:e=>{const t=r.availablePromos.find(t=>t.code===e.toUpperCase());return t?t.minAmount&&r.cartTotal<t.minAmount?(l("Minimum order of $".concat(t.minAmount," required for this promo"),"error"),!1):(a({type:za.APPLY_PROMO,payload:e.toUpperCase()}),l("Promo code applied: ".concat(t.description),"success"),!0):(l("Invalid promo code","error"),!1)},removePromo:()=>{a({type:za.REMOVE_PROMO}),l("Promo code removed","info")},refreshListings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;await s(e)},addToRecentlyViewed:e=>{a({type:za.ADD_TO_RECENTLY_VIEWED,payload:e})},setLoading:e=>{a({type:za.SET_LOADING,payload:e})},changePage:async e=>{e<1||e>r.totalPages||e===r.currentPage||(console.log("\ud83d\udcc4 Changing to page:",e),a({type:za.SET_CURRENT_PAGE,payload:e}),await s(r.activeFilters,null,e))}},o=(e,t,n)=>{console.log("\ud83d\udd0d applyFiltersAndSearch called with:",{query:e,filters:t,sortBy:n,allProductsCount:r.allProducts.length,hotDealsFilter:t.hotDeals});let s=[...r.allProducts];console.log("\ud83d\udd0d Starting with",s.length,"products"),e&&(s=s.filter(t=>{var r;return t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())||(null===(r=t.features)||void 0===r?void 0:r.some(t=>t.toLowerCase().includes(e.toLowerCase())))||t.add_info&&t.add_info.toLowerCase().includes(e.toLowerCase())}),console.log("\ud83d\udd0d After search filter:",s.length,"products")),"all"!==t.type&&(s=s.filter(e=>{var r;const a=!0===(null===(r=e.seller)||void 0===r?void 0:r.is_business);return"Business"===t.type?a:"Private"!==t.type||!a})),void 0!==t.priceFrom&&void 0!==t.priceTo&&(s=s.filter(e=>e.price>=t.priceFrom&&e.price<=t.priceTo)),t.rating>0&&(s=s.filter(e=>(e.rating||0)>=t.rating)),t.hotDeals&&"all"!==t.hotDeals&&(console.log("\u23f0 Applying time filter: ".concat(t.hotDeals,", starting with ").concat(s.length," products")),s.forEach((e,t)=>{t<5&&console.log("\ud83d\udd25 Product ".concat(t+1,' "').concat(e.title,'":'),{has_time_info:!!e.time_info,time_info:e.time_info})}),s=s.filter(e=>{const r=e.time_info;if(!r)return console.log("\u23f0 ".concat(e.title,": No time_info, filter=").concat(t.hotDeals,", result=").concat("no_time_limit"===t.hotDeals)),"no_time_limit"===t.hotDeals;if("no_time_limit"===t.hotDeals){const t=!r.has_time_limit;return console.log("\ud83d\udd25 ".concat(e.title,": No time limit filter, has_time_limit=").concat(r.has_time_limit,", result=").concat(t)),t}if(!r.has_time_limit||r.is_expired)return console.log("\ud83d\udd25 ".concat(e.title,": No time limit or expired, has_time_limit=").concat(r.has_time_limit,", is_expired=").concat(r.is_expired)),!1;const a=r.time_remaining_seconds?r.time_remaining_seconds/3600:0;if("expiring_soon"===t.hotDeals){const t=a>0&&a<=48;return console.log("\u23f0 ".concat(e.title,": ").concat(a.toFixed(1),"h remaining, isExpiringSoon=").concat(t)),t}return!0}),console.log("\u23f0 After time filter: ".concat(s.length," products remaining"))),s.sort((e,t)=>{switch(n){case"price_low":return e.price-t.price;case"price_high":return t.price-e.price;case"rating":return(t.rating||0)-(e.rating||0);case"popular":return(t.views||0)-(e.views||0);default:return new Date(t.created_at)-new Date(e.created_at)}}),a({type:za.SET_FILTERED_PRODUCTS,payload:s})},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const r={id:Date.now(),message:e,type:t,timestamp:(new Date).toISOString()};a({type:za.ADD_NOTIFICATION,payload:r}),setTimeout(()=>{a({type:za.REMOVE_NOTIFICATION,payload:r.id})},5e3)},c=(0,Re.A)((0,Re.A)((0,Re.A)({},r),i),{},{showNotification:l});return(0,ga.jsx)(Va.Provider,{value:c,children:t})}function Wa(){const e=(0,n.useContext)(Va);if(!e)throw new Error("useMarketplace must be used within a MarketplaceProvider");return e}const Ka=Object.create(null);Ka.open="0",Ka.close="1",Ka.ping="2",Ka.pong="3",Ka.message="4",Ka.upgrade="5",Ka.noop="6";const Ja=Object.create(null);Object.keys(Ka).forEach(e=>{Ja[Ka[e]]=e});const Ya={type:"error",data:"parser error"},$a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Qa="function"===typeof ArrayBuffer,Za=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Xa=(e,t,r)=>{let{type:a,data:n}=e;return $a&&n instanceof Blob?t?r(n):en(n,r):Qa&&(n instanceof ArrayBuffer||Za(n))?t?r(n):en(new Blob([n]),r):r(Ka[a]+(n||""))},en=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function tn(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let rn;const an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nn="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)nn[an.charCodeAt(r)]=r;const sn="function"===typeof ArrayBuffer,on=(e,t)=>{if("string"!==typeof e)return{type:"message",data:cn(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:ln(e.substring(1),t)};return Ja[r]?e.length>1?{type:Ja[r],data:e.substring(1)}:{type:Ja[r]}:Ya},ln=(e,t)=>{if(sn){const r=(e=>{let t,r,a,n,s,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<o;t+=4)r=nn[e.charCodeAt(t)],a=nn[e.charCodeAt(t+1)],n=nn[e.charCodeAt(t+2)],s=nn[e.charCodeAt(t+3)],d[l++]=r<<2|a>>4,d[l++]=(15&a)<<4|n>>2,d[l++]=(3&n)<<6|63&s;return c})(e);return cn(r,t)}return{base64:!0,data:e}},cn=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,dn=String.fromCharCode(30);function un(){return new TransformStream({transform(e,t){!function(e,t){$a&&e.data instanceof Blob?e.data.arrayBuffer().then(tn).then(t):Qa&&(e.data instanceof ArrayBuffer||Za(e.data))?t(tn(e.data)):Xa(e,!1,e=>{rn||(rn=new TextEncoder),t(rn.encode(e))})}(e,r=>{const a=r.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const e=new DataView(n.buffer);e.setUint8(0,126),e.setUint16(1,a)}else{n=new Uint8Array(9);const e=new DataView(n.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(a))}e.data&&"string"!==typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}let mn;function hn(e){return e.reduce((e,t)=>e+t.length,0)}function gn(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)r[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}function pn(e){if(e)return function(e){for(var t in pn.prototype)e[t]=pn.prototype[t];return e}(e)}pn.prototype.on=pn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},pn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},pn.prototype.off=pn.prototype.removeListener=pn.prototype.removeAllListeners=pn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<a.length;n++)if((r=a[n])===t||r.fn===t){a.splice(n,1);break}return 0===a.length&&delete this._callbacks["$"+e],this},pn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){a=0;for(var n=(r=r.slice(0)).length;a<n;++a)r[a].apply(this,t)}return this},pn.prototype.emitReserved=pn.prototype.emit,pn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},pn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const xn="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function fn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}const bn=xn.setTimeout,yn=xn.clearTimeout;function vn(e,t){t.useNativeTimers?(e.setTimeoutFn=bn.bind(xn),e.clearTimeoutFn=yn.bind(xn)):(e.setTimeoutFn=xn.setTimeout.bind(xn),e.clearTimeoutFn=xn.clearTimeout.bind(xn))}function jn(e){return"string"===typeof e?function(e){let t=0,r=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}class wn extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class kn extends pn{constructor(e){super(),this.writable=!1,vn(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new wn(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=on(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}const Nn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_n={};let Sn,An=0,Cn=0;function En(e){let t="";do{t=Nn[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function On(){const e=En(+new Date);return e!==Sn?(An=0,Sn=e):e+"."+En(An++)}for(;Cn<64;Cn++)_n[Nn[Cn]]=Cn;let Pn=!1;try{Pn="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(gx){}const Tn=Pn;function Ln(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Tn))return new XMLHttpRequest}catch(hx){}if(!t)try{return new(xn[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(hx){}}function Mn(){}const In=null!=new Ln({xdomain:!1}).responseType;class Dn extends pn{constructor(e,t){super(),vn(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=fn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const r=this.xhr=new Ln(t);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(hx){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(hx){}try{r.setRequestHeader("Accept","*/*")}catch(hx){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(r)),4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"===typeof r.status?r.status:0)},0))},r.send(this.data)}catch(hx){return void this.setTimeoutFn(()=>{this.onError(hx)},0)}"undefined"!==typeof document&&(this.index=Dn.requestsCount++,Dn.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Mn,e)try{this.xhr.abort()}catch(hx){}"undefined"!==typeof document&&delete Dn.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Dn.requestsCount=0,Dn.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Rn);else if("function"===typeof addEventListener){addEventListener("onpagehide"in xn?"pagehide":"unload",Rn,!1)}function Rn(){for(let e in Dn.requests)Dn.requests.hasOwnProperty(e)&&Dn.requests[e].abort()}const Fn="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Bn=xn.WebSocket||xn.MozWebSocket,Un="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const qn={websocket:class extends kn{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=Un?{}:fn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Un?new Bn(e,t,r):t?new Bn(e,t):new Bn(e)}catch(gx){return this.emitReserved("error",gx)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],a=t===e.length-1;Xa(r,this.supportsBinary,e=>{try{this.ws.send(e)}catch(hx){}a&&Fn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=On()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Bn}},webtransport:class extends kn{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=function(e,t){mn||(mn=new TextDecoder);const r=[];let a=0,n=-1,s=!1;return new TransformStream({transform(i,o){for(r.push(i);;){if(0===a){if(hn(r)<1)break;const e=gn(r,1);s=128===(128&e[0]),n=127&e[0],a=n<126?3:126===n?1:2}else if(1===a){if(hn(r)<2)break;const e=gn(r,2);n=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),a=3}else if(2===a){if(hn(r)<8)break;const e=gn(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(Ya);break}n=s*Math.pow(2,32)+t.getUint32(4),a=3}else{if(hn(r)<n)break;const e=gn(r,n);o.enqueue(on(s?e:mn.decode(e),t)),a=0}if(0===n||n>e){o.enqueue(Ya);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),a=un();a.readable.pipeTo(e.writable),this.writer=a.writable.getWriter();const n=()=>{r.read().then(e=>{let{done:t,value:r}=e;t||(this.onPacket(r),n())}).catch(e=>{})};n();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],a=t===e.length-1;this.writer.write(r).then(()=>{a&&Fn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends kn{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}const t=e&&e.forceBase64;this.supportsBinary=In&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(dn),a=[];for(let n=0;n<r.length;n++){const e=on(r[n],t);if(a.push(e),"error"===e.type)break}return a})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,a=new Array(r);let n=0;e.forEach((e,s)=>{Xa(e,!1,e=>{a[s]=e,++n===r&&t(a.join(dn))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=On()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Dn(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}},zn=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Hn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Vn(e){if(e.length>2e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");-1!=r&&-1!=a&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let n=zn.exec(e||""),s={},i=14;for(;i--;)s[Hn[i]]=n[i]||"";return-1!=r&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||a.splice(0,1);"/"==t.slice(-1)&&a.splice(a.length-1,1);return a}(0,s.path),s.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,a){t&&(r[t]=a)}),r}(0,s.query),s}class Gn extends pn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=Vn(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Vn(t.host).host),vn(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let a=0,n=r.length;a<n;a++){let e=r[a].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new qn[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Gn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(hx){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(e){let t=this.createTransport(e),r=!1;Gn.priorWebsocketSuccess=!1;const a=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Gn.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function n(){r||(r=!0,c(),t.close(),t=null)}const s=e=>{const r=new Error("probe error: "+e);r.transport=t.name,n(),this.emitReserved("upgradeError",r)};function i(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&n()}const c=()=>{t.removeListener("open",a),t.removeListener("error",s),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",a),t.once("error",s),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onOpen(){if(this.readyState="open",Gn.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=jn(r)),t>0&&e>this.maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,a){if("function"===typeof t&&(a=t,t=void 0),"function"===typeof r&&(a=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const n={type:e,data:t,options:r};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Gn.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const a=e.length;for(;r<a;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}Gn.protocol=4;Gn.protocol;const Wn="function"===typeof ArrayBuffer,Kn=Object.prototype.toString,Jn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Kn.call(Blob),Yn="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Kn.call(File);function $n(e){return Wn&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Jn&&e instanceof Blob||Yn&&e instanceof File}function Qn(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(Qn(e[t]))return!0;return!1}if($n(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Qn(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Qn(e[r]))return!0;return!1}function Zn(e){const t=[],r=e.data,a=e;return a.data=Xn(r,t),a.attachments=t.length,{packet:a,buffers:t}}function Xn(e,t){if(!e)return e;if($n(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=Xn(e[a],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=Xn(e[a],t));return r}return e}function es(e,t){return e.data=ts(e.data,t),delete e.attachments,e}function ts(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=ts(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ts(e[r],t));return e}const rs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],as=5;var ns;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ns||(ns={}));class ss{constructor(e){this.replacer=e}encode(e){return e.type!==ns.EVENT&&e.type!==ns.ACK||!Qn(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ns.EVENT?ns.BINARY_EVENT:ns.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ns.BINARY_EVENT&&e.type!==ns.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Zn(e),r=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(r),a}}function is(e){return"[object Object]"===Object.prototype.toString.call(e)}class os extends pn{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===ns.BINARY_EVENT;r||t.type===ns.BINARY_ACK?(t.type=r?ns.EVENT:ns.ACK,this.reconstructor=new ls(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!$n(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===ns[r.type])throw new Error("unknown packet type "+r.type);if(r.type===ns.BINARY_EVENT||r.type===ns.BINARY_ACK){const a=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const n=e.substring(a,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(n)}if("/"===e.charAt(t+1)){const a=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(a,t)}else r.nsp="/";const a=e.charAt(t+1);if(""!==a&&Number(a)==a){const a=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(!os.isPayloadValid(r.type,a))throw new Error("invalid payload");r.data=a}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(hx){return!1}}static isPayloadValid(e,t){switch(e){case ns.CONNECT:return is(t);case ns.DISCONNECT:return void 0===t;case ns.CONNECT_ERROR:return"string"===typeof t||is(t);case ns.EVENT:case ns.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===rs.indexOf(t[0]));case ns.ACK:case ns.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ls{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=es(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function cs(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const ds=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class us extends pn{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[cs(e,"open",this.onopen.bind(this)),cs(e,"packet",this.onpacket.bind(this)),cs(e,"error",this.onerror.bind(this)),cs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(ds.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:ns.EVENT,data:r,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"===typeof r[r.length-1]){const e=this.ids++,t=r.pop();this._registerAckCallback(e,t),n.id=e}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var r,a=this;const n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},n),i=function(){a.io.clearTimeoutFn(s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.apply(a,r)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return new Promise((t,a)=>{const n=(e,r)=>e?a(e):t(r);n.withError=!0,r.push(n),this.emit(e,...r)})}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(a!==t._queue[0])return;if(null!==e)a.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];r(null,...s)}return a.pending=!1,t._drainQueue()}),this._queue.push(a),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ns.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ns.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ns.EVENT:case ns.BINARY_EVENT:this.onevent(e);break;case ns.ACK:case ns.BINARY_ACK:this.onack(e);break;case ns.DISCONNECT:this.ondisconnect();break;case ns.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];t.packet({type:ns.ACK,id:e,data:n})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ns.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function ms(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ms.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},ms.prototype.reset=function(){this.attempts=0},ms.prototype.setMin=function(e){this.ms=e},ms.prototype.setMax=function(e){this.max=e},ms.prototype.setJitter=function(e){this.jitter=e};class hs extends pn{constructor(e,r){var a;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(r=e,e=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,vn(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(a=r.randomizationFactor)&&void 0!==a?a:.5),this.backoff=new ms({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=e;const n=r.parser||t;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Gn(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=cs(t,"open",function(){r.onopen(),e&&e()}),n=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=cs(t,"error",n);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn(()=>{a(),n(new Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(a),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(cs(e,"ping",this.onping.bind(this)),cs(e,"data",this.ondata.bind(this)),cs(e,"error",this.onerror.bind(this)),cs(e,"close",this.onclose.bind(this)),cs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(hx){this.onclose("parse error",hx)}}ondecoded(e){Fn(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new us(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const gs={};function ps(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,a=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),a=Vn(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const n=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+n+":"+a.port+t,a.href=a.protocol+"://"+n+(r&&r.port===a.port?"":":"+a.port),a}(e,(t=t||{}).path||"/socket.io"),a=r.source,n=r.id,s=r.path,i=gs[n]&&s in gs[n].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new hs(a,t):(gs[n]||(gs[n]=new hs(a,t)),o=gs[n]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(ps,{Manager:hs,Socket:us,io:ps,connect:ps});const xs=(0,n.createContext)(),fs=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)({}),h=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("currentUser")||"{}");return e.id&&g(e),()=>{h.current&&h.current.disconnect()}},[]);const g=e=>{console.log("\ud83d\udd0c WebSocket connection disabled - no real-time server available"),i(!1)};(0,n.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]);const p={socket:r,isConnected:s,onlineUsers:o,notifications:c,liveAuctions:u,joinRoom:(e,t)=>{r&&s&&r.emit("join_room",{room_type:e,room_id:t})},leaveRoom:(e,t)=>{r&&s&&r.emit("leave_room",{room_type:e,room_id:t})},sendMessage:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";r&&s&&r.emit("send_message",{recipient_id:e,message:t,type:a})},placeBid:(e,t)=>{r&&s&&r.emit("place_bid",{listing_id:e,bid_amount:t})},watchListing:e=>{r&&s&&r.emit("watch_listing",{listing_id:e})},unwatchListing:e=>{r&&s&&r.emit("unwatch_listing",{listing_id:e})},clearNotifications:()=>{d([])},markNotificationAsRead:e=>{d(t=>t.map(t=>t.id===e?(0,Re.A)((0,Re.A)({},t),{},{read:!0}):t))}};return(0,ga.jsx)(xs.Provider,{value:p,children:t})};function bs(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}var ys={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vs=["color","size","strokeWidth","absoluteStrokeWidth","children"],js=(e,t)=>{const r=(0,n.forwardRef)((r,a)=>{let{color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=r,d=function(e,t){if(null==e)return{};var r,a,n=bs(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(r,vs);return(0,n.createElement)("svg",(0,Re.A)((0,Re.A)({ref:a},ys),{},{width:i,height:i,stroke:s,strokeWidth:l?24*Number(o)/Number(i):o,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...(Array.isArray(c)?c:[c])||[]]);var u});return r.displayName="".concat(e),r},ws=js("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),ks=js("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ns=js("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),_s=js("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ss=js("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),As=js("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Cs=js("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Es=js("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Os=js("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ps=js("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ts=js("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Ls=js("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Ms=js("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Is=js("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ds=js("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Rs=js("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Fs=js("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Bs=js("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Us=js("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),qs=js("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),zs=js("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Hs=js("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Vs=js("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Gs=js("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ws=js("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ks=js("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Js=js("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ys=js("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$s=js("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Qs=js("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Zs=js("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xs=js("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ei=js("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ti=js("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ri=js("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),ai=js("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),ni=js("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),si=js("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ii=js("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),oi=js("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),li=js("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),ci=js("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),di=js("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),ui=js("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),mi=js("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),hi=js("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),gi=js("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),pi=js("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),xi=js("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),fi=js("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),bi=js("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),yi=js("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),vi=js("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ji=js("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),wi=js("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),ki=js("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Ni=js("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),_i=js("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Si=js("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Ai=js("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Ci=js("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ei=js("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Oi=js("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Pi=js("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Ti=js("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Li=js("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Mi=js("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ii=js("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Di=js("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Ri=js("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),Fi=js("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Bi=js("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),Ui=js("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),qi=js("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),zi=js("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Hi=js("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Vi=js("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Gi=js("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Wi=js("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ki=js("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ji=js("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Yi=js("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),$i=js("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Qi=js("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Zi=js("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Xi=js("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eo=()=>{const{user:e}=_a(),t=e?e.user_role||e.role||"user":null,r="Admin-Manager"===t?"Manager":(null===e||void 0===e?void 0:e.badge)||("admin"===(null===e||void 0===e?void 0:e.role)?"Admin":"Buyer"),a={adminPanel:{canAccess:"Admin"===t||"Admin-Manager"===t,canAccessUserManagement:"Admin"===t||"Admin-Manager"===t,canAccessListingsManagement:"Admin"===t||"Admin-Manager"===t,canAccessDatDatabase:"Admin"===t||"Admin-Manager"===t,canAccessAdsManager:"Admin"===t,canAccessSystemNotifications:"Admin"===t,canDeleteDatabase:"Admin"===t,canUploadExcel:"Admin"===t},browse:{canAccess:!0,canViewMarketRange:!0,canViewSellerInfo:!0,canViewLocation:!0,canViewTimeLeft:!0,canViewBidInfo:!0,canPlaceBid:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t,canSeeBiddingControls:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t},tenders:{canAccess:!0,canSubmitTender:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t,canManageTenders:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,canViewMyTenders:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t,canViewTenderManagement:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t},selling:{canCreateListing:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,canManageListings:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,canAccessSellingFunctions:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t},user:{canAccessProfile:!0,canAccessMessages:!0,canAccessNotifications:!0,canAccessFavorites:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t},ui:{showAdminPanelLink:"Admin"===t||"Admin-Manager"===t,showTenderManagementLink:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,showMyTendersLink:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t,showCreateListingLink:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,showSellingFeatures:"User-Seller"===t||"Admin"===t||"Admin-Manager"===t,showBuyingFeatures:"User-Buyer"===t||"Admin"===t||"Admin-Manager"===t}},n=()=>"Admin"===t,s=()=>"Admin-Manager"===t,i=()=>"User-Seller"===t,o=()=>"User-Buyer"===t,l=()=>"Admin"===t||"Admin-Manager"===t;return{permissions:a,userRole:t,badge:r,isAdmin:n,isAdminManager:s,isSeller:i,isBuyer:o,isAdminLevel:l,hasPermission:(e,t)=>{var r;return(null===(r=a[e])||void 0===r?void 0:r[t])||!1},canAccess:e=>{switch(e){case"admin":return a.adminPanel.canAccess;case"browse-bidding":return a.browse.canPlaceBid;case"tenders":return a.tenders.canAccess;case"selling":return a.selling.canAccessSellingFunctions;case"favorites":return a.user.canAccessFavorites;default:return!1}},getUserDisplay:()=>({role:t,badge:r,name:(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||"User",email:(null===e||void 0===e?void 0:e.email)||"",isAdmin:n(),isAdminManager:s(),isSeller:i(),isBuyer:o(),isAdminLevel:l()})}},to=eo;function ro(){const{user:e}=_a(),[t,r]=(0,n.useState)({desktop_menu:{},mobile_menu:{},user_role:"buyer"}),[a,s]=(0,n.useState)(!0);(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id?i(e.id):s(!1)},[e]);const i=async t=>{try{s(!0);const a=await fetch("".concat("https://cataloro.com","/api/menu-settings/user/").concat(t));if(a.ok){const e=await a.json();r(e)}else r({desktop_menu:{},mobile_menu:{},user_role:(null===e||void 0===e?void 0:e.role)||"buyer"})}catch(a){console.error("Error fetching menu settings:",a),r({desktop_menu:{},mobile_menu:{},user_role:(null===e||void 0===e?void 0:e.role)||"buyer"})}finally{s(!1)}},o=(r,n)=>{if(a)return!1;const s=t[r];if(!s){const t=["browse"];return e?["browse","buy","sell"].includes(n):t.includes(n)}const i=s[n];if(!i){return["buy","sell"].includes(n)}return!0===i.enabled};return{menuSettings:t,loading:a,isMenuItemVisible:o,getVisibleMenuItems:(e,t)=>a?[]:t.filter(t=>{var r;const a=t.key||t.id||(null===(r=t.path)||void 0===r?void 0:r.replace("/",""));return o(e,a)}),getCustomMenuItems:e=>{var r;if(a)return[];return((null===(r=t[e])||void 0===r?void 0:r.custom_items)||[]).filter(e=>!1!==e.enabled).sort((e,t)=>(e.position||0)-(t.position||0))},refreshSettings:()=>(null===e||void 0===e?void 0:e.id)&&i(e.id)}}const ao=function(e){var t,r;let{darkMode:a,toggleDarkMode:s,isMobileMenuOpen:i,setIsMobileMenuOpen:o}=e;const{user:l,logout:c}=_a(),{favoriteCount:d}=Wa(),{showToast:u}=Fa(),{permissions:m,isAdmin:h,isSeller:g,isBuyer:p,isAdminLevel:x,getUserDisplay:f}=to(),{isMenuItemVisible:b}=ro(),[y,v]=(0,n.useState)(!1),[j,w]=(0,n.useState)(!1),[k,N]=(0,n.useState)(!1),[_,S]=(0,n.useState)([]),[A,C]=(0,n.useState)(0),[E,O]=(0,n.useState)(0),[P,T]=(0,n.useState)(new Set),[L,M]=(0,n.useState)({}),[I,D]=(0,n.useState)(!0),[R,F]=(0,n.useState)("all"),[B,U]=(0,n.useState)(Date.now()),q=re(),z=ee(),H=(0,n.useRef)(null),V=(0,n.useRef)(null),G=async function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&t.stopPropagation();try{const t=_.find(t=>t.id===e),n=document.querySelector('[data-notification-id="'.concat(e,'"]'));n?(n.classList.add("notification-removing"),setTimeout(()=>{S(_.filter(t=>t.id!==e)),t&&!t.is_read&&C(e=>Math.max(0,e-1))},300)):(S(_.filter(t=>t.id!==e)),t&&!t.is_read&&C(e=>Math.max(0,e-1)));try{const t=await fetch("".concat("https://cataloro.com","/api/user/").concat(null===l||void 0===l?void 0:l.id,"/notifications/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});t.ok||console.warn("Failed to delete notification from backend:",t.statusText)}catch(a){console.error("API error deleting notification:",a)}r&&console.log("Notification removed")}catch(n){console.error("Failed to delete notification:",n)}},W=()=>{let e=_;switch(R){case"unread":e=_.filter(e=>!e.is_read);break;case"read":e=_.filter(e=>e.is_read);break;default:e=_}return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))},K=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==l&&void 0!==l&&l.id)try{const t=await Ua.getUserNotifications(l.id),r=await Ua.getUserMessages(l.id),a=Array.isArray(t)?t:[],n=Array.isArray(r)?r:[];if(e&&_.length>0){const e=a.filter(e=>new Date(e.created_at)>new Date(B)&&!e.is_read);e.length>0&&((()=>{if(I)try{const e=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmIdBz6S3fPNeSsFJICO89iMOQkXZL7n6KdUFAg+ltryxnkpBSl+zfDZjjkKGGG+6OSlSxELStPx07dORgk2jNnuw3MoByJ9yvDQjj0KFmSx5eeScxELTanxx4A=");e.volume=.3,e.play().catch(console.error)}catch(e){console.error("Could not play notification sound:",e)}})(),"Notification"in window&&"granted"===Notification.permission&&new Notification("".concat(e.length," new notification").concat(e.length>1?"s":""),{body:e[0].title,icon:"/favicon.ico",tag:"cataloro-notification"}))}S(a),C(a.filter(e=>!e.is_read).length),O(n.filter(e=>!e.is_read&&e.sender_id!==l.id).length),U(Date.now())}catch(r){var t;if(console.error("Failed to load notifications:",r),null!==(t=r.message)&&void 0!==t&&t.includes("429")||429===r.status)return void console.warn("\u26a0\ufe0f Rate limit detected - backing off notifications polling");S([]),C(0),O(0)}},J=async e=>{try{await Ua.markNotificationRead(l.id,e),S(_.map(t=>t.id===e?(0,Re.A)((0,Re.A)({},t),{},{is_read:!0}):t)),C(e=>Math.max(0,e-1))}catch(t){console.error("Failed to mark notification as read:",t)}};(0,n.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("cataloro_site_branding");if(e)try{const t=JSON.parse(e);console.log("Header loading branding data:",t),M(t)}catch(t){console.error("Error parsing branding data:",t)}else console.log("No branding data found in localStorage")};if(e(),null!==l&&void 0!==l&&l.id){K();const e=setInterval(()=>{K(!0)},3e5),t=e=>{var t,r;console.log("\ud83d\udce7 ModernHeader received messagesMarkedAsRead event with detail:",e.detail);const a=(null===(t=e.detail)||void 0===t?void 0:t.messageIds)||[],n=(null===(r=e.detail)||void 0===r?void 0:r.count)||0;console.log("\ud83d\udd22 Reducing unread message count by ".concat(n," (current: ").concat(E,")")),T(e=>{const t=new Set(e);return a.forEach(e=>t.add(e)),console.log("\ud83d\udcdd Updated session read message IDs:",Array.from(t)),t}),O(e=>{const t=Math.max(0,e-n);return console.log("\ud83d\udcca Updated unread messages count: ".concat(e," \u2192 ").concat(t)),t}),console.log("\ud83d\udd04 Triggering loadNotifications to sync with server"),K(!0)},r=()=>{console.log("\ud83d\udd04 Messages session reset - restoring original unread counts"),T(new Set),K(!0)};return window.addEventListener("messagesMarkedAsRead",t),window.addEventListener("messagesSessionReset",r),()=>{clearInterval(e),window.removeEventListener("messagesMarkedAsRead",t),window.removeEventListener("messagesSessionReset",r)}}const t=t=>{"cataloro_site_branding"===t.key&&e()},r=()=>{e()};return window.addEventListener("storage",t),window.addEventListener("brandingUpdated",r),()=>{window.removeEventListener("storage",t),window.removeEventListener("brandingUpdated",r)}},[null===l||void 0===l?void 0:l.id]),(0,n.useEffect)(()=>{const e=localStorage.getItem("cataloro_notification_sound");D("false"!==e)},[]),(0,n.useEffect)(()=>{const e=e=>{H.current&&!H.current.contains(e.target)&&v(!1),V.current&&!V.current.contains(e.target)&&w(!1),k&&!e.target.closest(".tenders-dropdown")&&N(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[y,j,k]);const Y={Store:ws,Plus:ks,MessageCircle:Ns,DollarSign:_s,ShoppingCart:Ss,Heart:As,Bell:Cs,User:Es,Settings:Os,LogOut:Ps,Package:Ts,Shield:Ls,Menu:Ms,X:Is,Sun:Ds,Moon:Rs,Globe:Fs,BarChart3:Bs,TrendingUp:Us,HelpCircle:qs,Mail:zs,FileText:Hs,Home:Vs,Star:Gs,Camera:Ws,Calendar:Ks,Clock:Js,Download:Ys,Upload:$s,Edit:Qs,Trash2:Zs,Eye:Xs,EyeOff:ei,Lock:ti,Unlock:ri,Key:ai,Users:ni,UserPlus:si,Phone:ii,Smartphone:oi,Monitor:li,Tablet:ci,Laptop:di,Zap:ui,Activity:mi,Award:hi,Target:gi,Compass:pi,Map:xi,Navigation:fi,Bookmark:bi,Tag:yi,Filter:vi,SortAsc:ji,List:wi,Grid:ki,Layers:Ni,Archive:_i,Folder:Si,File:Ai,Image:Ci,Video:Ei,Music:Oi,Headphones:Pi,Mic:Ti,Volume2:Li,Play:Mi,Pause:Ii,Square:Di,SkipBack:Ri,SkipForward:Fi,Repeat:Bi,Shuffle:Ui,Share:qi,ExternalLink:zi,LinkIcon:Hi,Copy:Vi,Check:Gi,AlertTriangle:Wi,AlertCircle:Ki,Info:Ji,CheckCircle:Yi},$=[{label:"About",path:"/info",icon:Fs,key:"about"},{label:"Browse",path:"/browse",icon:ws,key:"browse"},{label:"Buy",path:"/buy",icon:Ss,key:"buy"},{label:"Sell",path:"/sell",icon:Ts,key:"sell"},{label:"Notifications",path:"/notifications",icon:Cs,key:"notifications"}].filter(e=>b("desktop_menu",e.key)),{getCustomMenuItems:Q}=ro(),Z=Q("desktop_menu");return(0,ga.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-white/20 shadow-lg shadow-black/5",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-pink-600/5"}),(0,ga.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,ga.jsxs)(Le,{to:"/browse",className:"flex items-center space-x-3 group header-logo",children:[L.logo_light_url||L.logo_dark_url||L.logo_url?(0,ga.jsx)("div",{className:"relative",children:(0,ga.jsx)("img",{src:a?L.logo_dark_url||L.logo_url:L.logo_light_url||L.logo_url,alt:L.site_name||"Cataloro",className:"h-12 max-w-[200px] object-contain group-hover:opacity-90 transition-opacity duration-300",onError:e=>{e.target.style.display="none",e.target.parentElement.nextSibling.style.display="flex"}})}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 25px rgba(103, 126, 234, 0.4)"},children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ga.jsx)(ws,{className:"w-7 h-7 text-white relative z-10"})]}),(0,ga.jsx)("div",{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",filter:"blur(8px)",opacity:"0.3",transform:"scale(1.1)"}})]}),(0,ga.jsxs)("div",{className:"hidden sm:block",children:[(0,ga.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-white/90 transition-colors header-title",style:{background:"linear-gradient(135deg, #1f2937 0%, #374151 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:L.site_name||"Cataloro"}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide",children:L.site_description||"ULTRA-MODERN MARKETPLACE"})]})]}),(0,ga.jsxs)("div",{className:"items-center space-x-3",style:{display:"none"},children:[(0,ga.jsx)("div",{className:"relative",children:(0,ga.jsxs)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 25px rgba(103, 126, 234, 0.4)"},children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ga.jsx)(ws,{className:"w-7 h-7 text-white relative z-10"})]})}),(0,ga.jsxs)("div",{className:"hidden sm:block",children:[(0,ga.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.site_name||"Cataloro"}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide",children:L.site_description||"ULTRA-MODERN MARKETPLACE"})]})]})]}),(0,ga.jsxs)("nav",{className:"hidden lg:flex space-x-2",children:[Z.map(e=>{const t=z.pathname===e.url,r=e.url.startsWith("http"),n=Y[e.icon]||Gs;return r?(0,ga.jsxs)("a",{href:e.url,target:e.target||"_self",rel:"_blank"===e.target?"noopener noreferrer":void 0,className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10",children:[(0,ga.jsx)(n,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"font-medium",children:e.label}),"_blank"===e.target&&(0,ga.jsx)("span",{className:"text-xs opacity-60",children:"\u2197"})]},e.id):(0,ga.jsxs)(Le,{to:e.url,className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ".concat(t?"bg-gray-300/30 dark:bg-gray-500/30 text-gray-800 dark:text-white shadow-lg backdrop-blur-md border border-gray-300 dark:border-gray-500/30":"text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10"),style:t?a?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.1)"}:{background:"linear-gradient(135deg, rgba(156, 163, 175, 0.25) 0%, rgba(156, 163, 175, 0.15) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(156, 163, 175, 0.2)"}:{},children:[(0,ga.jsx)(n,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"font-medium",children:e.label})]},e.id)}),$.map(e=>{const t=e.icon,r=z.pathname===e.path;return(0,ga.jsxs)(Le,{to:e.path,className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ".concat(r?"bg-gray-300/30 dark:bg-gray-500/30 text-gray-800 dark:text-white shadow-lg backdrop-blur-md border border-gray-300 dark:border-gray-500/30":"text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10"),style:r?a?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.1)"}:{background:"linear-gradient(135deg, rgba(156, 163, 175, 0.25) 0%, rgba(156, 163, 175, 0.15) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(156, 163, 175, 0.2)"}:{},children:[(0,ga.jsx)(t,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"font-medium",children:e.label})]},e.path)}),b("desktop_menu","admin_panel")&&(0,ga.jsxs)(Le,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm shadow-lg backdrop-blur-md ".concat(x()?"text-gray-900 dark:text-gray-900":"text-gray-700 dark:text-white/80"),style:{background:"/admin"===z.pathname?h()?"linear-gradient(135deg, rgba(255, 193, 7, 0.9) 0%, rgba(255, 152, 0, 0.8) 100%)":"linear-gradient(135deg, rgba(147, 51, 234, 0.8) 0%, rgba(79, 70, 229, 0.7) 100%)":h()?"linear-gradient(135deg, rgba(255, 193, 7, 0.7) 0%, rgba(255, 152, 0, 0.6) 100%)":"linear-gradient(135deg, rgba(147, 51, 234, 0.6) 0%, rgba(79, 70, 229, 0.5) 100%)",backdropFilter:"blur(20px)",boxShadow:h()?"0 4px 15px rgba(255, 193, 7, 0.3)":"0 4px 15px rgba(147, 51, 234, 0.3)",border:h()?"1px solid rgba(255, 193, 7, 0.4)":"1px solid rgba(147, 51, 234, 0.4)"},children:[(0,ga.jsx)(Ls,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"font-medium",children:h()?"Admin":"Manager"})]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsxs)("div",{className:"hidden lg:flex items-center space-x-2",children:[b("desktop_menu","messages")&&(0,ga.jsxs)(Le,{to:"/messages",className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200",children:[(0,ga.jsx)(Ns,{className:"w-6 h-6"}),E>0&&(0,ga.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:E})]}),b("desktop_menu","favorites")&&(0,ga.jsxs)(Le,{to:"/favorites",className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200",children:[(0,ga.jsx)(As,{className:"w-6 h-6"}),d>0&&(0,ga.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:d})]}),b("desktop_menu","create_listing")&&(0,ga.jsx)(Le,{to:"/create-listing",className:"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group",style:{background:a?"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)":"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%)",backdropFilter:"blur(20px)",borderRadius:"16px",border:a?"1px solid rgba(34, 197, 94, 0.2)":"1px solid rgba(34, 197, 94, 0.15)"},title:"Create New Listing",children:(0,ga.jsx)(ks,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]}),(0,ga.jsxs)("div",{className:"relative",ref:V,children:[(0,ga.jsxs)("button",{onClick:()=>w(!j),className:"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group",style:{background:a?"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)":"linear-gradient(135deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0.04) 100%)",backdropFilter:"blur(20px)",borderRadius:"16px",border:a?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,ga.jsx)(Cs,{className:"w-5 h-5"}),A>0&&(0,ga.jsx)("span",{className:"absolute -top-2 -right-2 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold text-[10px]",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",boxShadow:"0 4px 15px rgba(250, 112, 154, 0.4)"},children:A})]}),j&&(0,ga.jsxs)("div",{className:"absolute right-0 mt-3 w-80 max-w-[90vw] rounded-2xl shadow-2xl py-3 z-50 notifications-dropdown-enhanced animate-in",style:{background:a?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(25px)",border:a?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)",animation:"slideDown 0.3s ease-out"},children:[(0,ga.jsxs)("div",{className:"px-4 py-3 border-b border-white/10",children:[(0,ga.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,ga.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white text-base flex items-center",children:[(0,ga.jsx)(Cs,{className:"w-4 h-4 mr-2"}),"Notifications",A>0&&(0,ga.jsx)("span",{className:"ml-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:A})]})}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,ga.jsxs)("select",{value:R,onChange:e=>F(e.target.value),className:"text-xs bg-transparent border border-white/20 rounded-md px-1.5 py-1 text-gray-600 dark:text-white/80 focus:outline-none focus:ring-1 focus:ring-blue-500 min-w-0 w-16",children:[(0,ga.jsx)("option",{value:"all",children:"All"}),(0,ga.jsx)("option",{value:"unread",children:"New"}),(0,ga.jsx)("option",{value:"read",children:"Read"})]}),(0,ga.jsx)("button",{onClick:()=>{const e=!I;D(e),localStorage.setItem("cataloro_notification_sound",e.toString())},className:"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors",title:I?"Disable sound":"Enable sound",children:I?(0,ga.jsx)(Li,{className:"w-3.5 h-3.5"}):(0,ga.jsx)($i,{className:"w-3.5 h-3.5"})}),(0,ga.jsx)("button",{onClick:()=>K(),className:"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors",title:"Refresh",children:(0,ga.jsx)(Qi,{className:"w-3.5 h-3.5"})})]}),(0,ga.jsx)("div",{className:"flex items-center",children:A>0&&(0,ga.jsx)("button",{onClick:async()=>{try{const e=_.filter(e=>!e.is_read).map(e=>e.id);await Promise.all(e.map(e=>Ua.markNotificationRead(l.id,e))),S(_.map(e=>(0,Re.A)((0,Re.A)({},e),{},{is_read:!0}))),C(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}},className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium transition-colors",children:"Mark all read"})})]})]}),(0,ga.jsx)("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:0===W().length?(0,ga.jsxs)("div",{className:"px-4 py-6 text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ga.jsx)(Cs,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"all"===R?"No notifications yet":"unread"===R?"No unread notifications":"No read notifications"}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"We'll notify you when something important happens"})]}):W().map((e,t)=>(0,ga.jsx)("div",{"data-notification-id":e.id,onClick:()=>(async e=>{try{switch(await J(e.id),w(!1),e.type){case"tender_accepted":case"order_completed":case"transaction_completed":case"transaction_marked_completed":q("/buy?tab=bought-items");break;case"tender_offer":case"new_tender_offer":q("/sell?tab=tenders"),e.listing_id&&setTimeout(()=>{const t=new URLSearchParams(window.location.search);t.set("listing",e.listing_id),q("/sell?tab=tenders&"+t.toString(),{replace:!0})},100);break;case"tender_rejected":q("/buy?tab=tenders");break;case"transaction_fully_completed":case"order_fully_completed":q("/buy?tab=completed");break;case"order_shipped":case"listing_sold":q("/my-listings"),setTimeout(()=>{const e=new URLSearchParams;e.set("filter","closed"),q("/my-listings?"+e.toString(),{replace:!0})},100);break;case"message":case"new_message":e.message_id?q("/messages?id=".concat(e.message_id)):q("/messages");break;case"buy_request":case"purchase_request":q("/my-listings"),setTimeout(()=>{const e=new URLSearchParams;e.set("filter","active"),q("/my-listings?"+e.toString(),{replace:!0})},100);break;case"buy_approved":case"purchase_approved":q("/deals");break;case"buy_rejected":case"purchase_rejected":q("/browse");break;case"favorite":case"wishlist_update":q("/favorites");break;case"listing_approved":case"listing_updated":q("/my-listings");break;case"profile_update":case"account_update":q("/profile");break;case"new_user_registration":case"user_registration":"admin"===(null===l||void 0===l?void 0:l.role)||null!==l&&void 0!==l&&l.is_admin?q("/admin?tab=users"):q("/notifications");break;default:q("/notifications")}u("Navigating to ".concat(e.title),"info")}catch(t){console.error("Error handling notification click:",t),u("Error navigating from notification","error")}})(e),className:"group px-4 py-3 hover:bg-white/5 dark:hover:bg-white/5 cursor-pointer border-l-3 transition-all duration-300 ".concat(e.is_read?"":"bg-blue-50/30 dark:bg-blue-900/30"," ").concat(0===t?"animate-in":""),style:{borderColor:"message"===e.type?"#667eea":"favorite"===e.type?"#f093fb":"payment"===e.type?"#43e97b":"buy_request"===e.type?"#fbbf24":"buy_approved"===e.type?"#10b981":"buy_rejected"===e.type?"#ef4444":"tender_accepted"===e.type?"#10b981":"tender_offer"===e.type?"#f59e0b":"tender_rejected"===e.type?"#ef4444":"new_tender_offer"===e.type?"#f59e0b":"order_completed"===e.type?"#10b981":"#9ca3af",animationDelay:"".concat(.1*t,"s")},children:(0,ga.jsxs)("div",{className:"flex items-start space-x-2.5",children:[(0,ga.jsx)("div",{className:"p-1.5 rounded-full flex-shrink-0 ".concat("message"===e.type?"bg-blue-100 text-blue-600":"favorite"===e.type?"bg-pink-100 text-pink-600":"payment"===e.type?"bg-green-100 text-green-600":"buy_request"===e.type?"bg-yellow-100 text-yellow-600":"buy_approved"===e.type?"bg-green-100 text-green-600":"buy_rejected"===e.type?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"),children:"message"===e.type?(0,ga.jsx)(Ns,{className:"w-3.5 h-3.5"}):"favorite"===e.type?(0,ga.jsx)(As,{className:"w-3.5 h-3.5"}):"payment"===e.type?(0,ga.jsx)(_s,{className:"w-3.5 h-3.5"}):"buy_request"===e.type?(0,ga.jsx)(Ts,{className:"w-3.5 h-3.5"}):"buy_approved"===e.type?(0,ga.jsx)(Gi,{className:"w-3.5 h-3.5"}):"buy_rejected"===e.type?(0,ga.jsx)(Is,{className:"w-3.5 h-3.5"}):(0,ga.jsx)(Cs,{className:"w-3.5 h-3.5"})}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0 overflow-hidden",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ga.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,ga.jsx)("p",{className:"text-sm font-semibold truncate ".concat(e.is_read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:e.title}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 mt-0.5 line-clamp-2 leading-tight",children:e.message})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[!e.is_read&&(0,ga.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),(0,ga.jsx)("button",{onClick:t=>G(e.id,t),className:"opacity-0 group-hover:opacity-100 p-0.5 text-gray-400 hover:text-red-600 transition-all duration-200",title:"Delete",children:(0,ga.jsx)(Zs,{className:"w-3 h-3"})})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Js,{className:"w-3 h-3 mr-1"}),(0,ga.jsxs)("span",{className:"truncate",children:[new Date(e.created_at).toLocaleDateString()," ",new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[!e.is_read&&(0,ga.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{await J(e),setTimeout(()=>{G(e,null,!1)},1e3)}catch(r){console.error("Failed to mark notification as read:",r)}})(e.id,t),className:"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200",title:"Mark read",children:(0,ga.jsx)(Zi,{className:"w-3 h-3"})}),"buy_request"===e.type&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{w(!1),q("/pending-sales"),setTimeout(()=>{G(e,null,!1)},500)}catch(r){console.error("Failed to handle accept request:",r)}})(e.id,t),className:"p-1 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-900/70 transition-all duration-200",title:"Accept",children:(0,ga.jsx)(Gi,{className:"w-3 h-3"})}),(0,ga.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{console.log("Request declined"),G(e,null,!1)}catch(r){console.error("Failed to handle decline request:",r)}})(e.id,t),className:"p-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/70 transition-all duration-200",title:"Decline",children:(0,ga.jsx)(Is,{className:"w-3 h-3"})})]}),"message"===e.type&&(0,ga.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{w(!1),q("/messages"),setTimeout(()=>{G(e,null,!1)},500)}catch(r){console.error("Failed to handle reply to message:",r)}})(e.id,t),className:"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200",title:"Reply",children:(0,ga.jsx)(Ns,{className:"w-3 h-3"})})]})]})]})]})},e.id))}),(0,ga.jsx)("div",{className:"px-4 py-2 border-t border-white/10",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)(Le,{to:"/notifications",className:"text-xs text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white font-medium flex items-center transition-colors",onClick:()=>w(!1),children:["View all notifications",(0,ga.jsx)(Us,{className:"w-3 h-3 ml-1"})]}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[W().length," total"]})]})})]})]}),(0,ga.jsx)("button",{onClick:s,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200",children:a?(0,ga.jsx)(Ds,{className:"w-6 h-6"}):(0,ga.jsx)(Rs,{className:"w-6 h-6"})}),(0,ga.jsxs)("div",{className:"relative",ref:H,children:[(0,ga.jsxs)("button",{onClick:()=>v(!y),className:"flex items-center space-x-3 p-2 rounded-2xl transition-all duration-300 group",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,ga.jsxs)("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 6px 20px rgba(103, 126, 234, 0.4)"},children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ga.jsx)("span",{className:"text-white font-bold text-sm relative z-10",children:(null===l||void 0===l||null===(t=l.full_name)||void 0===t?void 0:t.charAt(0))||(null===l||void 0===l||null===(r=l.username)||void 0===r?void 0:r.charAt(0))||"U"})]}),(0,ga.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,ga.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===l||void 0===l?void 0:l.username)||(null===l||void 0===l?void 0:l.full_name)||"User"}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium uppercase tracking-wide",children:null===l||void 0===l?void 0:l.role})]}),(0,ga.jsx)(Xi,{className:"w-4 h-4 text-gray-700 dark:text-white/80 transition-transform duration-300 ".concat(y?"rotate-180":"")})]}),y&&(0,ga.jsxs)("div",{className:"absolute right-0 mt-3 w-72 rounded-2xl shadow-2xl py-2 z-50 profile-dropdown-enhanced",style:{background:a?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(25px)",border:a?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)"},children:[(0,ga.jsx)("div",{className:"px-6 py-4 border-b border-white/10",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-base font-bold text-gray-900 dark:text-white",children:(null===l||void 0===l?void 0:l.username)||(null===l||void 0===l?void 0:l.full_name)}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-white/70",children:null===l||void 0===l?void 0:l.email})]}),(0,ga.jsx)("div",{className:"flex flex-col items-end",children:(0,ga.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full ".concat("Admin"===f().badge?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"Manager"===f().badge?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"Seller"===f().badge?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:f().badge})})]})}),(0,ga.jsxs)("div",{className:"py-2",children:[(0,ga.jsxs)(Le,{to:"/profile",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>v(!1),children:[(0,ga.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.1))"},children:(0,ga.jsx)(Es,{className:"w-4 h-4"})}),(0,ga.jsx)("span",{className:"font-medium",children:"Profile Settings"})]}),m.selling.canManageListings&&(0,ga.jsxs)(Le,{to:"/my-listings",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>v(!1),children:[(0,ga.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(245, 87, 108, 0.1))"},children:(0,ga.jsx)(Ts,{className:"w-4 h-4"})}),(0,ga.jsx)("span",{className:"font-medium",children:"My Listings"})]}),(0,ga.jsxs)(Le,{to:"/profile/".concat(null===l||void 0===l?void 0:l.id),className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>v(!1),children:[(0,ga.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 197, 253, 0.1))"},children:(0,ga.jsx)(Fs,{className:"w-4 h-4"})}),(0,ga.jsx)("span",{className:"font-medium",children:"View Public Profile"})]}),m.ui.showAdminPanelLink&&b("desktop_menu","admin_panel")&&(0,ga.jsxs)(Le,{to:"/admin",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>v(!1),children:[(0,ga.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:h()?"linear-gradient(135deg, rgba(250, 112, 154, 0.2), rgba(254, 225, 64, 0.1))":"linear-gradient(135deg, rgba(147, 51, 234, 0.2), rgba(79, 70, 229, 0.1))"},children:(0,ga.jsx)(Ls,{className:"w-4 h-4"})}),(0,ga.jsx)("span",{className:"font-medium",children:h()?"Admin Panel":"Manager Panel"})]})]}),(0,ga.jsx)("div",{className:"border-t border-white/10 pt-2",children:(0,ga.jsxs)("button",{onClick:()=>{c(),q("/login"),u("Logged out successfully","success")},className:"flex items-center w-full px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-red-600 dark:hover:text-red-300 hover:bg-red-500/10 dark:hover:bg-red-500/10 transition-all duration-300 group",children:[(0,ga.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-red-500/20 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1))"},children:(0,ga.jsx)(Ps,{className:"w-4 h-4"})}),(0,ga.jsx)("span",{className:"font-medium",children:"Sign Out"})]})})]})]}),(0,ga.jsx)("button",{onClick:()=>o(!i),className:"lg:hidden p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200",children:i?(0,ga.jsx)(Is,{className:"w-6 h-6"}):(0,ga.jsx)(Ms,{className:"w-6 h-6"})})]})]})})]})};const no=function(e){var t,r;let{isOpen:a,onClose:s}=e;const[i,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(0),d=ee(),u=re(),{logout:m}=_a(),{isMenuItemVisible:h}=ro(),g=async()=>{try{await m(),s(),u("/login")}catch(e){console.error("Logout error:",e),localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),s(),u("/login")}};(0,n.useEffect)(()=>{const e=localStorage.getItem("cataloro_user");if(e)try{const t=JSON.parse(e);o(t);const r=async()=>{try{const e=(await Ua.getUserNotifications(t.id)).filter(e=>!e.is_read).length;c(e)}catch(e){console.error("Error loading notifications:",e),c(0)}};r()}catch(t){console.error("Error parsing user data:",t)}},[]),null===i||void 0===i||i.role;const p=[{title:"Marketplace",items:[{label:"About Platform",path:"/info",icon:Fs,key:"about"},{label:"Browse All",path:"/browse",icon:ws,key:"browse"}]},{title:"My Account",items:[{label:"Buy",path:"/buy",icon:Ss,key:"buy"},{label:"Sell",path:"/sell",icon:Ts,key:"sell"},{label:"Messages",path:"/messages",icon:Ns,key:"messages"},{label:"Favorites",path:"/favorites",icon:As,key:"favorites"}]},{title:"Settings",items:[{label:"Profile",path:"/profile",icon:Es,key:"profile"},{label:"View Public Profile",path:"/profile/".concat((null===i||void 0===i?void 0:i.username)||(null===i||void 0===i?void 0:i.id)),icon:Fs,key:"view_public_profile"},{label:"Notifications",path:"/notifications",icon:Cs,key:"notifications"},{label:"Logout",action:"logout",icon:Ps,isButton:!0,key:"logout"}]}].map(e=>(0,Re.A)((0,Re.A)({},e),{},{items:e.items.filter(e=>!!e.isButton||("notifications"===e.key||(!e.key||h("mobile_menu",e.key))))})).filter(e=>e.items.length>0);return(0,ga.jsxs)(ga.Fragment,{children:[a&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:s}),(0,ga.jsxs)("div",{className:"fixed top-0 left-0 h-full w-64 max-w-[70vw] bg-white dark:bg-gray-900 shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ".concat(a?"translate-x-0":"-translate-x-full"," lg:hidden"),children:[(0,ga.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-purple-600",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white font-bold text-sm",children:"C"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"text-sm font-bold text-white",children:"Cataloro"}),(0,ga.jsx)("p",{className:"text-xs text-white/80",children:"Marketplace"})]})]}),(0,ga.jsx)("button",{onClick:s,className:"p-1 text-white/80 hover:text-white hover:bg-white/20 rounded-md transition-colors",children:(0,ga.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ga.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i&&(0,ga.jsxs)("div",{className:"mt-2 flex items-center space-x-2 p-2 bg-white/10 rounded-md",children:[(0,ga.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white font-medium text-xs",children:(null===(t=i.full_name)||void 0===t?void 0:t.charAt(0))||(null===(r=i.username)||void 0===r?void 0:r.charAt(0))||"U"})}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsx)("p",{className:"font-medium text-white text-xs truncate",children:i.full_name||i.username}),(0,ga.jsx)("p",{className:"text-xs text-white/70 uppercase",children:i.role})]})]})]}),(0,ga.jsx)("div",{className:"flex-1 overflow-y-auto py-2",children:p.map(e=>(0,ga.jsxs)("div",{className:"mb-3",children:[(0,ga.jsx)("h3",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400 font-semibold mb-1 px-4",children:e.title}),(0,ga.jsx)("div",{className:"space-y-0",children:e.items.map(e=>{const t=e.icon;return e.isButton&&"logout"===e.action?(0,ga.jsxs)("button",{onClick:g,className:"flex items-center space-x-3 px-4 py-2 text-sm font-medium transition-all duration-200 touch-manipulation text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 active:bg-red-100 dark:active:bg-red-900/30 w-full text-left",children:[(0,ga.jsx)(t,{className:"w-4 h-4 flex-shrink-0"}),(0,ga.jsx)("span",{className:"truncate",children:e.label})]},e.action):(0,ga.jsxs)(Le,{to:e.path,onClick:s,className:"flex items-center justify-between px-4 py-2 text-sm font-medium transition-all duration-200 touch-manipulation ".concat((r=e.path,d.pathname===r?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-r-2 border-blue-600":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 active:bg-gray-100 dark:active:bg-gray-700")),children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)(t,{className:"w-4 h-4 flex-shrink-0"}),(0,ga.jsx)("span",{className:"truncate",children:e.label})]}),"notifications"===e.key&&l>0&&(0,ga.jsx)("div",{className:"bg-blue-500 text-white text-xs rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1 font-medium shadow-md",children:l>99?"99+":l})]},e.path);var r})})]},e.title))}),(0,ga.jsx)("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Cataloro v2.0"})})]})]})},so=js("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),io=js("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),oo=js("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),lo=js("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),co=js("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),uo=js("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);const mo=function(){var e,t,a,s,i;const[o,l]=(0,n.useState)({}),c=function(){const[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const r=JSON.parse(e);t(r.adsManager||null)}}catch(e){console.warn("Could not load ads configuration")}};e();const r=()=>{e()};return window.addEventListener("adsConfigUpdated",r),window.addEventListener("storage",r),()=>{window.removeEventListener("adsConfigUpdated",r),window.removeEventListener("storage",r)}},[]),e}();(0,n.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_branding");if(e){const t=JSON.parse(e);l(t)}}catch(e){console.error("Error loading branding data in footer:",e)}};e();const t=()=>{e()};return window.addEventListener("brandingUpdated",t),window.addEventListener("storage",t),()=>{window.removeEventListener("brandingUpdated",t),window.removeEventListener("storage",t)}},[]);const d=()=>({enabled:!0,companyInfo:{name:"Cataloro",tagline:"Modern Marketplace for Everyone",description:"Discover, buy, and sell amazing products in our trusted marketplace. Connect with sellers worldwide and find exactly what you're looking for.",logo:"/logo.png"},contact:{email:"hello@cataloro.com",phone:"+1 (555) 123-4567",address:"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:"https://facebook.com/cataloro",twitter:"https://twitter.com/cataloro",instagram:"https://instagram.com/cataloro",linkedin:"https://linkedin.com/company/cataloro",youtube:"https://youtube.com/cataloro"},links:{about:[{label:"About Us",url:"/about"},{label:"Our Story",url:"/story"},{label:"Careers",url:"/careers"},{label:"Press",url:"/press"}],marketplace:[{label:"Browse Products",url:"/browse"},{label:"Sell on Cataloro",url:"/sell"},{label:"Seller Center",url:"/seller"}],support:[{label:"Help Center",url:"/help"},{label:"Contact Support",url:"/support"},{label:"Community",url:"/community"},{label:"Safety",url:"/safety"}],legal:[{label:"Privacy Policy",url:"/privacy"},{label:"Terms of Service",url:"/terms"},{label:"Cookie Policy",url:"/cookies"},{label:"Seller Agreement",url:"/seller-terms"}]},style:{backgroundColor:"#1f2937",textColor:"#ffffff",linkColor:"#60a5fa",borderColor:"#374151"}}),u=(()=>{try{var e,t,r,a;const n=localStorage.getItem("cataloro_footer_config"),s=d();if(!n)return s;const i=JSON.parse(n);return(0,Re.A)((0,Re.A)((0,Re.A)({},s),i),{},{companyInfo:(0,Re.A)((0,Re.A)({},s.companyInfo),i.companyInfo),contact:(0,Re.A)((0,Re.A)({},s.contact),i.contact),social:(0,Re.A)((0,Re.A)({},s.social),i.social),links:(0,Re.A)((0,Re.A)((0,Re.A)({},s.links),i.links),{},{about:(null===(e=i.links)||void 0===e?void 0:e.about)||s.links.about,marketplace:(null===(t=i.links)||void 0===t?void 0:t.marketplace)||s.links.marketplace,support:(null===(r=i.links)||void 0===r?void 0:r.support)||s.links.support,legal:(null===(a=i.links)||void 0===a?void 0:a.legal)||s.links.legal}),style:(0,Re.A)((0,Re.A)({},s.style),i.style)})}catch(n){return console.error("Error parsing footer config:",n),d()}})();if(!u.enabled)return null;const m={backgroundColor:u.style.backgroundColor,color:u.style.textColor,borderColor:u.style.borderColor},h={color:u.style.linkColor};return(0,ga.jsx)("footer",{style:m,className:"bg-gray-900 text-white border-t",children:(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ga.jsx)("div",{className:"py-12",children:(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,ga.jsxs)("div",{className:"lg:col-span-1",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[o.logo_dark_url&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChAI9jU77zgAAAABJRU5ErkJggg=="!==o.logo_dark_url?(0,ga.jsx)("div",{className:"flex flex-col space-y-2",children:(0,ga.jsx)("img",{src:o.logo_dark_url,alt:o.site_name||u.companyInfo.name,className:"h-12 max-w-[200px] object-contain",onError:e=>{e.target.style.display="none",e.target.parentElement.nextElementSibling.style.display="flex"}})}):o.logo_light_url&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChAI9jU77zgAAAABJRU5ErkJggg=="!==o.logo_light_url?(0,ga.jsx)("div",{className:"flex flex-col space-y-2",children:(0,ga.jsx)("img",{src:o.logo_light_url,alt:o.site_name||u.companyInfo.name,className:"h-12 max-w-[200px] object-contain",onError:e=>{e.target.style.display="none",e.target.parentElement.nextElementSibling.style.display="flex"}})}):(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,ga.jsx)(ws,{className:"w-6 h-6 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:o.site_name||u.companyInfo.name}),(0,ga.jsx)("p",{className:"text-sm text-gray-400",children:o.site_description||u.companyInfo.tagline})]})]}),(0,ga.jsxs)("div",{className:"items-center space-x-3",style:{display:"none"},children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,ga.jsx)(ws,{className:"w-6 h-6 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:o.site_name||u.companyInfo.name}),(0,ga.jsx)("p",{className:"text-sm text-gray-400",children:o.site_description||u.companyInfo.tagline})]})]})]}),(0,ga.jsx)("p",{className:"text-gray-300 text-sm mb-6 leading-relaxed",children:u.companyInfo.description}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ga.jsx)(zs,{className:"w-4 h-4 text-blue-400"}),(0,ga.jsx)("a",{href:"mailto:".concat(u.contact.email),style:h,className:"hover:text-blue-300",children:u.contact.email})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ga.jsx)(ii,{className:"w-4 h-4 text-blue-400"}),(0,ga.jsx)("a",{href:"tel:".concat(u.contact.phone),style:h,className:"hover:text-blue-300",children:u.contact.phone})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ga.jsx)(so,{className:"w-4 h-4 text-blue-400"}),(0,ga.jsx)("span",{className:"text-gray-300",children:u.contact.address})]}),(null===c||void 0===c||null===(e=c.footerAd)||void 0===e?void 0:e.active)&&c.footerAd.logo&&c.footerAd.companyName&&(0,ga.jsxs)("div",{className:"text-sm text-gray-400 mt-4 pt-4 border-t border-gray-700 ".concat(c.footerAd.url?"cursor-pointer hover:text-gray-300 transition-colors":""),onClick:()=>{if(c.footerAd.url){try{Promise.resolve().then(r.bind(r,7784)).then(e=>{let{trackAdClick:t}=e;t("footerAd")})}catch(e){console.warn("Could not track ad click:",e)}console.log("Footer ad clicked:",c.footerAd.url),window.open(c.footerAd.url,"_blank")}},children:[(0,ga.jsx)("div",{className:"mb-2",children:(0,ga.jsx)("span",{children:"In cooperation with:"})}),(0,ga.jsx)("div",{className:"mb-2",children:(0,ga.jsx)("img",{src:c.footerAd.logo,alt:c.footerAd.companyName,className:"h-8 object-contain object-left",style:{width:"140px",display:"block"}})}),(0,ga.jsx)("div",{children:(0,ga.jsx)("span",{className:"font-medium text-gray-300",children:c.footerAd.companyName})})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"About"}),(0,ga.jsx)("ul",{className:"space-y-3",children:((null===(t=u.links)||void 0===t?void 0:t.about)||[]).map((e,t)=>(0,ga.jsx)("li",{children:(0,ga.jsx)(Le,{to:e.url,style:h,className:"text-sm hover:text-blue-300",children:e.label})},t))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Marketplace"}),(0,ga.jsx)("ul",{className:"space-y-3",children:((null===(a=u.links)||void 0===a?void 0:a.marketplace)||[]).map((e,t)=>(0,ga.jsx)("li",{children:(0,ga.jsx)(Le,{to:e.url,style:h,className:"text-sm hover:text-blue-300",children:e.label})},t))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),(0,ga.jsx)("ul",{className:"space-y-3 mb-6",children:((null===(s=u.links)||void 0===s?void 0:s.support)||[]).map((e,t)=>(0,ga.jsx)("li",{children:(0,ga.jsx)(Le,{to:e.url,style:h,className:"text-sm hover:text-blue-300",children:e.label})},t))}),(0,ga.jsx)("h5",{className:"text-md font-semibold mb-3",children:"Legal"}),(0,ga.jsx)("ul",{className:"space-y-2",children:((null===(i=u.links)||void 0===i?void 0:i.legal)||[]).map((e,t)=>(0,ga.jsx)("li",{children:(0,ga.jsx)(Le,{to:e.url,style:h,className:"text-xs hover:text-blue-300",children:e.label})},t))})]})]})}),(0,ga.jsx)("div",{style:{borderColor:u.style.borderColor},className:"border-t py-6",children:(0,ga.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-400",children:"Follow us:"}),(0,ga.jsxs)("div",{className:"flex space-x-3",children:[u.social.facebook&&(0,ga.jsx)("a",{href:u.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ga.jsx)(io,{className:"w-5 h-5"})}),u.social.twitter&&(0,ga.jsx)("a",{href:u.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ga.jsx)(oo,{className:"w-5 h-5"})}),u.social.instagram&&(0,ga.jsx)("a",{href:u.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-pink-400",children:(0,ga.jsx)(lo,{className:"w-5 h-5"})}),u.social.linkedin&&(0,ga.jsx)("a",{href:u.social.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ga.jsx)(co,{className:"w-5 h-5"})}),u.social.youtube&&(0,ga.jsx)("a",{href:u.social.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-red-400",children:(0,ga.jsx)(uo,{className:"w-5 h-5"})})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,ga.jsxs)("span",{children:["\xa9 2025 ",u.companyInfo.name,". Made with"]}),(0,ga.jsx)(As,{className:"w-4 h-4 text-red-400"}),(0,ga.jsx)("span",{children:"for amazing marketplace experiences."})]})]})})]})})};const ho=function(){const[e,t]=(0,n.useState)([]),{user:r,isAuthenticated:a}=_a(),{notifications:s}=Fa();(0,n.useEffect)(()=>{if(s&&s.length>0){const e=s[s.length-1];e&&e.type&&l(e.message,e.type,5e3)}},[s]),(0,n.useEffect)(()=>{if(a&&null!==r&&void 0!==r&&r.id){i();const e=setInterval(()=>{i()},6e5);return()=>clearInterval(e)}},[a,null===r||void 0===r?void 0:r.id]);const i=async()=>{try{const e=await fetch("".concat("https://cataloro.com","/api/user/").concat(r.id,"/system-notifications"));if(e.ok){const t=await e.json();(t.notifications||[]).forEach((e,t)=>{setTimeout(()=>{l(e.message,e.type||"info",e.show_duration||5e3,e.id),o(e.id)},1e3*t)})}}catch(e){console.error("Error loading system notifications:",e)}},o=async e=>{try{await fetch("".concat("https://cataloro.com","/api/user/").concat(r.id,"/system-notifications/").concat(e,"/view"),{method:"POST"})}catch(t){console.error("Error marking notification as viewed:",t)}},l=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s=Date.now()+Math.random(),i={id:s,message:e,type:r,duration:a,systemNotificationId:n};t(e=>[...e,i]),setTimeout(()=>{c(s)},a)},c=e=>{t(t=>t.filter(t=>t.id!==e))},d=e=>{switch(e){case"success":return(0,ga.jsx)(Yi,{className:"w-5 h-5 text-green-600"});case"error":return(0,ga.jsx)(Ki,{className:"w-5 h-5 text-red-600"});case"warning":return(0,ga.jsx)(Wi,{className:"w-5 h-5 text-orange-600"});case"welcome":return(0,ga.jsx)(Cs,{className:"w-5 h-5 text-purple-600"});default:return(0,ga.jsx)(Ji,{className:"w-5 h-5 text-blue-600"})}},u=e=>{switch(e){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200";case"warning":return"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-800 dark:text-orange-200";case"welcome":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-800 dark:text-purple-200";default:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"}},m=async e=>{if(a&&null!==r&&void 0!==r&&r.id)try{const t=await fetch("".concat("https://cataloro.com","/api/user/").concat(r.id,"/system-notifications"));if(t.ok){const r=(await t.json()).notifications||[];r.filter(t=>t.event_trigger===e).forEach((e,t)=>{setTimeout(()=>{l(e.message,e.type||"info",e.show_duration||5e3,e.id),o(e.id)},1e3*t)})}}catch(t){console.error("Error loading event-triggered system notifications:",t)}};return(0,n.useEffect)(()=>(window.showToast=l,window.triggerSystemNotifications=m,()=>{delete window.showToast,delete window.triggerSystemNotifications}),[a,null===r||void 0===r?void 0:r.id]),0===e.length?null:(0,ga.jsx)("div",{className:"fixed top-20 right-4 z-50 space-y-2",children:e.map(e=>(0,ga.jsx)("div",{className:"max-w-sm w-full ".concat(u(e.type)," border rounded-lg p-4 shadow-lg backdrop-blur-sm transition-all duration-300 transform animate-slide-in-right"),children:(0,ga.jsxs)("div",{className:"flex items-start",children:[(0,ga.jsx)("div",{className:"flex-shrink-0",children:d(e.type)}),(0,ga.jsx)("div",{className:"ml-3 flex-1",children:(0,ga.jsx)("p",{className:"text-sm font-medium",children:e.message})}),(0,ga.jsx)("button",{onClick:()=>c(e.id),className:"ml-4 flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]})},e.id))})},go=e=>{try{const t=document.getElementById("cataloro-site-config-styles");t&&t.remove();const r=document.createElement("style");r.id="cataloro-site-config-styles";const a="\n      /* Site Configuration Styles */\n      :root {\n        --primary-color: ".concat(e.primaryColor||"#3B82F6",";\n        --secondary-color: ").concat(e.secondaryColor||"#8B5CF6",";\n        --accent-color: ").concat(e.accentColor||"#10B981",";\n      }\n      \n      /* Footer Configuration */\n      ").concat(e.footerEnabled?"":"\n      footer {\n        display: none !important;\n      }\n      ","\n      \n      /* Hero Section Control - ALWAYS ENABLED */\n      /* Hero section is essential for the marketplace experience */\n      ").concat("","\n      \n      /* Featured Products Control */\n      ").concat(e.featuredProductsEnabled?"":"\n      .featured-products-section {\n        display: none !important;\n      }\n      ","\n      \n      /* Categories Showcase Control */\n      ").concat(e.categoriesShowcase?"":"\n      .categories-showcase {\n        display: none !important;\n      }\n      ","\n      \n      /* Newsletter Signup Control */\n      ").concat(e.newsletterSignup?"":"\n      .newsletter-section {\n        display: none !important;\n      }\n      ","\n      \n      /* Wishlist/Favorites Control */\n      ").concat(e.wishlistEnabled?"":"\n      .wishlist-button,\n      .favorites-button,\n      .add-to-favorites {\n        display: none !important;\n      }\n      ","\n      \n      /* Product Reviews Control */\n      ").concat(e.productReviews?"":"\n      .reviews-section,\n      .product-reviews,\n      .review-button {\n        display: none !important;\n      }\n      ","\n      \n      /* Compare Feature Control */\n      ").concat(e.compareFeature?"":"\n      .compare-button,\n      .product-compare {\n        display: none !important;\n      }\n      ","\n      \n      /* Advanced Filters Control */\n      ").concat(e.advancedFilters?"":"\n      .advanced-filters,\n      .filter-panel {\n        display: none !important;\n      }\n      ","\n      \n      /* Search Bar Prominence */\n      ").concat(e.searchBarProminent?"\n      .search-bar-container {\n        transform: scale(1.1);\n        box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);\n        border: 2px solid var(--primary-color);\n      }\n      ":"","\n      \n      /* Compact Mode */\n      ").concat(e.compactMode?"\n      .product-card {\n        padding: 0.5rem !important;\n      }\n      .hero-section {\n        min-height: 200px !important;\n      }\n      .page-padding {\n        padding: 1rem !important;\n      }\n      ":"","\n      \n      /* Custom CSS */\n      ").concat(e.customCSS||"","\n    ");if(r.textContent=a,document.head.appendChild(r),e.footerEnabled){const t={enabled:e.footerEnabled,companyInfo:{name:e.footerCompanyName||"Cataloro",tagline:e.footerTagline||"Modern Marketplace for Everyone",description:e.footerDescription||"Discover, buy, and sell amazing products in our trusted marketplace."},contact:{email:e.footerEmail||"hello@cataloro.com",phone:e.footerPhone||"+1 (555) 123-4567",address:e.footerAddress||"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:e.footerFacebook||"",twitter:e.footerTwitter||"",instagram:e.footerInstagram||"",linkedin:e.footerLinkedin||"",youtube:e.footerYoutube||""},style:{backgroundColor:e.footerBackgroundColor||"#1f2937",textColor:e.footerTextColor||"#ffffff",linkColor:e.footerLinkColor||"#60a5fa",borderColor:"#374151"}};localStorage.setItem("cataloro_footer_config",JSON.stringify(t))}else localStorage.removeItem("cataloro_footer_config");const n={heroSectionEnabled:!0,featuredProductsEnabled:!1!==e.featuredProductsEnabled,categoriesShowcase:!1!==e.categoriesShowcase,testimonialSection:!1!==e.testimonialSection,newsletterSignup:!1!==e.newsletterSignup,searchBarProminent:e.searchBarProminent||!1,userRegistration:!1!==e.userRegistration,guestBrowsing:!1!==e.guestBrowsing,productReviews:!1!==e.productReviews,wishlistEnabled:!1!==e.wishlistEnabled,compareFeature:e.compareFeature||!1,advancedFilters:!1!==e.advancedFilters,bulkOperations:e.bulkOperations||!1,productVariations:e.productVariations||!1,inventoryTracking:e.inventoryTracking||!1,compactMode:e.compactMode||!1,animationsEnabled:!1!==e.animationsEnabled};return localStorage.setItem("cataloro_feature_flags",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("featureFlagsUpdated",{detail:n})),console.log("\u2705 Site configuration applied successfully",n),!0}catch(t){return console.error("\u274c Error applying site configuration:",t),!1}},po=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const t=JSON.parse(e);return go(t),console.log("\u2705 Site configuration loaded and applied on startup"),!0}return!1}catch(e){return console.warn("\u26a0\ufe0f Could not load site configuration:",e),!1}};const xo=function(){const[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)(!0),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),c=ee(),d=re();if((0,n.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("cataloro_token"),r=localStorage.getItem("cataloro_user");if(console.log("\ud83d\udd10 Auth check - token:",!!e,"user:",!!r,"location:",c.pathname),e&&r)try{const e=JSON.parse(r);console.log("\ud83d\udd10 Auth success - user:",e.full_name||e.name),t(!0)}catch(n){console.log("\ud83d\udd10 Auth failed - invalid user data:",n),localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),t(!1)}else console.log("\ud83d\udd10 Auth failed - missing token or user"),t(!1);a(!1)};e();const r=t=>{"cataloro_token"!==t.key&&"cataloro_user"!==t.key||(console.log("\ud83d\udd10 Storage changed, re-checking auth"),e())};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[c.pathname,d]),(0,n.useEffect)(()=>{"true"===localStorage.getItem("cataloro_dark_mode")&&(i(!0),document.documentElement.classList.add("dark")),po()},[]),(0,n.useEffect)(()=>{l(!1)},[c]),r)return(0,ga.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Cataloro..."})]})});const u=["/profile/","/login","/register","/info"].some(e=>c.pathname.startsWith(e));return console.log("\ud83d\udd10 Route check - path:",c.pathname,"isPublic:",u,"isAuth:",e,"isLoading:",r),r||e||u?(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300 ".concat(s?"dark":""),children:[(0,ga.jsx)(ao,{darkMode:s,toggleDarkMode:()=>{const e=!s;i(e),localStorage.setItem("cataloro_dark_mode",e.toString()),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},isMobileMenuOpen:o,setIsMobileMenuOpen:l}),(0,ga.jsx)(no,{isOpen:o,onClose:()=>l(!1)}),(0,ga.jsx)("main",{className:"pt-20 min-h-screen",children:(0,ga.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ga.jsx)(ve,{})})}),(0,ga.jsx)(mo,{}),(0,ga.jsx)(ho,{}),o&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)})]}):(console.log("\ud83d\udd10 Redirecting to login - not authenticated"),(0,ga.jsx)(ye,{to:"/login",replace:!0}))};const fo=function(){var e,t,r,a,s;const[i,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(0),[d,u]=(0,n.useState)(0),[m,h]=(0,n.useState)(0),g=i&&((null===(e=i.email)||void 0===e?void 0:e.includes("seller"))||(null===(t=i.username)||void 0===t?void 0:t.includes("seller"))||"ana@cataloro.com"===i.email||"ana_admin"===i.username||!0===i.is_business&&(null===(r=i.full_name)||void 0===r?void 0:r.toLowerCase().includes("business")));console.log("\ud83d\udd0d MobileBottomNav - User role debug:",{user:i?{id:i.id,username:i.username,email:i.email,full_name:i.full_name,is_business:i.is_business,role:i.role,account_type:i.account_type,can_buy:i.can_buy}:null,isSellerOnly:g,sellerChecks:i?{emailIncludesSeller:null===(a=i.email)||void 0===a?void 0:a.includes("seller"),usernameIncludesSeller:null===(s=i.username)||void 0===s?void 0:s.includes("seller"),isAnaAccount:"ana@cataloro.com"===i.email,isAnaUsername:"ana_admin"===i.username,isBusiness:!0===i.is_business}:null});const{isMenuItemVisible:p}=ro(),x=ee();(0,n.useEffect)(()=>{(async()=>{const e=localStorage.getItem("cataloro_user");if(e)try{const t=JSON.parse(e);o(t);try{const e=await Ua.getUserMessages(t.id),r=new Date(Date.now()-6048e5),a=e.filter(e=>{const a=new Date(e.created_at),n=!1===e.is_read&&e.recipient_id===t.id&&e.sender_id!==t.id&&a>=r;return n&&console.log("\ud83d\udd0d BottomNav found unread message: from ".concat(e.sender_id," to ").concat(e.recipient_id,", is_read=").concat(e.is_read,", date=").concat(a.toISOString())),n}).length;console.log("\ud83d\udd0d BottomNav calculated unread count: ".concat(a," from ").concat(e.length," total messages")),h(a),localStorage.setItem("cataloro_unread_messages",a.toString())}catch(r){console.error("Error loading messages:",r),h(0)}}catch(r){console.error("Error parsing user data:",r)}const t=localStorage.getItem("cataloro_cart_count");t&&c(parseInt(t,10)||0)})();const e=e=>{const{type:t,count:r}=e.detail;switch(t){case"messages":h(r),localStorage.setItem("cataloro_unread_messages",r.toString());break;case"cart":c(r),localStorage.setItem("cataloro_cart_count",r.toString())}};return window.addEventListener("updateMobileBadge",e),()=>{window.removeEventListener("updateMobileBadge",e)}},[m]);const f=g?[{label:"Browse",path:"/browse",icon:ws,badge:null,key:"browse"},{label:"Messages",path:"/messages",icon:Ns,badge:m>0?m:null,key:"messages"},{label:"Add Listing",path:"/create-listing",icon:ks,badge:null,highlight:!0,key:"create"},{label:"Notifications",path:"/notifications",icon:Cs,badge:null,key:"notifications"},{label:"Sell",path:"/sell",icon:Ts,badge:null,key:"sell"}]:[{label:"Browse",path:"/browse",icon:ws,badge:null,key:"browse"},{label:"Messages",path:"/messages",icon:Ns,badge:m>0?m:null,key:"messages"},{label:"Create",path:"/create-listing",icon:ks,badge:null,highlight:!0,key:"create"},{label:"Buy",path:"/buy",icon:Ss,badge:null,key:"buy"},{label:"Sell",path:"/sell",icon:Ts,badge:null,key:"sell"}],b=f.filter(e=>p("mobile_menu",e.key));return console.log("\ud83d\udd0d MobileBottomNav rendering with:",{isSellerOnly:g,allBottomNavItemsCount:f.length,allBottomNavLabels:f.map(e=>e.label),bottomNavItemsCount:b.length,bottomNavLabels:b.map(e=>e.label)}),(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-40 lg:hidden safe-area-pb",children:[(0,ga.jsx)("div",{className:"flex items-center justify-between px-2 py-2 max-w-md mx-auto",children:b.map((e,t)=>{const r=e.icon,a="/browse"===(n=e.path)&&"/"===x.pathname||x.pathname===n;var n;return(0,ga.jsxs)(Le,{to:e.path,className:"relative flex flex-col items-center justify-center transition-all duration-200 touch-manipulation ".concat(e.highlight?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg rounded-2xl p-3 -mt-3 mx-2":a?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded-xl px-3 py-2":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 active:bg-gray-100 dark:active:bg-gray-800 rounded-xl px-3 py-2"),style:e.highlight?{width:"60px",height:"60px",minWidth:"60px"}:{minHeight:"48px",minWidth:"60px"},children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(r,{className:"".concat(e.highlight?"w-6 h-6":"w-5 h-5")}),e.badge&&(0,ga.jsx)("div",{className:"absolute -top-2 -right-2 text-white text-xs rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1 font-medium shadow-md ".concat("Messages"===e.label?"bg-red-500":"Cart"===e.label?"bg-blue-500":"bg-green-500"),children:e.badge>99?"99+":e.badge})]}),!e.highlight&&(0,ga.jsx)("span",{className:"text-xs mt-1 font-medium truncate w-full text-center",children:e.label})]},e.path)})}),(0,ga.jsx)("div",{className:"h-safe-area-inset-bottom bg-white dark:bg-gray-900"})]}),(0,ga.jsx)("div",{className:"h-20 lg:hidden"})]})},bo=js("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),yo=js("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const vo=function(e){let{isOpen:t,onClose:r}=e;const[a,s]=(0,n.useState)(null),i=[{id:"overview",title:"Dashboard Overview",icon:Bs,color:"bg-blue-500",items:[{label:"Admin Dashboard",path:"/admin",icon:Ls},{label:"Site Analytics",path:"/admin/analytics",icon:mi},{label:"Performance Monitor",path:"/admin/performance",icon:Us}]},{id:"users",title:"User Management",icon:ni,color:"bg-green-500",items:[{label:"All Users",path:"/admin#users",icon:ni},{label:"User Roles",path:"/admin#user-roles",icon:Ls},{label:"User Analytics",path:"/admin#user-analytics",icon:Bs}]},{id:"listings",title:"Content Management",icon:Ts,color:"bg-purple-500",items:[{label:"All Listings",path:"/admin#listings",icon:Ts},{label:"Pending Approval",path:"/admin#pending",icon:Js},{label:"Categories",path:"/admin#categories",icon:ki}]},{id:"site",title:"Site Settings",icon:Os,color:"bg-orange-500",items:[{label:"Site Branding",path:"/admin#site-branding",icon:Fs},{label:"Hero Selection",path:"/admin#hero",icon:Gs},{label:"Notifications",path:"/admin#notifications",icon:Cs}]},{id:"advanced",title:"Advanced Tools",icon:bo,color:"bg-red-500",items:[{label:"System Monitor",path:"/admin#system",icon:mi},{label:"Cache Management",path:"/admin#cache",icon:ui},{label:"Database Tools",path:"/admin#database",icon:bo}]}],o=()=>{r()};return(0,ga.jsxs)(ga.Fragment,{children:[t&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 lg:hidden",onClick:r}),(0,ga.jsxs)("div",{className:"fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-900 shadow-2xl z-50 transform transition-transform duration-300 ease-in-out lg:hidden ".concat(t?"translate-x-0":"translate-x-full"),children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:(0,ga.jsx)(Ls,{className:"w-5 h-5"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"text-lg font-bold",children:"Admin Panel"}),(0,ga.jsx)("p",{className:"text-sm opacity-80",children:"Mobile Dashboard"})]})]}),(0,ga.jsx)("button",{onClick:r,className:"p-2 text-white/80 hover:text-white hover:bg-white/20 rounded-full transition-colors",children:(0,ga.jsx)(Is,{className:"w-5 h-5"})})]}),(0,ga.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,ga.jsx)("div",{className:"p-4 space-y-3",children:i.map(e=>{const t=e.icon,r=a===e.id;return(0,ga.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,ga.jsxs)("button",{onClick:()=>{return t=e.id,void s(a===t?null:t);var t},className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-8 h-8 ".concat(e.color," rounded-lg flex items-center justify-center"),children:(0,ga.jsx)(t,{className:"w-4 h-4 text-white"})}),(0,ga.jsxs)("div",{className:"text-left",children:[(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.items.length," tools"]})]})]}),(0,ga.jsx)(yo,{className:"w-4 h-4 text-gray-400 transition-transform ".concat(r?"rotate-90":"")})]}),r&&(0,ga.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700",children:e.items.map((e,t)=>{const r=e.icon;return(0,ga.jsxs)(Le,{to:e.path,onClick:o,className:"flex items-center space-x-3 p-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:[(0,ga.jsx)(r,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"text-sm",children:e.label})]},t)})})]},e.id)})})}),(0,ga.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:(0,ga.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,ga.jsxs)(Le,{to:"/admin#users",onClick:o,className:"flex flex-col items-center p-3 text-center bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)(ni,{className:"w-5 h-5 text-blue-500 mb-1"}),(0,ga.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Users"})]}),(0,ga.jsxs)(Le,{to:"/admin#listings",onClick:o,className:"flex flex-col items-center p-3 text-center bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)(Ts,{className:"w-5 h-5 text-green-500 mb-1"}),(0,ga.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Listings"})]}),(0,ga.jsxs)(Le,{to:"/admin#analytics",onClick:o,className:"flex flex-col items-center p-3 text-center bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)(Bs,{className:"w-5 h-5 text-purple-500 mb-1"}),(0,ga.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Analytics"})]})]})})]})]})};const jo=function(){var e,t;const[r,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!0),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),[p,x]=(0,n.useState)({});(0,n.useEffect)(()=>{(()=>{try{const e=localStorage.getItem("cataloro_site_branding");if(e){const t=JSON.parse(e);x(t)}}catch(e){console.warn("Failed to load site branding:",e)}})();const e=e=>{e.detail&&x(e.detail)};return window.addEventListener("siteBrandingUpdated",e),()=>window.removeEventListener("siteBrandingUpdated",e)},[]);const f=ee();if((0,n.useEffect)(()=>{const e=localStorage.getItem("cataloro_token"),t=localStorage.getItem("cataloro_user");if(e&&t)try{const e=JSON.parse(t);l(e),a(!0)}catch(r){localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),a(!1)}else a(!1);i(!1)},[]),(0,n.useEffect)(()=>{"true"===localStorage.getItem("cataloro_dark_mode")&&(d(!0),document.documentElement.classList.add("dark")),po()},[]),(0,n.useEffect)(()=>{m(!1),g(!1)},[f]),s)return(0,ga.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Cataloro..."})]})});const b=["/profile/","/messages"].some(e=>f.pathname.startsWith(e));return r||b?(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300 ".concat(c?"dark":""),children:[(0,ga.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 z-30 safe-top",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 h-14",children:[(0,ga.jsx)("button",{onClick:()=>m(!0),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors touch-manipulation",children:(0,ga.jsx)(Ms,{className:"w-6 h-6"})}),(0,ga.jsx)("div",{className:"flex items-center justify-center flex-1",children:p.logo_light_url||p.logo_dark_url||p.logo_url?(0,ga.jsxs)(Le,{to:"/browse",className:"header-logo",children:[(0,ga.jsx)("img",{src:c?p.logo_dark_url||p.logo_url:p.logo_light_url||p.logo_url,alt:p.site_name||"Cataloro",className:"h-8 w-auto object-contain max-w-40",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,ga.jsxs)("div",{className:"hidden items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white font-bold text-sm",children:"C"})}),(0,ga.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Cataloro"})]})]}):(0,ga.jsxs)(Le,{to:"/browse",className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white font-bold text-sm",children:"C"})}),(0,ga.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Cataloro"})]})}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[o&&"admin"===o.role&&(0,ga.jsx)("button",{onClick:()=>g(!0),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded-lg transition-colors touch-manipulation",children:(0,ga.jsx)(Ls,{className:"w-5 h-5"})}),o&&(0,ga.jsx)(Le,{to:"/profile",className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center hover:scale-105 transition-transform touch-manipulation",children:(0,ga.jsx)("span",{className:"text-white font-medium text-xs",children:(null===(e=o.full_name)||void 0===e?void 0:e.charAt(0))||(null===(t=o.username)||void 0===t?void 0:t.charAt(0))||"U"})})]})]})}),(0,ga.jsx)("div",{className:"h-14 lg:hidden safe-top-padding"}),(0,ga.jsx)("main",{className:"min-h-[calc(100vh-8rem)] lg:min-h-screen pb-20",children:(0,ga.jsx)(ve,{})}),(0,ga.jsx)(fo,{}),(0,ga.jsx)(no,{isOpen:u,onClose:()=>m(!1),darkMode:c,toggleDarkMode:()=>{const e=!c;d(e),localStorage.setItem("cataloro_dark_mode",e.toString()),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),o&&"admin"===o.role&&(0,ga.jsx)(vo,{isOpen:h,onClose:()=>g(!1)}),(0,ga.jsx)(ho,{}),(u||h)&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>{m(!1),g(!1)}})]}):(0,ga.jsx)(ye,{to:"/login",replace:!0})},wo=js("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ko=js("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),No=js("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),_o=js("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),So=e=>{if(!e)return{expired:!0,timeRemaining:0};const t=function(e){let t;if(!e)return null;try{t=e.includes("Z")||e.includes("+")?new Date(e):new Date(e+"Z")}catch(hx){t=new Date(e)}return t}(e)-new Date;return{expired:t<=0,timeRemaining:Math.max(0,t),hoursRemaining:Math.floor(t/36e5),minutesRemaining:Math.floor(t%36e5/6e4)}},Ao=e=>{const{expired:t,hoursRemaining:r,minutesRemaining:a}=So(e);return t?null:r>0?"".concat(r,"h ").concat(a,"m left"):a>0?"".concat(a,"m left"):"Ending soon"},Co=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null===e||void 0===e||isNaN(e))return t?"0,00\u20ac":"0,00";const r="string"===typeof e?parseFloat(e):e,a=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r);return t?"".concat(a,"\u20ac"):a};var Eo=r(7784);const Oo=js("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);const Po=function(e){let{onSearch:t,placeholder:r="Search catalysts...",className:a="",initialValue:s=""}=e;const[i,o]=(0,n.useState)(s),[l,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)([]),x=(0,n.useRef)(null),f=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=localStorage.getItem("cataloro_recent_searches");if(e)try{p(JSON.parse(e))}catch(t){console.error("Error loading recent searches:",t)}if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=window.SpeechRecognition||window.webkitSpeechRecognition;f.current=new e,f.current.continuous=!1,f.current.interimResults=!1,f.current.lang="en-US",f.current.onresult=e=>{const t=e.results[0][0].transcript;o(t),b(t),h(!1)},f.current.onerror=()=>{h(!1)},f.current.onend=()=>{h(!1)}}},[]),(0,n.useEffect)(()=>{if(i.length>1){const e=["BMW catalytic converter","Mercedes catalyst","Ford exhaust catalyst","Audi catalytic converter","Volkswagen catalyst","Ceramic catalyst","Metallic catalyst","Diesel particulate filter"].filter(e=>e.toLowerCase().includes(i.toLowerCase())).slice(0,5);c(e),u(!0)}else c([]),u(!1)},[i]);const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(e.trim()){var r;const a=[e,...g.filter(t=>t!==e)].slice(0,10);p(a),localStorage.setItem("cataloro_recent_searches",JSON.stringify(a)),t(e),u(!1),null===(r=x.current)||void 0===r||r.blur()}};(0,n.useEffect)(()=>{s!==i&&o(s)},[s]);const y=e=>{o(e),b(e)};return(0,ga.jsxs)("div",{className:"relative ".concat(a),children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:(0,ga.jsx)(ko,{className:"w-5 h-5"})}),(0,ga.jsx)("input",{ref:x,type:"text",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&b(),onFocus:()=>u(i.length>1||g.length>0),placeholder:r,className:"w-full pl-10 pr-20 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"}),(0,ga.jsxs)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[i&&(0,ga.jsx)("button",{onClick:()=>{var e;o(""),c([]),u(!1),null===(e=x.current)||void 0===e||e.focus()},className:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})}),f.current&&(0,ga.jsx)("button",{onClick:()=>{f.current&&!m&&(h(!0),f.current.start())},className:"p-1.5 rounded-full transition-colors ".concat(m?"text-red-500 bg-red-100 dark:bg-red-900/30 animate-pulse":"text-gray-400 hover:text-blue-500 hover:bg-blue-100 dark:hover:bg-blue-900/30"),children:(0,ga.jsx)(Ti,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:()=>{var e;null===(e=navigator.mediaDevices)||void 0===e||e.getUserMedia({video:!0}).then(e=>{console.log("Camera search activated"),e.getTracks().forEach(e=>e.stop())}).catch(e=>{console.log("Camera not available:",e)})},className:"p-1.5 text-gray-400 hover:text-green-500 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-full transition-colors",children:(0,ga.jsx)(Oo,{className:"w-4 h-4"})})]})]}),d&&(0,ga.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg z-50 max-h-80 overflow-y-auto",children:[g.length>0&&0===i.length&&(0,ga.jsxs)("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700",children:[(0,ga.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Recent Searches"}),g.slice(0,5).map((e,t)=>(0,ga.jsx)("button",{onClick:()=>y(e),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e},t))]}),l.length>0&&(0,ga.jsxs)("div",{className:"p-3",children:[(0,ga.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Suggestions"}),l.map((e,t)=>(0,ga.jsxs)("button",{onClick:()=>y(e),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,ga.jsx)("span",{className:"font-medium",children:e.split(i.toLowerCase())[0]}),(0,ga.jsx)("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:i}),(0,ga.jsx)("span",{children:e.split(i.toLowerCase())[1]})]},t))]})]})]})};const To=function(e){let{onSearch:t,onFilterToggle:r,quickStats:a={},searchTerm:s="",className:i=""}=e;const[o,l]=(0,n.useState)({title:"Find Catalysts",description:"Discover quality catalytic converters",search_placeholder:"Search catalysts...",height:200,background_type:"gradient",background_gradient_from:"#3f6ec7",background_gradient_to:"#ec4899",background_color:"#3B82F6",background_image:"",gradient_opacity:.8,background_size:"cover",background_repeat:"no-repeat",background_position:"center",display_mode:"full_width"});return(0,n.useEffect)(()=>{(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{const t=JSON.parse(e);l(e=>(0,Re.A)((0,Re.A)((0,Re.A)({},e),t),{},{height:Math.min(t.height||200,250)}))}catch(t){console.error("Error parsing hero content:",t)}})();const e=e=>{e.detail&&l(t=>(0,Re.A)((0,Re.A)((0,Re.A)({},t),e.detail),{},{height:Math.min(e.detail.height||200,250)}))};return window.addEventListener("heroContentUpdated",e),()=>window.removeEventListener("heroContentUpdated",e)},[]),(0,ga.jsx)("div",{className:"lg:hidden ".concat(i),children:(0,ga.jsxs)("div",{className:"hero-section relative text-white overflow-hidden w-screen",style:(()=>{const e=(e,t)=>{const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!r)return e;const a=parseInt(r[1],16),n=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba(".concat(a,", ").concat(n,", ").concat(s,", ").concat(t,")")},t=o.gradient_opacity||.8,r={height:"".concat(o.height,"px"),minHeight:"220px",maxHeight:"280px",marginTop:"-1rem",marginBottom:"1rem",marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)"};switch("image"!==o.background_type&&"image-gradient"!==o.background_type||(r.backgroundSize=o.background_size||"cover",r.backgroundPosition=o.background_position||"center",r.backgroundRepeat=o.background_repeat||"no-repeat"),o.background_type){case"gradient":return(0,Re.A)((0,Re.A)({},r),{},{backgroundImage:"linear-gradient(to right, ".concat(o.background_gradient_from||"#3f6ec7",", ").concat(o.background_gradient_to||"#ec4899",")")});case"solid":return(0,Re.A)((0,Re.A)({},r),{},{backgroundColor:o.background_color||"#3B82F6"});case"image":return(0,Re.A)((0,Re.A)({},r),{},{backgroundImage:o.background_image?"linear-gradient(rgba(0,0,0,".concat(.5*t,"), rgba(0,0,0,").concat(.5*t,")), url(").concat(o.background_image,")"):"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)"});case"image-gradient":const a=e(o.background_gradient_from||"#3f6ec7",t),n=e(o.background_gradient_to||"#ec4899",t);return(0,Re.A)((0,Re.A)({},r),{},{backgroundImage:o.background_image?"linear-gradient(to right, ".concat(a,", ").concat(n,"), url(").concat(o.background_image,")"):"linear-gradient(to right, ".concat(o.background_gradient_from||"#3f6ec7",", ").concat(o.background_gradient_to||"#ec4899",")")});default:return(0,Re.A)((0,Re.A)({},r),{},{backgroundImage:"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)"})}})(),children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,ga.jsxs)("div",{className:"relative z-10 flex flex-col justify-center h-full px-6 py-6 max-w-7xl mx-auto",children:[o.image_url&&(0,ga.jsx)("div",{className:"mb-3 flex justify-center",children:(0,ga.jsx)("img",{src:o.image_url,alt:"Hero",className:"max-h-14 max-w-28 object-contain"})}),(0,ga.jsx)("div",{className:"mb-4",children:(0,ga.jsx)(Po,{onSearch:t,initialValue:s,placeholder:o.search_placeholder||"Search catalysts..."})}),(0,ga.jsx)("div",{className:"flex justify-center",children:(0,ga.jsxs)("button",{onClick:r,className:"flex items-center space-x-2 px-6 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-colors",children:[(0,ga.jsx)(vi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"text-sm",children:"Filters"})]})})]})]})})},Lo=js("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Mo=function(e){var t,r,a;let{isOpen:s,onClose:i,filters:o,onFiltersChange:l,availableFilters:c={}}=e;const d={category:"",priceRange:{min:0,max:1e3},location:"",condition:"",dateRange:"",rating:0,sortBy:"newest",bidFilter:"all"},[u,m]=(0,n.useState)(o||d),[h,g]=(0,n.useState)({price:!1,location:!1,category:!1,condition:!1,date:!1,rating:!1,bidFilter:!1});(0,n.useEffect)(()=>{m(e=>(0,Re.A)((0,Re.A)({},d),o))},[o]);const p=e=>{g(t=>(0,Re.A)((0,Re.A)({},t),{},{[e]:!t[e]}))},x=(e,t)=>{m(r=>(0,Re.A)((0,Re.A)({},r),{},{[e]:t}))},f=(e,t)=>{m(r=>(0,Re.A)((0,Re.A)({},r),{},{priceRange:(0,Re.A)((0,Re.A)({},r.priceRange),{},{[e]:parseInt(t)||0})}))},b=()=>{var e,t;if(!u)return 0;let r=0;return u.category&&r++,u.location&&r++,u.condition&&r++,u.dateRange&&r++,u.rating&&u.rating>0&&r++,((null===(e=u.priceRange)||void 0===e?void 0:e.min)>0||(null===(t=u.priceRange)||void 0===t?void 0:t.max)<1e3)&&r++,r},y=c.categories||["Catalytic Converters","Diesel Particulate Filters","Ceramic Catalysts","Metallic Catalysts","Three-way Catalysts","Oxidation Catalysts"],v=c.locations||["Germany","France","United Kingdom","Netherlands","Belgium","Italy","Spain"],j=c.conditions||["New","Like New","Good","Fair","Used"];return(0,ga.jsxs)(ga.Fragment,{children:[s&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:i}),(0,ga.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 rounded-t-2xl shadow-2xl z-50 transform transition-transform duration-300 ease-out lg:hidden ".concat(s?"translate-y-0":"translate-y-full"),children:[(0,ga.jsx)("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mt-3"}),(0,ga.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(vi,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),(0,ga.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),b()>0&&(0,ga.jsx)("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:b()})]}),(0,ga.jsx)("button",{onClick:i,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,ga.jsx)(Is,{className:"w-5 h-5"})})]}),(0,ga.jsx)("div",{className:"max-h-[70vh] overflow-y-auto",children:(0,ga.jsxs)("div",{className:"p-4 space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Sort By"}),(0,ga.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{key:"newest",label:"Newest"},{key:"oldest",label:"Oldest"},{key:"price_low",label:"Price: Low to High"},{key:"price_high",label:"Price: High to Low"}].map(e=>(0,ga.jsx)("button",{onClick:()=>x("sortBy",e.key),className:"p-3 text-sm rounded-lg border transition-colors ".concat((null===u||void 0===u?void 0:u.sortBy)===e.key?"bg-blue-100 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300"),children:e.label},e.key))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"My Activity"}),(0,ga.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{key:"all",label:"All Listings"},{key:"placed_bid",label:"Placed a Bid"},{key:"not_placed_bid",label:"Not Placed a Bid"},{key:"own_listings",label:"My Listings"}].map(e=>(0,ga.jsx)("button",{onClick:()=>x("bidFilter",e.key),className:"p-3 text-sm rounded-lg border transition-colors ".concat((null===u||void 0===u?void 0:u.bidFilter)===e.key?"bg-green-100 dark:bg-green-900/30 border-green-500 text-green-700 dark:text-green-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300"),disabled:!c.userId,children:e.label},e.key))}),!c.userId&&(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Login to filter by your activity"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("button",{onClick:()=>p("price"),className:"flex items-center justify-between w-full text-left",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(_s,{className:"w-4 h-4 text-gray-500"}),(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Price Range"})]}),h.price?(0,ga.jsx)(Lo,{className:"w-4 h-4"}):(0,ga.jsx)(Xi,{className:"w-4 h-4"})]}),h.price&&(0,ga.jsxs)("div",{className:"mt-3 space-y-4",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Min Price"}),(0,ga.jsx)("input",{type:"number",value:(null===(t=u.priceRange)||void 0===t?void 0:t.min)||0,onChange:e=>f("min",e.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm",placeholder:"0"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Max Price"}),(0,ga.jsx)("input",{type:"number",value:(null===(r=u.priceRange)||void 0===r?void 0:r.max)||1e3,onChange:e=>f("max",e.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm",placeholder:"1000"})]})]}),(0,ga.jsx)("div",{className:"px-2",children:(0,ga.jsx)("input",{type:"range",min:"0",max:"1000",value:(null===(a=u.priceRange)||void 0===a?void 0:a.max)||1e3,onChange:e=>f("max",e.target.value),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"})})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("button",{onClick:()=>p("category"),className:"flex items-center justify-between w-full text-left",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(yi,{className:"w-4 h-4 text-gray-500"}),(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Category"})]}),h.category?(0,ga.jsx)(Lo,{className:"w-4 h-4"}):(0,ga.jsx)(Xi,{className:"w-4 h-4"})]}),h.category&&(0,ga.jsx)("div",{className:"mt-3 space-y-2",children:y.map(e=>(0,ga.jsxs)("button",{onClick:()=>x("category",e===(null===u||void 0===u?void 0:u.category)?"":e),className:"flex items-center justify-between w-full p-3 rounded-lg border transition-colors ".concat((null===u||void 0===u?void 0:u.category)===e?"bg-blue-100 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,ga.jsx)("span",{className:"text-sm",children:e}),(null===u||void 0===u?void 0:u.category)===e&&(0,ga.jsx)(Gi,{className:"w-4 h-4"})]},e))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("button",{onClick:()=>p("location"),className:"flex items-center justify-between w-full text-left",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(so,{className:"w-4 h-4 text-gray-500"}),(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Location"})]}),h.location?(0,ga.jsx)(Lo,{className:"w-4 h-4"}):(0,ga.jsx)(Xi,{className:"w-4 h-4"})]}),h.location&&(0,ga.jsx)("div",{className:"mt-3 space-y-2",children:v.map(e=>(0,ga.jsxs)("button",{onClick:()=>x("location",e===(null===u||void 0===u?void 0:u.location)?"":e),className:"flex items-center justify-between w-full p-3 rounded-lg border transition-colors ".concat((null===u||void 0===u?void 0:u.location)===e?"bg-blue-100 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,ga.jsx)("span",{className:"text-sm",children:e}),(null===u||void 0===u?void 0:u.location)===e&&(0,ga.jsx)(Gi,{className:"w-4 h-4"})]},e))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("button",{onClick:()=>p("condition"),className:"flex items-center justify-between w-full text-left",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Gs,{className:"w-4 h-4 text-gray-500"}),(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Condition"})]}),h.condition?(0,ga.jsx)(Lo,{className:"w-4 h-4"}):(0,ga.jsx)(Xi,{className:"w-4 h-4"})]}),h.condition&&(0,ga.jsx)("div",{className:"mt-3 grid grid-cols-2 gap-2",children:j.map(e=>(0,ga.jsx)("button",{onClick:()=>x("condition",e===(null===u||void 0===u?void 0:u.condition)?"":e),className:"p-3 text-sm rounded-lg border transition-colors ".concat((null===u||void 0===u?void 0:u.condition)===e?"bg-blue-100 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300"),children:e},e))})]})]})}),(0,ga.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:(0,ga.jsxs)("div",{className:"flex space-x-3",children:[(0,ga.jsx)("button",{onClick:()=>{m(d)},className:"flex-1 px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Clear All"}),(0,ga.jsxs)("button",{onClick:()=>{l(u),i()},className:"flex-1 px-4 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:["Apply Filters (",b(),")"]})]})}),(0,ga.jsx)("div",{className:"h-safe-area-inset-bottom"})]})]})};const Io=function(e){var t,r,a,s,i;let{listing:o,onFavorite:l,onQuickView:c,onBidUpdate:d}=e;const{user:u}=_a(),{showToast:m}=Fa(),[h,g]=(0,n.useState)(o),[p,x]=(0,n.useState)(o.favorited||!1),[f,b]=(0,n.useState)(""),[y,v]=(0,n.useState)(!1),[j,w]=(0,n.useState)(""),[k,N]=(0,n.useState)(!1),[_,S]=(0,n.useState)({price_range_min_percent:10,price_range_max_percent:10}),[A,C]=(0,n.useState)(null),[E,O]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g(o)},[o]);const P=()=>{var e,t,r,a;if(!u)return!1;return!((null===(e=h.seller)||void 0===e?void 0:e.username)===u.username||h.seller_id===u.id||(null===(t=h.seller)||void 0===t?void 0:t.id)===u.id)&&(null===(r=h.bid_info)||void 0===r||!r.has_bids||(null===(a=h.bid_info)||void 0===a?void 0:a.highest_bidder_id)!==u.id)},T=()=>{var e,t;return null!==(e=h.bid_info)&&void 0!==e&&e.has_bids&&null!==(t=h.bid_info)&&void 0!==t&&t.highest_bid?h.bid_info.highest_bid+1:h.price+1};(0,n.useEffect)(()=>{(async()=>{try{const e="https://cataloro.com",t=await fetch("".concat(e,"/api/marketplace/price-range-settings"));if(t.ok){const e=await t.json();S(e)}}catch(e){console.error("Error fetching price range settings:",e)}})(),(async()=>{if("Catalysts"===h.category&&(h.catalyst_id||h.title)){O(!0);try{const e="https://cataloro.com",t=await fetch("".concat(e,"/api/admin/catalyst/calculations"));if(t.ok){const e=await t.json();let r=null;r=h.catalyst_id?e.find(e=>e.cat_id===h.catalyst_id):e.find(e=>e.name&&e.name.toLowerCase()===h.title.toLowerCase()),r&&r.total_price&&C(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{O(!1)}}})()},[h.catalyst_id,h.title,h.category]);const L=(()=>{if(!u)return{disabled:!0,text:"Login to Bid",color:"bg-gray-400"};if(!P()){var e,t;if((null===(e=h.seller)||void 0===e?void 0:e.username)===u.username||h.seller_id===u.id)return{disabled:!0,text:"Your Listing",color:"bg-gray-400"};if((null===(t=h.bid_info)||void 0===t?void 0:t.highest_bidder_id)===u.id)return{disabled:!0,text:"Highest Bidder",color:"bg-green-500"}}return y?{disabled:!0,text:"Submitting...",color:"bg-blue-400"}:k?{disabled:!0,text:"Bid Submitted!",color:"bg-green-500"}:{disabled:!1,text:"Place Bid",color:"bg-blue-600 hover:bg-blue-700"}})();return(0,ga.jsx)("div",{className:"relative mb-4",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden ".concat((()=>{const{expired:e}=So(h.public_at);return h.is_partners_only&&h.public_at&&!e?"border border-pink-600 shadow-lg shadow-pink-100 dark:shadow-pink-900/20":"border border-gray-200 dark:border-gray-700"})()),children:[(0,ga.jsx)(Le,{to:"/listing/".concat(h.id),className:"block",children:(0,ga.jsxs)("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-700",children:[h.images&&h.images.length>0?(0,ga.jsx)("img",{src:h.images[0],alt:h.title,className:"w-full h-full object-cover",loading:"lazy"}):(0,ga.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-600 rounded-lg mx-auto mb-2 flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-lg font-bold",children:"C"})}),(0,ga.jsx)("p",{className:"text-sm",children:"No Image"})]})}),(0,ga.jsx)("div",{className:"absolute top-2 right-2 flex space-x-2",children:(0,ga.jsx)("button",{onClick:e=>{e.preventDefault(),null===c||void 0===c||c(h)},className:"p-2 bg-black/50 text-white rounded-full backdrop-blur-sm hover:bg-black/70 transition-colors",children:(0,ga.jsx)(Xs,{className:"w-4 h-4"})})}),h.isHotDeal&&(0,ga.jsx)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Hot Deal"}),h.is_partners_only&&h.public_at&&(()=>{const e=Ao(h.public_at);return e?(0,ga.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,ga.jsxs)("span",{className:"inline-flex items-center text-white text-xs px-2 py-1 rounded-full font-medium bg-gradient-to-r from-purple-600 to-pink-600 shadow-lg",children:[(0,ga.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Partner \u2022 ",e]})}):null})(),h.images&&h.images.length>1&&(0,ga.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white px-2 py-1 rounded-full text-xs",children:["+",h.images.length-1]})]})}),(0,ga.jsxs)("div",{className:"p-4",children:[(0,ga.jsx)(Le,{to:"/listing/".concat(h.id),className:"block",children:(0,ga.jsxs)("div",{className:"flex justify-between items-start mb-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg p-2 -m-2 transition-colors",children:[(0,ga.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg leading-tight flex-1 mr-2",children:h.title}),(0,ga.jsxs)("div",{className:"text-right",children:[(0,ga.jsx)("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:Co(null!==(t=h.bid_info)&&void 0!==t&&t.has_bids&&null!==(r=h.bid_info)&&void 0!==r&&r.highest_bid?h.bid_info.highest_bid:h.price)}),(null===(a=h.bid_info)||void 0===a?void 0:a.has_bids)&&(null===(s=h.bid_info)||void 0===s?void 0:s.total_bids)>0&&(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h.bid_info.total_bids," bid",1!==h.bid_info.total_bids?"s":""]})]})]})}),"Catalysts"===h.category&&(0,ga.jsx)("div",{className:"mb-3",children:E?(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[(0,ga.jsx)("div",{className:"w-3 h-3 border border-gray-400 border-t-transparent rounded-full animate-spin mr-2"}),"Loading market range..."]}):A?(0,ga.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 dark:from-indigo-900/40 dark:via-blue-900/40 dark:to-cyan-900/40 border border-indigo-100 dark:border-indigo-800/60 shadow-sm",children:[(0,ga.jsx)("div",{className:"absolute top-0 right-0 w-8 h-8 bg-gradient-to-bl from-indigo-200/20 to-transparent dark:from-indigo-600/10 rounded-bl-full"}),(0,ga.jsx)("div",{className:"relative p-3",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"p-1 rounded-lg bg-gradient-to-r from-indigo-500 to-blue-500 shadow-sm",children:(0,ga.jsx)(bo,{className:"w-3 h-3 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300 uppercase tracking-wide",children:"Market Range"}),(0,ga.jsxs)("div",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-100 leading-tight",children:[Co(A*(100-_.price_range_min_percent)/100)," - ",Co(A*(100+_.price_range_max_percent)/100)]})]})]})})]}):null}),(0,ga.jsx)(Le,{to:"/listing/".concat(h.id),children:(0,ga.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg p-2 -m-2 transition-colors",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(so,{className:"w-4 h-4 mr-1"}),(0,ga.jsx)("span",{children:h.location||"Location"})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Js,{className:"w-4 h-4 mr-1"}),(0,ga.jsx)("span",{children:(e=>{const t=new Date(e),r=new Date,a=Math.floor((r-t)/36e5);return a<1?"Just now":a<24?"".concat(a,"h ago"):"".concat(Math.floor(a/24),"d ago")})(h.created_at)})]})]}),h.rating&&(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Gs,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),(0,ga.jsx)("span",{children:h.rating})]})]})}),(0,ga.jsxs)("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)(Us,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quick Bid"}),(null===(i=h.bid_info)||void 0===i?void 0:i.has_bids)&&(0,ga.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Min: ",Co(T())]})]}),(0,ga.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),!u)return void m("Please login to place bids","error");var t,r;if(!P())return void((null===(t=h.seller)||void 0===t?void 0:t.username)===u.username||h.seller_id===u.id?m("You cannot bid on your own listing","error"):(null===(r=h.bid_info)||void 0===r?void 0:r.highest_bidder_id)===u.id&&m("You are already the highest bidder","info"));const a=parseFloat(f),n=T();if(!a||a<n)w("Minimum bid: ".concat(Co(n)));else{w(""),v(!0);try{const e="https://cataloro.com",t=await fetch("".concat(e,"/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify({listing_id:h.id,buyer_id:u.id,offer_amount:a})}),r=await t.json();if(t.ok){var s;const e=(0,Re.A)((0,Re.A)({},h),{},{bid_info:(0,Re.A)((0,Re.A)({},h.bid_info),{},{has_bids:!0,total_bids:((null===(s=h.bid_info)||void 0===s?void 0:s.total_bids)||0)+1,highest_bid:a,highest_bidder_id:u.id})});g(e),d&&d(o.id,e),N(!0),b(""),m("Bid of ".concat(Co(a)," submitted successfully!"),"success"),setTimeout(()=>{N(!1)},3e3)}else w(r.detail||"Failed to submit bid"),m(r.detail||"Failed to submit bid","error")}catch(i){console.error("Error submitting bid:",i),w("Network error. Please try again."),m("Network error. Please try again.","error")}finally{v(!1)}}},className:"space-y-2",children:[(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsxs)("div",{className:"flex-1 relative",children:[(0,ga.jsx)(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ga.jsx)("input",{type:"number",min:T(),step:"1",value:f,onChange:e=>{b(e.target.value),w("")},placeholder:"Min: ".concat(Co(T())),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!P()&&u,onClick:e=>e.stopPropagation()})]}),(0,ga.jsxs)("button",{type:"submit",disabled:L.disabled,className:"px-4 py-2 text-white text-sm font-medium rounded-lg transition-colors flex items-center ".concat(L.color),onClick:e=>e.stopPropagation(),children:[y&&(0,ga.jsx)("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"}),k&&(0,ga.jsx)(Yi,{className:"w-3 h-3 mr-1"}),(0,ga.jsx)("span",{className:"text-xs",children:L.text})]})]}),j&&(0,ga.jsxs)("div",{className:"flex items-center text-red-600 dark:text-red-400 text-xs",children:[(0,ga.jsx)(Ki,{className:"w-3 h-3 mr-1"}),j]}),k&&(0,ga.jsxs)("div",{className:"flex items-center text-green-600 dark:text-green-400 text-xs",children:[(0,ga.jsx)(Yi,{className:"w-3 h-3 mr-1"}),"Bid submitted successfully!"]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 dark:border-gray-700",children:[(0,ga.jsxs)("button",{onClick:e=>{e.preventDefault(),x(!p),null===l||void 0===l||l(h.id,!p)},className:"flex items-center space-x-1 px-4 py-2 rounded-lg transition-colors ".concat(p?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[(0,ga.jsx)(As,{className:"w-4 h-4 ".concat(p?"fill-current":"")}),(0,ga.jsx)("span",{className:"text-sm",children:"Save"})]}),(0,ga.jsx)(yo,{className:"w-5 h-5 text-gray-400"})]})]})]})})};function Do(e){let{timeInfo:t}=e;const[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(null===t||void 0===t||!t.has_time_limit||void 0===t.time_remaining_seconds||null===t.time_remaining_seconds)return;let e=t.time_remaining_seconds;a(e),i(e<=0);const r=setInterval(()=>{a(e=>e<=1?(i(!0),0):e-1)},1e3);return()=>clearInterval(r)},[t]);return null!==t&&void 0!==t&&t.has_time_limit?(0,ga.jsx)("span",{children:s?"EXPIRED":(e=>{if(e<=0)return"EXPIRED";const t=Math.floor(e/86400),r=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),n=e%60;return t>0?"".concat(t,"d ").concat(r,"h ").concat(a,"m"):r>0?"".concat(r,"h ").concat(a,"m ").concat(n,"s"):a>0?"".concat(a,"m ").concat(n,"s"):"".concat(n,"s")})(r)}):null}function Ro(e){var t,r,a,s,i,o,l,c,d,u,m,h,g,p,x,f,b,y,v,j,w,k,N,_,S,A,C,E,O,P,T,L,M,I,D,R,F,B,U,q,z,H,V,G,W,K,J,Y,$,Q,Z;let{item:X,viewMode:ee,onSubmitTender:te,onFavoriteToggle:ae,onMessageSeller:ne,isInFavorites:se,isSubmittingTender:ie,tenderConfirmation:oe,priceRangeSettings:le,userActiveBids:ce,user:de,permissions:ue}=e;const[me,he]=(0,n.useState)(0),[ge,pe]=(0,n.useState)(null),[xe,fe]=(0,n.useState)(!1),be=re(),ye="grid"===ee,ve=de&&((null===(t=X.seller)||void 0===t?void 0:t.username)===de.username||X.seller_id===de.id||(null===(r=X.seller)||void 0===r?void 0:r.id)===de.id),je=(null===ue||void 0===ue||null===(a=ue.browse)||void 0===a?void 0:a.canPlaceBid)&&!ve;n.useEffect(()=>{var e,t;console.log("\ud83d\udd0d ProductCard [".concat(null===(e=X.id)||void 0===e?void 0:e.slice(0,8),"] - ").concat(X.title,":"),{seller_username:null===(t=X.seller)||void 0===t?void 0:t.username,seller_id:X.seller_id,user_username:null===de||void 0===de?void 0:de.username,user_id:null===de||void 0===de?void 0:de.id,isOwner:ve,canPlaceBid:je})},[X.id,X.seller,X.seller_id,null===de||void 0===de?void 0:de.username,null===de||void 0===de?void 0:de.id,ve,je]),(0,n.useEffect)(()=>{(async()=>{if("Catalysts"===X.category&&(X.catalyst_id||X.title)){fe(!0);try{const e=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();let r=null;r=X.catalyst_id?t.find(e=>e.cat_id===X.catalyst_id):t.find(e=>e.name&&e.name.toLowerCase()===X.title.toLowerCase()),r&&r.total_price&&pe(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{fe(!1)}}})()},[X.catalyst_id,X.title,X.category]);return(0,ga.jsxs)("div",{className:"product-card group bg-white dark:bg-gray-800 rounded-xl transition-all duration-300 overflow-hidden cursor-pointer ".concat((()=>{const{expired:e}=So(X.public_at);return X.is_partners_only&&X.public_at&&!e?"border border-pink-600 shadow-lg shadow-pink-100 dark:shadow-pink-900/20":"border border-gray-200 dark:border-gray-700"})()," ").concat(ye?"hover:-translate-y-1 hover:shadow-xl":"flex space-x-4 p-4"),onClick:()=>{be("/product/".concat(X.id))},children:[(0,ga.jsxs)("div",{className:"relative ".concat(ye?"":"w-48 h-48 flex-shrink-0"),children:[(0,ga.jsx)("div",{className:"absolute inset-0 cursor-pointer z-10",onClick:e=>{e.stopPropagation(),be("/product/".concat(X.id))},title:"View product details"}),(0,ga.jsx)("img",{src:(null===(s=X.images)||void 0===s?void 0:s[me])||(null===(i=X.images)||void 0===i?void 0:i[0])||"/api/placeholder/400/300",alt:X.title,className:"object-cover transition-transform duration-300 group-hover:scale-[1.02] ".concat(ye?"w-full h-64":"w-full h-full rounded-lg")}),X.images&&X.images.length>1&&(0,ga.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 z-20",children:X.images.map((e,t)=>(0,ga.jsx)("div",{className:"w-2 h-2 rounded-full cursor-pointer ".concat(t===me?"bg-white":"bg-white/50"),onClick:e=>{e.stopPropagation(),he(t)}},t))}),(0,ga.jsxs)("div",{className:"absolute top-2 left-2 space-y-1 z-20",children:[null===(o=X.tags)||void 0===o?void 0:o.map(e=>(0,ga.jsx)("span",{className:"inline-block bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:e},e)),(0,ga.jsx)("div",{children:(0,ga.jsx)("span",{className:"inline-block text-white text-xs px-2 py-1 rounded-full font-medium ".concat(null!==(l=X.seller)&&void 0!==l&&l.is_business?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"),children:null!==(c=X.seller)&&void 0!==c&&c.is_business?"Business":"Private"})}),X.show_partner_badge&&"partner_access"===X.visibility_reason&&(0,ga.jsx)("div",{children:(0,ga.jsxs)("span",{className:"inline-flex items-center text-white text-xs px-2 py-1 rounded-full font-medium bg-gradient-to-r from-purple-600 to-pink-600 shadow-lg animate-pulse",children:[(0,ga.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Partner Only"]})})]}),(0,ga.jsx)("div",{className:"absolute bottom-2 left-2 z-20",children:X.is_partners_only&&X.public_at&&(()=>{const e=Ao(X.public_at);return e?(0,ga.jsx)("div",{children:(0,ga.jsxs)("span",{className:"inline-flex items-center text-white text-xs px-2 py-1 rounded-full font-medium bg-gradient-to-r from-purple-600 to-pink-600 shadow-lg",children:[(0,ga.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Partner Listing \u2022 ",e]})}):null})()}),(0,ga.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,ga.jsx)("button",{onClick:e=>ae(X,e),className:"favorites-button wishlist-button add-to-favorites p-3 backdrop-blur-lg rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 ".concat(se(X.id)?"bg-red-500/90 text-white shadow-red-500/25":"bg-white/90 dark:bg-gray-800/90 text-gray-700 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500"),title:se(X.id)?"Remove from favorites":"Add to favorites",children:se(X.id)?(0,ga.jsx)(As,{className:"w-5 h-5 fill-current animate-pulse"}):(0,ga.jsx)(As,{className:"w-5 h-5"})})}),(()=>{const e=X.time_info;if(null===e||void 0===e||!e.has_time_limit||e.is_expired)return null;const t=e.time_remaining_seconds?e.time_remaining_seconds/3600:0;return t>0&&t<=24?(0,ga.jsx)("div",{className:"absolute bottom-2 left-2 bg-gradient-to-r from-red-500 to-orange-500 text-white text-xs px-3 py-1 rounded-full font-bold flex items-center z-20 shadow-lg animate-pulse",children:"\ud83d\udd25 HOT DEAL"}):t>24&&t<=48?(0,ga.jsx)("div",{className:"absolute bottom-2 left-2 bg-gradient-to-r from-yellow-500 to-orange-400 text-white text-xs px-3 py-1 rounded-full font-bold flex items-center z-20 shadow-lg",children:"\u23f0 ENDS SOON"}):null})()]}),(0,ga.jsxs)("div",{className:"".concat(ye?"p-4":"flex-1 min-w-0"),children:[(0,ga.jsx)("div",{className:"mb-3",children:(0,ga.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors ".concat(ye?"text-lg line-clamp-2":"text-xl"),children:X.title})}),(0,ga.jsx)("div",{className:"mb-3",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Co(null!==(d=X.bid_info)&&void 0!==d&&d.has_bids&&null!==(u=X.bid_info)&&void 0!==u&&u.highest_bid?X.bid_info.highest_bid:X.price)}),(null===(m=X.bid_info)||void 0===m?void 0:m.has_bids)&&(0,ga.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:[Co(X.price)," starting"]})]})}),"Catalysts"===X.category&&(0,ga.jsx)("div",{className:"mb-3",children:xe?(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,ga.jsx)("div",{className:"w-3 h-3 border border-gray-400 border-t-transparent rounded-full animate-spin mr-2"}),"Loading market range..."]}):ge?(0,ga.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 dark:from-indigo-900/40 dark:via-blue-900/40 dark:to-cyan-900/40 border border-indigo-100 dark:border-indigo-800/60 shadow-sm",children:[(0,ga.jsx)("div",{className:"absolute top-0 right-0 w-12 h-12 bg-gradient-to-bl from-indigo-200/20 to-transparent dark:from-indigo-600/10 rounded-bl-full"}),(0,ga.jsx)("div",{className:"relative p-3",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"p-1.5 rounded-lg bg-gradient-to-r from-indigo-500 to-blue-500 shadow-sm",children:(0,ga.jsx)(bo,{className:"w-3 h-3 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300 uppercase tracking-wide",children:"Market Range"}),(0,ga.jsxs)("div",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-100 leading-tight",children:["\u20ac",(ge*(100-le.price_range_min_percent)/100).toFixed(0)," - \u20ac",(ge*(100+le.price_range_max_percent)/100).toFixed(0)]})]})]})})]}):null}),(0,ga.jsx)("div",{className:"mb-3",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold ".concat(null!==(h=X.seller)&&void 0!==h&&h.is_business?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-green-500 to-emerald-600"),children:(0,ga.jsx)("span",{children:((null===(g=X.seller)||void 0===g?void 0:g.username)||(null===(p=X.seller)||void 0===p?void 0:p.name)||"U").charAt(0).toUpperCase()})}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null===(x=X.seller)||void 0===x?void 0:x.username)||(null===(f=X.seller)||void 0===f?void 0:f.name)||"Unknown User"}),(null===(b=X.seller)||void 0===b?void 0:b.verified)&&(0,ga.jsx)("span",{className:"text-blue-500 text-xs",children:"\u2713 Verified"})]})]})}),(0,ga.jsx)("div",{className:"mb-3",children:(0,ga.jsxs)("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(so,{className:"w-4 h-4 mr-1"}),(0,ga.jsx)("span",{className:"text-sm",children:((e,t,r)=>{const a=(null===(e=X.address)||void 0===e?void 0:e.city)||"",n=(null===(t=X.address)||void 0===t?void 0:t.country)||"";if(a||n){const e=[a,n].filter(Boolean);return e.length>0?e.join(", "):"Location not specified"}if(null!==(r=X.seller)&&void 0!==r&&r.location){const e=X.seller.location.split(",").map(e=>e.trim());return e.length>=2?e.slice(-2).join(", "):e[0]}return"Location not specified"})()})]})}),(0,ga.jsx)("div",{className:"mb-3",children:(0,ga.jsxs)("div",{className:"relative overflow-hidden rounded-xl border-2 ".concat(null!==(y=X.time_info)&&void 0!==y&&y.has_time_limit?X.time_info.is_expired||X.time_info.time_remaining_seconds<=3600?"border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30":X.time_info.time_remaining_seconds<=21600?"border-orange-200 dark:border-orange-800 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/30":X.time_info.time_remaining_seconds<=86400?"border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30"),children:[(0,ga.jsx)("div",{className:"absolute top-0 right-0 w-12 h-12 rounded-bl-full ".concat(null!==(v=X.time_info)&&void 0!==v&&v.has_time_limit?X.time_info.is_expired||X.time_info.time_remaining_seconds<=3600?"bg-gradient-to-bl from-red-200/20 to-transparent dark:from-red-600/10":X.time_info.time_remaining_seconds<=21600?"bg-gradient-to-bl from-orange-200/20 to-transparent dark:from-orange-600/10":X.time_info.time_remaining_seconds<=86400?"bg-gradient-to-bl from-yellow-200/20 to-transparent dark:from-yellow-600/10":"bg-gradient-to-bl from-green-200/20 to-transparent dark:from-green-600/10":"bg-gradient-to-bl from-green-200/20 to-transparent dark:from-green-600/10")}),(0,ga.jsx)("div",{className:"relative p-3",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"p-1.5 rounded-lg shadow-sm ".concat(null!==(j=X.time_info)&&void 0!==j&&j.has_time_limit?X.time_info.is_expired||X.time_info.time_remaining_seconds<=3600?"bg-gradient-to-r from-red-500 to-red-600":X.time_info.time_remaining_seconds<=21600?"bg-gradient-to-r from-orange-500 to-orange-600":X.time_info.time_remaining_seconds<=86400?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-green-500 to-green-600"),children:(0,ga.jsx)(Js,{className:"w-3 h-3 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide ".concat(null!==(w=X.time_info)&&void 0!==w&&w.has_time_limit?X.time_info.is_expired||X.time_info.time_remaining_seconds<=3600?"text-red-700 dark:text-red-300":X.time_info.time_remaining_seconds<=21600?"text-orange-700 dark:text-orange-300":X.time_info.time_remaining_seconds<=86400?"text-yellow-700 dark:text-yellow-300":"text-green-700 dark:text-green-300":"text-green-700 dark:text-green-300"),children:null!==(k=X.time_info)&&void 0!==k&&k.has_time_limit?X.time_info.is_expired?"Expired":"Time Left":"Without Time Limit"}),(0,ga.jsx)("div",{className:"text-sm font-bold leading-tight ".concat(null!==(N=X.time_info)&&void 0!==N&&N.has_time_limit?X.time_info.is_expired||X.time_info.time_remaining_seconds<=3600?"text-red-900 dark:text-red-100":X.time_info.time_remaining_seconds<=21600?"text-orange-900 dark:text-orange-100":X.time_info.time_remaining_seconds<=86400?"text-yellow-900 dark:text-yellow-100":"text-green-900 dark:text-green-100":"text-green-900 dark:text-green-100"),children:null!==(_=X.time_info)&&void 0!==_&&_.has_time_limit?(0,ga.jsx)(Do,{timeInfo:X.time_info}):"Always Available"})]})]})})]})}),(0,ga.jsxs)("div",{className:"mb-3",children:[(null===(S=X.bid_info)||void 0===S?void 0:S.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&(null===(A=X.bid_info)||void 0===A?void 0:A.has_bids)&&(0,ga.jsx)("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("p",{className:"text-blue-800 dark:text-blue-300 font-semibold text-sm",children:"\ud83c\udf89 You're the highest bidder!"}),(0,ga.jsxs)("p",{className:"text-blue-700 dark:text-blue-400 text-xs",children:["Your bid of \u20ac",X.bid_info.highest_bid.toFixed(2)," is currently winning"]})]})]})}),je?(0,ga.jsxs)("div",{className:"flex space-x-2",onClick:e=>e.stopPropagation(),children:[(0,ga.jsx)("div",{className:"flex-1",children:(0,ga.jsx)("input",{type:"number",min:(null===(C=X.bid_info)||void 0===C?void 0:C.highest_bid)||X.price||0,step:"10",placeholder:null!==(E=X.time_info)&&void 0!==E&&E.is_expired||(null===(O=X.bid_info)||void 0===O?void 0:O.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(P=X.bid_info)&&void 0!==P&&P.has_bids?"Bid...":"Min: \u20ac".concat(((null===(T=X.bid_info)||void 0===T?void 0:T.highest_bid)||X.price||0).toFixed(2)),disabled:(null===(L=X.time_info)||void 0===L?void 0:L.is_expired)||(null===(M=X.bid_info)||void 0===M?void 0:M.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&(null===(I=X.bid_info)||void 0===I?void 0:I.has_bids),className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(null!==(D=X.time_info)&&void 0!==D&&D.is_expired?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 cursor-not-allowed":(null===(R=X.bid_info)||void 0===R?void 0:R.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(F=X.bid_info)&&void 0!==F&&F.has_bids?"border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 cursor-not-allowed":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"),onClick:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),onChange:e=>{e.stopPropagation();e.target.dataset.offerAmount=e.target.value}})}),(0,ga.jsx)("button",{onClick:e=>{var t,r,a,n;if(e.stopPropagation(),null!==(t=X.time_info)&&void 0!==t&&t.is_expired)return void alert("This listing has expired. No more bids can be placed.");if((null===(r=X.bid_info)||void 0===r?void 0:r.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(a=X.bid_info)&&void 0!==a&&a.has_bids)return void alert("You are already the highest bidder! Wait for others to place higher bids.");const s=(null===(n=e.target.parentElement.previousElementSibling)||void 0===n?void 0:n.querySelector("input"))||e.target.parentElement.parentElement.querySelector("input"),i=parseFloat((null===s||void 0===s?void 0:s.value)||0);i&&i>=(X.highest_bid||X.price||0)?(te(X,i),s.value=""):alert("Please enter an amount of at least \u20ac".concat((X.highest_bid||X.price||0).toFixed(2)))},disabled:ie||(null===(B=X.time_info)||void 0===B?void 0:B.is_expired)||(null===(U=X.bid_info)||void 0===U?void 0:U.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&(null===(q=X.bid_info)||void 0===q?void 0:q.has_bids),className:"px-6 py-2.5 rounded-lg font-medium transition-colors flex items-center space-x-2 ".concat(null!==(z=X.time_info)&&void 0!==z&&z.is_expired?"bg-red-400 text-red-100 cursor-not-allowed":(null===(H=X.bid_info)||void 0===H?void 0:H.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(V=X.bid_info)&&void 0!==V&&V.has_bids?"bg-blue-400 text-blue-100 cursor-not-allowed":"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white"),title:null!==(G=X.time_info)&&void 0!==G&&G.is_expired?"Listing has expired":(null===(W=X.bid_info)||void 0===W?void 0:W.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==(K=X.bid_info)&&void 0!==K&&K.has_bids?"You are the highest bidder":"Submit tender offer",children:null!==(J=X.time_info)&&void 0!==J&&J.is_expired?(0,ga.jsx)("span",{children:"EXPIRED"}):(null===(Y=X.bid_info)||void 0===Y?void 0:Y.highest_bidder_id)===(null===de||void 0===de?void 0:de.id)&&null!==($=X.bid_info)&&void 0!==$&&$.has_bids?(0,ga.jsx)("span",{children:"WINNING"}):ie?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Submitting..."})]}):(0,ga.jsx)("span",{children:"Offer"})})]}):ve?(0,ga.jsxs)("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,ga.jsx)("span",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Your Listing - Bidding Disabled"})]}),(0,ga.jsx)("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"You cannot bid on your own listing."}),(0,ga.jsxs)("div",{className:"mt-2 flex items-center justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-yellow-600 dark:text-yellow-400",children:"Current highest bid:"}),(0,ga.jsxs)("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:["\u20ac",((null===(Q=X.bid_info)||void 0===Q?void 0:Q.highest_bid)||X.price||0).toFixed(2)]})]})]}):(0,ga.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Seller Account - Bidding Disabled"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Seller accounts can view all bid information but cannot place bids. Switch to a buyer account to participate in bidding."}),(0,ga.jsxs)("div",{className:"mt-2 flex items-center justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Current highest bid:"}),(0,ga.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:["\u20ac",((null===(Z=X.bid_info)||void 0===Z?void 0:Z.highest_bid)||X.price||0).toFixed(2)]})]})]}),(null===oe||void 0===oe?void 0:oe.visible)&&(0,ga.jsx)("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 animate-pulse",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("p",{className:"text-green-800 dark:text-green-300 font-semibold text-sm",children:"\u2705 Tender Submitted Successfully!"}),(0,ga.jsxs)("p",{className:"text-green-700 dark:text-green-400 text-xs",children:["Your offer of \u20ac",oe.amount.toFixed(2)," has been submitted to the seller"]})]})]})}),X.highest_bid&&(0,ga.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-yellow-800 dark:text-yellow-300 font-medium",children:"Current highest bid:"}),(0,ga.jsxs)("span",{className:"text-yellow-900 dark:text-yellow-200 font-bold",children:["\u20ac",parseFloat(X.highest_bid).toFixed(2)]})]})})]}),(0,ga.jsx)("div",{className:"mt-2 flex items-center justify-end text-xs text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700 pt-2",children:(0,ga.jsx)("span",{children:X.created_at?new Date(X.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):X.createdAt?new Date(X.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):X.date?new Date(X.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Date not available"})})]})]})}const Fo=function(){var e,t,r,a,s,i;const{user:o}=_a(),{showToast:l}=Fa(),{permissions:c}=to(),d=(re(),function(){const[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(0);return(0,n.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(console.log("\ud83d\udd0d ModernBrowsePage - Loading ads config from localStorage:",e?"exists":"not found"),e){const r=JSON.parse(e);console.log("\ud83d\udd0d ModernBrowsePage - Parsed config:",r),console.log("\ud83d\udd0d ModernBrowsePage - AdsManager exists:",!!r.adsManager),r.adsManager?(console.log("\ud83d\udd0d ModernBrowsePage - Setting ads config:",r.adsManager),t(r.adsManager),r.adsManager.browsePageAd&&console.log("\ud83d\udd0d ModernBrowsePage - Browse page ad image URL:",r.adsManager.browsePageAd.image)):(console.log("\u26a0\ufe0f ModernBrowsePage - No adsManager in config, using defaults"),t({browsePageAd:{active:!0,image:null,description:"Advertisement Space",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0}}))}else console.log("\u26a0\ufe0f ModernBrowsePage - No saved config found, using defaults"),t({browsePageAd:{active:!0,image:null,description:"Advertisement Space",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0}})}catch(e){console.error("\u274c ModernBrowsePage - Error loading ads configuration:",e),t({browsePageAd:{active:!0,image:null,description:"Advertisement Space",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0}})}};e();const r=t=>{console.log("\ud83d\udd0d ModernBrowsePage - Ads config update event received:",t.detail),a(e=>e+1),setTimeout(e,100)},n=t=>{"cataloro_site_config"===t.key&&(console.log("\ud83d\udd0d ModernBrowsePage - Storage change detected"),a(e=>e+1),setTimeout(e,100))};return window.addEventListener("adsConfigUpdated",r),window.addEventListener("storage",n),()=>{window.removeEventListener("adsConfigUpdated",r),window.removeEventListener("storage",n)}},[r]),(0,n.useEffect)(()=>{console.log("\ud83d\udd0d ModernBrowsePage - Current adsConfig state:",e),null!==e&&void 0!==e&&e.browsePageAd&&(console.log("\ud83d\udd0d ModernBrowsePage - Browse page ad config:",e.browsePageAd),console.log("\ud83d\udd0d ModernBrowsePage - Browse page ad image URL:",e.browsePageAd.image))},[e]),e}()),{filteredProducts:u,allProducts:m,loadInitialProducts:h,changePage:g,addToFavorites:p,removeFromFavorites:x,favorites:f,setSearchQuery:b,setFilters:y,setSortBy:v,setViewMode:j,searchQuery:w,activeFilters:k,sortBy:N,viewMode:_,isLoading:S,currentPage:A,totalPages:C,totalListings:E,isLoadingPage:O,pageSize:P,refreshListings:T}=Wa(),[L,M]=(0,n.useState)(!1),[I,D]=(0,n.useState)(null),[R,F]=(0,n.useState)(""),[B,U]=(0,n.useState)(!1),[q,z]=(0,n.useState)({}),[H,V]=(0,n.useState)({}),[G,W]=(0,n.useState)({price_range_min_percent:10,price_range_max_percent:10}),[K,J]=(0,n.useState)({}),[Y,$]=(0,n.useState)({show:!1,bidAmount:0,itemTitle:"",itemId:"",success:!1}),[Q,Z]=(0,n.useState)(!1),[X,ee]=(0,n.useState)({}),te=e=>f.some(t=>t.id===e),ae=async(e,t)=>{t.preventDefault(),t.stopPropagation(),o?te(e.id)?await x(e.id,o.id):await p(e,o.id):l("Please login to add favorites","info")},ne=(e,t)=>{t.preventDefault(),t.stopPropagation(),o?e.seller_id!==o.id?(D(e),F("Hi! I'm interested in your listing \"".concat(e.title,'". Is it still available?')),M(!0)):l("You can't message yourself about your own listing","info"):l("Please login to message sellers","info")},[se,ie]=(0,n.useState)(!1),[oe,le]=(0,n.useState)({title:"Discover Amazing Products",description:"From electronics to fashion, find everything you need in one place",height:400,image_url:"",search_placeholder:"Search for anything you need...",display_mode:"boxed",background_type:"gradient",background_color:"#3B82F6",background_gradient_from:"#3f6ec7",background_gradient_to:"#ec4899",background_image:"",gradient_opacity:.8,background_size:"cover",background_repeat:"no-repeat",background_position:"center"}),ce=w,de=k,ue=N,me=_,he=u;(0,n.useEffect)(()=>{(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{le(JSON.parse(e))}catch(t){console.error("Error loading hero content:",t)}})();const e=e=>{le(e.detail)};return window.addEventListener("heroContentUpdated",e),()=>{window.removeEventListener("heroContentUpdated",e)}},[]),(0,n.useEffect)(()=>{(()=>{const e={totalListings:he.length,newToday:he.filter(e=>{const t=new Date(e.created_at),r=new Date;return t.toDateString()===r.toDateString()}).length,hotDeals:he.filter(e=>e.isHotDeal||e.discount>0).length,avgPrice:he.length>0?Math.round(he.reduce((e,t)=>e+(t.price||0),0)/he.length):0};ee(e)})()},[he]),(0,n.useEffect)(()=>{(async()=>{try{const e="https://cataloro.com",t=await fetch("".concat(e,"/api/marketplace/price-range-settings"));if(t.ok){const e=await t.json();W(e)}}catch(e){console.error("Error fetching price range settings:",e)}})(),(async()=>{if(null!==o&&void 0!==o&&o.id)try{const e="https://cataloro.com",t=await fetch("".concat(e,"/api/user/").concat(o.id,"/active-bids"));if(t.ok){const{active_bids:e}=await t.json();J(e)}}catch(e){console.error("Error fetching user active bids:",e)}})()},[null===o||void 0===o?void 0:o.id]);const ge=async(e,t)=>{var r,a;if(!o)return void l("Please login to submit tender offers","error");if((null===(r=e.seller)||void 0===r?void 0:r.username)===o.username||e.seller_id===o.id||(null===(a=e.seller)||void 0===a?void 0:a.id)===o.id)l("You cannot bid on your own listing","error");else{z(t=>(0,Re.A)((0,Re.A)({},t),{},{[e.id]:!0}));try{const r=await fetch("".concat("https://cataloro.com","/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify({listing_id:e.id,buyer_id:o.id,offer_amount:parseFloat(t)})}),a=await r.json();r.ok?($({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!0}),V(r=>(0,Re.A)((0,Re.A)({},r),{},{[e.id]:{amount:parseFloat(t),timestamp:new Date,visible:!0}})),setTimeout(()=>{V(t=>(0,Re.A)((0,Re.A)({},t),{},{[e.id]:(0,Re.A)((0,Re.A)({},t[e.id]),{},{visible:!1})}))},5e3),setTimeout(()=>{T()},1e3)):400===r.status?$({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:a.detail||"Invalid tender offer"}):$({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:"Failed to submit tender offer"})}catch(n){console.error("Error submitting tender:",n),$({show:!0,bidAmount:parseFloat(t),itemTitle:e.title,itemId:e.id,success:!1,errorMessage:"Network error. Please check your connection and try again."})}finally{z(t=>(0,Re.A)((0,Re.A)({},t),{},{[e.id]:!1}))}}},pe=e=>{b(e)},xe=e=>{let{showInfo:t=!0,position:r="bottom"}=e;return 0===he.length?null:(0,ga.jsxs)("div",{className:"flex items-center justify-between ".concat("top"===r?"pb-6":"pt-8"," border-").concat("top"===r?"b":"t"," border-gray-200 dark:border-gray-700"),children:[t&&(0,ga.jsx)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:(0,ga.jsxs)("span",{children:["Showing ",(A-1)*P+1," to ",Math.min(A*P,E)," of ",E," listings"]})}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 ".concat(t?"":"w-full justify-center"),children:[(0,ga.jsxs)("button",{onClick:()=>g(A-1),disabled:1===A||O,className:"flex items-center px-3 py-2 rounded-lg border transition-colors ".concat(1===A||O?"border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-600 cursor-not-allowed":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,ga.jsx)(wo,{className:"w-4 h-4 mr-1"}),"Previous"]}),(0,ga.jsx)("div",{className:"flex items-center space-x-1",children:(()=>{const e=[];let t=Math.max(1,A-Math.floor(2.5)),r=Math.min(C,t+5-1);r-t+1<5&&(t=Math.max(1,r-5+1)),t>1&&(e.push((0,ga.jsx)("button",{onClick:()=>g(1),disabled:O,className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"1"},1)),t>2&&e.push((0,ga.jsx)("span",{className:"px-2 text-gray-400",children:"..."},"start-ellipsis")));for(let a=t;a<=r;a++)e.push((0,ga.jsx)("button",{onClick:()=>g(a),disabled:O,className:"px-3 py-2 rounded-lg border transition-colors disabled:opacity-50 ".concat(a===A?"border-blue-500 bg-blue-500 text-white":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:a},a));return r<C&&(r<C-1&&e.push((0,ga.jsx)("span",{className:"px-2 text-gray-400",children:"..."},"end-ellipsis")),e.push((0,ga.jsx)("button",{onClick:()=>g(C),disabled:O,className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:C},C))),e})()}),(0,ga.jsxs)("button",{onClick:()=>g(A+1),disabled:A===C||O,className:"flex items-center px-3 py-2 rounded-lg border transition-colors ".concat(A===C||O?"border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-600 cursor-not-allowed":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:["Next",(0,ga.jsx)(yo,{className:"w-4 h-4 ml-1"})]})]})]})},fe=e=>{console.log("\ud83d\udd25 updateFilters called with:",e),y(e)},be=e=>{j(e)};return S?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading amazing products..."})]})}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("div",{className:"hero-section relative text-white overflow-hidden ".concat("full_width"===oe.display_mode?"w-screen":"w-full"),style:(()=>{const e=(e,t)=>{const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!r)return e;const a=parseInt(r[1],16),n=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba(".concat(a,", ").concat(n,", ").concat(s,", ").concat(t,")")},t="full_width"===oe.display_mode,r=oe.gradient_opacity||.8,a={height:"".concat(oe.height||400,"px"),minHeight:"300px",marginTop:"-2rem",marginBottom:"2rem"};switch(t?(a.marginLeft="calc(-50vw + 50%)",a.marginRight="calc(-50vw + 50%)"):(a.marginLeft="0",a.marginRight="0",a.borderRadius="1rem"),"image"!==oe.background_type&&"image-gradient"!==oe.background_type||(a.backgroundSize=oe.background_size||"cover",a.backgroundPosition=oe.background_position||"center",a.backgroundRepeat=oe.background_repeat||"no-repeat"),oe.background_type){case"gradient":return(0,Re.A)((0,Re.A)({},a),{},{backgroundImage:"linear-gradient(to right, ".concat(oe.background_gradient_from||"#3f6ec7",", ").concat(oe.background_gradient_to||"#ec4899",")")});case"solid":return(0,Re.A)((0,Re.A)({},a),{},{backgroundColor:oe.background_color||"#3B82F6"});case"image":return(0,Re.A)((0,Re.A)({},a),{},{backgroundImage:oe.background_image?"linear-gradient(rgba(0,0,0,".concat(.5*r,"), rgba(0,0,0,").concat(.5*r,")), url(").concat(oe.background_image,")"):"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)"});case"image-gradient":const t=e(oe.background_gradient_from||"#3f6ec7",r),n=e(oe.background_gradient_to||"#ec4899",r);return(0,Re.A)((0,Re.A)({},a),{},{backgroundImage:oe.background_image?"linear-gradient(to right, ".concat(t,", ").concat(n,"), url(").concat(oe.background_image,")"):"linear-gradient(to right, ".concat(oe.background_gradient_from||"#3f6ec7",", ").concat(oe.background_gradient_to||"#ec4899",")")});default:return(0,Re.A)((0,Re.A)({},a),{},{backgroundImage:"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)"})}})(),children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,ga.jsxs)("div",{className:"relative z-10 text-center flex flex-col justify-center h-full px-8 max-w-7xl mx-auto",children:[oe.image_url&&(0,ga.jsx)("div",{className:"mb-6 flex justify-center",children:(0,ga.jsx)("img",{src:oe.image_url,alt:"Hero",className:"max-h-24 max-w-48 object-contain"})}),(0,ga.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:oe.title||"Discover Amazing Products"}),(0,ga.jsx)("p",{className:"text-xl mb-8 opacity-90 max-w-3xl mx-auto",children:oe.description||"From electronics to fashion, find everything you need in one place"}),(0,ga.jsx)("div",{className:"w-full",children:(0,ga.jsx)("div",{className:"search-bar-container relative bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 max-w-4xl mx-auto",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(ko,{className:"absolute left-6 text-white/70 w-6 h-6"}),(0,ga.jsx)("input",{type:"text",placeholder:oe.search_placeholder||"Search for anything you need...",value:ce,onChange:e=>pe(e.target.value),className:"w-full pl-16 pr-4 py-4 bg-transparent text-white placeholder-white/70 text-lg focus:outline-none"}),(0,ga.jsx)("button",{onClick:()=>{var e;ce.trim()&&(null===(e=document.getElementById("search-results"))||void 0===e||e.scrollIntoView({behavior:"smooth"}))},className:"flex-shrink-0 px-8 py-4 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white rounded-xl font-semibold transition-all duration-200 hover:scale-105",children:"Search"})]})})})]})]}),(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{id:"search-results",className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between ".concat("full_width"===oe.display_mode?"mt-8":""),children:[(0,ga.jsxs)("div",{className:"flex items-center gap-4 text-gray-600 dark:text-gray-300",children:[ce&&(0,ga.jsxs)("span",{className:"text-lg font-semibold",children:['Search results for "',ce,'"']}),(0,ga.jsxs)("button",{onClick:async()=>{try{l("Refreshing listings...","info"),await T(),l("Listings refreshed!","success")}catch(e){console.error("Failed to refresh listings:",e),l("Failed to refresh listings","error")}},className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg font-medium transition-all duration-200 hover:scale-105",title:"Refresh listings from server",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("button",{onClick:()=>ie(!se),className:"flex items-center space-x-2 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[(0,ga.jsx)(No,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Filters"})]}),o&&(0,ga.jsx)("button",{onClick:()=>fe((0,Re.A)((0,Re.A)({},de),{},{bidFilter:"placed_bid"===de.bidFilter?"all":"placed_bid"})),className:"flex items-center space-x-2 px-4 py-3 border rounded-xl transition-all duration-200 ".concat("placed_bid"===de.bidFilter?"bg-blue-500 text-white border-blue-500 shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:border-blue-300"),children:(0,ga.jsx)("span",{className:"hidden sm:inline",children:"My Bids"})}),(0,ga.jsxs)("select",{value:ue,onChange:e=>{return t=e.target.value,void v(t);var t},className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[(0,ga.jsx)("option",{value:"newest",children:"Newest First"}),(0,ga.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,ga.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,ga.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,ga.jsx)("option",{value:"popular",children:"Most Popular"})]}),(0,ga.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[(0,ga.jsx)("button",{onClick:()=>be("grid"),className:"p-2 rounded-lg transition-all duration-200 ".concat("grid"===me?"bg-white dark:bg-gray-700 shadow-sm text-blue-600":"text-gray-600 dark:text-gray-400"),children:(0,ga.jsx)(ki,{className:"w-5 h-5"})}),(0,ga.jsx)("button",{onClick:()=>be("list"),className:"p-2 rounded-lg transition-all duration-200 ".concat("list"===me?"bg-white dark:bg-gray-700 shadow-sm text-blue-600":"text-gray-600 dark:text-gray-400"),children:(0,ga.jsx)(wi,{className:"w-5 h-5"})})]})]})]}),se&&(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Advanced Filters"}),(0,ga.jsx)("button",{onClick:()=>ie(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ga.jsx)(Is,{className:"w-5 h-5"})})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,ga.jsxs)("select",{value:de.type,onChange:e=>fe((0,Re.A)((0,Re.A)({},de),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-10 leading-none",children:[(0,ga.jsx)("option",{value:"all",children:"All Types"}),(0,ga.jsx)("option",{value:"Private",children:"Private"}),(0,ga.jsx)("option",{value:"Business",children:"Business"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"My Activity"}),(0,ga.jsxs)("select",{value:de.bidFilter||"all",onChange:e=>fe((0,Re.A)((0,Re.A)({},de),{},{bidFilter:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-10 leading-none",disabled:!o,children:[(0,ga.jsx)("option",{value:"all",children:"All Listings"}),(0,ga.jsx)("option",{value:"placed_bid",children:"I Placed a Bid"}),(0,ga.jsx)("option",{value:"not_placed_bid",children:"I Haven't Bid Yet"}),(0,ga.jsx)("option",{value:"own_listings",children:"My Listings"})]}),!o&&(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Login to filter by your activity"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Special Deals"}),(0,ga.jsxs)("select",{value:de.hotDeals||"all",onChange:e=>fe((0,Re.A)((0,Re.A)({},de),{},{hotDeals:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-10 leading-none",children:[(0,ga.jsx)("option",{value:"all",children:"All Items"}),(0,ga.jsx)("option",{value:"expiring_soon",children:"\u23f0 Expiring Soon (under 48h)"}),(0,ga.jsx)("option",{value:"no_time_limit",children:"\u267e\ufe0f No Time Limit"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Find items ending soon for better deals"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range (\u20ac)"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 h-10",children:[(0,ga.jsx)("div",{className:"flex-1",children:(0,ga.jsx)("input",{type:"number",placeholder:"From",min:"0",value:de.priceFrom,onChange:e=>fe((0,Re.A)((0,Re.A)({},de),{},{priceFrom:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm h-full"})}),(0,ga.jsx)("span",{className:"text-gray-500 dark:text-gray-400 flex-shrink-0",children:"-"}),(0,ga.jsx)("div",{className:"flex-1",children:(0,ga.jsx)("input",{type:"number",placeholder:"To",min:"0",value:de.priceTo,onChange:e=>fe((0,Re.A)((0,Re.A)({},de),{},{priceTo:parseInt(e.target.value)||1e4})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm h-full"})})]}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["From \u20ac",de.priceFrom," to \u20ac",de.priceTo]})]}),(0,ga.jsxs)("div",{className:"flex flex-col md:col-span-3",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Actions"}),(0,ga.jsxs)("div",{className:"flex space-x-4",children:[(0,ga.jsx)("button",{onClick:()=>fe({type:"all",priceFrom:0,priceTo:1e4,location:"all",rating:0,bidFilter:"all",hotDeals:"all"}),className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors h-10",children:"Clear All Filters"}),o&&(0,ga.jsx)("button",{onClick:()=>fe((0,Re.A)((0,Re.A)({},de),{},{bidFilter:"own_listings"})),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors h-10",children:"Show My Listings"})]})]})]})]}),(0,ga.jsxs)("div",{className:"mt-6",children:[(0,ga.jsx)(xe,{showInfo:!0,position:"top"}),0===he.length?(0,ga.jsxs)("div",{className:"text-center py-16",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ga.jsx)(ko,{className:"w-8 h-8 text-gray-400"})}),(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No products found"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:ce?"Try adjusting your search terms or filters":"Be the first to create a listing!"}),(0,ga.jsx)(Le,{to:"/create-listing",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Create Your First Listing"})]}):(0,ga.jsxs)("div",{className:"flex gap-6",children:[(0,ga.jsx)("div",{className:"".concat(null!==d&&void 0!==d&&null!==(e=d.browsePageAd)&&void 0!==e&&e.active?"flex-1":"w-full"),children:(0,ga.jsx)("div",{className:"grid"===me?null!==d&&void 0!==d&&null!==(t=d.browsePageAd)&&void 0!==t&&t.active?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:he.map(e=>(0,ga.jsx)(Ro,{item:e,viewMode:me,onSubmitTender:ge,onFavoriteToggle:ae,onMessageSeller:ne,isInFavorites:te,isSubmittingTender:q[e.id]||!1,tenderConfirmation:H[e.id],priceRangeSettings:G,userActiveBids:K,user:o,permissions:c},e.id))})}),(null===d||void 0===d||null===(r=d.browsePageAd)||void 0===r?void 0:r.active)&&(0,ga.jsx)("div",{className:"flex-shrink-0",children:(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-all duration-200 ".concat(d.browsePageAd.url?"cursor-pointer hover:scale-[1.02]":""),style:{width:d.browsePageAd.width||"300px",height:d.browsePageAd.height||"600px"},onClick:e=>{if(console.log("\ud83d\udd17 Ad clicked!"),console.log("\ud83d\udd17 Event details:",{target:e.target.tagName,currentTarget:e.currentTarget.tagName,url:d.browsePageAd.url}),d.browsePageAd.url){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),console.log("\ud83d\udd17 Opening URL in new tab:",d.browsePageAd.url),(0,Eo.trackAdClick)("browsePageAd");try{const e=window.open(d.browsePageAd.url,"_blank","noopener,noreferrer");if(e)e.focus(),console.log("\u2705 Successfully opened URL in new tab");else{console.log("\u274c Popup blocked - trying alternative method");const e=document.createElement("a");e.href=d.browsePageAd.url,e.target="_blank",e.rel="noopener noreferrer",document.body.appendChild(e),e.click(),document.body.removeChild(e),console.log("\u2705 Opened URL using fallback method")}}catch(t){console.error("\u274c Failed to open URL:",t)}return!1}console.log("\ud83d\udd17 No URL configured for ad")},children:d.browsePageAd.image?(0,ga.jsxs)("div",{className:"relative w-full h-full",children:[(0,ga.jsx)("img",{src:d.browsePageAd.image,alt:d.browsePageAd.description||"Advertisement",className:"w-full h-full object-cover",onError:e=>{console.error("Ad image failed to load:",d.browsePageAd.image),e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,ga.jsxs)("div",{className:"absolute inset-0 flex-col items-center justify-center p-6 text-center hidden",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ga.jsx)(li,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Advertisement Space"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:d.browsePageAd.description})]})]}):(0,ga.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 text-center h-full",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ga.jsx)(li,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Advertisement Space"}),d.browsePageAd.description?(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:d.browsePageAd.description}):(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Your ad will appear here"}),(0,ga.jsxs)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:["Runtime: ",d.browsePageAd.runtime||"1 month"]}),d.browsePageAd.clicks>0&&(0,ga.jsxs)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:[d.browsePageAd.clicks," clicks"]})]})})})]})]}),(0,ga.jsx)(xe,{showInfo:!0,position:"bottom"}),O&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-40",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-xl flex items-center space-x-3",children:[(0,ga.jsx)(Qi,{className:"w-5 h-5 animate-spin text-blue-500"}),(0,ga.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:["Loading page ",A,"..."]})]})}),L&&I&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full",children:[(0,ga.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,ga.jsx)(Ns,{className:"w-6 h-6 mr-2"}),"Message Seller"]}),(0,ga.jsx)("button",{onClick:()=>M(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,ga.jsx)(Is,{className:"w-6 h-6"})})]})}),(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-start space-x-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[(0,ga.jsx)("img",{src:(null===(a=I.images)||void 0===a?void 0:a[0])||"/api/placeholder/400/300",alt:I.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:I.title}),(0,ga.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",parseFloat(I.price||0).toFixed(2)]}),(0,ga.jsxs)("div",{className:"flex items-center mt-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)(Es,{className:"w-4 h-4 mr-1"}),"Seller: ","string"===typeof I.seller?I.seller:(null===(s=I.seller)||void 0===s?void 0:s.name)||I.seller_id||"Unknown"]})]})]}),(0,ga.jsxs)("div",{className:"mb-6",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Message"}),(0,ga.jsx)("textarea",{value:R,onChange:e=>F(e.target.value),rows:4,className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Type your message to the seller..."})]}),(0,ga.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,ga.jsx)("button",{onClick:()=>M(!1),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,ga.jsx)("button",{onClick:async()=>{if(R.trim()&&I)try{U(!0),await Ua.sendMessage(o.id,{recipient_id:I.seller_id,subject:"Inquiry about: ".concat(I.title),content:R}),l("Message sent successfully!","success"),M(!1),F(""),D(null)}catch(e){console.error("Failed to send message:",e),l("Failed to send message. Please try again.","error")}finally{U(!1)}else l("Please enter a message","error")},disabled:!R.trim()||B,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-xl font-medium transition-colors flex items-center",children:B?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(_o,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})}),Y.show&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full",children:[(0,ga.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 ".concat(Y.success?"bg-gradient-to-r from-green-600 to-emerald-600":"bg-gradient-to-r from-red-600 to-pink-600"),children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("h3",{className:"text-xl font-bold text-white flex items-center",children:Y.success?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Bid Submitted Successfully!"]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Bid Submission Failed"]})}),(0,ga.jsx)("button",{onClick:()=>$((0,Re.A)((0,Re.A)({},Y),{},{show:!1})),className:"text-white hover:text-gray-200 transition-colors",children:(0,ga.jsx)(Is,{className:"w-6 h-6"})})]})}),(0,ga.jsx)("div",{className:"p-6",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsxs)("div",{className:"mb-4",children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:Y.itemTitle}),(0,ga.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",null===(i=Y.bidAmount)||void 0===i?void 0:i.toFixed(2)]})]}),Y.success?(0,ga.jsx)("div",{className:"space-y-3",children:(0,ga.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[(0,ga.jsx)("p",{className:"text-green-800 dark:text-green-300 font-medium",children:"\ud83c\udf89 Your tender offer has been submitted successfully!"}),(0,ga.jsx)("p",{className:"text-green-700 dark:text-green-400 text-sm mt-1",children:"The seller will be notified and can accept or decline your offer."})]})}):(0,ga.jsx)("div",{className:"space-y-3",children:(0,ga.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[(0,ga.jsxs)("p",{className:"text-red-800 dark:text-red-300 font-medium",children:["\u274c ",Y.errorMessage]}),(0,ga.jsx)("p",{className:"text-red-700 dark:text-red-400 text-sm mt-1",children:"Please check your bid amount and try again."})]})}),(0,ga.jsx)("div",{className:"mt-6",children:(0,ga.jsx)("button",{onClick:()=>$((0,Re.A)((0,Re.A)({},Y),{},{show:!1})),className:"w-full px-6 py-3 rounded-xl font-medium transition-colors ".concat(Y.success?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"),children:Y.success?"Great!":"Try Again"})})]})})]})})]})]})};const Bo=function(){const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[s,i]=(0,n.useState)(""),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)({category:"",priceRange:{min:0,max:1e3},location:"",condition:"",dateRange:"",rating:0,sortBy:"newest"}),[u,m]=(0,n.useState)([]),[h,g]=(0,n.useState)({totalListings:0,newToday:0,hotDeals:0,avgPrice:0});(0,n.useEffect)(()=>{(async()=>{try{a(!0),console.log("\ud83d\udcf1 Mobile browse: Loading listings directly from API");const e=localStorage.getItem("cataloro_token"),r=localStorage.getItem("cataloro_user");let n=null;if(r)try{n=JSON.parse(r).id}catch(hx){console.warn("Error parsing user data:",hx)}let s="".concat("https://cataloro.com","/api/marketplace/browse?limit=50&offset=0");n&&(s+="&user_id=".concat(n));const i={"Content-Type":"application/json"};e&&(i.Authorization="Bearer ".concat(e));const o=await fetch(s,{headers:i});if(!o.ok)throw new Error("HTTP ".concat(o.status,": ").concat(o.statusText));const l=await o.json(),c=l.listings||(Array.isArray(l)?l:[]);console.log("\ud83d\udcf1 Mobile browse: Loaded",c.length,"listings"),t(c),m(c);const d={totalListings:c.length,newToday:c.filter(e=>{const t=new Date(e.created_at),r=new Date;return t.toDateString()===r.toDateString()}).length,hotDeals:c.filter(e=>{const t=e.isHotDeal||e.discount>0,r=e.expires_at&&new Date(e.expires_at)<=new Date(Date.now()+864e5)&&new Date(e.expires_at)>new Date;return t||r}).length,avgPrice:c.length>0?Math.round(c.reduce((e,t)=>e+(t.price||0),0)/c.length):0};g(d)}catch(e){console.error("\u274c Mobile browse: Error loading listings:",e),t([]),e.message.includes("Failed to fetch")||e.message.includes("network")?console.error("\u274c Mobile browse: Network error - check connection"):e.message.includes("401")||e.message.includes("403")?(console.error("\u274c Mobile browse: Authentication error - redirecting to login"),window.location.href="/login"):console.error("\u274c Mobile browse: API error:",e.message)}finally{a(!1)}})()},[]),(0,n.useEffect)(()=>{e.length>0&&p(e,s,c)},[e]),(0,n.useEffect)(()=>{e.length>0&&p(e,s,c)},[e]);const p=(e,t,r)=>{let a=[...e];if(t&&t.trim()){const e=t.toLowerCase();a=a.filter(t=>{var r,a,n,s;return(null===(r=t.title)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(a=t.description)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(n=t.seller)||void 0===n||null===(s=n.username)||void 0===s?void 0:s.toLowerCase().includes(e))})}switch((r.priceRange&&r.priceRange.min>0||r.priceRange.max<1e3)&&(a=a.filter(e=>{const t=e.price||0;return t>=r.priceRange.min&&t<=r.priceRange.max})),r.category&&""!==r.category&&(a=a.filter(e=>{var t;return(null===(t=e.category)||void 0===t?void 0:t.toLowerCase())===r.category.toLowerCase()})),r.condition&&""!==r.condition&&(a=a.filter(e=>{var t;return(null===(t=e.condition)||void 0===t?void 0:t.toLowerCase())===r.condition.toLowerCase()})),r.sortBy){case"price_low":a.sort((e,t)=>(e.price||0)-(t.price||0));break;case"price_high":a.sort((e,t)=>(t.price||0)-(e.price||0));break;case"newest":a.sort((e,t)=>new Date(t.created_at||0)-new Date(e.created_at||0));break;case"oldest":a.sort((e,t)=>new Date(e.created_at||0)-new Date(t.created_at||0))}m(a)},x=(e,r)=>{t(t=>t.map(t=>t.id===e?r:t))};return r?(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading listings..."})]})}):(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20",children:[(0,ga.jsx)(To,{quickStats:h,onSearch:t=>{i(t),p(e,t,c)},onFilterToggle:()=>l(!0),searchTerm:s}),(0,ga.jsx)("div",{className:"px-4 mb-6",children:(0,ga.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white p-4",children:(0,ga.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)(Ts,{className:"w-5 h-5 mx-auto mb-1 opacity-80"}),(0,ga.jsx)("div",{className:"text-lg font-bold",children:h.totalListings}),(0,ga.jsx)("div",{className:"text-xs opacity-80",children:"Total"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)(Js,{className:"w-5 h-5 mx-auto mb-1 opacity-80"}),(0,ga.jsx)("div",{className:"text-lg font-bold",children:h.newToday}),(0,ga.jsx)("div",{className:"text-xs opacity-80",children:"New Today"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)(Us,{className:"w-5 h-5 mx-auto mb-1 opacity-80"}),(0,ga.jsx)("div",{className:"text-lg font-bold",children:h.hotDeals}),(0,ga.jsx)("div",{className:"text-xs opacity-80",children:"Hot Deals"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)(_s,{className:"w-5 h-5 mx-auto mb-1 opacity-80"}),(0,ga.jsxs)("div",{className:"text-lg font-bold",children:["\u20ac",h.avgPrice]}),(0,ga.jsx)("div",{className:"text-xs opacity-80",children:"Avg Price"})]})]})})}),(0,ga.jsx)("div",{className:"px-4",children:0===u.length?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Ts,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No listings found"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:s?"Try adjusting your search terms":"Be the first to list an item!"})]}):(0,ga.jsx)("div",{className:"grid gap-4",children:u.map(e=>(0,ga.jsx)(Io,{listing:e,onBidUpdate:x},e.id))})}),o&&(0,ga.jsx)(Mo,{isOpen:o,onClose:()=>l(!1),filters:c,onFiltersChange:t=>{(t=>{d(t),p(e,s,t)})(t),l(!1)}})]})},Uo=e=>{let{basePrice:t,baseCurrency:r="EUR",className:a=""}=e;return(0,ga.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white ".concat(a),children:(n=t,"number"!==typeof n?"\u20ac0.00":new Intl.NumberFormat("de-DE",{style:"currency",currency:r,minimumFractionDigits:2,maximumFractionDigits:2}).format(n))});var n},qo=js("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function zo(e){let{timeInfo:t}=e;const[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(null===t||void 0===t||!t.has_time_limit||void 0===t.time_remaining_seconds||null===t.time_remaining_seconds)return;let e=t.time_remaining_seconds;a(e),i(e<=0);const r=setInterval(()=>{a(e=>e<=1?(i(!0),0):e-1)},1e3);return()=>clearInterval(r)},[t]);return null!==t&&void 0!==t&&t.has_time_limit?(0,ga.jsx)("span",{children:s?"EXPIRED":(e=>{if(e<=0)return"EXPIRED";const t=Math.floor(e/86400),r=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),n=e%60;return t>0?"".concat(t,"d ").concat(r,"h ").concat(a,"m"):r>0?"".concat(r,"h ").concat(a,"m"):a>0?"".concat(a,"m ").concat(n,"s"):"".concat(n,"s")})(r)}):null}function Ho(e){let{weight:t,ptPpm:r,pdPpm:a,rhPpm:s,ptG:i,pdG:o,rhG:l}=e;const[c,d]=(0,n.useState)(null);let u,m,h;return(0,n.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/price-settings"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();d(e)}}catch(e){console.error("Failed to fetch price settings:",e)}})()},[]),void 0!==i&&void 0!==o&&void 0!==l?(u=i,m=o,h=l):c&&t&&(r||a||s)?(u=t&&r?t*r/1e3*(c.renumeration_pt||.98):0,m=t&&a?t*a/1e3*(c.renumeration_pd||.98):0,h=t&&s?t*s/1e3*(c.renumeration_rh||.9):0):(u=0,m=0,h=0),t||u||m||h?(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,ga.jsx)(bo,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Catalyst Content"}),(0,ga.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"Admin Only"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ga.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[(0,ga.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase font-medium mb-1",children:"Weight"}),(0,ga.jsxs)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[t||0,"g"]})]}),(0,ga.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[(0,ga.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase font-medium mb-1",children:"Pt g"}),(0,ga.jsx)("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:(u||0).toFixed(4)})]}),(0,ga.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[(0,ga.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400 uppercase font-medium mb-1",children:"Pd g"}),(0,ga.jsx)("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:(m||0).toFixed(4)})]}),(0,ga.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-blue-100 dark:border-blue-800 shadow-sm",children:[(0,ga.jsx)("div",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase font-medium mb-1",children:"Rh g"}),(0,ga.jsx)("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:(h||0).toFixed(4)})]})]}),(0,ga.jsxs)("div",{className:"mt-4 text-xs text-blue-600 dark:text-blue-400",children:[(0,ga.jsx)(bo,{className:"w-4 h-4 inline mr-1"}),"Content values visible only to Admin and Manager users for catalyst analysis."]})]}):null}const Vo=function(){var e,t,r,a,s,i,o,l,c,d,u,m,h,g,p,x,f,b,y,v,j,w,k,N,_,S,A,C,E,O,P,T,L,M,I,D,R,F,B,U,q,z,H,V;const{productId:G}=ne(),W=re(),{user:K}=_a(),{showToast:J}=Fa(),{permissions:Y}=to(),$="Admin"===(null===Y||void 0===Y?void 0:Y.userRole)||"Manager"===(null===Y||void 0===Y?void 0:Y.userRole)||(null===Y||void 0===Y?void 0:Y.hasPermission)&&(Y.hasPermission("admin")||Y.hasPermission("manager"))||!1;console.log("ProductDetailPage - Permission Debug:",{userRole:null===Y||void 0===Y?void 0:Y.userRole,isAdminOrManager:$,permissions:Y});const{allProducts:Q,addToFavorites:Z,removeFromFavorites:X,favorites:ee,addToRecentlyViewed:te,showNotification:ae}=Wa(),[se,ie]=(0,n.useState)(null),[oe,le]=(0,n.useState)(0),[ce,de]=(0,n.useState)("description"),[ue,me]=(0,n.useState)(!0),[he,ge]=(0,n.useState)(""),[pe,xe]=(0,n.useState)(!1),[fe,be]=(0,n.useState)(null),[ye,ve]=(0,n.useState)(null),[je,we]=(0,n.useState)(!1);(0,n.useEffect)(()=>{se&&console.log("ProductDetailPage - Catalyst Data Debug:",{productId:se.id,title:se.title,ceramic_weight:se.ceramic_weight,pt_ppm:se.pt_ppm,pd_ppm:se.pd_ppm,rh_ppm:se.rh_ppm,pt_g:se.pt_g,pd_g:se.pd_g,rh_g:se.rh_g,hasCatalystData:!!(se.ceramic_weight||se.pt_ppm||se.pd_ppm||se.rh_ppm||se.pt_g||se.pd_g||se.rh_g)})},[se]);const ke=(null===se||void 0===se||null===(e=se.time_info)||void 0===e?void 0:e.is_expired)||!1;if((0,n.useEffect)(()=>{G&&(async()=>{try{console.log("\ud83d\udd0d Loading product details for desktop:",G);const e=await fetch("".concat("https://cataloro.com","/api/listings/").concat(G,"?increment_view=true"));if(e.ok){const t=await e.json(),r=await fetch("".concat("https://cataloro.com","/api/listings/").concat(G,"/tenders"));if(r.ok){const e=(await r.json()).filter(e=>"active"===e.status);if(e.length>0){const r=Math.max(...e.map(e=>e.offer_amount)),a=e.find(e=>e.offer_amount===r);t.bid_info={has_bids:!0,highest_bid:r,highest_bidder_id:null===a||void 0===a?void 0:a.buyer_id,total_bids:e.length}}else t.bid_info={has_bids:!1,highest_bid:null,highest_bidder_id:null,total_bids:0}}return ie(t),te(t),console.log("\u2705 Desktop product detail loaded:",t.title),console.log("\ud83d\udcb0 Desktop bid info:",t.bid_info),void me(!1)}console.log("\u26a0\ufe0f Individual listing failed, trying cached data");const t=Q.find(e=>e.id===G);if(t)return ie(t),te(t),void me(!1);if(Q.length>0){console.log("\u26a0\ufe0f Cached data failed, trying browse endpoint");const e=await fetch("".concat("https://cataloro.com","/api/marketplace/browse"));if(e.ok){const t=await e.json(),r=(t.listings||(Array.isArray(t)?t:[])).find(e=>e.id===G);if(r)return ie(r),te(r),void me(!1)}console.log("\u274c Product not found, redirecting to browse"),W("/browse")}}catch(e){console.error("\u274c Error loading desktop product:",e);const t=Q.find(e=>e.id===G);t?(ie(t),te(t)):W("/browse"),me(!1)}})()},[G,Q,W,te]),(0,n.useEffect)(()=>{(async()=>{if(se&&"Catalysts"===se.category&&(se.catalyst_id||se.title)){we(!0);try{const e=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();let r=null;r=se.catalyst_id?t.find(e=>e.cat_id===se.catalyst_id):t.find(e=>e.name&&e.name.toLowerCase()===se.title.toLowerCase()),r&&r.total_price&&ve(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{we(!1)}}})()},[se]),ue||!se)return(0,ga.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading product details..."})]})});const Ne=ee.some(e=>e.id===se.id),_e=se.images||[se.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500"],Se=Q.filter(e=>e.id!==se.id&&e.category===se.category).slice(0,4);return(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)("button",{onClick:()=>W("/browse"),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Browse"}),(0,ga.jsx)("span",{children:"\u203a"}),(0,ga.jsx)("span",{className:"text-gray-900 dark:text-white",children:se.title})]}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 ".concat((()=>{const{expired:e}=So(se.public_at);return se.is_partners_only&&se.public_at&&!e?"border border-pink-600 shadow-lg shadow-pink-100 dark:shadow-pink-900/20":"border border-gray-200 dark:border-gray-700"})()),children:(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("img",{src:_e[oe],alt:se.title,className:"w-full h-96 object-cover rounded-xl"}),_e.length>1&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("button",{onClick:()=>le(e=>0===e?_e.length-1:e-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ga.jsx)(wo,{className:"w-5 h-5"})}),(0,ga.jsx)("button",{onClick:()=>le(e=>e===_e.length-1?0:e+1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ga.jsx)(yo,{className:"w-5 h-5"})})]})]}),_e.length>1&&(0,ga.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:_e.map((e,t)=>(0,ga.jsx)("button",{onClick:()=>le(t),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ".concat(oe===t?"border-blue-500":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:(0,ga.jsx)("img",{src:e,alt:"".concat(se.title," - ").concat(t+1),className:"w-full h-full object-cover"})},t))})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:se.title}),se.is_partners_only&&se.public_at&&(()=>{const e=Ao(se.public_at);return e?(0,ga.jsx)("div",{className:"mb-4",children:(0,ga.jsxs)("span",{className:"inline-flex items-center text-white text-sm px-3 py-2 rounded-full font-medium bg-gradient-to-r from-purple-600 to-pink-600 shadow-lg",children:[(0,ga.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Partner Listing \u2022 ",e]})}):null})(),(0,ga.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400 mb-4",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4"}),(0,ga.jsxs)("span",{children:[se.views||0," views"]})]})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-4",children:(0,ga.jsxs)("button",{onClick:()=>{Ne?X(se.id):Z(se)},className:"flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ".concat(Ne?"bg-red-50 border-red-200 text-red-600 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,ga.jsx)(As,{className:"w-5 h-5 ".concat(Ne?"fill-current":"")}),(0,ga.jsx)("span",{children:Ne?"Remove from Favorites":"Add to Favorites"})]})}),(0,ga.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/40 rounded-xl p-6 border-2 border-green-200 dark:border-green-800",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm font-semibold text-green-700 dark:text-green-300 uppercase tracking-wide mb-1",children:null!==(t=se.bid_info)&&void 0!==t&&t.has_bids?"Current Highest Bid":"Starting Price"}),(0,ga.jsx)(Uo,{basePrice:null!==(r=se.bid_info)&&void 0!==r&&r.has_bids&&null!==(a=se.bid_info)&&void 0!==a&&a.highest_bid?se.bid_info.highest_bid:se.price,baseCurrency:"EUR",showAlternativePrices:!0,compact:!1}),(null===(s=se.bid_info)||void 0===s?void 0:s.has_bids)&&(0,ga.jsxs)("div",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:["Starting price: \u20ac",se.price.toLocaleString()]})]}),(0,ga.jsxs)("div",{className:"text-right",children:[(0,ga.jsx)("div",{className:"bg-green-600 text-white px-4 py-2 rounded-full text-sm font-medium",children:null!==(i=se.bid_info)&&void 0!==i&&i.has_bids?"".concat(se.bid_info.total_bids||0," bids"):"No bids yet"}),(null===(o=se.bid_info)||void 0===o?void 0:o.has_bids)&&(0,ga.jsx)("div",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"Total bids received"})]})]})}),se.market_range&&(0,ga.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)(Us,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Market Range"})]}),(0,ga.jsx)("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:se.market_range})]}),(0,ga.jsx)("div",{className:"rounded-xl border-2 p-6 ".concat(null!==(l=se.time_info)&&void 0!==l&&l.has_time_limit?se.time_info.is_expired||se.time_info.time_remaining_seconds<=3600?"border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30":se.time_info.time_remaining_seconds<=21600?"border-orange-200 dark:border-orange-800 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/30":se.time_info.time_remaining_seconds<=86400?"border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30":"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/30"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-2 rounded-lg shadow-sm ".concat(null!==(c=se.time_info)&&void 0!==c&&c.has_time_limit?se.time_info.is_expired||se.time_info.time_remaining_seconds<=3600?"bg-gradient-to-r from-red-500 to-red-600":se.time_info.time_remaining_seconds<=21600?"bg-gradient-to-r from-orange-500 to-orange-600":se.time_info.time_remaining_seconds<=86400?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-green-500 to-green-600"),children:(0,ga.jsx)(Js,{className:"w-5 h-5 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm font-medium uppercase tracking-wide ".concat(null!==(d=se.time_info)&&void 0!==d&&d.has_time_limit?se.time_info.is_expired||se.time_info.time_remaining_seconds<=3600?"text-red-700 dark:text-red-300":se.time_info.time_remaining_seconds<=21600?"text-orange-700 dark:text-orange-300":se.time_info.time_remaining_seconds<=86400?"text-yellow-700 dark:text-yellow-300":"text-green-700 dark:text-green-300":"text-green-700 dark:text-green-300"),children:null!==(u=se.time_info)&&void 0!==u&&u.has_time_limit?se.time_info.is_expired?"Expired":"Time Left":"Without Time Limit"}),(0,ga.jsx)("div",{className:"text-xl font-bold leading-tight ".concat(null!==(m=se.time_info)&&void 0!==m&&m.has_time_limit?se.time_info.is_expired||se.time_info.time_remaining_seconds<=3600?"text-red-900 dark:text-red-100":se.time_info.time_remaining_seconds<=21600?"text-orange-900 dark:text-orange-100":se.time_info.time_remaining_seconds<=86400?"text-yellow-900 dark:text-yellow-100":"text-green-900 dark:text-green-100":"text-green-900 dark:text-green-100"),children:null!==(h=se.time_info)&&void 0!==h&&h.has_time_limit?(0,ga.jsx)(zo,{timeInfo:se.time_info}):"Always Available"})]})]})}),$&&(0,ga.jsx)(Ho,{weight:se.ceramic_weight,ptPpm:se.pt_ppm,pdPpm:se.pd_ppm,rhPpm:se.rh_ppm,ptG:se.pt_g,pdG:se.pd_g,rhG:se.rh_g}),(0,ga.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/40 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:((null===(g=se.seller)||void 0===g?void 0:g.username)||(null===(p=se.seller)||void 0===p?void 0:p.name)||"U").charAt(0).toUpperCase()}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 uppercase tracking-wide mb-1",children:"Sold by"}),(0,ga.jsx)("div",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:(null===(x=se.seller)||void 0===x?void 0:x.username)||(null===(f=se.seller)||void 0===f?void 0:f.name)||"Unknown Seller"}),(null===(b=se.seller)||void 0===b?void 0:b.is_business)&&(null===(y=se.seller)||void 0===y?void 0:y.business_name)&&(0,ga.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:se.seller.business_name})]}),(0,ga.jsxs)("div",{className:"text-right",children:[(0,ga.jsx)("button",{onClick:()=>W("/profile/".concat(se.seller_id)),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"View Profile"}),(null===(v=se.seller)||void 0===v?void 0:v.verified)&&(0,ga.jsxs)("div",{className:"flex items-center justify-end space-x-1 mt-2",children:[(0,ga.jsx)(qo,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),(0,ga.jsx)("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Verified"})]})]})]})}),(0,ga.jsx)("div",{children:(0,ga.jsx)("span",{className:"inline-block bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-sm px-3 py-1 rounded-full font-medium",children:se.category})}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)(so,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:se.location||"Location not specified"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400 text-sm mb-6",children:[(0,ga.jsx)(Js,{className:"w-4 h-4"}),(0,ga.jsxs)("span",{children:["Listed on ",new Date(se.created_at).toLocaleDateString()]})]}),(0,ga.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 space-y-4",children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bidding Information"}),(null===(j=se.bid_info)||void 0===j?void 0:j.highest_bidder_id)===(null===K||void 0===K?void 0:K.id)&&(null===(w=se.bid_info)||void 0===w?void 0:w.has_bids)&&(0,ga.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ga.jsx)("div",{className:"text-green-800 dark:text-green-300 font-medium text-sm",children:"\ud83c\udf89 You're the highest bidder!"})]}),(0,ga.jsx)("div",{className:"text-green-700 dark:text-green-400 text-xs mt-1",children:"Wait for others to place higher bids before you can bid again."})]}),null!==(k=se.bid_info)&&void 0!==k&&k.has_bids?(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Current Highest Bid:"}),(0,ga.jsx)("span",{className:"font-bold text-green-600 dark:text-green-400",children:Co(se.bid_info.highest_bid)})]}):(0,ga.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 italic",children:"No bids yet - be the first to bid!"}),(null===(N=se.bid_info)||void 0===N?void 0:N.user_bid)&&(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Your Current Bid:"}),(0,ga.jsx)("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:Co(se.bid_info.user_bid)})]}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Tender Offer:"}),(null===(_=se.seller)||void 0===_?void 0:_.username)===(null===K||void 0===K?void 0:K.username)||se.seller_id===(null===K||void 0===K?void 0:K.id)||(null===(S=se.seller)||void 0===S?void 0:S.id)===(null===K||void 0===K?void 0:K.id)?(0,ga.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 text-center",children:[(0,ga.jsx)("div",{className:"text-yellow-700 dark:text-yellow-300 font-medium",children:"You cannot bid on your own listing"}),(0,ga.jsx)("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 mt-1",children:"This is your product listing"})]}):(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("input",{type:"number",step:"0.01",min:(null===(A=se.bid_info)||void 0===A?void 0:A.highest_bid)||se.price,value:he,onChange:e=>ge(e.target.value),disabled:ke||(null===(C=se.bid_info)||void 0===C?void 0:C.highest_bidder_id)===(null===K||void 0===K?void 0:K.id)&&(null===(E=se.bid_info)||void 0===E?void 0:E.has_bids),className:"flex-1 px-3 py-2 border rounded-lg text-sm ".concat(ke||(null===(O=se.bid_info)||void 0===O?void 0:O.highest_bidder_id)===(null===K||void 0===K?void 0:K.id)&&null!==(P=se.bid_info)&&void 0!==P&&P.has_bids?"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500"),placeholder:null!==(T=se.time_info)&&void 0!==T&&T.is_expired?"Expired":(null===(L=se.bid_info)||void 0===L?void 0:L.highest_bidder_id)===(null===K||void 0===K?void 0:K.id)&&null!==(M=se.bid_info)&&void 0!==M&&M.has_bids?"You have the highest bid":"Minimum: \u20ac".concat(((null===(I=se.bid_info)||void 0===I?void 0:I.highest_bid)||se.price||0).toFixed(2))}),(0,ga.jsx)("button",{onClick:async()=>{var e,t,r,a,n;if(!K)return void J("Please login to submit tender offers","error");if((null===(e=se.seller)||void 0===e?void 0:e.username)===K.username||se.seller_id===K.id||(null===(t=se.seller)||void 0===t?void 0:t.id)===K.id)return void J("You cannot bid on your own listing","error");if((null===(r=se.bid_info)||void 0===r?void 0:r.highest_bidder_id)===K.id&&null!==(a=se.bid_info)&&void 0!==a&&a.has_bids)return void J("You are already the highest bidder! Wait for others to place higher bids.","warning");const s=parseFloat(he),i=(null===(n=se.bid_info)||void 0===n?void 0:n.highest_bid)||se.price||0;if(!s||s<i)J("Please enter an amount of at least \u20ac".concat(i.toFixed(2)),"error");else{xe(!0);try{const e=await fetch("".concat("https://cataloro.com","/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify({listing_id:se.id,buyer_id:K.id,offer_amount:s})}),t=await e.json();var o;if(e.ok)J("Tender offer of \u20ac".concat(s.toFixed(2)," submitted successfully!"),"success"),ge(""),be({amount:s,timestamp:new Date,visible:!0}),setTimeout(()=>{be(e=>e?(0,Re.A)((0,Re.A)({},e),{},{visible:!1}):null)},8e3),s>((null===(o=se.bid_info)||void 0===o?void 0:o.highest_bid)||se.highest_bid||0)&&ie(e=>{var t;return(0,Re.A)((0,Re.A)({},e),{},{highest_bid:s,bid_info:(0,Re.A)((0,Re.A)({},e.bid_info),{},{has_bids:!0,highest_bid:s,total_bids:((null===(t=e.bid_info)||void 0===t?void 0:t.total_bids)||0)+1})})});else 400===e.status?J(t.detail||"Invalid tender offer","error"):J(t.detail||"Failed to submit tender offer","error")}catch(l){console.error("Error submitting tender:",l),J("Failed to submit tender offer. Please try again.","error")}finally{xe(!1)}}},disabled:pe||ke||(null===(D=se.bid_info)||void 0===D?void 0:D.highest_bidder_id)===(null===K||void 0===K?void 0:K.id)&&(null===(R=se.bid_info)||void 0===R?void 0:R.has_bids),className:"px-4 py-2 rounded-lg font-medium transition-colors text-sm ".concat(pe||ke||(null===(F=se.bid_info)||void 0===F?void 0:F.highest_bidder_id)===(null===K||void 0===K?void 0:K.id)&&null!==(B=se.bid_info)&&void 0!==B&&B.has_bids?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:pe?"Submitting...":"Submit Bid"})]})]}),(null===(U=se.time_info)||void 0===U?void 0:U.has_time_limit)&&(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Time Remaining:"}),(0,ga.jsx)("span",{className:"font-bold ".concat(se.time_info.is_expired||se.time_info.time_remaining_seconds<=3600?"text-red-600 dark:text-red-400":se.time_info.time_remaining_seconds<=86400?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"),children:se.time_info.is_expired?"EXPIRED":se.time_info.time_remaining_display||"Active"})]})]})]})]})}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ga.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[{id:"description",label:"Description"},{id:"seller",label:"Seller Info"}].map(e=>(0,ga.jsx)("button",{onClick:()=>de(e.id),className:"px-6 py-4 font-medium transition-colors ".concat(ce===e.id?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.id))}),(0,ga.jsxs)("div",{className:"p-6",children:["description"===ce&&(0,ga.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,ga.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:se.description||"No description available for this product."})}),"seller"===ce&&(0,ga.jsx)("div",{className:"space-y-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:((null===(q=se.seller)||void 0===q?void 0:q.name)||se.seller||"S")[0]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[(0,ga.jsx)("span",{children:(null===(z=se.seller)||void 0===z?void 0:z.name)||se.seller||"Verified Seller"}),(null===(H=se.seller)||void 0===H?void 0:H.verified)&&(0,ga.jsx)(qo,{className:"w-5 h-5 text-blue-600"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:(null===(V=se.seller)||void 0===V?void 0:V.location)&&(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ga.jsx)(so,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:se.seller.location})]})})]})]})})]})]}),Se.length>0&&(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Related Products"}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Se.map(e=>{var t;return(0,ga.jsxs)("div",{className:"group cursor-pointer",onClick:()=>W("/product/".concat(e.id)),children:[(0,ga.jsx)("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden mb-3",children:(0,ga.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=300",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),(0,ga.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors line-clamp-2",children:e.title}),(0,ga.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-1",children:["\u20ac",e.price.toFixed(2)]})]},e.id)})})]})]})},Go=js("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Wo=function(){var e,t,r,a,s,i,o,l,c,d,u,m,h,g,p,x,f,b;const y=ne(),v=re(),{user:j}=_a(),{showToast:w}=Fa(),k=y.id||y.productId;console.log("\ud83d\udd0d MobileProductDetailPage params:",y),console.log("\ud83c\udd94 Product ID resolved:",k);const[N,_]=(0,n.useState)(null),[S,A]=(0,n.useState)(!0),[C,E]=(0,n.useState)(0),[O,P]=(0,n.useState)(""),[T,L]=(0,n.useState)(!1),[M,I]=(0,n.useState)(!1);(0,n.useEffect)(()=>{k&&(async()=>{try{console.log("\ud83d\udd0d Loading product details:",k);const e=await fetch("".concat("https://cataloro.com","/api/listings/").concat(k,"?increment_view=true"));if(e.ok){const t=await e.json(),r=await fetch("".concat("https://cataloro.com","/api/listings/").concat(k,"/tenders"));if(r.ok){const e=(await r.json()).filter(e=>"active"===e.status);if(e.length>0){const r=Math.max(...e.map(e=>e.offer_amount)),a=e.find(e=>e.offer_amount===r);t.bid_info={has_bids:!0,highest_bid:r,highest_bidder_id:null===a||void 0===a?void 0:a.buyer_id,total_bids:e.length}}else t.bid_info={has_bids:!1,highest_bid:null,highest_bidder_id:null,total_bids:0}}_(t),console.log("\u2705 Product detail loaded:",t.title),console.log("\ud83d\udcb0 Bid info:",t.bid_info)}else{console.log("\u26a0\ufe0f Individual listing failed, trying browse endpoint");const e=await fetch("".concat("https://cataloro.com","/api/marketplace/browse"));if(!e.ok)throw new Error("Failed to fetch products");{const t=await e.json(),r=(t.listings||(Array.isArray(t)?t:[])).find(e=>e.id===k);r?(_(r),console.log("\u2705 Product loaded from browse:",r.title)):(console.log("\u274c Product not found"),w("Product not found","error"),v("/browse"))}}}catch(e){console.error("\u274c Error loading product:",e),w("Error loading product","error"),v("/browse")}finally{A(!1)}})()},[k,v,w]);const D=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return S?(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading product details..."})]})}):N?(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,ga.jsx)("button",{onClick:()=>v("/browse"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:(0,ga.jsx)(Go,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),(0,ga.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate mx-4",children:N.title}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:(0,ga.jsx)(qi,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),(0,ga.jsx)("button",{onClick:()=>I(!M),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:(0,ga.jsx)(As,{className:"w-5 h-5 ".concat(M?"text-red-500 fill-current":"text-gray-700 dark:text-gray-300")})})]})]})}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700",children:N.images&&N.images.length>0?(0,ga.jsx)("img",{src:N.images[C],alt:N.title,className:"w-full h-full object-cover"}):(0,ga.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center text-gray-400",children:[(0,ga.jsx)("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-600 rounded-lg mx-auto mb-4 flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-2xl font-bold",children:"C"})}),(0,ga.jsx)("p",{children:"No Image"})]})})}),N.images&&N.images.length>1&&(0,ga.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:N.images.map((e,t)=>(0,ga.jsx)("button",{onClick:()=>E(t),className:"w-2 h-2 rounded-full ".concat(t===C?"bg-white":"bg-white/50")},t))})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:N.title}),N.is_partners_only&&N.public_at&&(()=>{const e=Ao(N.public_at);return e?(0,ga.jsx)("div",{className:"mb-3",children:(0,ga.jsxs)("span",{className:"inline-flex items-center text-white text-sm px-3 py-2 rounded-full font-medium bg-gradient-to-r from-purple-600 to-pink-600 shadow-lg",children:[(0,ga.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Partner Listing \u2022 ",e]})}):null})(),(0,ga.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(so,{className:"w-4 h-4 mr-1"}),(0,ga.jsx)("span",{children:(null===(e=N.seller)||void 0===e?void 0:e.location)||"Unknown"})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Js,{className:"w-4 h-4 mr-1"}),(0,ga.jsx)("span",{children:(e=>{const t=new Date(e),r=new Date,a=Math.floor((r-t)/36e5);return a<1?"Just now":a<24?"".concat(a,"h ago"):"".concat(Math.floor(a/24),"d ago")})(N.created_at)})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4 mr-1"}),(0,ga.jsx)("span",{children:N.viewCount||0})]})]})]}),(0,ga.jsxs)("div",{className:"text-right",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:null!==(t=N.bid_info)&&void 0!==t&&t.has_bids&&null!==(r=N.bid_info)&&void 0!==r&&r.highest_bid?D(N.bid_info.highest_bid):D(N.price)}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:null!==(a=N.bid_info)&&void 0!==a&&a.has_bids&&(null===(s=N.bid_info)||void 0===s?void 0:s.total_bids)>0?(0,ga.jsxs)(ga.Fragment,{children:["Current highest bid (",N.bid_info.total_bids," bid",1!==N.bid_info.total_bids?"s":"",")"]}):(0,ga.jsx)(ga.Fragment,{children:"Starting price (no bids yet)"})}),(null===(i=N.bid_info)||void 0===i?void 0:i.has_bids)&&N.price&&(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["Original price: ",D(N.price)]}),N.rating&&(0,ga.jsxs)("div",{className:"flex items-center mt-1",children:[(0,ga.jsx)(Gs,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,ga.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:[N.rating," (",N.reviewCount||0,")"]})]})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,ga.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg text-center",children:[(0,ga.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null===(o=N.bid_info)||void 0===o?void 0:o.total_bids)||0}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bids"})]}),(0,ga.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg text-center",children:[(0,ga.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:null!==(l=N.bid_info)&&void 0!==l&&l.highest_bid?D(N.bid_info.highest_bid):"No bids"}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Highest Bid"})]})]}),(0,ga.jsxs)("div",{className:"mb-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Description"}),(0,ga.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:N.description||"No description available."})]}),(0,ga.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Es,{className:"w-6 h-6 text-white"})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:(null===(c=N.seller)||void 0===c?void 0:c.name)||"Unknown Seller"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:null!==(d=N.seller)&&void 0!==d&&d.is_business?"Business Seller":"Private Seller"})]}),(null===(u=N.seller)||void 0===u?void 0:u.verified)&&(0,ga.jsx)(Yi,{className:"w-5 h-5 text-green-500"})]})})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Place Your Bid"}),(null===(m=N.bid_info)||void 0===m?void 0:m.highest_bidder_id)===(null===j||void 0===j?void 0:j.id)&&(null===(h=N.bid_info)||void 0===h?void 0:h.has_bids)&&(0,ga.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ga.jsx)("div",{className:"text-green-800 dark:text-green-300 font-medium text-sm",children:"\ud83c\udf89 You're the highest bidder!"})]}),(0,ga.jsx)("div",{className:"text-green-700 dark:text-green-400 text-xs mt-1",children:"Wait for others to place higher bids before you can bid again."})]}),(0,ga.jsxs)("div",{className:"flex space-x-3",children:[(0,ga.jsx)("div",{className:"flex-1",children:(0,ga.jsx)("input",{type:"number",value:O,onChange:e=>P(e.target.value),placeholder:null!==(g=N.bid_info)&&void 0!==g&&g.highest_bid?"Min bid: \u20ac".concat((N.bid_info.highest_bid+1).toFixed(0)):"Min bid: \u20ac".concat(N.price||0),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg  focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:null!==(p=N.bid_info)&&void 0!==p&&p.highest_bid?N.bid_info.highest_bid+1:N.price||0,step:"1",disabled:(null===(x=N.bid_info)||void 0===x?void 0:x.highest_bidder_id)===(null===j||void 0===j?void 0:j.id)})}),(0,ga.jsx)("button",{onClick:async()=>{var e;const t=parseFloat(O);if(!O||t<=0)return void w("Please enter a valid bid amount","error");const r=(null===(e=N.bid_info)||void 0===e?void 0:e.highest_bid)||0,a=N.price||0,n=r>0?r+1:a;if(t<n)w(r>0?"Bid must be higher than current highest bid of \u20ac".concat(r,". Minimum: \u20ac").concat(n):"Bid must be at least \u20ac".concat(n," (starting price)"),"error");else if(j){L(!0);try{console.log("\ud83d\udcb0 Submitting bid:",{listing_id:k,buyer_id:j.id,offer_amount:t});const e=await fetch("".concat("https://cataloro.com","/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify({listing_id:k,buyer_id:j.id,offer_amount:t})});if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to submit bid")}const r=await e.json();console.log("\u2705 Bid submitted successfully:",r),w("Bid submitted successfully!","success"),P("");const a=await fetch("".concat("https://cataloro.com","/api/marketplace/browse"));if(a.ok){const e=await a.json(),t=(e.listings||(Array.isArray(e)?e:[])).find(e=>e.id===k);t&&(_(t),console.log("\ud83d\udd04 Product data refreshed with updated bids"))}}catch(s){console.error("\u274c Error submitting bid:",s),w(s.message||"Error submitting bid","error")}finally{L(!1)}}else w("Please login to place a bid","error")},disabled:T||!O||(null===(f=N.bid_info)||void 0===f?void 0:f.highest_bidder_id)===(null===j||void 0===j?void 0:j.id),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400  text-white font-semibold rounded-lg transition-colors flex items-center space-x-2",children:T?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Bidding..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(_s,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Bid"})]})})]}),(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-3",children:["Current highest bid: ",null!==(b=N.bid_info)&&void 0!==b&&b.highest_bid?D(N.bid_info.highest_bid):"No bids yet"]})]}),(0,ga.jsx)("div",{className:"h-20"})]}):(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center p-6",children:[(0,ga.jsx)(Ki,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Product not found"}),(0,ga.jsx)("button",{onClick:()=>v("/browse"),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Back to Browse"})]})})},Ko=js("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);function Jo(e){var t,r;let{listing:a,onDelete:s}=e;const[i,o]=(0,n.useState)(!1);return(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm",children:(0,ga.jsxs)("div",{className:"flex",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 flex-shrink-0 flex items-center justify-center",children:a.images&&a.images.length>0?(0,ga.jsx)("img",{src:a.images[0],alt:a.title,className:"w-full h-full object-cover"}):(0,ga.jsx)(Ts,{className:"w-8 h-8 text-white"})}),(0,ga.jsxs)("div",{className:"flex-1 p-4",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:a.title}),(0,ga.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400 mt-1",children:["\u20ac",a.price]}),(0,ga.jsxs)("div",{className:"flex items-center mt-2",children:[(e=>{switch(e){case"active":return(0,ga.jsx)(Yi,{className:"w-4 h-4 text-green-500"});case"sold":return(0,ga.jsx)(Ts,{className:"w-4 h-4 text-blue-500"});case"expired":return(0,ga.jsx)(Js,{className:"w-4 h-4 text-orange-500"});default:return(0,ga.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})}})(a.status),(0,ga.jsx)("span",{className:"ml-1 text-xs px-2 py-1 rounded-full font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"sold":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"expired":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}})(a.status)),children:(null===(t=a.status)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(r=a.status)||void 0===r?void 0:r.slice(1))})]})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("button",{onClick:()=>o(!i),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ga.jsx)(Ko,{className:"w-5 h-5"})}),i&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),(0,ga.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20",children:[(0,ga.jsxs)(Le,{to:"/listing/".concat(a.id),className:"flex items-center px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>o(!1),children:[(0,ga.jsx)(Xs,{className:"w-4 h-4 mr-3"}),"View Details"]}),(0,ga.jsxs)("button",{onClick:()=>{o(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,ga.jsx)(Qs,{className:"w-4 h-4 mr-3"}),"Edit Listing"]}),(0,ga.jsxs)("button",{onClick:()=>{o(!1),s(a.id)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[(0,ga.jsx)(Zs,{className:"w-4 h-4 mr-3"}),"Delete"]})]})]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsxs)("span",{children:[a.total_bids||0," bid",1!==(a.total_bids||0)?"s":""]}),(0,ga.jsx)("span",{children:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"})]})]})]})})}const Yo=function(){const{user:e}=_a(),{showToast:t}=Fa(),[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[o,l]=(0,n.useState)("all"),c=re();(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&d()},[e]);const d=async()=>{try{i(!0);const t=await Ba.getMyListings(e.id);a(t)}catch(r){console.error("Error fetching listings:",r),t("Failed to load listings","error")}finally{i(!1)}},u=async e=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await Ba.deleteListing(e),a(r.filter(t=>t.id!==e)),t("Listing deleted successfully","success")}catch(n){console.error("Error deleting listing:",n),t("Failed to delete listing","error")}},m=r.filter(e=>"all"===o||("active"===o?"active"===e.status:"sold"===o?"sold"===e.status:"expired"!==o||"expired"===e.status));return s?(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("button",{onClick:()=>c(-1),className:"mr-3 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:(0,ga.jsx)(Go,{className:"w-5 h-5"})}),(0,ga.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"My Listings"})]})}),(0,ga.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ga.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})})]}):(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 sticky top-0 z-10",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("button",{onClick:()=>c(-1),className:"mr-3 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:(0,ga.jsx)(Go,{className:"w-5 h-5"})}),(0,ga.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"My Listings"})]}),(0,ga.jsx)(Le,{to:"/create-listing",className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",children:(0,ga.jsx)(ks,{className:"w-5 h-5"})})]}),(0,ga.jsx)("div",{className:"flex space-x-1 mt-3 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"active",label:"Active"},{key:"sold",label:"Sold"},{key:"expired",label:"Expired"}].map(e=>(0,ga.jsx)("button",{onClick:()=>l(e.key),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ".concat(o===e.key?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:e.label},e.key))})]}),(0,ga.jsx)("div",{className:"p-4",children:0===m.length?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Ts,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No listings found"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"all"===o?"You haven't created any listings yet":"No ".concat(o," listings found")}),(0,ga.jsxs)(Le,{to:"/create-listing",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[(0,ga.jsx)(ks,{className:"w-5 h-5 mr-2"}),"Create Your First Listing"]})]}):(0,ga.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,ga.jsx)(Jo,{listing:e,onDelete:u},e.id))})})]})},$o=js("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function Qo(e){let{bids:t}=e;return 0===t.length?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(_s,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No bids yet"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start bidding on items you're interested in"}),(0,ga.jsxs)(Le,{to:"/browse",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[(0,ga.jsx)(Xs,{className:"w-5 h-5 mr-2"}),"Browse Items"]})]}):(0,ga.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,ga.jsx)(Xo,{bid:e},e.id))})}function Zo(e){let{tenders:t,onRefresh:r}=e;return 0===t.length?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Ts,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No bids on your items"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create listings to start receiving bids"}),(0,ga.jsxs)(Le,{to:"/create-listing",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[(0,ga.jsx)(Ts,{className:"w-5 h-5 mr-2"}),"Create Listing"]})]}):(0,ga.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>{var a;return(0,ga.jsx)(el,{listingOverview:e,onManageTenders:r},(null===(a=e.listing)||void 0===a?void 0:a.id)||t)})})}function Xo(e){var t,r,a,n,s,i;let{bid:o}=e;return(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===(t=o.listing)||void 0===t?void 0:t.title)||"Unknown Item"}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Bid placed on ",o.created_at?new Date(o.created_at).toLocaleDateString():"N/A"]}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Seller: ",(null===(r=o.seller)||void 0===r?void 0:r.username)||"Unknown"]})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(e=>{switch(e){case"accepted":return(0,ga.jsx)(Yi,{className:"w-4 h-4 text-green-500"});case"rejected":return(0,ga.jsx)($o,{className:"w-4 h-4 text-red-500"});case"pending":case"active":return(0,ga.jsx)(Js,{className:"w-4 h-4 text-orange-500"});default:return(0,ga.jsx)(Js,{className:"w-4 h-4 text-gray-500"})}})(o.status),(0,ga.jsx)("span",{className:"ml-1 text-xs px-2 py-1 rounded-full font-medium ".concat((e=>{switch(e){case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"pending":case"active":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}})(o.status)),children:(null===(a=o.status)||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===(n=o.status)||void 0===n?void 0:n.slice(1))||"Active"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Your Bid"}),(0,ga.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",o.offer_amount||0]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Listing Price"}),(0,ga.jsxs)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["\u20ac",(null===(s=o.listing)||void 0===s?void 0:s.price)||0]})]})]}),(0,ga.jsx)(Le,{to:"/listing/".concat(null===(i=o.listing)||void 0===i?void 0:i.id),className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"View Item"})]})]})}function el(e){var t,r,a,s,i;let{listingOverview:o,onManageTenders:l}=e;const[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(null),h=re();return(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm relative",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===(t=o.listing)||void 0===t?void 0:t.title)||"Unknown Item"}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Listed for \u20ac",(null===(r=o.listing)||void 0===r?void 0:r.price)||0]})]}),(0,ga.jsxs)("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:[(0,ga.jsx)(ni,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mr-1"}),(0,ga.jsxs)("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:[o.tender_count||0," bid",1!==(o.tender_count||0)?"s":""]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Highest Bid"}),(0,ga.jsxs)("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["\u20ac",o.highest_offer||0]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Active Tenders"}),(0,ga.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===(a=o.tenders)||void 0===a?void 0:a.length)||0})]})]}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)(Le,{to:"/listing/".concat(null===(s=o.listing)||void 0===s?void 0:s.id),className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-lg text-sm hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"View"}),(0,ga.jsx)("button",{onClick:e=>{e.preventDefault(),d(!c)},className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Manage"})]})]}),c&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-10",onClick:()=>d(!1)}),(0,ga.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["Manage Tenders (",(null===(i=o.tenders)||void 0===i?void 0:i.length)||0,")"]})}),o.tenders&&o.tenders.length>0?(0,ga.jsx)("div",{className:"max-h-60 overflow-y-auto",children:o.tenders.map((e,t)=>{var r,a,n,s,i,c;return(0,ga.jsxs)("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null===(r=e.buyer)||void 0===r?void 0:r.username)||"Anonymous"}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[null!==(a=e.buyer)&&void 0!==a&&a.is_business?"Business":"Individual"," \u2022 ",e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"]})]}),(0,ga.jsxs)("div",{className:"text-right",children:[(0,ga.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",e.offer_amount||0]}),(0,ga.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("accepted"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"rejected"===e.status?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"),children:(null===(n=e.status)||void 0===n?void 0:n.charAt(0).toUpperCase())+(null===(s=e.status)||void 0===s?void 0:s.slice(1))||"Active"})]})]}),(!e.status||"accepted"!==e.status.toLowerCase()&&"rejected"!==e.status.toLowerCase())&&(0,ga.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,ga.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Accept this bid of \u20ac".concat(t,"?")))try{var r;m(e);const t=localStorage.getItem("cataloro_token"),a=await fetch("".concat("https://cataloro.com","/api/tenders/").concat(e,"/accept"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({seller_id:null===(r=o.listing)||void 0===r?void 0:r.seller_id})});if(a.ok)alert("\u2705 Tender accepted successfully!"),d(!1),l&&l(),h("/mobile-my-listings");else{const e=await a.text();alert("\u274c Failed to accept tender: ".concat(e))}}catch(a){console.error("Error accepting tender:",a),alert("Error accepting tender")}finally{m(null)}})(e.id,e.offer_amount),disabled:u===e.id,className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-lg text-xs font-medium hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:u===e.id?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"animate-spin w-3 h-3 border border-white border-t-transparent rounded-full mr-1"}),"Processing..."]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-3 h-3 mr-1"}),"Accept"]})}),(0,ga.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Reject this bid of \u20ac".concat(t,"?")))try{var r;m(e);const t=localStorage.getItem("cataloro_token"),a=await fetch("".concat("https://cataloro.com","/api/tenders/").concat(e,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({seller_id:null===(r=o.listing)||void 0===r?void 0:r.seller_id})});if(a.ok)alert("\u2705 Tender rejected successfully!"),d(!1),l&&l();else{const e=await a.text();alert("\u274c Failed to reject tender: ".concat(e))}}catch(a){console.error("Error rejecting tender:",a),alert("Error rejecting tender")}finally{m(null)}})(e.id,e.offer_amount),disabled:u===e.id,className:"flex-1 bg-red-600 text-white px-3 py-2 rounded-lg text-xs font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:u===e.id?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"animate-spin w-3 h-3 border border-white border-t-transparent rounded-full mr-1"}),"Processing..."]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)($o,{className:"w-3 h-3 mr-1"}),"Reject"]})})]}),("accepted"===(null===(i=e.status)||void 0===i?void 0:i.toLowerCase())||"rejected"===(null===(c=e.status)||void 0===c?void 0:c.toLowerCase()))&&(0,ga.jsx)("div",{className:"mt-2 text-center",children:(0,ga.jsx)("span",{className:"text-xs px-3 py-1 rounded-full font-medium ".concat("accepted"===e.status.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:"accepted"===e.status.toLowerCase()?"Tender Accepted":"Tender Rejected"})})]},e.id||t)})}):(0,ga.jsx)("div",{className:"p-4 text-center",children:(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No tenders yet"})})]})]})]})}const tl=function(){const{user:e}=_a(),{showToast:t}=Fa(),[r,a]=(0,n.useState)("my-bids"),[s,i]=(0,n.useState)([]),[o,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),u=re();(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&m()},[e,r]);const m=async()=>{try{d(!0);const a=localStorage.getItem("cataloro_token");if("my-bids"===r){const r=await fetch("".concat("https://cataloro.com","/api/tenders/buyer/").concat(e.id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(r.ok){const e=await r.json();i(e)}else console.error("Failed to fetch buyer tenders: ".concat(r.status)),t("Failed to load your bids","error")}else{const r=await fetch("".concat("https://cataloro.com","/api/tenders/seller/").concat(e.id,"/overview"),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(r.ok){const e=await r.json();l(e)}else console.error("Failed to fetch seller tenders: ".concat(r.status)),t("Failed to load selling tenders","error")}}catch(a){console.error("Error loading tenders data:",a),t("Failed to load tenders data","error")}finally{d(!1)}};return c?(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("button",{onClick:()=>u(-1),className:"mr-3 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:(0,ga.jsx)(Go,{className:"w-5 h-5"})}),(0,ga.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Tenders"})]})}),(0,ga.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ga.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})})]}):(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 sticky top-0 z-10",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("button",{onClick:()=>u(-1),className:"mr-3 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:(0,ga.jsx)(Go,{className:"w-5 h-5"})}),(0,ga.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Tenders"})]}),(0,ga.jsxs)("div",{className:"flex space-x-1 mt-3 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,ga.jsxs)("button",{onClick:()=>a("my-bids"),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors flex items-center justify-center ".concat("my-bids"===r?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,ga.jsx)(_s,{className:"w-4 h-4 mr-2"}),"My Bids"]}),(0,ga.jsxs)("button",{onClick:()=>a("selling"),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors flex items-center justify-center ".concat("selling"===r?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,ga.jsx)(Ts,{className:"w-4 h-4 mr-2"}),"Selling"]})]})]}),(0,ga.jsx)("div",{className:"p-4",children:"my-bids"===r?(0,ga.jsx)(Qo,{bids:s}):(0,ga.jsx)(Zo,{tenders:o,onRefresh:m})})]})},rl=js("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);function al(e){var t;let{listing:r,onDelete:a,onReactivate:s}=e;const[i,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=e=>{i&&!e.target.closest(".listing-menu-container")&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[i]);return(0,ga.jsxs)("div",{className:"listing-tile",children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("img",{src:(null===(t=r.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:r.title,className:"listing-image"}),(0,ga.jsx)("span",{className:"absolute top-3 left-3 px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"sold":default:return"bg-gray-100 dark:bg-gray-700/50 text-gray-800 dark:text-gray-300";case"draft":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";case"expired":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}})(r.status||(r.is_draft?"draft":"active"))),children:(r.status||(r.is_draft?"DRAFT":"ACTIVE")).toUpperCase()}),(r.is_draft||"draft"===r.status)&&(0,ga.jsx)("div",{className:"absolute top-3 right-16 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold animate-pulse",children:"DRAFT"}),(0,ga.jsxs)("div",{className:"absolute top-3 right-3 listing-menu-container",children:[(0,ga.jsx)("button",{onClick:e=>{e.stopPropagation(),o(!i)},className:"p-2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-full hover:bg-white dark:hover:bg-gray-800 transition-all duration-200 shadow-lg",children:(0,ga.jsx)(rl,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),i&&(0,ga.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 py-2 z-50 backdrop-blur-xl",children:[(r.is_draft||"draft"===r.status)&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)(Le,{to:"/edit-listing/".concat(r.id),onClick:e=>{e.stopPropagation(),o(!1)},className:"w-full text-left px-4 py-3 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center transition-colors duration-200",children:[(0,ga.jsx)(Qs,{className:"w-4 h-4 mr-3"}),"Finish & Publish"]}),(0,ga.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"})]}),!(r.is_draft||"draft"===r.status)&&(0,ga.jsxs)(Le,{to:"/product/".concat(r.id),onClick:e=>{e.stopPropagation(),o(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center transition-colors duration-200",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4 mr-3"}),"View Details"]}),(0,ga.jsxs)(Le,{to:"/edit-listing/".concat(r.id),onClick:e=>{e.stopPropagation(),o(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center transition-colors duration-200",children:[(0,ga.jsx)(Qs,{className:"w-4 h-4 mr-3"}),r.is_draft||"draft"===r.status?"Continue Editing":"Edit Listing"]}),"expired"===r.status&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("button",{onClick:e=>{e.stopPropagation(),s(r.id),o(!1)},className:"w-full text-left px-4 py-3 text-sm text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 flex items-center transition-colors duration-200",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4 mr-3"}),"Set Online Again"]}),(0,ga.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"})]}),(0,ga.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),(0,ga.jsxs)("button",{onClick:e=>{e.stopPropagation(),a(r.id),o(!1)},className:"w-full text-left px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center transition-colors duration-200",children:[(0,ga.jsx)(Zs,{className:"w-4 h-4 mr-3"}),"Delete Listing"]})]})]})]}),(0,ga.jsxs)("div",{className:"listing-content",children:[(0,ga.jsx)("h3",{className:"listing-title text-gray-900 dark:text-white",children:r.title}),(0,ga.jsxs)("p",{className:"listing-price",children:["\u20ac",r.price.toFixed(2)]}),(0,ga.jsx)("p",{className:"listing-description text-gray-600 dark:text-gray-300",children:r.description}),(0,ga.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ga.jsx)("span",{className:"inline-block bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs px-3 py-1 rounded-full font-medium backdrop-blur-md",children:r.category}),(0,ga.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()})]})]})]})}const nl=function(){const{user:e}=_a(),{showToast:t}=Fa(),[r]=De(),a=r.get("filter"),[s,i]=(0,n.useState)([]),[o,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(a||"all");re(),(0,n.useEffect)(()=>{const e=new URLSearchParams(window.location.search);"all"!==c?e.set("filter",c):e.delete("filter");const t="".concat(window.location.pathname).concat(e.toString()?"?"+e.toString():"");window.history.replaceState({},"",t)},[c]),(0,n.useEffect)(()=>{const e=r.get("filter");e&&e!==c&&d(e)},[r]),(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&u()},[null===e||void 0===e?void 0:e.id]);const u=async()=>{try{l(!0);const t=await Ba.getMyListings(e.id);i(t)}catch(r){t("Failed to load your listings","error"),console.error("Failed to fetch listings:",r)}finally{l(!1)}},m=async e=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await Ba.deleteListing(e),i(s.filter(t=>t.id!==e)),t("Listing deleted successfully","success")}catch(r){t("Failed to delete listing","error")}},h=async e=>{if(window.confirm("Are you sure you want to set this listing back online? This will make it available for new offers."))try{if(!(await fetch("".concat("https://cataloro.com","/api/listings/").concat(e,"/reactivate"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))}})).ok)throw new Error("Failed to reactivate listing");await u(),t("Listing reactivated successfully","success")}catch(r){t("Failed to reactivate listing","error"),console.error("Failed to reactivate listing:",r)}},g=e=>{d(e)},p=(()=>{switch(c){case"active":return s.filter(e=>"active"===e.status);case"drafts":return s.filter(e=>"draft"===e.status||e.is_draft);case"closed":return s.filter(e=>"sold"===e.status||"closed"===e.status);case"expired":return s.filter(e=>"expired"===e.status);default:return s}})();return o?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsx)("div",{className:"spinner"})}):(0,ga.jsxs)("div",{className:"fade-in",children:[(0,ga.jsx)("div",{className:"mb-4 sm:mb-8",children:(0,ga.jsx)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2",children:"My Listings"}),(0,ga.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Manage your marketplace listings"})]})})}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,ga.jsx)("button",{onClick:()=>g("all"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("all"===c?"ring-2 ring-blue-500 bg-blue-50/20 dark:bg-blue-900/20":""),children:(0,ga.jsxs)("div",{className:"p-3 sm:p-4 text-center",children:[(0,ga.jsx)("div",{className:"text-xl sm:text-2xl font-bold mb-1 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:s.length}),(0,ga.jsx)("div",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total"})]})}),(0,ga.jsx)("button",{onClick:()=>g("active"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("active"===c?"ring-2 ring-green-500 bg-green-50/20 dark:bg-green-900/20":""),children:(0,ga.jsxs)("div",{className:"p-3 sm:p-4 text-center",children:[(0,ga.jsx)("div",{className:"text-xl sm:text-2xl font-bold mb-1 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:s.filter(e=>"active"===e.status).length}),(0,ga.jsx)("div",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})}),(0,ga.jsx)("button",{onClick:()=>g("closed"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("closed"===c?"ring-2 ring-red-500 bg-red-50/20 dark:bg-red-900/20":""),children:(0,ga.jsxs)("div",{className:"p-3 sm:p-4 text-center",children:[(0,ga.jsx)("div",{className:"text-xl sm:text-2xl font-bold mb-1 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:s.filter(e=>"sold"===e.status||"closed"===e.status).length}),(0,ga.jsx)("div",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Closed"}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 hidden sm:block",children:"Sold & completed"})]})}),(0,ga.jsx)("button",{onClick:()=>g("drafts"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("drafts"===c?"ring-2 ring-orange-500 bg-orange-50/20 dark:bg-orange-900/20":""),children:(0,ga.jsxs)("div",{className:"p-3 sm:p-4 text-center",children:[(0,ga.jsx)("div",{className:"text-xl sm:text-2xl font-bold mb-1 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:s.filter(e=>"draft"===e.status||e.is_draft).length}),(0,ga.jsx)("div",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Drafts"}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 hidden sm:block",children:"Finish & publish later"})]})}),(0,ga.jsx)("button",{onClick:()=>g("expired"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("expired"===c?"ring-2 ring-yellow-500 bg-yellow-50/20 dark:bg-yellow-900/20":""),children:(0,ga.jsxs)("div",{className:"p-3 sm:p-4 text-center",children:[(0,ga.jsx)("div",{className:"text-xl sm:text-2xl font-bold mb-1 bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:s.filter(e=>"expired"===e.status).length}),(0,ga.jsx)("div",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Expired"}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 hidden sm:block",children:"Can be reactivated"})]})})]}),"all"!==c&&(0,ga.jsxs)("div",{className:"mb-3 sm:mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between bg-blue-50 dark:bg-blue-900/20 p-3 sm:p-4 rounded-lg gap-2 sm:gap-0",children:[(0,ga.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 font-medium text-sm sm:text-base",children:["Showing ",c," listings (",p.length," items)"]}),(0,ga.jsx)("button",{onClick:()=>d("all"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium self-start sm:self-auto",children:"Show All"})]}),0===p.length?(0,ga.jsx)("div",{className:"text-center py-12",children:(0,ga.jsxs)("div",{className:"cataloro-card-glass p-12",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ga.jsx)(ks,{className:"w-12 h-12 text-gray-600 dark:text-gray-300"})}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"No listings yet"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:'Create your first listing to start selling on our modern marketplace. Use the "Create Listing" button in the top navigation.'})]})}):(0,ga.jsx)("div",{className:"listings-grid",children:p.map(e=>(0,ga.jsx)(al,{listing:e,onDelete:m,onReactivate:h},e.id))})]})},sl=js("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const il=function(){var e;const t=re(),r=eo(),a="Admin"===(null===r||void 0===r?void 0:r.userRole)||"Admin-Manager"===(null===r||void 0===r?void 0:r.userRole)||(null===r||void 0===r||null===(e=r.ui)||void 0===e?void 0:e.showAdminPanelLink)||!1,[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[h,g]=(0,n.useState)({title:"",description:"",price:"",category:"General",condition:"New",street:"",post_code:"",city:"",country:"",shipping:"pickup",shipping_cost:"",tags:[],features:[],has_time_limit:!1,time_limit_hours:24,show_partners_first:!1,partners_visibility_hours:24}),[p,x]=(0,n.useState)(!0),[f,b]=(0,n.useState)({street:"",post_code:"",city:"",country:""}),[y,v]=(0,n.useState)([]),[j,w]=(0,n.useState)([]),[k,N]=(0,n.useState)([]),[_,S]=(0,n.useState)([]),[A,C]=(0,n.useState)(!1),[E,O]=(0,n.useState)(null),[P,T]=(0,n.useState)(!1),[L,M]=(0,n.useState)([]),[I,D]=(0,n.useState)(!1),[R,F]=(0,n.useState)(!1),[B,U]=(0,n.useState)(""),[q,z]=(0,n.useState)("");(0,n.useEffect)(()=>{V(),H()},[]),(0,n.useEffect)(()=>{var e;console.log("CreateListingPage - Debug Info:"),console.log("  permissions:",r),console.log("  permissions.ui:",null===r||void 0===r?void 0:r.ui),console.log("  permissions.ui.showAdminPanelLink:",null===r||void 0===r||null===(e=r.ui)||void 0===e?void 0:e.showAdminPanelLink),console.log("  isAdminOrManager:",a),console.log("  selectedCatalyst:",E),console.log("  unifiedCalculations length:",k.length)},[r,a,E,k]);const H=()=>{try{const e=localStorage.getItem("cataloro_user");if(e){const t=JSON.parse(e),r={street:t.street||"",post_code:t.post_code||"",city:t.city||"",country:t.country||""};b(r),p&&(r.street||r.city)&&g(e=>(0,Re.A)((0,Re.A)({},e),{},{street:r.street,post_code:r.post_code,city:r.city,country:r.country}))}}catch(e){console.error("Failed to load profile address:",e)}},V=async()=>{try{T(!0);const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/unified-calculations"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();N(e),console.log("Loaded unified calculations:",e.length,"entries"),console.log("Sample unified calculation:",e[0])}else console.error("Failed to fetch unified calculations - Status:",t.status)}catch(e){console.error("Failed to fetch unified calculations:",e)}finally{T(!1)}},G=e=>{const{name:t,value:r}=e.target;g(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:r}))},W=e=>{const t=(e=>{const t=k.find(t=>t.cat_id===e);return console.log("Looking for price for catalyst:",e,"Found calculation:",t),(null===t||void 0===t?void 0:t.total_price)||null})(e);if(!t)return null;const r=.9*t,a=1.1*t;return{basePrice:parseFloat(t),minPrice:parseFloat(r.toFixed(2)),maxPrice:parseFloat(a.toFixed(2))}};return(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ga.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ga.jsxs)("div",{className:"mb-8",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ga.jsx)(Le,{to:"/my-listings",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,ga.jsx)(Go,{className:"w-5 h-5"})}),(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create New Listing"})]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Fill in the details below to create your marketplace listing"})]}),(0,ga.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e=["title","description","price"];for(let t of e)if(!h[t].trim())return alert("Please fill in the ".concat(t.replace("_"," ")," field")),!1;return!(parseFloat(h.price)<=0)||(alert("Please enter a valid price"),!1)})()){i(!0);try{const e=localStorage.getItem("cataloro_user"),r=e?JSON.parse(e):null;if(!r)return alert("Please log in to create a listing"),void t("/login");const a=(0,Re.A)((0,Re.A)({},h),{},{price:parseFloat(h.price),shipping_cost:h.shipping_cost?parseFloat(h.shipping_cost):0,seller_id:r.id,seller:{name:r.name||r.full_name||r.email,username:r.username||r.name||r.email,email:r.email,verified:r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||null,location:[h.street,h.city,h.country].filter(Boolean).join(", ")||"Not specified"},address:{street:h.street,post_code:h.post_code,city:h.city,country:h.country,use_profile_address:p},images:u.length>0?u:[],created_at:(new Date).toISOString(),has_time_limit:h.has_time_limit,time_limit_hours:h.has_time_limit?h.time_limit_hours:null,show_partners_first:h.show_partners_first,partners_visibility_hours:h.show_partners_first?h.partners_visibility_hours:null},E&&{catalyst_id:E.cat_id,catalyst_name:E.name,is_catalyst_listing:!0,calculated_price:E.total_price,ceramic_weight:E.weight,pt_g:E.pt_g,pd_g:E.pd_g,rh_g:E.rh_g,catalyst_specs:{weight:E.weight,total_price:E.total_price,pt_g:E.pt_g,pd_g:E.pd_g,rh_g:E.rh_g,is_override:E.is_override}});console.log("Creating listing...",a),await Ba.createListing(a),alert("Listing created successfully!"),t("/my-listings")}catch(r){console.error("Failed to create listing:",r),r.message&&r.message.includes("NetworkError")?alert("Network error. Please check your connection and try again."):r.message&&r.message.includes("timeout")?alert("Request timeout. Please try again with smaller images or check your connection."):alert("Failed to create listing: ".concat(r.message||"Please try again."))}finally{i(!1)}}},className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Ci,{className:"w-6 h-6 mr-2"}),"Product Images"]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[u.map((e,t)=>(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),(0,ga.jsx)("button",{type:"button",onClick:()=>(e=>{d(t=>t.filter((t,r)=>r!==e)),m(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]},t)),(0,ga.jsxs)("label",{className:"w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[(0,ga.jsx)($s,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,ga.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Add Images"}),(0,ga.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return void alert("Please select only image files");const t=/Mobile|Android|iPhone|iPad/.test(navigator.userAgent)?2097152:5242880;if(e.size>t)return void alert("File size must be less than ".concat(t/1048576,"MB"));d(t=>[...t,e]);const r=new FileReader;r.onload=e=>{try{m(t=>[...t,e.target.result])}catch(t){console.error("Error creating image preview:",t),alert("Error processing image. Please try a smaller file.")}},r.onerror=()=>{alert("Error reading image file. Please try again.")},r.readAsDataURL(e)})},className:"hidden"})]})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload up to 8 images. First image will be the main photo. Max 5MB per image."})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Hs,{className:"w-6 h-6 mr-2"}),"Basic Information"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title *",(0,ga.jsxs)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2 flex items-center",children:[(0,ga.jsx)(bo,{className:"w-3 h-3 mr-1"}),"(Type to search Cat Database - ",k.length," catalysts available)"]})]}),(0,ga.jsx)("input",{type:"text",name:"title",value:h.title,onChange:e=>{const t=e.target.value;if(g(e=>(0,Re.A)((0,Re.A)({},e),{},{title:t})),t.length>0){const e=k.filter(e=>{var r,a,n;const s=t.toLowerCase();return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(a=e.cat_id)||void 0===a?void 0:a.toLowerCase().includes(s))||(null===(n=e.add_info)||void 0===n?void 0:n.toLowerCase().includes(s))}).slice(0,8);S(e),C(e.length>0)}else S([]),C(!1),O(null)},onFocus:()=>h.title&&C(_.length>0),placeholder:"Enter item title or search catalyst name/ID/additional info...",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0}),A&&(0,ga.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-80 overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ga.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)(bo,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cat Database Matches (",_.length,")",(0,ga.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to auto-fill"})]})}),_.map(e=>{const t=W(e.cat_id);return(0,ga.jsx)("div",{onClick:()=>(e=>{O(e),console.log("Selected catalyst:",e);let t="Catalyst: ".concat(e.name||"Professional Grade Catalyst","\n\nSpecifications:\n\u2022 Weight: ").concat(e.weight||"N/A","g\n\nProfessional grade catalyst suitable for automotive and industrial applications.");e.add_info&&e.add_info.trim()&&(t+="\n\nAdditional Information:\n".concat(e.add_info)),console.log("Final description:",t),g(r=>(0,Re.A)((0,Re.A)({},r),{},{title:e.name||e.cat_id,category:"Catalysts",description:t})),C(!1)})(e),className:"p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ga.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.name}),(0,ga.jsx)(ui,{className:"w-4 h-4 text-yellow-500",title:"Auto-fill enabled"})]}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:(0,ga.jsxs)("div",{className:"flex flex-col",children:[(0,ga.jsx)("span",{className:"text-gray-500",children:"Weight"}),(0,ga.jsxs)("span",{className:"font-medium",children:[e.ceramic_weight,"g"]})]})})]}),t&&(0,ga.jsxs)("div",{className:"ml-4 text-right",children:[(0,ga.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["\u20ac",t.minPrice.toFixed(2)," - \u20ac",t.maxPrice.toFixed(2)]}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[(0,ga.jsx)(bo,{className:"w-3 h-3 mr-1"}),"Market Range"]})]})]})},e.cat_id)}),_.length>0&&(0,ga.jsx)("div",{onClick:()=>{O(null),C(!1),g(e=>(0,Re.A)((0,Re.A)({},e),{},{description:"",price:"",category:"General"}))},className:"p-4 hover:bg-orange-50 dark:hover:bg-orange-900/20 cursor-pointer border-t border-gray-200 dark:border-gray-600 transition-all duration-200 group",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ga.jsx)("span",{className:"font-semibold text-orange-600 dark:text-orange-400 group-hover:text-orange-700 dark:group-hover:text-orange-300 transition-colors",children:"\ud83c\udd93 Catalyst not in Database"}),(0,ga.jsx)(ks,{className:"w-4 h-4 text-orange-500",title:"Create free listing"})]}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Create a free listing with custom price and description"})]}),(0,ga.jsx)("div",{className:"ml-4 text-right",children:(0,ga.jsx)("div",{className:"text-sm font-bold text-orange-600 dark:text-orange-400",children:"Custom Input"})})]})}),0===_.length&&h.title.length>2&&(0,ga.jsxs)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:[(0,ga.jsxs)("p",{className:"mb-3",children:['No catalysts found matching "',h.title,'"']}),(0,ga.jsxs)("button",{type:"button",onClick:()=>{O(null),C(!1),g(e=>(0,Re.A)((0,Re.A)({},e),{},{category:"General"}))},className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center space-x-2 mx-auto",children:[(0,ga.jsx)(ks,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Create Free Listing"})]})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Description *",E&&(0,ga.jsxs)("span",{className:"text-purple-600 dark:text-purple-400 text-xs ml-2 flex items-center",children:[(0,ga.jsx)(ui,{className:"w-3 h-3 mr-1"}),"Auto-generated from catalyst specifications"]})]}),(0,ga.jsx)("textarea",{name:"description",value:h.description,onChange:G,placeholder:"Provide a detailed description of your item...",rows:E?8:4,className:"w-full px-4 py-3 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 transition-all duration-200 ".concat(E?"border-purple-300 dark:border-purple-600 focus:border-purple-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500"),required:!0}),E&&(0,ga.jsxs)("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-2 flex items-center",children:[(0,ga.jsx)(bo,{className:"w-3 h-3 mr-1"}),"Description includes catalyst specifications and current market information"]})]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Starting Price * (\u20ac)",E&&(0,ga.jsxs)("span",{className:"text-green-600 dark:text-green-400 text-xs ml-2 flex items-center",children:[(0,ga.jsx)(ui,{className:"w-3 h-3 mr-1"}),"Auto-calculated from catalyst data"]})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"\u20ac"}),(0,ga.jsx)("input",{type:"number",name:"price",value:h.price,onChange:G,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-all duration-200 ".concat(E?"border-green-300 dark:border-green-600 focus:border-green-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500"),required:!0}),E&&(0,ga.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,ga.jsx)("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded text-xs font-medium",children:"Auto-filled"})})]})]})}),E&&(0,ga.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-6 mt-6",children:[(0,ga.jsxs)("h4",{className:"font-bold text-blue-900 dark:text-blue-100 mb-4 flex items-center text-lg",children:[(0,ga.jsx)(bo,{className:"w-5 h-5 mr-2"}),"Selected Catalyst: ",E.name,(0,ga.jsx)("span",{className:"ml-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Auto-filled"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Catalyst Name"}),(0,ga.jsx)("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:E.name})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Ceramic Weight"}),(0,ga.jsxs)("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:[E.weight,"g"]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Market Range"}),(0,ga.jsx)("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:W(E.cat_id)?(0,ga.jsxs)(ga.Fragment,{children:["\u20ac",W(E.cat_id).minPrice.toFixed(2)," - \u20ac",W(E.cat_id).maxPrice.toFixed(2)]}):"N/A"})]})]}),(0,ga.jsx)("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ga.jsxs)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:[(0,ga.jsx)("strong",{children:"Auto-filled fields:"})," Title, Category, Price, and Description have been automatically populated based on this catalyst's data and current market calculations."]})})]}),E&&(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,ga.jsx)(Us,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Selected Catalyst Content"}),(0,ga.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Preview"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ga.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-100 dark:border-green-800",children:[(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 uppercase font-medium mb-1",children:"Weight"}),(0,ga.jsxs)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[E.weight||0,"g"]})]}),(0,ga.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-100 dark:border-green-800",children:[(0,ga.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase font-medium mb-1",children:"Pt g"}),(0,ga.jsx)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:(E.pt_g||0).toFixed(4)})]}),(0,ga.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-100 dark:border-green-800",children:[(0,ga.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400 uppercase font-medium mb-1",children:"Pd g"}),(0,ga.jsx)("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:(E.pd_g||0).toFixed(4)})]}),(0,ga.jsxs)("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-100 dark:border-green-800",children:[(0,ga.jsx)("div",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase font-medium mb-1",children:"Rh g"}),(0,ga.jsx)("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:(E.rh_g||0).toFixed(4)})]})]}),(0,ga.jsxs)("div",{className:"mt-4 text-xs text-green-600 dark:text-green-400 flex items-center",children:[(0,ga.jsx)(bo,{className:"w-4 h-4 mr-1"}),"Content values from unified catalyst calculations - will be saved with your listing"]})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(so,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ga.jsx)("input",{type:"checkbox",checked:p,onChange:e=>{return t=e.target.checked,x(t),void g(t?e=>(0,Re.A)((0,Re.A)({},e),{},{street:f.street,post_code:f.post_code,city:f.city,country:f.country}):e=>(0,Re.A)((0,Re.A)({},e),{},{street:"",post_code:"",city:"",country:""}));var t},style:{appearance:"none",width:"18px",height:"18px",backgroundColor:"#f3f4f6",border:"2px solid #6b7280",borderRadius:"4px",position:"relative",cursor:"pointer",outline:"none"},onMouseOver:e=>{e.target.style.backgroundColor="#e5e7eb"},onMouseOut:e=>{e.target.style.backgroundColor=p?"#2563eb":"#f3f4f6"},onClick:e=>{setTimeout(()=>{e.target.style.backgroundColor=e.target.checked?"#2563eb":"#f3f4f6",e.target.style.backgroundImage=e.target.checked?"url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e\")":"none",e.target.style.backgroundSize="12px 12px",e.target.style.backgroundPosition="center",e.target.style.backgroundRepeat="no-repeat"},10)},ref:e=>{e&&(e.style.backgroundColor=p?"#2563eb":"#f3f4f6",e.style.backgroundImage=p?"url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e\")":"none",e.style.backgroundSize="12px 12px",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat")}}),(0,ga.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)(Es,{className:"w-3 h-3 mr-1"}),"Use profile address"]})]})]}),p?(0,ga.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,ga.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg mr-3",children:(0,ga.jsx)(Es,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Using Profile Address"}),(0,ga.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Address from your profile settings"})]})]}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-100 dark:border-blue-700",children:f.street||f.city?(0,ga.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[f.street&&(0,ga.jsx)("div",{children:f.street}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[f.post_code&&(0,ga.jsx)("span",{children:f.post_code}),f.city&&(0,ga.jsx)("span",{children:f.city})]}),f.country&&(0,ga.jsx)("div",{children:f.country})]}):(0,ga.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No address in profile. Please uncheck to enter address manually."})})]}):(0,ga.jsxs)("div",{className:"space-y-4 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,ga.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg mr-3",children:(0,ga.jsx)(so,{className:"w-4 h-4 text-green-600 dark:text-green-300"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-100",children:"Custom Address"}),(0,ga.jsx)("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Enter address for this listing"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ga.jsx)("input",{type:"text",name:"street",value:h.street,onChange:G,placeholder:"Enter street address",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,ga.jsx)("input",{type:"text",name:"post_code",value:h.post_code,onChange:G,placeholder:"Postal/ZIP code",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),(0,ga.jsx)("input",{type:"text",name:"city",value:h.city,onChange:G,placeholder:"Enter city",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),(0,ga.jsx)("input",{type:"text",name:"country",value:h.country,onChange:G,placeholder:"Enter country",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Js,{className:"w-6 h-6 mr-2"}),"Time Limit (Optional)"]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"checkbox",id:"has_time_limit",name:"has_time_limit",checked:h.has_time_limit,onChange:e=>g((0,Re.A)((0,Re.A)({},h),{},{has_time_limit:e.target.checked})),style:{appearance:"none",width:"20px",height:"20px",backgroundColor:"#f3f4f6",border:"2px solid #6b7280",borderRadius:"4px",position:"relative",cursor:"pointer",outline:"none"},onMouseOver:e=>{e.target.style.backgroundColor="#e5e7eb"},onMouseOut:e=>{e.target.style.backgroundColor=h.has_time_limit?"#2563eb":"#f3f4f6"},onClick:e=>{setTimeout(()=>{e.target.style.backgroundColor=e.target.checked?"#2563eb":"#f3f4f6",e.target.style.backgroundImage=e.target.checked?"url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e\")":"none",e.target.style.backgroundSize="14px 14px",e.target.style.backgroundPosition="center",e.target.style.backgroundRepeat="no-repeat"},10)},ref:e=>{e&&(e.style.backgroundColor=h.has_time_limit?"#2563eb":"#f3f4f6",e.style.backgroundImage=h.has_time_limit?"url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e\")":"none",e.style.backgroundSize="14px 14px",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat")}}),(0,ga.jsx)("label",{htmlFor:"has_time_limit",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Set a time limit for this listing"})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add urgency to your listing! When time runs out, the highest bidder automatically wins."}),h.has_time_limit&&(0,ga.jsxs)("div",{className:"space-y-6 bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Duration"}),(0,ga.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:1,label:"1 Hour",desc:"1 hour"},{value:24,label:"24 Hours",desc:"1 day"},{value:48,label:"48 Hours",desc:"2 days"},{value:168,label:"1 Week",desc:"7 days"},{value:720,label:"1 Month",desc:"30 days"}].map(e=>(0,ga.jsxs)("label",{className:"relative",children:[(0,ga.jsx)("input",{type:"radio",name:"time_limit_hours",value:e.value,checked:h.time_limit_hours===e.value,onChange:e=>g((0,Re.A)((0,Re.A)({},h),{},{time_limit_hours:parseInt(e.target.value)})),className:"sr-only"}),(0,ga.jsx)("div",{className:"p-3 rounded-lg border-2 cursor-pointer transition-all ".concat(h.time_limit_hours===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"font-semibold text-sm",children:e.label}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.desc})]})})]},e.value))})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[(0,ga.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preview"}),(0,ga.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Your listing will expire in ",(0,ga.jsx)("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:1===h.time_limit_hours?"1 hour":24===h.time_limit_hours?"1 day":48===h.time_limit_hours?"2 days":168===h.time_limit_hours?"1 week":"1 month"})," after publication.",(0,ga.jsx)("br",{}),"The countdown timer will appear as a ",(0,ga.jsx)("span",{className:"font-medium",children:"separate badge below the market range"})," of your listing image."]})]}),(0,ga.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:[(0,ga.jsx)(Wi,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5"}),(0,ga.jsxs)("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:[(0,ga.jsx)("strong",{children:"Important:"})," When your listing expires, the highest bidder at that moment will automatically win, regardless of how many bids were placed. You can extend the time limit later if needed."]})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ga.jsx)(Es,{className:"w-6 h-6 text-purple-600"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Partner Preview"})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"checkbox",id:"show_partners_first",name:"show_partners_first",checked:h.show_partners_first,onChange:e=>g((0,Re.A)((0,Re.A)({},h),{},{show_partners_first:e.target.checked})),style:{appearance:"none",width:"20px",height:"20px",backgroundColor:"#f3f4f6",border:"2px solid #6b7280",borderRadius:"4px",position:"relative",cursor:"pointer",outline:"none"},onMouseOver:e=>{e.target.style.backgroundColor="#e5e7eb"},onMouseOut:e=>{e.target.style.backgroundColor=h.show_partners_first?"#9333ea":"#f3f4f6"},onClick:e=>{setTimeout(()=>{e.target.style.backgroundColor=e.target.checked?"#9333ea":"#f3f4f6",e.target.style.backgroundImage=e.target.checked?"url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e\")":"none",e.target.style.backgroundSize="14px 14px",e.target.style.backgroundPosition="center",e.target.style.backgroundRepeat="no-repeat"},10)},ref:e=>{e&&(e.style.backgroundColor=h.show_partners_first?"#9333ea":"#f3f4f6",e.style.backgroundImage=h.show_partners_first?"url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e\")":"none",e.style.backgroundSize="14px 14px",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat")}}),(0,ga.jsx)("label",{htmlFor:"show_partners_first",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Show Partners First"})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Give your preferred partners exclusive early access to your listing before it becomes public."}),h.show_partners_first&&(0,ga.jsxs)("div",{className:"space-y-6 bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Partner Preview Duration"}),(0,ga.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"1 Minute",value:1/60},{label:"1 Day",value:24},{label:"2 Days",value:48},{label:"1 Week",value:168}].map(e=>(0,ga.jsxs)("button",{type:"button",onClick:()=>g((0,Re.A)((0,Re.A)({},h),{},{partners_visibility_hours:e.value})),className:"p-3 rounded-lg border-2 text-center transition-colors ".concat(h.partners_visibility_hours===e.value?"border-purple-500 bg-purple-500 text-white":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:border-purple-300"),children:[(0,ga.jsx)("div",{className:"font-medium",children:e.label}),(0,ga.jsxs)("div",{className:"text-xs opacity-75",children:[e.value,"h"]})]},e.value))})]}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:(0,ga.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Your listing will be visible only to your partners for ",(0,ga.jsx)("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:24===h.partners_visibility_hours?"1 day":48===h.partners_visibility_hours?"2 days":168===h.partners_visibility_hours?"1 week":"".concat(h.partners_visibility_hours," hours")})," after publication.",(0,ga.jsx)("br",{}),"After this period, it will become visible to all users. Partners can place offers during the exclusive period."]})}),(0,ga.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,ga.jsx)(Es,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),(0,ga.jsxs)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[(0,ga.jsx)("strong",{children:"Note:"})," You can manage your preferred partners in Profile Settings > Partners. Partners will be notified when you post listings with early access enabled."]})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 shadow-sm",children:[(0,ga.jsxs)("div",{className:"text-center mb-8",children:[(0,ga.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Ready to publish your listing?"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Review all information above and choose how you'd like to proceed with your listing."})]}),(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 max-w-2xl mx-auto",children:[(0,ga.jsxs)(Le,{to:"/browse",className:"w-full sm:w-auto px-6 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg font-medium transition-all duration-200 text-center flex items-center justify-center space-x-2 group",children:[(0,ga.jsx)(Is,{className:"w-4 h-4 group-hover:rotate-90 transition-transform duration-200"}),(0,ga.jsx)("span",{children:"Cancel"})]}),(0,ga.jsx)("button",{type:"button",onClick:async()=>{l(!0);try{const e=localStorage.getItem("cataloro_user"),r=e?JSON.parse(e):null;if(!r)return alert("Please log in to save draft"),void t("/login");const a=(0,Re.A)((0,Re.A)({},h),{},{price:h.price?parseFloat(h.price):0,shipping_cost:h.shipping_cost?parseFloat(h.shipping_cost):0,seller_id:r.id,seller:{name:r.name||r.full_name||r.email,username:r.username||r.name||r.email,email:r.email,verified:r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||null,location:[h.street,h.city,h.country].filter(Boolean).join(", ")||"Not specified"},address:{street:h.street,post_code:h.post_code,city:h.city,country:h.country,use_profile_address:p},images:u,created_at:(new Date).toISOString(),status:"draft",is_draft:!0},E&&{catalyst_id:E.cat_id,catalyst_name:E.name,is_catalyst_listing:!0,calculated_price:E.total_price,ceramic_weight:E.weight,pt_g:E.pt_g,pd_g:E.pd_g,rh_g:E.rh_g,catalyst_specs:{weight:E.weight,total_price:E.total_price,pt_g:E.pt_g,pd_g:E.pd_g,rh_g:E.rh_g,is_override:E.is_override}});await Ba.createListing(a),alert("Draft saved successfully! You can finish it later from My Listings."),t("/my-listings")}catch(e){console.error("Failed to save draft:",e),alert("Failed to save draft. Please try again.")}finally{l(!1)}},disabled:o||s,className:"w-full sm:w-auto px-6 py-3 bg-amber-500 hover:bg-amber-600 disabled:bg-amber-300 text-white rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 disabled:cursor-not-allowed shadow-md hover:shadow-lg transform hover:-translate-y-0.5 disabled:transform-none",children:o?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Saving..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(sl,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Save as Draft"})]})}),(0,ga.jsx)("button",{type:"submit",disabled:s||o,className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:transform-none",children:s?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Publishing..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Create Listing"})]})})]}),(0,ga.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"By creating a listing, you agree to our terms of service and marketplace guidelines."})})]})]})]})})},ol=js("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const ll=function(){const e=re(),{id:t}=ne(),[r,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!0),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[h,g]=(0,n.useState)({title:"",description:"",price:"",category:"General",condition:"New",street:"",post_code:"",city:"",country:"",shipping:"pickup",shipping_cost:"",tags:[],features:[]}),[p,x]=(0,n.useState)(!0),[f,b]=(0,n.useState)({street:"",post_code:"",city:"",country:""}),[y,v]=(0,n.useState)(""),[j,w]=(0,n.useState)("");(0,n.useEffect)(()=>{k(),N()},[t]);const k=async()=>{try{var e,r,a,n,s,o,c;i(!0),l(null);const d=localStorage.getItem("cataloro_user"),u=d?JSON.parse(d):null;if(!u)return void l("Please log in to edit listings");const h=await fetch("".concat("https://cataloro.com","/api/listings/").concat(t));if(!h.ok)throw new Error("Failed to fetch listing data");const p=await h.json();if(p.seller_id!==u.id)return void l("You can only edit your own listings");g({title:p.title||"",description:p.description||"",price:(null===(e=p.price)||void 0===e?void 0:e.toString())||"",category:p.category||"General",condition:p.condition||"New",street:(null===(r=p.address)||void 0===r?void 0:r.street)||p.street||"",post_code:(null===(a=p.address)||void 0===a?void 0:a.post_code)||p.post_code||"",city:(null===(n=p.address)||void 0===n?void 0:n.city)||p.city||"",country:(null===(s=p.address)||void 0===s?void 0:s.country)||p.country||"",shipping:p.shipping||"pickup",shipping_cost:(null===(o=p.shipping_cost)||void 0===o?void 0:o.toString())||"",tags:p.tags||[],features:p.features||[]}),p.images&&p.images.length>0&&m(p.images),x((null===(c=p.address)||void 0===c?void 0:c.use_profile_address)||!1)}catch(gx){console.error("Failed to load listing:",gx),l("Failed to load listing data")}finally{i(!1)}},N=()=>{try{const e=localStorage.getItem("cataloro_user");if(e){const t=JSON.parse(e),r={street:t.street||"",post_code:t.post_code||"",city:t.city||"",country:t.country||""};b(r)}}catch(o){console.error("Failed to load profile address:",o)}},_=e=>{const{name:t,value:r}=e.target;g(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:r}))},S=()=>{y.trim()&&!h.tags.includes(y.trim())&&(g(e=>(0,Re.A)((0,Re.A)({},e),{},{tags:[...e.tags,y.trim()]})),v(""))},A=()=>{j.trim()&&!h.features.includes(j.trim())&&(g(e=>(0,Re.A)((0,Re.A)({},e),{},{features:[...e.features,j.trim()]})),w(""))};return s?(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ga.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ga.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(ol,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading listing data..."})]})})})}):o?(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ga.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ga.jsxs)("div",{className:"text-center py-16",children:[(0,ga.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,ga.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Error Loading Listing"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:o}),(0,ga.jsxs)(Le,{to:"/my-listings",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,ga.jsx)(Go,{className:"w-5 h-5 mr-2"}),"Back to My Listings"]})]})})}):(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ga.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ga.jsxs)("div",{className:"mb-8",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ga.jsx)(Le,{to:"/my-listings",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,ga.jsx)(Go,{className:"w-5 h-5"})}),(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Edit Listing"})]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Update your listing details below"})]}),(0,ga.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e=["title","description","price"];for(let t of e)if(!h[t].trim())return alert("Please fill in the ".concat(t.replace("_"," ")," field")),!1;return parseFloat(h.price)<=0?(alert("Please enter a valid price"),!1):0!==u.length||(alert("Please add at least one image"),!1)})()){a(!0);try{const r=localStorage.getItem("cataloro_user"),a=r?JSON.parse(r):null;if(!a)return alert("Please log in to update listing"),void e("/login");const n=(0,Re.A)((0,Re.A)({},h),{},{price:parseFloat(h.price),shipping_cost:h.shipping_cost?parseFloat(h.shipping_cost):0,seller_id:a.id,seller:{name:a.name||a.full_name||a.email,username:a.username||a.name||a.email,email:a.email,verified:a.verified||!1,is_business:a.is_business||!1,company_name:a.company_name||null,location:[h.street,h.city,h.country].filter(Boolean).join(", ")||"Not specified"},address:{street:h.street,post_code:h.post_code,city:h.city,country:h.country,use_profile_address:p},images:u,updated_at:(new Date).toISOString()});if(!(await fetch("".concat("https://cataloro.com","/api/listings/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)throw new Error("Failed to update listing");alert("Listing updated successfully!"),e("/my-listings")}catch(o){console.error("Failed to update listing:",o),alert("Failed to update listing. Please try again.")}finally{a(!1)}}},className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Ci,{className:"w-6 h-6 mr-2"}),"Product Images"]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[u.map((e,t)=>(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),(0,ga.jsx)("button",{type:"button",onClick:()=>(e=>{d(t=>t.filter((t,r)=>r!==e)),m(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]},t)),(0,ga.jsxs)("label",{className:"w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[(0,ga.jsx)($s,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,ga.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Add Images"}),(0,ga.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return void alert("Please select only image files");if(e.size>5242880)return void alert("File size must be less than 5MB");d(t=>[...t,e]);const t=new FileReader;t.onload=e=>{m(t=>[...t,e.target.result])},t.readAsDataURL(e)})},className:"hidden"})]})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload up to 8 images. First image will be the main photo. Max 5MB per image."})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Hs,{className:"w-6 h-6 mr-2"}),"Basic Information"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),(0,ga.jsx)("input",{type:"text",name:"title",value:h.title,onChange:_,placeholder:"Enter item title",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),(0,ga.jsx)("textarea",{name:"description",value:h.description,onChange:_,placeholder:"Provide a detailed description of your item...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price * (\u20ac)"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"\u20ac"}),(0,ga.jsx)("input",{type:"number",name:"price",value:h.price,onChange:_,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ga.jsx)("select",{name:"category",value:h.category,onChange:_,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:["Catalysts","Electronics","Fashion & Clothing","Home & Garden","Sports & Outdoors","Books & Media","Music & Instruments","Automotive","Real Estate","Jobs & Services","Collectibles & Antiques","Health & Beauty","Toys & Games"].map(e=>(0,ga.jsx)("option",{value:e,children:e},e))})]})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(so,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ga.jsx)("input",{type:"checkbox",checked:p,onChange:e=>{return t=e.target.checked,x(t),void(t&&g(e=>(0,Re.A)((0,Re.A)({},e),{},{street:f.street,post_code:f.post_code,city:f.city,country:f.country})));var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ga.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)(Es,{className:"w-3 h-3 mr-1"}),"Use profile address"]})]})]}),p?(0,ga.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,ga.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg mr-3",children:(0,ga.jsx)(Es,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Using Profile Address"}),(0,ga.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Address from your profile settings"})]})]}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-100 dark:border-blue-700",children:f.street||f.city?(0,ga.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[f.street&&(0,ga.jsx)("div",{children:f.street}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[f.post_code&&(0,ga.jsx)("span",{children:f.post_code}),f.city&&(0,ga.jsx)("span",{children:f.city})]}),f.country&&(0,ga.jsx)("div",{children:f.country})]}):(0,ga.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No address in profile. Please uncheck to enter address manually."})})]}):(0,ga.jsxs)("div",{className:"space-y-4 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ga.jsx)("input",{type:"text",name:"street",value:h.street,onChange:_,placeholder:"Enter street address",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,ga.jsx)("input",{type:"text",name:"post_code",value:h.post_code,onChange:_,placeholder:"Postal/ZIP code",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),(0,ga.jsx)("input",{type:"text",name:"city",value:h.city,onChange:_,placeholder:"Enter city",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),(0,ga.jsx)("input",{type:"text",name:"country",value:h.country,onChange:_,placeholder:"Enter country",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ga.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Shipping & Delivery"}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Options"}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsxs)("label",{className:"flex items-center",children:[(0,ga.jsx)("input",{type:"radio",name:"shipping",value:"pickup",checked:"pickup"===h.shipping,onChange:_,className:"mr-2"}),(0,ga.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Local pickup only"})]}),(0,ga.jsxs)("label",{className:"flex items-center",children:[(0,ga.jsx)("input",{type:"radio",name:"shipping",value:"shipping",checked:"shipping"===h.shipping,onChange:_,className:"mr-2"}),(0,ga.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"I can ship this item"})]}),(0,ga.jsxs)("label",{className:"flex items-center",children:[(0,ga.jsx)("input",{type:"radio",name:"shipping",value:"both",checked:"both"===h.shipping,onChange:_,className:"mr-2"}),(0,ga.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Both pickup and shipping"})]})]})]}),("shipping"===h.shipping||"both"===h.shipping)&&(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Cost (\u20ac)"}),(0,ga.jsx)("input",{type:"number",name:"shipping_cost",value:h.shipping_cost,onChange:_,placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(yi,{className:"w-6 h-6 mr-2"}),"Tags & Features"]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (Optional)"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"Add a tag",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),S())}),(0,ga.jsx)("button",{type:"button",onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:(0,ga.jsx)(ks,{className:"w-4 h-4"})})]}),(0,ga.jsx)("div",{className:"flex flex-wrap gap-2",children:h.tags.map((e,t)=>(0,ga.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm",children:[e,(0,ga.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>(0,Re.A)((0,Re.A)({},t),{},{tags:t.tags.filter(t=>t!==e)}))})(e),className:"ml-2 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:(0,ga.jsx)(Is,{className:"w-3 h-3"})})]},t))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Key Features (Optional)"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)("input",{type:"text",value:j,onChange:e=>w(e.target.value),placeholder:"Add a feature",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),A())}),(0,ga.jsx)("button",{type:"button",onClick:A,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:(0,ga.jsx)(ks,{className:"w-4 h-4"})})]}),(0,ga.jsx)("div",{className:"space-y-2",children:h.features.map((e,t)=>(0,ga.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,ga.jsx)("span",{className:"text-green-800 dark:text-green-200",children:e}),(0,ga.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>(0,Re.A)((0,Re.A)({},t),{},{features:t.features.filter(t=>t!==e)}))})(e),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:(0,ga.jsx)(Zs,{className:"w-4 h-4"})})]},t))})]})]})]}),(0,ga.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ready to update your listing?"}),(0,ga.jsx)("p",{className:"text-blue-100",children:"Review all information above and click update to save your changes."})]}),(0,ga.jsxs)("div",{className:"flex space-x-4",children:[(0,ga.jsx)(Le,{to:"/my-listings",className:"px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-lg font-medium transition-colors",children:"Cancel"}),(0,ga.jsx)("button",{type:"submit",disabled:r,className:"px-8 py-3 bg-white/20 hover:bg-white/30 disabled:bg-white/10 text-white rounded-lg font-semibold transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:r?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Updating..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(sl,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Update Listing"})]})})]})]})})]})]})})},cl=js("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);const dl=function(){const{user:e}=_a(),{showToast:t}=Fa(),[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[o,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{e&&c()},[e]);const c=async()=>{if(e){i(!0);try{const r=await fetch("".concat("https://cataloro.com","/api/orders/seller/").concat(e.id));if(r.ok){const e=await r.json();a(e)}else console.error("Failed to fetch pending orders"),t("Failed to load pending orders","error")}catch(r){console.error("Error fetching pending orders:",r),t("Failed to load pending orders","error")}finally{i(!1)}}},d=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const a=Math.floor(r/36e5),n=Math.floor(r%36e5/6e4);if(a>24){const e=Math.floor(a/24),t=a%24;return"".concat(e,"d ").concat(t,"h remaining")}return a>0?"".concat(a,"h ").concat(n,"m remaining"):"".concat(n,"m remaining")},u=e=>{const t=new Date,r=(new Date(e).getTime()-t.getTime())/36e5;return r<=0?"text-red-600 dark:text-red-400":r<=6?"text-orange-600 dark:text-orange-400":r<=24?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"};return s?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading pending sales..."})]})}):(0,ga.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Pending Sales"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage incoming buy requests for your listings"})]}),(0,ga.jsxs)("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Refresh"})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ga.jsx)(Ts,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Pending Requests"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ga.jsx)(cl,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",r.reduce((e,t)=>{var r;return e+((null===(r=t.listing)||void 0===r?void 0:r.price)||0)},0).toFixed(2)]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Potential Revenue"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,ga.jsx)(Js,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.filter(e=>{const t=new Date(e.expires_at),r=new Date;return(t.getTime()-r.getTime())/36e5<=6}).length}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Expiring Soon"})]})]})})]}),0===r.length?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Ts,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No pending buy requests"}),(0,ga.jsx)("p",{className:"text-gray-500 dark:text-gray-500",children:"When someone wants to buy your items, they'll appear here."})]}):(0,ga.jsx)("div",{className:"space-y-6",children:r.map(r=>{var a,n,s,i,m,h,g;return(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ga.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ga.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0",children:null!==(a=r.listing)&&void 0!==a&&a.image?(0,ga.jsx)("img",{src:r.listing.image,alt:r.listing.title,className:"w-full h-full object-cover"}):(0,ga.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ga.jsx)(Ts,{className:"w-8 h-8 text-gray-400"})})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:(null===(n=r.listing)||void 0===n?void 0:n.title)||"Unknown Item"}),(0,ga.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:["\u20ac",(null===(s=r.listing)||void 0===s||null===(i=s.price)||void 0===i?void 0:i.toFixed(2))||"0.00"]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Es,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:(null===(m=r.buyer)||void 0===m?void 0:m.full_name)||(null===(h=r.buyer)||void 0===h?void 0:h.username)||"Unknown Buyer"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(zs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:(null===(g=r.buyer)||void 0===g?void 0:g.email)||"N/A"})]})]})]})]}),(0,ga.jsxs)("div",{className:"text-right",children:[(0,ga.jsxs)("div",{className:"text-sm font-medium ".concat(u(r.expires_at)),children:[(0,ga.jsx)(Js,{className:"w-4 h-4 inline mr-1"}),d(r.expires_at)]}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(0,ga.jsx)(Ks,{className:"w-3 h-3 inline mr-1"}),"Requested ",new Date(r.created_at).toLocaleDateString()]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("button",{onClick:()=>(async r=>{l(r);try{const a=await fetch("".concat("https://cataloro.com","/api/orders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})}),n=await a.json();a.ok?(t("Buy request rejected. The buyer has been notified.","info"),c()):t(n.detail||"Failed to reject request","error")}catch(a){console.error("Error rejecting order:",a),t("Failed to reject request. Please try again.","error")}finally{l(null)}})(r.id),disabled:o===r.id,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",children:[(0,ga.jsx)($o,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Reject"})]}),(0,ga.jsxs)("button",{onClick:()=>(async r=>{l(r);try{const a=await fetch("".concat("https://cataloro.com","/api/orders/").concat(r,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})}),n=await a.json();a.ok?(t("Buy request approved! The buyer has been notified.","success"),c()):410===a.status?(t("This request has expired","warning"),c()):t(n.detail||"Failed to approve request","error")}catch(a){console.error("Error approving order:",a),t("Failed to approve request. Please try again.","error")}finally{l(null)}})(r.id),disabled:o===r.id,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:o===r.id?"Processing...":"Approve Sale"})]})]})]})},r.id)})})]})},ul=js("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),ml=js("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const hl=function(){const{user:e}=_a(),{showToast:t}=Fa(),[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)([]),[o,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)("buyer"),[h,g]=(0,n.useState)("all"),[p,x]=(0,n.useState)("newest");(0,n.useEffect)(()=>{e&&f()},[e]);const f=async()=>{if(e){l(!0);try{const t=await fetch("".concat("https://cataloro.com","/api/orders/buyer/").concat(e.id));if(t.ok){const e=await t.json();a(e)}const r=await fetch("".concat("https://cataloro.com","/api/orders/seller/").concat(e.id));if(r.ok){const e=await r.json();i(e)}}catch(r){console.error("Error fetching orders:",r),t("Failed to load requests","error")}finally{l(!1)}}},b=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const a=Math.floor(r/36e5),n=Math.floor(r%36e5/6e4);if(a>24){const e=Math.floor(a/24),t=a%24;return"".concat(e,"d ").concat(t,"h")}return a>0?"".concat(a,"h ").concat(n,"m"):"".concat(n,"m")},y=e=>{switch(e){case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"approved":return"text-green-600 bg-green-50 border-green-200";case"rejected":return"text-red-600 bg-red-50 border-red-200";case"expired":default:return"text-gray-600 bg-gray-50 border-gray-200";case"cancelled":return"text-orange-600 bg-orange-50 border-orange-200"}},v=e=>{switch(e){case"pending":return(0,ga.jsx)(Js,{className:"w-4 h-4"});case"approved":return(0,ga.jsx)(Yi,{className:"w-4 h-4"});case"rejected":case"cancelled":return(0,ga.jsx)($o,{className:"w-4 h-4"});case"expired":return(0,ga.jsx)(Ks,{className:"w-4 h-4"});default:return(0,ga.jsx)(Ts,{className:"w-4 h-4"})}},j=(e,t)=>{let r=e;return"all"!==h&&(r=r.filter(e=>e.status===h)),r.sort((e,t)=>{var r,a,n,s;switch(p){case"oldest":return new Date(e.created_at)-new Date(t.created_at);case"price_high":return((null===(r=t.listing)||void 0===r?void 0:r.price)||0)-((null===(a=e.listing)||void 0===a?void 0:a.price)||0);case"price_low":return((null===(n=e.listing)||void 0===n?void 0:n.price)||0)-((null===(s=t.listing)||void 0===s?void 0:s.price)||0);default:return new Date(t.created_at)-new Date(e.created_at)}}),r},w=(()=>{const e=[...r,...s];return{total:e.length,pending:e.filter(e=>"pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length,totalValue:e.reduce((e,t)=>{var r;return e+((null===(r=t.listing)||void 0===r?void 0:r.price)||0)},0)}})(),k=j("buyer"===u?r:"seller"===u?s:[...r,...s]);return o?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading all requests..."})]})}):(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(ul,{className:"w-8 h-8 mr-3 text-blue-600"}),"All Requests"]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage all your buy and sell requests in one place"})]}),(0,ga.jsxs)("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Refresh"})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ga.jsx)(Ts,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.total}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Requests"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,ga.jsx)(Js,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.pending}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Pending"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ga.jsx)(Yi,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.approved}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Approved"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,ga.jsx)(_s,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",w.totalValue.toFixed(2)]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Value"})]})]})})]}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,ga.jsxs)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,ga.jsxs)("button",{onClick:()=>m("buyer"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("buyer"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["My Purchases (",r.length,")"]}),(0,ga.jsxs)("button",{onClick:()=>m("seller"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("seller"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["My Sales (",s.length,")"]}),(0,ga.jsxs)("button",{onClick:()=>m("all"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("all"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["All Requests (",w.total,")"]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(vi,{className:"w-4 h-4 text-gray-500"}),(0,ga.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"all",children:"All Status"}),(0,ga.jsx)("option",{value:"pending",children:"Pending"}),(0,ga.jsx)("option",{value:"approved",children:"Approved"}),(0,ga.jsx)("option",{value:"rejected",children:"Rejected"}),(0,ga.jsx)("option",{value:"expired",children:"Expired"}),(0,ga.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(ml,{className:"w-4 h-4 text-gray-500"}),(0,ga.jsxs)("select",{value:p,onChange:e=>x(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"newest",children:"Newest First"}),(0,ga.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,ga.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,ga.jsx)("option",{value:"price_low",children:"Price: Low to High"})]})]})]})]})}),0===k.length?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Ts,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No requests found"}),(0,ga.jsxs)("p",{className:"text-gray-500 dark:text-gray-500",children:["buyer"===u&&"You haven't made any purchase requests yet.","seller"===u&&"You haven't received any sale requests yet.","all"===u&&"No requests match your current filters."]})]}):(0,ga.jsx)("div",{className:"space-y-6",children:k.map(a=>{var n,s,i,o,l,u,m,h;const g=r.some(e=>e.id===a.id);return(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ga.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ga.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0",children:null!==(n=a.listing)&&void 0!==n&&n.image?(0,ga.jsx)("img",{src:a.listing.image,alt:a.listing.title,className:"w-full h-full object-cover"}):(0,ga.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ga.jsx)(Ts,{className:"w-8 h-8 text-gray-400"})})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null===(s=a.listing)||void 0===s?void 0:s.title)||"Unknown Item"}),(0,ga.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(y(a.status)),children:[v(a.status),(0,ga.jsx)("span",{className:"ml-1 capitalize",children:a.status})]}),(0,ga.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(g?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:g?"Purchase":"Sale"})]}),(0,ga.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:["\u20ac",(null===(i=a.listing)||void 0===i||null===(o=i.price)||void 0===o?void 0:o.toFixed(2))||"0.00"]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Es,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:g?"Seller: ".concat((null===(l=a.seller)||void 0===l?void 0:l.username)||"Unknown"):"Buyer: ".concat((null===(u=a.buyer)||void 0===u?void 0:u.username)||"Unknown")})]}),"approved"===a.status&&(null===(m=a.seller)||void 0===m?void 0:m.email)&&(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(zs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:a.seller.email})]})]})]})]}),(0,ga.jsxs)("div",{className:"text-right",children:["pending"===a.status&&(0,ga.jsxs)("div",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400 mb-1",children:[(0,ga.jsx)(Js,{className:"w-4 h-4 inline mr-1"}),b(a.expires_at)," remaining"]}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Ks,{className:"w-3 h-3 inline mr-1"}),"Created ",new Date(a.created_at).toLocaleDateString()]}),a.approved_at&&(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Approved ",new Date(a.approved_at).toLocaleDateString()]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:["pending"===a.status&&!g&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://cataloro.com","/api/orders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Request rejected","info"),f();else{const e=await a.json();t(e.detail||"Failed to reject request","error")}}catch(a){console.error("Error rejecting order:",a),t("Failed to reject request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",children:[(0,ga.jsx)($o,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Reject"})]}),(0,ga.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://cataloro.com","/api/orders/").concat(r,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Request approved successfully!","success"),f();else{const e=await a.json();t(e.detail||"Failed to approve request","error")}}catch(a){console.error("Error approving order:",a),t("Failed to approve request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:c===a.id?"Processing...":"Approve Sale"})]})]}),"pending"===a.status&&g&&(0,ga.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://cataloro.com","/api/orders/").concat(r,"/cancel"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_id:e.id})});if(a.ok)t("Request cancelled successfully","success"),f();else{const e=await a.json();t(e.detail||"Failed to cancel request","error")}}catch(a){console.error("Error cancelling order:",a),t("Failed to cancel request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-4 py-2 border border-red-300 text-red-700 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:[(0,ga.jsx)($o,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Cancel Request"})]}),(0,ga.jsxs)(Le,{to:"/product/".concat(null===(h=a.listing)||void 0===h?void 0:h.id),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"View Listing"})]}),"approved"===a.status&&(0,ga.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,ga.jsx)(Ns,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Message"})]})]})]})},a.id)})})]})},gl=js("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),pl=js("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),xl=js("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),fl=js("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),bl=js("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),yl=js("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),vl=js("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),jl=js("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),wl=js("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),kl=js("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Nl=js("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const _l=new class{async getDashboard(){try{return(await sa.get("".concat(ca.ADMIN.DASHBOARD,"?_t=").concat(Date.now()))).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch dashboard data")}}async getKPIs(){try{return(await sa.get(ca.ADMIN.KPIS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch KPIs")}}async getAllUsers(){try{return(await sa.get(ca.ADMIN.USERS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch users")}}async updateUser(e,t){try{return(await sa.put(ca.ADMIN.USERS.replace("{user_id}",e),t)).data}catch(n){var r,a;throw new Error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to update user")}}async deleteUser(e){try{await sa.delete("".concat(ca.ADMIN.USERS,"/").concat(e))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete user")}}async suspendUser(e){try{return(await sa.put("".concat(ca.ADMIN.USERS,"/").concat(e,"/suspend"))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to suspend user")}}async activateUser(e){try{return(await sa.put("".concat(ca.ADMIN.USERS,"/").concat(e,"/activate"))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to activate user")}}async getSettings(){try{return(await sa.get(ca.ADMIN.SETTINGS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch settings")}}async updateSettings(e){try{return(await sa.put(ca.ADMIN.SETTINGS,e)).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to update settings")}}async uploadLogo(e){try{const t=new FormData;t.append("logo",e);return(await sa.post(ca.ADMIN.LOGO,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to upload logo")}}async getSystemStats(){try{return(await sa.get("".concat(ca.ADMIN.DASHBOARD,"/stats"))).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch system stats")}}};var Sl=r(2823),Al=r.n(Sl);const Cl=js("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const El=function(){var e,t,r,a,s,i,o,l,c;const[d,u]=(0,n.useState)({seo:{title:"Cataloro - Ultra-Modern Marketplace Platform",description:"Experience the future of online commerce with cutting-edge marketplace featuring real-time messaging, intelligent notifications, and seamless transactions.",keywords:"marketplace, ecommerce, online shopping, buy sell, real-time messaging",ogImage:"",canonicalUrl:"/info"},hero:{title:"Cataloro",subtitle:"Ultra-Modern Marketplace Platform",description:"Experience the future of online commerce with our cutting-edge marketplace featuring real-time messaging, intelligent notifications, advanced search, and seamless transactions.",primaryButtonText:"Get Started",primaryButtonLink:"/login",secondaryButtonText:"Browse Marketplace",secondaryButtonLink:"/browse",backgroundStyle:"gradient",backgroundImage:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center",heroImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center",showHeroImage:!0,heroImagePosition:"right",showLogo:!0,logoAnimation:!0,showVideo:!1,videoUrl:""},stats:[{label:"Active Users",value:"10K+",icon:"users",color:"blue"},{label:"Products Listed",value:"50K+",icon:"package",color:"green"},{label:"Successful Deals",value:"25K+",icon:"trending",color:"purple"},{label:"User Rating",value:"4.9\u2605",icon:"star",color:"yellow"}],features:{title:"Platform Features",description:"Discover all the powerful features that make our marketplace the most advanced platform for buying and selling.",backgroundImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=1080&fit=crop&crop=center",showIcons:!0,categories:[{id:"marketplace-core",name:"Marketplace Core",description:"Essential marketplace functionality with advanced search and product management.",icon:"store",color:"blue-purple",features:["Real-time search with auto-suggestions","Advanced filtering and categorization","Smart product recommendations","Price comparison tools"]},{id:"shopping-experience",name:"Shopping Experience",description:"Seamless shopping with cart management, favorites, and secure transactions.",icon:"shopping-cart",color:"green-teal",features:["One-click shopping cart","Wishlist and favorites system","Secure payment processing","48-hour approval system"]},{id:"communication",name:"Communication",description:"Real-time messaging, notifications, and user profile management.",icon:"message-circle",color:"orange-red",features:["Real-time chat system","Smart notifications","User verification system","Review and rating system"]},{id:"management-tools",name:"Management Tools",description:"Comprehensive admin and user management tools with analytics.",icon:"settings",color:"purple-pink",features:["Advanced analytics dashboard","Inventory management","Bulk operations","Performance insights"]}]},testimonials:{enabled:!0,title:"What Our Users Say",description:"Join thousands of satisfied users who trust Cataloro for their marketplace needs.",items:[{id:"1",name:"Sarah Johnson",role:"Power Seller",avatar:"",content:"Cataloro has transformed how I sell online. The real-time messaging and advanced analytics have boosted my sales by 300%!",rating:5},{id:"2",name:"Mike Chen",role:"Regular Buyer",avatar:"",content:"The search functionality is incredible. I can find exactly what Im looking for in seconds. Best marketplace experience ever!",rating:5},{id:"3",name:"Emily Rodriguez",role:"Business Owner",avatar:"",content:"The admin tools and inventory management features have streamlined our entire operation. Highly recommended!",rating:5}]},cta:{title:"Ready to Transform Your Trading?",description:"Join thousands of users experiencing the future of online commerce. Create your account today and start buying or selling with confidence.",primaryButtonText:"Start Your Journey",primaryButtonLink:"/login",secondaryButtonText:"Explore Platform",secondaryButtonLink:"/browse",backgroundStyle:"gradient",backgroundImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center",showStats:!0},about:{enabled:!0,title:"About Cataloro",subtitle:"Revolutionizing Digital Commerce",description:"Founded with the vision to transform online trading, we combine cutting-edge technology with user-centric design to create the ultimate marketplace experience.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center",features:["AI-Powered Matching","Real-time Communication","Advanced Security","Global Reach"]},"about-html":{enabled:!0,title:"About Page HTML Editor",htmlContent:'<div class="about-page">\n        <h1>Welcome to Cataloro</h1>\n        <p>This is the about page content. You can edit this HTML directly.</p>\n        <div class="features">\n          <h2>Our Features</h2>\n          <ul>\n            <li>Real-time messaging</li>\n            <li>Advanced search</li>\n            <li>Secure payments</li>\n          </ul>\n        </div>\n      </div>',cssStyles:"/* About Page Styles */\n.about-page {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 2rem;\n  font-family: system-ui, -apple-system, sans-serif;\n}\n\n.about-page h1 {\n  color: #1f2937;\n  font-size: 2.5rem;\n  margin-bottom: 1rem;\n}\n\n.about-page p {\n  color: #6b7280;\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n}\n\n.features h2 {\n  color: #374151;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n}\n\n.features ul {\n  list-style-type: disc;\n  padding-left: 1.5rem;\n}\n\n.features li {\n  color: #6b7280;\n  margin-bottom: 0.5rem;\n}"},team:{enabled:!0,title:"Meet Our Team",description:"Passionate experts dedicated to revolutionizing digital commerce.",backgroundImage:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&h=1080&fit=crop&crop=center",members:[]},footer:{companyDescription:"Cataloro is the future of online commerce, providing cutting-edge marketplace solutions for modern buyers and sellers.",socialLinks:{twitter:"",facebook:"",instagram:"",linkedin:""},footerLinks:[{title:"About",url:"/info"},{title:"Contact",url:"/contact"},{title:"Privacy",url:"/privacy"},{title:"Terms",url:"/terms"}]}}),[m,h]=(0,n.useState)("seo"),[g,p]=(0,n.useState)(!1),[x,f]=(0,n.useState)(null),[b,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)("desktop"),[w,k]=(0,n.useState)(!1),N={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image","video"],["code-block"],["clean"]]},_=["header","bold","italic","underline","strike","blockquote","color","background","list","bullet","indent","align","link","image","video","code-block"],S=async()=>{try{const e=await fetch("".concat("https://cataloro.com","/api/admin/content"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))}});if(e.ok){const t=await e.json();u(e=>(0,Re.A)((0,Re.A)({},e),t))}}catch(e){console.error("Load error:",e)}};(0,n.useEffect)(()=>{const e=setInterval(()=>{d&&localStorage.setItem("cataloro_cms_draft",JSON.stringify(d))},3e4);return()=>clearInterval(e)},[d]),(0,n.useEffect)(()=>{S();const e=localStorage.getItem("cataloro_cms_draft");if(e)try{const t=JSON.parse(e);u(e=>(0,Re.A)((0,Re.A)({},e),t))}catch(t){console.error("Error loading draft:",t)}},[]);const A=(e,t)=>{u(r=>(0,Re.A)((0,Re.A)({},r),{},{seo:(0,Re.A)((0,Re.A)({},r.seo),{},{[e]:t})}))},C=(e,t)=>{u(r=>(0,Re.A)((0,Re.A)({},r),{},{hero:(0,Re.A)((0,Re.A)({},r.hero),{},{[e]:t})}))},E=(e,t,r)=>{u(a=>(0,Re.A)((0,Re.A)({},a),{},{stats:a.stats.map((a,n)=>n===e?(0,Re.A)((0,Re.A)({},a),{},{[t]:r}):a)}))},O=(e,t)=>{u(r=>(0,Re.A)((0,Re.A)({},r),{},{features:(0,Re.A)((0,Re.A)({},r.features),{},{[e]:t})}))},P=(e,t,r)=>{u(a=>(0,Re.A)((0,Re.A)({},a),{},{features:(0,Re.A)((0,Re.A)({},a.features),{},{categories:a.features.categories.map(a=>a.id===e?(0,Re.A)((0,Re.A)({},a),{},{[t]:r}):a)})}))},T=(e,t)=>{u(r=>(0,Re.A)((0,Re.A)({},r),{},{testimonials:(0,Re.A)((0,Re.A)({},r.testimonials),{},{[e]:t})}))},L=(e,t,r)=>{u(a=>(0,Re.A)((0,Re.A)({},a),{},{testimonials:(0,Re.A)((0,Re.A)({},a.testimonials),{},{items:a.testimonials.items.map(a=>a.id===e?(0,Re.A)((0,Re.A)({},a),{},{[t]:r}):a)})}))},M=(e,t)=>{u(r=>(0,Re.A)((0,Re.A)({},r),{},{cta:(0,Re.A)((0,Re.A)({},r.cta),{},{[e]:t})}))},I=(e,t)=>{u(r=>(0,Re.A)((0,Re.A)({},r),{},{about:(0,Re.A)((0,Re.A)({},r.about),{},{[e]:t})}))},D=(e,t)=>{u(r=>(0,Re.A)((0,Re.A)({},r),{},{footer:(0,Re.A)((0,Re.A)({},r.footer),{},{[e]:t})}))},R=(e,t)=>{u(r=>(0,Re.A)((0,Re.A)({},r),{},{"about-html":(0,Re.A)((0,Re.A)({},r["about-html"]),{},{[e]:t})}))},F=async(e,t,r)=>{k(!0);try{const a=new FormData;a.append("image",e),a.append("section",t),a.append("field",r);const n=await fetch("".concat("https://cataloro.com","/api/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:a});if(!n.ok)throw new Error("Upload failed");{const e=await n.json(),a="".concat("https://cataloro.com").concat(e.imageUrl);"seo"===t?A(r,a):"hero"===t?u(e=>(0,Re.A)((0,Re.A)({},e),{},{hero:(0,Re.A)((0,Re.A)({},e.hero),{},{[r]:a})})):"about"===t?u(e=>(0,Re.A)((0,Re.A)({},e),{},{about:(0,Re.A)((0,Re.A)({},e.about),{},{[r]:a})})):"features"===t&&u(e=>(0,Re.A)((0,Re.A)({},e),{},{features:(0,Re.A)((0,Re.A)({},e.features),{},{[r]:a})})),f("upload-success"),setTimeout(()=>f(null),3e3)}}catch(a){console.error("Image upload error:",a)}finally{k(!1)}},B=[{id:"seo",name:"SEO & Meta",icon:ko},{id:"hero",name:"Hero Section",icon:bl},{id:"stats",name:"Statistics",icon:Bs},{id:"about",name:"About Section",icon:hi},{id:"about-html",name:"About Page HTML",icon:Hs},{id:"features",name:"Features",icon:Os},{id:"testimonials",name:"Testimonials",icon:ni},{id:"cta",name:"Call to Action",icon:gi},{id:"footer",name:"Footer",icon:Fs}];return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center space-x-3",children:[(0,ga.jsx)(Cl,{className:"w-8 h-8 text-blue-600"}),(0,ga.jsx)("span",{children:"Advanced Content Management"})]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Comprehensive content management with SEO, media, and advanced editing capabilities"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Auto-save: Active"}),x&&(0,ga.jsxs)("div",{className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat("success"===x?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["success"===x?(0,ga.jsx)(Yi,{className:"w-4 h-4"}):(0,ga.jsx)(Ki,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"text-sm font-medium",children:"success"===x?"Content saved!":"Save failed"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,ga.jsx)("button",{onClick:()=>j("desktop"),className:"p-2 rounded transition-colors ".concat("desktop"===v?"bg-white dark:bg-gray-700 shadow":""),children:(0,ga.jsx)(li,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:()=>j("mobile"),className:"p-2 rounded transition-colors ".concat("mobile"===v?"bg-white dark:bg-gray-700 shadow":""),children:(0,ga.jsx)(oi,{className:"w-4 h-4"})})]}),(0,ga.jsxs)("button",{onClick:()=>y(!b),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:b?"Edit Mode":"Preview"})]}),(0,ga.jsxs)("button",{onClick:()=>window.open("/info","_blank"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-colors duration-200",children:[(0,ga.jsx)(zi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Live Preview"})]}),(0,ga.jsxs)("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Reload"})]}),(0,ga.jsxs)("button",{onClick:async()=>{p(!0),f(null);try{if(!(await fetch("".concat("https://cataloro.com","/api/admin/content"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify((0,Re.A)((0,Re.A)({},d),{},{lastUpdated:(new Date).toISOString(),version:Date.now()}))})).ok)throw new Error("Failed to save content");f("success"),setTimeout(()=>f(null),3e3)}catch(e){console.error("Save error:",e),f("error"),setTimeout(()=>f(null),3e3)}finally{p(!1)}},disabled:g,className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[(0,ga.jsx)(sl,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:g?"Saving...":"Save Changes"})]})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,ga.jsx)("div",{className:"lg:col-span-1",children:(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6 backdrop-blur-2xl border-white/30 sticky top-6",children:[(0,ga.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ga.jsx)(Hs,{className:"w-5 h-5 text-blue-600"}),(0,ga.jsx)("span",{children:"Content Sections"})]}),(0,ga.jsx)("div",{className:"space-y-2",children:B.map(e=>{const t=e.icon;return(0,ga.jsxs)("button",{onClick:()=>h(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat(m===e.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 scale-105":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,ga.jsx)(t,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"font-medium",children:e.name})]},e.id)})}),(0,ga.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/20",children:[(0,ga.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Quick Actions"}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsxs)("button",{onClick:()=>window.open("/info","_blank"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,ga.jsx)(zi,{className:"w-3 h-3"}),(0,ga.jsx)("span",{children:"View Live Site"})]}),(0,ga.jsxs)("button",{onClick:()=>{const e=JSON.stringify(d,null,2);navigator.clipboard.writeText(e),alert("Content copied to clipboard!")},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,ga.jsx)(Vi,{className:"w-3 h-3"}),(0,ga.jsx)("span",{children:"Copy Content"})]})]})]})]})}),(0,ga.jsx)("div",{className:"lg:col-span-3",children:(0,ga.jsxs)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30 min-h-[600px]",children:["seo"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ga.jsx)(ko,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"SEO & Meta Tags"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Page Title (SEO)"}),(0,ga.jsx)("input",{type:"text",value:d.seo.title,onChange:e=>A("title",e.target.value),className:"cataloro-input",placeholder:"Cataloro - Ultra-Modern Marketplace Platform"}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Max 60 characters recommended. Current: ",d.seo.title.length]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Meta Description"}),(0,ga.jsx)("textarea",{value:d.seo.description,onChange:e=>A("description",e.target.value),className:"cataloro-input h-24 resize-none",placeholder:"Experience the future of online commerce..."}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Max 160 characters recommended. Current: ",d.seo.description.length]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Keywords (comma-separated)"}),(0,ga.jsx)("input",{type:"text",value:d.seo.keywords,onChange:e=>A("keywords",e.target.value),className:"cataloro-input",placeholder:"marketplace, ecommerce, online shopping, buy sell"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Open Graph Image URL"}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("input",{type:"text",value:d.seo.ogImage,onChange:e=>A("ogImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://example.com/og-image.jpg"}),(0,ga.jsx)("button",{onClick:()=>document.getElementById("og-image-upload").click(),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",disabled:w,children:(0,ga.jsx)($s,{className:"w-4 h-4"})}),(0,ga.jsx)("input",{id:"og-image-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"seo","ogImage"),className:"hidden"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Canonical URL"}),(0,ga.jsx)("input",{type:"text",value:d.seo.canonicalUrl,onChange:e=>A("canonicalUrl",e.target.value),className:"cataloro-input",placeholder:"/info"})]})]})]})]}),"hero"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ga.jsx)(bl,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Hero Section with Images"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Main Title"}),(0,ga.jsx)("input",{type:"text",value:d.hero.title,onChange:e=>C("title",e.target.value),className:"cataloro-input",placeholder:"Cataloro"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Subtitle"}),(0,ga.jsx)("input",{type:"text",value:d.hero.subtitle,onChange:e=>C("subtitle",e.target.value),className:"cataloro-input",placeholder:"The Future of Online Marketplace"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),(0,ga.jsx)(Al(),{value:d.hero.description,onChange:e=>C("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ga.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ga.jsx)(Ci,{className:"w-5 h-5 text-blue-600"}),(0,ga.jsx)("span",{children:"Hero PNG/Image (Foreground)"})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:d.hero.showHeroImage||!1,onChange:e=>C("showHeroImage",e.target.checked),className:"rounded border-gray-300"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Show Hero Image"})]}),d.hero.showHeroImage&&(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Position:"}),(0,ga.jsxs)("select",{value:d.hero.heroImagePosition||"right",onChange:e=>C("heroImagePosition",e.target.value),className:"text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded px-2 py-1",children:[(0,ga.jsx)("option",{value:"left",children:"Left"}),(0,ga.jsx)("option",{value:"right",children:"Right"})]})]})]}),d.hero.showHeroImage&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Hero Image URL (PNG, JPG, or any format)"}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("input",{type:"url",value:d.hero.heroImage||"",onChange:e=>C("heroImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600"}),(0,ga.jsxs)("button",{onClick:()=>document.getElementById("hero-image-upload").click(),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-colors flex items-center space-x-2 shadow-lg",disabled:w,children:[(0,ga.jsx)($s,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Upload PNG"})]}),(0,ga.jsx)("input",{id:"hero-image-upload",type:"file",accept:"image/*,.png,.jpg,.jpeg,.gif,.webp",onChange:e=>e.target.files[0]&&F(e.target.files[0],"hero","heroImage"),className:"hidden"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Supports PNG, JPG, JPEG, GIF, WebP. Recommended: 800x600px or higher."})]}),d.hero.heroImage&&(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("div",{className:"relative bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg p-4",children:[(0,ga.jsx)("img",{src:d.hero.heroImage,alt:"Hero Image Preview",className:"w-full h-48 object-contain rounded-lg"}),(0,ga.jsx)("button",{onClick:()=>C("heroImage",""),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",title:"Remove Image",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}),(0,ga.jsx)("div",{className:"mt-2 text-center",children:(0,ga.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Preview - Position: ",d.hero.heroImagePosition||"right"]})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select Hero Images"}),(0,ga.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1556761175-4b46a572b786?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=600&fit=crop&crop=center"].map((e,t)=>(0,ga.jsxs)("button",{onClick:()=>C("heroImage",e),className:"relative group",title:"Hero Image ".concat(t+1),children:[(0,ga.jsx)("img",{src:e,alt:"Hero ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity border-2 border-transparent group-hover:border-blue-500"}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ga.jsx)(Yi,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Professional stock images optimized for hero sections"})]})]})]})]}),(0,ga.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ga.jsx)(Ws,{className:"w-5 h-5 text-purple-600"}),(0,ga.jsx)("span",{children:"Hero Background Image"})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Background Image URL"}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("input",{type:"url",value:d.hero.backgroundImage||"",onChange:e=>C("backgroundImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080"}),(0,ga.jsxs)("button",{onClick:()=>document.getElementById("hero-bg-upload").click(),className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors flex items-center space-x-2",disabled:w,children:[(0,ga.jsx)($s,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Upload"})]}),(0,ga.jsx)("input",{id:"hero-bg-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"hero","backgroundImage"),className:"hidden"})]})]}),d.hero.backgroundImage&&(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("img",{src:d.hero.backgroundImage,alt:"Hero Background Preview",className:"w-full h-32 object-cover rounded-lg"}),(0,ga.jsx)("button",{onClick:()=>C("backgroundImage",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select Stock Images"}),(0,ga.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&h=1080&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center"].map((e,t)=>(0,ga.jsxs)("button",{onClick:()=>C("backgroundImage",e),className:"relative group",children:[(0,ga.jsx)("img",{src:e,alt:"Stock ".concat(t+1),className:"w-full h-20 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-purple-600/0 group-hover:bg-purple-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ga.jsx)(Yi,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Primary Button"}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsx)("input",{type:"text",value:d.hero.primaryButtonText,onChange:e=>C("primaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Start Trading Now"}),(0,ga.jsx)("input",{type:"text",value:d.hero.primaryButtonLink,onChange:e=>C("primaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/login"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Secondary Button"}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsx)("input",{type:"text",value:d.hero.secondaryButtonText,onChange:e=>C("secondaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Explore Features"}),(0,ga.jsx)("input",{type:"text",value:d.hero.secondaryButtonLink,onChange:e=>C("secondaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/browse"})]})]})]}),(0,ga.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ga.jsx)(Mi,{className:"w-5 h-5 text-green-600"}),(0,ga.jsx)("span",{children:"Hero Video (Optional)"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:d.hero.showVideo||!1,onChange:e=>C("showVideo",e.target.checked),className:"rounded border-gray-300"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Video"})]})}),d.hero.showVideo&&(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Video URL (YouTube, Vimeo, etc.)"}),(0,ga.jsx)("input",{type:"url",value:d.hero.videoUrl||"",onChange:e=>C("videoUrl",e.target.value),className:"cataloro-input",placeholder:"https://player.vimeo.com/video/123456789"})]})]})]})]}),"about"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)(hi,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About Section"})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(e=d.about)||void 0===e?void 0:e.enabled)||!1,onChange:e=>I("enabled",e.target.checked),className:"rounded border-gray-300"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Section"})]})]}),(null===(t=d.about)||void 0===t?void 0:t.enabled)&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ga.jsx)("input",{type:"text",value:(null===(r=d.about)||void 0===r?void 0:r.title)||"",onChange:e=>I("title",e.target.value),className:"cataloro-input",placeholder:"About Cataloro"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Subtitle"}),(0,ga.jsx)("input",{type:"text",value:(null===(a=d.about)||void 0===a?void 0:a.subtitle)||"",onChange:e=>I("subtitle",e.target.value),className:"cataloro-input",placeholder:"Revolutionizing Digital Commerce"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),(0,ga.jsx)(Al(),{value:(null===(s=d.about)||void 0===s?void 0:s.description)||"",onChange:e=>I("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ga.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ga.jsx)(Ci,{className:"w-5 h-5 text-blue-600"}),(0,ga.jsx)("span",{children:"About Section Image"})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"About Image URL"}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("input",{type:"url",value:(null===(i=d.about)||void 0===i?void 0:i.image)||"",onChange:e=>I("image",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600"}),(0,ga.jsxs)("button",{onClick:()=>document.getElementById("about-image-upload").click(),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",disabled:w,children:[(0,ga.jsx)($s,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Upload"})]}),(0,ga.jsx)("input",{id:"about-image-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"about","image"),className:"hidden"})]})]}),(null===(o=d.about)||void 0===o?void 0:o.image)&&(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("img",{src:d.about.image,alt:"About Section Preview",className:"w-full h-48 object-cover rounded-lg"}),(0,ga.jsx)("button",{onClick:()=>I("image",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select About Images"}),(0,ga.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1556761175-b413da4baf72?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center"].map((e,t)=>(0,ga.jsxs)("button",{onClick:()=>I("image",e),className:"relative group",children:[(0,ga.jsx)("img",{src:e,alt:"About Stock ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ga.jsx)(Yi,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Key Features (one per line)"}),(0,ga.jsx)("textarea",{value:(null===(l=d.about)||void 0===l||null===(c=l.features)||void 0===c?void 0:c.join("\n"))||"",onChange:e=>I("features",e.target.value.split("\n").filter(e=>e.trim())),className:"cataloro-input h-24 resize-none",placeholder:"AI-Powered Matching\nReal-time Communication\nAdvanced Security\nGlobal Reach"})]})]})]}),"stats"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)(Bs,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Statistics Section"})]}),(0,ga.jsxs)("button",{onClick:()=>{u(e=>(0,Re.A)((0,Re.A)({},e),{},{stats:[...e.stats,{label:"New Stat",value:"0",icon:"zap",color:"blue"}]}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ga.jsx)(ks,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Add Stat"})]})]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.stats.map((e,t)=>(0,ga.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg relative",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ga.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["Statistic ",t+1]}),d.stats.length>1&&(0,ga.jsx)("button",{onClick:()=>(e=>{u(t=>(0,Re.A)((0,Re.A)({},t),{},{stats:t.stats.filter((t,r)=>r!==e)}))})(t),className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Value"}),(0,ga.jsx)("input",{type:"text",value:e.value,onChange:e=>E(t,"value",e.target.value),className:"cataloro-input text-sm",placeholder:"10K+"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Label"}),(0,ga.jsx)("input",{type:"text",value:e.label,onChange:e=>E(t,"label",e.target.value),className:"cataloro-input text-sm",placeholder:"Active Users"})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Icon"}),(0,ga.jsxs)("select",{value:e.icon,onChange:e=>E(t,"icon",e.target.value),className:"cataloro-input text-sm",children:[(0,ga.jsx)("option",{value:"users",children:"Users"}),(0,ga.jsx)("option",{value:"package",children:"Package"}),(0,ga.jsx)("option",{value:"trending",children:"Trending"}),(0,ga.jsx)("option",{value:"star",children:"Star"}),(0,ga.jsx)("option",{value:"zap",children:"Zap"}),(0,ga.jsx)("option",{value:"target",children:"Target"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Color"}),(0,ga.jsxs)("select",{value:e.color,onChange:e=>E(t,"color",e.target.value),className:"cataloro-input text-sm",children:[(0,ga.jsx)("option",{value:"blue",children:"Blue"}),(0,ga.jsx)("option",{value:"green",children:"Green"}),(0,ga.jsx)("option",{value:"purple",children:"Purple"}),(0,ga.jsx)("option",{value:"yellow",children:"Yellow"}),(0,ga.jsx)("option",{value:"red",children:"Red"}),(0,ga.jsx)("option",{value:"pink",children:"Pink"})]})]})]})]})]},t))})]}),"features"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)(Os,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Features Section"})]}),(0,ga.jsxs)("button",{onClick:()=>{const e="category-".concat(Date.now());u(t=>(0,Re.A)((0,Re.A)({},t),{},{features:(0,Re.A)((0,Re.A)({},t.features),{},{categories:[...t.features.categories,{id:e,name:"New Category",description:"Category description",icon:"zap",color:"blue-purple",features:["Feature 1","Feature 2"]}]})}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ga.jsx)(ks,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Add Category"})]})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ga.jsx)("input",{type:"text",value:d.features.title,onChange:e=>O("title",e.target.value),className:"cataloro-input",placeholder:"Platform Features"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-4 pt-6",children:(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:d.features.showIcons,onChange:e=>O("showIcons",e.target.checked),className:"rounded border-gray-300"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Icons"})]})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Description"}),(0,ga.jsx)(Al(),{value:d.features.description,onChange:e=>O("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Feature Categories"}),d.features.categories.map((e,t)=>(0,ga.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsxs)("h5",{className:"font-medium text-gray-900 dark:text-white",children:["Category ",t+1]}),(0,ga.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>(0,Re.A)((0,Re.A)({},e),{},{features:(0,Re.A)((0,Re.A)({},e.features),{},{categories:e.features.categories.filter(e=>e.id!==t)})}));var t},className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Category Name"}),(0,ga.jsx)("input",{type:"text",value:e.name,onChange:t=>P(e.id,"name",t.target.value),className:"cataloro-input text-sm",placeholder:"Category name"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Color Scheme"}),(0,ga.jsxs)("select",{value:e.color,onChange:t=>P(e.id,"color",t.target.value),className:"cataloro-input text-sm",children:[(0,ga.jsx)("option",{value:"blue-purple",children:"Blue to Purple"}),(0,ga.jsx)("option",{value:"green-teal",children:"Green to Teal"}),(0,ga.jsx)("option",{value:"orange-red",children:"Orange to Red"}),(0,ga.jsx)("option",{value:"purple-pink",children:"Purple to Pink"})]})]})]}),(0,ga.jsxs)("div",{className:"mb-4",children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),(0,ga.jsx)("textarea",{value:e.description,onChange:t=>P(e.id,"description",t.target.value),className:"cataloro-input text-sm h-20 resize-none",placeholder:"Category description"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Features (one per line)"}),(0,ga.jsx)("textarea",{value:e.features.join("\n"),onChange:t=>P(e.id,"features",t.target.value.split("\n").filter(e=>e.trim())),className:"cataloro-input text-sm h-24 resize-none",placeholder:"Feature 1\nFeature 2\nFeature 3"})]})]},e.id))]})]})]}),"testimonials"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)(ni,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Testimonials Section"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:d.testimonials.enabled,onChange:e=>T("enabled",e.target.checked),className:"rounded border-gray-300"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Section"})]}),(0,ga.jsxs)("button",{onClick:()=>{const e="testimonial-".concat(Date.now());u(t=>(0,Re.A)((0,Re.A)({},t),{},{testimonials:(0,Re.A)((0,Re.A)({},t.testimonials),{},{items:[...t.testimonials.items,{id:e,name:"New User",role:"Customer",avatar:"",content:"Great experience with Cataloro!",rating:5}]})}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ga.jsx)(ks,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Add Testimonial"})]})]})]}),d.testimonials.enabled&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ga.jsx)("input",{type:"text",value:d.testimonials.title,onChange:e=>T("title",e.target.value),className:"cataloro-input",placeholder:"What Our Users Say"})]})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Description"}),(0,ga.jsx)("textarea",{value:d.testimonials.description,onChange:e=>T("description",e.target.value),className:"cataloro-input h-20 resize-none",placeholder:"Join thousands of satisfied users..."})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Testimonials"}),d.testimonials.items.map((e,t)=>(0,ga.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsxs)("h5",{className:"font-medium text-gray-900 dark:text-white",children:["Testimonial ",t+1]}),(0,ga.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>(0,Re.A)((0,Re.A)({},e),{},{testimonials:(0,Re.A)((0,Re.A)({},e.testimonials),{},{items:e.testimonials.items.filter(e=>e.id!==t)})}));var t},className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Name"}),(0,ga.jsx)("input",{type:"text",value:e.name,onChange:t=>L(e.id,"name",t.target.value),className:"cataloro-input text-sm",placeholder:"John Doe"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Role"}),(0,ga.jsx)("input",{type:"text",value:e.role,onChange:t=>L(e.id,"role",t.target.value),className:"cataloro-input text-sm",placeholder:"Power Seller"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Rating"}),(0,ga.jsxs)("select",{value:e.rating,onChange:t=>L(e.id,"rating",parseInt(t.target.value)),className:"cataloro-input text-sm",children:[(0,ga.jsx)("option",{value:5,children:"5 Stars"}),(0,ga.jsx)("option",{value:4,children:"4 Stars"}),(0,ga.jsx)("option",{value:3,children:"3 Stars"}),(0,ga.jsx)("option",{value:2,children:"2 Stars"}),(0,ga.jsx)("option",{value:1,children:"1 Star"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Testimonial Content"}),(0,ga.jsx)("textarea",{value:e.content,onChange:t=>L(e.id,"content",t.target.value),className:"cataloro-input text-sm h-20 resize-none",placeholder:"This platform has been amazing..."})]})]},e.id))]})]})]}),"cta"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ga.jsx)(gi,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Call to Action Section"})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CTA Title"}),(0,ga.jsx)("input",{type:"text",value:d.cta.title,onChange:e=>M("title",e.target.value),className:"cataloro-input",placeholder:"Ready to Get Started?"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-4 pt-6",children:(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:d.cta.showStats,onChange:e=>M("showStats",e.target.checked),className:"rounded border-gray-300"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Stats"})]})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CTA Description"}),(0,ga.jsx)(Al(),{value:d.cta.description,onChange:e=>M("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Primary Button"}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsx)("input",{type:"text",value:d.cta.primaryButtonText,onChange:e=>M("primaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Start Your Journey"}),(0,ga.jsx)("input",{type:"text",value:d.cta.primaryButtonLink,onChange:e=>M("primaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/login"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Secondary Button"}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsx)("input",{type:"text",value:d.cta.secondaryButtonText,onChange:e=>M("secondaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Explore Platform"}),(0,ga.jsx)("input",{type:"text",value:d.cta.secondaryButtonLink,onChange:e=>M("secondaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/browse"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Background Style"}),(0,ga.jsxs)("select",{value:d.cta.backgroundStyle,onChange:e=>M("backgroundStyle",e.target.value),className:"cataloro-input",children:[(0,ga.jsx)("option",{value:"gradient",children:"Gradient"}),(0,ga.jsx)("option",{value:"solid",children:"Solid Color"}),(0,ga.jsx)("option",{value:"image",children:"Background Image"})]})]})]})]}),"about-html"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ga.jsx)(Hs,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About Page HTML Editor"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"HTML Content"}),(0,ga.jsx)("textarea",{value:d["about-html"].htmlContent,onChange:e=>R("htmlContent",e.target.value),className:"cataloro-input font-mono text-sm h-64 resize-none",placeholder:"Enter your HTML content here..."})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CSS Styles"}),(0,ga.jsx)("textarea",{value:d["about-html"].cssStyles,onChange:e=>R("cssStyles",e.target.value),className:"cataloro-input font-mono text-sm h-32 resize-none",placeholder:"Enter your CSS styles here..."})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-3",children:(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:d["about-html"].enabled,onChange:e=>R("enabled",e.target.checked),className:"rounded"}),(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Enable HTML About Page"})]})})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Live Preview"}),(0,ga.jsxs)("button",{onClick:()=>window.open("/about","_blank"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-colors",children:[(0,ga.jsx)(zi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"View Full Page"})]})]}),(0,ga.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,ga.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Preview"})}),(0,ga.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-900 min-h-[300px]",children:[(0,ga.jsx)("style",{dangerouslySetInnerHTML:{__html:d["about-html"].cssStyles}}),(0,ga.jsx)("div",{dangerouslySetInnerHTML:{__html:d["about-html"].htmlContent},className:"prose dark:prose-invert max-w-none"})]})]}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,ga.jsx)("p",{children:"\u2022 HTML and CSS will be applied to the About page"}),(0,ga.jsx)("p",{children:"\u2022 Changes are saved automatically every 30 seconds"}),(0,ga.jsx)("p",{children:'\u2022 Use the "View Full Page" button to see the complete rendered page'})]})]})]})]}),"footer"===m&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ga.jsx)(Fs,{className:"w-6 h-6 text-blue-600"}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Footer Section"})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Company Description"}),(0,ga.jsx)("textarea",{value:d.footer.companyDescription,onChange:e=>D("companyDescription",e.target.value),className:"cataloro-input h-24 resize-none",placeholder:"Cataloro is the future of online commerce..."})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Social Media Links"}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Twitter"}),(0,ga.jsx)("input",{type:"url",value:d.footer.socialLinks.twitter,onChange:e=>D("socialLinks",(0,Re.A)((0,Re.A)({},d.footer.socialLinks),{},{twitter:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://twitter.com/cataloro"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Facebook"}),(0,ga.jsx)("input",{type:"url",value:d.footer.socialLinks.facebook,onChange:e=>D("socialLinks",(0,Re.A)((0,Re.A)({},d.footer.socialLinks),{},{facebook:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://facebook.com/cataloro"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Instagram"}),(0,ga.jsx)("input",{type:"url",value:d.footer.socialLinks.instagram,onChange:e=>D("socialLinks",(0,Re.A)((0,Re.A)({},d.footer.socialLinks),{},{instagram:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://instagram.com/cataloro"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"LinkedIn"}),(0,ga.jsx)("input",{type:"url",value:d.footer.socialLinks.linkedin,onChange:e=>D("socialLinks",(0,Re.A)((0,Re.A)({},d.footer.socialLinks),{},{linkedin:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://linkedin.com/company/cataloro"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Footer Links (JSON format)"}),(0,ga.jsx)("textarea",{value:JSON.stringify(d.footer.footerLinks,null,2),onChange:e=>{try{const t=JSON.parse(e.target.value);D("footerLinks",t)}catch(t){}},className:"cataloro-input h-32 resize-none font-mono text-sm",placeholder:'[{"title": "About", "url": "/info"}]'}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Format: [{"title": "Link Name", "url": "/path"}]'})]})]})]})]})})]})]})};const Ol=function(){var e;const[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[d,u]=(0,n.useState)({title:"",message:"",type:"success",event_trigger:"manual",target_users:"all",user_ids:[],show_duration:5e3,delay_before_show:0,expires_at:"",auto_dismiss:!0,is_active:!0}),{user:m}=_a(),{showToast:h}=Fa(),g=[{value:"manual",label:"Manual Trigger",description:"Show immediately when activated"},{value:"login",label:"User Login",description:"Show when user logs in"},{value:"first_login",label:"First Login",description:"Show only on user's first login"},{value:"profile_update",label:"Profile Update",description:"Show after profile is updated"},{value:"purchase_complete",label:"Purchase Complete",description:"Show after successful purchase"},{value:"listing_published",label:"Listing Published",description:"Show after listing is published"},{value:"message_received",label:"Message Received",description:"Show when user receives a message"},{value:"daily",label:"Daily",description:"Show once per day"},{value:"weekly",label:"Weekly",description:"Show once per week"}],p=[{value:"success",label:"Success",color:"green",icon:Yi},{value:"info",label:"Information",color:"blue",icon:Ji},{value:"warning",label:"Warning",color:"yellow",icon:Ki},{value:"error",label:"Error",color:"red",icon:Ki},{value:"welcome",label:"Welcome",color:"purple",icon:Cs}];(0,n.useEffect)(()=>{x()},[]);const x=async()=>{try{s(!0);const e=await fetch("".concat("https://cataloro.com","/api/admin/system-notifications"));if(!e.ok)throw new Error("Failed to load notifications");{const t=await e.json();r(t.notifications||[])}}catch(e){console.error("Error loading system notifications:",e),h("Failed to load system notifications","error")}finally{s(!1)}},f=()=>{u({title:"",message:"",type:"success",event_trigger:"manual",target_users:"all",user_ids:[],show_duration:5e3,delay_before_show:0,expires_at:"",auto_dismiss:!0,is_active:!0})},b=e=>{const t=p.find(t=>t.value===e),r=(null===t||void 0===t?void 0:t.icon)||Cs;return(0,ga.jsx)(r,{className:"w-5 h-5"})},y=e=>{const t=p.find(t=>t.value===e);return(null===t||void 0===t?void 0:t.color)||"gray"},v=e=>{const t=e||"manual",r=g.find(e=>e.value===t);return(null===r||void 0===r?void 0:r.label)||"Manual Trigger"};return a?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(Cs,{className:"w-7 h-7 mr-3 text-green-600"}),"System Notifications Manager"]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Manage green toast notifications that appear in the top right corner"})]}),(0,ga.jsxs)("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,ga.jsx)(ks,{className:"w-4 h-4 mr-2"}),"Create Notification"]})]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 gap-4",children:0===t.length?(0,ga.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl",children:[(0,ga.jsx)(Cs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No System Notifications"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Create your first system notification to manage green toast messages"})]}):t.map(e=>(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,ga.jsx)("div",{className:"p-3 rounded-lg bg-".concat(y(e.type),"-100 text-").concat(y(e.type),"-600"),children:b(e.type)}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.title}),(0,ga.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"}),(0,ga.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-".concat(y(e.type),"-100 text-").concat(y(e.type),"-800"),children:e.type})]}),(0,ga.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:e.message}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(ui,{className:"w-4 h-4 mr-1"}),(0,ga.jsx)("span",{children:v(e.event_trigger)})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(ni,{className:"w-4 h-4 mr-1"}),(0,ga.jsx)("span",{children:"all"===e.target_users?"All Users":"Specific Users"})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Js,{className:"w-4 h-4 mr-1"}),(0,ga.jsxs)("span",{children:[e.show_duration/1e3,"s duration"]})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4 mr-1"}),(0,ga.jsxs)("span",{children:[e.display_count||0," views"]})]})]}),e.expires_at&&(0,ga.jsxs)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)(Ks,{className:"w-4 h-4 inline mr-1"}),"Expires: ",new Date(e.expires_at).toLocaleDateString()]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>(async e=>{try{if(!(await fetch("".concat("https://cataloro.com","/api/admin/system-notifications/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!e.is_active})})).ok)throw new Error("Failed to toggle notification");h("Notification ".concat(e.is_active?"deactivated":"activated","!"),"success"),x()}catch(t){console.error("Error toggling notification:",t),h("Failed to toggle notification","error")}})(e),className:"px-3 py-1 text-sm rounded-lg transition-colors ".concat(e.is_active?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:e.is_active?"Deactivate":"Activate"}),(0,ga.jsx)("button",{onClick:()=>(e=>{c(e),u({title:e.title||"",message:e.message||"",type:e.type||"success",event_trigger:e.event_trigger||"manual",target_users:e.target_users||"all",user_ids:e.user_ids||[],show_duration:e.show_duration||5e3,delay_before_show:e.delay_before_show||0,expires_at:e.expires_at?e.expires_at.split("T")[0]:"",auto_dismiss:!1!==e.auto_dismiss,is_active:!1!==e.is_active})})(e),className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-lg hover:bg-blue-200 transition-colors",children:(0,ga.jsx)(Qs,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this system notification?"))try{if(!(await fetch("".concat("https://cataloro.com","/api/admin/system-notifications/").concat(e),{method:"DELETE"})).ok)throw new Error("Failed to delete notification");h("System notification deleted successfully!","success"),x()}catch(t){console.error("Error deleting notification:",t),h("Failed to delete notification","error")}})(e.id),className:"px-3 py-1 bg-red-100 text-red-700 text-sm rounded-lg hover:bg-red-200 transition-colors",children:(0,ga.jsx)(Zs,{className:"w-4 h-4"})})]})]})},e.id))}),(i||l)&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l?"Edit System Notification":"Create New System Notification"}),(0,ga.jsx)("button",{onClick:()=>{o(!1),c(null),f()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ga.jsx)(Is,{className:"w-6 h-6"})})]})}),(0,ga.jsxs)("form",{onSubmit:l?async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://cataloro.com","/api/admin/system-notifications/").concat(l.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,Re.A)((0,Re.A)({},d),{},{expires_at:d.expires_at||null}))})).ok)throw new Error("Failed to update notification");h("System notification updated successfully!","success"),c(null),f(),x()}catch(t){console.error("Error updating notification:",t),h("Failed to update notification","error")}}:async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://cataloro.com","/api/admin/system-notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,Re.A)((0,Re.A)({},d),{},{created_by:m.id,expires_at:d.expires_at||null}))})).ok)throw new Error("Failed to create notification");h("System notification created successfully!","success"),o(!1),f(),x()}catch(t){console.error("Error creating notification:",t),h("Failed to create notification","error")}},className:"p-6 space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Title *"}),(0,ga.jsx)("input",{type:"text",value:d.title,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Welcome to the new Cataloro!",required:!0})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Type *"}),(0,ga.jsx)("select",{value:d.type,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:p.map(e=>(0,ga.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message Content *"}),(0,ga.jsx)("textarea",{value:d.message,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{message:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter the notification message that will appear in the green toast...",required:!0})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Trigger *"}),(0,ga.jsx)("select",{value:d.event_trigger,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{event_trigger:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:g.map(e=>(0,ga.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:null===(e=g.find(e=>e.value===d.event_trigger))||void 0===e?void 0:e.description})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Users"}),(0,ga.jsxs)("select",{value:d.target_users,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{target_users:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"all",children:"All Users"}),(0,ga.jsx)("option",{value:"new_users",children:"New Users Only"}),(0,ga.jsx)("option",{value:"returning_users",children:"Returning Users"}),(0,ga.jsx)("option",{value:"specific_ids",children:"Specific User IDs"})]})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delay Before Show (ms)"}),(0,ga.jsx)("input",{type:"number",value:d.delay_before_show,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{delay_before_show:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"500"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Show Duration (ms)"}),(0,ga.jsx)("input",{type:"number",value:d.show_duration,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{show_duration:parseInt(e.target.value)||5e3})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"1000",step:"1000"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expires On (Optional)"}),(0,ga.jsx)("input",{type:"date",value:d.expires_at,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{expires_at:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ga.jsxs)("label",{className:"flex items-center",children:[(0,ga.jsx)("input",{type:"checkbox",checked:d.auto_dismiss,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{auto_dismiss:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ga.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Auto Dismiss"})]}),(0,ga.jsxs)("label",{className:"flex items-center",children:[(0,ga.jsx)("input",{type:"checkbox",checked:d.is_active,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{is_active:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ga.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})]}),(0,ga.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ga.jsx)("button",{type:"button",onClick:()=>{o(!1),c(null),f()},className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,ga.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,ga.jsx)(sl,{className:"w-4 h-4 mr-2"}),l?"Update":"Create"," Notification"]})]})]})]})})]})},Pl=js("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Tl=js("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ll=js("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Ml=js("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Il=js("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Dl=js("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Rl=js("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Fl=function(e){let{showToast:t}=e;const[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)("visual"),[o,l]=(0,n.useState)({}),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)([]),[h,g]=(0,n.useState)(!0);(0,n.useEffect)(()=>{p()},[]);const p=async()=>{try{g(!0);const e=localStorage.getItem("cataloro_token");if(!e)return void t("Authentication required","error");const r=await fetch("".concat("https://cataloro.com","/api/admin/dashboard"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(r.ok){const e=await r.json();d(e)}const a=await fetch("".concat("https://cataloro.com","/api/admin/users"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(a.ok){const e=await a.json();m(e)}}catch(e){console.error("Failed to fetch real data:",e),t("Failed to load business data","error")}finally{g(!1)}},x=(()=>{var e,t,r,a,n;if(!c||!u)return{userMetrics:{totalUsers:"N/A",activeBuyers:"N/A",activeSellers:"N/A",adminsManagers:"N/A",pendingApproval:"N/A"},businessMetrics:{totalBusiness:"N/A",verifiedBusiness:"N/A",pendingVerification:"N/A",premiumBusiness:"N/A",revenueShare:"N/A"},activityMetrics:{activeListings:"N/A",totalBids:"N/A",completedDeals:"N/A",messagesSent:"N/A",avgResponseTime:"N/A"},financialMetrics:{monthlyRevenue:"N/A",transactionFees:"N/A",subscriptionRevenue:"N/A",averageDealValue:"N/A",growthRate:"N/A"},roleDistribution:{userBuyer:"N/A",userSeller:"N/A",adminManager:"N/A",admin:"N/A"}};const s=(null===(e=c.kpis)||void 0===e?void 0:e.total_users)||0,i=u.filter(e=>"User-Buyer"===e.user_role||!e.user_role&&"user"===e.role).length,o=u.filter(e=>"User-Seller"===e.user_role).length,l=u.filter(e=>"Admin"===e.user_role||!e.user_role&&"admin"===e.role).length,d=u.filter(e=>"Admin-Manager"===e.user_role).length,m=u.filter(e=>"Pending"===e.registration_status).length,h=u.filter(e=>!0===e.is_business).length,g=u.filter(e=>!0===e.is_business&&"Approved"===e.registration_status).length,p=u.filter(e=>!0===e.is_business&&"Pending"===e.registration_status).length,x=(null===(t=c.kpis)||void 0===t?void 0:t.revenue)||0,f=(null===(r=c.kpis)||void 0===r?void 0:r.total_deals)||0,b=f>0?x/f:0,y=(null===(a=c.kpis)||void 0===a?void 0:a.growth_rate)||0,v=3.7*f,j=1.5*f;return{userMetrics:{totalUsers:s.toLocaleString(),activeBuyers:i.toLocaleString(),activeSellers:o.toLocaleString(),adminsManagers:(l+d).toLocaleString(),pendingApproval:m.toLocaleString()},businessMetrics:{totalBusiness:h.toLocaleString(),verifiedBusiness:g.toLocaleString(),pendingVerification:p.toLocaleString(),premiumBusiness:"N/A",revenueShare:x>0?"\u20ac".concat((.05*x).toFixed(1),"K"):"N/A"},activityMetrics:{activeListings:((null===(n=c.kpis)||void 0===n?void 0:n.active_listings)||0).toLocaleString(),totalBids:Math.round(j).toLocaleString(),completedDeals:f.toLocaleString(),messagesSent:Math.round(v).toLocaleString(),avgResponseTime:"N/A"},financialMetrics:{monthlyRevenue:x>0?"\u20ac".concat(x.toFixed(1),"K"):"\u20ac0.0K",transactionFees:x>0?"\u20ac".concat((.03*x).toFixed(1),"K"):"\u20ac0.0K",subscriptionRevenue:"N/A",averageDealValue:b>0?"\u20ac".concat(Math.round(b)):"\u20ac0",growthRate:y>0?"+".concat(y.toFixed(1),"%"):"0.0%"},roleDistribution:{userBuyer:i,userSeller:o,adminManager:d,admin:l}}})(),f=[{id:"user_onboarding",title:"User Onboarding & Registration",category:"Authentication",icon:si,color:"bg-blue-500",status:"active",pages:["/login","/register","/profile"],steps:[{id:1,title:"Visit Homepage",page:"/",icon:Fs,status:"completed"},{id:2,title:"Click Register",page:"/login",icon:si,status:"completed"},{id:3,title:"Fill Registration Form",page:"/register",icon:Hs,status:"completed"},{id:4,title:"Email Verification",page:"/verify",icon:zs,status:"completed"},{id:5,title:"Profile Setup",page:"/profile",icon:Es,status:"completed"},{id:6,title:"Welcome Dashboard",page:"/browse",icon:Vs,status:"completed"}],metrics:{completion_rate:"89%",avg_time:"3.5 min",drop_off_rate:"11%"}},{id:"product_listing",title:"Product Listing Creation",category:"Marketplace",icon:Ts,color:"bg-green-500",status:"active",pages:["/sell","/my-listings"],steps:[{id:1,title:"Navigate to Sell",page:"/sell",icon:Ts,status:"completed"},{id:2,title:"Choose Category",page:"/sell",icon:vi,status:"completed"},{id:3,title:"Add Product Details",page:"/sell",icon:Qs,status:"completed"},{id:4,title:"Upload Images",page:"/sell",icon:$s,status:"completed"},{id:5,title:"Set Price & Condition",page:"/sell",icon:_s,status:"completed"},{id:6,title:"Review & Publish",page:"/sell",icon:Pl,status:"completed"},{id:7,title:"Listing Goes Live",page:"/browse",icon:Xs,status:"completed"}],metrics:{success_rate:"94%",avg_time:"7.2 min",active_listings:"2,847"}},{id:"buy_process",title:"Buy/Purchase Process",category:"Transactions",icon:Ss,color:"bg-purple-500",status:"active",pages:["/browse","/product/:id","/my-deals","/pending-sales"],steps:[{id:1,title:"Browse Products",page:"/browse",icon:ko,status:"completed"},{id:2,title:"View Product Details",page:"/product/:id",icon:Xs,status:"completed"},{id:3,title:"Click Buy Now",page:"/product/:id",icon:Ss,status:"completed"},{id:4,title:"Send Buy Request",page:"/cart",icon:zs,status:"completed"},{id:5,title:"Seller Approval",page:"/pending-sales",icon:Yi,status:"completed"},{id:6,title:"Payment Processing",page:"/payment",icon:Tl,status:"in_progress"},{id:7,title:"Order Completion",page:"/my-deals",icon:Pl,status:"completed"}],metrics:{conversion_rate:"67%",approval_rate:"82%",avg_transaction_value:"$249"}},{id:"messaging_system",title:"Real-time Messaging",category:"Communication",icon:Ns,color:"bg-indigo-500",status:"active",pages:["/messages"],steps:[{id:1,title:"Click Message Button",page:"/product/:id",icon:Ns,status:"completed"},{id:2,title:"Open Chat Interface",page:"/messages",icon:Ns,status:"completed"},{id:3,title:"Send/Receive Messages",page:"/messages",icon:zs,status:"completed"},{id:4,title:"Real-time Notifications",page:"/messages",icon:Cs,status:"completed"},{id:5,title:"Message History",page:"/messages",icon:Js,status:"completed"}],metrics:{response_rate:"78%",avg_response_time:"12 min",daily_messages:"1,234"}},{id:"notification_system",title:"Notification Management",category:"Communication",icon:Cs,color:"bg-yellow-500",status:"active",pages:["/notifications"],steps:[{id:1,title:"Trigger Event",page:"Any",icon:ui,status:"completed"},{id:2,title:"Generate Notification",page:"Backend",icon:Cs,status:"completed"},{id:3,title:"Show in Header Bell",page:"Header",icon:Cs,status:"completed"},{id:4,title:"Quick Actions Available",page:"Header",icon:Pl,status:"completed"},{id:5,title:"View All Notifications",page:"/notifications",icon:Xs,status:"completed"}],metrics:{delivery_rate:"99.2%",read_rate:"73%",action_rate:"45%"}},{id:"admin_management",title:"Admin Management",category:"Administration",icon:Ls,color:"bg-red-500",status:"active",pages:["/admin"],steps:[{id:1,title:"Admin Login",page:"/admin",icon:Ls,status:"completed"},{id:2,title:"Dashboard Overview",page:"/admin",icon:Bs,status:"completed"},{id:3,title:"User Management",page:"/admin",icon:ni,status:"completed"},{id:4,title:"Listings Management",page:"/admin",icon:Ts,status:"completed"},{id:5,title:"Business Process View",page:"/admin",icon:ws,status:"completed"},{id:6,title:"Site Settings",page:"/admin",icon:Os,status:"completed"}],metrics:{admin_sessions:"89/month",actions_per_session:"12.4",system_uptime:"99.8%"}},{id:"favorites_wishlist",title:"Favorites & Wishlist",category:"User Experience",icon:As,color:"bg-pink-500",status:"active",pages:["/favorites"],steps:[{id:1,title:"Heart Icon on Product",page:"/browse",icon:As,status:"completed"},{id:2,title:"Add to Favorites",page:"/product/:id",icon:As,status:"completed"},{id:3,title:"View Favorites List",page:"/favorites",icon:Gs,status:"completed"},{id:4,title:"Manage Favorites",page:"/favorites",icon:Qs,status:"completed"}],metrics:{favorites_per_user:"8.3",wishlist_conversion:"34%",total_favorites:"12,847"}},{id:"search_discovery",title:"Search & Discovery",category:"User Experience",icon:ko,color:"bg-teal-500",status:"active",pages:["/browse","/search"],steps:[{id:1,title:"Enter Search Query",page:"/browse",icon:ko,status:"completed"},{id:2,title:"Apply Filters",page:"/browse",icon:vi,status:"completed"},{id:3,title:"View Results",page:"/browse",icon:Xs,status:"completed"},{id:4,title:"Sort & Refine",page:"/browse",icon:vi,status:"completed"},{id:5,title:"Product Selection",page:"/product/:id",icon:gi,status:"completed"}],metrics:{search_success_rate:"87%",avg_results:"23.7",filter_usage:"45%"}}],b=e=>{switch(e){case"completed":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30";case"in_progress":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/30";case"pending":return"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900/30";case"failed":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/30"}},y=(e,t)=>{const r=e.icon;return(0,ga.jsx)("div",{className:"p-3 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"in_progress"===e.status?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"),children:(0,ga.jsx)(r,{className:"w-5 h-5"})})};return h?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading business analytics..."})]})}):(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,ga.jsx)(ws,{className:"w-8 h-8"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"text-3xl font-bold",children:"Business Process Map"}),(0,ga.jsx)("p",{className:"text-purple-100",children:"Visual overview of all marketplace business processes and user journeys"})]})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-4",children:(0,ga.jsx)("div",{className:"bg-white/20 px-4 py-2 rounded-lg backdrop-blur-sm",children:(0,ga.jsxs)("span",{className:"text-sm font-medium",children:[f.length," Active Processes"]})})})]})}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ga.jsx)(ni,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"User Base"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total registered users"})]})]})}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Users"}),(0,ga.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h?"...":x.userMetrics.totalUsers})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Buyers"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-blue-600 dark:text-blue-400",children:h?"...":x.userMetrics.activeBuyers})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Sellers"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:h?"...":x.userMetrics.activeSellers})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Admins/Managers"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-purple-600 dark:text-purple-400",children:h?"...":x.userMetrics.adminsManagers})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Approval"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-orange-600 dark:text-orange-400",children:h?"...":x.userMetrics.pendingApproval})]})]})]}),(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ga.jsx)(ws,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Business Accounts"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Commercial registrations"})]})]})}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Business"}),(0,ga.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h?"...":x.businessMetrics.totalBusiness})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verified Business"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:h?"...":x.businessMetrics.verifiedBusiness})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Verification"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-orange-600 dark:text-orange-400",children:h?"...":x.businessMetrics.pendingVerification})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Premium Business"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-purple-600 dark:text-purple-400",children:h?"...":x.businessMetrics.premiumBusiness})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Revenue Share"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-blue-600 dark:text-blue-400",children:h?"...":x.businessMetrics.revenueShare})]})]})]}),(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,ga.jsx)(mi,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Activity Overview"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Platform engagement"})]})]})}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Listings"}),(0,ga.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h?"...":x.activityMetrics.activeListings})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Bids"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-blue-600 dark:text-blue-400",children:h?"...":x.activityMetrics.totalBids})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed Deals"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:h?"...":x.activityMetrics.completedDeals})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Messages Sent"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-purple-600 dark:text-purple-400",children:h?"...":x.activityMetrics.messagesSent})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Response Time"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-orange-600 dark:text-orange-400",children:h?"...":x.activityMetrics.avgResponseTime})]})]})]}),(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,ga.jsx)(_s,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Financial Summary"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Revenue metrics"})]})]})}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),(0,ga.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h?"...":x.financialMetrics.monthlyRevenue})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transaction Fees"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:h?"...":x.financialMetrics.transactionFees})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subscription Revenue"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-blue-600 dark:text-blue-400",children:h?"...":x.financialMetrics.subscriptionRevenue})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Deal Value"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-purple-600 dark:text-purple-400",children:h?"...":x.financialMetrics.averageDealValue})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Growth Rate"}),(0,ga.jsx)("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:h?"...":x.financialMetrics.growthRate})]})]})]})]}),(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl",children:(0,ga.jsx)(Bs,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"User Role Distribution"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"RBAC system implementation overview"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ga.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,ga.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Buyers"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ga.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,ga.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sellers"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ga.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),(0,ga.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Managers"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ga.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,ga.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Admins"})]})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-900/30 p-4 rounded-xl border border-blue-200 dark:border-blue-800",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Ls,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,ga.jsx)("span",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"User-Buyer"})]}),(0,ga.jsx)("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:h?"...":x.roleDistribution.userBuyer})]}),(0,ga.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:"Active Bidders"}),(0,ga.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:h?"...":"N/A"})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:"Avg Bids/User"}),(0,ga.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:h?"...":"N/A"})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:"Success Rate"}),(0,ga.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:h?"...":"N/A"})]})]})]}),(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-900/30 p-4 rounded-xl border border-green-200 dark:border-green-800",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(ws,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,ga.jsx)("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"User-Seller"})]}),(0,ga.jsx)("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h?"...":x.roleDistribution.userSeller})]}),(0,ga.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-green-700 dark:text-green-300",children:"Active Listings"}),(0,ga.jsx)("span",{className:"font-medium text-green-900 dark:text-green-100",children:h?"...":x.activityMetrics.activeListings})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-green-700 dark:text-green-300",children:"Avg Price"}),(0,ga.jsx)("span",{className:"font-medium text-green-900 dark:text-green-100",children:h?"...":"N/A"})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-green-700 dark:text-green-300",children:"Completion Rate"}),(0,ga.jsx)("span",{className:"font-medium text-green-900 dark:text-green-100",children:h?"...":"N/A"})]})]})]}),(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-900/30 p-4 rounded-xl border border-purple-200 dark:border-purple-800",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Os,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,ga.jsx)("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Admin-Manager"})]}),(0,ga.jsx)("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:h?"...":x.roleDistribution.adminManager})]}),(0,ga.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-purple-700 dark:text-purple-300",children:"Users Managed"}),(0,ga.jsx)("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:h?"...":x.userMetrics.totalUsers})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-purple-700 dark:text-purple-300",children:"Approvals/Day"}),(0,ga.jsx)("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:h?"...":"N/A"})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-purple-700 dark:text-purple-300",children:"Response Time"}),(0,ga.jsx)("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:h?"...":"N/A"})]})]})]}),(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-900/30 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Ls,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),(0,ga.jsx)("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Admin"})]}),(0,ga.jsx)("span",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:h?"...":x.roleDistribution.admin})]}),(0,ga.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-yellow-700 dark:text-yellow-300",children:"System Access"}),(0,ga.jsx)("span",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Full"})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Actions/Day"}),(0,ga.jsx)("span",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:h?"...":"N/A"})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Uptime"}),(0,ga.jsx)("span",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"99.8%"})]})]})]})]})]}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Process View"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,ga.jsxs)("button",{onClick:()=>i("visual"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("visual"===s?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,ga.jsx)(Ll,{className:"w-4 h-4 mr-2 inline"}),"Visual Map"]}),(0,ga.jsxs)("button",{onClick:()=>i("list"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("list"===s?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,ga.jsx)(Ni,{className:"w-4 h-4 mr-2 inline"}),"List View"]})]})]})}),"visual"===s&&(0,ga.jsxs)("div",{className:"cataloro-card-glass p-8",children:[(0,ga.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8 flex items-center",children:[(0,ga.jsx)(Ll,{className:"w-6 h-6 mr-3"}),"Business Process Flow Diagram"]}),(0,ga.jsx)("div",{className:"space-y-8",children:f.map((e,r)=>(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("div",{className:"flex items-center mb-6",children:[(0,ga.jsx)("div",{className:"p-4 rounded-2xl ".concat(e.color," text-white mr-4"),children:(0,ga.jsx)(e.icon,{className:"w-8 h-8"})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.title}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.category})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(b(e.status)),children:e.status.toUpperCase()}),(0,ga.jsx)("button",{onClick:()=>{return t=e.id,void l(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:!e[t]}));var t},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:o[e.id]?(0,ga.jsx)(Ml,{className:"w-5 h-5"}):(0,ga.jsx)(Il,{className:"w-5 h-5"})})]})]}),(0,ga.jsxs)("div",{className:"ml-16 transition-all duration-300 ".concat(o[e.id]?"max-h-full opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:[(0,ga.jsx)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:e.steps.map((r,a)=>(0,ga.jsxs)(n.Fragment,{children:[(0,ga.jsxs)("div",{className:"flex flex-col items-center group cursor-pointer hover:scale-105 transition-transform",onClick:()=>t("Step: ".concat(r.title," (Page: ").concat(r.page,")"),"info"),children:[y(r),(0,ga.jsxs)("div",{className:"mt-2 text-center min-w-[120px]",children:[(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:r.title}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.page})]})]}),a<e.steps.length-1&&(0,ga.jsx)(Dl,{className:"w-6 h-6 text-gray-400 dark:text-gray-600 flex-shrink-0"})]},r.id))}),(0,ga.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[(0,ga.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Process Metrics"}),(0,ga.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e.metrics).map(e=>{let[t,r]=e;return(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:t.replace("_"," ")})]},t)})})]})]}),r<f.length-1&&(0,ga.jsx)("div",{className:"flex justify-center mt-8",children:(0,ga.jsx)(Rl,{className:"w-8 h-8 text-gray-400 dark:text-gray-600"})})]},e.id))})]}),"list"===s&&(0,ga.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map(e=>(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-3 rounded-xl ".concat(e.color," text-white"),children:(0,ga.jsx)(e.icon,{className:"w-6 h-6"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.title}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.category})]})]}),(0,ga.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(b(e.status)),children:e.status.toUpperCase()})]}),(0,ga.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:Object.entries(e.metrics).map(e=>{let[t,r]=e;return(0,ga.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,ga.jsx)("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:t.replace("_"," ")})]},t)})}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Related Pages:"}),(0,ga.jsx)("div",{className:"flex flex-wrap gap-2",children:e.pages.map((e,t)=>(0,ga.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-md text-xs",children:[(0,ga.jsx)(so,{className:"w-3 h-3 mr-1"}),e]},t))})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("button",{onClick:()=>a(e),className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 text-sm",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"View Details"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Js,{className:"w-3 h-3"}),(0,ga.jsxs)("span",{children:[e.steps.length," steps"]})]})]})]},e.id))}),r&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("div",{className:"p-3 rounded-xl ".concat(r.color," text-white"),children:(0,ga.jsx)(r.icon,{className:"w-8 h-8"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r.category})]})]}),(0,ga.jsx)("button",{onClick:()=>a(null),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:(0,ga.jsx)(Is,{className:"w-6 h-6"})})]})}),(0,ga.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Process Steps"}),(0,ga.jsx)("div",{className:"space-y-4",children:r.steps.map((e,t)=>(0,ga.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[(0,ga.jsx)("div",{className:"flex-shrink-0",children:(0,ga.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat("completed"===e.status?"bg-green-500 text-white":"in_progress"===e.status?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"),children:t+1})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,ga.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(b(e.status)),children:e.status.replace("_"," ").toUpperCase()})]}),(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page: ",e.page]})]}),y(e)]},e.id))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Performance Metrics"}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(r.metrics).map(e=>{let[t,r]=e;return(0,ga.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl",children:[(0,ga.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize mt-1",children:t.replace("_"," ")})]},t)})})]})]})]})}),(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Business Process Summary"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f.length}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Processes"})]}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f.filter(e=>"active"===e.status).length}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Processes"})]}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:f.reduce((e,t)=>e+t.steps.length,0)}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Steps"})]}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:new Set(f.flatMap(e=>e.pages)).size}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unique Pages"})]})]})]})]})},Bl=e=>{let{showToast:t}=e;const[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(0),[c,d]=(0,n.useState)({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}),[u,m]=(0,n.useState)("comprehensive"),[h,g]=(0,n.useState)({includeCharts:!0,includeImages:!0,includeAnalytics:!0,watermark:!0,headerFooter:!0}),p=[{id:"users",title:"User Management Report",description:"Complete user database with profiles, activity, and statistics",icon:ni,color:"blue",estimatedSize:"2-5 MB",includes:["User profiles","Registration dates","Activity logs","Ratings","Transaction history"]},{id:"listings",title:"Listings & Products Report",description:"All marketplace listings with details and performance metrics",icon:Ts,color:"green",estimatedSize:"3-8 MB",includes:["Product details","Images","Pricing history","Views & favorites","Seller information"]},{id:"transactions",title:"Financial Transactions Report",description:"Complete transaction history and revenue analytics",icon:_s,color:"yellow",estimatedSize:"1-3 MB",includes:["Transaction records","Payment methods","Revenue by period","Fee calculations","Refunds"]},{id:"analytics",title:"Platform Analytics Report",description:"Comprehensive performance metrics and user behavior",icon:Bs,color:"purple",estimatedSize:"4-10 MB",includes:["Traffic analytics","Conversion rates","User engagement","Popular listings","Growth metrics"]},{id:"orders",title:"Orders & Fulfillment Report",description:"Order management and delivery tracking information",icon:Ss,color:"orange",estimatedSize:"2-6 MB",includes:["Order details","Delivery status","Customer feedback","Processing times","Returns"]},{id:"communications",title:"Communications Log",description:"Message history, notifications, and system communications",icon:zs,color:"indigo",estimatedSize:"1-4 MB",includes:["Message threads","Notifications sent","Email campaigns","System alerts","Support tickets"]},{id:"system",title:"System Health Report",description:"Technical performance, errors, and maintenance logs",icon:fl,color:"red",estimatedSize:"1-2 MB",includes:["Error logs","Performance metrics","Database status","Security events","Backup history"]},{id:"business",title:"Business Intelligence Report",description:"Strategic insights, trends, and forecasting data",icon:gi,color:"teal",estimatedSize:"3-7 MB",includes:["Market trends","Competitor analysis","Growth forecasts","ROI calculations","KPI dashboard"]}];return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h2",{className:"text-2xl font-bold mb-2 flex items-center",children:[(0,ga.jsx)(Ys,{className:"w-8 h-8 mr-3"}),"PDF Export Center"]}),(0,ga.jsx)("p",{className:"text-green-100",children:"Export comprehensive reports and data in professional PDF format"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-4",children:(0,ga.jsxs)("div",{className:"text-right",children:[(0,ga.jsxs)("div",{className:"text-sm text-green-100",children:["Selected: ",r.length," reports"]}),(0,ga.jsxs)("div",{className:"text-sm text-green-100",children:["Est. Size: ",(()=>{if(0===r.length)return"0 MB";const e=p.filter(e=>r.includes(e.id)),t=e.reduce((e,t)=>{const[r]=t.estimatedSize.split("-").map(e=>parseInt(e));return e+r},0),a=e.reduce((e,t)=>e+(t.estimatedSize.includes("-")?parseInt(t.estimatedSize.split("-")[1]):parseInt(t.estimatedSize)),0);return"".concat(t,"-").concat(a," MB")})()]})]})})]})}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Os,{className:"w-5 h-5 mr-2"}),"Export Settings"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ga.jsx)("input",{type:"date",value:c.start,onChange:e=>d(t=>(0,Re.A)((0,Re.A)({},t),{},{start:e.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),(0,ga.jsx)("input",{type:"date",value:c.end,onChange:e=>d(t=>(0,Re.A)((0,Re.A)({},t),{},{end:e.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Report Format"}),(0,ga.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"comprehensive",children:"Comprehensive Report"}),(0,ga.jsx)("option",{value:"summary",children:"Executive Summary"}),(0,ga.jsx)("option",{value:"detailed",children:"Detailed Analysis"}),(0,ga.jsx)("option",{value:"technical",children:"Technical Report"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Include Options"}),(0,ga.jsx)("div",{className:"space-y-2",children:[{key:"includeCharts",label:"Charts & Graphs"},{key:"includeImages",label:"Product Images"},{key:"includeAnalytics",label:"Analytics Data"},{key:"watermark",label:"Company Watermark"},{key:"headerFooter",label:"Header & Footer"}].map(e=>(0,ga.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ga.jsx)("input",{type:"checkbox",checked:h[e.key],onChange:t=>g(r=>(0,Re.A)((0,Re.A)({},r),{},{[e.key]:t.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.label})]},e.key))})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(mi,{className:"w-5 h-5 mr-2"}),"Export Controls"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>{a(p.map(e=>e.id))},className:"flex-1 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:"Select All"}),(0,ga.jsx)("button",{onClick:()=>{a([])},className:"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-lg text-sm font-medium hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:"Clear All"})]}),s&&(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Generating PDF..."}),(0,ga.jsxs)("span",{className:"text-gray-900 dark:text-white font-medium",children:[Math.round(o),"%"]})]}),(0,ga.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ga.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(o,"%")}})})]}),(0,ga.jsx)("button",{onClick:async()=>{if(0!==r.length){i(!0),l(0);try{const e=setInterval(()=>{l(t=>t>=95?(clearInterval(e),95):t+15*Math.random())},500),a="https://cataloro.com",n={types:r,dateRange:c,format:u,options:h},s=await fetch("".concat(a,"/api/admin/export-pdf"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(n)});if(!s.ok)throw new Error("Export failed: ".concat(s.statusText));const o=await s.blob(),d=window.URL.createObjectURL(o),m=document.createElement("a");m.href=d;const g=(new Date).toISOString().slice(0,19).replace(/:/g,"-");m.download="cataloro-export-".concat(g,".pdf"),document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(d),clearInterval(e),l(100),setTimeout(()=>{i(!1),l(0),t("PDF export completed successfully!","success")},1e3)}catch(e){console.error("Export error:",e),i(!1),l(0),t("Export failed: ".concat(e.message),"error")}}else t("Please select at least one export type","warning")},disabled:s||0===r.length,className:"w-full px-6 py-3 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 ".concat(s||0===r.length?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-blue-600 text-white hover:from-green-700 hover:to-blue-700 transform hover:scale-105"),children:s?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Qi,{className:"w-5 h-5 animate-spin"}),(0,ga.jsx)("span",{children:"Generating PDF..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Ys,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Export Selected Reports"})]})}),(0,ga.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Export Summary:"}),(0,ga.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{children:"Reports Selected:"}),(0,ga.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:r.length})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{children:"Date Range:"}),(0,ga.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.ceil((new Date(c.end)-new Date(c.start))/864e5)," days"]})]}),(0,ga.jsxs)("div",{className:"flex justify-between",children:[(0,ga.jsx)("span",{children:"Format:"}),(0,ga.jsx)("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:u})]})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Js,{className:"w-5 h-5 mr-2"}),"Recent Exports"]}),(0,ga.jsx)("div",{className:"space-y-3",children:[{date:"2025-09-08",type:"Complete Report",size:"12.5 MB",status:"completed"},{date:"2025-09-07",type:"User Analytics",size:"4.2 MB",status:"completed"},{date:"2025-09-06",type:"Financial Report",size:"2.8 MB",status:"completed"}].map((e,t)=>(0,ga.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.type}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.date," \u2022 ",e.size]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4 text-green-500"}),(0,ga.jsx)("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:(0,ga.jsx)(Xs,{className:"w-4 h-4"})})]})]},t))})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Available Export Types"}),(0,ga.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Select the reports you want to include in your PDF export"})]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(e=>{const t=e.icon,n=r.includes(e.id);return(0,ga.jsxs)("div",{onClick:()=>{return t=e.id,void a(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 transform hover:scale-105 ".concat(n?"border-".concat(e.color,"-500 bg-").concat(e.color,"-50 dark:bg-").concat(e.color,"-900/20 shadow-lg"):"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600"),children:[n&&(0,ga.jsx)("div",{className:"absolute top-2 right-2",children:(0,ga.jsx)(Yi,{className:"w-5 h-5 text-".concat(e.color,"-600")})}),(0,ga.jsx)("div",{className:"w-12 h-12 rounded-lg bg-".concat(e.color,"-100 dark:bg-").concat(e.color,"-900/30 flex items-center justify-center mb-3"),children:(0,ga.jsx)(t,{className:"w-6 h-6 text-".concat(e.color,"-600 dark:text-").concat(e.color,"-400")})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 text-sm",children:e.title}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:e.description}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,ga.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Size:"}),(0,ga.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.estimatedSize})]}),(0,ga.jsxs)("div",{className:"space-y-1",children:[(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Includes:"}),(0,ga.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.includes.slice(0,2).map((t,r)=>(0,ga.jsx)("span",{className:"text-xs px-2 py-1 bg-".concat(e.color,"-100 dark:bg-").concat(e.color,"-900/20 text-").concat(e.color,"-700 dark:text-").concat(e.color,"-300 rounded"),children:t},r)),e.includes.length>2&&(0,ga.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",e.includes.length-2," more"]})]})]})]})]})]},e.id)})})]})]})};function Ul(e,t){return Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ul(e,t)}function ql(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ul(e,t)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zl.apply(null,arguments)}function Hl(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Vl="function"===typeof Symbol&&Symbol.observable||"@@observable",Gl=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wl={INIT:"@@redux/INIT"+Gl(),REPLACE:"@@redux/REPLACE"+Gl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gl()}};function Kl(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Jl(e,t,r){var a;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Hl(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Hl(1));return r(Jl)(e,t)}if("function"!==typeof e)throw new Error(Hl(2));var n=e,s=t,i=[],o=i,l=!1;function c(){o===i&&(o=i.slice())}function d(){if(l)throw new Error(Hl(3));return s}function u(e){if("function"!==typeof e)throw new Error(Hl(4));if(l)throw new Error(Hl(5));var t=!0;return c(),o.push(e),function(){if(t){if(l)throw new Error(Hl(6));t=!1,c();var r=o.indexOf(e);o.splice(r,1),i=null}}}function m(e){if(!Kl(e))throw new Error(Hl(7));if("undefined"===typeof e.type)throw new Error(Hl(8));if(l)throw new Error(Hl(9));try{l=!0,s=n(s,e)}finally{l=!1}for(var t=i=o,r=0;r<t.length;r++){(0,t[r])()}return e}return m({type:Wl.INIT}),(a={dispatch:m,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Hl(10));n=e,m({type:Wl.REPLACE})}})[Vl]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Hl(11));function r(){e.next&&e.next(d())}return r(),{unsubscribe:t(r)}}})[Vl]=function(){return this},e},a}function Yl(e,t){return function(){return t(e.apply(this,arguments))}}function $l(e,t){if("function"===typeof e)return Yl(e,t);if("object"!==typeof e||null===e)throw new Error(Hl(16));var r={};for(var a in e){var n=e[a];"function"===typeof n&&(r[a]=Yl(n,t))}return r}function Ql(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var Zl=n.createContext(null);var Xl=function(e){e()},ec=function(){return Xl};var tc={notify:function(){},get:function(){return[]}};function rc(e,t){var r,a=tc;function n(){i.onStateChange&&i.onStateChange()}function s(){r||(r=t?t.addNestedSub(n):e.subscribe(n),a=function(){var e=ec(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var a=!0,n=r={callback:e,next:null,prev:r};return n.prev?n.prev.next=n:t=n,function(){a&&null!==t&&(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}())}var i={addNestedSub:function(e){return s(),a.subscribe(e)},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:n,isSubscribed:function(){return Boolean(r)},trySubscribe:s,tryUnsubscribe:function(){r&&(r(),r=void 0,a.clear(),a=tc)},getListeners:function(){return a}};return i}var ac="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect;const nc=function(e){var t=e.store,r=e.context,a=e.children,s=(0,n.useMemo)(function(){var e=rc(t);return{store:t,subscription:e}},[t]),i=(0,n.useMemo)(function(){return t.getState()},[t]);ac(function(){var e=s.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[s,i]);var o=r||Zl;return n.createElement(o.Provider,{value:s},a)};var sc=r(219),ic=r.n(sc),oc=r(2706),lc=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],cc=["reactReduxForwardedRef"],dc=[],uc=[null,null];function mc(e,t){var r=e[1];return[t.payload,r+1]}function hc(e,t,r){ac(function(){return e.apply(void 0,t)},r)}function gc(e,t,r,a,n,s,i){e.current=a,t.current=n,r.current=!1,s.current&&(s.current=null,i())}function pc(e,t,r,a,n,s,i,o,l,c){if(e){var d=!1,u=null,m=function(){if(!d){var e,r,m=t.getState();try{e=a(m,n.current)}catch(hx){r=hx,u=hx}r||(u=null),e===s.current?i.current||l():(s.current=e,o.current=e,i.current=!0,c({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=m,r.trySubscribe(),m();return function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,u)throw u}}}var xc=function(){return[null,0]};function fc(e,t){void 0===t&&(t={});var r=t,a=r.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,i=r.methodName,o=void 0===i?"connectAdvanced":i,l=r.renderCountProp,c=void 0===l?void 0:l,d=r.shouldHandleStateChanges,u=void 0===d||d,m=r.storeKey,h=void 0===m?"store":m,g=(r.withRef,r.forwardRef),p=void 0!==g&&g,x=r.context,f=void 0===x?Zl:x,b=bs(r,lc),y=f;return function(t){var r=t.displayName||t.name||"Component",a=s(r),i=zl({},b,{getDisplayName:s,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:h,displayName:a,wrappedComponentName:r,WrappedComponent:t}),l=b.pure;var d=l?n.useMemo:function(e){return e()};function m(r){var a=(0,n.useMemo)(function(){var e=r.reactReduxForwardedRef,t=bs(r,cc);return[r.context,e,t]},[r]),s=a[0],o=a[1],l=a[2],c=(0,n.useMemo)(function(){return s&&s.Consumer&&(0,oc.isContextConsumer)(n.createElement(s.Consumer,null))?s:y},[s,y]),m=(0,n.useContext)(c),h=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(m)&&Boolean(m.store);var g=h?r.store:m.store,p=(0,n.useMemo)(function(){return function(t){return e(t.dispatch,i)}(g)},[g]),x=(0,n.useMemo)(function(){if(!u)return uc;var e=rc(g,h?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[g,h,m]),f=x[0],b=x[1],v=(0,n.useMemo)(function(){return h?m:zl({},m,{subscription:f})},[h,m,f]),j=(0,n.useReducer)(mc,dc,xc),w=j[0][0],k=j[1];if(w&&w.error)throw w.error;var N=(0,n.useRef)(),_=(0,n.useRef)(l),S=(0,n.useRef)(),A=(0,n.useRef)(!1),C=d(function(){return S.current&&l===_.current?S.current:p(g.getState(),l)},[g,w,l]);hc(gc,[_,N,A,l,C,S,b]),hc(pc,[u,g,f,p,_,N,A,S,b,k],[g,f,p]);var E=(0,n.useMemo)(function(){return n.createElement(t,zl({},C,{ref:o}))},[o,t,C]);return(0,n.useMemo)(function(){return u?n.createElement(c.Provider,{value:v},E):E},[c,E,v])}var g=l?n.memo(m):m;if(g.WrappedComponent=t,g.displayName=m.displayName=a,p){var x=n.forwardRef(function(e,t){return n.createElement(g,zl({},e,{reactReduxForwardedRef:t}))});return x.displayName=a,x.WrappedComponent=t,ic()(x,t)}return ic()(g,t)}}function bc(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function yc(e,t){if(bc(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!bc(e[r[n]],t[r[n]]))return!1;return!0}function vc(e){return function(t,r){var a=e(t,r);function n(){return a}return n.dependsOnOwnProps=!1,n}}function jc(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function wc(e,t){return function(t,r){r.displayName;var a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,r){a.mapToProps=e,a.dependsOnOwnProps=jc(e);var n=a(t,r);return"function"===typeof n&&(a.mapToProps=n,a.dependsOnOwnProps=jc(n),n=a(t,r)),n},a}}const kc=[function(e){return"function"===typeof e?wc(e):void 0},function(e){return e?void 0:vc(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?vc(function(t){return function(e,t){var r={},a=function(a){var n=e[a];"function"===typeof n&&(r[a]=function(){return t(n.apply(void 0,arguments))})};for(var n in e)a(n);return r}(e,t)}):void 0}];const Nc=[function(e){return"function"===typeof e?wc(e):void 0},function(e){return e?void 0:vc(function(){return{}})}];function _c(e,t,r){return zl({},r,e,t)}const Sc=[function(e){return"function"===typeof e?function(e){return function(t,r){r.displayName;var a,n=r.pure,s=r.areMergedPropsEqual,i=!1;return function(t,r,o){var l=e(t,r,o);return i?n&&s(l,a)||(a=l):(i=!0,a=l),a}}}(e):void 0},function(e){return e?void 0:function(){return _c}}];var Ac=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Cc(e,t,r,a){return function(n,s){return r(e(n,s),t(a,s),s)}}function Ec(e,t,r,a,n){var s,i,o,l,c,d=n.areStatesEqual,u=n.areOwnPropsEqual,m=n.areStatePropsEqual,h=!1;function g(n,h){var g=!u(h,i),p=!d(n,s,h,i);return s=n,i=h,g&&p?(o=e(s,i),t.dependsOnOwnProps&&(l=t(a,i)),c=r(o,l,i)):g?(e.dependsOnOwnProps&&(o=e(s,i)),t.dependsOnOwnProps&&(l=t(a,i)),c=r(o,l,i)):p?function(){var t=e(s,i),a=!m(t,o);return o=t,a&&(c=r(o,l,i)),c}():c}return function(n,d){return h?g(n,d):(o=e(s=n,i=d),l=t(a,i),c=r(o,l,i),h=!0,c)}}function Oc(e,t){var r=t.initMapStateToProps,a=t.initMapDispatchToProps,n=t.initMergeProps,s=bs(t,Ac),i=r(e,s),o=a(e,s),l=n(e,s);return(s.pure?Ec:Cc)(i,o,l,e,s)}var Pc=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Tc(e,t,r){for(var a=t.length-1;a>=0;a--){var n=t[a](e);if(n)return n}return function(t,a){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+a.wrappedComponentName+".")}}function Lc(e,t){return e===t}function Mc(e){var t=void 0===e?{}:e,r=t.connectHOC,a=void 0===r?fc:r,n=t.mapStateToPropsFactories,s=void 0===n?Nc:n,i=t.mapDispatchToPropsFactories,o=void 0===i?kc:i,l=t.mergePropsFactories,c=void 0===l?Sc:l,d=t.selectorFactory,u=void 0===d?Oc:d;return function(e,t,r,n){void 0===n&&(n={});var i=n,l=i.pure,d=void 0===l||l,m=i.areStatesEqual,h=void 0===m?Lc:m,g=i.areOwnPropsEqual,p=void 0===g?yc:g,x=i.areStatePropsEqual,f=void 0===x?yc:x,b=i.areMergedPropsEqual,y=void 0===b?yc:b,v=bs(i,Pc),j=Tc(e,s,"mapStateToProps"),w=Tc(t,o,"mapDispatchToProps"),k=Tc(r,c,"mergeProps");return a(u,zl({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:j,initMapDispatchToProps:w,initMergeProps:k,pure:d,areStatesEqual:h,areOwnPropsEqual:p,areStatePropsEqual:f,areMergedPropsEqual:y},v))}}const Ic=Mc();var Dc;function Rc(e,t){var r=(0,n.useState)(function(){return{inputs:t,result:e()}})[0],a=(0,n.useRef)(!0),s=(0,n.useRef)(r),i=a.current||Boolean(t&&s.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return(0,n.useEffect)(function(){a.current=!1,s.current=o},[o]),o.result}Dc=o.unstable_batchedUpdates,Xl=Dc;var Fc=Rc,Bc=function(e,t){return Rc(function(){return e},t)},Uc="Invariant failed";var qc=function(e){var t=e.top,r=e.right,a=e.bottom,n=e.left;return{top:t,right:r,bottom:a,left:n,width:r-n,height:a-t,x:n,y:t,center:{x:(r+n)/2,y:(a+t)/2}}},zc=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Hc=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Vc={top:0,right:0,bottom:0,left:0},Gc=function(e){var t=e.borderBox,r=e.margin,a=void 0===r?Vc:r,n=e.border,s=void 0===n?Vc:n,i=e.padding,o=void 0===i?Vc:i,l=qc(zc(t,a)),c=qc(Hc(t,s)),d=qc(Hc(c,o));return{marginBox:l,borderBox:qc(t),paddingBox:c,contentBox:d,margin:a,border:s,padding:o}},Wc=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(e){if(!e)throw new Error(Uc)}(!1),r},Kc=function(e,t){var r,a,n=e.borderBox,s=e.border,i=e.margin,o=e.padding,l=(a=t,{top:(r=n).top+a.y,left:r.left+a.x,bottom:r.bottom+a.y,right:r.right+a.x});return Gc({borderBox:l,border:s,margin:i,padding:o})},Jc=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Kc(e,t)},Yc=function(e,t){var r={top:Wc(t.marginTop),right:Wc(t.marginRight),bottom:Wc(t.marginBottom),left:Wc(t.marginLeft)},a={top:Wc(t.paddingTop),right:Wc(t.paddingRight),bottom:Wc(t.paddingBottom),left:Wc(t.paddingLeft)},n={top:Wc(t.borderTopWidth),right:Wc(t.borderRightWidth),bottom:Wc(t.borderBottomWidth),left:Wc(t.borderLeftWidth)};return Gc({borderBox:e,margin:r,padding:a,border:n})},$c=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return Yc(t,r)},Qc=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Zc(e,t){return e===t||!(!Qc(e)||!Qc(t))}function Xc(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Zc(e[r],t[r]))return!1;return!0}const ed=function(e,t){var r;void 0===t&&(t=Xc);var a,n=[],s=!1;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return s&&r===this&&t(i,n)||(a=e.apply(this,i),s=!0,r=this,n=i),a}};const td=function(e){var t=[],r=null,a=function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];t=n,r||(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};function rd(e,t){}rd.bind(null,"warn"),rd.bind(null,"error");function ad(){}function nd(e,t,r){var a=t.map(function(t){var a=function(e,t){return zl({},e,{},t)}(r,t.options);return e.addEventListener(t.eventName,t.fn,a),function(){e.removeEventListener(t.eventName,t.fn,a)}});return function(){a.forEach(function(e){e()})}}var sd="Invariant failed";function id(e){this.message=e}function od(e,t){if(!e)throw new id(sd)}id.prototype.toString=function(){return this.message};var ld=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).callbacks=null,t.unbind=ad,t.onWindowError=function(e){var r=t.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof id&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ql(t,e);var r=t.prototype;return r.componentDidMount=function(){this.unbind=nd(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(e){if(!(e instanceof id))throw e;this.setState({})},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(n.Component),cd=function(e){return e+1},dd=function(e,t){var r=e.droppableId===t.droppableId,a=cd(e.index),n=cd(t.index);return r?"\n      You have moved the item from position "+a+"\n      to position "+n+"\n    ":"\n    You have moved the item from position "+a+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+n+"\n  "},ud=function(e,t,r){return t.droppableId===r.droppableId?"\n      The item "+e+"\n      has been combined with "+r.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+r.draggableId+"\n      in list "+r.droppableId+"\n    "},md=function(e){return"\n  The item has returned to its starting position\n  of "+cd(e.index)+"\n"},hd="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",gd=function(e){return"\n  You have lifted an item in position "+cd(e.source.index)+"\n"},pd=function(e){var t=e.destination;if(t)return dd(e.source,t);var r=e.combine;return r?ud(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},xd=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+md(e.source)+"\n    ";var t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      "+dd(e.source,t)+"\n    ":r?"\n      You have dropped the item.\n      "+ud(e.draggableId,e.source,r)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+md(e.source)+"\n  "},fd={x:0,y:0},bd=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},yd=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},vd=function(e,t){return e.x===t.x&&e.y===t.y},jd=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},wd=function(e,t,r){var a;return void 0===r&&(r=0),(a={})[e]=t,a["x"===e?"y":"x"]=r,a},kd=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Nd=function(e,t){return Math.min.apply(Math,t.map(function(t){return kd(e,t)}))},_d=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Sd=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Ad=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Cd=function(e,t){return t&&t.shouldClipSubject?function(e,t){var r=qc({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}(t.pageMarginBox,e):qc(e)},Ed=function(e){var t=e.page,r=e.withPlaceholder,a=e.axis,n=e.frame,s=function(e,t){return t?Sd(e,t.scroll.diff.displacement):e}(t.marginBox,n),i=function(e,t,r){var a;return r&&r.increasedBy?zl({},e,((a={})[t.end]=e[t.end]+r.increasedBy[t.line],a)):e}(s,a,r);return{page:t,withPlaceholder:r,active:Cd(i,n)}},Od=function(e,t){e.frame||od(!1);var r=e.frame,a=yd(t,r.scroll.initial),n=jd(a),s=zl({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:a,displacement:n},max:r.scroll.max}});return zl({},e,{frame:s,subject:Ed({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s})})};function Pd(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Td(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ld(e,t){if(e.find)return e.find(t);var r=Td(e,t);return-1!==r?e[r]:void 0}function Md(e){return Array.prototype.slice.call(e)}var Id=ed(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),Dd=ed(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),Rd=ed(function(e){return Pd(e)}),Fd=ed(function(e){return Pd(e)}),Bd=ed(function(e,t){var r=Fd(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index});return r});function Ud(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function qd(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var zd=ed(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),Hd=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Vd={point:fd,value:0},Gd={invisible:{},visible:{},all:[]},Wd={displaced:Gd,displacedBy:Vd,at:null},Kd=function(e,t){return function(r){return e<=r&&r<=t}},Jd=function(e){var t=Kd(e.top,e.bottom),r=Kd(e.left,e.right);return function(a){if(t(a.top)&&t(a.bottom)&&r(a.left)&&r(a.right))return!0;var n=t(a.top)||t(a.bottom),s=r(a.left)||r(a.right);if(n&&s)return!0;var i=a.top<e.top&&a.bottom>e.bottom,o=a.left<e.left&&a.right>e.right;return!(!i||!o)||(i&&s||o&&n)}},Yd=function(e){var t=Kd(e.top,e.bottom),r=Kd(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)}},$d={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Qd={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Zd=function(e){var t=e.target,r=e.destination,a=e.viewport,n=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,i=n?function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:fd;return Sd(e,r)}(t,r):t;return function(e,t,r){return!!t.subject.active&&r(t.subject.active)(e)}(i,r,s)&&function(e,t,r){return r(t)(e)}(i,a,s)},Xd=function(e){return Zd(zl({},e,{isVisibleThroughFrameFn:Jd}))},eu=function(e){return Zd(zl({},e,{isVisibleThroughFrameFn:Yd}))};function tu(e){var t=e.afterDragging,r=e.destination,a=e.displacedBy,n=e.viewport,s=e.forceShouldAnimate,i=e.last;return t.reduce(function(e,t){var o=function(e,t){var r=e.page.marginBox,a={top:t.point.y,right:0,bottom:0,left:t.point.x};return qc(zc(r,a))}(t,a),l=t.descriptor.id;if(e.all.push(l),!Xd({target:o,destination:r,viewport:n,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,r){if("boolean"===typeof r)return r;if(!t)return!0;var a=t.invisible,n=t.visible;if(a[e])return!1;var s=n[e];return!s||s.shouldAnimate}(l,i,s),d={draggableId:l,shouldAnimate:c};return e.visible[l]=d,e},{all:[],visible:{},invisible:{}})}function ru(e){var t=e.insideDestination,r=e.inHomeList,a=e.displacedBy,n=e.destination,s=function(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:Gd,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function au(e){var t=e.draggable,r=e.insideDestination,a=e.destination,n=e.viewport,s=e.displacedBy,i=e.last,o=e.index,l=e.forceShouldAnimate,c=Hd(t,a);if(null==o)return ru({insideDestination:r,inHomeList:c,displacedBy:s,destination:a});var d=Ld(r,function(e){return e.descriptor.index===o});if(!d)return ru({insideDestination:r,inHomeList:c,displacedBy:s,destination:a});var u=zd(t,r),m=r.indexOf(d);return{displaced:tu({afterDragging:u.slice(m),destination:a,displacedBy:s,last:i,viewport:n.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function nu(e,t){return Boolean(t.effected[e])}var su=function(e){var t=e.isMovingForward,r=e.isInHomeList,a=e.draggable,n=e.draggables,s=e.destination,i=e.insideDestination,o=e.previousImpact,l=e.viewport,c=e.afterCritical,d=o.at;if(d||od(!1),"REORDER"===d.type){var u=function(e){var t=e.isMovingForward,r=e.isInHomeList,a=e.insideDestination,n=e.location;if(!a.length)return null;var s=n.index,i=t?s+1:s-1,o=a[0].descriptor.index,l=a[a.length-1].descriptor.index;return i<o||i>(r?l:l+1)?null:i}({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:i});return null==u?null:au({draggable:a,insideDestination:i,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}var m=function(e){var t=e.isMovingForward,r=e.destination,a=e.draggables,n=e.combine,s=e.afterCritical;if(!r.isCombineEnabled)return null;var i=n.draggableId,o=a[i].descriptor.index;return nu(i,s)?t?o:o-1:t?o+1:o}({isMovingForward:t,destination:s,displaced:o.displaced,draggables:n,combine:d.combine,afterCritical:c});return null==m?null:au({draggable:a,insideDestination:i,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:m})},iu=function(e){var t=e.afterCritical,r=e.impact,a=e.draggables,n=qd(r);n||od(!1);var s=n.draggableId,i=a[s].page.borderBox.center,o=function(e){var t=e.displaced,r=e.afterCritical,a=e.combineWith,n=e.displacedBy,s=Boolean(t.visible[a]||t.invisible[a]);return nu(a,r)?s?fd:jd(n.point):s?n.point:fd}({displaced:r.displaced,afterCritical:t,combineWith:s,displacedBy:r.displacedBy});return bd(i,o)},ou=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},lu=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},cu=function(e){var t=e.axis,r=e.moveRelativeTo,a=e.isMoving;return wd(t.line,r.marginBox[t.end]+ou(t,a),lu(t,r.marginBox,a))},du=function(e){var t=e.axis,r=e.moveRelativeTo,a=e.isMoving;return wd(t.line,r.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,a),lu(t,r.marginBox,a))},uu=function(e){var t=e.impact,r=e.draggable,a=e.draggables,n=e.droppable,s=e.afterCritical,i=Bd(n.descriptor.id,a),o=r.page,l=n.axis;if(!i.length)return function(e){var t=e.axis,r=e.moveInto,a=e.isMoving;return wd(t.line,r.contentBox[t.start]+ou(t,a),lu(t,r.contentBox,a))}({axis:l,moveInto:n.page,isMoving:o});var c=t.displaced,d=t.displacedBy,u=c.all[0];if(u){var m=a[u];if(nu(u,s))return du({axis:l,moveRelativeTo:m.page,isMoving:o});var h=Kc(m.page,d.point);return du({axis:l,moveRelativeTo:h,isMoving:o})}var g=i[i.length-1];if(g.descriptor.id===r.descriptor.id)return o.borderBox.center;if(nu(g.descriptor.id,s)){var p=Kc(g.page,jd(s.displacedBy.point));return cu({axis:l,moveRelativeTo:p,isMoving:o})}return cu({axis:l,moveRelativeTo:g.page,isMoving:o})},mu=function(e,t){var r=e.frame;return r?bd(t,r.scroll.diff.displacement):t},hu=function(e){var t=function(e){var t=e.impact,r=e.draggable,a=e.droppable,n=e.draggables,s=e.afterCritical,i=r.page.borderBox.center,o=t.at;return a&&o?"REORDER"===o.type?uu({impact:t,draggable:r,draggables:n,droppable:a,afterCritical:s}):iu({impact:t,draggables:n,afterCritical:s}):i}(e),r=e.droppable;return r?mu(r,t):t},gu=function(e,t){var r=yd(t,e.scroll.initial),a=jd(r);return{frame:qc({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:a}}}};function pu(e,t){return e.map(function(e){return t[e]})}var xu=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,a=function(e,t){return bd(e.scroll.diff.displacement,t)}(e.viewport,t),n=yd(a,r.page.borderBox.center);return bd(r.client.borderBox.center,n)},fu=function(e){var t=e.draggable,r=e.destination,a=e.newPageBorderBoxCenter,n=e.viewport,s=e.withDroppableDisplacement,i=e.onlyOnMainAxis,o=void 0!==i&&i,l=yd(a,t.page.borderBox.center),c={target:Sd(t.page.borderBox,l),destination:r,withDroppableDisplacement:s,viewport:n};return o?function(e){return Zd(zl({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var r=Kd(e.top,e.bottom),a=Kd(e.left,e.right);return function(e){return t===$d?r(e.top)&&r(e.bottom):a(e.left)&&a(e.right)}})}));var t}(c):eu(c)},bu=function(e){var t=e.isMovingForward,r=e.draggable,a=e.destination,n=e.draggables,s=e.previousImpact,i=e.viewport,o=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!a.isEnabled)return null;var d=Bd(a.descriptor.id,n),u=Hd(r,a),m=function(e){var t=e.isMovingForward,r=e.draggable,a=e.destination,n=e.insideDestination,s=e.previousImpact;if(!a.isCombineEnabled)return null;if(!Ud(s))return null;function i(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:a.descriptor.id}};return zl({},s,{at:t})}var o=s.displaced.all,l=o.length?o[0]:null;if(t)return l?i(l):null;var c=zd(r,n);if(!l)return c.length?i(c[c.length-1].descriptor.id):null;var d=Td(c,function(e){return e.descriptor.id===l});-1===d&&od(!1);var u=d-1;return u<0?null:i(c[u].descriptor.id)}({isMovingForward:t,draggable:r,destination:a,insideDestination:d,previousImpact:s})||su({isMovingForward:t,isInHomeList:u,draggable:r,draggables:n,destination:a,insideDestination:d,previousImpact:s,viewport:i,afterCritical:c});if(!m)return null;var h=hu({impact:m,draggable:r,droppable:a,draggables:n,afterCritical:c});if(fu({draggable:r,destination:a,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:xu({pageBorderBoxCenter:h,draggable:r,viewport:i}),impact:m,scrollJumpRequest:null};var g=yd(h,o),p=function(e){var t=e.impact,r=e.viewport,a=e.destination,n=e.draggables,s=e.maxScrollChange,i=gu(r,bd(r.scroll.current,s)),o=a.frame?Od(a,bd(a.frame.scroll.current,s)):a,l=t.displaced,c=tu({afterDragging:pu(l.all,n),destination:a,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=tu({afterDragging:pu(l.all,n),destination:o,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),u={},m={},h=[l,c,d];return l.all.forEach(function(e){var t=function(e,t){for(var r=0;r<t.length;r++){var a=t[r].visible[e];if(a)return a}return null}(e,h);t?m[e]=t:u[e]=!0}),zl({},t,{displaced:{all:l.all,invisible:u,visible:m}})}({impact:m,viewport:i,destination:a,draggables:n,maxScrollChange:g});return{clientSelection:l,impact:p,scrollJumpRequest:g}},yu=function(e){var t=e.subject.active;return t||od(!1),t},vu=function(e,t){var r=e.page.borderBox.center;return nu(e.descriptor.id,t)?yd(r,t.displacedBy.point):r},ju=function(e,t){var r=e.page.borderBox;return nu(e.descriptor.id,t)?Sd(r,jd(t.displacedBy.point)):r},wu=ed(function(e,t){var r=t[e.line];return{value:r,point:wd(e.line,r)}}),ku=function(e,t){return zl({},e,{scroll:zl({},e.scroll,{max:t})})},Nu=function(e,t,r){var a=e.frame;Hd(t,e)&&od(!1),e.subject.withPlaceholder&&od(!1);var n=wu(e.axis,t.displaceBy).point,s=function(e,t,r){var a=e.axis;if("virtual"===e.descriptor.mode)return wd(a.line,t[a.line]);var n=e.subject.page.contentBox[a.size],s=Bd(e.descriptor.id,r).reduce(function(e,t){return e+t.client.marginBox[a.size]},0)+t[a.line]-n;return s<=0?null:wd(a.line,s)}(e,n,r),i={placeholderSize:n,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a)return zl({},e,{subject:Ed({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame})});var o=s?bd(a.scroll.max,s):a.scroll.max,l=ku(a,o);return zl({},e,{subject:Ed({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l}),frame:l})},_u=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,a=e.draggable,n=e.isOver,s=e.draggables,i=e.droppables,o=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,a=e.source,n=e.droppables,s=e.viewport,i=a.subject.active;if(!i)return null;var o=a.axis,l=Kd(i[o.start],i[o.end]),c=Rd(n).filter(function(e){return e!==a}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return Jd(s.frame)(yu(e))}).filter(function(e){var r=yu(e);return t?i[o.crossAxisEnd]<r[o.crossAxisEnd]:r[o.crossAxisStart]<i[o.crossAxisStart]}).filter(function(e){var t=yu(e),r=Kd(t[o.start],t[o.end]);return l(t[o.start])||l(t[o.end])||r(i[o.start])||r(i[o.end])}).sort(function(e,r){var a=yu(e)[o.crossAxisStart],n=yu(r)[o.crossAxisStart];return t?a-n:n-a}).filter(function(e,t,r){return yu(e)[o.crossAxisStart]===yu(r[0])[o.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var d=c.filter(function(e){return Kd(yu(e)[o.start],yu(e)[o.end])(r[o.line])});return 1===d.length?d[0]:d.length>1?d.sort(function(e,t){return yu(e)[o.start]-yu(t)[o.start]})[0]:c.sort(function(e,t){var a=Nd(r,Ad(yu(e))),n=Nd(r,Ad(yu(t)));return a!==n?a-n:yu(e)[o.start]-yu(t)[o.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:r,source:n,droppables:i,viewport:o});if(!c)return null;var d=Bd(c.descriptor.id,s),u=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,a=e.destination,n=e.insideDestination,s=e.afterCritical,i=n.filter(function(e){return eu({target:ju(e,s),destination:a,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(e,r){var n=kd(t,mu(a,vu(e,s))),i=kd(t,mu(a,vu(r,s)));return n<i?-1:i<n?1:e.descriptor.index-r.descriptor.index});return i[0]||null}({pageBorderBoxCenter:r,viewport:o,destination:c,insideDestination:d,afterCritical:l}),m=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,a=e.insideDestination,n=e.draggable,s=e.draggables,i=e.destination,o=e.viewport,l=e.afterCritical;if(!r){if(a.length)return null;var c={displaced:Gd,displacedBy:Vd,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},d=hu({impact:c,draggable:n,droppable:i,draggables:s,afterCritical:l}),u=Hd(n,i)?i:Nu(i,n,s);return fu({draggable:n,destination:u,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var m=Boolean(t[i.axis.line]<=r.page.borderBox.center[i.axis.line]),h=function(){var e=r.descriptor.index;return r.descriptor.id===n.descriptor.id||m?e:e+1}(),g=wu(i.axis,n.displaceBy);return au({draggable:n,insideDestination:a,destination:i,viewport:o,displacedBy:g,last:Gd,index:h})}({previousPageBorderBoxCenter:r,destination:c,draggable:a,draggables:s,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!m)return null;var h=hu({impact:m,draggable:a,droppable:c,draggables:s,afterCritical:l});return{clientSelection:xu({pageBorderBoxCenter:h,draggable:a,viewport:o}),impact:m,scrollJumpRequest:null}},Su=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Au=function(e){var t=e.state,r=e.type,a=function(e,t){var r=Su(e);return r?t[r]:null}(t.impact,t.dimensions.droppables),n=Boolean(a),s=t.dimensions.droppables[t.critical.droppable.id],i=a||s,o=i.axis.direction,l="vertical"===o&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===o&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(l&&!n)return null;var c="MOVE_DOWN"===r||"MOVE_RIGHT"===r,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,m=t.dimensions,h=m.draggables,g=m.droppables;return l?bu({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):_u({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:h,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function Cu(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Eu(e){var t=Kd(e.top,e.bottom),r=Kd(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function Ou(e){var t=e.pageBorderBox,r=e.draggable,a=e.droppables,n=Rd(a).filter(function(e){if(!e.isEnabled)return!1;var r,a,n=e.subject.active;if(!n)return!1;if(a=n,!((r=t).left<a.right&&r.right>a.left&&r.top<a.bottom&&r.bottom>a.top))return!1;if(Eu(n)(t.center))return!0;var s=e.axis,i=n.center[s.crossAxisLine],o=t[s.crossAxisStart],l=t[s.crossAxisEnd],c=Kd(n[s.crossAxisStart],n[s.crossAxisEnd]),d=c(o),u=c(l);return!d&&!u||(d?o<i:l>i)});return n.length?1===n.length?n[0].descriptor.id:function(e){var t=e.pageBorderBox,r=e.draggable,a=e.candidates,n=r.page.borderBox.center,s=a.map(function(e){var r=e.axis,a=wd(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:kd(n,a)}}).sort(function(e,t){return t.distance-e.distance});return s[0]?s[0].id:null}({pageBorderBox:t,draggable:r,candidates:n}):null}var Pu=function(e,t){return qc(Sd(e,t))};function Tu(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}var Lu=function(e){var t=e.pageOffset,r=e.draggable,a=e.draggables,n=e.droppables,s=e.previousImpact,i=e.viewport,o=e.afterCritical,l=Pu(r.page.borderBox,t),c=Ou({pageBorderBox:l,draggable:r,droppables:n});if(!c)return Wd;var d=n[c],u=Bd(d.descriptor.id,a),m=function(e,t){var r=e.frame;return r?Pu(t,r.scroll.diff.value):t}(d,l);return function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,a=e.previousImpact,n=e.destination,s=e.insideDestination,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=n.axis,l=wu(n.axis,t.displaceBy),c=l.value,d=r[o.start],u=r[o.end],m=Ld(zd(t,s),function(e){var t=e.descriptor.id,r=e.page.borderBox,n=r[o.size]/4,s=nu(t,i),l=Tu({displaced:a.displaced,id:t});return s?l?u>r[o.start]+n&&u<r[o.end]-n:d>r[o.start]-c+n&&d<r[o.end]-c-n:l?u>r[o.start]+c+n&&u<r[o.end]+c-n:d>r[o.start]+n&&d<r[o.end]-n});return m?{displacedBy:l,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:n.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:m,draggable:r,previousImpact:s,destination:d,insideDestination:u,afterCritical:o})||function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,a=e.destination,n=e.insideDestination,s=e.last,i=e.viewport,o=e.afterCritical,l=a.axis,c=wu(a.axis,r.displaceBy),d=c.value,u=t[l.start],m=t[l.end],h=function(e){var t=e.draggable,r=e.closest,a=e.inHomeList;return r?a&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:Ld(zd(r,n),function(e){var t=e.descriptor.id,r=e.page.borderBox.center[l.line],a=nu(t,o),n=Tu({displaced:s,id:t});return a?n?m<=r:u<r-d:n?m<=r+d:u<r}),inHomeList:Hd(r,a)});return au({draggable:r,insideDestination:n,destination:a,viewport:i,last:s,displacedBy:c,index:h})}({pageBorderBoxWithDroppableScroll:m,draggable:r,destination:d,insideDestination:u,last:s.displaced,viewport:i,afterCritical:o})},Mu=function(e,t){var r;return zl({},e,((r={})[t.descriptor.id]=t,r))},Iu=function(e){var t=e.previousImpact,r=e.impact,a=e.droppables,n=Su(t),s=Su(r);if(!n)return a;if(n===s)return a;var i=a[n];if(!i.subject.withPlaceholder)return a;var o=function(e){var t=e.subject.withPlaceholder;t||od(!1);var r=e.frame;if(!r)return zl({},e,{subject:Ed({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var a=t.oldFrameMaxScroll;a||od(!1);var n=ku(r,a);return zl({},e,{subject:Ed({page:e.subject.page,axis:e.axis,frame:n,withPlaceholder:null}),frame:n})}(i);return Mu(a,o)},Du=function(e){var t=e.state,r=e.clientSelection,a=e.dimensions,n=e.viewport,s=e.impact,i=e.scrollJumpRequest,o=n||t.viewport,l=a||t.dimensions,c=r||t.current.client.selection,d=yd(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:bd(t.initial.client.borderBoxCenter,d)},m={selection:bd(u.selection,o.scroll.current),borderBoxCenter:bd(u.borderBoxCenter,o.scroll.current),offset:bd(u.offset,o.scroll.diff.value)},h={client:u,page:m};if("COLLECTING"===t.phase)return zl({phase:"COLLECTING"},t,{dimensions:l,viewport:o,current:h});var g=l.draggables[t.critical.draggable.id],p=s||Lu({pageOffset:m.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),x=function(e){var t=e.draggable,r=e.draggables,a=e.droppables,n=e.previousImpact,s=e.impact,i=Iu({previousImpact:n,impact:s,droppables:a}),o=Su(s);if(!o)return i;var l=a[o];if(Hd(t,l))return i;if(l.subject.withPlaceholder)return i;var c=Nu(l,t,r);return Mu(i,c)}({draggable:g,impact:p,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return zl({},t,{current:h,dimensions:{draggables:l.draggables,droppables:x},impact:p,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null})};var Ru=function(e){var t=e.impact,r=e.viewport,a=e.draggables,n=e.destination,s=e.forceShouldAnimate,i=t.displaced,o=function(e,t){return e.map(function(e){return t[e]})}(i.all,a);return zl({},t,{displaced:tu({afterDragging:o,destination:n,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:s,last:i})})},Fu=function(e){var t=e.impact,r=e.draggable,a=e.droppable,n=e.draggables,s=e.viewport,i=e.afterCritical,o=hu({impact:t,draggable:r,draggables:n,droppable:a,afterCritical:i});return xu({pageBorderBoxCenter:o,draggable:r,viewport:s})},Bu=function(e){var t=e.state,r=e.dimensions,a=e.viewport;"SNAP"!==t.movementMode&&od(!1);var n=t.impact,s=a||t.viewport,i=r||t.dimensions,o=i.draggables,l=i.droppables,c=o[t.critical.draggable.id],d=Su(n);d||od(!1);var u=l[d],m=Ru({impact:n,viewport:s,destination:u,draggables:o}),h=Fu({impact:m,draggable:c,droppable:u,draggables:o,viewport:s,afterCritical:t.afterCritical});return Du({impact:m,clientSelection:h,state:t,dimensions:i,viewport:s})},Uu=function(e){var t=e.draggable,r=e.home,a=e.draggables,n=e.viewport,s=wu(r.axis,t.displaceBy),i=Bd(r.descriptor.id,a),o=i.indexOf(t);-1===o&&od(!1);var l,c=i.slice(o+1),d=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),u={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:s,effected:d};return{impact:{displaced:tu({afterDragging:c,destination:r,displacedBy:s,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:u}},qu=function(e){0},zu=function(e){0},Hu=function(e){var t=e.additions,r=e.updatedDroppables,a=e.viewport,n=a.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,s=function(e){var t=e.frame;return t||od(!1),t}(r[t]),i=s.scroll.diff.value,o=function(e){var t=e.draggable,r=e.offset,a=e.initialWindowScroll,n=Kc(t.client,r),s=Jc(n,a);return zl({},t,{placeholder:zl({},t.placeholder,{client:n}),client:n,page:s})}({draggable:e,offset:bd(n,i),initialWindowScroll:a.scroll.initial});return o})},Vu=function(e){return"SNAP"===e.movementMode},Gu=function(e,t,r){var a=function(e,t){return{draggables:e.draggables,droppables:Mu(e.droppables,t)}}(e.dimensions,t);return!Vu(e)||r?Du({state:e,dimensions:a}):Bu({state:e,dimensions:a})};function Wu(e){return e.isDragging&&"SNAP"===e.movementMode?zl({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Ku={phase:"IDLE",completed:null,shouldFlush:!1},Ju=function(e,t){if(void 0===e&&(e=Ku),"FLUSH"===t.type)return zl({},Ku,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&od(!1);var r=t.payload,a=r.critical,n=r.clientSelection,s=r.viewport,i=r.dimensions,o=r.movementMode,l=i.draggables[a.draggable.id],c=i.droppables[a.droppable.id],d={selection:n,borderBoxCenter:l.client.borderBox.center,offset:fd},u={client:d,page:{selection:bd(d.selection,s.scroll.initial),borderBoxCenter:bd(d.selection,s.scroll.initial),offset:bd(d.selection,s.scroll.diff.value)}},m=Rd(i.droppables).every(function(e){return!e.isFixedOnPage}),h=Uu({draggable:l,home:c,draggables:i.draggables,viewport:s}),g=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:m,impact:g,afterCritical:h.afterCritical,onLiftImpact:g,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&od(!1),zl({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&od(!1),function(e){var t=e.state,r=e.published;qu();var a=r.modified.map(function(e){var r=t.dimensions.droppables[e.droppableId];return Od(r,e.scroll)}),n=zl({},t.dimensions.droppables,{},Id(a)),s=Dd(Hu({additions:r.additions,updatedDroppables:n,viewport:t.viewport})),i=zl({},t.dimensions.draggables,{},s);r.removals.forEach(function(e){delete i[e]});var o={droppables:n,draggables:i},l=Su(t.impact),c=l?o.droppables[l]:null,d=o.draggables[t.critical.draggable.id],u=o.droppables[t.critical.droppable.id],m=Uu({draggable:d,home:u,draggables:i,viewport:t.viewport}),h=m.impact,g=m.afterCritical,p=c&&c.isCombineEnabled?t.impact:h,x=Lu({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:p,viewport:t.viewport,afterCritical:g});zu();var f=zl({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:x,onLiftImpact:h,dimensions:o,afterCritical:g,forceShouldAnimate:!1});return"COLLECTING"===t.phase?f:zl({phase:"DROP_PENDING"},f,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Cu(e)||od(!1);var p=t.payload.client;return vd(p,e.current.client.selection)?e:Du({state:e,clientSelection:p,impact:Vu(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Wu(e);if("COLLECTING"===e.phase)return Wu(e);Cu(e)||od(!1);var x=t.payload,f=x.id,b=x.newScroll,y=e.dimensions.droppables[f];if(!y)return e;var v=Od(y,b);return Gu(e,v,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Cu(e)||od(!1);var j=t.payload,w=j.id,k=j.isEnabled,N=e.dimensions.droppables[w];N||od(!1),N.isEnabled===k&&od(!1);var _=zl({},N,{isEnabled:k});return Gu(e,_,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Cu(e)||od(!1);var S=t.payload,A=S.id,C=S.isCombineEnabled,E=e.dimensions.droppables[A];E||od(!1),E.isCombineEnabled===C&&od(!1);var O=zl({},E,{isCombineEnabled:C});return Gu(e,O,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Cu(e)||od(!1),e.isWindowScrollAllowed||od(!1);var P=t.payload.newScroll;if(vd(e.viewport.scroll.current,P))return Wu(e);var T=gu(e.viewport,P);return Vu(e)?Bu({state:e,viewport:T}):Du({state:e,viewport:T})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Cu(e))return e;var L=t.payload.maxScroll;if(vd(L,e.viewport.scroll.max))return e;var M=zl({},e.viewport,{scroll:zl({},e.viewport.scroll,{max:L})});return zl({phase:"DRAGGING"},e,{viewport:M})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&od(!1);var I=Au({state:e,type:t.type});return I?Du({state:e,impact:I.impact,clientSelection:I.clientSelection,scrollJumpRequest:I.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var D=t.payload.reason;return"COLLECTING"!==e.phase&&od(!1),zl({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:D})}if("DROP_ANIMATE"===t.type){var R=t.payload,F=R.completed,B=R.dropDuration,U=R.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&od(!1),{phase:"DROP_ANIMATING",completed:F,dropDuration:B,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Yu=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},$u=function(){return{type:"COLLECTION_STARTING",payload:null}},Qu=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Zu=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Xu=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},em=function(e){return{type:"MOVE",payload:e}},tm=function(){return{type:"MOVE_UP",payload:null}},rm=function(){return{type:"MOVE_DOWN",payload:null}},am=function(){return{type:"MOVE_RIGHT",payload:null}},nm=function(){return{type:"MOVE_LEFT",payload:null}},sm=function(e){return{type:"DROP_COMPLETE",payload:e}},im=function(e){return{type:"DROP",payload:e}},om=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var lm="cubic-bezier(.2,1,.1,1)",cm={drop:0,combining:.7},dm={drop:.75},um=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",mm={fluid:"opacity "+um,snap:"transform "+um+", opacity "+um,drop:function(e){var t=e+"s "+lm;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+um,placeholder:"height "+um+", width "+um+", margin "+um},hm=function(e){return vd(e,fd)?null:"translate("+e.x+"px, "+e.y+"px)"},gm=hm,pm=function(e,t){var r=hm(e);return r?t?r+" scale("+dm.drop+")":r:null},xm=.33,fm=.55,bm=fm-xm,ym=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(a){if("DROP"===a.type){var n=t(),s=a.payload.reason;if("COLLECTING"!==n.phase){if("IDLE"!==n.phase){"DROP_PENDING"===n.phase&&n.isWaiting&&od(!1),"DRAGGING"!==n.phase&&"DROP_PENDING"!==n.phase&&od(!1);var i=n.critical,o=n.dimensions,l=o.draggables[n.critical.draggable.id],c=function(e){var t=e.draggables,r=e.reason,a=e.lastImpact,n=e.home,s=e.viewport,i=e.onLiftImpact;return a.at&&"DROP"===r?"REORDER"===a.at.type?{impact:a,didDropInsideDroppable:!0}:{impact:zl({},a,{displaced:Gd}),didDropInsideDroppable:!0}:{impact:Ru({draggables:t,impact:i,destination:n,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:s,lastImpact:n.impact,afterCritical:n.afterCritical,onLiftImpact:n.onLiftImpact,home:n.dimensions.droppables[n.critical.droppable.id],viewport:n.viewport,draggables:n.dimensions.draggables}),d=c.impact,u=c.didDropInsideDroppable,m=u?Ud(d):null,h=u?qd(d):null,g={index:i.draggable.index,droppableId:i.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:g,reason:s,mode:n.movementMode,destination:m,combine:h},x=function(e){var t=e.impact,r=e.draggable,a=e.dimensions,n=e.viewport,s=e.afterCritical,i=a.draggables,o=a.droppables,l=Su(t),c=l?o[l]:null,d=o[r.descriptor.droppableId],u=Fu({impact:t,draggable:r,draggables:i,afterCritical:s,droppable:c||d,viewport:n});return yd(u,r.client.borderBox.center)}({impact:d,draggable:l,dimensions:o,viewport:n.viewport,afterCritical:n.afterCritical}),f={critical:n.critical,afterCritical:n.afterCritical,result:p,impact:d};if(!vd(n.current.client.offset,x)||Boolean(p.combine)){var b=function(e){var t=e.current,r=e.destination,a=e.reason,n=kd(t,r);if(n<=0)return xm;if(n>=1500)return fm;var s=xm+bm*(n/1500);return Number(("CANCEL"===a?.6*s:s).toFixed(2))}({current:n.current.client.offset,destination:x,reason:s});r(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:x,dropDuration:b,completed:f}))}else r(sm({completed:f}))}}else r(function(e){return{type:"DROP_PENDING",payload:e}}({reason:s}))}else e(a)}}},vm=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function jm(e){var t=e.onWindowScroll;var r=td(function(){t(vm())}),a=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(r),n=ad;function s(){return n!==ad}return{start:function(){s()&&od(!1),n=nd(window,[a])},stop:function(){s()||od(!1),r.cancel(),n(),n=ad},isActive:s}}var wm=function(e){var t=jm({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(r){t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r)&&t.stop(),e(r)}}},km=function(){var e=[];return{add:function(t){var r=setTimeout(function(){return function(t){var r=Td(e,function(e){return e.timerId===t});-1===r&&od(!1),e.splice(r,1)[0].callback()}(r)}),a={timerId:r,callback:t};e.push(a)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}},Nm=function(e,t){qu(),t(),zu()},_m=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Sm=function(e,t,r,a){if(e){var n=function(e){var t=!1,r=!1,a=setTimeout(function(){r=!0}),n=function(n){t||r||(t=!0,e(n),clearTimeout(a))};return n.wasCalled=function(){return t},n}(r);e(t,{announce:n}),n.wasCalled()||r(a(t))}else r(a(t))},Am=function(e,t){var r=function(e,t){var r=km(),a=null,n=function(r){a||od(!1),a=null,Nm(0,function(){return Sm(e().onDragEnd,r,t,xd)})};return{beforeCapture:function(t,r){a&&od(!1),Nm(0,function(){var a=e().onBeforeCapture;a&&a({draggableId:t,mode:r})})},beforeStart:function(t,r){a&&od(!1),Nm(0,function(){var a=e().onBeforeDragStart;a&&a(_m(t,r))})},start:function(n,s){a&&od(!1);var i=_m(n,s);a={mode:s,lastCritical:n,lastLocation:i.source,lastCombine:null},r.add(function(){Nm(0,function(){return Sm(e().onDragStart,i,t,gd)})})},update:function(n,s){var i=Ud(s),o=qd(s);a||od(!1);var l=!function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,a=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&a}(n,a.lastCritical);l&&(a.lastCritical=n);var c,d,u=(d=i,!(null==(c=a.lastLocation)&&null==d||null!=c&&null!=d&&c.droppableId===d.droppableId&&c.index===d.index));u&&(a.lastLocation=i);var m=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(a.lastCombine,o);if(m&&(a.lastCombine=o),l||u||m){var h=zl({},_m(n,a.mode),{combine:o,destination:i});r.add(function(){Nm(0,function(){return Sm(e().onDragUpdate,h,t,pd)})})}},flush:function(){a||od(!1),r.flush()},drop:n,abort:function(){if(a){var e=zl({},_m(a.lastCritical,a.mode),{combine:null,destination:null,reason:"CANCEL"});n(e)}}}}(e,t);return function(e){return function(t){return function(a){if("BEFORE_INITIAL_CAPTURE"!==a.type){if("INITIAL_PUBLISH"===a.type){var n=a.payload.critical;return r.beforeStart(n,a.payload.movementMode),t(a),void r.start(n,a.payload.movementMode)}if("DROP_COMPLETE"===a.type){var s=a.payload.completed.result;return r.flush(),t(a),void r.drop(s)}if(t(a),"FLUSH"!==a.type){var i=e.getState();"DRAGGING"===i.phase&&r.update(i.critical,i.impact)}else r.abort()}else r.beforeCapture(a.payload.draggableId,a.payload.movementMode)}}}},Cm=function(e){return function(t){return function(r){if("DROP_ANIMATION_FINISHED"===r.type){var a=e.getState();"DROP_ANIMATING"!==a.phase&&od(!1),e.dispatch(sm({completed:a.completed}))}else t(r)}}},Em=function(e){var t=null,r=null;return function(a){return function(n){if("FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type&&"DROP_ANIMATION_FINISHED"!==n.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),a(n),"DROP_ANIMATE"===n.type){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame(function(){r=null,t=nd(window,[s])})}}}},Om=function(e){return function(t){return function(r){if(t(r),"PUBLISH_WHILE_DRAGGING"===r.type){var a=e.getState();"DROP_PENDING"===a.phase&&(a.isWaiting||e.dispatch(im({reason:a.reason})))}}}},Pm=Ql,Tm=function(e){var t,r=e.dimensionMarshal,a=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,i=e.announce,o=e.autoScroller;return Jl(Ju,Pm(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),a=function(){throw new Error(Hl(15))},n={getState:r.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(e){return e(n)});return a=Ql.apply(void 0,s)(r.dispatch),(0,Re.A)((0,Re.A)({},r),{},{dispatch:a})}}}((t=n,function(){return function(e){return function(r){"INITIAL_PUBLISH"===r.type&&t.dragging(),"DROP_ANIMATE"===r.type&&t.dropping(r.payload.completed.result.reason),"FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type||t.resting(),e(r)}}}),function(e){return function(){return function(t){return function(r){"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)}}}}(r),function(e){return function(t){var r=t.getState,a=t.dispatch;return function(t){return function(n){if("LIFT"===n.type){var s=n.payload,i=s.id,o=s.clientSelection,l=s.movementMode,c=r();"DROP_ANIMATING"===c.phase&&a(sm({completed:c.completed})),"IDLE"!==r().phase&&od(!1),a({type:"FLUSH",payload:null}),a({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:l}});var d={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},u=e.startPublishing(d),m=u.critical,h=u.dimensions,g=u.viewport;a({type:"INITIAL_PUBLISH",payload:{critical:m,dimensions:h,clientSelection:o,movementMode:l,viewport:g}})}else t(n)}}}}(r),ym,Cm,Em,Om,function(e){return function(t){return function(r){return function(a){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(a))return e.stop(),void r(a);if("INITIAL_PUBLISH"===a.type){r(a);var n=t.getState();return"DRAGGING"!==n.phase&&od(!1),void e.start(n)}r(a),e.scroll(t.getState())}}}}(o),wm,function(e){var t=!1;return function(){return function(r){return function(a){if("INITIAL_PUBLISH"===a.type)return t=!0,e.tryRecordFocus(a.payload.critical.draggable.id),r(a),void e.tryRestoreFocusRecorded();if(r(a),t){if("FLUSH"===a.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===a.type){t=!1;var n=a.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(a),Am(s,i))))};var Lm=function(e){var t=e.scrollHeight,r=e.scrollWidth,a=e.height,n=e.width,s=yd({x:r,y:t},{x:n,y:a});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},Mm=function(){var e=document.documentElement;return e||od(!1),e},Im=function(){var e=Mm();return Lm({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Dm=function(e){var t=e.critical,r=e.scrollOptions,a=e.registry;qu();var n=function(){var e=vm(),t=Im(),r=e.y,a=e.x,n=Mm(),s=n.clientWidth,i=n.clientHeight;return{frame:qc({top:r,left:a,right:a+s,bottom:r+i}),scroll:{initial:e,current:e,max:t,diff:{value:fd,displacement:fd}}}}(),s=n.scroll.current,i=t.droppable,o=a.droppable.getAllByType(i.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(s,r)}),l=a.draggable.getAllByType(t.draggable.type).map(function(e){return e.getDimension(s)}),c={draggables:Dd(l),droppables:Id(o)};return zu(),{dimensions:c,critical:t,viewport:n}};function Rm(e,t,r){return r.descriptor.id!==t.id&&(r.descriptor.type===t.type&&"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode)}var Fm=function(e,t){var r=null,a=function(e){var t=e.registry,r=e.callbacks,a={additions:{},removals:{},modified:{}},n=null,s=function(){n||(r.collectionStarting(),n=requestAnimationFrame(function(){n=null,qu();var e=a,s=e.additions,i=e.removals,o=e.modified,l=Object.keys(s).map(function(e){return t.draggable.getById(e).getDimension(fd)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(o).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),d={additions:l,removals:Object.keys(i),modified:c};a={additions:{},removals:{},modified:{}},zu(),r.publish(d)}))};return{add:function(e){var t=e.descriptor.id;a.additions[t]=e,a.modified[e.descriptor.droppableId]=!0,a.removals[t]&&delete a.removals[t],s()},remove:function(e){var t=e.descriptor;a.removals[t.id]=!0,a.modified[t.droppableId]=!0,a.additions[t.id]&&delete a.additions[t.id],s()},stop:function(){n&&(cancelAnimationFrame(n),n=null,a={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),n=function(t){r||od(!1);var n=r.critical.draggable;"ADDITION"===t.type&&Rm(e,n,t.value)&&a.add(t.value),"REMOVAL"===t.type&&Rm(e,n,t.value)&&a.remove(t.value)},s={updateDroppableIsEnabled:function(a,n){e.droppable.exists(a)||od(!1),r&&t.updateDroppableIsEnabled({id:a,isEnabled:n})},updateDroppableIsCombineEnabled:function(a,n){r&&(e.droppable.exists(a)||od(!1),t.updateDroppableIsCombineEnabled({id:a,isCombineEnabled:n}))},scrollDroppable:function(t,a){r&&e.droppable.getById(t).callbacks.scroll(a)},updateDroppableScroll:function(a,n){r&&(e.droppable.exists(a)||od(!1),t.updateDroppableScroll({id:a,newScroll:n}))},startPublishing:function(t){r&&od(!1);var a=e.draggable.getById(t.draggableId),s=e.droppable.getById(a.descriptor.droppableId),i={draggable:a.descriptor,droppable:s.descriptor},o=e.subscribe(n);return r={critical:i,unsubscribe:o},Dm({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(r){a.stop();var t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),r.unsubscribe(),r=null}}};return s},Bm=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},Um=function(e){window.scrollBy(e.x,e.y)},qm=ed(function(e){return Rd(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),zm=function(e){var t=e.center,r=e.destination,a=e.droppables;if(r){var n=a[r];return n.frame?n:null}var s=function(e,t){var r=Ld(qm(t),function(t){return t.frame||od(!1),Eu(t.frame.pageMarginBox)(e)});return r}(t,a);return s},Hm=.25,Vm=.05,Gm=28,Wm=function(e){return Math.pow(e,2)},Km={stopDampeningAt:1200,accelerateAt:360},Jm=function(e){var t=e.startOfRange,r=e.endOfRange,a=e.current,n=r-t;return 0===n?0:(a-t)/n},Ym=Km.accelerateAt,$m=Km.stopDampeningAt,Qm=function(e){var t=e.distanceToEdge,r=e.thresholds,a=e.dragStartTime,n=e.shouldUseTimeDampening,s=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Gm;if(e===t.startScrollingFrom)return 1;var r=Jm({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=Gm*Wm(1-r);return Math.ceil(a)}(t,r);return 0===s?0:n?Math.max(function(e,t){var r=t,a=$m,n=Date.now()-r;if(n>=$m)return e;if(n<Ym)return 1;var s=Jm({startOfRange:Ym,endOfRange:a,current:n}),i=e*Wm(s);return Math.ceil(i)}(s,a),1):s},Zm=function(e){var t=e.container,r=e.distanceToEdges,a=e.dragStartTime,n=e.axis,s=e.shouldUseTimeDampening,i=function(e,t){return{startScrollingFrom:e[t.size]*Hm,maxScrollValueAt:e[t.size]*Vm}}(t,n);return r[n.end]<r[n.start]?Qm({distanceToEdge:r[n.end],thresholds:i,dragStartTime:a,shouldUseTimeDampening:s}):-1*Qm({distanceToEdge:r[n.start],thresholds:i,dragStartTime:a,shouldUseTimeDampening:s})},Xm=_d(function(e){return 0===e?0:e}),eh=function(e){var t=e.dragStartTime,r=e.container,a=e.subject,n=e.center,s=e.shouldUseTimeDampening,i={top:n.y-r.top,right:r.right-n.x,bottom:r.bottom-n.y,left:n.x-r.left},o=Zm({container:r,distanceToEdges:i,dragStartTime:t,axis:$d,shouldUseTimeDampening:s}),l=Zm({container:r,distanceToEdges:i,dragStartTime:t,axis:Qd,shouldUseTimeDampening:s}),c=Xm({x:l,y:o});if(vd(c,fd))return null;var d=function(e){var t=e.container,r=e.subject,a=e.proposedScroll,n=r.height>t.height,s=r.width>t.width;return s||n?s&&n?null:{x:s?0:a.x,y:n?0:a.y}:a}({container:r,subject:a,proposedScroll:c});return d?vd(d,fd)?null:d:null},th=_d(function(e){return 0===e?0:e>0?1:-1}),rh=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var r=t.current,a=t.max,n=t.change,s=bd(r,n),i={x:e(s.x,a.x),y:e(s.y,a.y)};return vd(i,fd)?null:i}}(),ah=function(e){var t=e.max,r=e.current,a=e.change,n={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},s=th(a),i=rh({max:n,current:r,change:s});return!i||(0!==s.x&&0===i.x||0!==s.y&&0===i.y)},nh=function(e,t){return ah({current:e.scroll.current,max:e.scroll.max,change:t})},sh=function(e,t){var r=e.frame;return!!r&&ah({current:r.scroll.current,max:r.scroll.max,change:t})},ih=function(e){var t=e.state,r=e.dragStartTime,a=e.shouldUseTimeDampening,n=e.scrollWindow,s=e.scrollDroppable,i=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,r=e.subject,a=e.center,n=e.dragStartTime,s=e.shouldUseTimeDampening,i=eh({dragStartTime:n,container:t.frame,subject:r,center:a,shouldUseTimeDampening:s});return i&&nh(t,i)?i:null}({dragStartTime:r,viewport:t.viewport,subject:o,center:i,shouldUseTimeDampening:a});if(l)return void n(l)}var c=zm({center:i,destination:Su(t.impact),droppables:t.dimensions.droppables});if(c){var d=function(e){var t=e.droppable,r=e.subject,a=e.center,n=e.dragStartTime,s=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var o=eh({dragStartTime:n,container:i.pageMarginBox,subject:r,center:a,shouldUseTimeDampening:s});return o&&sh(t,o)?o:null}({dragStartTime:r,droppable:c,subject:o,center:i,shouldUseTimeDampening:a});d&&s(c.descriptor.id,d)}},oh=function(e){var t=e.move,r=e.scrollDroppable,a=e.scrollWindow,n=function(e,t){if(!sh(e,t))return t;var a=function(e,t){var r=e.frame;return r&&sh(e,t)?rh({current:r.scroll.current,max:r.scroll.max,change:t}):null}(e,t);if(!a)return r(e.descriptor.id,t),null;var n=yd(t,a);return r(e.descriptor.id,n),yd(t,n)},s=function(e,t,r){if(!e)return r;if(!nh(t,r))return r;var n=function(e,t){if(!nh(e,t))return null;var r=e.scroll.max,a=e.scroll.current;return rh({current:a,max:r,change:t})}(t,r);if(!n)return a(r),null;var s=yd(r,n);return a(s),yd(r,s)};return function(e){var r=e.scrollJumpRequest;if(r){var a=Su(e.impact);a||od(!1);var i=n(e.dimensions.droppables[a],r);if(i){var o=e.viewport,l=s(e.isWindowScrollAllowed,o,i);l&&function(e,r){var a=bd(e.current.client.selection,r);t({client:a})}(e,l)}}}},lh=function(e){var t=e.scrollDroppable,r=e.scrollWindow,a=e.move,n=function(e){var t=e.scrollWindow,r=e.scrollDroppable,a=td(t),n=td(r),s=null,i=function(e){s||od(!1);var t=s,r=t.shouldUseTimeDampening,i=t.dragStartTime;ih({state:e,scrollWindow:a,scrollDroppable:n,dragStartTime:i,shouldUseTimeDampening:r})};return{start:function(e){qu(),s&&od(!1);var t=Date.now(),r=!1,a=function(){r=!0};ih({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a}),s={dragStartTime:t,shouldUseTimeDampening:r},zu(),r&&i(e)},stop:function(){s&&(a.cancel(),n.cancel(),s=null)},scroll:i}}({scrollWindow:r,scrollDroppable:t}),s=oh({move:a,scrollWindow:r,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&s(e):n.scroll(e))},start:n.start,stop:n.stop}},ch="data-rbd",dh=function(){var e=ch+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),uh=function(){var e=ch+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),mh=function(){var e=ch+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),hh={contextId:ch+"-scroll-container-context-id"},gh=function(e,t){return e.map(function(e){var r=e.styles[t];return r?e.selector+" { "+r+" }":""}).join(" ")},ph="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect,xh=function(){var e=document.querySelector("head");return e||od(!1),e},fh=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function bh(e,t){var r=Fc(function(){return function(e){var t,r=(t=e,function(e){return"["+e+'="'+t+'"]'}),a=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:r(dh.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),n=[function(){var e="\n      transition: "+mm.outOfTheWay+";\n    ";return{selector:r(uh.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),a,{selector:r(mh.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:gh(n,"always"),resting:gh(n,"resting"),dragging:gh(n,"dragging"),dropAnimating:gh(n,"dropAnimating"),userCancel:gh(n,"userCancel")}}(e)},[e]),a=(0,n.useRef)(null),s=(0,n.useRef)(null),i=Bc(ed(function(e){var t=s.current;t||od(!1),t.textContent=e}),[]),o=Bc(function(e){var t=a.current;t||od(!1),t.textContent=e},[]);ph(function(){(a.current||s.current)&&od(!1);var n=fh(t),l=fh(t);return a.current=n,s.current=l,n.setAttribute(ch+"-always",e),l.setAttribute(ch+"-dynamic",e),xh().appendChild(n),xh().appendChild(l),o(r.always),i(r.resting),function(){var e=function(e){var t=e.current;t||od(!1),xh().removeChild(t),e.current=null};e(a),e(s)}},[t,o,i,r.always,r.resting,e]);var l=Bc(function(){return i(r.dragging)},[i,r.dragging]),c=Bc(function(e){i("DROP"!==e?r.userCancel:r.dropAnimating)},[i,r.dropAnimating,r.userCancel]),d=Bc(function(){s.current&&i(r.resting)},[i,r.resting]);return Fc(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d])}var yh=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function vh(e){return e instanceof yh(e).HTMLElement}function jh(e,t){var r="["+dh.contextId+'="'+e+'"]',a=Md(document.querySelectorAll(r));if(!a.length)return null;var n=Ld(a,function(e){return e.getAttribute(dh.draggableId)===t});return n&&vh(n)?n:null}function wh(){var e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach(function(t){return t(e)})}function a(t){return e.draggables[t]||null}function n(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:function(t,r){var a=e.draggables[r.descriptor.id];a&&a.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var n=t.descriptor.id,s=a(n);s&&t.uniqueId===s.uniqueId&&(delete e.draggables[n],r({type:"REMOVAL",value:t}))},getById:function(e){var t=a(e);return t||od(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return Pd(e.draggables).filter(function(e){return e.descriptor.type===t})}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var r=n(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=n(e);return t||od(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return Pd(e.droppables).filter(function(e){return e.descriptor.type===t})}},subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var kh=n.createContext(null),Nh=function(){var e=document.body;return e||od(!1),e},_h={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Sh=0,Ah={separator:"::"};function Ch(e,t){return void 0===t&&(t=Ah),Fc(function(){return""+e+t.separator+Sh++},[t.separator,e])}var Eh=n.createContext(null);function Oh(e){0}function Ph(e,t){Oh()}function Th(){Ph()}function Lh(e){var t=(0,n.useRef)(e);return(0,n.useEffect)(function(){t.current=e}),t}var Mh,Ih=((Mh={})[13]=!0,Mh[9]=!0,Mh),Dh=function(e){Ih[e.keyCode]&&e.preventDefault()},Rh=function(){var e="visibilitychange";return"undefined"===typeof document?e:Ld([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}();var Fh,Bh={type:"IDLE"};function Uh(e){var t=e.cancel,r=e.completed,a=e.getPhase,n=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,r=e.clientX,s=e.clientY;if(0===t){var i={x:r,y:s},o=a();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(i);"PENDING"!==o.type&&od(!1);var l=o.point;if(c=l,d=i,Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5){var c,d;e.preventDefault();var u=o.actions.fluidLift(i);n({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var n=a();"DRAGGING"===n.type?(e.preventDefault(),n.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===a().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==a().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Dh(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===a().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var r=a();"IDLE"===r.type&&od(!1),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Rh,fn:t}]}function qh(){}var zh=((Fh={})[34]=!0,Fh[33]=!0,Fh[36]=!0,Fh[35]=!0,Fh);function Hh(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:function(a){return 27===a.keyCode?(a.preventDefault(),void r()):32===a.keyCode?(a.preventDefault(),t(),void e.drop()):40===a.keyCode?(a.preventDefault(),void e.moveDown()):38===a.keyCode?(a.preventDefault(),void e.moveUp()):39===a.keyCode?(a.preventDefault(),void e.moveRight()):37===a.keyCode?(a.preventDefault(),void e.moveLeft()):void(zh[a.keyCode]?a.preventDefault():Dh(a))}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Rh,fn:r}]}var Vh={type:"IDLE"};var Gh={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Wh(e,t){if(null==t)return!1;if(Boolean(Gh[t.tagName.toLowerCase()]))return!0;var r=t.getAttribute("contenteditable");return"true"===r||""===r||t!==e&&Wh(e,t.parentElement)}function Kh(e,t){var r=t.target;return!!vh(r)&&Wh(e,r)}var Jh=function(e){return qc(e.getBoundingClientRect()).center};var Yh=function(){var e="matches";return"undefined"===typeof document?e:Ld([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function $h(e,t){return null==e?null:e[Yh](t)?e:$h(e.parentElement,t)}function Qh(e,t){return e.closest?e.closest(t):$h(e,t)}function Zh(e,t){var r,a=t.target;if(!((r=a)instanceof yh(r).Element))return null;var n=function(e){return"["+dh.contextId+'="'+e+'"]'}(e),s=Qh(a,n);return s&&vh(s)?s:null}function Xh(e){e.preventDefault()}function eg(e){var t=e.expected,r=e.phase,a=e.isLockActive;e.shouldWarn;return!!a()&&t===r}function tg(e){var t=e.lockAPI,r=e.store,a=e.registry,n=e.draggableId;if(t.isClaimed())return!1;var s=a.draggable.findById(n);return!!s&&(!!s.options.isEnabled&&!!Bm(r.getState(),n))}function rg(e){var t=e.lockAPI,r=e.contextId,a=e.store,n=e.registry,s=e.draggableId,i=e.forceSensorStop,o=e.sourceEvent;if(!tg({lockAPI:t,store:a,registry:n,draggableId:s}))return null;var l=n.draggable.getById(s),c=function(e,t){var r="["+uh.contextId+'="'+e+'"]',a=Ld(Md(document.querySelectorAll(r)),function(e){return e.getAttribute(uh.id)===t});return a&&vh(a)?a:null}(r,l.descriptor.id);if(!c)return null;if(o&&!l.options.canDragInteractiveElements&&Kh(c,o))return null;var d=t.claim(i||ad),u="PRE_DRAG";function m(){return l.options.shouldRespectForcePress}function h(){return t.isActive(d)}var g=function(e,t){eg({expected:e,phase:u,isLockActive:h,shouldWarn:!0})&&a.dispatch(t())}.bind(null,"DRAGGING");function p(e){function r(){t.release(),u="COMPLETED"}function n(t,n){if(void 0===n&&(n={shouldBlockNextClick:!1}),e.cleanup(),n.shouldBlockNextClick){var s=nd(window,[{eventName:"click",fn:Xh,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(s)}r(),a.dispatch(im({reason:t}))}return"PRE_DRAG"!==u&&(r(),"PRE_DRAG"!==u&&od(!1)),a.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),u="DRAGGING",zl({isActive:function(){return eg({expected:"DRAGGING",phase:u,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(e){return n("DROP",e)},cancel:function(e){return n("CANCEL",e)}},e.actions)}var x={isActive:function(){return eg({expected:"PRE_DRAG",phase:u,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:function(e){var t=td(function(e){g(function(){return em({client:e})})});return zl({},p({liftActionArgs:{id:s,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return g(tm)},moveRight:function(){return g(am)},moveDown:function(){return g(rm)},moveLeft:function(){return g(nm)}};return p({liftActionArgs:{id:s,clientSelection:Jh(c),movementMode:"SNAP"},cleanup:ad,actions:e})},abort:function(){eg({expected:"PRE_DRAG",phase:u,isLockActive:h,shouldWarn:!0})&&t.release()}};return x}var ag=[function(e){var t=(0,n.useRef)(Bh),r=(0,n.useRef)(ad),a=Fc(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var a=e.findClosestDraggableId(t);if(a){var n=e.tryGetLock(a,o,{sourceEvent:t});if(n){t.preventDefault();var s={x:t.clientX,y:t.clientY};r.current(),d(n,s)}}}}}},[e]),s=Fc(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.findOptionsForDraggable(r);a&&(a.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}}}},[e]),i=Bc(function(){r.current=nd(window,[s,a],{passive:!1,capture:!0})},[s,a]),o=Bc(function(){"IDLE"!==t.current.type&&(t.current=Bh,r.current(),i())},[i]),l=Bc(function(){var e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[o]),c=Bc(function(){var e=Uh({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});r.current=nd(window,e,{capture:!0,passive:!1})},[l,o]),d=Bc(function(e,r){"IDLE"!==t.current.type&&od(!1),t.current={type:"PENDING",point:r,actions:e},c()},[c]);ph(function(){return i(),function(){r.current()}},[i])},function(e){var t=(0,n.useRef)(qh),r=Fc(function(){return{eventName:"keydown",fn:function(r){if(!r.defaultPrevented&&32===r.keyCode){var n=e.findClosestDraggableId(r);if(n){var s=e.tryGetLock(n,l,{sourceEvent:r});if(s){r.preventDefault();var i=!0,o=s.snapLift();t.current(),t.current=nd(window,Hh(o,l),{capture:!0,passive:!1})}}}function l(){i||od(!1),i=!1,t.current(),a()}}}},[e]),a=Bc(function(){t.current=nd(window,[r],{passive:!1,capture:!0})},[r]);ph(function(){return a(),function(){t.current()}},[a])},function(e){var t=(0,n.useRef)(Vh),r=(0,n.useRef)(ad),a=Bc(function(){return t.current},[]),s=Bc(function(e){t.current=e},[]),i=Fc(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var a=e.findClosestDraggableId(t);if(a){var n=e.tryGetLock(a,l,{sourceEvent:t});if(n){var s=t.touches[0],i={x:s.clientX,y:s.clientY};r.current(),m(n,i)}}}}}},[e]),o=Bc(function(){r.current=nd(window,[i],{capture:!0,passive:!1})},[i]),l=Bc(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),s(Vh),r.current(),o())},[o,s]),c=Bc(function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),d=Bc(function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:a},n=nd(window,function(e){var t=e.cancel,r=e.completed,a=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var r=a();if("DRAGGING"===r.type){r.hasMoved=!0;var n=e.touches[0],s={x:n.clientX,y:n.clientY};e.preventDefault(),r.actions.move(s)}else t()}},{eventName:"touchend",fn:function(e){var n=a();"DRAGGING"===n.type?(e.preventDefault(),n.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===a().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var r=a();"IDLE"===r.type&&od(!1);var n=e.touches[0];if(n&&n.force>=.15){var s=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return s?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();s&&t()}}},{eventName:Rh,fn:t}]}(t),e),s=nd(window,function(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Rh,fn:t}]}(t),e);r.current=function(){n(),s()}},[c,a,l]),u=Bc(function(){var e=a();"PENDING"!==e.type&&od(!1);var t=e.actions.fluidLift(e.point);s({type:"DRAGGING",actions:t,hasMoved:!1})},[a,s]),m=Bc(function(e,t){"IDLE"!==a().type&&od(!1);var r=setTimeout(u,120);s({type:"PENDING",point:t,actions:e,longPressTimerId:r}),d()},[d,a,s,u]);ph(function(){return o(),function(){r.current();var e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),s(Vh))}},[a,o,s]),ph(function(){return nd(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function ng(e){var t=e.contextId,r=e.store,a=e.registry,s=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?ag:[],s||[]),l=(0,n.useState)(function(){return function(){var e=null;function t(){e||od(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&od(!1);var r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],c=Bc(function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()},[l]);ph(function(){var e=r.getState();return r.subscribe(function(){var t=r.getState();c(e,t),e=t})},[l,r,c]),ph(function(){return l.tryAbandon},[l.tryAbandon]);var d=Bc(function(e){return tg({lockAPI:l,registry:a,store:r,draggableId:e})},[l,a,r]),u=Bc(function(e,n,s){return rg({lockAPI:l,registry:a,contextId:t,store:r,draggableId:e,forceSensorStop:n,sourceEvent:s&&s.sourceEvent?s.sourceEvent:null})},[t,l,a,r]),m=Bc(function(e){return function(e,t){var r=Zh(e,t);return r?r.getAttribute(dh.draggableId):null}(t,e)},[t]),h=Bc(function(e){var t=a.draggable.findById(e);return t?t.options:null},[a.draggable]),g=Bc(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))},[l,r]),p=Bc(l.isClaimed,[l]),x=Fc(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:m,findOptionsForDraggable:h,tryReleaseLock:g,isLockClaimed:p}},[d,u,m,h,g,p]);Oh();for(var f=0;f<o.length;f++)o[f](x)}function sg(e){return e.current||od(!1),e.current}function ig(e){var t=e.contextId,r=e.setCallbacks,a=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,o=(0,n.useRef)(null);Th();var l=Lh(e),c=Bc(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)},[l]),d=function(e){var t=Fc(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),r=(0,n.useRef)(null);return(0,n.useEffect)(function(){var e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),zl(e.style,_h),Nh().appendChild(e),function(){setTimeout(function(){var t=Nh();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)})}},[t]),Bc(function(e){var t=r.current;t&&(t.textContent=e)},[])}(t),u=function(e){var t=e.contextId,r=e.text,a=Ch("hidden-text",{separator:"-"}),s=Fc(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:a}).contextId+"-"+e.uniqueId;var e},[a,t]);return(0,n.useEffect)(function(){var e=document.createElement("div");return e.id=s,e.textContent=r,e.style.display="none",Nh().appendChild(e),function(){var t=Nh();t.contains(e)&&t.removeChild(e)}},[s,r]),s}({contextId:t,text:i}),m=bh(t,s),h=Bc(function(e){sg(o).dispatch(e)},[]),g=Fc(function(){return $l({publishWhileDragging:Yu,updateDroppableScroll:Qu,updateDroppableIsEnabled:Zu,updateDroppableIsCombineEnabled:Xu,collectionStarting:$u},h)},[h]),p=function(){var e=Fc(wh,[]);return(0,n.useEffect)(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),x=Fc(function(){return Fm(p,g)},[p,g]),f=Fc(function(){return lh(zl({scrollWindow:Um,scrollDroppable:x.scrollDroppable},$l({move:em},h)))},[x.scrollDroppable,h]),b=function(e){var t=(0,n.useRef)({}),r=(0,n.useRef)(null),a=(0,n.useRef)(null),s=(0,n.useRef)(!1),i=Bc(function(e,r){var a={id:e,focus:r};return t.current[e]=a,function(){var r=t.current;r[e]!==a&&delete r[e]}},[]),o=Bc(function(t){var r=jh(e,t);r&&r!==document.activeElement&&r.focus()},[e]),l=Bc(function(e,t){r.current===e&&(r.current=t)},[]),c=Bc(function(){a.current||s.current&&(a.current=requestAnimationFrame(function(){a.current=null;var e=r.current;e&&o(e)}))},[o]),d=Bc(function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(dh.draggableId)===e&&(r.current=e)},[]);return ph(function(){return s.current=!0,function(){s.current=!1;var e=a.current;e&&cancelAnimationFrame(e)}},[]),Fc(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l])}(t),y=Fc(function(){return Tm({announce:d,autoScroller:f,dimensionMarshal:x,focusMarshal:b,getResponders:c,styleMarshal:m})},[d,f,x,b,c,m]);o.current=y;var v=Bc(function(){var e=sg(o);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),j=Bc(function(){var e=sg(o).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);r(Fc(function(){return{isDragging:j,tryAbort:v}},[j,v]));var w=Bc(function(e){return Bm(sg(o).getState(),e)},[]),k=Bc(function(){return Cu(sg(o).getState())},[]),N=Fc(function(){return{marshal:x,focus:b,contextId:t,canLift:w,isMovementAllowed:k,dragHandleUsageInstructionsId:u,registry:p}},[t,x,u,b,w,k,p]);return ng({contextId:t,store:y,registry:p,customSensors:a,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,n.useEffect)(function(){return v},[v]),n.createElement(Eh.Provider,{value:N},n.createElement(nc,{context:kh,store:y},e.children))}var og=0;function lg(e){var t=Fc(function(){return""+og++},[]),r=e.dragHandleUsageInstructions||hd;return n.createElement(ld,null,function(a){return n.createElement(ig,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var cg=function(e){return function(t){return e===t}},dg=cg("scroll"),ug=cg("auto"),mg=(cg("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),hg=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return mg(r,dg)||mg(r,ug)}(t)?t:e(t.parentElement)},gg=function(e){return{x:e.scrollLeft,y:e.scrollTop}},pg=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},xg=function(e){return{closestScrollable:hg(e),isFixedOnPage:pg(e)}},fg=function(e){var t=e.ref,r=e.descriptor,a=e.env,n=e.windowScroll,s=e.direction,i=e.isDropDisabled,o=e.isCombineEnabled,l=e.shouldClipSubject,c=a.closestScrollable,d=function(e,t){var r=$c(e);if(!t)return r;if(e!==t)return r;var a=r.paddingBox.top-t.scrollTop,n=r.paddingBox.left-t.scrollLeft,s=a+t.scrollHeight,i=n+t.scrollWidth,o=zc({top:a,right:i,bottom:s,left:n},r.border);return Gc({borderBox:o,margin:r.margin,border:r.border,padding:r.padding})}(t,c),u=Jc(d,n),m=function(){if(!c)return null;var e=$c(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:Jc(e,n),scroll:gg(c),scrollSize:t,shouldClipSubject:l}}(),h=function(e){var t=e.descriptor,r=e.isEnabled,a=e.isCombineEnabled,n=e.isFixedOnPage,s=e.direction,i=e.client,o=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,r=Lm({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:r,diff:{value:fd,displacement:fd}}}}(),d="vertical"===s?$d:Qd;return{descriptor:t,isCombineEnabled:a,isFixedOnPage:n,axis:d,isEnabled:r,client:i,page:o,frame:c,subject:Ed({page:o,withPlaceholder:null,axis:d,frame:c})}}({descriptor:r,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:a.isFixedOnPage,direction:s,client:d,page:u,closest:m});return h},bg={passive:!1},yg={passive:!0},vg=function(e){return e.shouldPublishImmediately?bg:yg};function jg(e){var t=(0,n.useContext)(e);return t||od(!1),t}var wg=function(e){return e&&e.env.closestScrollable||null};function kg(){}var Ng={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},_g=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,a=e.animate,n=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,a=e.animate;return t||"close"===a?Ng:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}}({isAnimatingOpenOnMount:t,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==a?mm.placeholder:null}};var Sg=n.memo(function(e){var t=(0,n.useRef)(null),r=Bc(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),a=e.animate,s=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=(0,n.useState)("open"===e.animate),c=l[0],d=l[1];(0,n.useEffect)(function(){return c?"open"!==a?(r(),d(!1),kg):t.current?kg:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):kg},[a,c,r]);var u=Bc(function(e){"height"===e.propertyName&&(s(),"close"===a&&i())},[a,i,s]),m=_g({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return n.createElement(e.placeholder.tagName,{style:m,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}),Ag=n.createContext(null);var Cg=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ql(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(n.PureComponent),Eg=5e3,Og=4500,Pg=function(e,t){return t?mm.drop(t.duration):e?mm.snap:mm.fluid},Tg=function(e,t){return e?t?cm.drop:cm.combining:null};function Lg(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,r=e.offset,a=e.combineWith,n=e.dropping,s=Boolean(a),i=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),o=Boolean(n),l=o?pm(r,s):gm(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Pg(i,n),transform:l,opacity:Tg(s,o),zIndex:o?Og:Eg,pointerEvents:"none"}}(e):{transform:gm((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function Mg(e){var t=Ch("draggable"),r=e.descriptor,a=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Fc(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=Bc(function(e){var t=s();return t||od(!1),function(e,t,r){void 0===r&&(r=fd);var a=window.getComputedStyle(t),n=t.getBoundingClientRect(),s=Yc(n,a),i=Jc(s,r);return{descriptor:e,placeholder:{client:s,tagName:t.tagName.toLowerCase(),display:a.display},displaceBy:{x:s.marginBox.width,y:s.marginBox.height},client:s,page:i}}(r,t,e)},[r,s]),u=Fc(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:d}},[r,d,c,t]),m=(0,n.useRef)(u),h=(0,n.useRef)(!0);ph(function(){return a.draggable.register(m.current),function(){return a.draggable.unregister(m.current)}},[a.draggable]),ph(function(){if(h.current)h.current=!1;else{var e=m.current;m.current=u,a.draggable.update(u,e)}},[u,a.draggable])}function Ig(e,t,r){Ph()}function Dg(e){e.preventDefault()}var Rg=function(e,t){return e===t},Fg=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null};function Bg(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Ug={mapped:{type:"SECONDARY",offset:fd,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Bg(null)}};var qg=Ic(function(){var e=function(){var e=ed(function(e,t){return{x:e,y:t}}),t=ed(function(e,t,r,a,n){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(n),dropAnimation:n,mode:e,draggingOver:r,combineWith:a,combineTargetFor:null}}),r=ed(function(e,r,a,n,s,i,o){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:i,mode:r,offset:e,dimension:a,forceShouldAnimate:o,snapshot:t(r,n,s,i,null)}}});return function(a,n){if(a.isDragging){if(a.critical.draggable.id!==n.draggableId)return null;var s=a.current.client.offset,i=a.dimensions.draggables[n.draggableId],o=Su(a.impact),l=(d=a.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,c=a.forceShouldAnimate;return r(e(s.x,s.y),a.movementMode,i,n.isClone,o,l,c)}var d;if("DROP_ANIMATING"===a.phase){var u=a.completed;if(u.result.draggableId!==n.draggableId)return null;var m=n.isClone,h=a.dimensions.draggables[n.draggableId],g=u.result,p=g.mode,x=Fg(g),f=function(e){return e.combine?e.combine.draggableId:null}(g),b={duration:a.dropDuration,curve:lm,moveTo:a.newHomeClientOffset,opacity:f?cm.drop:null,scale:f?dm.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:h,dropping:b,draggingOver:x,combineWith:f,mode:p,forceShouldAnimate:null,snapshot:t(p,m,x,f,b)}}}return null}}(),t=function(){var e=ed(function(e,t){return{x:e,y:t}}),t=ed(Bg),r=ed(function(e,r,a){return void 0===r&&(r=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:a,snapshot:t(r)}}}),a=function(e){return e?r(fd,e,!0):null},n=function(t,n,s,i){var o=s.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),c=qd(s),d=c&&c.draggableId===t?n:null;if(!o){if(!l)return a(d);if(s.displaced.invisible[t])return null;var u=jd(i.displacedBy.point),m=e(u.x,u.y);return r(m,d,!0)}if(l)return a(d);var h=s.displacedBy.point,g=e(h.x,h.y);return r(g,d,o.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:n(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var r=e.completed;return r.result.draggableId===t.draggableId?null:n(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return function(r,a){return e(r,a)||t(r,a)||Ug}},{dropAnimationFinished:om},null,{context:kh,pure:!0,areStatePropsEqual:Rg})(function(e){var t=(0,n.useRef)(null),r=Bc(function(e){t.current=e},[]),a=Bc(function(){return t.current},[]),s=jg(Eh),i=s.contextId,o=s.dragHandleUsageInstructionsId,l=s.registry,c=jg(Ag),d=c.type,u=c.droppableId,m=Fc(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),h=e.children,g=e.draggableId,p=e.isEnabled,x=e.shouldRespectForcePress,f=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,v=e.dropAnimationFinished;Ig(),Oh(),b||Mg(Fc(function(){return{descriptor:m,registry:l,getDraggableRef:a,canDragInteractiveElements:f,shouldRespectForcePress:x,isEnabled:p}},[m,l,a,f,x,p]));var j=Fc(function(){return p?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":g,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Dg}:null},[i,o,g,p]),w=Bc(function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&v()},[v,y]),k=Fc(function(){var e=Lg(y),t="DRAGGING"===y.type&&y.dropping?w:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":g,style:e,onTransitionEnd:t},dragHandleProps:j}},[i,j,g,y,w,r]),N=Fc(function(){return{draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}},[m.droppableId,m.id,m.index,m.type]);return h(k,y.snapshot,N)});function zg(e){return jg(Ag).isUsingCloneFor!==e.draggableId||e.isClone?n.createElement(qg,e):null}function Hg(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return n.createElement(zg,zl({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:a}))}var Vg=function(e,t){return e===t.droppable.type},Gg=function(e,t){return t.draggables[e.draggable.id]};var Wg={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||od(!1),document.body}},Kg=Ic(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=zl({},e,{shouldAnimatePlaceholder:!1}),r=ed(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),a=ed(function(a,n,s,i,o,l){var c=o.descriptor.id;if(o.descriptor.droppableId===a){var d=l?{render:l,dragging:r(o.descriptor)}:null,u={isDraggingOver:s,draggingOverWith:s?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:d}}if(!n)return t;if(!i)return e;var m={isDraggingOver:s,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return function(r,n){var s=n.droppableId,i=n.type,o=!n.isDropDisabled,l=n.renderClone;if(r.isDragging){var c=r.critical;if(!Vg(i,c))return t;var d=Gg(c,r.dimensions),u=Su(r.impact)===s;return a(s,o,u,u,d,l)}if("DROP_ANIMATING"===r.phase){var m=r.completed;if(!Vg(i,m.critical))return t;var h=Gg(m.critical,r.dimensions);return a(s,o,Fg(m.result)===s,Su(m.impact)===s,h,l)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){var g=r.completed;if(!Vg(i,g.critical))return t;var p=Su(g.impact)===s,x=Boolean(g.impact.at&&"COMBINE"===g.impact.at.type),f=g.critical.droppable.id===s;return p?x?e:t:f?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:kh,pure:!0,areStatePropsEqual:Rg})(function(e){var t=(0,n.useContext)(Eh);t||od(!1);var r=t.contextId,a=t.isMovementAllowed,s=(0,n.useRef)(null),i=(0,n.useRef)(null),l=e.children,c=e.droppableId,d=e.type,u=e.mode,m=e.direction,h=e.ignoreContainerClipping,g=e.isDropDisabled,p=e.isCombineEnabled,x=e.snapshot,f=e.useClone,b=e.updateViewportMaxScroll,y=e.getContainerForClone,v=Bc(function(){return s.current},[]),j=Bc(function(e){s.current=e},[]),w=(Bc(function(){return i.current},[]),Bc(function(e){i.current=e},[]));Ph();var k=Bc(function(){a()&&b({maxScroll:Im()})},[a,b]);!function(e){var t=(0,n.useRef)(null),r=jg(Eh),a=Ch("droppable"),s=r.registry,i=r.marshal,o=Lh(e),l=Fc(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=(0,n.useRef)(l),d=Fc(function(){return ed(function(e,r){t.current||od(!1);var a={x:e,y:r};i.updateDroppableScroll(l.id,a)})},[l.id,i]),u=Bc(function(){var e=t.current;return e&&e.env.closestScrollable?gg(e.env.closestScrollable):fd},[]),m=Bc(function(){var e=u();d(e.x,e.y)},[u,d]),h=Fc(function(){return td(m)},[m]),g=Bc(function(){var e=t.current,r=wg(e);e&&r||od(!1),e.scrollOptions.shouldPublishImmediately?m():h()},[h,m]),p=Bc(function(e,a){t.current&&od(!1);var n=o.current,s=n.getDroppableRef();s||od(!1);var i=xg(s),c={ref:s,descriptor:l,env:i,scrollOptions:a};t.current=c;var d=fg({ref:s,descriptor:l,env:i,windowScroll:e,direction:n.direction,isDropDisabled:n.isDropDisabled,isCombineEnabled:n.isCombineEnabled,shouldClipSubject:!n.ignoreContainerClipping}),u=i.closestScrollable;return u&&(u.setAttribute(hh.contextId,r.contextId),u.addEventListener("scroll",g,vg(c.scrollOptions))),d},[r.contextId,l,g,o]),x=Bc(function(){var e=t.current,r=wg(e);return e&&r||od(!1),gg(r)},[]),f=Bc(function(){var e=t.current;e||od(!1);var r=wg(e);t.current=null,r&&(h.cancel(),r.removeAttribute(hh.contextId),r.removeEventListener("scroll",g,vg(e.scrollOptions)))},[g,h]),b=Bc(function(e){var r=t.current;r||od(!1);var a=wg(r);a||od(!1),a.scrollTop+=e.y,a.scrollLeft+=e.x},[]),y=Fc(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:x,dragStopped:f,scroll:b}},[f,p,x,b]),v=Fc(function(){return{uniqueId:a,descriptor:l,callbacks:y}},[y,l,a]);ph(function(){return c.current=v.descriptor,s.droppable.register(v),function(){t.current&&f(),s.droppable.unregister(v)}},[y,l,f,v,i,s.droppable]),ph(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),ph(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}({droppableId:c,type:d,mode:u,direction:m,isDropDisabled:g,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:v});var N=n.createElement(Cg,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,a=e.data,s=e.animate;return n.createElement(Sg,{placeholder:a,onClose:t,innerRef:w,animate:s,contextId:r,onTransitionEnd:k})}),_=Fc(function(){return{innerRef:j,placeholder:N,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":r}}},[r,c,N,j]),S=f?f.dragging.draggableId:null,A=Fc(function(){return{droppableId:c,type:d,isUsingCloneFor:S}},[c,S,d]);return n.createElement(Ag.Provider,{value:A},l(_,x),function(){if(!f)return null;var e=f.dragging,t=f.render,r=n.createElement(zg,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(r,a){return t(r,a,e)});return o.createPortal(r,y())}())});Kg.defaultProps=Wg;const Jg=js("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Yg=e=>{let{isOpen:t,onClose:r,onSave:a,editingItem:s=null,availablePages:i=[],availableIcons:o=[]}=e;const[l,c]=(0,n.useState)({id:"",label:"",url:"",icon:"Star",roles:["admin","manager","seller","buyer"],target:"_self",position:0,type:"existing_page",enabled:!0}),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1);(0,n.useEffect)(()=>{c(s?(0,Re.A)({},s):{id:"custom_".concat(Date.now()),label:"",url:"",icon:"Star",roles:["admin","manager","seller","buyer"],target:"_self",position:0,type:"existing_page",enabled:!0})},[s,t]);return t?(0,ga.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s?"Edit Menu Item":"Add New Menu Item"}),(0,ga.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg",children:(0,ga.jsx)(Is,{className:"w-5 h-5"})})]}),(0,ga.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.label&&l.url?a(l):alert("Please fill in all required fields")},className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Item Type"}),(0,ga.jsxs)("div",{className:"flex space-x-4",children:[(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"radio",name:"type",value:"existing_page",checked:"existing_page"===l.type,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{type:e.target.value,url:""})),className:"text-blue-600"}),(0,ga.jsx)(li,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Existing App Page"})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"radio",name:"type",value:"custom_url",checked:"custom_url"===l.type,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{type:e.target.value,url:""})),className:"text-blue-600"}),(0,ga.jsx)(zi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Custom URL"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Label *"}),(0,ga.jsx)("input",{type:"text",required:!0,value:l.label,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{label:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Help Center, Documentation"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["existing_page"===l.type?"Select Page":"URL"," *"]}),"existing_page"===l.type?(0,ga.jsxs)("select",{required:!0,value:l.url,onChange:e=>{const t=i.find(t=>t.path===e.target.value);c(r=>(0,Re.A)((0,Re.A)({},r),{},{url:e.target.value,label:r.label||(null===t||void 0===t?void 0:t.label)||"",icon:r.icon||(null===t||void 0===t?void 0:t.icon)||"Star"}))},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,ga.jsx)("option",{value:"",children:"Select a page..."}),i.map(e=>(0,ga.jsxs)("option",{value:e.path,children:[e.label," (",e.path,")"]},e.path))]}):(0,ga.jsx)("input",{type:"url",required:!0,value:l.url,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"https://example.com or /internal-path"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Icon"}),(0,ga.jsx)("select",{value:l.icon,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{icon:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:o.map(e=>(0,ga.jsx)("option",{value:e,children:e},e))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Open Link"}),(0,ga.jsxs)("div",{className:"flex space-x-4",children:[(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"radio",name:"target",value:"_self",checked:"_self"===l.target,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{target:e.target.value})),className:"text-blue-600"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Same Window"})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"radio",name:"target",value:"_blank",checked:"_blank"===l.target,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{target:e.target.value})),className:"text-blue-600"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"New Window/Tab"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Position (Order)"}),(0,ga.jsx)("input",{type:"number",min:"0",value:l.position,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{position:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0 = first, higher number = later in menu"}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"0 = first position (default), higher numbers appear later in menu. You can also drag-and-drop to reorder."})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Visible to Roles"}),(0,ga.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["admin","manager","seller","buyer"].map(e=>(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:l.roles.includes(e),onChange:()=>(e=>{c(t=>(0,Re.A)((0,Re.A)({},t),{},{roles:t.roles.includes(e)?t.roles.filter(t=>t!==e):[...t.roles,e]}))})(e),className:"text-blue-600 focus:ring-blue-500"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:e})]},e))})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",id:"enabled",checked:l.enabled,onChange:e=>c(t=>(0,Re.A)((0,Re.A)({},t),{},{enabled:e.target.checked})),className:"text-blue-600 focus:ring-blue-500"}),(0,ga.jsx)("label",{htmlFor:"enabled",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enabled (visible in navigation)"})]}),(0,ga.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ga.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,ga.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s?"Update Item":"Add Item"})]})]})]})}):null},$g=()=>{const[e,t]=(0,n.useState)({desktop_menu:{},mobile_menu:{}}),[r,a]=(0,n.useState)(!0),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),[h,g]=(0,n.useState)("success"),[p,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),[y,v]=(0,n.useState)("desktop_menu"),[j,w]=(0,n.useState)([]),[k,N]=(0,n.useState)([]);(0,n.useEffect)(()=>{S(),A(),C()},[]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";m(e),g(t),d(!0),setTimeout(()=>d(!1),3e3)},S=async()=>{try{a(!0);const e=localStorage.getItem("cataloro_token"),r={"Content-Type":"application/json"};e&&(r.Authorization="Bearer ".concat(e));const n=await fetch("".concat("https://cataloro.com","/api/admin/menu-settings"),{headers:r});if(n.ok){const e=await n.json();t(e)}else{if(401!==n.status&&403!==n.status)throw new Error("Failed to load menu settings: ".concat(n.status));_("Access denied. Admin privileges required.","error")}}catch(e){console.error("Error loading menu settings:",e),_("Failed to load menu settings","error")}finally{a(!1)}},A=async()=>{try{const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/available-pages"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();w(e.available_pages)}}catch(e){console.error("Error loading available pages:",e)}},C=async()=>{try{const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/available-icons"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();N(e.available_icons)}}catch(e){console.error("Error loading available icons:",e)}},E=r=>{if(!r.destination)return;const{source:a,destination:n,type:s}=r;if("CUSTOM_ITEMS"===s){var i;const r=a.droppableId,s=[...(null===(i=e[r])||void 0===i?void 0:i.custom_items)||[]],[o]=s.splice(a.index,1);s.splice(n.index,0,o);const c=s.map((e,t)=>(0,Re.A)((0,Re.A)({},e),{},{position:t}));t(e=>(0,Re.A)((0,Re.A)({},e),{},{[r]:(0,Re.A)((0,Re.A)({},e[r]),{},{custom_items:c})})),l(!0)}},O=(r,a,n)=>{const s=e[r]||{},i=s.custom_items||[];return(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,ga.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[n,(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a})]}),(0,ga.jsxs)("button",{onClick:()=>{v(r),x(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,ga.jsx)(ks,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Add Custom Item"})]})]})}),(0,ga.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Default Menu Items"}),(0,ga.jsx)("div",{className:"space-y-3",children:Object.entries(s).map(e=>{let[a,n]=e;return"custom_items"===a?null:(0,ga.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.label||a}),(0,ga.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(n.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:n.enabled?"Visible":"Hidden"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>((e,r)=>{t(t=>{var a;return(0,Re.A)((0,Re.A)({},t),{},{[e]:(0,Re.A)((0,Re.A)({},t[e]),{},{[r]:(0,Re.A)((0,Re.A)({},t[e][r]),{},{enabled:!(null!==(a=t[e][r])&&void 0!==a&&a.enabled)})})})}),l(!0)})(r,a),className:"p-2 rounded-lg transition-colors ".concat(n.enabled?"text-green-600 hover:bg-green-100":"text-red-600 hover:bg-red-100"),title:n.enabled?"Hide item":"Show item",children:n.enabled?(0,ga.jsx)(Xs,{className:"w-4 h-4"}):(0,ga.jsx)(ei,{className:"w-4 h-4"})}),(0,ga.jsx)("div",{className:"flex space-x-1",children:["admin","manager","seller","buyer"].map(e=>(0,ga.jsx)("button",{onClick:()=>((e,r,a)=>{t(t=>{var n;const s=(null===(n=t[e][r])||void 0===n?void 0:n.roles)||[],i=s.includes(a)?s.filter(e=>e!==a):[...s,a];return(0,Re.A)((0,Re.A)({},t),{},{[e]:(0,Re.A)((0,Re.A)({},t[e]),{},{[r]:(0,Re.A)((0,Re.A)({},t[e][r]),{},{roles:i})})})}),l(!0)})(r,a,e),className:"px-2 py-1 text-xs rounded ".concat((n.roles||[]).includes(e)?"bg-gray-300 text-gray-700":"bg-gray-200 text-gray-600"),title:"Toggle ".concat(e," access"),children:e.charAt(0).toUpperCase()},e))})]})]},a)})})]}),i.length>0&&(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Custom Menu Items"}),(0,ga.jsx)(lg,{onDragEnd:E,children:(0,ga.jsx)(Kg,{droppableId:r,type:"CUSTOM_ITEMS",children:e=>(0,ga.jsxs)("div",(0,Re.A)((0,Re.A)({},e.droppableProps),{},{ref:e.innerRef,className:"space-y-3",children:[i.map((e,a)=>(0,ga.jsx)(Hg,{draggableId:e.id,index:a,children:(a,n)=>(0,ga.jsx)("div",(0,Re.A)((0,Re.A)({ref:a.innerRef},a.draggableProps),{},{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 rounded-lg ".concat(n.isDragging?"shadow-lg":""),children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",(0,Re.A)((0,Re.A)({},a.dragHandleProps),{},{className:"text-gray-400 hover:text-gray-600 cursor-move",children:(0,ga.jsx)(Jg,{className:"w-4 h-4"})})),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:"custom_url"===e.type?"External":"Internal"}),(0,ga.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.enabled?"Visible":"Hidden"})]}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.url," | Position: ",e.position||0]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>{b(e),v(r),x(!0)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit item",children:(0,ga.jsx)(Qs,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:()=>((e,r)=>{window.confirm("Are you sure you want to delete this custom menu item?")&&(t(t=>{var a;return(0,Re.A)((0,Re.A)({},t),{},{[e]:(0,Re.A)((0,Re.A)({},t[e]),{},{custom_items:((null===(a=t[e])||void 0===a?void 0:a.custom_items)||[]).filter(e=>e.id!==r)})})}),l(!0),_("Custom menu item deleted","success"))})(r,e.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Delete item",children:(0,ga.jsx)(Zs,{className:"w-4 h-4"})})]})]})}))},e.id)),e.placeholder]}))})})]})]})]})};return r?(0,ga.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,ga.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading menu settings..."})}):(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Menu Settings"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage navigation menu items and add custom links"})]}),o&&(0,ga.jsxs)("div",{className:"flex space-x-3",children:[(0,ga.jsx)("button",{onClick:()=>{t({desktop_menu:{},mobile_menu:{}}),l(!1),S()},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Reset Changes"}),(0,ga.jsx)("button",{onClick:async()=>{try{i(!0);const t=localStorage.getItem("cataloro_token"),r={"Content-Type":"application/json"};t&&(r.Authorization="Bearer ".concat(t));const a=await fetch("".concat("https://cataloro.com","/api/admin/menu-settings"),{method:"POST",headers:r,body:JSON.stringify(e)});if(a.ok)_("Menu settings saved successfully","success"),l(!1);else{if(401!==a.status&&403!==a.status)throw new Error("Failed to save menu settings: ".concat(a.status));_("Access denied. Admin privileges required.","error")}}catch(t){console.error("Error saving menu settings:",t),_("Failed to save menu settings","error")}finally{i(!1)}},disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Changes"})]})]}),(0,ga.jsxs)("div",{className:"space-y-8",children:[O("desktop_menu","Desktop Menu",(0,ga.jsx)(li,{className:"w-5 h-5 text-gray-600"})),O("mobile_menu","Mobile Menu",(0,ga.jsx)(oi,{className:"w-5 h-5 text-gray-600"}))]}),(0,ga.jsx)(Yg,{isOpen:p,onClose:()=>{x(!1),b(null)},onSave:e=>{t(t=>{var r;const a=y,n=(null===(r=t[a])||void 0===r?void 0:r.custom_items)||[];let s;return s=f?n.map(t=>t.id===f.id?e:t):[...n,e],(0,Re.A)((0,Re.A)({},t),{},{[a]:(0,Re.A)((0,Re.A)({},t[a]),{},{custom_items:s})})}),l(!0),x(!1),b(null),_(f?"Custom menu item updated!":"Custom menu item added!","success")},editingItem:f,availablePages:j,availableIcons:k}),(0,ga.jsx)(ho,{show:c,message:u,type:h,onClose:()=>d(!1)})]})};const Qg=function(e){var t,r,a,s,i,o;let{showToast:l}=e;const[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0),[h,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>{p()},[]);const p=()=>{try{const e=localStorage.getItem("cataloro_footer_config");d(e?JSON.parse(e):x())}catch(e){console.error("Error loading footer config:",e),d(x())}finally{m(!1)}},x=()=>({enabled:!0,companyInfo:{name:"Cataloro",tagline:"Modern Marketplace for Everyone",description:"Discover, buy, and sell amazing products in our trusted marketplace. Connect with sellers worldwide and find exactly what you're looking for.",logo:"/logo.png"},contact:{email:"hello@cataloro.com",phone:"+1 (555) 123-4567",address:"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:"https://facebook.com/cataloro",twitter:"https://twitter.com/cataloro",instagram:"https://instagram.com/cataloro",linkedin:"https://linkedin.com/company/cataloro",youtube:"https://youtube.com/cataloro"},links:{about:[{label:"About Us",url:"/about"},{label:"Our Story",url:"/story"},{label:"Careers",url:"/careers"},{label:"Press",url:"/press"}],marketplace:[{label:"Browse Products",url:"/browse"},{label:"Sell on Cataloro",url:"/sell"},{label:"Seller Center",url:"/seller"}],support:[{label:"Help Center",url:"/help"},{label:"Contact Support",url:"/support"},{label:"Community",url:"/community"},{label:"Safety",url:"/safety"}],legal:[{label:"Privacy Policy",url:"/privacy"},{label:"Terms of Service",url:"/terms"},{label:"Cookie Policy",url:"/cookies"},{label:"Seller Agreement",url:"/seller-terms"}]},style:{backgroundColor:"#1f2937",textColor:"#ffffff",linkColor:"#60a5fa",borderColor:"#374151"}}),f=(e,t)=>{d(r=>(0,Re.A)((0,Re.A)({},r),{},{companyInfo:(0,Re.A)((0,Re.A)({},r.companyInfo),{},{[e]:t})}))},b=(e,t)=>{d(r=>(0,Re.A)((0,Re.A)({},r),{},{contact:(0,Re.A)((0,Re.A)({},r.contact),{},{[e]:t})}))},y=(e,t)=>{d(r=>(0,Re.A)((0,Re.A)({},r),{},{style:(0,Re.A)((0,Re.A)({},r.style),{},{[e]:t})}))},v=(e,t,r,a)=>{d(n=>(0,Re.A)((0,Re.A)({},n),{},{links:(0,Re.A)((0,Re.A)({},n.links),{},{[e]:n.links[e].map((e,n)=>n===t?(0,Re.A)((0,Re.A)({},e),{},{[r]:a}):e)})}))};return u?(0,ga.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ga.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Footer Display"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show or hide the footer on your site"})]}),(0,ga.jsxs)("button",{onClick:()=>{d(e=>(0,Re.A)((0,Re.A)({},e),{},{enabled:!e.enabled}))},className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ".concat(c.enabled?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400"),children:[c.enabled?(0,ga.jsx)(Xs,{className:"w-4 h-4"}):(0,ga.jsx)(ei,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:c.enabled?"Enabled":"Disabled"})]})]}),c&&c.enabled&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Company Information"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),(0,ga.jsx)("input",{type:"text",value:(null===(t=c.companyInfo)||void 0===t?void 0:t.name)||"",onChange:e=>f("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter company name"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tagline"}),(0,ga.jsx)("input",{type:"text",value:(null===(r=c.companyInfo)||void 0===r?void 0:r.tagline)||"",onChange:e=>f("tagline",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter company tagline"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,ga.jsx)("textarea",{rows:3,value:(null===(a=c.companyInfo)||void 0===a?void 0:a.description)||"",onChange:e=>f("description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter company description"})]})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Contact Information"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,ga.jsx)("input",{type:"email",value:(null===(s=c.contact)||void 0===s?void 0:s.email)||"",onChange:e=>b("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"contact@example.com"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),(0,ga.jsx)("input",{type:"text",value:(null===(i=c.contact)||void 0===i?void 0:i.phone)||"",onChange:e=>b("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"+1 (555) 123-4567"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),(0,ga.jsx)("input",{type:"text",value:(null===(o=c.contact)||void 0===o?void 0:o.address)||"",onChange:e=>b("address",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"123 Main St, City, State 12345"})]})]})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Social Media Links"}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"facebook",label:"Facebook",icon:io},{key:"twitter",label:"Twitter",icon:oo},{key:"instagram",label:"Instagram",icon:lo},{key:"linkedin",label:"LinkedIn",icon:co},{key:"youtube",label:"YouTube",icon:uo}].map(e=>{var t;let{key:r,label:a,icon:n}=e;return(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)(n,{className:"w-5 h-5 text-gray-500"}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a}),(0,ga.jsx)("input",{type:"url",value:(null===(t=c.social)||void 0===t?void 0:t[r])||"",onChange:e=>((e,t)=>{d(r=>(0,Re.A)((0,Re.A)({},r),{},{social:(0,Re.A)((0,Re.A)({},r.social),{},{[e]:t})}))})(r,e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://".concat(r,".com/yourcompany")})]})]},r)})})]}),c&&c.links&&["about","marketplace","support","legal"].map(e=>(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white capitalize",children:[e," Links"]}),(0,ga.jsxs)("button",{onClick:()=>(e=>{d(t=>{var r;return(0,Re.A)((0,Re.A)({},t),{},{links:(0,Re.A)((0,Re.A)({},t.links),{},{[e]:[...(null===(r=t.links)||void 0===r?void 0:r[e])||[],{label:"",url:""}]})})})})(e),className:"flex items-center space-x-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:[(0,ga.jsx)(ks,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Add Link"})]})]}),(0,ga.jsx)("div",{className:"space-y-3",children:(c.links[e]||[]).map((t,r)=>(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[(0,ga.jsx)("input",{type:"text",value:t.label||"",onChange:t=>v(e,r,"label",t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Link Label"}),(0,ga.jsx)("input",{type:"text",value:t.url||"",onChange:t=>v(e,r,"url",t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"/path or https://example.com"})]}),(0,ga.jsx)("button",{onClick:()=>((e,t)=>{d(r=>{var a;return(0,Re.A)((0,Re.A)({},r),{},{links:(0,Re.A)((0,Re.A)({},r.links),{},{[e]:((null===(a=r.links)||void 0===a?void 0:a[e])||[]).filter((e,r)=>r!==t)})})})})(e,r),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:(0,ga.jsx)(Zs,{className:"w-4 h-4"})})]},r))})]},e)),c&&c.style&&(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Footer Styling"}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Background Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"color",value:c.style.backgroundColor||"#1f2937",onChange:e=>y("backgroundColor",e.target.value),className:"w-10 h-10 rounded-lg border border-gray-300 dark:border-gray-600"}),(0,ga.jsx)("input",{type:"text",value:c.style.backgroundColor||"#1f2937",onChange:e=>y("backgroundColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Text Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"color",value:c.style.textColor||"#ffffff",onChange:e=>y("textColor",e.target.value),className:"w-10 h-10 rounded-lg border border-gray-300 dark:border-gray-600"}),(0,ga.jsx)("input",{type:"text",value:c.style.textColor||"#ffffff",onChange:e=>y("textColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"color",value:c.style.linkColor||"#60a5fa",onChange:e=>y("linkColor",e.target.value),className:"w-10 h-10 rounded-lg border border-gray-300 dark:border-gray-600"}),(0,ga.jsx)("input",{type:"text",value:c.style.linkColor||"#60a5fa",onChange:e=>y("linkColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Border Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"color",value:c.style.borderColor||"#374151",onChange:e=>y("borderColor",e.target.value),className:"w-10 h-10 rounded-lg border border-gray-300 dark:border-gray-600"}),(0,ga.jsx)("input",{type:"text",value:c.style.borderColor||"#374151",onChange:e=>y("borderColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]})]}),(0,ga.jsx)("div",{className:"flex justify-end",children:(0,ga.jsxs)("button",{onClick:async()=>{g(!0);try{localStorage.setItem("cataloro_footer_config",JSON.stringify(c)),window.dispatchEvent(new CustomEvent("footerConfigUpdated",{detail:c})),l("Footer configuration saved successfully!","success")}catch(e){console.error("Error saving footer config:",e),l("Failed to save footer configuration","error")}finally{g(!1)}},disabled:h,className:"flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ".concat(h?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:[(0,ga.jsx)(sl,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:h?"Saving...":"Save Footer Configuration"})]})})]})};function Zg(e){let{dashboardData:t,loading:r}=e;const[a,s]=(0,n.useState)({}),[i,o]=(0,n.useState)("7d"),[l,c]=(0,n.useState)([]);(0,n.useEffect)(()=>{const e=setInterval(()=>{const e={timestamp:(new Date).toLocaleTimeString(),users:Math.floor(50*Math.random())+20,revenue:Math.floor(1e3*Math.random())+500,orders:Math.floor(10*Math.random())+5};c(t=>[...t.slice(-9),e])},6e4);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{if(t){const e=()=>{var e,r,a;const n="7d"===i?7:"30d"===i?30:90,s=[],o=[],l=[],c=[],d=(null===(e=t.kpis)||void 0===e?void 0:e.total_users)||0,u=(null===(r=t.kpis)||void 0===r?void 0:r.revenue)||0,m=(null===(a=t.kpis)||void 0===a?void 0:a.total_deals)||0,h=u/Math.max(n,1),g=Math.max(Math.floor(d/Math.max(3*n,1)),1);for(let t=n-1;t>=0;t--){const e=new Date;e.setDate(e.getDate()-t),s.push(e.toLocaleDateString("en-US",{month:"short",day:"numeric"}));const r=.4*Math.random()-.2,a=.4*Math.random()-.2;o.push(Math.max(1,Math.floor(g*(1+r)))),l.push(Math.max(0,Math.floor(h*(1+a)))),c.push(Math.max(0,Math.floor(m/n*(1+a))))}return{labels:s,userData:o,revenueData:l,orderData:c}};s(e())}},[t,i]);if(r||!t)return(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading comprehensive dashboard..."})]})});const{kpis:d,recent_activity:u}=t,m={userGrowth:(d.total_users||0)/Math.max(1,(d.total_users||1)-10)*100-100,revenueGrowth:d.growth_rate||0,conversionRate:(d.total_deals||0)/Math.max(1,d.total_users||1)*100,avgOrderValue:(d.revenue||0)/Math.max(1,d.total_deals||1)};return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-emerald-600 rounded-2xl p-8 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),(0,ga.jsx)("p",{className:"text-purple-100",children:"Comprehensive marketplace analytics and insights"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-lg border border-white/30 focus:border-white/50 focus:outline-none",children:[(0,ga.jsx)("option",{value:"7d",className:"text-gray-900",children:"Last 7 days"}),(0,ga.jsx)("option",{value:"30d",className:"text-gray-900",children:"Last 30 days"}),(0,ga.jsx)("option",{value:"90d",className:"text-gray-900",children:"Last 90 days"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,ga.jsx)("span",{className:"text-sm",children:"Live Data"})]})]})]})}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-800",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"p-3 bg-blue-500 rounded-xl",children:(0,ga.jsx)(ni,{className:"w-6 h-6 text-white"})}),(0,ga.jsxs)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full ".concat(m.userGrowth>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[m.userGrowth>0?"+":"",m.userGrowth.toFixed(1),"%"]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:(d.total_users||0).toLocaleString()}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total Users"}),(0,ga.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-400 mb-3",children:["+",Math.floor(5*Math.random())+2," new today"]}),(0,ga.jsx)("div",{className:"mt-3 bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:(0,ga.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"78%"}})}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"78% retention rate"})]})]}),(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-2xl p-6 border border-emerald-200 dark:border-emerald-800",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"p-3 bg-emerald-500 rounded-xl",children:(0,ga.jsx)(_s,{className:"w-6 h-6 text-white"})}),(0,ga.jsxs)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-green-700",children:["+",m.revenueGrowth.toFixed(1),"%"]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:["\u20ac",(d.revenue||0).toLocaleString()]}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total Revenue"}),(0,ga.jsxs)("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 mb-3",children:["\u20ac",Math.floor((d.revenue||0)/Math.max(1,d.total_deals||1)).toLocaleString()," avg/deal"]}),(0,ga.jsx)("div",{className:"mt-3 flex items-center space-x-1",children:[...Array(8)].map((e,t)=>(0,ga.jsx)("div",{className:"bg-emerald-300 w-1 rounded-full",style:{height:"".concat(20*Math.random()+10,"px")}},t))}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Monthly trend: \u2197 +12%"})]})]}),(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-2xl p-6 border border-orange-200 dark:border-orange-800",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"p-3 bg-orange-500 rounded-xl",children:(0,ga.jsx)(Ts,{className:"w-6 h-6 text-white"})}),(0,ga.jsx)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:"Live"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:(d.active_listings||0).toLocaleString()}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Active Listings"}),(0,ga.jsxs)("div",{className:"text-xs text-orange-600 dark:text-orange-400 mb-3",children:[(d.total_listings||0)-(d.active_listings||0)," inactive"]}),(0,ga.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-1",children:[(0,ga.jsx)("div",{className:"bg-green-400 h-2 rounded",title:"Active"}),(0,ga.jsx)("div",{className:"bg-yellow-400 h-2 rounded",title:"Pending"}),(0,ga.jsx)("div",{className:"bg-gray-400 h-2 rounded",title:"Inactive"})]}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round((d.active_listings||0)/Math.max(1,d.total_listings||1)*100),"% active rate"]})]})]}),(0,ga.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-800",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"p-3 bg-purple-500 rounded-xl",children:(0,ga.jsx)(Us,{className:"w-6 h-6 text-white"})}),(0,ga.jsx)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Excellent"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:[m.conversionRate.toFixed(1),"%"]}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Conversion Rate"}),(0,ga.jsxs)("div",{className:"text-xs text-purple-600 dark:text-purple-400 mb-3",children:[d.total_deals||0," successful deals"]}),(0,ga.jsx)("div",{className:"mt-3",children:(0,ga.jsx)("div",{className:"bg-purple-200 dark:bg-purple-800 rounded-full h-2",children:(0,ga.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(Math.min(m.conversionRate,100),"%")}})})}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Industry avg: 2.8%"})]})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,ga.jsx)(Xs,{className:"w-5 h-5 text-indigo-600"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(4.2*(d.total_users||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Page Views"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,ga.jsx)(xl,{className:"w-5 h-5 text-red-600"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"23.4%"}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Bounce Rate"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,ga.jsx)(Js,{className:"w-5 h-5 text-green-600"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"4m 32s"}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Avg Session"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ga.jsx)(oi,{className:"w-5 h-5 text-blue-600"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"67.2%"}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Mobile"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,ga.jsx)(Ns,{className:"w-5 h-5 text-yellow-600"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(3.7*(d.total_deals||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Messages"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow border",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,ga.jsx)(ko,{className:"w-5 h-5 text-purple-600"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(2.1*(d.total_users||0)).toLocaleString(void 0,{maximumFractionDigits:0})}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Searches"})]})]})})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ga.jsxs)("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsxs)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(mi,{className:"w-5 h-5 mr-2 text-green-500"}),"Live Activity Stream"]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping"}),(0,ga.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Live Updates"})]})]}),(0,ga.jsx)("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:null===u||void 0===u?void 0:u.map((e,t)=>(0,ga.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,ga.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ga.jsx)(mi,{className:"w-4 h-4 text-blue-600"})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.action}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,ga.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()}),(0,ga.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Priority: High"})]})]})]},t))})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,ga.jsxs)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ga.jsx)(fl,{className:"w-5 h-5 mr-2 text-green-500"}),"System Health"]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"CPU Usage"}),(0,ga.jsx)("span",{className:"text-sm text-green-600",children:"23%"})]}),(0,ga.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ga.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"23%"}})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Memory"}),(0,ga.jsx)("span",{className:"text-sm text-yellow-600",children:"67%"})]}),(0,ga.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ga.jsx)("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"67%"}})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Storage"}),(0,ga.jsx)("span",{className:"text-sm text-blue-600",children:"45%"})]}),(0,ga.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ga.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"45%"}})})]}),(0,ga.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"API Response"}),(0,ga.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Excellent"})]}),(0,ga.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"142ms"}),(0,ga.jsx)("div",{className:"text-xs text-gray-500",children:"Average response time"})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl p-8",children:[(0,ga.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center",children:"Quick Management Actions"}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ga.jsxs)("button",{onClick:async()=>{try{const{kpis:e}=t,r=["Metric,Value,Date","Total Users,".concat(e.total_users||0,",").concat((new Date).toISOString()),"Total Revenue,".concat(e.total_revenue||0,",").concat((new Date).toISOString()),"Active Listings,".concat(e.active_products||0,",").concat((new Date).toISOString()),"Growth Rate,".concat(e.growth_rate||0,"%,").concat((new Date).toISOString())].join("\n"),a=new Blob([r],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),s=URL.createObjectURL(a);n.setAttribute("href",s),n.setAttribute("download","dashboard-export-".concat((new Date).toISOString().split("T")[0],".csv")),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log("Data exported successfully")}catch(e){console.error("Export failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500",children:[(0,ga.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,ga.jsx)(Ys,{className:"w-6 h-6 text-purple-600"})}),(0,ga.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Export Data"})]}),(0,ga.jsxs)("button",{onClick:async()=>{try{window.location.reload()}catch(e){console.error("Refresh failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500",children:[(0,ga.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ga.jsx)(Qi,{className:"w-6 h-6 text-green-600"})}),(0,ga.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Refresh Stats"})]}),(0,ga.jsxs)("button",{onClick:async()=>{try{console.log("System backup initiated"),alert("System backup has been initiated successfully!")}catch(e){console.error("Backup failed:",e)}},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500",children:[(0,ga.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ga.jsx)(Ls,{className:"w-6 h-6 text-blue-600"})}),(0,ga.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"System Backup"})]}),(0,ga.jsxs)("button",{onClick:()=>{const{kpis:e,recent_activity:r}=t,a=window.open("","_blank");a.document.write('\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Cataloro Dashboard Report</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; }\n            .metric { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; display: flex; justify-content: space-between; }\n            .value { font-weight: bold; color: #333; }\n            .section { margin: 20px 0; }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <h1>Cataloro Marketplace Dashboard Report</h1>\n            <p>Generated on: '.concat((new Date).toLocaleString(),'</p>\n          </div>\n          \n          <div class="section">\n            <h2>Key Performance Indicators</h2>\n            <div class="metric"><span>Total Users:</span><span class="value">').concat((e.total_users||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Total Revenue:</span><span class="value">\u20ac').concat((e.total_revenue||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Active Listings:</span><span class="value">').concat((e.active_products||0).toLocaleString(),'</span></div>\n            <div class="metric"><span>Total Deals:</span><span class="value">').concat((e.total_deals||0).toLocaleString(),"</span></div>\n          </div>\n        </body>\n      </html>\n    ")),a.document.close()},className:"flex flex-col items-center space-y-3 p-6 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500",children:[(0,ga.jsx)("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-xl",children:(0,ga.jsx)(Bs,{className:"w-6 h-6 text-orange-600"})}),(0,ga.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"View Reports"})]})]})]})]})}function Xg(e){let{users:t,onUpdateUser:r,showToast:a}=e;const[s,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[p,x]=(0,n.useState)("all"),[f,b]=(0,n.useState)("all"),[y,v]=(0,n.useState)("all"),j=t.filter(e=>{var t,r,a;const n=(null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(h.toLowerCase()))||(null===(a=e.full_name)||void 0===a?void 0:a.toLowerCase().includes(h.toLowerCase())),s="all"===p||e.user_role===p||!e.user_role&&e.role===p,i="all"===f||"active"===f&&e.is_active||"inactive"===f&&!e.is_active,o="all"===y||e.registration_status===y||"Approved"===y&&!e.registration_status;return n&&s&&i&&o}),w=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||u;if(e&&0!==c.length){if(["delete","suspend","reject"].includes(e)){const t="delete"===e?"delete":"suspend"===e?"suspend":"reject";if(!window.confirm("Are you sure you want to ".concat(t," ").concat(c.length," users? This action cannot be undone.")))return}try{const t=await fetch("".concat("https://cataloro.com","/api/admin/users/bulk-action"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,user_ids:c})});if(t.ok){const n=await t.json(),{results:s}=n;s.success_count>0&&a("Successfully ".concat(e,"d ").concat(s.success_count," user").concat(1!==s.success_count?"s":""),"success"),s.failed_count>0&&(a("Failed to ".concat(e," ").concat(s.failed_count," user").concat(1!==s.failed_count?"s":""),"warning"),console.warn("Bulk action errors:",s.errors)),d([]),m(""),r()}else{const r=await t.json().catch(()=>({}));a("Failed to perform bulk ".concat(e,": ").concat(r.detail||"Unknown error"),"error")}}catch(t){console.error("Bulk action error:",t),a("Error performing bulk ".concat(e),"error")}}else a("No action selected or no users selected","warning")};return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ga.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ga.jsx)(ni,{className:"w-8 h-8 text-blue-500"})}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent flex items-center justify-center",children:t.length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Users"})]})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ga.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ga.jsx)(Yi,{className:"w-8 h-8 text-green-500"})}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>"Approved"===e.registration_status).length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Active Users"})]})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ga.jsx)("div",{className:"p-4 bg-purple-100/80 dark:bg-purple-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ga.jsx)(Ls,{className:"w-8 h-8 text-purple-500"})}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>"Admin"===e.user_role||"Admin-Manager"===e.user_role||!e.user_role&&"admin"===e.role).length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Admins"})]})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ga.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ga.jsx)(gl,{className:"w-8 h-8 text-red-500"})}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>"Rejected"===e.registration_status||!e.is_active).length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Suspended"})]})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ga.jsx)("div",{className:"p-4 bg-yellow-100/80 dark:bg-yellow-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ga.jsx)(Js,{className:"w-8 h-8 text-yellow-500"})}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>"Pending"===e.registration_status).length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Pending"})]})]})})]}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between space-y-6 xl:space-y-0",children:[(0,ga.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Users"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",placeholder:"Search by name, email, or username...",value:h,onChange:e=>g(e.target.value),className:"pl-10 cataloro-input w-full"})]})]}),(0,ga.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Role"}),(0,ga.jsxs)("select",{value:p,onChange:e=>x(e.target.value),className:"cataloro-input w-auto min-w-[140px]",children:[(0,ga.jsx)("option",{value:"all",children:"All Roles"}),(0,ga.jsx)("option",{value:"Admin",children:"Admin"}),(0,ga.jsx)("option",{value:"Admin-Manager",children:"Admin Manager"}),(0,ga.jsx)("option",{value:"User-Seller",children:"User Seller"}),(0,ga.jsx)("option",{value:"User-Buyer",children:"User Buyer"}),(0,ga.jsx)("option",{value:"admin",children:"Legacy Admin"}),(0,ga.jsx)("option",{value:"user",children:"Legacy User"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,ga.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"cataloro-input w-auto min-w-[120px]",children:[(0,ga.jsx)("option",{value:"all",children:"All Status"}),(0,ga.jsx)("option",{value:"active",children:"Active"}),(0,ga.jsx)("option",{value:"inactive",children:"Suspended"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Registration Status"}),(0,ga.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"cataloro-input w-auto min-w-[120px]",children:[(0,ga.jsx)("option",{value:"all",children:"All Status"}),(0,ga.jsx)("option",{value:"Pending",children:"Pending"}),(0,ga.jsx)("option",{value:"Approved",children:"Approved"}),(0,ga.jsx)("option",{value:"Rejected",children:"Rejected"})]})]})]})]})}),c.length>0&&(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6 border-2 border-blue-200 dark:border-blue-800 shadow-xl",children:[(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ga.jsx)("div",{className:"flex items-center space-x-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full animate-pulse"}),(0,ga.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[c.length," user",1!==c.length?"s":""," selected"]}),(0,ga.jsx)("div",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-sm font-medium rounded-full",children:"Ready for action"})]})}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,ga.jsxs)("button",{onClick:()=>w("activate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Activate selected users",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Activate"})]}),(0,ga.jsxs)("button",{onClick:()=>w("suspend"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Suspend selected users",children:[(0,ga.jsx)(gl,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Suspend"})]}),(0,ga.jsxs)("button",{onClick:()=>w("delete"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Delete selected users",children:[(0,ga.jsx)(Zs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,ga.jsxs)("button",{onClick:()=>w("approve"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Approve pending users",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Approve"})]}),(0,ga.jsxs)("button",{onClick:()=>w("reject"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Reject pending users",children:[(0,ga.jsx)(Is,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Reject"})]})]})]}),(0,ga.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center lg:justify-start",children:[(0,ga.jsxs)("button",{onClick:()=>{const e=t.filter(e=>c.includes(e.id)),r=[["ID","Name","Email","Role","Status","Registration Status"].join(","),...e.map(e=>[e.id,e.full_name||e.username,e.email,e.user_role||("admin"===e.role?"Admin":"User-Buyer"),e.is_active?"Active":"Suspended",e.registration_status||"Approved"].join(","))].join("\n"),n=new Blob([r],{type:"text/csv"}),s=window.URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download="selected_users_".concat((new Date).toISOString().split("T")[0],".csv"),i.click(),window.URL.revokeObjectURL(s),a("Exported ".concat(c.length," users to CSV"),"success")},className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",title:"Export selected users to CSV",children:[(0,ga.jsx)(Ys,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Export CSV"})]}),(0,ga.jsxs)("button",{onClick:()=>{d([]),m("")},className:"flex items-center space-x-2 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",title:"Clear selection",children:[(0,ga.jsx)(Is,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Clear Selection"})]})]})})]}),(0,ga.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Management"}),(0,ga.jsxs)("button",{onClick:()=>{i(null),l(!0)},className:"cataloro-button-primary flex items-center space-x-2",children:[(0,ga.jsx)(ks,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Create New User"})]})]}),(0,ga.jsx)("div",{className:"cataloro-card-glass overflow-hidden",children:(0,ga.jsx)("div",{className:"overflow-x-auto",children:(0,ga.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,ga.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-md",children:(0,ga.jsxs)("tr",{children:[(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:(0,ga.jsx)("input",{type:"checkbox",onChange:e=>{return t=e.target.checked,void d(t?j.map(e=>e.id):[]);var t},checked:c.length===j.length&&j.length>0,className:"admin-checkbox purple-theme"})}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Registration Status"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Active Status"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Verified"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Joined"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,ga.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(e=>{var t,n;return(0,ga.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsx)("input",{type:"checkbox",checked:c.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void d(a?[...c,r]:c.filter(e=>e!==r));var r,a},className:"admin-checkbox purple-theme"})}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white font-medium text-sm",children:(null===(t=e.full_name)||void 0===t?void 0:t.charAt(0))||(null===(n=e.username)||void 0===n?void 0:n.charAt(0))})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.full_name}),(0,ga.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email})]})]})}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsx)("div",{className:"space-y-1",children:(0,ga.jsx)("div",{className:"flex items-center space-x-2",children:(0,ga.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Admin"===e.user_role||"Admin-Manager"===e.user_role||!e.user_role&&"admin"===e.role?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"User-Seller"===e.user_role?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:e.user_role||("admin"===e.role?"Admin":"User-Buyer")})})})}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Approved"!==e.registration_status&&e.registration_status?"Pending"===e.registration_status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.registration_status||"APPROVED"}),"Pending"===e.registration_status&&(0,ga.jsxs)("div",{className:"flex space-x-1",children:[(0,ga.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/admin/users/").concat(e,"/approve"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok?(a("User approved successfully","success"),r()):a("Failed to approve user","error")}catch(t){a("Error approving user","error"),console.error("Approve user error:",t)}})(e.id),className:"p-1 text-green-600 hover:text-green-900 hover:bg-green-50 rounded transition-colors",title:"Approve User",children:(0,ga.jsx)(Yi,{className:"w-3 h-3"})}),(0,ga.jsx)("button",{onClick:()=>(async e=>{const t=prompt("Please provide a reason for rejection (optional):");if(null!==t)try{const n=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/admin/users/").concat(e,"/reject"),{method:"PUT",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({reason:t||"No reason provided"})})).ok?(a("User rejected successfully","success"),r()):a("Failed to reject user","error")}catch(n){a("Error rejecting user","error"),console.error("Reject user error:",n)}})(e.id),className:"p-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Reject User",children:(0,ga.jsx)(Is,{className:"w-3 h-3"})})]})]})}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:e.is_active?"ACTIVE":"SUSPENDED"})}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ".concat(e.verified?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"),children:e.verified?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-3 h-3 mr-1"}),"VERIFIED"]}):"UNVERIFIED"}),(0,ga.jsx)("button",{onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("cataloro_token"),s=await fetch("".concat("https://cataloro.com","/api/admin/users/").concat(e,"/verify"),{method:"PUT",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({verified:t})});if(s.ok){const e=await s.json();a(t?"User verified successfully":"User verification removed successfully","success"),e.listings_updated>0&&a("".concat(e.listings_updated," listings updated with new verification status"),"info"),r()}else{const e=await s.text();console.error("Toggle verification error:",e),a("Error updating user verification status","error")}}catch(n){a("Error updating user verification status","error"),console.error("Toggle verification error:",n)}})(e.id,!e.verified),className:"p-1 rounded transition-colors ".concat(e.verified?"text-red-600 hover:text-red-900 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/30":"text-blue-600 hover:text-blue-900 hover:bg-blue-50 dark:text-blue-400 dark:hover:text-blue-300 dark:hover:bg-blue-900/30"),title:e.verified?"Remove Verification":"Verify User",children:e.verified?(0,ga.jsx)(Is,{className:"w-3 h-3"}):(0,ga.jsx)(Yi,{className:"w-3 h-3"})})]})}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString()}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,ga.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>{i(e),l(!0)},className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit User",children:(0,ga.jsx)(Qs,{className:"w-4 h-4"})}),e.is_active?(0,ga.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/admin/users/").concat(e,"/suspend"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok?(a("User suspended successfully","success"),r()):a("Failed to suspend user","error")}catch(t){a("Error suspending user","error"),console.error("Suspend user error:",t)}})(e.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Suspend User",children:(0,ga.jsx)(gl,{className:"w-4 h-4"})}):(0,ga.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/admin/users/").concat(e,"/activate"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok?(a("User activated successfully","success"),r()):a("Failed to activate user","error")}catch(t){a("Error activating user","error"),console.error("Activate user error:",t)}})(e.id),className:"p-2 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"Activate User",children:(0,ga.jsx)(Yi,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const t=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/admin/users/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok?(a("User deleted successfully","success"),r()):a("Failed to delete user","error")}catch(t){a("Error deleting user","error"),console.error("Delete user error:",t)}})(e.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete User",children:(0,ga.jsx)(Zs,{className:"w-4 h-4"})})]})})]},e.id)})})]})})}),o&&(0,ga.jsx)(gp,{user:s,onClose:()=>{l(!1),i(null)},onSave:s?async e=>{try{const t=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/admin/users/").concat(e.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(a("User updated successfully","success"),l(!1),i(null),r()):a("Failed to update user","error")}catch(t){a("Error updating user","error"),console.error("Update user error:",t)}}:async e=>{try{const t=localStorage.getItem("cataloro_token"),n=await fetch("".concat("https://cataloro.com","/api/admin/users"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok)a("User created successfully","success"),l(!1),i(null),r();else{const e=await n.json();a(e.detail||"Failed to create user","error")}}catch(t){a("Error creating user","error"),console.error("Create user error:",t)}}})]})}function ep(e){let{showToast:t}=e;const[r,a]=(0,n.useState)({title:"Discover Amazing Products",description:"From electronics to fashion, find everything you need in one place",height:400,image_url:"",search_placeholder:"Search for anything you need...",display_mode:"boxed",background_type:"gradient",background_color:"#3B82F6",background_gradient_from:"#3B82F6",background_gradient_to:"#EC4899",background_image:"",gradient_opacity:.8,background_size:"cover",background_repeat:"no-repeat",background_position:"center"}),[s,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(""),[h,g]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{a(JSON.parse(e))}catch(t){console.error("Error loading hero content:",t)}},[]);const f=(e,t)=>{a(r=>(0,Re.A)((0,Re.A)({},r),{},{[e]:t}))},b=()=>{i(null),l(""),a(e=>(0,Re.A)((0,Re.A)({},e),{},{image_url:""})),t("Hero image removed","info")};return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,ga.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,ga.jsx)(Gs,{className:"w-8 h-8"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"text-3xl font-bold",children:"Hero Selection"}),(0,ga.jsx)("p",{className:"text-purple-100",children:"Customize the main hero section on the Browse page"})]})]})}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8",children:[(0,ga.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ga.jsx)(Qs,{className:"w-6 h-6 mr-3"}),"Edit Hero Content"]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Image (Optional)"}),(0,ga.jsxs)("div",{className:"space-y-4",children:[o||r.image_url?(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center overflow-hidden",children:(0,ga.jsx)("img",{src:o||r.image_url,alt:"Hero",className:"w-full h-full object-contain"})}),(0,ga.jsx)("button",{onClick:b,className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}):(0,ga.jsx)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(Ws,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,ga.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No image uploaded"})]})}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("label",{className:"inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-pointer transition-colors",children:[(0,ga.jsx)($s,{className:"w-4 h-4 mr-2"}),"Upload Hero Image",(0,ga.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void t("Please select an image file (PNG, JPG, etc.)","error");if(r.size>2097152)return void t("File size must be less than 2MB","error");i(r);const e=new FileReader;e.onload=e=>{const t=e.target.result;l(t),a(e=>(0,Re.A)((0,Re.A)({},e),{},{image_url:t}))},e.readAsDataURL(r),t("Hero image ready - click Save & Apply to update the Browse page","info")}},className:"hidden"})]}),(o||r.image_url)&&(0,ga.jsx)("button",{onClick:b,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Remove Image"})]})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Upload a PNG/JPG image to display above the hero title. Recommended size: 200x100px (max 2MB)"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Title"}),(0,ga.jsx)("input",{type:"text",value:r.title,onChange:e=>f("title",e.target.value),placeholder:"Enter the main headline for the hero section",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg font-semibold"}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This appears as the main headline on the Browse page (recommended: 3-8 words)"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Description"}),(0,ga.jsx)("textarea",{value:r.description,onChange:e=>f("description",e.target.value),placeholder:"Enter a compelling description that appears below the title",rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This description appears below the title (recommended: 10-25 words)"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Search Bar Placeholder Text"}),(0,ga.jsx)("input",{type:"text",value:r.search_placeholder,onChange:e=>f("search_placeholder",e.target.value),placeholder:"Enter the placeholder text for the search bar",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:'This text appears inside the search bar when it\'s empty (e.g., "Search for anything you need...")'})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Section Height"}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("input",{type:"range",min:"300",max:"800",step:"50",value:r.height||400,onChange:e=>f("height",parseInt(e.target.value)),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),(0,ga.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)("span",{children:"Compact (300px)"}),(0,ga.jsxs)("span",{className:"font-semibold text-purple-600 dark:text-purple-400 text-lg",children:["Current: ",r.height||400,"px"]}),(0,ga.jsx)("span",{children:"Extra Tall (800px)"})]}),(0,ga.jsx)("div",{className:"flex flex-wrap gap-2",children:[300,400,500,600,700,800].map(e=>(0,ga.jsxs)("button",{onClick:()=>f("height",e),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat((r.height||400)===e?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"px"]},e))})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Adjust the height of the hero section (300px = compact, 400px = standard, 600px+ = prominent)"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Display Mode"}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsx)("button",{onClick:()=>f("display_mode","boxed"),className:"p-4 border-2 rounded-lg transition-colors ".concat("boxed"===(r.display_mode||"boxed")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-full h-8 bg-gray-200 dark:bg-gray-600 rounded mb-2 mx-auto max-w-32"}),(0,ga.jsx)("span",{className:"text-sm font-medium",children:"Boxed"}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contained within margins"})]})}),(0,ga.jsx)("button",{onClick:()=>f("display_mode","full_width"),className:"p-4 border-2 rounded-lg transition-colors ".concat("full_width"===r.display_mode?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-full h-8 bg-gray-200 dark:bg-gray-600 rounded mb-2"}),(0,ga.jsx)("span",{className:"text-sm font-medium",children:"Full Width"}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Edge to edge display"})]})})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Choose how the hero section spans across the page"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Style"}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsx)("button",{onClick:()=>f("background_type","solid"),className:"p-4 border-2 rounded-lg transition-colors ".concat("solid"===r.background_type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-8 bg-blue-500 rounded mb-2 mx-auto"}),(0,ga.jsx)("span",{className:"text-sm font-medium",children:"Solid Color"})]})}),(0,ga.jsx)("button",{onClick:()=>f("background_type","gradient"),className:"p-4 border-2 rounded-lg transition-colors ".concat("gradient"===(r.background_type||"gradient")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded mb-2 mx-auto"}),(0,ga.jsx)("span",{className:"text-sm font-medium",children:"Gradient"})]})}),(0,ga.jsx)("button",{onClick:()=>f("background_type","image"),className:"p-4 border-2 rounded-lg transition-colors ".concat("image"===r.background_type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-8 bg-gray-300 dark:bg-gray-600 rounded mb-2 mx-auto flex items-center justify-center",children:(0,ga.jsx)("svg",{className:"w-6 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-7 3 4 2-2 3 5z",clipRule:"evenodd"})})}),(0,ga.jsx)("span",{className:"text-sm font-medium",children:"Image Only"})]})}),(0,ga.jsx)("button",{onClick:()=>f("background_type","image-gradient"),className:"p-4 border-2 rounded-lg transition-colors ".concat("image-gradient"===r.background_type?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-500/70 to-purple-500/70 rounded mb-2 mx-auto flex items-center justify-center relative",children:(0,ga.jsx)("svg",{className:"w-6 h-4 text-white relative z-10",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ga.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-7 3 4 2-2 3 5z",clipRule:"evenodd"})})}),(0,ga.jsx)("span",{className:"text-sm font-medium",children:"Image + Gradient"})]})})]})]}),"solid"===r.background_type&&(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("input",{type:"color",value:r.background_color||"#3B82F6",onChange:e=>f("background_color",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,ga.jsx)("input",{type:"text",value:r.background_color||"#3B82F6",onChange:e=>f("background_color",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#3B82F6"})]})]}),("gradient"===r.background_type||"image-gradient"===r.background_type||!r.background_type)&&(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Gradient From Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("input",{type:"color",value:r.background_gradient_from||"#3B82F6",onChange:e=>f("background_gradient_from",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,ga.jsx)("input",{type:"text",value:r.background_gradient_from||"#3B82F6",onChange:e=>f("background_gradient_from",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#3B82F6"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Gradient To Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("input",{type:"color",value:r.background_gradient_to||"#EC4899",onChange:e=>f("background_gradient_to",e.target.value),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer"}),(0,ga.jsx)("input",{type:"text",value:r.background_gradient_to||"#EC4899",onChange:e=>f("background_gradient_to",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"#EC4899"})]})]})]}),("image"===r.background_type||"image-gradient"===r.background_type)&&(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Image"}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(Ws,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ga.jsxs)("div",{className:"mt-4",children:[(0,ga.jsxs)("label",{htmlFor:"background-image-upload",className:"cursor-pointer",children:[(0,ga.jsx)("span",{className:"mt-2 block text-sm font-medium text-gray-900 dark:text-white",children:"Upload Background Image"}),(0,ga.jsx)("span",{className:"mt-1 block text-sm text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),(0,ga.jsx)("input",{id:"background-image-upload",type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void t("Please select an image file (PNG, JPG, etc.)","error");if(r.size>5242880)return void t("File size must be less than 5MB","error");d(r);const e=new FileReader;e.onload=e=>{const t=e.target.result;m(t),a(e=>(0,Re.A)((0,Re.A)({},e),{},{background_image:t}))},e.readAsDataURL(r),t("Background image ready - click Save & Apply to update the Browse page","info")}}})]}),(0,ga.jsx)("div",{className:"mt-4",children:(0,ga.jsxs)("button",{type:"button",onClick:()=>document.getElementById("background-image-upload").click(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[(0,ga.jsx)($s,{className:"w-4 h-4 mr-2"}),"Choose File"]})})]})}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ga.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,ga.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ga.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"or"})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Background Image URL"}),(0,ga.jsx)("input",{type:"url",value:r.background_image||"",onChange:e=>f("background_image",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=800"})]}),r.background_image&&(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("img",{src:r.background_image,alt:"Background Preview",className:"w-full h-32 object-cover rounded-lg",onError:()=>t("Failed to load background image","error")}),(0,ga.jsx)("button",{onClick:()=>f("background_image",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Quick Select Stock Images:"}),(0,ga.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=800&fit=crop&crop=center","https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=800&fit=crop&crop=center"].map((e,t)=>(0,ga.jsxs)("button",{onClick:()=>f("background_image",e),className:"relative group",children:[(0,ga.jsx)("img",{src:e,alt:"Stock ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-purple-600/0 group-hover:bg-purple-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ga.jsx)(Yi,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Overlay Opacity"}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.gradient_opacity||.8,onChange:e=>f("gradient_opacity",parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),(0,ga.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)("span",{children:"Transparent (0%)"}),(0,ga.jsxs)("span",{className:"font-medium",children:[Math.round(100*(r.gradient_opacity||.8)),"%"]}),(0,ga.jsx)("span",{children:"Opaque (100%)"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"image"===r.background_type?"Controls the darkness of the overlay on the background image":"Controls the opacity of the gradient overlay on the background image"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Background Image Styling"}),(0,ga.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Image Size"}),(0,ga.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,ga.jsx)("button",{onClick:()=>f("background_size","cover"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("cover"===(r.background_size||"cover")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-8 h-6 bg-blue-500 rounded mb-1 mx-auto"}),(0,ga.jsx)("span",{className:"font-medium",children:"Cover"}),(0,ga.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Fill area"})]})}),(0,ga.jsx)("button",{onClick:()=>f("background_size","contain"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("contain"===r.background_size?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded border-2 border-gray-300 mb-1 mx-auto"}),(0,ga.jsx)("span",{className:"font-medium",children:"Contain"}),(0,ga.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Fit image"})]})}),(0,ga.jsx)("button",{onClick:()=>f("background_size","auto"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("auto"===r.background_size?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded mb-1 mx-auto"}),(0,ga.jsx)("span",{className:"font-medium",children:"Auto"}),(0,ga.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Original"})]})})]})]}),(0,ga.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Image Repeat"}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ga.jsx)("button",{onClick:()=>f("background_repeat","no-repeat"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("no-repeat"===(r.background_repeat||"no-repeat")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded mb-1 mx-auto"}),(0,ga.jsx)("span",{className:"font-medium",children:"No Repeat"})]})}),(0,ga.jsx)("button",{onClick:()=>f("background_repeat","repeat"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("repeat"===r.background_repeat?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-px w-6 h-6 mx-auto mb-1",children:[(0,ga.jsx)("div",{className:"bg-blue-500 rounded-tl"}),(0,ga.jsx)("div",{className:"bg-blue-500 rounded-tr"}),(0,ga.jsx)("div",{className:"bg-blue-500 rounded-bl"}),(0,ga.jsx)("div",{className:"bg-blue-500 rounded-br"})]}),(0,ga.jsx)("span",{className:"font-medium",children:"Repeat"})]})}),(0,ga.jsx)("button",{onClick:()=>f("background_repeat","repeat-x"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("repeat-x"===r.background_repeat?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsxs)("div",{className:"flex gap-px w-8 h-4 mx-auto mb-1",children:[(0,ga.jsx)("div",{className:"bg-blue-500 rounded-l flex-1"}),(0,ga.jsx)("div",{className:"bg-blue-500 flex-1"}),(0,ga.jsx)("div",{className:"bg-blue-500 rounded-r flex-1"})]}),(0,ga.jsx)("span",{className:"font-medium",children:"Repeat X"})]})}),(0,ga.jsx)("button",{onClick:()=>f("background_repeat","repeat-y"),className:"p-3 border-2 rounded-lg text-sm transition-colors ".concat("repeat-y"===r.background_repeat?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 text-gray-700 dark:text-gray-300"),children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsxs)("div",{className:"flex flex-col gap-px w-4 h-8 mx-auto mb-1",children:[(0,ga.jsx)("div",{className:"bg-blue-500 rounded-t flex-1"}),(0,ga.jsx)("div",{className:"bg-blue-500 flex-1"}),(0,ga.jsx)("div",{className:"bg-blue-500 rounded-b flex-1"})]}),(0,ga.jsx)("span",{className:"font-medium",children:"Repeat Y"})]})})]})]}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Image Position"}),(0,ga.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,ga.jsx)("button",{onClick:()=>f("background_position","top-left"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("top-left"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Top Left"}),(0,ga.jsx)("button",{onClick:()=>f("background_position","top"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("top"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Top"}),(0,ga.jsx)("button",{onClick:()=>f("background_position","top-right"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("top-right"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Top Right"}),(0,ga.jsx)("button",{onClick:()=>f("background_position","left"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("left"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Left"}),(0,ga.jsx)("button",{onClick:()=>f("background_position","center"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("center"===(r.background_position||"center")?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Center"}),(0,ga.jsx)("button",{onClick:()=>f("background_position","right"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("right"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Right"}),(0,ga.jsx)("button",{onClick:()=>f("background_position","bottom-left"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("bottom-left"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Bottom Left"}),(0,ga.jsx)("button",{onClick:()=>f("background_position","bottom"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("bottom"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Bottom"}),(0,ga.jsx)("button",{onClick:()=>f("background_position","bottom-right"),className:"p-2 border-2 rounded text-xs transition-colors ".concat("bottom-right"===r.background_position?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:"Bottom Right"})]})]})]})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8",children:[(0,ga.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ga.jsx)(Xs,{className:"w-6 h-6 mr-3"}),"Live Preview"]}),(0,ga.jsxs)("div",{className:"relative text-white overflow-hidden w-full rounded-2xl",style:{height:"".concat(r.height||400,"px"),minHeight:"300px",background:(()=>{const e=(e,t)=>{const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!r)return e;const a=parseInt(r[1],16),n=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba(".concat(a,", ").concat(n,", ").concat(s,", ").concat(t,")")},t=r.gradient_opacity||.8;switch(r.background_type){case"gradient":return"linear-gradient(to right, ".concat(r.background_gradient_from||"#3f6ec7",", ").concat(r.background_gradient_to||"#ec4899",")");case"solid":return r.background_color||"#3B82F6";case"image":return r.background_image?"linear-gradient(rgba(0,0,0,".concat(.5*t,"), rgba(0,0,0,").concat(.5*t,")), url(").concat(r.background_image,")"):"linear-gradient(to right, #3f6ec7, #a855f7, #ec4899)";case"image-gradient":const a=e(r.background_gradient_from||"#3f6ec7",t),n=e(r.background_gradient_to||"#ec4899",t);return r.background_image?"linear-gradient(to right, ".concat(a,", ").concat(n,"), url(").concat(r.background_image,")"):"linear-gradient(to right, ".concat(r.background_gradient_from||"#3f6ec7",", ").concat(r.background_gradient_to||"#ec4899",")");default:return"linear-gradient(to right, #3B82F6, #EC4899)"}})(),backgroundSize:"image"===r.background_type||"image-gradient"===r.background_type?r.background_size||"cover":"auto",backgroundPosition:"image"===r.background_type||"image-gradient"===r.background_type?r.background_position||"center":"auto",backgroundRepeat:("image"===r.background_type||"image-gradient"===r.background_type)&&r.background_repeat||"no-repeat",borderRadius:"full_width"===r.display_mode?"0":"1rem",marginLeft:"full_width"===r.display_mode?"-2rem":"0",marginRight:"full_width"===r.display_mode?"-2rem":"0"},children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,ga.jsxs)("div",{className:"relative z-10 text-center flex flex-col justify-center h-full px-8",children:[(o||r.image_url)&&(0,ga.jsx)("div",{className:"mb-6 flex justify-center",children:(0,ga.jsx)("img",{src:o||r.image_url,alt:"Hero",className:"max-h-24 max-w-48 object-contain"})}),(0,ga.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:r.title||"Enter your title above"}),(0,ga.jsx)("p",{className:"text-xl mb-8 opacity-90",children:r.description||"Enter your description above"}),(0,ga.jsx)("div",{className:"w-full",children:(0,ga.jsx)("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 max-w-4xl mx-auto",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(ko,{className:"absolute left-6 text-white/70 w-6 h-6"}),(0,ga.jsx)("input",{type:"text",placeholder:r.search_placeholder||"Search for anything you need...",className:"w-full pl-16 pr-4 py-4 bg-transparent text-white placeholder-white/70 text-lg focus:outline-none",disabled:!0}),(0,ga.jsx)("div",{className:"flex-shrink-0 px-8 py-4 bg-white/20 backdrop-blur-sm text-white rounded-xl font-semibold",children:"Search"})]})})})]})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4 text-center",children:"\u2191 This is exactly how your hero section will appear on the Browse page"})]}),(0,ga.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h4",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[(0,ga.jsx)(sl,{className:"w-6 h-6 mr-2"}),"Save Hero Content"]}),(0,ga.jsx)("p",{className:"text-green-100",children:"Apply changes to the Browse page hero section. Changes take effect immediately."})]}),(0,ga.jsxs)("div",{className:"flex space-x-4",children:[(0,ga.jsxs)("button",{onClick:()=>{g(!h),h||t("\ud83d\udc41\ufe0f Preview mode enabled - see how it will look on the Browse page","info")},className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-medium",children:[(0,ga.jsx)(Xs,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Preview on Browse Page"})]}),(0,ga.jsx)("button",{onClick:async()=>{try{let e=(0,Re.A)({},r);if(s){t("Uploading hero image...","info");const r=new FormData;r.append("image",s),r.append("section","hero"),r.append("field","image");const a=await fetch("".concat("https://cataloro.com","/api/admin/upload-image"),{method:"POST",body:r});if(!a.ok)throw new Error("Failed to upload hero image");{const t=await a.json();e.image_url="".concat("https://cataloro.com").concat(t.imageUrl)}}if(c){t("Uploading background image...","info");const r=new FormData;r.append("image",c),r.append("section","hero"),r.append("field","background");const a=await fetch("".concat("https://cataloro.com","/api/admin/upload-image"),{method:"POST",body:r});if(!a.ok)throw new Error("Failed to upload background image");{const t=await a.json();e.background_image="".concat("https://cataloro.com").concat(t.imageUrl)}}localStorage.setItem("cataloro_hero_content",JSON.stringify(e)),a(e),i(null),d(null),l(""),m(""),window.dispatchEvent(new CustomEvent("heroContentUpdated",{detail:e})),t("\u2705 Hero content saved successfully! Changes are live on the Browse page.","success"),x(!0),setTimeout(()=>x(!1),3e3)}catch(e){console.error("Save error:",e),t("\u274c Failed to save hero content: "+e.message,"error")}},className:"flex items-center space-x-2 backdrop-blur-sm text-white px-8 py-3 rounded-xl font-bold border transition-all duration-200 ".concat(p?"bg-green-500/30 hover:bg-green-500/40 border-green-400/30":"bg-white/20 hover:bg-white/30 border-white/20"),children:p?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Settings Saved!"})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(sl,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Save & Apply"})]})})]})]})})]})}function tp(e){let{settings:t,onUpdateSettings:r,showToast:a}=e;const[s,i]=(0,n.useState)(t),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(""),[h,g]=(0,n.useState)("");(0,n.useEffect)(()=>{i(t)},[t]);const p=e=>{i((0,Re.A)((0,Re.A)({},s),{},{[e.target.name]:e.target.value}))},x=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void a("Please select an image file","error");if(r.size>2097152)return void a("File size must be less than 2MB","error");"light"===t?l(r):d(r);const e=new FileReader;e.onload=e=>{const r=e.target.result;"light"===t?(m(r),i(e=>(0,Re.A)((0,Re.A)({},e),{},{logo_light_url:r}))):(g(r),i(e=>(0,Re.A)((0,Re.A)({},e),{},{logo_dark_url:r})))},e.readAsDataURL(r),a("".concat("light"===t?"Light":"Dark"," mode logo ready - click Save Settings to apply"),"info")}},f=e=>{const t=document.querySelector(".header-logo img, .header-logo"),r=e.logo_light_url||e.logo_url,a=e.logo_dark_url||e.logo_url;if(t&&("IMG"===t.tagName&&(t.src=r||"/favicon.ico",t.alt=e.site_name||"Cataloro"),r&&a)){const e=document.getElementById("dynamic-logo-style")||document.createElement("style");e.id="dynamic-logo-style",e.textContent="\n          .header-logo img {\n            content: url('".concat(r,"');\n          }\n          .dark .header-logo img {\n            content: url('").concat(a,"');\n          }\n        "),document.head.appendChild(e)}if(e.site_name){const t=document.querySelector(".site-name, .header-title");t&&(t.textContent=e.site_name),document.title=e.site_name||"Cataloro"}if(r){const e=document.querySelector('link[rel="icon"]')||document.createElement("link");e.rel="icon",e.href=r,document.head.appendChild(e)}};return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Site Branding"}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Site Logos (Light & Dark Mode)"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded mr-2"}),"Light Mode Logo"]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("div",{className:"w-20 h-20 bg-white border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center overflow-hidden",children:u||s.logo_light_url||s.logo_url?(0,ga.jsx)("img",{src:u||s.logo_light_url||s.logo_url,alt:"Light Logo",className:"w-full h-full object-contain"}):(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(Ws,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,ga.jsx)("span",{className:"text-xs text-gray-400",children:"Light"})]})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("label",{className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition-colors text-sm",children:[(0,ga.jsx)($s,{className:"w-4 h-4 mr-2"}),"Upload Light Logo",(0,ga.jsx)("input",{type:"file",accept:"image/*",onChange:e=>x(e,"light"),className:"hidden"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For light backgrounds"})]})]})]}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)("div",{className:"w-4 h-4 bg-gray-800 border border-gray-600 rounded mr-2"}),"Dark Mode Logo"]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("div",{className:"w-20 h-20 bg-gray-800 border-2 border-dashed border-gray-600 rounded-xl flex items-center justify-center overflow-hidden",children:h||s.logo_dark_url?(0,ga.jsx)("img",{src:h||s.logo_dark_url,alt:"Dark Logo",className:"w-full h-full object-contain"}):(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(Ws,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,ga.jsx)("span",{className:"text-xs text-gray-400",children:"Dark"})]})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("label",{className:"inline-flex items-center px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-pointer transition-colors text-sm",children:[(0,ga.jsx)($s,{className:"w-4 h-4 mr-2"}),"Upload Dark Logo",(0,ga.jsx)("input",{type:"file",accept:"image/*",onChange:e=>x(e,"dark"),className:"hidden"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For dark backgrounds"})]})]})]})]}),(0,ga.jsx)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,ga.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ga.jsx)("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",children:"\ud83d\udca1"}),(0,ga.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,ga.jsx)("strong",{children:"Logo Usage:"})," Upload both logos for automatic theme switching. Light logo shows on light backgrounds, dark logo shows on dark backgrounds. Recommended size: 200x60px or similar aspect ratio."]})]})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Name"}),(0,ga.jsx)("input",{type:"text",name:"site_name",value:s.site_name||"Cataloro",onChange:p,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter site name"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Description"}),(0,ga.jsx)("textarea",{name:"site_description",rows:3,value:s.site_description||"Modern Marketplace",onChange:p,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Enter site description"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Theme Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"relative",children:(0,ga.jsx)("input",{type:"color",name:"theme_color",value:s.theme_color||"#3B82F6",onChange:p,className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer bg-transparent"})}),(0,ga.jsx)("input",{type:"text",name:"theme_color",value:s.theme_color||"#3B82F6",onChange:p,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"#3B82F6"}),(0,ga.jsx)("div",{className:"w-12 h-12 rounded-lg border border-gray-300 dark:border-gray-600",style:{backgroundColor:s.theme_color||"#3B82F6"}})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Platform Configuration"}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"User Registration"}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ga.jsx)("input",{type:"checkbox",name:"allow_registration",checked:s.allow_registration||!0,onChange:e=>i((0,Re.A)((0,Re.A)({},s),{},{allow_registration:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ga.jsxs)("div",{className:"ml-3",children:[(0,ga.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Allow new user registration"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable public user registration on the platform"})]})]}),(0,ga.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ga.jsx)("input",{type:"checkbox",name:"require_approval",checked:s.require_approval||!1,onChange:e=>i((0,Re.A)((0,Re.A)({},s),{},{require_approval:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ga.jsxs)("div",{className:"ml-3",children:[(0,ga.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Require admin approval"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"New users need admin approval before accessing the platform"})]})]}),(0,ga.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ga.jsx)("input",{type:"checkbox",name:"email_notifications",checked:s.email_notifications||!0,onChange:e=>i((0,Re.A)((0,Re.A)({},s),{},{email_notifications:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ga.jsxs)("div",{className:"ml-3",children:[(0,ga.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Email notifications"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Send email notifications for important events"})]})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Marketplace Features"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commission Rate (%)"}),(0,ga.jsx)("input",{type:"number",name:"commission_rate",value:s.commission_rate||5,onChange:p,min:"0",max:"50",step:"0.1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max File Size (MB)"}),(0,ga.jsx)("input",{type:"number",name:"max_file_size",value:s.max_file_size||10,onChange:p,min:"1",max:"100",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Footer Configuration"}),(0,ga.jsx)(Qg,{showToast:a})]}),(0,ga.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h4",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[(0,ga.jsx)(sl,{className:"w-6 h-6 mr-2"}),"Save Site Branding"]}),(0,ga.jsx)("p",{className:"text-green-100",children:"Apply all branding changes including logos to the site header. Changes take effect immediately."}),(0,ga.jsx)("div",{className:"mt-2 text-sm text-green-100",children:"\u2713 Site Name & Description \u2022 \u2713 Light & Dark Mode Logos \u2022 \u2713 Theme Colors \u2022 \u2713 Platform Settings"})]}),(0,ga.jsxs)("button",{onClick:async()=>{try{localStorage.setItem("cataloro_site_branding",JSON.stringify(s)),window.dispatchEvent(new CustomEvent("brandingUpdated")),f(s),await _l.updateSettings(s),a("\u2705 Site branding saved and applied successfully! Logos now visible in header.","success"),r()}catch(e){f(s),a("\u2705 Site branding applied locally! Changes visible in header.","success")}},className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-xl font-bold shadow-lg border border-white/20",children:[(0,ga.jsx)(sl,{className:"w-6 h-6"}),(0,ga.jsx)("span",{className:"text-lg",children:"Save & Apply Changes"})]})]})})]})}function rp(e){var t,r,a,s;let{siteConfig:i,handleConfigChange:o,showToast:l}=e;const[c,d]=n.useState("browse"),[u,m]=n.useState(!1),[h,g]=n.useState(!1),p=(e,t,r)=>{var a,n,s,l,c;(console.log("\ud83d\udd27 Updating ad config: ".concat(e,".").concat(t," = ").concat(r)),"notificationUsers"===t||"notificationMethods"===t)&&console.log("\ud83d\udd0d ".concat(e," notification config update:"),{field:t,value:r,currentUsers:(null===(a=i.adsManager)||void 0===a||null===(n=a[e])||void 0===n||null===(s=n.notificationUsers)||void 0===s?void 0:s.length)||0,currentMethods:(null===(l=i.adsManager)||void 0===l||null===(c=l[e])||void 0===c?void 0:c.notificationMethods)||[]});const d=(0,Re.A)((0,Re.A)({},i.adsManager),{},{[e]:(0,Re.A)((0,Re.A)({},i.adsManager[e]),{},{[t]:r})});console.log("\ud83d\udd27 New adsManager:",d),o("adsManager",d)},x=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image";try{console.log("\ud83d\udd27 Starting image upload for ".concat(e,".").concat(r));const a=new FormData;a.append("image",t),a.append("section","ads_".concat(e)),a.append("field",r);const n=localStorage.getItem("cataloro_token"),s=await fetch("".concat("https://cataloro.com","/api/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:a});if(!s.ok){const e=await s.text();throw console.error("Upload response error:",e),new Error("Upload failed: ".concat(s.status))}{const t=await s.json();console.log("\ud83d\udd27 Upload successful, result:",t);const a=t.url||t.imageUrl;if(!a)throw new Error("No image URL in response");{p(e,r,a);const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");t.adsManager||(t.adsManager={}),t.adsManager[e]||(t.adsManager[e]={}),t.adsManager[e][r]=a,t.adsManager[e].active=!1!==t.adsManager[e].active,t.adsManager[e].description=t.adsManager[e].description||"Advertisement",t.adsManager[e].runtime=t.adsManager[e].runtime||"1 month","browsePageAd"===e?(t.adsManager[e].width=t.adsManager[e].width||"300px",t.adsManager[e].height=t.adsManager[e].height||"600px"):"favoriteAd"===e?(t.adsManager[e].width=t.adsManager[e].width||"100%",t.adsManager[e].height=t.adsManager[e].height||"200px"):"messengerAd"===e&&(t.adsManager[e].width=t.adsManager[e].width||"250px",t.adsManager[e].height=t.adsManager[e].height||"400px"),t.adsManager[e].url=t.adsManager[e].url||"",t.adsManager[e].clicks=t.adsManager[e].clicks||0,localStorage.setItem("cataloro_site_config",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:t.adsManager})),l("".concat("logo"===r?"Logo":"Image"," uploaded and activated successfully!"),"success"),console.log("\ud83d\udd27 Image URL set and saved for ".concat(e,".").concat(r,":"),a),console.log("\ud83d\udd27 Updated localStorage config:",t)}}}catch(a){console.error("Image upload error:",a),l("Failed to upload image. Please try again.","error")}},f=[{id:"browse",label:"Browse Page Ad's",icon:Ts},{id:"favorite",label:"Favorite Ad's",icon:As},{id:"messenger",label:"Messenger Ad's",icon:Ns},{id:"footer",label:"Footer Ad's",icon:bl}],b=[{value:"1 minute",label:"1 Minute (Testing)"},{value:"5 minutes",label:"5 Minutes (Testing)"},{value:"1 hour",label:"1 Hour"},{value:"1 day",label:"1 Day"},{value:"1 week",label:"1 Week"},{value:"1 month",label:"1 Month"},{value:"3 months",label:"3 Months"},{value:"1 year",label:"1 Year"},{value:"custom",label:"\u23f1\ufe0f Custom Duration"}];return(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-6 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Ad's Manager"}),(0,ga.jsx)("p",{className:"text-purple-100",children:"Manage advertisements across your marketplace"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-3",children:(0,ga.jsx)("button",{onClick:async()=>{try{m(!0),(0,Eo.deactivateExpiredAds)(),console.log("\ud83d\udd27 AdminPanel: Saving ads configuration with activation dates...");const e=(0,Re.A)({},i.adsManager);Object.keys(e).forEach(t=>{const r=e[t];if(r.active&&!r.startDate){const a=(new Date).toISOString(),n=(0,Eo.calculateExpirationDate)(a,r.runtime||"1 month");e[t]=(0,Re.A)((0,Re.A)({},r),{},{startDate:a,expirationDate:n}),console.log("\ud83d\udd52 Setting activation dates for ".concat(t,":"),{startDate:a,expirationDate:n,runtime:r.runtime})}});const t=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),r=(0,Re.A)((0,Re.A)((0,Re.A)({},i),t),{},{adsManager:(0,Re.A)((0,Re.A)({},t.adsManager),e),heroSectionEnabled:!0});console.log("\ud83d\udd27 AdminPanel: Saving merged config with activation dates:",r),localStorage.setItem("cataloro_site_config",JSON.stringify(r)),o("adsManager",e);const a=Object.entries(e).filter(e=>{let[t,r]=e;return r.active}).length,n=Object.entries(e).filter(e=>{let[t,r]=e;return r.image||r.logo}).length;l("\ud83c\udfaf Ad's Manager configuration saved successfully! \n        ".concat(a," active ads, ").concat(n," configured ads. \n        All advertisement functionalities are now live across the marketplace!"),"success"),console.log("\ud83c\udf89 COMPLETE Ad's Manager Configuration Applied:",(0,Re.A)((0,Re.A)({},e),{},{appliedAt:(new Date).toISOString(),activeAds:a,totalConfigured:n})),g(!0),setTimeout(()=>g(!1),3e3),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:e}))}catch(e){console.error("Failed to save ads configuration:",e),l("Failed to save ads configuration. Please try again.","error")}finally{m(!1)}},disabled:u,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(u?"bg-gray-400 cursor-not-allowed":h?"bg-green-500 text-white":"bg-white text-purple-600 hover:bg-purple-50 shadow-lg hover:shadow-xl"),children:u?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-5 h-5 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Saving Ads..."})]}):h?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Ads Activated!"})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(ui,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Save & Activate Ads"})]})})})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,ga.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100/50 dark:bg-gray-800/50 rounded-lg p-1 overflow-x-auto",children:f.map(e=>{const t=e.icon;return(0,ga.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 whitespace-nowrap ".concat(c===e.id?"bg-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-700/50"),children:[(0,ga.jsx)(t,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:e.label})]},e.id)})})}),"browse"===c&&(0,ga.jsx)(ip,{title:"Browse Page Advertisement",description:"Display advertisement on the right side of browse page (3 listings per row layout)",adConfig:(null===(t=i.adsManager)||void 0===t?void 0:t.browsePageAd)||{active:!1,image:null,description:"",runtime:"1 month",width:"300px",height:"600px"},adType:"browsePageAd",handleAdConfigChange:p,handleImageUpload:x,runtimeOptions:b,showDimensions:!0,dimensionsLabel:"Ad Dimensions (Vertical Banner)",showToast:l}),"favorite"===c&&(0,ga.jsx)(ip,{title:"Favorites Page Advertisement",description:"Display advertisement at the top of favorites page below 'My Favorites' header",adConfig:(null===(r=i.adsManager)||void 0===r?void 0:r.favoriteAd)||{active:!1,image:null,description:"",runtime:"1 month",width:"100%",height:"200px",url:"",clicks:0,notificationMethods:["notificationCenter"],notificationUsers:[]},adType:"favoriteAd",handleAdConfigChange:p,handleImageUpload:x,runtimeOptions:b,showDimensions:!0,dimensionsLabel:"Favorites Ad Dimensions (Banner)",showToast:l}),"messenger"===c&&(0,ga.jsx)(ip,{title:"Messenger Advertisement",description:"Display advertisements on messages page",adConfig:(null===(a=i.adsManager)||void 0===a?void 0:a.messengerAd)||{active:!1,image:null,description:"",runtime:"1 month",width:"250px",height:"400px",url:"",clicks:0,notificationMethods:["notificationCenter"],notificationUsers:[]},adType:"messengerAd",handleAdConfigChange:p,handleImageUpload:x,runtimeOptions:b,showDimensions:!0,dimensionsLabel:"Messenger Ad Dimensions (Sidebar)",showToast:l}),"footer"===c&&(0,ga.jsx)(op,{adConfig:(null===(s=i.adsManager)||void 0===s?void 0:s.footerAd)||{active:!1,logo:null,companyName:"",runtime:"1 month",expirationEvents:["deactivate"],notificationMethods:["notificationCenter"],notificationUsers:[]},adType:"footerAd",handleAdConfigChange:p,handleImageUpload:x,runtimeOptions:b})]})}function ap(e){let{adType:t,expirationDate:r,onExpired:a}=e;const[s,i]=n.useState(null),[o,l]=n.useState(!1),[c,d]=n.useState(!1);return n.useEffect(()=>{const e=()=>{const e=(0,Eo.getTimeRemaining)(r);null!==e&&void 0!==e&&e.expired&&!c?(l(!0),i(null),d(!0),console.log("\ud83d\udd52 Ad ".concat(t," expired in UI - triggering callback")),null===a||void 0===a||a()):null!==e&&void 0!==e&&e.expired||(i(e),l(!1),c&&d(!1))};e();const n=setInterval(e,1e3);return()=>clearInterval(n)},[r,a,c,t]),o?(0,ga.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Js,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-red-900 dark:text-red-100",children:"\u23f0 Advertisement Expired"}),(0,ga.jsx)("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Configured expiration events have been executed"})]})]})}):s?(0,ga.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Js,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("div",{className:"font-medium text-green-900 dark:text-green-100",children:"\u23f0 Time Remaining"}),(0,ga.jsxs)("div",{className:"text-lg font-mono text-green-700 dark:text-green-300",children:[s.days>0&&(0,ga.jsxs)("span",{className:"font-bold",children:[s.days,"d "]}),s.hours>0&&(0,ga.jsxs)("span",{className:"font-bold",children:[s.hours,"h "]}),(0,ga.jsxs)("span",{className:"font-bold",children:[s.minutes,"m "]}),(0,ga.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:[s.seconds,"s"]})]}),(0,ga.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:s.days>0?"Long-term campaign":s.hours>12?"Medium-term campaign":s.minutes>5?"Short-term campaign":"Final countdown!"})]})]})}):null}const np=e=>({browsePageAd:"Browse Page",favoriteAd:"Favorites Page",messengerAd:"Messages Page",footerAd:"Footer"}[e]||e);function sp(e){let{adType:t,selectedUsers:r,onUsersChange:a}=e;const[s,i]=n.useState(""),[o,l]=n.useState([]),[c,d]=n.useState(!1),[u,m]=n.useState(!1);n.useEffect(()=>{(async()=>{d(!0);try{const e=await fetch("".concat("https://cataloro.com","/api/admin/users"));if(e.ok){const t=await e.json();l(Array.isArray(t)?t:[]),console.log("\ud83d\udccb Loaded ".concat(t.length," users for notification selection"))}else console.error("Failed to fetch users for notification selection")}catch(e){console.error("Error fetching users:",e)}finally{d(!1)}})()},[]);const h=o.filter(e=>{var t,r,a;const n=s.toLowerCase();return(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(a=e.username)||void 0===a?void 0:a.toLowerCase().includes(n))});return(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsx)("label",{className:"block text-xs text-orange-600 dark:text-orange-400 mb-1",children:"Select Users to Notify:"}),r.length>0&&(0,ga.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:r.map(e=>(0,ga.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-orange-100 dark:bg-orange-900/50 text-orange-800 dark:text-orange-200 text-xs rounded-md",children:["\ud83d\udc64 ",e.full_name||e.username," (",e.email,")",(0,ga.jsx)("button",{onClick:()=>(e=>{const t=r.filter(t=>t.id!==e);a(t),console.log("\u2796 Removed user from notifications")})(e.id),className:"ml-1 text-orange-600 hover:text-orange-800 dark:text-orange-400 dark:hover:text-orange-200",children:(0,ga.jsx)(Is,{className:"w-3 h-3"})})]},e.id))}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("input",{type:"text",value:s,onChange:e=>{i(e.target.value),m(!0)},onFocus:()=>m(!0),placeholder:"Search users by name, email, or username...",className:"w-full px-3 py-2 text-xs border border-orange-300 dark:border-orange-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u&&(s.length>0||h.length>0)&&(0,ga.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-orange-300 dark:border-orange-600 rounded-md shadow-lg max-h-40 overflow-y-auto",children:c?(0,ga.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500",children:"Loading users..."}):h.length>0?h.slice(0,10).map(e=>{var t,n,s,o;return(0,ga.jsx)("button",{onClick:()=>(e=>{if(!r.find(t=>t.id===e.id)){const t=[...r,e];a(t),console.log("\u2795 Added user to notifications: ".concat(e.email))}i(""),m(!1)})(e),className:"w-full px-3 py-2 text-left text-xs hover:bg-orange-50 dark:hover:bg-orange-900/20 border-b border-gray-100 dark:border-gray-700 last:border-b-0",disabled:r.find(t=>t.id===e.id),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-6 h-6 bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-xs font-semibold text-orange-600 dark:text-orange-400",children:null===(t=(null===(n=e.full_name)||void 0===n?void 0:n[0])||(null===(s=e.username)||void 0===s?void 0:s[0])||(null===(o=e.email)||void 0===o?void 0:o[0]))||void 0===t?void 0:t.toUpperCase()})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.full_name||e.username}),(0,ga.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:e.email})]}),r.find(t=>t.id===e.id)&&(0,ga.jsx)(Gi,{className:"w-4 h-4 text-green-600"})]})},e.id)}):(0,ga.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500",children:s?"No users found matching your search":"Start typing to search users"})})]}),u&&(0,ga.jsx)("div",{className:"fixed inset-0 z-5",onClick:()=>m(!1)}),(0,ga.jsx)("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:0===r.length?"No users selected - notification will not be sent":"".concat(r.length," user").concat(1!==r.length?"s":""," will receive notification center alerts")})]})}function ip(e){var t,r,a,s,i,o,l,c,d,u,m;let{title:h,description:g,adConfig:p,adType:x,handleAdConfigChange:f,handleImageUpload:b,runtimeOptions:y,showDimensions:v=!1,dimensionsLabel:j="Ad Dimensions",showToast:w}=e;const[k,N]=n.useState(()=>{try{const n=localStorage.getItem("cataloro_site_config");if(n){var e,t;const s=JSON.parse(n);let i=null===(e=s.adsManager)||void 0===e||null===(t=e[x])||void 0===t?void 0:t.image;var r,a;if("footerAd"===x&&!i)i=null===(r=s.adsManager)||void 0===r||null===(a=r[x])||void 0===a?void 0:a.logo;if(console.log("\ud83d\udd27 AdConfigPanel (".concat(x,"): Loading image from localStorage:"),i),i){let e=i;return i.startsWith("/uploads/")&&(e="".concat("https://cataloro.com").concat(i),console.log("\ud83d\udd27 AdConfigPanel (".concat(x,"): Converted to full URL:"),e)),e}return p.image||null}}catch(n){console.error("\ud83d\udd27 AdConfigPanel (".concat(x,"): Error loading from localStorage:"),n)}return p.image||null}),[_,S]=n.useState(!1),[A,C]=n.useState({days:0,hours:0,minutes:0}),[E,O]=n.useState(!1);return n.useEffect(()=>{p.image&&p.image!==k&&(console.log("\ud83d\udd27 AdConfigPanel (".concat(x,"): adConfig.image changed to:"),p.image),N(p.image))},[p.image]),n.useEffect(()=>{const e=()=>{try{const n=localStorage.getItem("cataloro_site_config");if(n){var e,t;const s=JSON.parse(n);let i=null===(e=s.adsManager)||void 0===e||null===(t=e[x])||void 0===t?void 0:t.image;var r,a;if("footerAd"===x&&!i)i=null===(r=s.adsManager)||void 0===r||null===(a=r[x])||void 0===a?void 0:a.logo;if(i&&i!==k){console.log("\ud83d\udd27 AdConfigPanel (".concat(x,"): localStorage changed, updating preview to:"),i);let e=i;i.startsWith("/uploads/")&&(e="".concat("https://cataloro.com").concat(i),console.log("\ud83d\udd27 AdConfigPanel (".concat(x,"): Converted to full URL:"),e)),N(e)}}}catch(n){console.error("\ud83d\udd27 AdConfigPanel (".concat(x,"): Error handling storage change:"),n)}};return window.addEventListener("storage",e),window.addEventListener("adsConfigUpdated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("adsConfigUpdated",e)}},[x,k]),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:h}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:g}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:async()=>{console.log("\ud83d\udd27 Toggle clicked: ".concat(x,".active from ").concat(p.active," to ").concat(!p.active));if(!p.active){console.log("\ud83d\udd27 Admin manually activating ad: ".concat(x));const t=p.expirationDate&&(0,Eo.isAdExpired)(p),r=!p.expirationDate,a=(new Date).toISOString(),n=p.runtime||"1 month";let s=p.expirationDate,i="regular";(t||r)&&(s=(0,Eo.calculateExpirationDate)(a,n),i="reactivation",console.log("\ud83d\udd27 Setting new activation dates for ".concat(x,":"),{startDate:a,expirationDate:s,runtime:n}),f(x,"startDate",a),f(x,"expirationDate",s)),f(x,"active",!0);try{const e=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");e.adsManager||(e.adsManager={}),e.adsManager[x]||(e.adsManager[x]={}),e.adsManager[x].active=!0,"reactivation"===i&&(e.adsManager[x].startDate=a,e.adsManager[x].expirationDate=s),localStorage.setItem("cataloro_site_config",JSON.stringify(e));const t=e.adsManager[x].notificationUsers||[],r=e.adsManager[x].notificationMethods||[];if(console.log("\ud83d\udd0d Debugging ".concat(x," notifications:"),{adType:x,selectedUsers:t.length,notificationMethods:r,hasNotificationCenter:r.includes("notificationCenter"),currentConfig:e.adsManager[x]}),r.includes("notificationCenter")&&t.length>0){console.log("\ud83d\ude80 Sending ad start notifications to ".concat(t.length," users (").concat(i,")"));const r=t.map(async t=>{try{const r=e.adsManager[x].description||x,a=np(x),n="reactivation"===i?'"'.concat(r,'" on ').concat(a," has been activated and is now running until ").concat(new Date(s).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})):'"'.concat(r,'" on ').concat(a," has been activated and is now running");return(await fetch("".concat("https://cataloro.com","/api/user/").concat(t.id,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"\ud83d\ude80 Advertisement Started",message:n,type:"success"})})).ok?(console.log("\u2705 Ad start notification sent to user ".concat(t.email," (").concat(t.id,") - ").concat(i)),{success:!0,user:t.email}):(console.error("\u274c Failed to send ad start notification to user ".concat(t.email)),{success:!1,user:t.email,error:"HTTP Error"})}catch(r){return console.error("\u274c Error sending ad start notification to user ".concat(t.email,":"),r),{success:!1,user:t.email,error:r.message}}});(async()=>{try{const e=(await Promise.all(r)).filter(e=>e.success).length;console.log("\ud83d\udcca SINGLE Ad start notifications: ".concat(e,"/").concat(t.length," sent successfully"))}catch(e){console.error("\u274c Error in batch start notification sending:",e)}})()}window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:e.adsManager}));const o="reactivation"===i?"Ad reactivated with new ".concat(n," duration!"):"Ad activated successfully!";w(o,"success")}catch(e){console.error("Error during ad activation:",e)}}else console.log("\ud83d\udd27 Admin manually deactivating ad: ".concat(x)),f(x,"active",!1)},className:"mt-1 flex items-center justify-center w-8 h-8 rounded-full transition-colors duration-200",style:{backgroundColor:p.active?"#10B981":"#6B7280",color:"white"},children:p.active?(0,ga.jsx)(Yi,{className:"w-5 h-5"}):(0,ga.jsx)(Is,{className:"w-5 h-5"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white",children:["Active ",p.active?"\u2713 ON":"\u2717 OFF"]}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable this advertisement section"})]})]}),p.active&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:[(0,ga.jsx)(Ci,{className:"w-5 h-5 inline mr-2"}),"Advertisement Image"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[k?(0,ga.jsxs)("div",{className:"relative group max-w-sm",children:[(0,ga.jsx)("img",{src:k,alt:"Advertisement preview",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600",onError:e=>{console.error("\ud83d\udd27 AdConfigPanel (".concat(x,"): Image failed to load:"),k),console.log("\ud83d\udd27 AdConfigPanel (".concat(x,"): Image error event:"),e)},onLoad:()=>{console.log("\ud83d\udd27 AdConfigPanel (".concat(x,"): Image loaded successfully:"),k)}}),(0,ga.jsx)("button",{type:"button",onClick:()=>{N(null),f(x,"image",null)},className:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})}),(0,ga.jsx)("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:"Preview"})]}):(0,ga.jsxs)("label",{className:"w-full h-48 max-w-sm border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[_?(0,ga.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ga.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mb-2"}),(0,ga.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Uploading..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)($s,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,ga.jsx)("span",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Advertisement Image"}),(0,ga.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:["Click to browse or drag and drop",(0,ga.jsx)("br",{}),"JPG, PNG, GIF up to 5MB"]})]}),(0,ga.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("File size must be less than 5MB");else try{S(!0);const e=new FileReader;e.onload=e=>{N(e.target.result)},e.readAsDataURL(t),await b(x,t)}catch(r){console.error("Upload error:",r),N(null)}finally{S(!1)}else alert("Please select only image files")},disabled:_,className:"hidden"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Upload a high-quality image for your advertisement. Recommended size: 300x600px for browse page ads."})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description/Alt Text"}),(0,ga.jsx)("textarea",{value:p.description||"",onChange:e=>f(x,"description",e.target.value),placeholder:"Enter advertisement description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,ga.jsx)(Hi,{className:"w-4 h-4 inline mr-1"}),"Target URL (Optional)"]}),(0,ga.jsx)("input",{type:"url",value:p.url||"",onChange:e=>f(x,"url",e.target.value),placeholder:"https://example.com (Leave empty for non-clickable ad)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"When users click the ad, they will be redirected to this URL in a new tab"})]}),(p.clicks||0)>0&&(0,ga.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Bs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-blue-900 dark:text-blue-100",children:"\ud83d\udcca Performance Analytics"}),(0,ga.jsxs)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Total Clicks: ",(0,ga.jsx)("span",{className:"font-semibold",children:p.clicks||0})]})]})]})}),p.active&&p.expirationDate&&(0,ga.jsx)(ap,{adType:x,expirationDate:p.expirationDate,onExpired:()=>{console.log("\ud83d\udd52 Ad expired: ".concat(x," - executing configured expiration events"))}}),!p.active&&p.expirationDate&&(0,ga.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,ga.jsx)("div",{className:"flex items-center justify-between",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Js,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"\ud83d\udca4 Advertisement Inactive"}),(0,ga.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:'Click "Active" toggle to reactivate with new duration'})]})]})})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Runtime"}),(0,ga.jsx)("select",{value:p.runtime||"1 month",onChange:e=>{const t=e.target.value;f(x,"runtime",t),O("custom"===t)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:y.map(e=>(0,ga.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(E||"custom"===p.runtime)&&(0,ga.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[(0,ga.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ga.jsx)(Js,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),(0,ga.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"\u23f1\ufe0f Set Custom Duration"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Days"}),(0,ga.jsx)("input",{type:"number",min:"0",max:"365",value:A.days,onChange:e=>C(t=>(0,Re.A)((0,Re.A)({},t),{},{days:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-blue-300 dark:border-blue-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center font-mono",placeholder:"0"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Hours"}),(0,ga.jsx)("input",{type:"number",min:"0",max:"23",value:A.hours,onChange:e=>C(t=>(0,Re.A)((0,Re.A)({},t),{},{hours:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-blue-300 dark:border-blue-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center font-mono",placeholder:"0"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Minutes"}),(0,ga.jsx)("input",{type:"number",min:"0",max:"59",value:A.minutes,onChange:e=>C(t=>(0,Re.A)((0,Re.A)({},t),{},{minutes:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-blue-300 dark:border-blue-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center font-mono",placeholder:"0"})]})]}),(0,ga.jsx)("div",{className:"mb-4 p-3 bg-blue-100 dark:bg-blue-800/30 rounded-md",children:(0,ga.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,ga.jsx)("strong",{children:"Total Duration:"})," "," ",A.days>0&&"".concat(A.days," day").concat(1!==A.days?"s":""," "),A.hours>0&&"".concat(A.hours," hour").concat(1!==A.hours?"s":""," "),A.minutes>0&&"".concat(A.minutes," minute").concat(1!==A.minutes?"s":""),0===A.days&&0===A.hours&&0===A.minutes&&"No duration set"]})}),(0,ga.jsxs)("button",{onClick:()=>{if(0===24*A.days*60+60*A.hours+A.minutes)return void w("Please set at least 1 minute duration","error");const e="custom_".concat(A.days,"d_").concat(A.hours,"h_").concat(A.minutes,"m"),t=new Date,r=new Date(t);r.setDate(r.getDate()+A.days),r.setHours(r.getHours()+A.hours),r.setMinutes(r.getMinutes()+A.minutes),f(x,"runtime",e),f(x,"customDuration",A),f(x,"startDate",t.toISOString()),f(x,"expirationDate",r.toISOString());try{const a=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}");a.adsManager||(a.adsManager={}),a.adsManager[x]||(a.adsManager[x]={}),a.adsManager[x].runtime=e,a.adsManager[x].customDuration=A,a.adsManager[x].startDate=t.toISOString(),a.adsManager[x].expirationDate=r.toISOString(),localStorage.setItem("cataloro_site_config",JSON.stringify(a)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:a.adsManager})),console.log("\ud83d\udd52 Custom runtime applied immediately for ".concat(x,":"),{runtime:e,startDate:t.toISOString(),expirationDate:r.toISOString()})}catch(a){console.error("Error updating localStorage:",a)}w("Custom duration applied: ".concat(A.days,"d ").concat(A.hours,"h ").concat(A.minutes,"m - Timer updated!"),"success")},className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-medium transition-colors flex items-center justify-center space-x-2",children:[(0,ga.jsx)(sl,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Apply Custom Duration Now"})]})]}),(p.active||p.expirationDate)&&(0,ga.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[(0,ga.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ga.jsx)(Cs,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mr-2"}),(0,ga.jsx)("h4",{className:"font-medium text-orange-900 dark:text-orange-100",children:"\ud83d\udd14 Expiration Events"})]}),(0,ga.jsxs)("div",{className:"mb-3",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-orange-700 dark:text-orange-300 mb-2",children:"What should happen when this ad expires?"}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("div",{className:"border border-orange-200 dark:border-orange-700 rounded-md p-3",children:[(0,ga.jsxs)("label",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(t=p.expirationEvents)||void 0===t?void 0:t.includes("notify"))||!1,onChange:e=>{const t=p.expirationEvents||[],r=e.target.checked?[...t,"notify"]:t.filter(e=>"notify"!==e);f(x,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"\ud83d\udce7 Send notification to admin"})]}),(null===(r=p.expirationEvents)||void 0===r?void 0:r.includes("notify"))&&(0,ga.jsxs)("div",{className:"ml-6 mt-2 space-y-3",children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-orange-700 dark:text-orange-300",children:"Notification Recipients:"}),(0,ga.jsxs)("div",{className:"border border-orange-300 dark:border-orange-600 rounded-md p-3 bg-white dark:bg-gray-800",children:[(0,ga.jsxs)("label",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:!1!==(null===(a=p.notificationMethods)||void 0===a?void 0:a.includes("notificationCenter")),onChange:e=>{const t=p.notificationMethods||["notificationCenter"],r=e.target.checked?[...t.filter(e=>"notificationCenter"!==e),"notificationCenter"]:t.filter(e=>"notificationCenter"!==e);f(x,"notificationMethods",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-300",children:"\ud83d\udd14 Send to Notification Center"})]}),!1!==(null===(s=p.notificationMethods)||void 0===s?void 0:s.includes("notificationCenter"))&&(0,ga.jsx)(sp,{adType:x,selectedUsers:p.notificationUsers||[],onUsersChange:e=>f(x,"notificationUsers",e)})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(i=p.notificationMethods)||void 0===i?void 0:i.includes("email"))||!1,onChange:e=>{const t=p.notificationMethods||[],r=e.target.checked?[...t,"email"]:t.filter(e=>"email"!==e);f(x,"notificationMethods",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:"\u2709\ufe0f Email notification"})]}),(null===(o=p.notificationMethods)||void 0===o?void 0:o.includes("email"))&&(0,ga.jsxs)("div",{className:"ml-4 mt-2",children:[(0,ga.jsx)("label",{className:"block text-xs text-orange-600 dark:text-orange-400 mb-1",children:"Email Recipients (comma-separated):"}),(0,ga.jsx)("input",{type:"text",value:p.notificationEmails||"",onChange:e=>f(x,"notificationEmails",e.target.value),placeholder:"admin@company.com, manager@company.com",className:"w-full px-2 py-1 text-xs border border-orange-300 dark:border-orange-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(l=p.notificationMethods)||void 0===l?void 0:l.includes("browser"))||!1,onChange:e=>{const t=p.notificationMethods||[],r=e.target.checked?[...t,"browser"]:t.filter(e=>"browser"!==e);f(x,"notificationMethods",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:"\ud83c\udf10 Browser push notification"})]})]})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(c=p.expirationEvents)||void 0===c?void 0:c.includes("deactivate"))||!1,onChange:e=>{const t=p.expirationEvents||[];let r;r=e.target.checked?[...t.filter(e=>"reset"!==e),"deactivate"]:t.filter(e=>"deactivate"!==e),f(x,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\u274c Deactivate advertisement"})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(d=p.expirationEvents)||void 0===d?void 0:d.includes("reset"))||!1,onChange:e=>{const t=p.expirationEvents||[];let r;r=e.target.checked?[...t.filter(e=>"deactivate"!==e),"reset"]:t.filter(e=>"reset"!==e),f(x,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\ud83d\udd04 Reset duration (restart with same time)"})]})]})]}),(null===(u=p.expirationEvents)||void 0===u?void 0:u.includes("deactivate"))&&(null===(m=p.expirationEvents)||void 0===m?void 0:m.includes("reset"))&&(0,ga.jsx)("div",{className:"mt-3 p-2 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-md",children:(0,ga.jsx)("div",{className:"text-sm text-red-800 dark:text-red-200",children:"\u26a0\ufe0f Conflict detected: Cannot both deactivate and reset. Please choose one."})}),p.expirationEvents&&p.expirationEvents.length>0&&(0,ga.jsx)("div",{className:"mt-3 p-3 bg-orange-100 dark:bg-orange-800/30 rounded-md",children:(0,ga.jsxs)("div",{className:"text-sm text-orange-800 dark:text-orange-200",children:[(0,ga.jsx)("strong",{children:"Selected events:"})," "," ",p.expirationEvents.map(e=>{switch(e){case"notify":return"\ud83d\udce7 Notify (".concat((p.notificationMethods||["toast"]).map(e=>"toast"===e?"Toast":"email"===e?"Email":"browser"===e?"Browser":e).join(", "),")");case"deactivate":return"\u274c Deactivate";case"reset":return"\ud83d\udd04 Reset duration";default:return e}}).join(", ")]})})]}),v&&(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:j}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Width"}),(0,ga.jsx)("input",{type:"text",value:p.width||"300px",onChange:e=>f(x,"width",e.target.value),placeholder:"300px",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Height"}),(0,ga.jsx)("input",{type:"text",value:p.height||"600px",onChange:e=>f(x,"height",e.target.value),placeholder:"600px",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]})]})]})]})]})}function op(e){var t,r,a,s,i,o;let{adConfig:l,adType:c,handleAdConfigChange:d,handleImageUpload:u,runtimeOptions:m}=e;const[h,g]=n.useState(l.logo||null),[p,x]=n.useState(!1);return n.useEffect(()=>{l.logo&&l.logo!==h&&g(l.logo)},[l.logo]),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Footer Advertisement"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:'Display a small logo in the footer with "In cooperation with [Company]" text'}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:()=>d(c,"active",!l.active),className:"mt-1 flex items-center justify-center w-8 h-8 rounded-full transition-colors duration-200",style:{backgroundColor:l.active?"#10B981":"#6B7280",color:"white"},children:l.active?(0,ga.jsx)(Yi,{className:"w-5 h-5"}):(0,ga.jsx)(Is,{className:"w-5 h-5"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white",children:["Active ",l.active?"\u2713 ON":"\u2717 OFF"]}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable footer cooperation section"})]})]}),l.active&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:[(0,ga.jsx)(Ci,{className:"w-5 h-5 inline mr-2"}),"Company Logo"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[h?(0,ga.jsxs)("div",{className:"relative group max-w-32",children:[(0,ga.jsx)("img",{src:h,alt:"Company logo preview",className:"w-24 h-24 object-contain rounded-lg border-2 border-gray-200 dark:border-gray-600 bg-white p-2"}),(0,ga.jsx)("button",{type:"button",onClick:()=>{g(null),d(c,"logo",null)},className:"absolute -top-2 -right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ga.jsx)(Is,{className:"w-3 h-3"})}),(0,ga.jsx)("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white px-1 py-0.5 rounded text-xs",children:"Logo"})]}):(0,ga.jsxs)("label",{className:"w-32 h-24 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[p?(0,ga.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ga.jsx)("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mb-1"}),(0,ga.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Uploading..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)($s,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,ga.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 text-center",children:"Upload Logo"})]}),(0,ga.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("File size must be less than 5MB");else try{x(!0);const e=new FileReader;e.onload=e=>{g(e.target.result)},e.readAsDataURL(t),await u(c,t,"logo")}catch(r){console.error("Upload error:",r),g(null)}finally{x(!1)}else alert("Please select only image files")},disabled:p,className:"hidden"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Upload a company logo. Recommended: square format, max 5MB."})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),(0,ga.jsx)("input",{type:"text",value:l.companyName||"",onChange:e=>d(c,"companyName",e.target.value),placeholder:"Enter company name...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:'Will display as: "In cooperation with [Company Name]"'})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Runtime"}),(0,ga.jsx)("select",{value:l.runtime||"1 month",onChange:e=>d(c,"runtime",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:m.map(e=>(0,ga.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"custom"===l.runtime&&(0,ga.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-3",children:"Custom Runtime Settings"}),(0,ga.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs text-blue-600 dark:text-blue-400 mb-1",children:"Days"}),(0,ga.jsx)("input",{type:"number",min:"0",max:"365",value:l.customDays||0,onChange:e=>d(c,"customDays",parseInt(e.target.value)||0),className:"w-full px-2 py-1 text-sm border border-blue-300 dark:border-blue-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs text-blue-600 dark:text-blue-400 mb-1",children:"Hours"}),(0,ga.jsx)("input",{type:"number",min:"0",max:"23",value:l.customHours||0,onChange:e=>d(c,"customHours",parseInt(e.target.value)||0),className:"w-full px-2 py-1 text-sm border border-blue-300 dark:border-blue-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-xs text-blue-600 dark:text-blue-400 mb-1",children:"Minutes"}),(0,ga.jsx)("input",{type:"number",min:"0",max:"59",value:l.customMinutes||0,onChange:e=>d(c,"customMinutes",parseInt(e.target.value)||0),className:"w-full px-2 py-1 text-sm border border-blue-300 dark:border-blue-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ga.jsx)("button",{onClick:()=>{const e=l.customDays||0,t=l.customHours||0,r=l.customMinutes||0;if(0===e&&0===t&&0===r)return void alert("Please set at least one time value (days, hours, or minutes)");const a="".concat(e," days ").concat(t," hours ").concat(r," minutes").trim();d(c,"runtime",a),console.log("\ud83d\udd27 Custom runtime saved:",a)},className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:"\ud83d\udcbe Save Custom Duration"}),(0,ga.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:["Current: ",l.customDays||0," days, ",l.customHours||0," hours, ",l.customMinutes||0," minutes"]})]}),l.active&&l.expirationDate&&(0,ga.jsx)(ap,{adType:c,expirationDate:l.expirationDate,onExpired:()=>{console.log("\ud83d\udd52 Footer ad expired: ".concat(c))}}),(0,ga.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[(0,ga.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ga.jsx)(Cs,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mr-2"}),(0,ga.jsx)("h4",{className:"font-medium text-orange-900 dark:text-orange-100",children:"\ud83d\udd14 Expiration Events"})]}),(0,ga.jsxs)("div",{className:"mb-3",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-orange-700 dark:text-orange-300 mb-2",children:"What should happen when this footer ad expires?"}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("div",{className:"border border-orange-200 dark:border-orange-700 rounded-md p-3",children:[(0,ga.jsxs)("label",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(t=l.expirationEvents)||void 0===t?void 0:t.includes("notify"))||!1,onChange:e=>{const t=l.expirationEvents||[],r=e.target.checked?[...t,"notify"]:t.filter(e=>"notify"!==e);d(c,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"\ud83d\udce7 Send notification to admin"})]}),(null===(r=l.expirationEvents)||void 0===r?void 0:r.includes("notify"))&&(0,ga.jsxs)("div",{className:"ml-6 mt-2 space-y-3",children:[(0,ga.jsx)("label",{className:"block text-xs font-medium text-orange-700 dark:text-orange-300",children:"Notification Recipients:"}),(0,ga.jsxs)("div",{className:"border border-orange-300 dark:border-orange-600 rounded-md p-3 bg-white dark:bg-gray-800",children:[(0,ga.jsxs)("label",{className:"flex items-center space-x-2 mb-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:!1!==(null===(a=l.notificationMethods)||void 0===a?void 0:a.includes("notificationCenter")),onChange:e=>{const t=l.notificationMethods||["notificationCenter"],r=e.target.checked?[...t.filter(e=>"notificationCenter"!==e),"notificationCenter"]:t.filter(e=>"notificationCenter"!==e);d(c,"notificationMethods",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:"\ud83d\udd14 Send to Notification Center"})]}),!1!==(null===(s=l.notificationMethods)||void 0===s?void 0:s.includes("notificationCenter"))&&(0,ga.jsx)(sp,{adType:c,selectedUsers:l.notificationUsers||[],onUsersChange:e=>d(c,"notificationUsers",e)})]})]})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(i=l.expirationEvents)||void 0===i?void 0:i.includes("deactivate"))||!1,onChange:e=>{const t=l.expirationEvents||[];let r;r=e.target.checked?[...t.filter(e=>"reset"!==e),"deactivate"]:t.filter(e=>"deactivate"!==e),d(c,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\u274c Deactivate footer ad"})]}),(0,ga.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("input",{type:"checkbox",checked:(null===(o=l.expirationEvents)||void 0===o?void 0:o.includes("reset"))||!1,onChange:e=>{const t=l.expirationEvents||[];let r;r=e.target.checked?[...t.filter(e=>"deactivate"!==e),"reset"]:t.filter(e=>"reset"!==e),d(c,"expirationEvents",r)},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),(0,ga.jsx)("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\ud83d\udd04 Reset duration (restart automatically)"})]})]})]})]}),h&&l.companyName&&(0,ga.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,ga.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Footer Preview:"}),(0,ga.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)("div",{className:"mb-1",children:"In cooperation with:"}),(0,ga.jsx)("div",{className:"mb-1",children:(0,ga.jsx)("img",{src:h,alt:"logo",className:"h-6 object-contain object-left",style:{width:"140px"}})}),(0,ga.jsx)("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:l.companyName})]})]})]})]})]})}function lp(e){let{showToast:t}=e;const[r,a]=n.useState("appearance"),[s,i]=n.useState(!1),[o,l]=n.useState(!1);n.useEffect(()=>{console.log("\ud83d\udd27 AdminPanel: Current activeSection: ".concat(r))},[r]),n.useEffect(()=>{const e=e=>{const{adType:r,message:a}=e.detail;t("\ud83d\udd14 ".concat(a),"warning"),console.log("\ud83d\udce7 Admin notification: ".concat(a))};return window.addEventListener("adExpiredNotification",e),()=>{window.removeEventListener("adExpiredNotification",e)}},[t]);const[c,d]=n.useState(()=>{try{const x=localStorage.getItem("cataloro_site_config");if(x){var e,t,r,a,n,s,i,o,l,c,d,u;const f=JSON.parse(x);var m,h,g,p;if(console.log("\ud83d\udd27 AdminPanel: Initializing from localStorage:",f),console.log("\ud83d\udd27 AdminPanel: Parsed adsManager:",f.adsManager),f.adsManager)console.log("\ud83d\udd27 AdminPanel: Browse page ad image from localStorage:",null===(m=f.adsManager.browsePageAd)||void 0===m?void 0:m.image),console.log("\ud83d\udd27 AdminPanel: Favorite ad image from localStorage:",null===(h=f.adsManager.favoriteAd)||void 0===h?void 0:h.image),console.log("\ud83d\udd27 AdminPanel: Messenger ad image from localStorage:",null===(g=f.adsManager.messengerAd)||void 0===g?void 0:g.image),console.log("\ud83d\udd27 AdminPanel: Footer ad logo from localStorage:",null===(p=f.adsManager.footerAd)||void 0===p?void 0:p.logo);const b={adsManager:{browsePageAd:{active:!0,image:null,description:"Test Browse Page Advertisement",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0},favoriteAd:{active:!1,image:null,description:"",runtime:"1 month",url:"",clicks:0},messengerAd:{active:!1,image:null,description:"",runtime:"1 month",url:"",clicks:0},footerAd:{active:!1,logo:null,companyName:"",runtime:"1 month",url:"",clicks:0}},siteName:"Cataloro",logoUrl:"",primaryColor:"#3B82F6",secondaryColor:"#8B5CF6",backgroundColor:"#FFFFFF",textColor:"#1F2937",headerStyle:"modern",fontFamily:"Inter",borderRadius:"rounded",compactMode:!1,darkModeEnabled:!0,customCSS:"",faviconUrl:"",heroSectionEnabled:!0,featuredProductsEnabled:!0,categoriesShowcase:!0,testimonialSection:!1,newsletterSignup:!1,socialMediaLinks:{},searchBarProminent:!1,userRegistration:!0,guestBrowsing:!0,productReviews:!0,wishlistEnabled:!0,compareFeature:!1,advancedFilters:!0,bulkOperations:!1,productVariations:!1,inventoryTracking:!1,animationsEnabled:!0,footerText:"Powered by Cataloro",footerLinkColor:"#60a5fa",footerTextColor:"#ffffff",twoFactorAuth:!1,sessionTimeout:"24h",passwordMinLength:8,enableCaptcha:!0,ipWhitelist:[],rateLimiting:!0,cachingEnabled:!0,compressionEnabled:!0,lazyLoading:!0,cdnEnabled:!1,imageCaching:!0,analyticsEnabled:!0,errorReporting:!0,performanceMetrics:!0,userBehaviorTracking:!1,maintenanceMode:!1,logLevel:"info",backupEnabled:!0,autoUpdates:!1},y=(0,Re.A)((0,Re.A)((0,Re.A)({},b),f),{},{adsManager:{browsePageAd:(0,Re.A)((0,Re.A)((0,Re.A)({},b.adsManager.browsePageAd),(null===(e=f.adsManager)||void 0===e?void 0:e.browsePageAd)||{}),{},{image:(null===(t=f.adsManager)||void 0===t||null===(r=t.browsePageAd)||void 0===r?void 0:r.image)||b.adsManager.browsePageAd.image}),favoriteAd:(0,Re.A)((0,Re.A)((0,Re.A)({},b.adsManager.favoriteAd),(null===(a=f.adsManager)||void 0===a?void 0:a.favoriteAd)||{}),{},{image:(null===(n=f.adsManager)||void 0===n||null===(s=n.favoriteAd)||void 0===s?void 0:s.image)||b.adsManager.favoriteAd.image}),messengerAd:(0,Re.A)((0,Re.A)((0,Re.A)({},b.adsManager.messengerAd),(null===(i=f.adsManager)||void 0===i?void 0:i.messengerAd)||{}),{},{image:(null===(o=f.adsManager)||void 0===o||null===(l=o.messengerAd)||void 0===l?void 0:l.image)||b.adsManager.messengerAd.image}),footerAd:(0,Re.A)((0,Re.A)((0,Re.A)({},b.adsManager.footerAd),(null===(c=f.adsManager)||void 0===c?void 0:c.footerAd)||{}),{},{logo:(null===(d=f.adsManager)||void 0===d||null===(u=d.footerAd)||void 0===u?void 0:u.logo)||b.adsManager.footerAd.logo})}});return console.log("\ud83d\udd27 AdminPanel: Final merged adsManager:",y.adsManager),console.log("\ud83d\udd27 AdminPanel: Final browse page ad image:",y.adsManager.browsePageAd.image),y}}catch(x){console.error("\ud83d\udd27 AdminPanel: Error loading from localStorage:",x)}return{adsManager:{browsePageAd:{active:!0,image:null,description:"Test Browse Page Advertisement",runtime:"1 month",width:"300px",height:"600px",url:"",clicks:0},favoriteAd:{active:!1,image:null,description:"",runtime:"1 month",url:"",clicks:0},messengerAd:{active:!1,image:null,description:"",runtime:"1 month",url:"",clicks:0},footerAd:{active:!1,logo:null,companyName:"",runtime:"1 month",url:"",clicks:0}},siteName:"Cataloro",logoUrl:"",primaryColor:"#3B82F6",secondaryColor:"#8B5CF6",backgroundColor:"#FFFFFF",textColor:"#1F2937",headerStyle:"modern",fontFamily:"Inter",borderRadius:"rounded",compactMode:!1,darkModeEnabled:!0,customCSS:"",faviconUrl:"",heroSectionEnabled:!0,featuredProductsEnabled:!0,categoriesShowcase:!0,testimonialSection:!1,newsletterSignup:!1,socialMediaLinks:{},searchBarProminent:!1,userRegistration:!0,guestBrowsing:!0,productReviews:!0,wishlistEnabled:!0,compareFeature:!1,advancedFilters:!0,bulkOperations:!1,productVariations:!1,inventoryTracking:!1,animationsEnabled:!0,footerText:"Powered by Cataloro",footerLinkColor:"#60a5fa",footerTextColor:"#ffffff",twoFactorAuth:!1,sessionTimeout:"24h",passwordMinLength:8,enableCaptcha:!0,ipWhitelist:[],rateLimiting:!0,cachingEnabled:!0,compressionEnabled:!0,lazyLoading:!0,cdnEnabled:!1,imageCaching:!0,analyticsEnabled:!0,errorReporting:!0,performanceMetrics:!0,userBehaviorTracking:!1,maintenanceMode:!1,logLevel:"info",backupEnabled:!0,autoUpdates:!1}}),u=(e,t)=>{console.log("\ud83d\udd27 AdminPanel: Config change - ".concat(e,":"),t),d(r=>{const a=(0,Re.A)((0,Re.A)({},r),{},{[e]:t});if("adsManager"===e)try{const e=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),r=(0,Re.A)((0,Re.A)({},e),{},{adsManager:t,heroSectionEnabled:!0});localStorage.setItem("cataloro_site_config",JSON.stringify(r)),console.log("\ud83d\udd27 AdminPanel: Synced ads config to localStorage:",r),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:t}))}catch(n){console.error("\ud83d\udd27 AdminPanel: Error syncing to localStorage:",n)}return a})},m=async()=>{try{i(!0),await new Promise(e=>setTimeout(e,1500));const e=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),a=(0,Re.A)((0,Re.A)((0,Re.A)({},c),e),{},{adsManager:e.adsManager||c.adsManager,heroSectionEnabled:!0});console.log("\ud83d\udd27 AdminPanel: Saving merged config to localStorage:",a),localStorage.setItem("cataloro_site_config",JSON.stringify(a));if(!go(a))throw new Error("Configuration application failed");{const e=Object.entries(c).filter(e=>{let[t,r]=e;return"boolean"===typeof r&&r}).length,a=Object.entries(c).filter(e=>{let[t,r]=e;return null!==r&&void 0!==r&&""!==r}).length;if(t("\u2705 Site configuration saved and applied successfully! \n          ".concat(a," settings configured, ").concat(e," features enabled. \n          All changes are now live across the site."),"success"),console.log("\ud83c\udf89 COMPLETE Site Configuration Applied:",(0,Re.A)((0,Re.A)({},c),{},{appliedAt:(new Date).toISOString(),totalSettings:a,enabledFeatures:e})),l(!0),setTimeout(()=>l(!1),3e3),"footer"===r){const e=document.getElementById("footer-save-success");e&&(e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},5e3))}if("features"===r){const e=document.getElementById("features-save-success");e&&(e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},5e3))}document.body.style.transition="opacity 0.3s ease",document.body.style.opacity="0.95",setTimeout(()=>{document.body.style.opacity="1",setTimeout(()=>{document.body.style.transition=""},300)},150)}}catch(e){console.error("Save error:",e),t("Failed to save and apply configuration. Please try again.","error")}finally{i(!1)}};n.useEffect(()=>{const e=localStorage.getItem("cataloro_site_config");if(e)try{const t=JSON.parse(e);d(e=>(0,Re.A)((0,Re.A)({},e),t)),console.log("Loaded saved site configuration (not applied yet)")}catch(t){console.warn("Could not load saved configuration")}},[]),n.useEffect(()=>{const e=e=>{const t=e.detail;console.log("\ud83d\udd04 Ads config updated from global expiration service:",t),d(e=>(0,Re.A)((0,Re.A)({},e),{},{adsManager:t}))};return window.addEventListener("adsConfigUpdated",e),()=>window.removeEventListener("adsConfigUpdated",e)},[]);const h=[{id:"appearance",label:"Appearance & Themes",icon:yl,description:"Customize site appearance, colors, fonts, and layout"},{id:"content",label:"Content Management",icon:Hs,description:"Manage info page content with rich text editing capabilities"},{id:"ads-manager",label:"Ad's Manager",icon:li,description:"Manage advertisements across browse page, favorites, messenger, and footer"},{id:"menu-settings",label:"Menu Settings",icon:fi,description:"Configure navigation menu items and add custom links"},{id:"system-notifications",label:"System Notifications Manager",icon:Cs,description:"Manage green toast notifications that appear in the top right corner with event triggers"},{id:"hero",label:"Hero Selection",icon:Gs,description:"Customize the main hero section on the Browse page"},{id:"footer",label:"Footer Configuration",icon:bl,description:"Customize footer content, links, and social media"},{id:"features",label:"Feature Management",icon:ui,description:"Enable/disable marketplace features and functionality"},{id:"performance",label:"Performance & SEO",icon:Us,description:"Optimize site performance and search engine visibility"},{id:"communications",label:"Communications",icon:zs,description:"Manage notifications, emails, and messaging systems"},{id:"system",label:"System & Maintenance",icon:fl,description:"System settings, maintenance, and advanced configuration"},{id:"pdf-export",label:"PDF Export Center",icon:Ys,description:"Export comprehensive reports and data in PDF format"}];return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Site Administration"}),(0,ga.jsx)("p",{className:"text-blue-100",children:"Complete control over your marketplace platform"})]}),(0,ga.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,ga.jsx)("div",{className:"flex items-center space-x-2 ml-auto",children:(0,ga.jsx)("button",{onClick:m,disabled:s,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(s?"bg-gray-400 cursor-not-allowed":o?"bg-green-500 text-white":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl text-white"),children:s?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Saving..."})]}):o?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Settings Saved!"})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(sl,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Save All Changes"})]})})})})]})}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Administration Sections"}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(e=>{const t=e.icon;return(0,ga.jsxs)("button",{onClick:()=>{console.log("\ud83d\udd27 AdminPanel: Clicking section: ".concat(e.id)),a(e.id),console.log("\ud83d\udd27 AdminPanel: Active section set to: ".concat(e.id))},className:"p-4 rounded-lg border-2 transition-all duration-200 text-left ".concat(r===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ga.jsx)(t,{className:"w-6 h-6 ".concat(r===e.id?"text-blue-600":"text-gray-500")}),(0,ga.jsx)("span",{className:"font-medium ".concat(r===e.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"),children:e.label})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]},e.id)})})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:["appearance"===r&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(yl,{className:"w-5 h-5 mr-2"}),"Color Scheme & Branding"]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"color",value:c.primaryColor,onChange:e=>u("primaryColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ga.jsx)("input",{type:"text",value:c.primaryColor,onChange:e=>u("primaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Secondary Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"color",value:c.secondaryColor,onChange:e=>u("secondaryColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ga.jsx)("input",{type:"text",value:c.secondaryColor,onChange:e=>u("secondaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Accent Color"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"color",value:c.accentColor,onChange:e=>u("accentColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ga.jsx)("input",{type:"text",value:c.accentColor,onChange:e=>u("accentColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(vl,{className:"w-5 h-5 mr-2"}),"Typography & Layout"]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Font Family"}),(0,ga.jsxs)("select",{value:c.fontFamily,onChange:e=>u("fontFamily",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"inter",children:"Inter (Modern)"}),(0,ga.jsx)("option",{value:"roboto",children:"Roboto (Clean)"}),(0,ga.jsx)("option",{value:"opensans",children:"Open Sans (Friendly)"}),(0,ga.jsx)("option",{value:"lato",children:"Lato (Professional)"}),(0,ga.jsx)("option",{value:"poppins",children:"Poppins (Trendy)"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Base Font Size"}),(0,ga.jsxs)("select",{value:c.fontSize,onChange:e=>u("fontSize",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"14",children:"Small (14px)"}),(0,ga.jsx)("option",{value:"16",children:"Medium (16px)"}),(0,ga.jsx)("option",{value:"18",children:"Large (18px)"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Border Radius"}),(0,ga.jsxs)("select",{value:c.borderRadius,onChange:e=>u("borderRadius",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"4",children:"Minimal (4px)"}),(0,ga.jsx)("option",{value:"8",children:"Modern (8px)"}),(0,ga.jsx)("option",{value:"12",children:"Rounded (12px)"}),(0,ga.jsx)("option",{value:"16",children:"Very Rounded (16px)"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Default Theme"}),(0,ga.jsxs)("select",{value:c.defaultTheme,onChange:e=>u("defaultTheme",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"light",children:"Light Theme"}),(0,ga.jsx)("option",{value:"dark",children:"Dark Theme"}),(0,ga.jsx)("option",{value:"auto",children:"Auto (System)"})]})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(bl,{className:"w-5 h-5 mr-2"}),"Layout Configuration"]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"sidebarEnabled",label:"Enable Sidebar Navigation",desc:"Show sidebar navigation instead of header"},{key:"breadcrumbsEnabled",label:"Show Breadcrumbs",desc:"Display navigation breadcrumbs"},{key:"footerEnabled",label:"Show Footer",desc:"Display site footer"},{key:"compactMode",label:"Compact Mode",desc:"Reduce spacing for more content"},{key:"animationsEnabled",label:"Enable Animations",desc:"Show transitions and animations"},{key:"enableDarkMode",label:"Dark Mode Available",desc:"Allow users to toggle dark mode"}].map(e=>(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ga.jsx)(jl,{className:"w-6 h-6 text-blue-600"}):(0,ga.jsx)(wl,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(kl,{className:"w-5 h-5 mr-2"}),"Custom CSS Injection"]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom CSS Code"}),(0,ga.jsx)("textarea",{value:c.customCSS,onChange:e=>u("customCSS",e.target.value),placeholder:"/* Enter custom CSS here */",rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm resize-none"}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Add custom CSS to override default styles. Changes apply site-wide."})]})]})]}),"content"===r&&(0,ga.jsx)("div",{className:"space-y-6",children:(0,ga.jsx)(El,{})}),"ads-manager"===r&&(0,ga.jsx)(rp,{siteConfig:c,handleConfigChange:u,showToast:t}),"menu-settings"===r&&(0,ga.jsx)("div",{className:"space-y-6",children:(0,ga.jsx)($g,{})}),"system-notifications"===r&&(0,ga.jsx)("div",{className:"space-y-6",children:(0,ga.jsx)(Ol,{})}),"hero"===r&&(0,ga.jsx)("div",{className:"space-y-6",children:(0,ga.jsx)(ep,{showToast:t})}),"features"===r&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Fs,{className:"w-5 h-5 mr-2"}),"Homepage Configuration"]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"heroSectionEnabled",label:"Hero Section",desc:"Show main banner/hero section on homepage"},{key:"featuredProductsEnabled",label:"Featured Products",desc:"Display featured products carousel"},{key:"categoriesShowcase",label:"Categories Showcase",desc:"Show category grid on homepage"},{key:"testimonialSection",label:"Testimonials",desc:"Display customer testimonials"},{key:"newsletterSignup",label:"Newsletter Signup",desc:"Show newsletter subscription form"},{key:"searchBarProminent",label:"Prominent Search",desc:"Make search bar more prominent"}].map(e=>(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ga.jsx)(jl,{className:"w-6 h-6 text-green-600"}):(0,ga.jsx)(wl,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(ws,{className:"w-5 h-5 mr-2"}),"Marketplace Features"]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"userRegistration",label:"User Registration",desc:"Allow new users to register accounts"},{key:"guestBrowsing",label:"Guest Browsing",desc:"Allow non-registered users to browse products"},{key:"productReviews",label:"Product Reviews",desc:"Enable product rating and review system"},{key:"wishlistEnabled",label:"Wishlist/Favorites",desc:"Allow users to save favorite products"},{key:"compareFeature",label:"Product Compare",desc:"Side-by-side product comparison tool"},{key:"advancedFilters",label:"Advanced Filters",desc:"Enhanced search and filter options"},{key:"bulkOperations",label:"Bulk Operations",desc:"Bulk edit/delete for admin users"},{key:"productVariations",label:"Product Variations",desc:"Support for size, color, etc. variations"},{key:"inventoryTracking",label:"Inventory Tracking",desc:"Track product stock levels"}].map(e=>(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ga.jsx)(jl,{className:"w-6 h-6 text-green-600"}):(0,ga.jsx)(wl,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Apply Feature Changes"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Make selected features active on the website"})]}),(0,ga.jsx)("button",{onClick:m,disabled:s,className:"flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(s?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl"," text-white"),children:s?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Applying..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Apply Features"})]})})]}),(0,ga.jsxs)("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hidden",id:"features-save-success",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 text-green-800 dark:text-green-200",children:[(0,ga.jsx)(Yi,{className:"w-5 h-5"}),(0,ga.jsx)("span",{className:"font-medium",children:"Feature configuration applied successfully!"})]}),(0,ga.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your selected features are now active on the website."})]})]})]}),"performance"===r&&(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(ui,{className:"w-5 h-5 mr-2"}),"Performance Optimization"]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"cacheEnabled",label:"Enable Caching",desc:"Cache static resources for faster loading"},{key:"compressionEnabled",label:"Enable Compression",desc:"Compress files to reduce bandwidth"},{key:"lazyLoading",label:"Lazy Loading",desc:"Load images and content as needed"},{key:"performanceMonitoring",label:"Performance Monitoring",desc:"Track site performance metrics"}].map(e=>(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ga.jsx)(jl,{className:"w-6 h-6 text-green-600"}):(0,ga.jsx)(wl,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(ko,{className:"w-5 h-5 mr-2"}),"SEO & Analytics"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Google Analytics ID"}),(0,ga.jsx)("input",{type:"text",value:c.googleAnalytics,onChange:e=>u("googleAnalytics",e.target.value),placeholder:"GA-XXXXXXXXX-X",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook Pixel ID"}),(0,ga.jsx)("input",{type:"text",value:c.facebookPixel,onChange:e=>u("facebookPixel",e.target.value),placeholder:"Enter Facebook Pixel ID",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsx)("div",{className:"space-y-4",children:[{key:"seoOptimization",label:"SEO Optimization",desc:"Enable automatic SEO optimizations"},{key:"sitemapGeneration",label:"Sitemap Generation",desc:"Automatically generate XML sitemap"},{key:"robotsTxt",label:"Robots.txt",desc:"Enable robots.txt file for search engines"},{key:"userBehaviorTracking",label:"User Behavior Tracking",desc:"Track user interactions and behavior"}].map(e=>(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ga.jsx)(jl,{className:"w-6 h-6 text-green-600"}):(0,ga.jsx)(wl,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]})]}),"communications"===r&&(0,ga.jsx)("div",{className:"space-y-6",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Cs,{className:"w-5 h-5 mr-2"}),"Notification Systems"]}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Send notifications via email"},{key:"pushNotifications",label:"Push Notifications",desc:"Browser push notifications"},{key:"smsNotifications",label:"SMS Notifications",desc:"Send SMS for critical updates"},{key:"inAppMessaging",label:"In-App Messaging",desc:"Built-in messaging system"},{key:"newsletterSystem",label:"Newsletter System",desc:"Email newsletter functionality"}].map(e=>(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ga.jsx)(jl,{className:"w-6 h-6 text-green-600"}):(0,ga.jsx)(wl,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})}),"system"===r&&(0,ga.jsx)("div",{className:"space-y-6",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(fl,{className:"w-5 h-5 mr-2"}),"System Configuration"]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Log Level"}),(0,ga.jsxs)("select",{value:c.logLevel,onChange:e=>u("logLevel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"error",children:"Error Only"}),(0,ga.jsx)("option",{value:"warn",children:"Warnings"}),(0,ga.jsx)("option",{value:"info",children:"Info"}),(0,ga.jsx)("option",{value:"debug",children:"Debug (Verbose)"})]})]}),(0,ga.jsx)("div",{className:"space-y-4",children:[{key:"maintenanceMode",label:"Maintenance Mode",desc:"Enable site maintenance mode",color:"red"},{key:"debugMode",label:"Debug Mode",desc:"Enable detailed error reporting",color:"yellow"},{key:"backupEnabled",label:"Automatic Backups",desc:"Schedule regular system backups",color:"green"},{key:"autoUpdates",label:"Auto Updates",desc:"Automatically install security updates",color:"blue"}].map(e=>(0,ga.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)("button",{onClick:()=>u(e.key,!c[e.key]),className:"mt-1",children:c[e.key]?(0,ga.jsx)(jl,{className:"w-6 h-6 ".concat("red"===e.color?"text-red-600":"yellow"===e.color?"text-yellow-600":"blue"===e.color?"text-blue-600":"text-green-600")}):(0,ga.jsx)(wl,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]})}),"pdf-export"===r&&(0,ga.jsx)(Bl,{showToast:t})]})]})}function cp(e){let{showToast:t}=e;const[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[o,l]=(0,n.useState)(""),[c,d]=(0,n.useState)("all"),[u,m]=(0,n.useState)("active"),[h,g]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),[y,v]=(0,n.useState)(""),{allProducts:j}=Wa();(0,n.useEffect)(()=>{w()},[]);const w=async()=>{try{i(!0),console.log("\ud83d\udd04 Fetching listings from backend...");const n=localStorage.getItem("cataloro_token"),s=n?{Authorization:"Bearer ".concat(n)}:{},o=await fetch("".concat("https://cataloro.com","/api/listings?status=all"),{headers:s});if(o.ok){const t=await o.json();console.log("\ud83d\udcca Backend listings response:",t);let n=[];Array.isArray(t)?n=t:t.listings&&Array.isArray(t.listings)&&(n=t.listings);let s=[];try{const e=await fetch("".concat("https://cataloro.com","/api/admin/orders"));if(e.ok)s=await e.json();else{const e=await fetch("".concat("https://cataloro.com","/api/orders/seller/admin"));e.ok&&(s=await e.json())}}catch(e){console.log("\u26a0\ufe0f Could not fetch orders data:",e)}let i=[];try{const e=await fetch("".concat("https://cataloro.com","/api/admin/users"));e.ok&&(i=await e.json())}catch(r){console.log("\u26a0\ufe0f Could not fetch users data:",r)}const l=n.map((e,t)=>{var r;const a=s.filter(t=>t.listing_id===e.id&&"pending"===t.status).length,n=i.find(t=>t.id===e.seller_id),o={id:e.seller_id,username:(null===n||void 0===n?void 0:n.username)||"Unknown User",full_name:(null===n||void 0===n?void 0:n.full_name)||(null===n||void 0===n?void 0:n.username)||"Unknown User"};return{id:e.id||e._id||"backend-".concat(t),title:e.title,price:e.price,status:e.status||"active",seller_id:e.seller_id,seller_username:o.username,seller_full_name:o.full_name,created_date:e.created_at?new Date(e.created_at).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],views:e.views||Math.floor(1e3*Math.random()),image:(null===(r=e.images)||void 0===r?void 0:r[0])||e.image,description:e.description,condition:e.condition||"New",location:e.location||"Unknown Location",pendingOrders:a}});console.log("\u2705 Successfully loaded",l.length,"listings from backend with seller info"),a(l)}else console.error("\u274c Backend fetch failed with status:",o.status),null===t||void 0===t||t("Failed to load listings from backend","error"),a([])}catch(n){console.error("\u274c Error fetching listings:",n),null===t||void 0===t||t("Error loading listings from backend","error"),a([])}finally{i(!1)}},k=r.filter(e=>{const t=!o||e.title.toLowerCase().includes(o.toLowerCase())||e.seller.toLowerCase().includes(o.toLowerCase());let r=!0;switch(u){case"active":r="active"===e.status||"approved"===e.status;break;case"pending":const t=e.pendingOrders&&e.pendingOrders>0;r="pending"===e.status||"awaiting_approval"===e.status||t;break;case"inactive":r="inactive"===e.status||"deactivated"===e.status||"paused"===e.status;break;case"expired":r="expired"===e.status;break;case"sold":r="sold"===e.status||"completed"===e.status||"finished"===e.status;break;default:r=!0}return t&&r}),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("\ud83d\ude80 HANDLEBULKACTION CALLED!","Action:",e,"Selected:",h);const n=e||y;if(console.log("\ud83d\udd0d handleBulkAction called with:",n,"selectedListings:",h.length),!n||0===h.length)return console.log("\u274c Early return: no action or no selected listings"),void(null===t||void 0===t||t("No action selected or no listings selected","error"));try{if(console.log("\ud83d\udd0d Starting bulk action:",n),["activate","deactivate","delete","feature","unfeature","approve","reject"].includes(n)){console.log("\ud83d\udd0d Performing backend operations for:",h);const e=h.map(async e=>{const t=r.find(t=>t.id===e);if(!t)return console.log("\u274c Listing not found:",e),null;if(console.log("\ud83d\udd0d Processing listing:",e,"action:",n),"delete"===n){console.log("\ud83d\uddd1\ufe0f Deleting listing:",e);const t="".concat("https://cataloro.com","/api/listings/").concat(e);console.log("\ud83d\udd0d Delete URL:",t);const r=await fetch(t,{method:"DELETE"});return console.log("\ud83d\udd0d Delete request completed for:",e,"Status:",r.status),r}{let r=(0,Re.A)({},t);switch(n){case"activate":r.status="active";break;case"deactivate":r.status="inactive";break;case"feature":r.featured=!0;break;case"unfeature":r.featured=!1;break;case"approve":r.status="approved",r.approved=!0;break;case"reject":r.status="rejected",r.rejected=!0}return fetch("".concat("https://cataloro.com","/api/listings/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}});console.log("\u23f3 Waiting for all operations to complete...");const t=await Promise.all(e);console.log("\u2705 All operations completed. Results:",t.map(e=>e?e.status:"null"));const a=t.filter(e=>e&&!e.ok);if(console.log("\ud83d\udd0d Failed operations count:",a.length),a.length>0)throw console.error("\u274c Failed operations:",a),new Error("".concat(a.length," operations failed"));console.log("\u2705 All operations successful, updating local state...")}switch(console.log("\ud83d\udd04 Updating local state for action:",n),n){case"activate":a(r.map(e=>h.includes(e.id)?(0,Re.A)((0,Re.A)({},e),{},{status:"active"}):e)),null===t||void 0===t||t("".concat(h.length," listings activated"),"success");break;case"deactivate":a(r.map(e=>h.includes(e.id)?(0,Re.A)((0,Re.A)({},e),{},{status:"inactive"}):e)),null===t||void 0===t||t("".concat(h.length," listings deactivated"),"success");break;case"delete":console.log("\ud83d\uddd1\ufe0f Executing delete case. Filtering out listings:",h);const e=r.length,s=r.filter(e=>!h.includes(e.id));console.log("\ud83d\udd0d Before: ".concat(e," listings, After: ").concat(s.length," listings")),a(s),null===t||void 0===t||t("".concat(h.length," listings deleted successfully"),"success"),console.log("\ud83d\udd04 Refreshing listings from backend after bulk delete..."),await w(),console.log("\u2705 Listings refreshed after bulk delete");break;case"feature":a(r.map(e=>h.includes(e.id)?(0,Re.A)((0,Re.A)({},e),{},{featured:!0}):e)),null===t||void 0===t||t("".concat(h.length," listings featured"),"success");break;case"unfeature":a(r.map(e=>h.includes(e.id)?(0,Re.A)((0,Re.A)({},e),{},{featured:!1}):e)),null===t||void 0===t||t("".concat(h.length," listings unfeatured"),"success");break;case"approve":a(r.map(e=>h.includes(e.id)?(0,Re.A)((0,Re.A)({},e),{},{status:"approved",approved:!0}):e)),null===t||void 0===t||t("".concat(h.length," listings approved"),"success");break;case"reject":a(r.map(e=>h.includes(e.id)?(0,Re.A)((0,Re.A)({},e),{},{status:"rejected",rejected:!0}):e)),null===t||void 0===t||t("".concat(h.length," listings rejected"),"success");break;case"duplicate":const i=h.map(async e=>{const t=r.find(t=>t.id===e),a=(0,Re.A)((0,Re.A)({},t),{},{title:"".concat(t.title," (Copy)"),created_date:(new Date).toISOString().split("T")[0]});return delete a.id,fetch("".concat("https://cataloro.com","/api/listings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})});await Promise.all(i),await w(),null===t||void 0===t||t("".concat(h.length," listings duplicated"),"success");break;case"export":null===t||void 0===t||t("".concat(h.length," listings exported"),"success");break;case"bulk-edit":null===t||void 0===t||t("Bulk edit mode activated for ".concat(h.length," listings"),"info");break;default:null===t||void 0===t||t("Unknown action: ".concat(n),"error")}g([]),v(""),console.log("\u2705 Bulk action completed successfully")}catch(s){console.error("\u274c Bulk action error:",s),null===t||void 0===t||t("Error performing bulk action: ".concat(s.message),"error")}},[_,S]=(0,n.useState)(!1),[A,C]=(0,n.useState)(null),[E,O]=(0,n.useState)([]),P=e=>{console.log("\ud83d\udd0d Requesting bulk action:",e,"for",h.length,"listings"),0!==h.length?["delete","reject"].includes(e)?(C(e),O([...h]),S(!0)):N(e):null===t||void 0===t||t("No listings selected","error")};return s?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsx)("div",{className:"spinner"})}):(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsx)("div",{className:"cataloro-card-glass p-8",children:(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ga.jsxs)("div",{className:"text-center lg:text-left",children:[(0,ga.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:"Listings Management"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Comprehensive marketplace listings control center"})]}),(0,ga.jsxs)("div",{className:"flex justify-center lg:justify-end items-center space-x-4",children:[(0,ga.jsxs)("button",{onClick:async()=>{console.log("\ud83d\udd04 Refreshing listings..."),null===t||void 0===t||t("Refreshing listings...","info"),a([]),await w(),null===t||void 0===t||t("\u2705 Listings refreshed successfully","success")},className:"cataloro-button-secondary flex items-center px-4 py-3",title:"Refresh listings from server",children:[(0,ga.jsx)(Qi,{className:"w-5 h-5 mr-2"}),"Refresh"]}),(0,ga.jsxs)("button",{onClick:()=>x(!0),className:"cataloro-button-primary flex items-center px-6 py-3",children:[(0,ga.jsx)(Ts,{className:"w-5 h-5 mr-2"}),"Create New Listing"]})]})]})}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ga.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ga.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md",children:(0,ga.jsx)(Ts,{className:"w-8 h-8 text-blue-500"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:r.length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ga.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md",children:(0,ga.jsx)(Yi,{className:"w-8 h-8 text-green-500"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:r.filter(e=>"active"===e.status).length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ga.jsx)("div",{className:"p-4 bg-orange-100/80 dark:bg-orange-900/30 rounded-2xl backdrop-blur-md",children:(0,ga.jsx)(Xs,{className:"w-8 h-8 text-orange-500"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:r.reduce((e,t)=>e+(t.views||0),0)}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Views"})]})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ga.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ga.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md",children:(0,ga.jsx)(_s,{className:"w-8 h-8 text-red-500"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:["\u20ac",r.reduce((e,t)=>e+(t.price||0),0).toLocaleString()]}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Value"})]})]})})]}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between space-y-6 xl:space-y-0",children:[(0,ga.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Listings"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",placeholder:"Search by title, seller, or category...",value:o,onChange:e=>l(e.target.value),className:"pl-10 cataloro-input w-full"})]})]}),(0,ga.jsx)("div",{className:"flex items-end space-x-4",children:(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,ga.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"cataloro-input w-auto min-w-[150px]",children:[(0,ga.jsx)("option",{value:"all",children:"All Status"}),(0,ga.jsx)("option",{value:"active",children:"Active"}),(0,ga.jsx)("option",{value:"inactive",children:"Inactive"})]})]})})]})}),h.length>0&&(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6 border-2 border-green-200 dark:border-green-800 shadow-xl",children:[(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ga.jsx)("div",{className:"flex items-center space-x-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse"}),(0,ga.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[h.length," listing",1!==h.length?"s":""," selected"]}),(0,ga.jsx)("div",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-sm font-medium rounded-full",children:"Ready for management"})]})}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,ga.jsxs)("button",{onClick:()=>P("activate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Activate selected listings",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Activate"})]}),(0,ga.jsxs)("button",{onClick:()=>P("deactivate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Deactivate selected listings",children:[(0,ga.jsx)(gl,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Deactivate"})]}),(0,ga.jsxs)("button",{onClick:()=>P("delete"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Delete selected listings",children:[(0,ga.jsx)(Zs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,ga.jsxs)("button",{onClick:()=>P("feature"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Feature selected listings",children:[(0,ga.jsx)(Gs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Feature"})]}),(0,ga.jsxs)("button",{onClick:()=>P("approve"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Approve selected listings",children:[(0,ga.jsx)(Ls,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Approve"})]})]})]}),(0,ga.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-3",children:[(0,ga.jsxs)("button",{onClick:()=>N("reject"),className:"flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[(0,ga.jsx)(Is,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Reject"})]}),(0,ga.jsxs)("button",{onClick:()=>N("duplicate"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[(0,ga.jsx)(Ts,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Duplicate"})]}),(0,ga.jsxs)("button",{onClick:()=>N("export"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:[(0,ga.jsx)(Ys,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Export Selected"})]}),(0,ga.jsxs)("button",{onClick:()=>N("bulk-edit"),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[(0,ga.jsx)(Qs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Bulk Edit"})]}),(0,ga.jsxs)("button",{onClick:()=>g([]),className:"flex items-center space-x-2 px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded-lg font-medium transition-colors",children:[(0,ga.jsx)(Is,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Clear Selection"})]})]})})]}),(0,ga.jsxs)("div",{className:"cataloro-card-glass overflow-hidden",children:[(0,ga.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 dark:border-white/10",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Listings Management"}),(0,ga.jsxs)("span",{className:"bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-md",children:[k.length," results"]})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100/50 dark:bg-gray-800/50 rounded-lg p-1",children:[{id:"active",label:"Active",count:r.filter(e=>"active"===e.status||"approved"===e.status).length,color:"green"},{id:"pending",label:"Pending",count:r.filter(e=>"pending"===e.status||"awaiting_approval"===e.status||e.pendingOrders&&e.pendingOrders>0).length,color:"yellow"},{id:"inactive",label:"Inactive",count:r.filter(e=>"inactive"===e.status||"deactivated"===e.status||"paused"===e.status).length,color:"gray"},{id:"expired",label:"Expired",count:r.filter(e=>"expired"===e.status).length,color:"red"},{id:"sold",label:"Sold",count:r.filter(e=>"sold"===e.status||"completed"===e.status||"finished"===e.status).length,color:"blue"}].map(e=>(0,ga.jsxs)("button",{onClick:()=>{m(e.id),d(e.id)},className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(u===e.id?"".concat("green"===e.color?"bg-green-600 text-white":"yellow"===e.color?"bg-yellow-600 text-white":"gray"===e.color?"bg-gray-600 text-white":"red"===e.color?"bg-red-600 text-white":"bg-blue-600 text-white"," shadow-lg"):"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-700/50"),children:[(0,ga.jsx)("span",{children:e.label}),(0,ga.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(u===e.id?"bg-white/20 text-white":"".concat("green"===e.color?"bg-green-100 text-green-800":"yellow"===e.color?"bg-yellow-100 text-yellow-800":"gray"===e.color?"bg-gray-100 text-gray-800":"red"===e.color?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"," dark:bg-opacity-20")),children:e.count})]},e.id))})]}),"active"!==u&&(0,ga.jsx)("div",{className:"px-6 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-b border-blue-200/50 dark:border-blue-800/50",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 text-sm font-medium",children:["Showing ",u," listings (",k.length," items)"]}),(0,ga.jsx)("button",{onClick:()=>{m("active"),d("active")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show Active"})]})}),(0,ga.jsx)("div",{className:"max-w-full",children:(0,ga.jsxs)("table",{className:"w-full min-w-full",children:[(0,ga.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/50 backdrop-blur-sm",children:(0,ga.jsxs)("tr",{children:[(0,ga.jsx)("th",{className:"px-3 py-4 text-left w-12",children:(0,ga.jsx)("input",{type:"checkbox",checked:h.length===k.length&&k.length>0,onChange:e=>{return t=e.target.checked,void g(t?k.map(e=>e.id):[]);var t},className:"admin-checkbox"})}),(0,ga.jsx)("th",{className:"px-4 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider min-w-[280px]",children:"Listing Details"}),(0,ga.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Price"}),(0,ga.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-32",children:"Seller"}),(0,ga.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Status"}),(0,ga.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-20",children:"Views"}),(0,ga.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Actions"})]})}),(0,ga.jsx)("tbody",{className:"divide-y divide-gray-200/50 dark:divide-gray-700/50",children:k.map(e=>{var n;return(0,ga.jsxs)("tr",{className:"group",children:[(0,ga.jsx)("td",{className:"px-3 py-4",children:(0,ga.jsx)("input",{type:"checkbox",checked:h.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void g(a?[...h,r]:h.filter(e=>e!==r));var r,a},className:"admin-checkbox"})}),(0,ga.jsx)("td",{className:"px-4 py-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center flex-shrink-0",children:e.image?(0,ga.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}):(0,ga.jsx)(Ts,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsx)("h4",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",title:e.title,children:e.title}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.created_date})]})]})}),(0,ga.jsx)("td",{className:"px-3 py-4",children:(0,ga.jsxs)("span",{className:"text-lg font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent whitespace-nowrap",children:["\u20ac",e.price]})}),(0,ga.jsx)("td",{className:"px-3 py-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,ga.jsx)("span",{className:"text-white font-medium text-xs",children:(null===(n=e.seller_username)||void 0===n?void 0:n.charAt(0))||"U"})}),(0,ga.jsx)(Le,{to:"/profile/".concat(e.seller_id),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium truncate hover:underline",title:"View ".concat(e.seller_full_name,"'s profile"),children:e.seller_username})]})}),(0,ga.jsx)("td",{className:"px-3 py-4",children:(0,ga.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium backdrop-blur-md ".concat("active"===e.status?"bg-green-100/80 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100/80 dark:bg-red-900/30 text-red-800 dark:text-red-300"),children:"active"===e.status?"ACTIVE":"INACTIVE"})}),(0,ga.jsx)("td",{className:"px-3 py-4",children:(0,ga.jsx)("div",{className:"flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.views})})}),(0,ga.jsx)("td",{className:"px-3 py-4",children:(0,ga.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,ga.jsx)("button",{onClick:()=>b(e),className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded hover:bg-blue-50/50 dark:hover:bg-blue-900/20",title:"Edit listing",children:(0,ga.jsx)(Qs,{className:"w-3.5 h-3.5"})}),(0,ga.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{console.log("\ud83d\uddd1\ufe0f Deleting individual listing:",e);const n="".concat("https://cataloro.com","/api/listings/").concat(e);console.log("\ud83d\udd0d Delete URL:",n);const s=await fetch(n,{method:"DELETE"});if(!s.ok)throw new Error("Failed to delete listing: ".concat(s.status));console.log("\u2705 Backend delete successful for listing:",e),a(r.filter(t=>t.id!==e)),null===t||void 0===t||t("Listing deleted successfully","success")}catch(n){console.error("\u274c Error deleting listing:",n),null===t||void 0===t||t("Failed to delete listing: ".concat(n.message),"error")}})(e.id),className:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded hover:bg-red-50/50 dark:hover:bg-red-900/20",title:"Delete listing",children:(0,ga.jsx)(Zs,{className:"w-3.5 h-3.5"})})]})})]},e.id)})})]})}),0===k.length&&(0,ga.jsxs)("div",{className:"text-center py-16",children:[(0,ga.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-gray-400/20 to-gray-500/20 dark:from-gray-600/20 dark:to-gray-700/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,ga.jsx)(Ts,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"No listings found"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:o?"Try adjusting your search terms":"Create your first listing to get started"}),(0,ga.jsx)("button",{onClick:()=>x(!0),className:"cataloro-button-primary",children:"Create New Listing"})]})]}),(p||f)&&(0,ga.jsx)(dp,{listing:f,onSave:f?e=>{a(r.map(t=>t.id===f.id?(0,Re.A)((0,Re.A)({},t),e):t)),b(null),null===t||void 0===t||t("Listing updated successfully","success")}:e=>{const n=(0,Re.A)((0,Re.A)({id:"new-".concat(Date.now())},e),{},{created_date:(new Date).toISOString().split("T")[0],views:0,status:"active"});a([n,...r]),x(!1),null===t||void 0===t||t("Listing created successfully","success")},onClose:()=>{x(!1),b(null)}}),_&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md mx-4 shadow-2xl",children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:"delete"===A?(0,ga.jsx)(Zs,{className:"w-6 h-6 text-red-600 dark:text-red-400"}):(0,ga.jsx)(Wi,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Confirm ","delete"===A?"Deletion":"Action"]}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This action cannot be undone"})]})]}),(0,ga.jsxs)("div",{className:"mb-6",children:[(0,ga.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to ",(0,ga.jsx)("span",{className:"font-semibold text-red-600 dark:text-red-400",children:A})," these"," ",(0,ga.jsx)("span",{className:"font-semibold",children:E.length})," listing",1!==E.length?"s":"","?"]}),"delete"===A&&(0,ga.jsx)("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:(0,ga.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ga.jsx)(Wi,{className:"w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,ga.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:[(0,ga.jsx)("strong",{children:"Warning:"})," Deleted listings will be permanently removed from the marketplace and cannot be recovered."]})]})})]}),(0,ga.jsxs)("div",{className:"flex space-x-3",children:[(0,ga.jsx)("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 rounded-xl font-medium transition-colors",children:"Cancel"}),(0,ga.jsx)("button",{onClick:async()=>{if(console.log("\ud83d\ude80 EXECUTING confirmed bulk action:",A),console.log("\ud83d\udd0d Listings to process:",E),S(!1),A&&E.length>0){console.log("\ud83c\udfaf Calling handleBulkAction directly with confirmed listings");g(E),await N(A),C(null),O([])}else console.log("\u274c No confirmAction or confirmListings")},className:"flex-1 px-4 py-3 text-white rounded-xl font-medium transition-colors ".concat("delete"===A?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"),children:"delete"===A?"Delete Forever":"Confirm ".concat(A)})]})]})})})]})}function dp(e){let{listing:t,onSave:r,onClose:a}=e;const[s,i]=(0,n.useState)({title:(null===t||void 0===t?void 0:t.title)||"",price:(null===t||void 0===t?void 0:t.price)||"",category:(null===t||void 0===t?void 0:t.category)||"Catalysts",description:(null===t||void 0===t?void 0:t.description)||"",condition:(null===t||void 0===t?void 0:t.condition)||"New",location:(null===t||void 0===t?void 0:t.location)||"",seller:(null===t||void 0===t?void 0:t.seller)||"",image:(null===t||void 0===t?void 0:t.image)||""}),[o,l]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),[y,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{j(),w()},[]);const j=async()=>{try{const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/data"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();l(e),console.log("\u2705 Catalyst data loaded:",e.length,"records")}else console.error("\u274c Failed to fetch catalyst data - Status:",t.status)}catch(e){console.error("Failed to fetch catalyst data:",e)}},w=async()=>{try{const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/calculations"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();d(e),console.log("\u2705 Catalyst calculations loaded")}else console.error("\u274c Failed to fetch calculations - Status:",t.status)}catch(e){console.error("Failed to fetch calculations:",e)}},k=e=>{const t=(e=>{const t=c.find(t=>t.cat_id===e);return(null===t||void 0===t?void 0:t.total_price)||null})(e);if(!t)return null;const r=.9*t,a=1.1*t;return{basePrice:parseFloat(t),minPrice:parseFloat(r.toFixed(2)),maxPrice:parseFloat(a.toFixed(2))}};return(0,ga.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(Ts,{className:"w-6 h-6 mr-2 text-blue-600"}),t?"Edit Listing":"Create New Listing",f&&(0,ga.jsxs)("span",{className:"ml-3 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:["Catalyst: ",f.cat_id]})]}),(0,ga.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ga.jsx)(Is,{className:"w-6 h-6"})})]})}),(0,ga.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r((0,Re.A)((0,Re.A)({},s),{},{catalyst_id:(null===f||void 0===f?void 0:f.cat_id)||null}))},className:"p-6 space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title",(0,ga.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search Cat Database)"})]}),(0,ga.jsx)("input",{type:"text",required:!0,value:s.title,onChange:e=>{const t=e.target.value;if(i((0,Re.A)((0,Re.A)({},s),{},{title:t})),t.length>0){const e=o.filter(e=>{var r,a,n;const s=t.toLowerCase();return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(a=e.cat_id)||void 0===a?void 0:a.toLowerCase().includes(s))||(null===(n=e.add_info)||void 0===n?void 0:n.toLowerCase().includes(s))}).slice(0,10);g(e),x(e.length>0)}else g([]),x(!1)},onFocus:()=>s.title&&x(h.length>0),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Start typing catalyst name or ID..."}),p&&(0,ga.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-80 overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:(0,ga.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)(bo,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cat Database Matches (",h.length,")"]})}),h.map(e=>{const t=k(e.cat_id);return(0,ga.jsx)("div",{onClick:()=>(e=>{b(e),console.log("Admin - Selected catalyst:",e),console.log("Admin - Catalyst add_info:",e.add_info);let t="Catalyst: ".concat(e.name,"\n\nSpecifications:\n- Ceramic Weight: ").concat(e.ceramic_weight,"g\n\nProfessional grade catalyst suitable for automotive and industrial applications.");e.add_info&&e.add_info.trim()?(console.log("Admin - Adding add_info to description:",e.add_info),t+="\n\nAdditional Information:\n".concat(e.add_info)):console.log("Admin - No add_info available or empty:",e.add_info),console.log("Admin - Final description:",t),i((0,Re.A)((0,Re.A)({},s),{},{title:e.name||e.cat_id,category:"Catalysts",description:t})),x(!1)})(e),className:"p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors duration-200",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("div",{className:"flex items-center space-x-2",children:(0,ga.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})}),(0,ga.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:(0,ga.jsxs)("span",{children:["Weight: ",e.ceramic_weight,"g"]})})]}),t&&(0,ga.jsxs)("div",{className:"ml-4 text-right",children:[(0,ga.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["\u20ac",t.minPrice.toFixed(2)," - \u20ac",t.maxPrice.toFixed(2)]}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Market Range"})]})]})},e.cat_id)})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Price",f&&(0,ga.jsx)("span",{className:"text-green-600 dark:text-green-400 text-xs ml-2",children:"(Auto-filled from calculation)"})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"$"}),(0,ga.jsx)("input",{type:"number",step:"0.01",required:!0,value:s.price,onChange:e=>i((0,Re.A)((0,Re.A)({},s),{},{price:e.target.value})),className:"w-full pl-8 pr-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Seller"}),(0,ga.jsx)("input",{type:"text",required:!0,value:s.seller,onChange:e=>i((0,Re.A)((0,Re.A)({},s),{},{seller:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Seller name"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,ga.jsx)("input",{type:"text",value:s.location,onChange:e=>i((0,Re.A)((0,Re.A)({},s),{},{location:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"City, State"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image URL"}),(0,ga.jsx)("input",{type:"url",value:s.image,onChange:e=>i((0,Re.A)((0,Re.A)({},s),{},{image:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Description",f&&(0,ga.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Auto-generated from catalyst data)"})]}),(0,ga.jsx)("textarea",{rows:6,value:s.description,onChange:e=>i((0,Re.A)((0,Re.A)({},s),{},{description:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe your item..."})]}),f&&(0,ga.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:[(0,ga.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2 flex items-center",children:[(0,ga.jsx)(bo,{className:"w-4 h-4 mr-2"}),"Selected Catalyst: ",f.name]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),(0,ga.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:f.name})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Weight:"}),(0,ga.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:[f.ceramic_weight,"g"]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Market Range:"}),(0,ga.jsx)("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:k(f.cat_id)?(0,ga.jsxs)(ga.Fragment,{children:["\u20ac",k(f.cat_id).minPrice.toFixed(2)," - \u20ac",k(f.cat_id).maxPrice.toFixed(2)]}):"N/A"})]})]})]}),(0,ga.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,ga.jsx)("button",{type:"button",onClick:a,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,ga.jsxs)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors flex items-center",children:[(0,ga.jsx)(Ts,{className:"w-4 h-4 mr-2"}),t?"Update Listing":"Create Listing"]})]})]})]})})}function up(e){let{showToast:t,permissions:r,isAdminManager:a}=e;const[s,i]=(0,n.useState)("data"),[o,l]=(0,n.useState)([]),[c,d]=(0,n.useState)({pt_price:25,pd_price:18,rh_price:45,renumeration_pt:.95,renumeration_pd:.92,renumeration_rh:.88,price_range_min_percent:10,price_range_max_percent:10}),[u,m]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),[j,w]=(0,n.useState)(null),[k,N]=(0,n.useState)(null),[_,S]=(0,n.useState)(!1),A=[{id:"data",label:"Data",icon:bo,adminOnly:!0},{id:"calculations",label:"Calculations",icon:Nl},{id:"basis",label:"Basis",icon:Os}].filter(e=>!(e.adminOnly&&!r.adminPanel.canDeleteDatabase));(0,n.useEffect)(()=>{"data"!==s||r.adminPanel.canDeleteDatabase||i("calculations")},[s,r.adminPanel.canDeleteDatabase]),(0,n.useEffect)(()=>{C(),E(),O(),P()},[]);const C=async()=>{try{const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/data"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();l(e),console.log("\u2705 Catalyst data loaded:",e.length,"records")}else console.error("\u274c Failed to fetch catalyst data - Status:",t.status)}catch(e){console.error("Failed to fetch catalyst data:",e)}},E=async()=>{try{const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/price-settings"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();d(e),console.log("\u2705 Price settings loaded")}else console.error("\u274c Failed to fetch price settings - Status:",t.status)}catch(e){console.error("Failed to fetch price settings:",e)}},O=async()=>{try{const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/calculations"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();m(e),console.log("\u2705 Catalyst calculations loaded")}else console.error("\u274c Failed to fetch calculations - Status:",t.status)}catch(e){console.error("Failed to fetch calculations:",e)}},P=async()=>{try{const e=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/unified-calculations"));if(e.ok){const t=await e.json();g(t)}}catch(e){console.error("Failed to fetch unified calculations:",e)}};return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a()?"DAT Database - Manager Access":"Cat Database"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:a()?"Basis and price calculations access (data modification restricted)":"Catalyst database management and price calculations"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[r.adminPanel.canDeleteDatabase&&(0,ga.jsxs)("button",{onClick:async()=>{if(!window.confirm("\u26a0\ufe0f WARNING: This will permanently delete ALL catalyst data from the database.\n\nThis includes:\n\u2022 All catalyst records\n\u2022 All price overrides\n\u2022 All calculations\n\nThis action CANNOT be undone!\n\nAre you absolutely sure you want to proceed?"))return;if(!window.confirm("FINAL CONFIRMATION:\n\nType DELETE in the next prompt to confirm database deletion."))return;if("DELETE"===prompt('Please type "DELETE" to confirm (case sensitive):'))try{x(!0);const e=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/database"),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to delete database");{const r=await e.json();t("\u2705 Database deleted successfully! Removed ".concat(r.deleted_records," catalyst records and ").concat(r.deleted_overrides," overrides."),"success"),l([]),m([]),await C(),await O(),await P()}}catch(e){t("\u274c Failed to delete catalyst database","error"),console.error("Delete database error:",e)}finally{x(!1)}else t("Database deletion cancelled - confirmation text did not match","info")},disabled:p||0===o.length,className:"cataloro-button-danger flex items-center disabled:opacity-50 disabled:cursor-not-allowed",title:0===o.length?"No data to delete":"Delete entire catalyst database",children:[(0,ga.jsx)(Zs,{className:"w-5 h-5 mr-2"}),"Delete Database"]}),r.adminPanel.canUploadExcel&&(0,ga.jsxs)("label",{className:"cataloro-button-primary cursor-pointer",children:[(0,ga.jsx)($s,{className:"w-5 h-5 mr-2"}),f?"Uploading...":"Upload Excel",(0,ga.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:async e=>{const r=e.target.files[0];if(r){b(!0);try{const e=new FormData;e.append("file",r);const a=await fetch("".concat("https://cataloro.com","/api/admin/catalyst/upload"),{method:"POST",body:e});if(!a.ok)throw new Error("Upload failed");{const e=await a.json();t("Successfully uploaded ".concat(e.count," catalyst records"),"success"),await C(),await O(),await P()}}catch(a){t("Failed to upload Excel file","error"),console.error("Upload error:",a)}finally{b(!1),e.target.value=""}}},className:"hidden",disabled:f})]}),!r.adminPanel.canDeleteDatabase&&a()&&(0,ga.jsxs)("div",{className:"flex items-center space-x-2 text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 px-3 py-2 rounded-lg border border-orange-200 dark:border-orange-800",children:[(0,ga.jsx)(Ls,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"text-sm font-medium",children:"Database modification restricted for Manager role"})]})]})]})}),(0,ga.jsxs)("div",{className:"cataloro-card-glass",children:[(0,ga.jsx)("div",{className:"border-b border-gray-200/50 dark:border-gray-700/50",children:(0,ga.jsx)("div",{className:"flex space-x-8 px-6",children:A.map(e=>{const t=e.icon;return(0,ga.jsxs)("button",{onClick:()=>i(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors ".concat(s===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,ga.jsx)(t,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:e.label})]},e.id)})})}),"data"===s&&(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"mb-4",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Catalyst Data"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Click on any cell to edit. The add_info field will be used in listing descriptions."})]}),o.length>0?(0,ga.jsx)("div",{className:"overflow-x-auto",children:(0,ga.jsxs)("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ga.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,ga.jsxs)("tr",{children:[(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Cat ID"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Ceramic Weight"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pt PPM"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pd PPM"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Rh PPM"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Add Info"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),(0,ga.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.map(e=>(0,ga.jsx)(mp,{catalyst:e,isEditing:k===e.id,onEdit:()=>N(e.id),onSave:r=>(async(e,r)=>{try{(await fetch("".concat("https://cataloro.com","/api/admin/catalyst/data/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(t("Catalyst data updated successfully","success"),await C(),await O(),await P(),N(null))}catch(a){t("Failed to update catalyst data","error"),console.error("Update error:",a)}})(e.id,r),onCancel:()=>N(null)},e.id))})]})}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(bo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Data Available"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload an Excel file to populate the catalyst database."})]})]}),"calculations"===s&&(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"mb-4",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Calculations"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Unified view showing both price calculations and content values (Pt g, Pd g, Rh g) for all catalysts."})]}),h.length>0?(0,ga.jsx)("div",{className:"overflow-x-auto",children:(0,ga.jsxs)("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ga.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,ga.jsxs)("tr",{children:[(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Cat ID"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Weight (g)"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Total Price (\u20ac)"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pt g"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pd g"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Rh g"}),(0,ga.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),(0,ga.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.map(e=>(0,ga.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-semibold",children:e.cat_id}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:e.name}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:e.weight}),(0,ga.jsxs)("td",{className:"px-4 py-3 text-sm",children:[(0,ga.jsxs)("span",{className:"font-semibold ".concat(e.is_override?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"),children:["\u20ac",e.total_price.toFixed(2)]}),(0,ga.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_override?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.is_override?"Override":"Standard"})]}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-blue-600 dark:text-blue-400",children:e.pt_g.toFixed(4)}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-green-600 dark:text-green-400",children:e.pd_g.toFixed(4)}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-purple-600 dark:text-purple-400",children:e.rh_g.toFixed(4)}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat("https://cataloro.com","/api/admin/catalyst/reset/").concat(e),{method:"POST"})).ok&&(t("Price reset to standard calculation","success"),await O(),await P())}catch(r){t("Failed to reset price","error"),console.error("Reset error:",r)}})(e.catalyst_id),className:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded dark:bg-blue-900/30 dark:text-blue-300",children:"Reset"}),(0,ga.jsx)("button",{onClick:()=>{w(e),v(!0)},className:"px-3 py-1 text-xs bg-orange-100 hover:bg-orange-200 text-orange-800 rounded dark:bg-orange-900/30 dark:text-orange-300",children:"Override"})]})})]},e.catalyst_id))})]})}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Nl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Calculations Available"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload catalyst data and configure price settings first."})]})]}),"basis"===s&&(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"mb-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Price Calculation Basis"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Configure the base prices and renumeration factors for price calculations."})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Metal Prices (\u20ac/g)"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pt Price (\u20ac/g)"}),(0,ga.jsx)("input",{type:"number",step:"0.01",value:c.pt_price,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{pt_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pd Price (\u20ac/g)"}),(0,ga.jsx)("input",{type:"number",step:"0.01",value:c.pd_price,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{pd_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rh Price (\u20ac/g)"}),(0,ga.jsx)("input",{type:"number",step:"0.01",value:c.rh_price,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{rh_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Renumeration Factors"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Pt"}),(0,ga.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:c.renumeration_pt,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{renumeration_pt:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Pd"}),(0,ga.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:c.renumeration_pd,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{renumeration_pd:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Rh"}),(0,ga.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:c.renumeration_rh,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{renumeration_rh:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),(0,ga.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 transition-all duration-500 ".concat(_?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 rounded-lg p-4":""),children:[(0,ga.jsxs)("div",{className:"mb-6 relative",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-2",children:"Price Range Configuration"}),_&&(0,ga.jsxs)("div",{className:"flex items-center text-green-600 dark:text-green-400 text-sm font-medium",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4 mr-1"}),"Updated Successfully!"]})]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Configure the percentage ranges for dynamic price calculations used in marketplace listings."})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Minimum Price Reduction (%)"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("input",{type:"number",step:"0.1",min:"0",max:"50",value:c.price_range_min_percent,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{price_range_min_percent:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"10.0"}),(0,ga.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,ga.jsx)("span",{className:"text-gray-500 text-sm",children:"%"})})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum percentage below calculated price (e.g., 10% means 10% below base price)"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Maximum Price Increase (%)"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("input",{type:"number",step:"0.1",min:"0",max:"100",value:c.price_range_max_percent,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{price_range_max_percent:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"10.0"}),(0,ga.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,ga.jsx)("span",{className:"text-gray-500 text-sm",children:"%"})})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum percentage above calculated price (e.g., 10% means 10% above base price)"})]})]}),(0,ga.jsxs)("div",{className:"mt-4 p-4 rounded-lg transition-all duration-300 ".concat(_?"bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700":"bg-gray-50 dark:bg-gray-800"),children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ga.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Range Preview"}),_&&(0,ga.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"\u2713 Values Applied to Marketplace"})]}),(0,ga.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["For a calculated price of ",(0,ga.jsx)("span",{className:"font-mono",children:"\u20ac100.00"}),", the dynamic range will be:"]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,ga.jsxs)("div",{className:"text-xs",children:[(0,ga.jsxs)("span",{className:"font-mono ".concat(_?"text-red-700 dark:text-red-300 font-bold":"text-red-600 dark:text-red-400"),children:["\u20ac",(100-100*c.price_range_min_percent/100).toFixed(2)]}),(0,ga.jsx)("span",{className:"text-gray-500 ml-1",children:"(min)"})]}),(0,ga.jsx)("div",{className:"text-gray-400",children:"to"}),(0,ga.jsxs)("div",{className:"text-xs",children:[(0,ga.jsxs)("span",{className:"font-mono ".concat(_?"text-green-700 dark:text-green-300 font-bold":"text-green-600 dark:text-green-400"),children:["\u20ac",(100+100*c.price_range_max_percent/100).toFixed(2)]}),(0,ga.jsx)("span",{className:"text-gray-500 ml-1",children:"(max)"})]})]}),_&&(0,ga.jsxs)("div",{className:"mt-2 text-xs text-green-600 dark:text-green-400",children:["Range: -",c.price_range_min_percent,"% to +",c.price_range_max_percent,"% applied successfully"]})]})]}),(0,ga.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ga.jsx)("button",{onClick:async()=>{try{(await fetch("".concat("https://cataloro.com","/api/admin/catalyst/price-settings"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(t("Price settings updated successfully! Range: ".concat(c.price_range_min_percent,"% to +").concat(c.price_range_max_percent,"%"),"success"),S(!0),setTimeout(()=>S(!1),3e3),await O(),await P())}catch(e){t("Failed to update price settings","error"),console.error("Update error:",e)}},className:"cataloro-button-primary transition-all duration-300 ".concat(_?"bg-green-600 hover:bg-green-700 border-green-600":""),children:_?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-5 h-5 mr-2"}),"Settings Updated Successfully!"]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(sl,{className:"w-5 h-5 mr-2"}),"Update Price Settings"]})})})]})]}),y&&j&&(0,ga.jsx)(hp,{catalyst:j,onSave:async(e,r)=>{try{(await fetch("".concat("https://cataloro.com","/api/admin/catalyst/override/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({catalyst_id:e,override_price:parseFloat(r),is_override:!0})})).ok&&(t("Price override set successfully","success"),await O(),await P(),v(!1))}catch(a){t("Failed to set price override","error"),console.error("Override error:",a)}},onClose:()=>{v(!1),w(null)}})]})}function mp(e){let{catalyst:t,isEditing:r,onEdit:a,onSave:s,onCancel:i}=e;const[o,l]=(0,n.useState)({cat_id:t.cat_id,name:t.name,ceramic_weight:t.ceramic_weight,pt_ppm:t.pt_ppm,pd_ppm:t.pd_ppm,rh_ppm:t.rh_ppm,add_info:t.add_info||""}),c=()=>{s(o)};return r?(0,ga.jsxs)("tr",{className:"bg-blue-50 dark:bg-blue-900/20",children:[(0,ga.jsx)("td",{className:"px-4 py-3",children:(0,ga.jsx)("input",{type:"text",value:o.cat_id,onChange:e=>l((0,Re.A)((0,Re.A)({},o),{},{cat_id:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ga.jsx)("td",{className:"px-4 py-3",children:(0,ga.jsx)("input",{type:"text",value:o.name,onChange:e=>l((0,Re.A)((0,Re.A)({},o),{},{name:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ga.jsx)("td",{className:"px-4 py-3",children:(0,ga.jsx)("input",{type:"number",step:"0.01",value:o.ceramic_weight,onChange:e=>l((0,Re.A)((0,Re.A)({},o),{},{ceramic_weight:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ga.jsx)("td",{className:"px-4 py-3",children:(0,ga.jsx)("input",{type:"number",step:"0.1",value:o.pt_ppm,onChange:e=>l((0,Re.A)((0,Re.A)({},o),{},{pt_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ga.jsx)("td",{className:"px-4 py-3",children:(0,ga.jsx)("input",{type:"number",step:"0.1",value:o.pd_ppm,onChange:e=>l((0,Re.A)((0,Re.A)({},o),{},{pd_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ga.jsx)("td",{className:"px-4 py-3",children:(0,ga.jsx)("input",{type:"number",step:"0.1",value:o.rh_ppm,onChange:e=>l((0,Re.A)((0,Re.A)({},o),{},{rh_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ga.jsx)("td",{className:"px-4 py-3",children:(0,ga.jsx)("textarea",{value:o.add_info,onChange:e=>l((0,Re.A)((0,Re.A)({},o),{},{add_info:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded resize-none",rows:"2",placeholder:"Additional info for listings..."})}),(0,ga.jsx)("td",{className:"px-4 py-3",children:(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("button",{onClick:c,className:"px-2 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-800 rounded",children:(0,ga.jsx)(sl,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:i,className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]})})]}):(0,ga.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-mono",children:t.cat_id}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.name}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.ceramic_weight}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.pt_ppm}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.pd_ppm}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.rh_ppm}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 max-w-xs",children:(0,ga.jsx)("div",{className:"truncate",title:t.add_info||"No additional info",children:t.add_info||"-"})}),(0,ga.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ga.jsx)("button",{onClick:a,className:"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded dark:bg-blue-900/30 dark:text-blue-300",children:(0,ga.jsx)(Qs,{className:"w-4 h-4"})})})]})}function hp(e){let{catalyst:t,onSave:r,onClose:a}=e;const[s,i]=(0,n.useState)("");return(0,ga.jsx)("div",{className:"modal-overlay",children:(0,ga.jsxs)("div",{className:"modal-content max-w-md",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Override Price for Catalyst"}),(0,ga.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,ga.jsx)(Is,{className:"w-6 h-6"})})]}),(0,ga.jsxs)("div",{className:"mb-4",children:[(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)("strong",{children:"ID:"})," ",t._id]}),(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)("strong",{children:"Name:"})," ",t.name]}),(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)("strong",{children:"Current Price:"})," \u20ac",t.total_price.toFixed(2)]})]}),(0,ga.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s&&parseFloat(s)>0&&r(t._id,s)},className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Override Price (\u20ac)"}),(0,ga.jsx)("input",{type:"number",step:"0.01",min:"0",value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter new price",required:!0})]}),(0,ga.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ga.jsx)("button",{type:"button",onClick:a,className:"cataloro-button-secondary",children:"Cancel"}),(0,ga.jsx)("button",{type:"submit",className:"cataloro-button-primary",children:"Set Override"})]})]})]})})}function gp(e){let{user:t,onClose:r,onSave:a}=e;const[s,i]=(0,n.useState)({first_name:(null===t||void 0===t?void 0:t.first_name)||(null!==t&&void 0!==t&&t.full_name?t.full_name.split(" ")[0]:""),last_name:(null===t||void 0===t?void 0:t.last_name)||(null!==t&&void 0!==t&&t.full_name?t.full_name.split(" ").slice(1).join(" "):""),username:(null===t||void 0===t?void 0:t.username)||"",email:(null===t||void 0===t?void 0:t.email)||"",user_role:null!==t&&void 0!==t&&t.user_role||"admin"===(null===t||void 0===t?void 0:t.role)?"Admin":"User-Buyer",registration_status:(null===t||void 0===t?void 0:t.registration_status)||"Approved",is_active:void 0===(null===t||void 0===t?void 0:t.is_active)||t.is_active,password:"",confirmPassword:"",is_business:(null===t||void 0===t?void 0:t.is_business)||!1,company_name:(null===t||void 0===t?void 0:t.company_name)||"",country:(null===t||void 0===t?void 0:t.country)||"",vat_number:(null===t||void 0===t?void 0:t.vat_number)||""}),[o,l]=(0,n.useState)({}),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1),h=e=>{const{name:r,value:a,type:n,checked:c}=e.target;i((0,Re.A)((0,Re.A)({},s),{},{[r]:"checkbox"===n?c:a})),o[r]&&l(e=>(0,Re.A)((0,Re.A)({},e),{},{[r]:void 0})),"username"===r&&a.length>=3?(async e=>{if(t&&t.username===e)d(!0);else{m(!0);try{const t=await fetch("".concat("https://cataloro.com","/api/auth/check-username/").concat(e));if(t.ok){const e=await t.json();d(e.available)}else d(null)}catch(r){console.error("Error checking username:",r),d(null)}finally{m(!1)}}})(a):"username"===r&&d(null)};return(0,ga.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md mx-4",children:[(0,ga.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"Edit User":"Create New User"})}),(0,ga.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return s.first_name.trim()||(e.first_name="First name is required"),s.last_name.trim()||(e.last_name="Last name is required"),s.username.trim()||(e.username="Username is required"),s.username.length<3&&(e.username="Username must be at least 3 characters"),!1===c&&(e.username="Username is not available"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(e.email="Email is invalid"):e.email="Email is required",t||s.password||(e.password="Password is required for new users"),s.password&&s.password.length<6&&(e.password="Password must be at least 6 characters"),s.password&&s.password!==s.confirmPassword&&(e.confirmPassword="Passwords do not match"),s.is_business&&(s.company_name.trim()||(e.company_name="Company name is required for business accounts"),s.country.trim()||(e.country="Country is required for business accounts")),l(e),0===Object.keys(e).length})())return;const r=(0,Re.A)((0,Re.A)({},s),{},{full_name:"".concat(s.first_name," ").concat(s.last_name).trim()});t&&(r.id=t.id),r.password||delete r.password,delete r.confirmPassword,a(r)},className:"p-6 space-y-4",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name *"}),(0,ga.jsx)("input",{type:"text",value:s.first_name,onChange:h,name:"first_name",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter first name"}),o.first_name&&(0,ga.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.first_name})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name *"}),(0,ga.jsx)("input",{type:"text",value:s.last_name,onChange:h,name:"last_name",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter last name"}),o.last_name&&(0,ga.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.last_name})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("input",{type:"text",name:"username",value:s.username,onChange:h,className:"w-full px-3 py-2 pr-10 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.username?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter username"}),s.username.length>=3&&(0,ga.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:u?(0,ga.jsx)("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):!0===c?(0,ga.jsx)(Gi,{className:"w-5 h-5 text-green-500"}):!1===c?(0,ga.jsx)(Is,{className:"w-5 h-5 text-red-500"}):null})]}),s.username.length>=3&&null!==c&&(0,ga.jsx)("div",{className:"mt-1 text-sm ".concat(c?"text-green-600":"text-red-600"),children:c?"Username is available":"Username is not available"}),o.username&&(0,ga.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.username})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),(0,ga.jsx)("input",{type:"email",name:"email",value:s.email,onChange:h,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.email?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter email address"}),o.email&&(0,ga.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.email})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User Role *"}),(0,ga.jsxs)("select",{name:"user_role",value:s.user_role,onChange:h,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"User-Buyer",children:"User-Buyer"}),(0,ga.jsx)("option",{value:"User-Seller",children:"User-Seller"}),(0,ga.jsx)("option",{value:"Admin-Manager",children:"Admin-Manager"}),(0,ga.jsx)("option",{value:"Admin",children:"Admin"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Determines user permissions and access level"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Status *"}),(0,ga.jsxs)("select",{name:"registration_status",value:s.registration_status,onChange:h,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ga.jsx)("option",{value:"Approved",children:"Approved"}),(0,ga.jsx)("option",{value:"Pending",children:"Pending"}),(0,ga.jsx)("option",{value:"Rejected",children:"Rejected"})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Controls user login access and approval status"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"checkbox",name:"is_active",checked:s.is_active,onChange:h,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ga.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Account Active"}),(0,ga.jsx)("span",{className:"text-xs text-gray-500",children:s.is_active?"User can access the platform":"User account is suspended"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("label",{className:"flex items-center",children:[(0,ga.jsx)("input",{type:"radio",name:"is_active",checked:!0===s.is_active,onChange:()=>i((0,Re.A)((0,Re.A)({},s),{},{is_active:!0})),className:"mr-2"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),(0,ga.jsxs)("label",{className:"flex items-center",children:[(0,ga.jsx)("input",{type:"radio",name:"is_active",checked:!1===s.is_active,onChange:()=>i((0,Re.A)((0,Re.A)({},s),{},{is_active:!1})),className:"mr-2"}),(0,ga.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Suspended"})]})]})]}),(0,ga.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ga.jsx)("input",{type:"checkbox",id:"is_business",name:"is_business",checked:s.is_business,onChange:h,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,ga.jsxs)("label",{htmlFor:"is_business",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)(Es,{className:"w-4 h-4 mr-2 text-blue-600"}),"Business Account"]})]}),s.is_business&&(0,ga.jsxs)("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,ga.jsxs)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 flex items-center",children:[(0,ga.jsx)(Es,{className:"w-4 h-4 mr-2"}),"Business Information"]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name *"}),(0,ga.jsx)("input",{type:"text",name:"company_name",value:s.company_name,onChange:h,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.company_name?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter company name"}),o.company_name&&(0,ga.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.company_name})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country *"}),(0,ga.jsx)("input",{type:"text",name:"country",value:s.country,onChange:h,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.country?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter country"}),o.country&&(0,ga.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.country})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["VAT Number",(0,ga.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Optional)"})]}),(0,ga.jsx)("input",{type:"text",name:"vat_number",value:s.vat_number,onChange:h,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter VAT number (if applicable)"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Password ",t&&(0,ga.jsx)("span",{className:"text-xs text-gray-500",children:"(leave blank to keep current)"})]}),(0,ga.jsx)("input",{type:"password",name:"password",value:s.password,onChange:h,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.password?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:t?"Enter new password (optional)":"Enter password"}),o.password&&(0,ga.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.password})]}),s.password&&(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),(0,ga.jsx)("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:h,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ".concat(o.confirmPassword?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Confirm password"}),o.confirmPassword&&(0,ga.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.confirmPassword})]}),(0,ga.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ga.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,ga.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:t?"Update User":"Create User"})]})]})]})})}function pp(e){var t,r,a,s,i,o;let{showToast:l,permissions:c}=e;const[d,u]=(0,n.useState)([]),[m,h]=(0,n.useState)(!0),[g,p]=(0,n.useState)(""),[x,f]=(0,n.useState)("all"),[b,y]=(0,n.useState)(null);(0,n.useEffect)(()=>{v()},[]);const v=async()=>{try{h(!0);const e=localStorage.getItem("cataloro_token"),t=await fetch("".concat("https://cataloro.com","/api/admin/completed-transactions"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();u(e.transactions||[])}else l("Failed to load completed transactions","error"),u([])}catch(e){console.error("Error fetching completed transactions:",e),l("Error loading completed transactions","error"),u([])}finally{h(!1)}},j=d.filter(e=>{var t,r,a,n,s,i,o,l,c;const d=(null===(t=e.listing_title)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(r=e.buyer_info)||void 0===r||null===(a=r.name)||void 0===a?void 0:a.toLowerCase().includes(g.toLowerCase()))||(null===(n=e.seller_info)||void 0===n||null===(s=n.name)||void 0===s?void 0:s.toLowerCase().includes(g.toLowerCase()))||(null===(i=e.buyer_info)||void 0===i||null===(o=i.email)||void 0===o?void 0:o.toLowerCase().includes(g.toLowerCase()))||(null===(l=e.seller_info)||void 0===l||null===(c=l.email)||void 0===c?void 0:c.toLowerCase().includes(g.toLowerCase())),u="all"===x||"completed"===x&&e.is_fully_completed||"pending"===x&&!e.is_fully_completed;return d&&u}),w={total:d.length,fullyCompleted:d.filter(e=>e.is_fully_completed).length,pendingConfirmation:d.filter(e=>!e.is_fully_completed).length};return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Completed Transactions"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitor transactions where both parties confirm physical handover"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ga.jsx)(Ts,{className:"w-6 h-6 text-blue-600"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.total}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Transactions"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ga.jsx)(Yi,{className:"w-6 h-6 text-green-600"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.fullyCompleted}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Fully Completed"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,ga.jsx)(Js,{className:"w-6 h-6 text-yellow-600"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.pendingConfirmation}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Confirmation"})]})]})})]}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,ga.jsx)("div",{className:"flex-1 max-w-md",children:(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",placeholder:"Search by item, buyer, or seller...",value:g,onChange:e=>p(e.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ga.jsx)("option",{value:"all",children:"All Status"}),(0,ga.jsx)("option",{value:"completed",children:"Fully Completed"}),(0,ga.jsx)("option",{value:"pending",children:"Pending Confirmation"})]}),(0,ga.jsxs)("button",{onClick:v,disabled:m,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4 mr-2 ".concat(m?"animate-spin":"")}),"Refresh"]})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow border border-gray-200 dark:border-gray-700 overflow-hidden",children:m?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Qi,{className:"w-8 h-8 animate-spin mx-auto text-gray-400 mb-4"}),(0,ga.jsx)("p",{className:"text-gray-500",children:"Loading completed transactions..."})]}):j.length>0?(0,ga.jsx)("div",{className:"overflow-x-auto",children:(0,ga.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,ga.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,ga.jsxs)("tr",{children:[(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item & Parties"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Confirmation Status"}),(0,ga.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32",children:"Completion"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"})]})}),(0,ga.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(e=>{var t,r,a,n,s,i;return(0,ga.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[e.listing_image&&(0,ga.jsx)("img",{src:e.listing_image,alt:e.listing_title,className:"w-12 h-12 rounded-lg object-cover mr-4"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.listing_title}),(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(0,ga.jsxs)("div",{children:["Buyer: ",null===(t=e.buyer_info)||void 0===t?void 0:t.name," (",null===(r=e.buyer_info)||void 0===r?void 0:r.email,")"]}),(0,ga.jsxs)("div",{children:["Seller: ",null===(a=e.seller_info)||void 0===a?void 0:a.name," (",null===(n=e.seller_info)||void 0===n?void 0:n.email,")"]})]})]})]})}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["\u20ac",(null===(s=e.tender_amount)||void 0===s?void 0:s.toFixed(2))||(null===(i=e.listing_price)||void 0===i?void 0:i.toFixed(2))||"0.00"]})}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsxs)("div",{className:"space-y-1",children:[(0,ga.jsxs)("div",{className:"flex items-center text-xs",children:[e.buyer_confirmed_at?(0,ga.jsx)(Yi,{className:"w-3 h-3 text-green-600 mr-1"}):(0,ga.jsx)(Is,{className:"w-3 h-3 text-red-500 mr-1"}),(0,ga.jsx)("span",{className:e.buyer_confirmed_at?"text-green-600":"text-gray-500",children:"Buyer"})]}),(0,ga.jsxs)("div",{className:"flex items-center text-xs",children:[e.seller_confirmed_at?(0,ga.jsx)(Yi,{className:"w-3 h-3 text-green-600 mr-1"}):(0,ga.jsx)(Is,{className:"w-3 h-3 text-red-500 mr-1"}),(0,ga.jsx)("span",{className:e.seller_confirmed_at?"text-green-600":"text-gray-500",children:"Seller"})]})]})}),(0,ga.jsxs)("td",{className:"px-3 py-4 whitespace-nowrap w-32",children:[(0,ga.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)("div",{className:"font-medium",children:e.completion_method||"N/A"}),(0,ga.jsx)("div",{children:new Date(e.created_at).toLocaleDateString("de-DE")})]}),(0,ga.jsxs)("button",{onClick:()=>y(e),className:"mt-1 inline-flex items-center px-2 py-1 bg-blue-100 hover:bg-blue-200 text-blue-800 text-xs font-medium rounded-md transition-colors",children:[(0,ga.jsx)(Ji,{className:"w-3 h-3 mr-1"}),"Info"]})]}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.is_fully_completed?(0,ga.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-600 text-white",children:[(0,ga.jsx)(Yi,{className:"w-3 h-3 mr-1"}),"COMPLETED"]}):(0,ga.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-yellow-600 text-white",children:[(0,ga.jsx)(Js,{className:"w-3 h-3 mr-1"}),"PENDING"]})})]},e.id)})})]})}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Yi,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ga.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No completed transactions"}),(0,ga.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:g||"all"!==x?"No transactions match your search criteria.":"Completed transactions will appear here when users mark items as physically handed over."})]})}),b&&(0,ga.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Transaction Details"}),(0,ga.jsx)("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ga.jsx)(Is,{className:"w-6 h-6"})})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Transaction ID"}),(0,ga.jsx)("p",{className:"text-sm text-gray-900 dark:text-white font-mono",children:b.id})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),(0,ga.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white font-semibold",children:["\u20ac",(null===(t=b.tender_amount)||void 0===t?void 0:t.toFixed(2))||(null===(r=b.listing_price)||void 0===r?void 0:r.toFixed(2))||"0.00"]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Listing"}),(0,ga.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:b.listing_title})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buyer"}),(0,ga.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:null===(a=b.buyer_info)||void 0===a?void 0:a.name}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===(s=b.buyer_info)||void 0===s?void 0:s.email})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Seller"}),(0,ga.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:null===(i=b.seller_info)||void 0===i?void 0:i.name}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===(o=b.seller_info)||void 0===o?void 0:o.email})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Completion Method"}),(0,ga.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:b.completion_method||"Not specified"})]}),b.completion_notes&&(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Completion Notes"}),(0,ga.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white italic bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:['"',b.completion_notes,'"']})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buyer Confirmed"}),(0,ga.jsx)("p",{className:"text-sm",children:b.buyer_confirmed_at?(0,ga.jsxs)("span",{className:"text-green-600 flex items-center",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4 mr-1"}),new Date(b.buyer_confirmed_at).toLocaleString("de-DE")]}):(0,ga.jsxs)("span",{className:"text-red-500 flex items-center",children:[(0,ga.jsx)(Is,{className:"w-4 h-4 mr-1"}),"Not confirmed"]})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Seller Confirmed"}),(0,ga.jsx)("p",{className:"text-sm",children:b.seller_confirmed_at?(0,ga.jsxs)("span",{className:"text-green-600 flex items-center",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4 mr-1"}),new Date(b.seller_confirmed_at).toLocaleString("de-DE")]}):(0,ga.jsxs)("span",{className:"text-red-500 flex items-center",children:[(0,ga.jsx)(Is,{className:"w-4 h-4 mr-1"}),"Not confirmed"]})})]})]})]})]})})})]})}const xp=function(){const[e,t]=(0,n.useState)("dashboard"),[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)([]),[o,l]=(0,n.useState)({}),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null),[h,g]=(0,n.useState)(""),{allProducts:p,favorites:x,notifications:f}=Wa(),{showToast:b}=Fa(),{permissions:y,isAdmin:v,isAdminManager:j}=to();(0,n.useEffect)(()=>{y.adminPanel.canAccess&&(w(),"users"===e?N():"site-settings"===e&&_())},[e,y.adminPanel.canAccess]);const w=async()=>{try{d(!0);const e=await _l.getDashboard();console.log("DEBUG: Dashboard data received:",e),a({kpis:(null===e||void 0===e?void 0:e.kpis)||{},recent_activity:(null===e||void 0===e?void 0:e.recent_activity)||k()})}catch(e){b("Failed to load dashboard data","error");const t={total_users:0,total_products:p.length,active_products:p.filter(e=>!1!==e.inStock).length,total_views:0,favorites_count:x.length,total_revenue:0,average_rating:0,growth_rate:0,notifications_count:f.length,total_deals:0};a({kpis:t,recent_activity:k()})}finally{d(!1)}},k=()=>[{action:"".concat(p.length," products currently active"),timestamp:new Date},{action:"".concat(x.length," items in wishlists"),timestamp:new Date(Date.now()-3e5)},{action:"".concat(f.length," notifications sent today"),timestamp:new Date(Date.now()-6e5)},{action:"System performance: Excellent",timestamp:new Date(Date.now()-9e5)}],N=async()=>{try{const e=await _l.getAllUsers();i(e)}catch(e){b("Failed to load users","error"),i([{id:"1",username:"johndoe",email:"john@example.com",full_name:"John Doe",role:"user",is_active:!0,created_at:(new Date).toISOString()},{id:"2",username:"admin",email:"admin@cataloro.com",full_name:"Admin User",role:"admin",is_active:!0,created_at:(new Date).toISOString()}])}},_=async()=>{try{const e=await _l.getSettings();l(e),e&&localStorage.setItem("cataloro_site_branding",JSON.stringify(e))}catch(e){b("Failed to load settings","error");const t={site_name:"Cataloro",site_description:"Modern Marketplace Platform",logo_url:"/assets/logo.png",logo_light_url:"",logo_dark_url:"",theme_color:"#3B82F6",allow_registration:!0,require_approval:!1};l(t),localStorage.setItem("cataloro_site_branding",JSON.stringify(t))}};if(!y.adminPanel.canAccess)return(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ga.jsx)(gl,{className:"w-8 h-8 text-red-500"})}),(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),(0,ga.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access the admin panel"})]});const S=[{id:"dashboard",label:"Dashboard",shortLabel:"Dashboard",icon:Bs},{id:"users",label:"Users",shortLabel:"Users",icon:ni,permission:"canAccessUserManagement"},{id:"listings",label:"Listings",shortLabel:"Listings",icon:Ts,permission:"canAccessListingsManagement"},{id:"business",label:"Business",shortLabel:"Business",icon:pl},{id:"completed",label:"Completed Transactions",shortLabel:"Completed",icon:Yi,permission:"canAccessUserManagement"},{id:"cats",label:"Cat's",shortLabel:"Cat's",icon:bo,permission:"canAccessDatDatabase"},{id:"site-settings",label:"Site Settings",shortLabel:"Settings",icon:Os,adminOnly:!0},{id:"administration",label:"Sections",shortLabel:"Sections",icon:Ls,adminOnly:!0}].filter(e=>!(e.adminOnly&&!v())&&!(e.permission&&!y.adminPanel[e.permission]));return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsx)("div",{className:"space-y-6",children:(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:j()?"Manager Panel":"Admin Panel"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:j()?"Limited administrative access with live data management":"Full control over your marketplace platform"})]}),(0,ga.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium backdrop-blur-md ".concat(j()?"bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":"bg-purple-100/80 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"),children:j()?"MANAGER ACCESS":"ADMIN ACCESS"})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass",children:(0,ga.jsx)("div",{className:"border-b border-white/10 dark:border-white/10",children:(0,ga.jsx)("nav",{className:"-mb-px",children:(0,ga.jsx)("div",{className:"flex justify-between px-2 lg:px-4 xl:px-6",children:S.map(r=>{const a=r.icon,n=e===r.id;return r.isLink?(0,ga.jsxs)(Le,{to:r.linkTo,className:"admin-tab-button flex flex-col sm:flex-row items-center justify-center px-1 sm:px-2 lg:px-3 py-2 lg:py-3 text-xs lg:text-sm font-medium border-b-2 transition-all duration-200 flex-1 text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 rounded-t-lg",title:r.label,children:[(0,ga.jsx)(a,{className:"w-4 h-4 lg:w-5 lg:h-5 mb-1 sm:mb-0 sm:mr-1 lg:mr-2 flex-shrink-0"}),(0,ga.jsxs)("span",{className:"text-xs sm:text-xs lg:text-sm leading-tight text-center sm:text-left",children:[(0,ga.jsx)("span",{className:"hidden xl:inline",children:r.label}),(0,ga.jsx)("span",{className:"xl:hidden",children:r.shortLabel})]})]},r.id):(0,ga.jsxs)("button",{onClick:()=>t(r.id),className:"admin-tab-button flex flex-col sm:flex-row items-center justify-center px-1 sm:px-2 lg:px-3 py-2 lg:py-3 text-xs lg:text-sm font-medium border-b-2 transition-all duration-200 flex-1 ".concat(n?"active text-gray-900 dark:text-white border-blue-600 bg-white/10 dark:bg-white/10 backdrop-blur-md rounded-t-lg":"text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 rounded-t-lg"),title:r.label,children:[(0,ga.jsx)(a,{className:"w-4 h-4 lg:w-5 lg:h-5 mb-1 sm:mb-0 sm:mr-1 lg:mr-2 flex-shrink-0"}),(0,ga.jsxs)("span",{className:"text-xs sm:text-xs lg:text-sm leading-tight text-center sm:text-left",children:[(0,ga.jsx)("span",{className:"hidden xl:inline",children:r.label}),(0,ga.jsx)("span",{className:"xl:hidden",children:r.shortLabel})]})]},r.id)})})})})}),"dashboard"===e&&(0,ga.jsx)(Zg,{dashboardData:r,loading:c}),"users"===e&&(0,ga.jsx)(Xg,{users:s,onUpdateUser:N,showToast:b}),"listings"===e&&(0,ga.jsx)(cp,{showToast:b}),"business"===e&&(0,ga.jsx)(Fl,{showToast:b}),"completed"===e&&(0,ga.jsx)(pp,{showToast:b,permissions:y}),"cats"===e&&(0,ga.jsx)(up,{showToast:b,permissions:y,isAdminManager:j}),"site-settings"===e&&(0,ga.jsx)(tp,{settings:o,onUpdateSettings:_,showToast:b}),"administration"===e&&(0,ga.jsx)(lp,{showToast:b})]})};function fp(e){var t,r,a,s,i,o,l,c,d,u;let{item:m,onRemove:h,onNavigate:g}=e;const[p,x]=(0,n.useState)(0),f=()=>{g("/product/".concat(m.id))};return(0,ga.jsxs)("div",{className:"product-card group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer hover:-translate-y-1",onClick:f,children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"absolute inset-0 cursor-pointer z-10",onClick:e=>{e.stopPropagation(),f()},title:"View product details"}),(0,ga.jsx)("img",{src:(null===(t=m.images)||void 0===t?void 0:t[p])||(null===(r=m.images)||void 0===r?void 0:r[0])||"/api/placeholder/400/300",alt:m.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-[1.02]"}),m.images&&m.images.length>1&&(0,ga.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 z-20",children:m.images.map((e,t)=>(0,ga.jsx)("div",{className:"w-2 h-2 rounded-full cursor-pointer ".concat(t===p?"bg-white":"bg-white/50"),onClick:e=>{e.stopPropagation(),x(t)}},t))}),(0,ga.jsxs)("div",{className:"absolute top-2 left-2 space-y-1 z-20",children:[null===(a=m.tags)||void 0===a?void 0:a.map(e=>(0,ga.jsx)("span",{className:"inline-block bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:e},e)),(0,ga.jsx)("div",{children:(0,ga.jsx)("span",{className:"inline-block text-white text-xs px-2 py-1 rounded-full font-medium ".concat(null!==(s=m.seller)&&void 0!==s&&s.is_business?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"),children:null!==(i=m.seller)&&void 0!==i&&i.is_business?"Business":"Private"})})]}),(0,ga.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,ga.jsx)("button",{onClick:e=>{e.stopPropagation(),h(m.id)},className:"favorites-button wishlist-button add-to-favorites p-3 bg-red-500/90 text-white backdrop-blur-lg rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 shadow-red-500/25",title:"Remove from favorites",children:(0,ga.jsx)(As,{className:"w-4 h-4 fill-current"})})})]}),(0,ga.jsxs)("div",{className:"p-4",children:[(0,ga.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,ga.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white text-lg line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors flex-1 mr-2",children:m.title})}),(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ga.jsxs)("span",{className:"price-display text-2xl font-bold text-blue-600 dark:text-blue-400",children:["\u20ac","number"===typeof m.price?m.price.toLocaleString():m.price]}),(0,ga.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:m.condition||"New"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300 mb-2",children:[(0,ga.jsx)(so,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:m.location||"Location not specified"})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ga.jsx)(Js,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:new Date(m.created_at||Date.now()).toLocaleDateString()})]}),m.views&&(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4"}),(0,ga.jsxs)("span",{children:[m.views," views"]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:((null===(o=m.seller)||void 0===o?void 0:o.name)||(null===(l=m.seller)||void 0===l?void 0:l.username)||"U").charAt(0).toUpperCase()}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(null===(c=m.seller)||void 0===c?void 0:c.name)||(null===(d=m.seller)||void 0===d?void 0:d.username)||"Unknown Seller"}),(0,ga.jsx)("div",{className:"flex items-center space-x-2",children:(0,ga.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null===(u=m.seller)||void 0===u?void 0:u.location)&&(0,ga.jsxs)("span",{className:"flex items-center",children:[(0,ga.jsx)(so,{className:"w-3 h-3 mr-1"}),m.seller.location]})})})]})]}),(0,ga.jsxs)("button",{onClick:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 group-hover:bg-blue-700",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"View Details"})]})]})]})}const bp=function(){var e;const{user:t}=_a(),{showToast:a}=Fa(),s=re(),i=function(){const[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const r=JSON.parse(e);t(r.adsManager||null)}}catch(e){console.warn("Could not load ads configuration")}};e();const r=()=>{e()};return window.addEventListener("adsConfigUpdated",r),window.addEventListener("storage",r),()=>{window.removeEventListener("adsConfigUpdated",r),window.removeEventListener("storage",r)}},[]),e}(),{favorites:o,removeFromFavorites:l,loadUserFavorites:c,isLoading:d}=Wa();(0,n.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&c(t.id)},[null===t||void 0===t?void 0:t.id,c]);const u=async e=>{try{await l(e,t.id),a("Removed from favorites","success")}catch(r){a("Failed to remove from favorites","error")}};return d?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your favorites..."})]})}):(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-2xl p-8",children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"My Favorites"}),(0,ga.jsx)("p",{className:"text-xl opacity-90",children:"Items you've saved for later"}),o.length>0&&(0,ga.jsxs)("p",{className:"text-lg opacity-80 mt-2",children:["You have ",o.length," favorite items"]})]}),(null===i||void 0===i||null===(e=i.favoriteAd)||void 0===e?void 0:e.active)&&i.favoriteAd.image&&(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow ".concat(i.favoriteAd.url?"cursor-pointer":""),style:{width:i.favoriteAd.width||"100%",maxWidth:"100%"},onClick:()=>{if(i.favoriteAd.url){try{Promise.resolve().then(r.bind(r,7784)).then(e=>{let{trackAdClick:t}=e;t("favoriteAd")})}catch(e){console.warn("Could not track ad click:",e)}console.log("Favorites ad clicked:",i.favoriteAd.url),window.open(i.favoriteAd.url,"_blank")}},children:(0,ga.jsx)("img",{src:i.favoriteAd.image,alt:i.favoriteAd.description||"Advertisement",className:"w-full object-cover",style:{height:i.favoriteAd.height||"200px"}})}),0===o.length?(0,ga.jsxs)("div",{className:"text-center py-16",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ga.jsx)(As,{className:"w-8 h-8 text-gray-400"})}),(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No favorites yet"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start browsing and save items you love"}),(0,ga.jsx)(Le,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Browse Marketplace"})]}):(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(e=>(0,ga.jsx)(fp,{item:e,onRemove:u,onNavigate:s},e.id))})]})};const yp=function(){const{user:e}=_a(),t=re(),[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[o,l]=(0,n.useState)("all"),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!0),[h,g]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(0),y=async()=>{if(null!==e&&void 0!==e&&e.id){i(!0);try{const t=localStorage.getItem("cataloro_token"),r=await fetch("".concat("https://cataloro.com","/api/user/").concat(e.id,"/notifications"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch notifications: ".concat(r.status));{const e=await r.json();console.log("Fetched real notifications:",e),a(e||[]),b(e.filter(e=>!e.is_read).length)}}catch(t){console.error("Failed to load real notifications:",t),a([]),b(0)}finally{i(!1)}}};(0,n.useEffect)(()=>{y()},[e]);const v=async t=>{try{const n=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/user/").concat(null===e||void 0===e?void 0:e.id,"/notifications/").concat(t,"/read"),{method:"PUT",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}})).ok&&(a(r.map(e=>e.id===t?(0,Re.A)((0,Re.A)({},e),{},{is_read:!0}):e)),b(e=>Math.max(0,e-1)))}catch(n){console.error("Failed to mark notification as read:",n)}},j=r.filter(e=>{const t="all"===o||"unread"===o&&!e.is_read||"read"===o&&e.is_read||o===e.type,r=!c||e.title.toLowerCase().includes(c.toLowerCase())||e.message.toLowerCase().includes(c.toLowerCase());return t&&r}),w=e=>{const t={className:"w-5 h-5"};switch(e){case"message":return(0,ga.jsx)(Ns,(0,Re.A)({},t));case"favorite":return(0,ga.jsx)(As,(0,Re.A)({},t));case"buy_request":return(0,ga.jsx)(Ss,(0,Re.A)({},t));case"buy_approved":return(0,ga.jsx)(Gi,(0,Re.A)({},t));case"buy_rejected":return(0,ga.jsx)(Is,(0,Re.A)({},t));case"payment":return(0,ga.jsx)(_s,(0,Re.A)({},t));case"profile_view":return(0,ga.jsx)(Xs,(0,Re.A)({},t));case"system":return(0,ga.jsx)(Os,(0,Re.A)({},t));default:return(0,ga.jsx)(Cs,(0,Re.A)({},t))}},k=async e=>{await v(e)},N=async t=>{await(async t=>{try{if((await fetch("".concat("https://cataloro.com","/api/user/").concat(null===e||void 0===e?void 0:e.id,"/notifications/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok){const e=r.find(e=>e.id===t);a(r.filter(e=>e.id!==t)),e&&!e.is_read&&b(e=>Math.max(0,e-1))}}catch(n){console.error("Failed to delete notification:",n)}})(t)};return(0,ga.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,ga.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ga.jsx)("div",{className:"cataloro-card-glass p-8 mb-8",children:(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mb-6 lg:mb-0",children:[(0,ga.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl",children:(0,ga.jsx)(Cs,{className:"w-8 h-8 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:f>0?"".concat(f," unread notification").concat(f>1?"s":""):"All caught up!"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("button",{onClick:()=>{const e=!u;m(e),localStorage.setItem("cataloro_notification_sound",e.toString())},className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:u?"Disable sounds":"Enable sounds",children:u?(0,ga.jsx)(Li,{className:"w-5 h-5"}):(0,ga.jsx)($i,{className:"w-5 h-5"})}),(0,ga.jsx)("button",{onClick:()=>{y()},disabled:s,className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh notifications",children:(0,ga.jsx)(Qi,{className:"w-5 h-5 ".concat(s?"animate-spin":"")})}),f>0&&(0,ga.jsx)("button",{onClick:async()=>{await(async()=>{try{const e=r.filter(e=>!e.is_read);await Promise.all(e.map(e=>v(e.id))),a(r.map(e=>(0,Re.A)((0,Re.A)({},e),{},{is_read:!0}))),b(0)}catch(e){console.error("Failed to mark all as read:",e)}})()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Mark All Read"})]})]})}),(0,ga.jsx)("div",{className:"cataloro-card-glass p-6 mb-8",children:(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:gap-6",children:[(0,ga.jsxs)("div",{className:"relative flex-1 lg:max-w-md",children:[(0,ga.jsx)(ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",placeholder:"Search notifications...",value:c,onChange:e=>d(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]}),(0,ga.jsx)("div",{className:"flex flex-wrap items-center justify-center lg:justify-end gap-2 lg:ml-6",children:[{id:"all",label:"All",count:r.length},{id:"unread",label:"Unread",count:f},{id:"message",label:"Messages",count:r.filter(e=>"message"===e.type).length},{id:"buy_request",label:"Requests",count:r.filter(e=>"buy_request"===e.type).length}].map(e=>(0,ga.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap ".concat(o===e.id?"bg-blue-600 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:shadow-sm"),children:[(0,ga.jsx)("span",{children:e.label}),e.count>0&&(0,ga.jsx)("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full text-xs font-bold min-w-[20px] text-center ".concat(o===e.id?"bg-white/30 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300"),children:e.count})]},e.id))})]})}),(0,ga.jsx)("div",{className:"space-y-4",children:s?(0,ga.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Loading notifications..."})]}):0===j.length?(0,ga.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ga.jsx)(Cs,{className:"w-12 h-12 text-gray-400"})}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:c?"No matching notifications":"No notifications"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:c?"Try adjusting your search terms.":"When you have new activity, it will appear here."})]}):j.map(r=>{const a=(e=>{switch(e){case"message":default:return"blue";case"favorite":return"pink";case"buy_request":return"yellow";case"buy_approved":case"payment":return"green";case"buy_rejected":return"red";case"profile_view":return"purple";case"system":return"gray"}})(r.type),n=h.includes(r.id);return(0,ga.jsx)("div",{className:"cataloro-card-glass p-6 transition-all duration-300 hover:scale-[1.02] cursor-pointer ".concat(r.is_read?"":"ring-2 ring-blue-500/30 bg-blue-50/30 dark:bg-blue-900/20"," ").concat(n?"ring-2 ring-purple-500/50":""),onClick:()=>(async r=>{try{switch(r.is_read||await k(r.id),r.type){case"tender_accepted":case"order_completed":case"transaction_completed":case"transaction_marked_completed":t("/buy?tab=bought-items");break;case"tender_offer":case"new_tender_offer":t("/sell?tab=tenders"),r.listing_id&&setTimeout(()=>{const e=new URLSearchParams(window.location.search);e.set("listing",r.listing_id),t("/sell?tab=tenders&"+e.toString(),{replace:!0})},100);break;case"tender_rejected":t("/buy?tab=tenders");break;case"transaction_fully_completed":case"order_fully_completed":t("/buy?tab=completed");break;case"order_shipped":case"listing_sold":t("/my-listings"),setTimeout(()=>{const e=new URLSearchParams;e.set("filter","closed"),t("/my-listings?"+e.toString(),{replace:!0})},100);break;case"message":case"new_message":r.message_id?t("/messages?id=".concat(r.message_id)):t("/messages");break;case"buy_request":case"purchase_request":t("/my-listings"),setTimeout(()=>{const e=new URLSearchParams;e.set("filter","active"),t("/my-listings?"+e.toString(),{replace:!0})},100);break;case"buy_approved":case"purchase_approved":t("/deals");break;case"buy_rejected":case"purchase_rejected":t("/browse");break;case"favorite":case"wishlist_update":t("/favorites");break;case"listing_approved":case"listing_updated":t("/my-listings");break;case"profile_update":case"account_update":t("/profile");break;case"new_user_registration":case"user_registration":"admin"===(null===e||void 0===e?void 0:e.role)||null!==e&&void 0!==e&&e.is_admin?t("/admin?tab=users"):console.log("User registration notification is for admin users only");break;case"system":case"announcement":console.log("System notification details available here");break;default:r.action_url?window.location.href=r.action_url:console.log("Unknown notification type: ".concat(r.type))}}catch(a){console.error("Error handling notification click:",a)}})(r),children:(0,ga.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ga.jsx)("div",{className:"p-3 rounded-xl ".concat("blue"===a?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"pink"===a?"bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-400":"yellow"===a?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"green"===a?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"red"===a?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"purple"===a?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"),children:w(r.type)}),(0,ga.jsx)("div",{className:"flex-1 min-w-0",children:(0,ga.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:r.title}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:r.message}),r.metadata&&(0,ga.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[r.metadata.amount&&(0,ga.jsxs)("span",{className:"flex items-center",children:[(0,ga.jsx)(_s,{className:"w-4 h-4 mr-1"}),"$",r.metadata.amount]}),r.metadata.item&&(0,ga.jsxs)("span",{className:"flex items-center",children:[(0,ga.jsx)(Ts,{className:"w-4 h-4 mr-1"}),r.metadata.item]}),r.metadata.views&&(0,ga.jsxs)("span",{className:"flex items-center",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4 mr-1"}),r.metadata.views," views"]})]}),(0,ga.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Js,{className:"w-4 h-4 mr-2"}),new Date(r.created_at).toLocaleString()]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!r.is_read&&(0,ga.jsx)("button",{onClick:e=>{e.stopPropagation(),k(r.id)},className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Mark as read",children:(0,ga.jsx)(Gi,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:e=>{e.stopPropagation(),N(r.id)},className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete notification",children:(0,ga.jsx)(Zs,{className:"w-4 h-4"})}),r.action_url&&(0,ga.jsx)(Le,{to:r.action_url,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Go to related page",onClick:e=>e.stopPropagation(),children:(0,ga.jsx)(Dl,{className:"w-4 h-4"})})]})]})}),!r.is_read&&(0,ga.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-pulse mt-1"})]})},r.id)})}),j.length>0&&(0,ga.jsx)("div",{className:"cataloro-card-glass p-6 mt-8",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-300",children:[(0,ga.jsxs)("span",{children:["Showing ",j.length," of ",r.length," notifications"]}),(0,ga.jsxs)("span",{children:[f," unread"]})]})})]})})};const vp=function(){const{user:e,updateUser:t}=_a(),{showToast:r}=Fa(),{allProducts:a,favorites:s,orderHistory:i,refreshListings:o}=Wa();(0,n.useEffect)(()=>{console.log("\ud83d\udd0d ProfilePage mounted - Context data check:",{hasUser:!!e,userInfo:e?{id:e.id,username:e.username,email:e.email,role:e.role,account_type:e.account_type,is_business:e.is_business,can_buy:e.can_buy}:null,hasAllProducts:!!a,allProductsLength:(null===a||void 0===a?void 0:a.length)||0,hasOrderHistory:!!i,orderHistoryLength:(null===i||void 0===i?void 0:i.length)||0,hasFavorites:!!s,favoritesLength:(null===s||void 0===s?void 0:s.length)||0,viewport:{width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<768}})},[e,a,i,s]);const[l,c]=(0,n.useState)("profile"),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)(!1),[x,f]=(0,n.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[b,y]=(0,n.useState)([]),[v,j]=(0,n.useState)(!1),[w,k]=(0,n.useState)(""),[N,_]=(0,n.useState)([]),[S,A]=(0,n.useState)([]),[C,E]=(0,n.useState)({full_name:(null===e||void 0===e?void 0:e.full_name)||"",first_name:(null===e||void 0===e?void 0:e.first_name)||(null!==e&&void 0!==e&&e.full_name?e.full_name.split(" ")[0]:""),last_name:(null===e||void 0===e?void 0:e.last_name)||(null!==e&&void 0!==e&&e.full_name?e.full_name.split(" ").slice(1).join(" "):""),username:(null===e||void 0===e?void 0:e.username)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",street:(null===e||void 0===e?void 0:e.street)||"",post_code:(null===e||void 0===e?void 0:e.post_code)||"",city:(null===e||void 0===e?void 0:e.city)||"",country:(null===e||void 0===e?void 0:e.country)||"",bio:(null===e||void 0===e?void 0:e.bio)||"Marketplace enthusiast and trusted seller.",avatar_url:(null===e||void 0===e?void 0:e.avatar_url)||"",date_joined:(null===e||void 0===e?void 0:e.date_joined)||"2024-01-15",verified:(null===e||void 0===e?void 0:e.verified)||!1,seller_rating:(null===e||void 0===e?void 0:e.seller_rating)||4.8,total_sales:(null===e||void 0===e?void 0:e.total_sales)||0,is_business:(null===e||void 0===e?void 0:e.is_business)||!1,company_name:(null===e||void 0===e?void 0:e.company_name)||"",business_country:(null===e||void 0===e?void 0:e.business_country)||"",vat_number:(null===e||void 0===e?void 0:e.vat_number)||"",timezone:(null===e||void 0===e?void 0:e.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone}),[O,P]=(0,n.useState)([]),[T,L]=(0,n.useState)([]),[M,I]=(0,n.useState)([]),[D,R]=(0,n.useState)(!1),[F,B]=(0,n.useState)(!1),[U,q]=(0,n.useState)(!1),[z,H]=(0,n.useState)({emailNotifications:!0,smsNotifications:!1,marketingEmails:!1,browserNotifications:!0,darkMode:!1,language:"en",currency:"USD",timezone:"UTC",publicProfile:!0,showEmail:!1,showPhone:!1}),[V,G]=(0,n.useState)({totalListings:0,activeListings:0,totalDeals:0,completedDeals:0,avgRating:0,totalFavorites:0,profileViews:0,joinDate:"",lastActive:""}),[W,K]=(0,n.useState)([]),[J,Y]=(0,n.useState)([]),[$,Q]=(0,n.useState)(!1),[Z,X]=(0,n.useState)(!1),ee=["Berlin","Munich","Hamburg","Frankfurt","Cologne","Stuttgart","D\xfcsseldorf","Dortmund","Essen","Bremen","Paris","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven","Tilburg","Groningen","Almere","Brussels","Antwerp","Ghent","Bruges","Leuven","Li\xe8ge","Madrid","Barcelona","Valencia","Seville","Bilbao","M\xe1laga","Zaragoza","Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Venice","London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Cardiff","Vienna","Zurich","Geneva","Copenhagen","Stockholm","Oslo","Helsinki","Prague","Warsaw","Budapest","Dublin","Lisbon","Athens"],te=["Germany","France","Netherlands","Belgium","Spain","Italy","United Kingdom","Austria","Switzerland","Denmark","Sweden","Norway","Finland","Czech Republic","Poland","Hungary","Ireland","Portugal","Greece","Luxembourg","Slovenia","Slovakia","Estonia","Latvia","Lithuania","Malta","Cyprus","Croatia","Romania","Bulgaria"];(0,n.useEffect)(()=>{e&&(E({full_name:e.full_name||"",username:e.username||"",email:e.email||"",phone:e.phone||"",street:e.street||"",post_code:e.post_code||"",city:e.city||"",country:e.country||"",bio:e.bio||"Marketplace enthusiast and trusted seller.",date_of_birth:e.date_of_birth||"",website:e.website||"",profile_image:e.profile_image||null}),"partners"===l&&re())},[e,l]);const re=async()=>{if(null!==e&&void 0!==e&&e.id)try{j(!0);const t=await fetch("".concat("https://cataloro.com","/api/user/partners/").concat(e.id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))}});if(t.ok){const e=await t.json();y(e)}}catch(t){console.error("Failed to load partners:",t),r("Failed to load partners","error")}finally{j(!1)}};(0,n.useEffect)(()=>{(async()=>{if(null!==e&&void 0!==e&&e.id)try{const t=await fetch("".concat("https://cataloro.com","/api/user/").concat(e.id,"/registration-date"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const e=await t.json();E(t=>(0,Re.A)((0,Re.A)({},t),{},{date_joined:e.registration_date||e.created_at||e.date_joined}))}}catch(t){if(console.error("Error fetching registration date:",t),e.created_at||e.date_joined){const t=e.created_at||e.date_joined,r=new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short"});E(e=>(0,Re.A)((0,Re.A)({},e),{},{date_joined:r}))}}})()},[null===e||void 0===e?void 0:e.id]),(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&((async()=>{if(null!==e&&void 0!==e&&e.id)try{Q(!0);const t=await Ba.getMyListings(e.id);K(t)}catch(t){console.error("Failed to fetch listings:",t),K([])}finally{Q(!1)}})(),(async()=>{if(null!==e&&void 0!==e&&e.id)try{X(!0);const t=await fetch("".concat("https://cataloro.com","/api/tenders/buyer/").concat(e.id),{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();Y(e)}else console.error("Failed to load tenders"),Y([])}catch(t){console.error("Error loading tenders:",t),Y([])}finally{X(!1)}})())},[null===e||void 0===e?void 0:e.id]),(0,n.useEffect)(()=>{!e||$||Z?console.log("\u26a0\ufe0f Waiting for data to calculate stats:",{hasUser:!!e,listingsLoading:$,tendersLoading:Z,myListingsLength:W.length,myTendersLength:J.length}):(()=>{if(console.log("\ud83d\udd0d ProfilePage calculateStatsFromTiles - Using working tile logic:",{myListingsCount:W.length,myTendersCount:J.length,listingsLoading:$,tendersLoading:Z}),null===e||void 0===e||!e.id)return void console.log("\u274c No user ID available for stats calculation");const t=W.length,r={totalListings:t,activeListings:W.filter(e=>"active"===e.status).length,totalDeals:W.filter(e=>"sold"===e.status||"closed"===e.status).length,completedDeals:J.filter(e=>"accepted"===e.status).length,avgRating:parseFloat((t>0?4.5:0).toFixed(1)),totalFavorites:(null===s||void 0===s?void 0:s.length)||0,profileViews:W.reduce((e,t)=>e+(t.views||0),0),joinDate:(null===e||void 0===e?void 0:e.date_joined)||(null===e||void 0===e?void 0:e.created_at),lastActive:(new Date).toISOString().split("T")[0]};console.log("\ud83d\udd0d Final calculated stats using tile logic:",r),G(r),E(e=>(0,Re.A)((0,Re.A)({},e),{},{seller_rating:r.avgRating,total_sales:r.completedDeals}))})()},[W,J,s,e,$,Z]);const ae=e=>{const{name:t,value:r}=e.target;E(e=>{const a=(0,Re.A)((0,Re.A)({},e),{},{[t]:r});if("first_name"===t||"last_name"===t){const n="first_name"===t?r:e.first_name,s="last_name"===t?r:e.last_name;a.full_name="".concat(n," ").concat(s).trim()}return a})},ne=(e,t)=>{H((0,Re.A)((0,Re.A)({},z),{},{[e]:t})),r("".concat(e," ").concat(t?"enabled":"disabled"),"success")},se=e=>{f((0,Re.A)((0,Re.A)({},x),{},{[e.target.name]:e.target.value}))};return(0,ga.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,ga.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 rounded-xl p-8 mb-8 text-white relative overflow-hidden",children:[(0,ga.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"}),(0,ga.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),(0,ga.jsxs)("div",{className:"relative flex items-center space-x-6",children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"w-32 h-32 rounded-full bg-white/20 flex items-center justify-center overflow-hidden border-4 border-white/30",children:C.avatar_url?(0,ga.jsx)("img",{src:C.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):(0,ga.jsx)(Es,{className:"w-16 h-16 text-white/80"})}),d&&(0,ga.jsx)("div",{className:"absolute bottom-0 right-0",children:(0,ga.jsxs)("label",{className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center cursor-pointer shadow-lg transition-colors",children:[(0,ga.jsx)("input",{type:"file",accept:"image/*",onChange:async a=>{const n=a.target.files[0];if(n)if(n.size>5242880)r("File size must be less than 5MB","error");else if(n.type.startsWith("image/"))try{h(!0);const a=new FormData;a.append("file",n),a.append("user_id",e.id),a.append("upload_type","avatar");const s=await fetch("".concat("https://cataloro.com","/api/user/upload-avatar"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:a});if(s.ok){const a=await s.json();E(e=>(0,Re.A)((0,Re.A)({},e),{},{avatar_url:a.avatar_url}));const n=(0,Re.A)((0,Re.A)({},e),{},{avatar_url:a.avatar_url});t(n),r("Profile picture updated successfully!","success")}else{const e=await s.json();r(e.detail||"Failed to upload image","error")}}catch(s){console.error("Error uploading avatar:",s),r("Failed to upload image","error")}finally{h(!1)}else r("Please select an image file","error")},className:"hidden"}),m?(0,ga.jsx)(Qi,{className:"w-5 h-5 text-white animate-spin"}):(0,ga.jsx)(Ws,{className:"w-5 h-5 text-white"})]})})]}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold",children:C.full_name||"Anonymous User"}),C.verified&&(0,ga.jsxs)("div",{className:"flex items-center space-x-1 bg-green-500/20 text-green-100 px-3 py-1 rounded-full text-sm",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Verified"})]}),C.is_business&&(0,ga.jsxs)("div",{className:"flex items-center space-x-1 bg-blue-500/20 text-blue-100 px-3 py-1 rounded-full text-sm",children:[(0,ga.jsx)(Os,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Business"})]})]}),(0,ga.jsxs)("p",{className:"text-white/80 mb-4",children:["@",C.username]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Gs,{className:"w-5 h-5 text-yellow-400 fill-current"}),(0,ga.jsx)("span",{className:"font-semibold",children:C.seller_rating}),(0,ga.jsx)("span",{className:"text-white/60",children:"rating"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Ts,{className:"w-5 h-5"}),(0,ga.jsx)("span",{className:"font-semibold",children:V.totalListings}),(0,ga.jsx)("span",{className:"text-white/60",children:"listings"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Ks,{className:"w-5 h-5"}),(0,ga.jsxs)("span",{className:"text-white/60",children:["Joined ",C.date_joined]})]})]})]}),(0,ga.jsx)("div",{className:"text-right",children:(0,ga.jsxs)("button",{onClick:()=>u(!d),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-6 py-3 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ga.jsx)(Cl,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:d?"Cancel Edit":"Edit Profile"})]})})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ga.jsxs)("div",{className:"lg:col-span-2",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 mb-8",children:(0,ga.jsx)("div",{className:"flex px-1 sm:px-2 overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[{id:"profile",label:"Profile Info",shortLabel:"Profile",icon:Es},{id:"security",label:"Security",shortLabel:"Security",icon:Ls},{id:"preferences",label:"Preferences",shortLabel:"Prefs",icon:Os},{id:"partners",label:"Partners",shortLabel:"Partners",icon:ni},{id:"stats",label:"Statistics",shortLabel:"Stats",icon:Us}].map(e=>(0,ga.jsx)("button",{onClick:()=>c(e.id),className:"flex-1 py-3 sm:py-4 px-1 sm:px-3 rounded-lg font-medium transition-colors whitespace-nowrap text-center flex-shrink-0 ".concat(l===e.id?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:(0,ga.jsxs)("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2",children:[(0,ga.jsx)(e.icon,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline text-xs sm:text-sm",children:e.label}),(0,ga.jsx)("span",{className:"sm:hidden text-xs",children:e.shortLabel})]})},e.id))})}),"profile"===l&&(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),d&&(0,ga.jsxs)("button",{onClick:async()=>{try{const a=(null===e||void 0===e?void 0:e.is_business)!==C.is_business;await new Promise(e=>setTimeout(e,1e3));const n=(0,Re.A)((0,Re.A)({},e),C);localStorage.setItem("cataloro_user",JSON.stringify(n)),"function"===typeof t&&t(n),u(!1),r("Profile updated successfully!","success"),a&&(o(),r("Account switched to ".concat(C.is_business?"Business":"Private"),"success"))}catch(a){r("Failed to update profile","error")}},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ga.jsx)(sl,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Save Changes"})]})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),(0,ga.jsx)("input",{type:"text",name:"first_name",value:C.first_name,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your first name"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),(0,ga.jsx)("input",{type:"text",name:"last_name",value:C.last_name,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your last name"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),(0,ga.jsx)("input",{type:"text",name:"username",value:C.username,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your username"})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),(0,ga.jsx)("input",{type:"email",name:"email",value:C.email,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your email"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),(0,ga.jsx)("input",{type:"tel",name:"phone",value:C.phone,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your phone number"})]})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Address Information"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ga.jsx)("input",{type:"text",name:"street",value:C.street,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your street address"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postal Code"}),(0,ga.jsx)("input",{type:"text",name:"post_code",value:C.post_code,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your postal code"})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["City",d&&(0,ga.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ga.jsx)("input",{type:"text",name:"city",value:C.city,onChange:e=>{const t=e.target.value;if(E(e=>(0,Re.A)((0,Re.A)({},e),{},{city:t})),t.length>1){const e=ee.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);P(e),R(e.length>0)}else P([]),R(!1)},onFocus:()=>C.city&&R(O.length>0),disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your city"}),D&&d&&(0,ga.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ga.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)(so,{className:"w-4 h-4 mr-2 text-blue-500"}),"Popular Cities (",O.length,")",(0,ga.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),O.map((e,t)=>(0,ga.jsx)("div",{onClick:()=>(e=>{E(t=>(0,Re.A)((0,Re.A)({},t),{},{city:e})),R(!1),P([])})(e),className:"p-3 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e})]})},t))]})]})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Country",d&&(0,ga.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ga.jsx)("input",{type:"text",name:"country",value:C.country,onChange:e=>{const t=e.target.value;if(E(e=>(0,Re.A)((0,Re.A)({},e),{},{country:t})),t.length>1){const e=te.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);L(e),B(e.length>0)}else L([]),B(!1)},onFocus:()=>C.country&&B(T.length>0),disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your country"}),F&&d&&(0,ga.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ga.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)(Fs,{className:"w-4 h-4 mr-2 text-green-500"}),"Popular Countries (",T.length,")",(0,ga.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),T.map((e,t)=>(0,ga.jsx)("div",{onClick:()=>(e=>{E(t=>(0,Re.A)((0,Re.A)({},t),{},{country:e})),B(!1),L([])})(e),className:"p-3 hover:bg-green-50 dark:hover:bg-green-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",children:e})]})},t))]})]})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(Fs,{className:"w-5 h-5 mr-2 text-blue-500"}),"Timezone Settings"]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timezone"}),(0,ga.jsxs)("select",{name:"timezone",value:C.timezone,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),children:[(0,ga.jsxs)("optgroup",{label:"Popular Timezones",children:[(0,ga.jsx)("option",{value:"Europe/London",children:"London (GMT+0/+1)"}),(0,ga.jsx)("option",{value:"Europe/Berlin",children:"Berlin (GMT+1/+2)"}),(0,ga.jsx)("option",{value:"Europe/Paris",children:"Paris (GMT+1/+2)"}),(0,ga.jsx)("option",{value:"Europe/Madrid",children:"Madrid (GMT+1/+2)"}),(0,ga.jsx)("option",{value:"Europe/Rome",children:"Rome (GMT+1/+2)"}),(0,ga.jsx)("option",{value:"Europe/Amsterdam",children:"Amsterdam (GMT+1/+2)"}),(0,ga.jsx)("option",{value:"Europe/Vienna",children:"Vienna (GMT+1/+2)"}),(0,ga.jsx)("option",{value:"Europe/Prague",children:"Prague (GMT+1/+2)"}),(0,ga.jsx)("option",{value:"Europe/Warsaw",children:"Warsaw (GMT+1/+2)"}),(0,ga.jsx)("option",{value:"Europe/Stockholm",children:"Stockholm (GMT+1/+2)"})]}),(0,ga.jsxs)("optgroup",{label:"Americas",children:[(0,ga.jsx)("option",{value:"America/New_York",children:"New York (EST/EDT)"}),(0,ga.jsx)("option",{value:"America/Chicago",children:"Chicago (CST/CDT)"}),(0,ga.jsx)("option",{value:"America/Denver",children:"Denver (MST/MDT)"}),(0,ga.jsx)("option",{value:"America/Los_Angeles",children:"Los Angeles (PST/PDT)"}),(0,ga.jsx)("option",{value:"America/Toronto",children:"Toronto (EST/EDT)"}),(0,ga.jsx)("option",{value:"America/Vancouver",children:"Vancouver (PST/PDT)"}),(0,ga.jsx)("option",{value:"America/Mexico_City",children:"Mexico City (CST/CDT)"}),(0,ga.jsx)("option",{value:"America/Sao_Paulo",children:"S\xe3o Paulo (BRT)"}),(0,ga.jsx)("option",{value:"America/Argentina/Buenos_Aires",children:"Buenos Aires (ART)"})]}),(0,ga.jsxs)("optgroup",{label:"Asia Pacific",children:[(0,ga.jsx)("option",{value:"Asia/Tokyo",children:"Tokyo (JST)"}),(0,ga.jsx)("option",{value:"Asia/Shanghai",children:"Shanghai (CST)"}),(0,ga.jsx)("option",{value:"Asia/Hong_Kong",children:"Hong Kong (HKT)"}),(0,ga.jsx)("option",{value:"Asia/Singapore",children:"Singapore (SGT)"}),(0,ga.jsx)("option",{value:"Asia/Seoul",children:"Seoul (KST)"}),(0,ga.jsx)("option",{value:"Asia/Kolkata",children:"Mumbai (IST)"}),(0,ga.jsx)("option",{value:"Asia/Dubai",children:"Dubai (GST)"}),(0,ga.jsx)("option",{value:"Australia/Sydney",children:"Sydney (AEST/AEDT)"}),(0,ga.jsx)("option",{value:"Australia/Melbourne",children:"Melbourne (AEST/AEDT)"}),(0,ga.jsx)("option",{value:"Pacific/Auckland",children:"Auckland (NZST/NZDT)"})]}),(0,ga.jsxs)("optgroup",{label:"Africa",children:[(0,ga.jsx)("option",{value:"Africa/Cairo",children:"Cairo (EET)"}),(0,ga.jsx)("option",{value:"Africa/Johannesburg",children:"Johannesburg (SAST)"}),(0,ga.jsx)("option",{value:"Africa/Lagos",children:"Lagos (WAT)"}),(0,ga.jsx)("option",{value:"Africa/Nairobi",children:"Nairobi (EAT)"})]})]}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Current browser timezone: ",Intl.DateTimeFormat().resolvedOptions().timeZone]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),(0,ga.jsx)("textarea",{name:"bio",rows:4,value:C.bio,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Tell us about yourself..."}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[C.bio.length,"/500 characters"]})]}),(0,ga.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-xl p-6 border border-gray-200 dark:border-gray-600",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("div",{className:"p-3 rounded-xl ".concat(C.is_business?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-green-500 to-emerald-600"),children:C.is_business?(0,ga.jsx)(Os,{className:"w-6 h-6 text-white"}):(0,ga.jsx)(Es,{className:"w-6 h-6 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Account Type"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:C.is_business?"Professional business marketplace seller":"Personal marketplace account for individuals"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:C.is_business?"Business":"Personal"}),(0,ga.jsx)("button",{onClick:()=>{return e=!C.is_business,void E(t=>(0,Re.A)((0,Re.A)({},t),{},{is_business:e},!e&&{company_name:"",business_country:"",vat_number:""}));var e},disabled:!d,className:"w-11 h-6 rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(C.is_business?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"," ").concat(d?"":"opacity-50 cursor-not-allowed"),children:(0,ga.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 ease-in-out ".concat(C.is_business?"translate-x-5":"translate-x-0.5")})})]})]}),C.is_business&&(0,ga.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:[(0,ga.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Yi,{className:"w-5 h-5 text-green-600 mr-2"}),"Business Information"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name *"}),(0,ga.jsx)("input",{type:"text",name:"company_name",value:C.company_name,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your company name",required:C.is_business})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Business Country *",d&&(0,ga.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ga.jsx)("input",{type:"text",name:"business_country",value:C.business_country,onChange:e=>{const t=e.target.value;if(E(e=>(0,Re.A)((0,Re.A)({},e),{},{business_country:t})),t.length>1){const e=te.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);I(e),q(e.length>0)}else I([]),q(!1)},onFocus:()=>C.business_country&&q(M.length>0),disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter business country",required:C.is_business}),U&&d&&(0,ga.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ga.jsx)("div",{className:"p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ga.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ga.jsx)(Fs,{className:"w-4 h-4 mr-2 text-indigo-500"}),"Business Countries (",M.length,")",(0,ga.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),M.map((e,t)=>(0,ga.jsx)("div",{onClick:()=>(e=>{E(t=>(0,Re.A)((0,Re.A)({},t),{},{business_country:e})),q(!1),I([])})(e),className:"p-3 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:e})]})},t))]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"VAT Number"}),(0,ga.jsx)("input",{type:"text",name:"vat_number",value:C.vat_number,onChange:ae,disabled:!d,className:"cataloro-input ".concat(d?"":"cursor-not-allowed"),placeholder:"Enter your VAT number (optional)"})]})]})]})]})]})]}),"security"===l&&(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Security Settings"}),(0,ga.jsx)("div",{className:"space-y-8",children:(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(ti,{className:"w-5 h-5 mr-2"}),"Change Password"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,ga.jsx)("input",{type:g?"text":"password",name:"currentPassword",value:x.currentPassword,onChange:se,className:"cataloro-input",placeholder:"Enter current password"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,ga.jsx)("input",{type:g?"text":"password",name:"newPassword",value:x.newPassword,onChange:se,className:"cataloro-input",placeholder:"Enter new password"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,ga.jsx)("input",{type:g?"text":"password",name:"confirmPassword",value:x.confirmPassword,onChange:se,className:"cataloro-input",placeholder:"Confirm new password"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("button",{type:"button",onClick:()=>p(!g),className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[g?(0,ga.jsx)(ei,{className:"w-4 h-4"}):(0,ga.jsx)(Xs,{className:"w-4 h-4"}),(0,ga.jsxs)("span",{children:[g?"Hide":"Show"," passwords"]})]}),(0,ga.jsxs)("button",{onClick:async()=>{if(x.currentPassword)if(x.newPassword===x.confirmPassword)if(x.newPassword.length<8)r("Password must be at least 8 characters long","error");else try{const t=await fetch("".concat("https://cataloro.com","/api/auth/change-password"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({user_id:e.id,current_password:x.currentPassword,new_password:x.newPassword})}),a=await t.json();t.ok?(f({currentPassword:"",newPassword:"",confirmPassword:""}),r("Password updated successfully!","success")):r(a.detail||"Failed to update password","error")}catch(t){console.error("Error updating password:",t),r("Failed to update password","error")}else r("New passwords do not match","error");else r("Current password is required","error")},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ga.jsx)(ai,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Update Password"})]})]})]})]})})]}),"preferences"===l&&(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Preferences"}),(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Cs,{className:"w-5 h-5 mr-2"}),"Notifications"]}),(0,ga.jsx)("div",{className:"space-y-6",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"smsNotifications",label:"SMS Notifications",description:"Receive notifications via SMS"},{key:"marketingEmails",label:"Marketing Emails",description:"Receive promotional content"},{key:"browserNotifications",label:"Browser Notifications",description:"Show desktop notifications"}].map(e=>(0,ga.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:z[e.key]?"On":"Off"}),(0,ga.jsx)("button",{onClick:()=>ne(e.key,!z[e.key]),className:"w-11 h-6 rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(z[e.key]?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"),children:(0,ga.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 ease-in-out ".concat(z[e.key]?"translate-x-5":"translate-x-0.5")})})]})]},e.key))})]}),(0,ga.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-8",children:[(0,ga.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ga.jsx)(Xs,{className:"w-5 h-5 mr-2"}),"Privacy"]}),(0,ga.jsx)("div",{className:"space-y-6",children:[{key:"publicProfile",label:"Public Profile",description:"Make your profile visible to everyone"},{key:"showEmail",label:"Show Email",description:"Display email on public profile"},{key:"showPhone",label:"Show Phone",description:"Display phone number on public profile"}].map(e=>(0,ga.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:z[e.key]?"On":"Off"}),(0,ga.jsx)("button",{onClick:()=>ne(e.key,!z[e.key]),className:"w-11 h-6 rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(z[e.key]?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"),children:(0,ga.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 ease-in-out ".concat(z[e.key]?"translate-x-5":"translate-x-0.5")})})]})]},e.key))})]})]})]}),"partners"===l&&(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ga.jsx)(ni,{className:"w-6 h-6 mr-2"}),"Preferred Partners"]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:'Add users as preferred partners. When you create listings with "Show Partners First" enabled, only your partners will see the listing for the specified time period before it becomes public.'}),(0,ga.jsxs)("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Add New Partner"}),(0,ga.jsxs)("div",{className:"flex space-x-4",children:[(0,ga.jsx)("div",{className:"flex-1",children:(0,ga.jsx)("input",{type:"text",placeholder:"Search users by name or email...",value:w,onChange:e=>k(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})}),(0,ga.jsx)("button",{onClick:()=>(async()=>{if(w.trim())try{const e=await fetch("".concat("https://cataloro.com","/api/users/search?q=").concat(encodeURIComponent(w)),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))}});if(e.ok){const t=await e.json();_(t)}}catch(e){console.error("Failed to search users:",e),r("Failed to search users","error")}})(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Search"})]}),N.length>0&&(0,ga.jsx)("div",{className:"mt-4 space-y-2 max-h-48 overflow-y-auto",children:N.map(t=>(0,ga.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Es,{className:"w-5 h-5 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:t.full_name||t.username}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email})]})]}),(0,ga.jsx)("button",{onClick:()=>(async t=>{if(null!==e&&void 0!==e&&e.id)try{if(!(await fetch("".concat("https://cataloro.com","/api/user/partners"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify({user_id:e.id,partner_id:t.id})})).ok)throw new Error("Failed to add partner");r("".concat(t.full_name||t.username," added as partner"),"success"),k(""),_([]),await re()}catch(a){console.error("Failed to add partner:",a),r("Failed to add partner","error")}})(t),disabled:b.some(e=>e.id===t.id)||t.id===(null===e||void 0===e?void 0:e.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm",children:b.some(e=>e.id===t.id)?"Already Partner":t.id===(null===e||void 0===e?void 0:e.id)?"You":"Add Partner"})]},t.id))})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Current Partners (",b.length,")"]}),v?(0,ga.jsxs)("div",{className:"text-center py-8",children:[(0,ga.jsx)(Qi,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,ga.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading partners..."})]}):b.length>0?(0,ga.jsx)("div",{className:"space-y-3",children:b.map(t=>(0,ga.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Es,{className:"w-6 h-6 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:t.full_name||t.username}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email}),(0,ga.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Partner since ",new Date(t.added_at||Date.now()).toLocaleDateString()]})]})]}),(0,ga.jsx)("button",{onClick:()=>(async t=>{if(null!==e&&void 0!==e&&e.id&&window.confirm("Are you sure you want to remove this partner?"))try{if(!(await fetch("".concat("https://cataloro.com","/api/user/partners/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))}})).ok)throw new Error("Failed to remove partner");r("Partner removed successfully","success"),await re()}catch(a){console.error("Failed to remove partner:",a),r("Failed to remove partner","error")}})(t.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Remove"})]},t.id))}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(ni,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No partners yet"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Search and add users as your preferred partners for exclusive early access to your listings."})]})]})]}),"stats"===l&&(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Account Statistics"}),(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[{label:"Total Listings",value:V.totalListings,icon:Ts,color:"blue"},{label:"Active Listings",value:V.activeListings,icon:Yi,color:"green"},{label:"Total Deals",value:V.totalDeals,icon:_s,color:"purple"},{label:"Completed Deals",value:V.completedDeals,icon:hi,color:"yellow"},{label:"Favorites",value:V.totalFavorites,icon:As,color:"red"}].map((e,t)=>(0,ga.jsx)("div",{className:"bg-gradient-to-r from-".concat(e.color,"-50 to-").concat(e.color,"-100 dark:from-").concat(e.color,"-900/20 dark:to-").concat(e.color,"-800/30 border border-").concat(e.color,"-200 dark:border-").concat(e.color,"-800 rounded-lg p-4"),children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-".concat(e.color,"-600 dark:text-").concat(e.color,"-400 text-sm font-medium"),children:e.label}),(0,ga.jsx)("p",{className:"text-".concat(e.color,"-900 dark:text-").concat(e.color,"-100 text-2xl font-bold"),children:e.value})]}),(0,ga.jsx)("div",{className:"p-3 bg-".concat(e.color,"-500 rounded-lg"),children:(0,ga.jsx)(e.icon,{className:"w-6 h-6 text-white"})})]})},t))}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),(0,ga.jsx)("div",{className:"space-y-4",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Es,{className:"w-5 h-5 text-white"})}),(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Profile updated"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Updated profile information"})]}),(0,ga.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Today"})]})})]})]})]}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Profile Views"}),(0,ga.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:V.profileViews})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Seller Rating"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ga.jsx)(Gs,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,ga.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:C.seller_rating})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Active"}),(0,ga.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:V.lastActive})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsxs)("button",{onClick:async()=>{try{r("Preparing your data export...","info");const t=await fetch("".concat("https://cataloro.com","/api/user/export-data"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({user_id:e.id,format:"pdf"})});if(t.ok){const a=await t.blob(),n=window.URL.createObjectURL(a),s=document.createElement("a");s.style.display="none",s.href=n,s.download="cataloro-data-export-".concat(e.username||e.id,".pdf"),document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),document.body.removeChild(s),r("Data export downloaded successfully!","success")}else{const e=await t.json();r(e.detail||"Failed to export data","error")}}catch(t){console.error("Error exporting data:",t),r("Failed to export data","error")}},className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,ga.jsx)(Ys,{className:"w-5 h-5 text-gray-400"}),(0,ga.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Export Data"})]}),(0,ga.jsxs)("button",{onClick:async()=>{if(!window.confirm('Are you sure you want to delete your account?\n\nThis will:\n- Deactivate your account\n- Hide your listings\n- Preserve your data for 30 days\n- Allow account recovery within 30 days\n\nType "DELETE" to confirm.'))return;if("DELETE"===window.prompt('Type "DELETE" to confirm account deletion:'))try{r("Processing account deletion...","info");const t=await fetch("".concat("https://cataloro.com","/api/user/delete-account"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({user_id:e.id,deletion_type:"soft"})}),a=await t.json();t.ok?(r("Account deleted successfully. You can recover it within 30 days.","success"),localStorage.removeItem("token"),localStorage.removeItem("cataloro_user"),window.location.href="/login"):r(a.detail||"Failed to delete account","error")}catch(t){console.error("Error deleting account:",t),r("Failed to delete account","error")}else r("Account deletion cancelled","info")},className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-red-600 dark:text-red-400",children:[(0,ga.jsx)(Ki,{className:"w-5 h-5"}),(0,ga.jsx)("span",{children:"Delete Account"})]})]})]})]})]})]})};const jp=function(){var e;const{userId:t}=ne(),r=re(),{user:a}=_a(),{allProducts:s}=Wa(),{getUserDisplay:i}=to(),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)({totalListings:0,activeListings:0,totalSales:0,avgRating:0,responseRate:0,memberSince:"",lastActive:""}),[h,g]=(0,n.useState)([]),[p,x]=(0,n.useState)({messages:[],deals:[],totalInteractions:0}),f=e=>{switch(e){case"Admin":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800";case"Manager":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300 border border-purple-200 dark:border-purple-800";case"Seller":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border border-green-200 dark:border-green-800";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-200 dark:border-blue-800"}};return(0,n.useEffect)(()=>{const e=async()=>{try{d(!0);const e=await fetch("".concat("https://cataloro.com","/api/user/").concat(t,"/public-profile"));if(e.ok){const t=await e.json();console.log("Fetched public profile data:",t),l({id:t.id,full_name:t.full_name||"Unknown User",username:t.username||"unknown",email:t.email,bio:t.bio,avatar_url:t.avatar_url||"",city:t.city||"Not specified",country:t.country||"Not specified",date_joined:t.date_joined,created_at:t.created_at,is_verified:t.is_verified||!1,is_business:t.is_business||!1,company_name:t.company_name||"",seller_rating:t.seller_rating||0,phone:t.phone||"",publicProfile:!0,showEmail:!!t.email,showPhone:!!t.phone}),m({totalListings:t.stats.total_listings,activeListings:t.stats.active_listings,totalSales:t.stats.total_sales,avgRating:t.stats.avg_rating,responseRate:t.stats.response_rate,memberSince:t.stats.member_since,lastActive:t.stats.last_active}),t.recent_listings&&g(t.recent_listings)}else console.error("Failed to fetch public profile:",e.status),await r();t!==(null===a||void 0===a?void 0:a.id)&&await(async e=>{try{const r={messages:[],deals:[]};try{const t=await fetch("".concat("https://cataloro.com","/api/messages/conversations/").concat(null===a||void 0===a?void 0:a.id));if(t.ok){const a=(await t.json()).filter(t=>{var r;return(null===(r=t.participants)||void 0===r?void 0:r.some(t=>t.id===e))||t.user_id===e||t.id===e});r.messages=a.slice(0,3).map(e=>{var t,r;return{id:e.id||e.conversation_id,subject:e.subject||"Message conversation",last_message:e.last_message||(null===(t=e.messages)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.content)||"Chat conversation",created_at:e.created_at||e.last_message_at||(new Date).toISOString()}})}}catch(t){console.log("Could not fetch real messages:",t)}try{const t=await fetch("".concat("https://cataloro.com","/api/user/my-deals/").concat(null===a||void 0===a?void 0:a.id));if(t.ok){const a=(await t.json()).filter(t=>{var r,a;return t.buyer_id===e||t.seller_id===e||(null===(r=t.buyer)||void 0===r?void 0:r.id)===e||(null===(a=t.seller)||void 0===a?void 0:a.id)===e});r.deals=a.slice(0,3).map(e=>{var t,r;return{id:e.id,item_title:(null===(t=e.listing)||void 0===t?void 0:t.title)||"Deal item",amount:e.amount||(null===(r=e.listing)||void 0===r?void 0:r.price)||0,status:e.status||"completed",date:e.approved_at||e.created_at||(new Date).toISOString()}})}}catch(t){console.log("Could not fetch real deals:",t)}x((0,Re.A)((0,Re.A)({},r),{},{totalInteractions:r.messages.length+r.deals.length}))}catch(t){console.error("Failed to load user interactions:",t),x({messages:[],deals:[],totalInteractions:0})}})(t)}catch(e){console.error("Failed to load public profile:",e),await r()}finally{d(!1)}},r=async()=>{try{let r=null;const a=await fetch("".concat("https://cataloro.com","/api/auth/profile/").concat(t));if(a.ok)r=await a.json();else{const e=await fetch("".concat("https://cataloro.com","/api/user/").concat(t));e.ok&&(r=await e.json())}if(r){var e;const a={id:r.id,full_name:r.full_name||r.name||"Unknown User",username:r.username||(null===(e=r.email)||void 0===e?void 0:e.split("@")[0])||"unknown",email:r.email,bio:r.bio||"".concat(r.full_name||"User"," is a marketplace member."),avatar_url:r.avatar_url||"",city:r.city||"Not specified",country:r.country||"Not specified",date_joined:r.date_joined||r.created_at||"Unknown",is_verified:r.is_verified||r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||"",seller_rating:r.seller_rating||0,phone:r.phone||"",publicProfile:!0,showEmail:!!r.email,showPhone:!!r.phone};l(a);const n=s.filter(e=>{var a;return(null===(a=e.seller)||void 0===a?void 0:a.username)===r.username||e.seller_id===t});g(n.slice(0,6)),m({totalListings:n.length,activeListings:n.filter(e=>"active"===e.status).length,totalSales:0,avgRating:r.seller_rating||4.5,responseRate:95,memberSince:r.date_joined||"Unknown",lastActive:"Active recently"})}else console.log("No user data found, creating minimal profile"),l({id:t,full_name:"Unknown User",username:t,email:null,bio:"This user has not set up their profile yet.",avatar_url:"",city:"Not specified",country:"Not specified",date_joined:"Unknown",is_verified:!1,is_business:!1,company_name:"",seller_rating:0,phone:"",publicProfile:!0,showEmail:!1,showPhone:!1}),m({totalListings:0,activeListings:0,totalSales:0,avgRating:0,responseRate:0,memberSince:"Unknown",lastActive:"Unknown"})}catch(r){console.error("Fallback profile loading failed:",r),l({id:t,full_name:"Unknown User",username:t,email:null,bio:"Profile temporarily unavailable.",avatar_url:"",city:"Not specified",country:"Not specified",date_joined:"Unknown",is_verified:!1,is_business:!1,company_name:"",seller_rating:0,phone:"",publicProfile:!0,showEmail:!1,showPhone:!1})}};t&&e()},[t,null===a||void 0===a?void 0:a.id,s]),c?(0,ga.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Profile..."})]})}):o&&o.publicProfile?(0,ga.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 fade-in",children:(0,ga.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ga.jsx)("div",{className:"cataloro-card-glass p-8 mb-8",children:(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-6 lg:space-y-0 lg:space-x-8",children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"w-32 h-32 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto lg:mx-0",children:o.avatar_url?(0,ga.jsx)("img",{src:o.avatar_url,alt:"Profile",className:"w-32 h-32 rounded-full object-cover"}):(0,ga.jsx)("span",{className:"text-white font-bold text-4xl",children:(null===(e=o.full_name)||void 0===e?void 0:e.charAt(0))||"U"})}),o.verified&&(0,ga.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-green-500 rounded-full p-2",children:(0,ga.jsx)(Yi,{className:"w-6 h-6 text-white"})})]}),(0,ga.jsxs)("div",{className:"flex-1 text-center lg:text-left",children:[(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:space-x-3 mb-4",children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o.full_name||"Unknown User"}),(0,ga.jsxs)("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mt-2 lg:mt-0",children:[(()=>{const e=(e=>{if((null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)){const e=i();return{badge:(null===e||void 0===e?void 0:e.badge)||"Buyer",role:(null===e||void 0===e?void 0:e.role)||"User-Buyer"}}const t=(null===e||void 0===e?void 0:e.email)||"",r=(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||"";return t.includes("admin")||"admin"===(null===e||void 0===e?void 0:e.role)?{badge:"Admin",role:"Admin"}:r.toLowerCase().includes("seller")||"User-Seller"===(null===e||void 0===e?void 0:e.user_role)?{badge:"Seller",role:"User-Seller"}:"Admin-Manager"===(null===e||void 0===e?void 0:e.user_role)?{badge:"Manager",role:"Admin-Manager"}:{badge:"Buyer",role:"User-Buyer"}})(o);return(0,ga.jsxs)("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full ".concat(f(e.badge)),children:[(0,ga.jsx)(Ls,{className:"w-4 h-4 mr-1"}),e.badge]})})(),o.is_verified&&(0,ga.jsxs)("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-100 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4 mr-1"}),"Verified"]}),o.is_business?(0,ga.jsxs)("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ga.jsx)(Os,{className:"w-4 h-4 mr-1"}),"Business"]}):(0,ga.jsxs)("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ga.jsx)(Es,{className:"w-4 h-4 mr-1"}),"Private"]})]})]}),(0,ga.jsxs)("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:["@",o.username||"unknown"]}),o.is_business&&o.company_name&&(0,ga.jsx)("p",{className:"text-blue-600 dark:text-blue-400 font-medium mb-4",children:o.company_name}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-2xl",children:o.bio}),(0,ga.jsxs)("div",{className:"flex items-center justify-center lg:justify-start text-gray-600 dark:text-gray-300 mb-6",children:[(0,ga.jsx)(so,{className:"w-5 h-5 mr-2"}),(0,ga.jsxs)("span",{children:[o.city,", ",o.country]})]}),(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[(null===a||void 0===a?void 0:a.id)!==t&&(0,ga.jsxs)("button",{onClick:()=>{window.location.href="/messages?user=".concat(t)},className:"cataloro-button-primary flex items-center justify-center",children:[(0,ga.jsx)(Ns,{className:"w-5 h-5 mr-2"}),"Send Message"]}),o.showPhone&&(0,ga.jsxs)("a",{href:"tel:".concat(o.phone),className:"cataloro-button-secondary flex items-center justify-center",children:[(0,ga.jsx)(ii,{className:"w-5 h-5 mr-2"}),"Call"]})]})]})]})}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ga.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(null===a||void 0===a?void 0:a.id)!==t&&p.totalInteractions>0&&(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ga.jsx)(Ns,{className:"w-5 h-5 mr-2 text-blue-600"}),"Interactions with this user"]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[p.messages.length>0&&(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Recent Messages (",p.messages.length,")"]}),(0,ga.jsx)("div",{className:"space-y-2",children:p.messages.slice(0,3).map(e=>(0,ga.jsxs)("div",{className:"p-3 bg-blue-50/50 dark:bg-blue-900/20 rounded-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.subject}),(0,ga.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e.last_message})]},e.id))})]}),p.deals.length>0&&(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Past Deals (",p.deals.length,")"]}),(0,ga.jsx)("div",{className:"space-y-2",children:p.deals.slice(0,3).map(e=>(0,ga.jsxs)("div",{className:"p-3 bg-green-50/50 dark:bg-green-900/20 rounded-lg",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.item_title}),(0,ga.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("span",{className:"text-sm font-bold text-green-600",children:["$",e.amount]}),(0,ga.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]})]},e.id))})]}),(0,ga.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:p.totalInteractions}),(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Interactions"})]})})]})]}),(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Statistics"}),(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Ts,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Listings"})]}),(0,ga.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:u.totalListings})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(_s,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Sales"})]}),(0,ga.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:u.totalSales})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Gs,{className:"w-5 h-5 text-yellow-500 mr-3"}),(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Rating"})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Gs,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,ga.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:u.avgRating})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Ns,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,ga.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Response Rate"})]}),(0,ga.jsxs)("span",{className:"font-bold text-gray-900 dark:text-white",children:[u.responseRate,"%"]})]})]})]}),(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Additional Information"}),(0,ga.jsxs)("div",{className:"space-y-4",children:[o.is_business&&o.company_name&&(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Os,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Company"}),(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:o.company_name})]})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Ls,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Account Status"}),(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:u.account_status||(o.is_verified?"Verified Member":"Standard Member")})]})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Fs,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Profile Type"}),(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:o.is_business?"Business Account":"Personal Account"})]})]})]})]}),(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Member Info"}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Ks,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Member since"}),(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:u.memberSince&&"Unknown"!==u.memberSince?u.memberSince:"Unknown"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)(Xs,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last active"}),(0,ga.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:u.lastActive})]})]})]})]})]}),(0,ga.jsx)("div",{className:"lg:col-span-2",children:(0,ga.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ga.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Recent Listings (",u.activeListings," active)"]}),h.length>6&&(0,ga.jsx)("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium",children:"View All \u2192"})]}),0===h.length?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Ts,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ga.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Listings Yet"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This user hasn't created any listings."})]}):(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((e,t)=>{var a;return(0,ga.jsx)("div",{className:"group cursor-pointer",onClick:()=>r("/product/".concat(e.id)),children:(0,ga.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-4 hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 border border-gray-200/50 dark:border-gray-700/50",children:[(0,ga.jsx)("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:(0,ga.jsx)("img",{src:(null===(a=e.images)||void 0===a?void 0:a[0])||e.listing_image||"/api/placeholder/300/200",alt:e.title,className:"w-full h-32 object-cover rounded-lg"})}),(0,ga.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors mb-2 line-clamp-2",children:e.title}),(0,ga.jsx)("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:Co(e.price)})]})},t)})})]})})]})]})}):(0,ga.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center max-w-md mx-auto p-8",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ga.jsx)(Es,{className:"w-12 h-12 text-gray-400"})}),(0,ga.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Profile Not Available"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This user's profile is private or doesn't exist."})]})})},wp=js("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),kp=js("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const Np=function(e){let{conversations:t=[],activeConversation:r=null,onBack:a}=e;console.log("\ud83d\ude80 MobileMessenger component rendered - props:",{onBack:!!a,activeConversation:r});const{user:s}=_a(),{showToast:i}=Fa();console.log("\ud83d\udd10 Auth context in MobileMessenger:",{user:s,hasUser:!!s});const[o,l]=(0,n.useState)(r?"conversation":"list"),[c,d]=(0,n.useState)(r),[u,m]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[p,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!0),[y,v]=(0,n.useState)([]),[j,w]=(0,n.useState)([]),[k,N]=(0,n.useState)([]),_=(0,n.useRef)(null),[S,A]=(0,n.useState)(!0);(0,n.useEffect)(()=>{const e=setTimeout(()=>{A(!1)},3e3);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{console.log("\ud83d\udd0d MobileMessenger useEffect triggered - user state:",s),console.log("\ud83d\udd0d User keys:",s?Object.keys(s):"user is null/undefined")},[s]),(0,n.useEffect)(()=>{console.log("\ud83c\udfaf loadConversations useEffect triggered - user:",s),C()},[s]),(0,n.useEffect)(()=>{if(k.length>0&&"conversation"===o){const e=setTimeout(()=>{P()},50);return()=>clearTimeout(e)}},[k,o]);const C=async()=>{if(s&&s.id){console.log("\ud83d\udd0d Loading conversations for user:",s.id);try{b(!0);const e=await Ua.getUserMessages(s.id);console.log("\ud83d\udd0d Loaded ".concat(e.length," total messages"));const t=new Map,r=new Date(Date.now()-6048e5);console.log("\ud83d\udd0d Filtering messages newer than:",r.toISOString());let a=0,n=0;e.forEach(e=>{if(new Date(e.created_at)<r)return;a++;const i=e.sender_id===s.id?e.recipient_id:e.sender_id,o=e.sender_id===s.id?e.recipient_name:e.sender_name;t.has(i)||t.set(i,{id:i,name:o||"Unknown User",initials:(o||"UN").substring(0,2).toUpperCase(),messages:[],lastMessage:null,unreadCount:0,online:Math.random()>.5});const l=t.get(i);l.messages.push(e),(!l.lastMessage||new Date(e.created_at)>new Date(l.lastMessage.created_at))&&(l.lastMessage=e),!1===e.is_read&&e.sender_id!==s.id&&e.sender_id!==e.recipient_id?(l.unreadCount++,n++,console.log("\ud83d\udd0d Found unread message from ".concat(e.sender_id," to ").concat(e.recipient_id,", is_read=").concat(e.is_read,", conversation unreadCount now: ").concat(l.unreadCount))):console.log("\ud83d\udd0d Message from ".concat(e.sender_id," to ").concat(e.recipient_id,", is_read=").concat(e.is_read,", sender is current user: ").concat(e.sender_id===s.id,", is self-message: ").concat(e.sender_id===e.recipient_id))}),console.log("\ud83d\udd0d Processing complete: ".concat(a," messages processed, ").concat(n," unread messages found"));const i=Array.from(t.values()).sort((e,t)=>e.lastMessage||t.lastMessage?e.lastMessage?t.lastMessage?new Date(t.lastMessage.created_at)-new Date(e.lastMessage.created_at):-1:1:0);i.forEach(e=>{e.messages.sort((e,t)=>new Date(e.created_at)-new Date(t.created_at))}),console.log("\ud83d\udccb Setting conversations list:",i),v(i),console.log("\u2705 Conversations loaded successfully: ".concat(i.length," conversations")),i.forEach(e=>{console.log('\ud83d\udd0d Conversation "'.concat(e.name,'": ').concat(e.unreadCount," unread messages"))})}catch(e){console.error("\u274c Error loading conversations:",e),i("Error loading conversations","error")}finally{console.log("\u2705 Loading complete, setting loading to false"),b(!1)}}else console.log("\u274c No user available for loading conversations")},E=async e=>{d(e),l("conversation"),(async e=>{if(e&&e.messages){const t=e.messages.map(e=>({id:e.id,text:e.content,sender:e.sender_id===s.id?"me":"them",timestamp:new Date(e.created_at),status:e.is_read?"read":"delivered"}));t.sort((e,t)=>e.timestamp-t.timestamp),N(t)}})(e),await(async e=>{if(s&&e&&e.messages)try{const r=e.messages.filter(e=>!e.is_read&&e.sender_id!==s.id);console.log("\ud83d\udcd6 Marking ".concat(r.length," messages as read in conversation"));for(const e of r)try{await Ua.markMessageRead(s.id,e.id),console.log("\u2705 Marked message ".concat(e.id," as read"))}catch(t){console.error("\u274c Failed to mark message ".concat(e.id," as read:"),t)}if(r.length>0){v(t=>t.map(t=>t.id===e.id?(0,Re.A)((0,Re.A)({},t),{},{messages:t.messages.map(e=>r.find(t=>t.id===e.id)?(0,Re.A)((0,Re.A)({},e),{},{is_read:!0}):e),unreadCount:0,unread_count:0}):t)),N(e=>e.map(e=>(0,Re.A)((0,Re.A)({},e),{},{status:"them"===e.sender?"read":e.status})));const t=y.reduce((t,a)=>t+(a.id===e.id?Math.max(0,(a.unread_count||0)-r.length):a.unread_count||0),0);window.dispatchEvent(new CustomEvent("badgeUpdate",{detail:{type:"messages",count:t}})),console.log("\ud83d\udd14 Updated unread message count to: ".concat(t)),setTimeout(()=>{console.log("\ud83d\udd04 Triggering UI refresh after marking messages as read")},100)}}catch(t){console.error("\u274c Error marking conversation as read:",t)}})(e)},O=async()=>{if(!u.trim()||!c)return void i("No message or conversation selected","error");console.log("\ud83d\udd04 Sending message:",u,"to conversation:",c.id);const e=u,t=Date.now(),r={id:t,text:e,sender:"me",timestamp:new Date,status:"sending"};N(e=>[...e,r]),m("");try{console.log("\ud83d\udce4 Calling liveService.sendMessage...");const r=await Ua.sendMessage({recipient_id:c.id,content:e,sender_id:s.id});console.log("\u2705 Message sent successfully:",r),N(e=>e.map(e=>e.id===t?(0,Re.A)((0,Re.A)({},e),{},{status:"sent"}):e)),C()}catch(a){console.error("\u274c Error sending message:",a),i("Failed to send message: "+a.message,"error"),N(e=>e.filter(e=>e.id!==t)),m(e)}},P=()=>{const e=document.getElementById("messages-container");e&&(e.scrollTop=e.scrollHeight)},T=e=>e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),L=y.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())),M=e=>{switch(e){case"sending":return(0,ga.jsx)(Js,{className:"w-3 h-3 text-gray-400"});case"sent":return(0,ga.jsx)(Gi,{className:"w-3 h-3 text-gray-400"});case"delivered":return(0,ga.jsx)(Zi,{className:"w-3 h-3 text-gray-400"});case"read":return(0,ga.jsx)(Zi,{className:"w-3 h-3 text-blue-500"});default:return null}};return"list"===o?(0,ga.jsxs)("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",style:{height:"100dvh"},children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ga.jsx)(Go,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),(0,ga.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Messages"})]}),(0,ga.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(()=>{const e=y.reduce((e,t)=>{const r=t.unreadCount||t.unread_count||0;return console.log("\ud83d\udd0d Conversation ".concat(t.name,": unreadCount=").concat(t.unreadCount,", unread_count=").concat(t.unread_count,", total=").concat(r)),e+r},0);return console.log("\ud83d\udd0d Total unread messages in header: ".concat(e)),e})()," unread"]})]}),(0,ga.jsxs)("div",{className:"mt-3 relative",children:[(0,ga.jsx)(ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ga.jsx)("input",{type:"text",placeholder:"Search conversations...",value:h,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-700 border-0 rounded-lg text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:bg-white dark:focus:bg-gray-600"})]})]}),(0,ga.jsxs)("div",{className:"flex-1 overflow-y-auto",style:{paddingBottom:"calc(80px + env(safe-area-inset-bottom))"},children:["  ",f?(0,ga.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center px-4",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4 animate-pulse",children:(0,ga.jsx)(ko,{className:"w-8 h-8 text-gray-400"})}),(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Loading conversations..."}),(0,ga.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Please wait while we fetch your messages"})]}):0===L.length?(0,ga.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center px-4",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:(0,ga.jsx)(ko,{className:"w-8 h-8 text-gray-400"})}),(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No conversations found"}),(0,ga.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search terms or start a new conversation"})]}):L.map(e=>(0,ga.jsxs)("div",{onClick:()=>E(e),className:"flex items-center space-x-3 p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors ".concat(e.unreadCount>0||e.unread_count>0?"bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white font-medium",children:e.initials})}),e.online&&(0,ga.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"})]}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,ga.jsx)("h3",{className:"truncate text-gray-900 dark:text-white ".concat(e.unreadCount>0||e.unread_count>0?"font-bold":"font-medium"),children:e.name}),(0,ga.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.lastMessage?T(new Date(e.lastMessage.created_at)):""})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:e.lastMessage?(0,ga.jsxs)(ga.Fragment,{children:[e.lastMessage.sender_id===(null===s||void 0===s?void 0:s.id)?"You: ":"",e.lastMessage.content]}):"No messages yet"})]}),(e.unreadCount>0||e.unread_count>0)&&(0,ga.jsx)("div",{className:"bg-red-500 text-white text-xs rounded-full min-w-[20px] h-5 flex items-center justify-center px-1.5 font-bold",children:e.unreadCount||e.unread_count})]},e.id))]})]}):(0,ga.jsxs)("div",{className:"relative flex flex-col h-full bg-white dark:bg-gray-900",style:{height:"100dvh"},children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("button",{onClick:()=>l("list"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ga.jsx)(Go,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white font-medium text-sm",children:(null===c||void 0===c?void 0:c.initials)||"UN"})}),(null===c||void 0===c?void 0:c.online)&&(0,ga.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h2",{className:"font-medium text-gray-900 dark:text-white",children:(null===c||void 0===c?void 0:c.name)||"Unknown User"}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null!==c&&void 0!==c&&c.online?"Active now":(e=>{const t=new Date,r=Math.floor((t-e)/36e5);return r<1?"Active now":r<24?"Active ".concat(r,"h ago"):"Active ".concat(Math.floor(r/24),"d ago")})(new Date(Date.now()-36e5))})]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ga.jsx)(ii,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,ga.jsx)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ga.jsx)(Ei,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,ga.jsx)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ga.jsx)(Ko,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]})}),(0,ga.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",id:"messages-container",style:{paddingBottom:"calc(80px + env(safe-area-inset-bottom))"},children:[k.map(e=>(0,ga.jsx)("div",{className:"flex ".concat("me"===e.sender?"justify-end":"justify-start"),children:(0,ga.jsxs)("div",{className:"max-w-[75%] ".concat("me"===e.sender?"order-2":"order-1"),children:[(0,ga.jsx)("div",{className:"px-4 py-2 rounded-2xl ".concat("me"===e.sender?"bg-blue-500 text-white rounded-br-md":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-md"),children:(0,ga.jsx)("p",{className:"text-sm",children:e.text})}),(0,ga.jsxs)("div",{className:"flex items-center mt-1 space-x-1 ".concat("me"===e.sender?"justify-end":"justify-start"),children:[(0,ga.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:T(e.timestamp)}),"me"===e.sender&&M(e.status)]})]})},e.id)),(0,ga.jsx)("div",{ref:_})]}),(0,ga.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4",style:{paddingBottom:"max(16px, env(safe-area-inset-bottom))",transform:"translateZ(0)"},children:(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:["  ",(0,ga.jsx)("button",{className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:(0,ga.jsx)(kp,{className:"w-5 h-5"})}),(0,ga.jsxs)("div",{className:"flex-1 relative",children:[(0,ga.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),onKeyPress:e=>"Enter"===e.key&&O(),placeholder:"Type a message...",autoFocus:!1,autoComplete:"off",onFocus:e=>{S&&e.target.blur()},className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 border-0 rounded-2xl text-sm placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:bg-white dark:focus:bg-gray-600 resize-none",rows:"1"}),(0,ga.jsx)("button",{onClick:()=>x(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:(0,ga.jsx)(wp,{className:"w-5 h-5"})})]}),(0,ga.jsx)("button",{onClick:O,disabled:!u.trim(),className:"p-3 rounded-full transition-colors ".concat(u.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"),children:(0,ga.jsx)(_o,{className:"w-5 h-5"})})]})})]})};const _p=function(){var e,t;const{user:a}=_a(),{showToast:s}=Fa(),{getUserDisplay:i}=to(),o=function(){const[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const r=JSON.parse(e);t(r.adsManager||null)}}catch(e){console.warn("Could not load ads configuration")}};e();const r=()=>{e()};return window.addEventListener("adsConfigUpdated",r),window.addEventListener("storage",r),()=>{window.removeEventListener("adsConfigUpdated",r),window.removeEventListener("storage",r)}},[]),e}(),l=re(),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)([]),[h,g]=(0,n.useState)(null),[p,x]=(0,n.useState)([]),[f,b]=(0,n.useState)({recipient:"",subject:"",content:""}),[y,v]=(0,n.useState)(""),[j,w]=(0,n.useState)(""),[k,N]=(0,n.useState)(!1),[_,S]=(0,n.useState)("all"),[A,C]=(0,n.useState)(!0),[E,O]=(0,n.useState)(0),[P,T]=(0,n.useState)(!1),[L,M]=(0,n.useState)(null),[I,D]=(0,n.useState)(!1),[R,F]=(0,n.useState)([]),[B,U]=(0,n.useState)(!1),[q,z]=(0,n.useState)(!1),[H,V]=(0,n.useState)(null),[G,W]=(0,n.useState)(new Set),[K,J]=(0,n.useState)(""),[Y,$]=(0,n.useState)([]),[Q,Z]=(0,n.useState)(!1),[X,ee]=(0,n.useState)(null),te=(0,n.useRef)(null),ae=(0,n.useRef)(null),ne=(0,n.useRef)({});if((0,n.useEffect)(()=>{const e=()=>{d(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>()=>{console.log("\ud83d\udd04 Leaving Messages area - resetting read status"),window.dispatchEvent(new CustomEvent("messagesSessionReset"))},[]),(0,n.useEffect)(()=>{a&&!c&&(console.log("\ud83d\udd04 Loading messages for desktop version..."),le())},[a,c]),(0,n.useEffect)(()=>{p.length>0&&!c&&setTimeout(()=>{oe()},100)},[p,c]),c)return(0,ga.jsx)("div",{className:"fixed inset-0 z-50 bg-gray-50 dark:bg-gray-900",children:(0,ga.jsx)(Np,{onBack:()=>l("/browse")})});const se=(e,t)=>{if(e===(null===a||void 0===a?void 0:a.id)){const e=i();return{badge:(null===e||void 0===e?void 0:e.badge)||"Buyer",role:(null===e||void 0===e?void 0:e.role)||"User-Buyer"}}return null!==t&&void 0!==t&&t.toLowerCase().includes("seller")||null!==t&&void 0!==t&&t.toLowerCase().includes("john")?{badge:"Seller",role:"User-Seller"}:null!==t&&void 0!==t&&t.toLowerCase().includes("admin")?{badge:"Admin",role:"Admin"}:{badge:"Buyer",role:"User-Buyer"}},ie=e=>{switch(e){case"Admin":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Manager":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"Seller":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}},oe=()=>{const e=document.getElementById("desktop-messages-container");e&&(e.scrollTop=e.scrollHeight)},le=async()=>{if(a)try{C(!0);const e=await Ua.getUserMessages(a.id),t=new Map,r=new Date(Date.now()-6048e5);e.forEach(e=>{if(new Date(e.created_at)<r)return;const n=e.sender_id===a.id?e.recipient_id:e.sender_id,s=e.sender_id===a.id?e.recipient_name:e.sender_name;t.has(n)||t.set(n,{id:n,name:s||"Unknown User",messages:[],lastMessage:null,unreadCount:0});const i=t.get(n);i.messages.push(e),(!i.lastMessage||new Date(e.created_at)>new Date(i.lastMessage.created_at))&&(i.lastMessage=e),e.is_read||e.sender_id===a.id||i.unreadCount++});const n=Array.from(t.values()).sort((e,t)=>e.lastMessage||t.lastMessage?e.lastMessage?t.lastMessage?new Date(t.lastMessage.created_at)-new Date(e.lastMessage.created_at):-1:1:0);e.length>n.reduce((e,t)=>e+t.messages.length,0)&&s("\u26a0\ufe0f Some conversations older than 7 days have been automatically removed","info"),m(n)}catch(e){console.error("Failed to load messages:",e),s("Failed to load messages","error"),m(he)}finally{C(!1)}},ce=e=>{console.log("\ud83c\udfaf selectConversation called for:",e.name),g(e);const t=e.messages.sort((e,t)=>new Date(e.created_at)-new Date(t.created_at));x(t),m(t=>t.map(t=>t.id===e.id?(0,Re.A)((0,Re.A)({},t),{},{unreadCount:0}):t));const r=e.unreadCount||0;if(r>0){console.log("\ud83d\udce7 Immediately updating header - reducing count by ".concat(r)),window.dispatchEvent(new CustomEvent("messagesMarkedAsRead",{detail:{count:r}}));e.messages.filter(e=>!e.is_read&&e.sender_id!==a.id).forEach(e=>{console.log("\ud83d\udcdd Marking message ".concat(e.id," as read on server")),ue(e.id)})}},de=async()=>{if(!y.trim()||!h)return;const e=y;try{var t,r;U(!0),await Ua.sendMessage({sender_id:a.id,recipient_id:h.id,subject:"Re: ".concat((null===(t=p[0])||void 0===t?void 0:t.subject)||"Conversation"),content:e}),v("");const n={id:"temp_".concat(Date.now()),sender_id:a.id,sender_name:(null===a||void 0===a?void 0:a.full_name)||(null===a||void 0===a?void 0:a.username)||"You",recipient_id:h.id,subject:"Re: ".concat((null===(r=p[0])||void 0===r?void 0:r.subject)||"Conversation"),content:e,is_read:!0,created_at:(new Date).toISOString()};x(e=>[...e,n]),setTimeout(()=>le(),1e3)}catch(n){console.error("Failed to send reply:",n),s("Failed to send reply","error")}finally{U(!1)}},ue=async e=>{if(a)try{await Ua.markMessageRead(a.id,e),x(t=>t.map(t=>t.id===e?(0,Re.A)((0,Re.A)({},t),{},{is_read:!0}):t)),m(t=>t.map(t=>(0,Re.A)((0,Re.A)({},t),{},{messages:t.messages.map(t=>t.id===e?(0,Re.A)((0,Re.A)({},t),{},{is_read:!0}):t),unreadCount:Math.max(0,t.unreadCount-1)})))}catch(t){console.error("Failed to mark message as read:",t)}},me=u.filter(e=>{var t,r,n,s,i,o;const l=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(j.toLowerCase()))||(null===(r=e.lastMessage)||void 0===r||null===(n=r.subject)||void 0===n?void 0:n.toLowerCase().includes(j.toLowerCase()))||(null===(s=e.lastMessage)||void 0===s||null===(i=s.content)||void 0===i?void 0:i.toLowerCase().includes(j.toLowerCase())),c="all"===_||"unread"===_&&e.unreadCount>0||"sent"===_&&(null===(o=e.lastMessage)||void 0===o?void 0:o.sender_id)===(null===a||void 0===a?void 0:a.id);return l&&c}),he=[{id:"user1",conversation_id:"conv1",name:"John Seller",participants:[{id:"user1",name:"John Seller"},{id:(null===a||void 0===a?void 0:a.id)||"demo_user",name:(null===a||void 0===a?void 0:a.full_name)||"Demo User"}],messages:[{id:"1",sender_id:"user1",sender_name:"John Seller",recipient_id:(null===a||void 0===a?void 0:a.id)||"demo_user",subject:"Question about your MacBook Pro listing",content:"Hi! Is the MacBook Pro still available? I'm very interested and can pick it up today. I can offer the full asking price.",is_read:!1,created_at:new Date(Date.now()-72e5).toISOString()},{id:"4",sender_id:(null===a||void 0===a?void 0:a.id)||"demo_user",sender_name:(null===a||void 0===a?void 0:a.full_name)||"Demo User",recipient_id:"user1",subject:"Re: Question about your MacBook Pro listing",content:"Yes, it's still available! When would be a good time for you to pick it up?",is_read:!0,created_at:new Date(Date.now()-36e5).toISOString()},{id:"5",sender_id:"user1",sender_name:"John Seller",recipient_id:(null===a||void 0===a?void 0:a.id)||"demo_user",subject:"Re: Question about your MacBook Pro listing",content:"Great! When would be a good time to meet?",is_read:!0,created_at:new Date(Date.now()-18e5).toISOString()}],lastMessage:null,unreadCount:0},{id:"user2",conversation_id:"conv2",name:"Sarah Buyer",participants:[{id:"user2",name:"Sarah Buyer"},{id:(null===a||void 0===a?void 0:a.id)||"demo_user",name:(null===a||void 0===a?void 0:a.full_name)||"Demo User"}],messages:[{id:"2",sender_id:"user2",sender_name:"Sarah Buyer",recipient_id:null===a||void 0===a?void 0:a.id,subject:"Purchase inquiry",content:"Hello, I saw your vintage guitar listing. Would you consider $800? I'm a serious buyer and can meet today.",is_read:!1,created_at:new Date(Date.now()-18e5).toISOString()}],lastMessage:null,unreadCount:1}];return he.forEach(e=>{e.lastMessage=e.messages[e.messages.length-1],e.unreadCount=e.messages.filter(e=>!e.is_read&&e.sender_id!==(null===a||void 0===a?void 0:a.id)).length}),(0,ga.jsxs)("div",{className:"".concat(q?"fixed inset-0 z-50 bg-white dark:bg-gray-900":"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"),children:[(0,ga.jsxs)("div",{className:"".concat(q?"h-full":"max-w-6xl mx-auto h-[calc(100vh-12rem)] max-h-[calc(100vh-12rem)]"," flex flex-col ").concat(q?"p-0":"m-4"),children:[(0,ga.jsx)("div",{className:"border-b border-white/20 p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,ga.jsx)(Ns,{className:"w-8 h-8 mr-3 text-blue-600"}),"Messages",u.reduce((e,t)=>e+t.unreadCount,0)>0&&(0,ga.jsxs)("span",{className:"ml-3 bg-red-500 text-white text-sm px-3 py-1 rounded-full",children:[u.reduce((e,t)=>e+t.unreadCount,0)," unread"]})]}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Communicate with buyers and sellers"})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mt-4 lg:mt-0",children:[(0,ga.jsx)("button",{onClick:()=>{z(!q)},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-xl font-medium transition-all duration-200 flex items-center shadow-lg hover:shadow-xl transform hover:scale-105",title:q?"Exit full page":"Enter full page chat",children:q?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Ml,{className:"w-5 h-5 mr-2"}),"Exit Full Page"]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Il,{className:"w-5 h-5 mr-2"}),"Full Page Chat"]})}),(0,ga.jsxs)("select",{value:_,onChange:e=>S(e.target.value),className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[(0,ga.jsx)("option",{value:"all",children:"All Messages"}),(0,ga.jsx)("option",{value:"unread",children:"Unread"}),(0,ga.jsx)("option",{value:"sent",children:"Sent"})]})]})]})}),(0,ga.jsxs)("div",{className:"flex flex-1 min-h-0",children:[(0,ga.jsxs)("div",{className:"".concat(null!==o&&void 0!==o&&null!==(e=o.messengerAd)&&void 0!==e&&e.active?"w-1/4":"w-1/3"," border-r border-gray-200/30 dark:border-gray-700/30 flex flex-col"),children:[(0,ga.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",placeholder:"Search conversations...",value:j,onChange:e=>w(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]})}),(0,ga.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0",children:A?(0,ga.jsxs)("div",{className:"p-6 text-center",children:[(0,ga.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading conversations..."})]}):0===me.length?(0,ga.jsxs)("div",{className:"p-6 text-center",children:[(0,ga.jsx)(Ns,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No conversations"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start a conversation with buyers and sellers"})]}):me.map(e=>{var t,r,n;return(0,ga.jsx)("div",{onClick:()=>ce(e),className:"p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 ".concat((null===h||void 0===h?void 0:h.id)===e.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":""),children:(0,ga.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,ga.jsx)(Es,{className:"w-6 h-6 text-white"})}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2 min-w-0",children:[(0,ga.jsx)("p",{className:"text-sm font-medium ".concat(e.unreadCount>0?"text-gray-900 dark:text-white font-bold":"text-gray-700 dark:text-gray-300"," truncate"),children:e.name}),((t,r,n,s,i,o)=>{const l=(null===(t=e.messages)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.sender_id)===(null===a||void 0===a?void 0:a.id)?null===(n=e.messages)||void 0===n||null===(s=n[0])||void 0===s?void 0:s.recipient_id:null===(i=e.messages)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.sender_id,c=se(l,e.name);return(0,ga.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs font-medium rounded-full flex-shrink-0 ".concat(ie(c.badge)),children:c.badge})})()]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[e.unreadCount>0&&(0,ga.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium animate-pulse",children:e.unreadCount}),(0,ga.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.lastMessage?new Date(e.lastMessage.created_at).toLocaleDateString():""})]})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",onClick:t=>{t.stopPropagation(),e.lastMessage&&(ce(e),setTimeout(()=>(e=>{const t=ne.current[e],r=document.getElementById("desktop-messages-container");if(t&&r){const a=r.getBoundingClientRect(),n=t.getBoundingClientRect(),s=r.scrollTop+(n.top-a.top)-a.height/2;r.scrollTo({top:s,behavior:"smooth"}),V(e),setTimeout(()=>{V(null)},3e3)}})(e.lastMessage.id),100))},title:"Click to scroll to this message",children:(null===(t=e.lastMessage)||void 0===t?void 0:t.subject)||"No subject"}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 truncate",children:[(null===(r=e.lastMessage)||void 0===r?void 0:r.sender_id)===(null===a||void 0===a?void 0:a.id)?"You: ":"",(null===(n=e.lastMessage)||void 0===n?void 0:n.content)||"No messages yet"]})]})]})},e.id)})})]}),(0,ga.jsx)("div",{className:"flex-1 flex flex-col",children:h?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"p-4 border-b border-gray-200/30 dark:border-gray-700/30 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Es,{className:"w-5 h-5 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:h.name}),((e,t)=>{const r=null===(e=h.participants)||void 0===e||null===(t=e.find(e=>e.id!==(null===a||void 0===a?void 0:a.id)))||void 0===t?void 0:t.id,n=se(r,h.name);return(0,ga.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(ie(n.badge)),children:n.badge})})()]}),(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p.length," messages"]})]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this conversation? This action cannot be undone."))try{m(u.filter(t=>t.conversation_id!==e)),(null===h||void 0===h?void 0:h.conversation_id)===e&&(g(null),x([])),s("Conversation deleted successfully","success")}catch(t){console.error("Failed to delete conversation:",t),s("Failed to delete conversation","error")}})(h.conversation_id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete conversation",children:(0,ga.jsx)(Zs,{className:"w-5 h-5"})}),(0,ga.jsx)("button",{onClick:()=>{var e,t;const r=(null===(e=h.participants)||void 0===e||null===(t=e.find(e=>e.id!==(null===a||void 0===a?void 0:a.id)))||void 0===t?void 0:t.id)||"unknown";window.location.href="/profile/".concat(r)},className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"View user profile",children:(0,ga.jsx)(Es,{className:"w-5 h-5"})})]})]})}),(0,ga.jsxs)("div",{id:"desktop-messages-container",className:"flex-1 overflow-y-auto p-6 space-y-3 bg-gradient-to-b from-gray-50/30 to-white/50 dark:from-gray-900/30 dark:to-gray-800/50",children:[p.slice().map((e,t,r)=>{const n=e.sender_id===(null===a||void 0===a?void 0:a.id),i=0===t||r[t-1].sender_id!==e.sender_id,o=H===e.id;return(0,ga.jsx)("div",{ref:t=>ne.current[e.id]=t,className:"flex ".concat(n?"justify-end":"justify-start"," ").concat(i?"mt-4":"mt-2"," ").concat(o?"animate-pulse":""),children:(0,ga.jsxs)("div",{className:"flex space-x-3 max-w-xs lg:max-w-md ".concat(n?"flex-row-reverse space-x-reverse":""),children:[i&&(0,ga.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ".concat(n?"bg-blue-600":"bg-gray-600"),children:(n?(null===a||void 0===a?void 0:a.full_name)||(null===a||void 0===a?void 0:a.username)||"You":e.sender_name||"U").charAt(0)}),(0,ga.jsxs)("div",{className:"".concat(i?"":n?"mr-11":"ml-11"),children:[(0,ga.jsxs)("div",{className:"group relative px-4 py-3 rounded-2xl transition-all duration-300 ".concat(o?"ring-2 ring-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":n?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600"),children:[(0,ga.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{x(p.filter(t=>t.id!==e)),s("Message deleted successfully","success")}catch(t){console.error("Failed to delete message:",t),s("Failed to delete message","error")}})(e.id)},className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 p-1 rounded-full transition-all duration-200 hover:scale-110 ".concat(n?"bg-red-500/20 text-red-200 hover:bg-red-500/30":"bg-red-500/10 text-red-600 hover:bg-red-500/20"),title:"Delete message",children:(0,ga.jsx)(Zs,{className:"w-3 h-3"})}),(0,ga.jsx)("p",{className:"text-sm whitespace-pre-wrap pr-6",children:e.content})]}),(0,ga.jsxs)("div",{className:"flex items-center mt-1 space-x-2 text-xs text-gray-500 dark:text-gray-400 ".concat(n?"justify-end":"justify-start"),children:[(0,ga.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),n&&(e.is_read?(0,ga.jsx)(Zi,{className:"w-3 h-3 text-blue-500"}):(0,ga.jsx)(Gi,{className:"w-3 h-3"}))]})]})]})},e.id)}),(0,ga.jsx)("div",{ref:te})]}),(0,ga.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl",children:(0,ga.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,ga.jsxs)("div",{className:"flex-1 relative",children:[(0,ga.jsx)("textarea",{ref:ae,value:y,onChange:e=>{var t;v(e.target.value),(t=e.target).style.height="auto",t.style.height=Math.min(t.scrollHeight,120)+"px"},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),de())},placeholder:"Type your message... (Press Enter to send, Shift+Enter for new line)",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none min-h-[3rem] max-h-[8rem]",rows:"1"}),(0,ga.jsx)("button",{className:"absolute right-3 bottom-3 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,ga.jsx)(wp,{className:"w-5 h-5"})})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("button",{className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,ga.jsx)(kp,{className:"w-5 h-5"})}),(0,ga.jsx)("button",{onClick:de,disabled:!y.trim()||B,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 disabled:scale-100",children:B?(0,ga.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,ga.jsx)(_o,{className:"w-5 h-5"})})]})]})})]}):(0,ga.jsx)("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(Ns,{className:"w-20 h-20 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Select a conversation"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose a conversation from the list to start messaging"})]})})}),(null===o||void 0===o||null===(t=o.messengerAd)||void 0===t?void 0:t.active)&&o.messengerAd.image&&(0,ga.jsx)("div",{className:"border-l border-gray-200/30 dark:border-gray-700/30 p-4",style:{width:o.messengerAd.width||"250px",minWidth:o.messengerAd.width||"250px"},children:(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow h-fit ".concat(o.messengerAd.url?"cursor-pointer":""),onClick:()=>{if(o.messengerAd.url){try{Promise.resolve().then(r.bind(r,7784)).then(e=>{let{trackAdClick:t}=e;t("messengerAd")})}catch(e){console.warn("Could not track ad click:",e)}console.log("Messenger ad clicked:",o.messengerAd.url),window.open(o.messengerAd.url,"_blank")}},children:(0,ga.jsx)("img",{src:o.messengerAd.image,alt:o.messengerAd.description||"Advertisement",className:"w-full object-cover",style:{height:o.messengerAd.height||"400px"}})})})]})]}),P&&L&&(0,ga.jsxs)("div",{className:"fixed top-4 right-4 z-[10000] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl p-4 max-w-sm animate-slide-in-right",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,ga.jsx)(Ns,{className:"w-4 h-4 text-white"})}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["New message from ",L.sender]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:L.timestamp.toLocaleTimeString()})]})]}),(0,ga.jsx)("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ga.jsx)(Is,{className:"w-4 h-4"})})]}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:L.content}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>{T(!1);const e=u.find(e=>e.name===L.sender);e&&ce(e)},className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md text-xs hover:bg-blue-700 transition-colors",children:"Reply"}),(0,ga.jsx)("button",{onClick:()=>T(!1),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md text-xs hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Dismiss"})]})]})]})},Sp=js("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const Ap=function(){const e=re(),{login:t}=_a(),[r,a]=(0,n.useState)("login"),[s,i]=(0,n.useState)(null),[o,l]=(0,n.useState)({email:"",password:""}),[c,d]=(0,n.useState)({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[u,m]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),[p,x]=(0,n.useState)(null),[f,b]=(0,n.useState)({}),[y,v]=(0,n.useState)({});(0,n.useEffect)(()=>{const t=localStorage.getItem("cataloro_token"),r=localStorage.getItem("cataloro_user");if(t&&r)try{"admin"===JSON.parse(r).role?e("/admin"):e("/browse")}catch(hx){localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}(async()=>{try{const e=await fetch("".concat("https://cataloro.com","/admin/logo"));if(e.ok){const t=await e.json();t.logo_url&&i(t.logo_url)}}catch(p){console.log("No admin logo found, using default")}})()},[e]);const j=e=>{l((0,Re.A)((0,Re.A)({},o),{},{[e.target.name]:e.target.value})),x(null)},w=e=>{d((0,Re.A)((0,Re.A)({},c),{},{[e.target.name]:e.target.value})),x(null),b(t=>(0,Re.A)((0,Re.A)({},t),{},{[e.target.name]:null}))};return(0,n.useEffect)(()=>{const e={};return c.username&&(e.username=setTimeout(()=>(async e=>{if(e&&!(e.length<3)){v(e=>(0,Re.A)((0,Re.A)({},e),{},{username:!0}));try{const t=await fetch("".concat("https://cataloro.com","/api/check-username?username=").concat(encodeURIComponent(e)));(await t.json()).available||b(e=>(0,Re.A)((0,Re.A)({},e),{},{username:"Username already taken"}))}catch(p){console.error("Error checking username:",p)}finally{v(e=>(0,Re.A)((0,Re.A)({},e),{},{username:!1}))}}})(c.username),1e3)),c.email&&(e.email=setTimeout(()=>(async e=>{if(e&&e.includes("@")){v(e=>(0,Re.A)((0,Re.A)({},e),{},{email:!0}));try{const t=await fetch("".concat("https://cataloro.com","/api/check-email?email=").concat(encodeURIComponent(e)));(await t.json()).available||b(e=>(0,Re.A)((0,Re.A)({},e),{},{email:"Email already registered"}))}catch(p){console.error("Error checking email:",p)}finally{v(e=>(0,Re.A)((0,Re.A)({},e),{},{email:!1}))}}})(c.email),1e3)),()=>{Object.values(e).forEach(e=>clearTimeout(e))}},[c.username,c.email]),(0,ga.jsxs)("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[(0,ga.jsxs)("div",{className:"absolute inset-0",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/80 via-purple-900/80 to-pink-900/80"}),(0,ga.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden",children:[(0,ga.jsx)("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-gradient-to-r from-cyan-400/30 to-blue-500/30 rounded-full blur-3xl animate-blob"}),(0,ga.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-purple-400/30 to-pink-500/30 rounded-full blur-3xl animate-blob animation-delay-2000"}),(0,ga.jsx)("div",{className:"absolute -bottom-40 left-1/2 transform -translate-x-1/2 w-80 h-80 bg-gradient-to-r from-emerald-400/30 to-cyan-500/30 rounded-full blur-3xl animate-blob animation-delay-4000"})]}),(0,ga.jsxs)("div",{className:"absolute inset-0",children:[(0,ga.jsx)("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),(0,ga.jsx)("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-purple-400 rounded-full animate-ping animation-delay-1000"}),(0,ga.jsx)("div",{className:"absolute bottom-1/3 left-1/3 w-1.5 h-1.5 bg-pink-400 rounded-full animate-pulse animation-delay-2000"}),(0,ga.jsx)("div",{className:"absolute top-2/3 right-1/3 w-1 h-1 bg-emerald-400 rounded-full animate-ping animation-delay-3000"})]}),(0,ga.jsxs)("div",{className:"absolute inset-0 opacity-30",children:[(0,ga.jsx)("div",{className:"w-2 h-2 bg-white/5 rounded-full absolute top-10 left-10"}),(0,ga.jsx)("div",{className:"w-1 h-1 bg-white/5 rounded-full absolute top-20 left-32"}),(0,ga.jsx)("div",{className:"w-1.5 h-1.5 bg-white/5 rounded-full absolute top-32 left-16"}),(0,ga.jsx)("div",{className:"w-1 h-1 bg-white/5 rounded-full absolute top-40 left-48"})]})]}),(0,ga.jsx)("div",{className:"relative min-h-screen flex items-center justify-center p-4 z-10",children:(0,ga.jsxs)("div",{className:"w-full max-w-md",children:[(0,ga.jsxs)("div",{className:"text-center mb-8",children:[(0,ga.jsx)("div",{className:"mb-6 relative",children:s?(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"w-20 h-20 mx-auto bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 flex items-center justify-center p-2",children:(0,ga.jsx)("img",{src:s,alt:"Company Logo",className:"max-w-full max-h-full object-contain"})}),(0,ga.jsx)("div",{className:"absolute inset-0 w-20 h-20 mx-auto bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-3xl blur-xl animate-pulse"}),(0,ga.jsx)(Sp,{className:"absolute -top-2 -right-2 w-6 h-6 text-cyan-400 animate-spin",style:{animationDuration:"3s"}})]}):(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-cyan-500/20 to-purple-500/20 backdrop-blur-xl rounded-3xl border border-white/20 flex items-center justify-center",children:(0,ga.jsx)(ws,{className:"w-10 h-10 text-white drop-shadow-lg"})}),(0,ga.jsx)("div",{className:"absolute inset-0 w-20 h-20 mx-auto bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-3xl blur-xl animate-pulse"}),(0,ga.jsx)(Sp,{className:"absolute -top-2 -right-2 w-6 h-6 text-cyan-400 animate-spin",style:{animationDuration:"3s"}})]})}),(0,ga.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white via-cyan-200 to-purple-200 mb-2",children:"Welcome to Cataloro"}),(0,ga.jsx)("p",{className:"text-gray-300/80 text-lg",children:"Your premium marketplace experience"})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-white/5 backdrop-blur-2xl rounded-3xl border border-white/10"}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-purple-500/5 rounded-3xl"}),(0,ga.jsxs)("div",{className:"relative p-8",children:[(0,ga.jsxs)("div",{className:"flex mb-8 relative",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-white/5 rounded-2xl"}),(0,ga.jsxs)("button",{type:"button",onClick:()=>a("login"),className:"relative flex-1 py-4 px-6 text-center font-semibold rounded-xl transition-all duration-500 ".concat("login"===r?"bg-gradient-to-r from-cyan-500/20 to-purple-500/20 text-white shadow-lg transform scale-105":"text-gray-300/70"),children:[(0,ga.jsx)(Es,{className:"w-5 h-5 inline mr-2"}),"Sign In","login"===r&&(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-xl blur-lg"})]}),(0,ga.jsxs)("button",{type:"button",onClick:()=>a("register"),className:"relative flex-1 py-4 px-6 text-center font-semibold rounded-xl transition-all duration-500 ".concat("register"===r?"bg-gradient-to-r from-cyan-500/20 to-purple-500/20 text-white shadow-lg transform scale-105":"text-gray-300/70"),children:[(0,ga.jsx)(si,{className:"w-5 h-5 inline mr-2"}),"Sign Up","register"===r&&(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-xl blur-lg"})]})]}),p&&(0,ga.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 backdrop-blur-sm border border-red-500/20 rounded-2xl",children:(0,ga.jsx)("p",{className:"text-red-300 text-sm font-medium",children:p})}),"login"===r&&(0,ga.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),g(!0),x(null);try{const e="https://cataloro.com",t=e.endsWith("/api")?e.slice(0,-4):e,r="".concat(t,"/api/auth/login");console.log("\ud83d\udd10 Login attempt - URL:",r,"Email:",o.email);const a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.email,password:o.password})});if(console.log("\ud83d\udd10 Login response status:",a.status),!a.ok)throw new Error("Login failed: ".concat(a.status));const n=await a.json();console.log("\ud83d\udd10 Login successful, storing auth data"),localStorage.setItem("cataloro_token",n.token),localStorage.setItem("cataloro_user",JSON.stringify(n.user)),window.location.href="/browse"}catch(p){x(p.message||"Login failed. Please check your credentials."),console.error("Login error:",p)}finally{g(!1)}},className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-200 mb-3",children:"Email Address"}),(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-2xl blur-lg group-focus-within:blur-xl transition-all duration-300"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(zs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),(0,ga.jsx)("input",{type:"email",name:"email",value:o.email,onChange:j,required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 text-white placeholder-gray-400 transition-all duration-300",placeholder:"Enter your email"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-200 mb-3",children:"Password"}),(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-2xl blur-lg group-focus-within:blur-xl transition-all duration-300"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ti,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),(0,ga.jsx)("input",{type:u?"text":"password",name:"password",value:o.password,onChange:j,required:!0,className:"w-full pl-12 pr-14 py-4 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 text-white placeholder-gray-400 transition-all duration-300",placeholder:"Enter your password"}),(0,ga.jsx)("button",{type:"button",onClick:()=>m(!u),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 z-10",children:u?(0,ga.jsx)(ei,{className:"w-5 h-5"}):(0,ga.jsx)(Xs,{className:"w-5 h-5"})})]})]})]}),(0,ga.jsxs)("button",{type:"submit",disabled:h,className:"relative w-full py-4 px-6 bg-gradient-to-r from-cyan-500 to-purple-500 text-white font-semibold rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-600 to-purple-600 opacity-0 group-active:opacity-100 transition-opacity duration-200"}),(0,ga.jsx)("div",{className:"relative flex items-center justify-center",children:h?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing In..."]}):(0,ga.jsxs)(ga.Fragment,{children:["Sign In",(0,ga.jsx)(Dl,{className:"w-5 h-5 ml-3"})]})}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-2xl blur-xl"})]})]}),"register"===r&&(0,ga.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g(!0),x(null),c.password!==c.confirmPassword)return x("Passwords do not match"),void g(!1);if(c.password.length<6)return x("Password must be at least 6 characters long"),void g(!1);try{const e=await fetch("".concat("https://cataloro.com","/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c.username,email:c.email,password:c.password,first_name:c.firstName,last_name:c.lastName,full_name:"".concat(c.firstName," ").concat(c.lastName).trim()})});if(!e.ok){const t=await e.json();throw new Error(t.detail||"Registration failed: ".concat(e.status))}const t=await e.json();localStorage.setItem("cataloro_token",t.token),localStorage.setItem("cataloro_user",JSON.stringify(t.user)),window.location.href="/browse"}catch(p){x(p.message||"Registration failed. Please try again."),console.error("Registration error:",p)}finally{g(!1)}},className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-200 mb-3",children:"First Name"}),(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-2xl blur-lg group-focus-within:blur-xl transition-all duration-300"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(Es,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),(0,ga.jsx)("input",{type:"text",name:"firstName",value:c.firstName,onChange:w,required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 text-white placeholder-gray-400 transition-all duration-300",placeholder:"First name"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-200 mb-3",children:"Last Name"}),(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-2xl blur-lg group-focus-within:blur-xl transition-all duration-300"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(Es,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),(0,ga.jsx)("input",{type:"text",name:"lastName",value:c.lastName,onChange:w,required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 text-white placeholder-gray-400 transition-all duration-300",placeholder:"Last name"})]})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-200 mb-3",children:"Username"}),(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-2xl blur-lg group-focus-within:blur-xl transition-all duration-300"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(Es,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),(0,ga.jsx)("input",{type:"text",name:"username",value:c.username,onChange:w,required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/5 backdrop-blur-xl border rounded-2xl focus:ring-2 text-white placeholder-gray-400 transition-all duration-300 ".concat(f.username?"border-red-500/50 focus:border-red-500/50 focus:ring-red-500/20":"border-white/10 focus:border-cyan-500/50 focus:ring-cyan-500/20"),placeholder:"Choose a username"}),y.username&&(0,ga.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:(0,ga.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-cyan-500"})})]})]}),f.username&&(0,ga.jsx)("div",{className:"text-red-400 text-sm mt-2",children:f.username})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-200 mb-3",children:"Email Address"}),(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-2xl blur-lg group-focus-within:blur-xl transition-all duration-300"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(zs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),(0,ga.jsx)("input",{type:"email",name:"email",value:c.email,onChange:w,required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/5 backdrop-blur-xl border rounded-2xl focus:ring-2 text-white placeholder-gray-400 transition-all duration-300 ".concat(f.email?"border-red-500/50 focus:border-red-500/50 focus:ring-red-500/20":"border-white/10 focus:border-cyan-500/50 focus:ring-cyan-500/20"),placeholder:"Enter your email"}),y.email&&(0,ga.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:(0,ga.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-cyan-500"})})]})]}),f.email&&(0,ga.jsx)("div",{className:"text-red-400 text-sm mt-2",children:f.email})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-200 mb-3",children:"Password"}),(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-2xl blur-lg group-focus-within:blur-xl transition-all duration-300"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ti,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),(0,ga.jsx)("input",{type:u?"text":"password",name:"password",value:c.password,onChange:w,required:!0,minLength:6,className:"w-full pl-12 pr-14 py-4 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 text-white placeholder-gray-400 transition-all duration-300",placeholder:"Create a password (min 6 characters)"}),(0,ga.jsx)("button",{type:"button",onClick:()=>m(!u),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 z-10",children:u?(0,ga.jsx)(ei,{className:"w-5 h-5"}):(0,ga.jsx)(Xs,{className:"w-5 h-5"})})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-semibold text-gray-200 mb-3",children:"Confirm Password"}),(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-2xl blur-lg group-focus-within:blur-xl transition-all duration-300"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ti,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),(0,ga.jsx)("input",{type:u?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:w,required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 text-white placeholder-gray-400 transition-all duration-300",placeholder:"Confirm your password"})]})]})]}),(0,ga.jsxs)("button",{type:"submit",disabled:h,className:"relative w-full py-4 px-6 bg-gradient-to-r from-cyan-500 to-purple-500 text-white font-semibold rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden group",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-600 to-purple-600 opacity-0 group-active:opacity-100 transition-opacity duration-200"}),(0,ga.jsx)("div",{className:"relative flex items-center justify-center",children:h?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Creating Account..."]}):(0,ga.jsxs)(ga.Fragment,{children:["Create Account",(0,ga.jsx)(si,{className:"w-5 h-5 ml-3"})]})}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-2xl blur-xl"})]})]})]})]}),(0,ga.jsx)("div",{className:"text-center mt-8",children:(0,ga.jsx)("p",{className:"text-sm text-gray-400/60",children:"\xa9 2024 Cataloro. Premium marketplace experience."})})]})})]})};const Cp=function(){const[e,t]=(0,n.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirmPassword:"",account_type:"buyer",is_business:!1,company_name:"",country:"",vat_number:""}),[r,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),{register:u,isAuthenticated:m,isLoading:h,error:g,clearError:p}=_a(),x=re();(0,n.useEffect)(()=>{m&&x(da.BROWSE)},[m,x]),(0,n.useEffect)(()=>()=>p(),[p]);const f=r=>{const{name:a,value:n,type:s,checked:i}=r.target;t((0,Re.A)((0,Re.A)({},e),{},{[a]:"checkbox"===s?i:n})),p(),"username"===a&&n.length>=3?b(n):"username"===a&&l(null)},b=async e=>{d(!0);try{const t=await fetch("".concat("https://cataloro.com","/api/auth/check-username/").concat(e));if(t.ok){const e=await t.json();l(e.available)}else l(null)}catch(g){console.error("Error checking username:",g),l(null)}finally{d(!1)}},y=()=>{if(!e.first_name.trim())return"First name is required";if(!e.last_name.trim())return"Last name is required";if(!e.username.trim())return"Username is required";if(e.username.length<3)return"Username must be at least 3 characters";if(!1===o)return"Username is not available";if(!e.email.trim())return"Email is required";if(e.password!==e.confirmPassword)return"Passwords do not match";if(e.password.length<6)return"Password must be at least 6 characters";if(e.is_business){if(!e.company_name.trim())return"Company name is required for business accounts";if(!e.country.trim())return"Country is required for business accounts"}return null},v=y();return(0,ga.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,ga.jsxs)("div",{className:"max-w-md w-full",children:[(0,ga.jsxs)("div",{className:"text-center mb-8",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,ga.jsx)("span",{className:"text-white font-bold text-2xl",children:"C"})}),(0,ga.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Join ",ua.APP_NAME]}),(0,ga.jsx)("p",{className:"text-gray-600",children:"Create your marketplace account"})]}),(0,ga.jsxs)("div",{className:"cataloro-card p-8",children:[(0,ga.jsxs)("form",{onSubmit:async t=>{t.preventDefault();if(!y())try{await u({username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,full_name:"".concat(e.first_name," ").concat(e.last_name).trim(),password:e.password,account_type:e.account_type,is_business:e.is_business,company_name:e.is_business?e.company_name:"",country:e.is_business?e.country:"",vat_number:e.is_business?e.vat_number:""}),alert("Registration submitted successfully! Your account is pending admin approval. You will be notified once approved."),x(da.LOGIN)}catch(g){console.error("Registration failed:",g)}},className:"space-y-6",children:[(g||v)&&(0,ga.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:g||v}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",name:"first_name",required:!0,value:e.first_name,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your first name"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",name:"last_name",required:!0,value:e.last_name,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your last name"})]})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",name:"username",required:!0,value:e.username,onChange:f,className:"cataloro-input pl-10 pr-10",placeholder:"Choose a username"}),e.username.length>=3&&(0,ga.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c?(0,ga.jsx)(Ki,{className:"w-5 h-5 text-gray-400 animate-spin"}):!0===o?(0,ga.jsx)(Gi,{className:"w-5 h-5 text-green-500"}):!1===o?(0,ga.jsx)(Is,{className:"w-5 h-5 text-red-500"}):null})]}),e.username.length>=3&&null!==o&&(0,ga.jsx)("div",{className:"mt-1 text-sm ".concat(o?"text-green-600":"text-red-600"),children:o?"Username is available":"Username is not available"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"email",name:"email",required:!0,value:e.email,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your email"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ti,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:r?"text":"password",name:"password",required:!0,value:e.password,onChange:f,className:"cataloro-input pl-10 pr-10",placeholder:"Create a password"}),(0,ga.jsx)("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?(0,ga.jsx)(ei,{className:"w-5 h-5"}):(0,ga.jsx)(Xs,{className:"w-5 h-5"})})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ti,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:s?"text":"password",name:"confirmPassword",required:!0,value:e.confirmPassword,onChange:f,className:"cataloro-input pl-10 pr-10",placeholder:"Confirm your password"}),(0,ga.jsx)("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?(0,ga.jsx)(ei,{className:"w-5 h-5"}):(0,ga.jsx)(Xs,{className:"w-5 h-5"})})]})]}),(0,ga.jsx)("div",{className:"space-y-4",children:(0,ga.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Account Type *"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{className:"relative p-4 border-2 rounded-lg cursor-pointer ".concat("buyer"===e.account_type?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"),onClick:()=>t((0,Re.A)((0,Re.A)({},e),{},{account_type:"buyer"})),children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"radio",name:"account_type",value:"buyer",checked:"buyer"===e.account_type,onChange:f,className:"w-4 h-4 text-blue-600"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900",children:"Buyer Account"}),(0,ga.jsx)("div",{className:"text-sm text-gray-500",children:"Browse and bid on listings"})]})]}),"buyer"===e.account_type&&(0,ga.jsx)("div",{className:"absolute top-2 right-2",children:(0,ga.jsx)(Gi,{className:"w-5 h-5 text-blue-600"})})]}),(0,ga.jsxs)("div",{className:"relative p-4 border-2 rounded-lg cursor-pointer ".concat("seller"===e.account_type?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-200 hover:border-gray-300"),onClick:()=>t((0,Re.A)((0,Re.A)({},e),{},{account_type:"seller"})),children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"radio",name:"account_type",value:"seller",checked:"seller"===e.account_type,onChange:f,className:"w-4 h-4 text-green-600"}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-medium text-gray-900",children:"Seller Account"}),(0,ga.jsx)("div",{className:"text-sm text-gray-500",children:"Create and manage listings"})]})]}),"seller"===e.account_type&&(0,ga.jsx)("div",{className:"absolute top-2 right-2",children:(0,ga.jsx)(Gi,{className:"w-5 h-5 text-green-600"})})]})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"You can switch between buying and selling after account approval. Both account types are free."})]})}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ga.jsx)("input",{type:"checkbox",id:"is_business",name:"is_business",checked:e.is_business,onChange:f,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,ga.jsxs)("label",{htmlFor:"is_business",className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ga.jsx)(pl,{className:"w-4 h-4 mr-2 text-blue-600"}),"Register as Business"]})]}),(0,ga.jsx)("p",{className:"text-xs text-gray-500 ml-7 mt-1",children:"Check this box if you're registering for your company or business"})]}),e.is_business&&(0,ga.jsxs)("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,ga.jsxs)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 flex items-center",children:[(0,ga.jsx)(pl,{className:"w-4 h-4 mr-2"}),"Business Information"]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",name:"company_name",required:e.is_business,value:e.company_name,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your company name"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(Fs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",name:"country",required:e.is_business,value:e.country,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your country"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["VAT Number",(0,ga.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Optional)"})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ga.jsx)("input",{type:"text",name:"vat_number",value:e.vat_number,onChange:f,className:"cataloro-input pl-10",placeholder:"Enter your VAT number (if applicable)"})]})]})]})]}),(0,ga.jsx)("button",{type:"submit",disabled:h||v,className:"w-full cataloro-button-primary disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,ga.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ga.jsx)("div",{className:"spinner mr-2"}),"Creating Account..."]}):"Create Account"})]}),(0,ga.jsx)("div",{className:"mt-6 text-center",children:(0,ga.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,ga.jsx)(Le,{to:da.LOGIN,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})})]})]})})},Ep=js("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Op=js("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Pp=js("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Tp={users:ni,package:Ts,trending:Us,star:Gs,zap:ui,target:gi,store:ws,"shopping-cart":Ss,"message-circle":Ns,settings:Os,shield:Ls,search:ko,heart:As,bell:Cs,"bar-chart":Bs,award:hi,lightbulb:Ep,rocket:Op,clock:Js},Lp={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",yellow:"from-yellow-500 to-yellow-600",red:"from-red-500 to-red-600",pink:"from-pink-500 to-pink-600","blue-purple":"from-blue-500 to-purple-600","green-teal":"from-green-500 to-teal-600","orange-red":"from-orange-500 to-red-600","purple-pink":"from-purple-500 to-pink-600"};const Mp=function(){const[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(!0),[s,i]=(0,n.useState)(null);if((0,n.useEffect)(()=>{(async()=>{try{a(!0);const e=await fetch("".concat("https://cataloro.com","/api/admin/content"));if(!e.ok)throw new Error("Failed to load content");{const r=await e.json();if(t(r),r.seo){document.title=r.seo.title||"Cataloro - Ultra-Modern Marketplace Platform";let e=document.querySelector('meta[name="description"]');e||(e=document.createElement("meta"),e.name="description",document.head.appendChild(e)),e.content=r.seo.description||"Experience the future of online commerce";let t=document.querySelector('meta[name="keywords"]');if(t||(t=document.createElement("meta"),t.name="keywords",document.head.appendChild(t)),t.content=Array.isArray(r.seo.keywords)?r.seo.keywords.join(", "):r.seo.keywords||"",r.seo.ogImage){let e=document.querySelector('meta[property="og:image"]');e||(e=document.createElement("meta"),e.setAttribute("property","og:image"),document.head.appendChild(e)),e.content=r.seo.ogImage}}}}catch(s){console.error("Error loading CMS content:",s),i(s.message)}finally{a(!1)}})()},[]),r)return(0,ga.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(ol,{className:"w-12 h-12 text-purple-400 animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-lg text-white",children:"Loading content..."})]})});if(s)return(0,ga.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ga.jsx)(Ls,{className:"w-8 h-8 text-red-400"})}),(0,ga.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Content Loading Error"}),(0,ga.jsx)("p",{className:"text-gray-300 mb-4",children:"Unable to load page content from CMS"}),(0,ga.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors",children:"Retry"})]})});const o={hero:(null===e||void 0===e?void 0:e.hero)||{title:"Cataloro",subtitle:"The Future of Online Marketplace",description:"Experience next-generation commerce with our ultra-modern platform featuring intelligent matching, real-time communication, and seamless transactions.",primaryButtonText:"Start Trading Now",primaryButtonLink:"/login",secondaryButtonText:"Explore Features",secondaryButtonLink:"/browse",backgroundImage:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center",heroImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center",showHeroImage:!0,heroImagePosition:"right",showVideo:!1,videoUrl:"https://player.vimeo.com/video/123456789"},stats:(null===e||void 0===e?void 0:e.stats)||[{label:"Active Users",value:"25K+",icon:"users",color:"blue"},{label:"Products Listed",value:"150K+",icon:"package",color:"green"},{label:"Successful Deals",value:"75K+",icon:"trending",color:"purple"},{label:"User Satisfaction",value:"4.9\u2605",icon:"star",color:"yellow"}],features:(null===e||void 0===e?void 0:e.features)||{title:"Advanced Platform Features",description:"Discover the comprehensive suite of tools that make Cataloro the most advanced marketplace platform.",backgroundImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=1080&fit=crop&crop=center",categories:[]},testimonials:(null===e||void 0===e?void 0:e.testimonials)||{enabled:!0,title:"What Our Users Say",description:"Join thousands of satisfied users who trust Cataloro for their marketplace needs.",backgroundImage:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1920&h=1080&fit=crop&crop=center",items:[]},about:(null===e||void 0===e?void 0:e.about)||{enabled:!0,title:"About Cataloro",subtitle:"Revolutionizing Digital Commerce",description:"Founded with the vision to transform online trading, we combine cutting-edge technology with user-centric design to create the ultimate marketplace experience.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center",features:["AI-Powered Matching","Real-time Communication","Advanced Security","Global Reach"]},team:(null===e||void 0===e?void 0:e.team)||{enabled:!0,title:"Meet Our Team",description:"Passionate experts dedicated to revolutionizing digital commerce.",backgroundImage:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&h=1080&fit=crop&crop=center",members:[]},cta:(null===e||void 0===e?void 0:e.cta)||{title:"Ready to Transform Your Trading?",description:"Join thousands of users experiencing the future of online commerce.",primaryButtonText:"Start Your Journey",primaryButtonLink:"/login",secondaryButtonText:"Explore Platform",secondaryButtonLink:"/browse",backgroundImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center"}};return(0,ga.jsxs)("div",{className:"min-h-screen",children:[(0,ga.jsxs)("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(o.hero.backgroundImage,")"),filter:"brightness(0.4)"}}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-purple-900/50 to-black/70"}),(0,ga.jsx)("div",{className:"absolute inset-0",children:[...Array(20)].map((e,t)=>(0,ga.jsx)("div",{className:"absolute w-2 h-2 bg-white/20 rounded-full animate-pulse",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(3+4*Math.random(),"s")}},t))}),(0,ga.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[(0,ga.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[80vh]",children:[(0,ga.jsx)("div",{className:"".concat("left"===o.hero.heroImagePosition?"lg:order-2":"lg:order-1"," text-center lg:text-left"),children:(0,ga.jsxs)("div",{className:"mb-8",children:[(0,ga.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-white/10 backdrop-blur-md rounded-full px-6 py-3 mb-6",children:[(0,ga.jsx)(Sp,{className:"w-5 h-5 text-yellow-400"}),(0,ga.jsx)("span",{className:"text-white font-medium",children:"The Future is Here"})]}),(0,ga.jsx)("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white via-purple-200 to-pink-200 mb-6 leading-tight",children:o.hero.title}),(0,ga.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-purple-200 mb-8",children:o.hero.subtitle}),(0,ga.jsx)("p",{className:"text-lg md:text-xl text-gray-300 mb-12 leading-relaxed max-w-2xl mx-auto lg:mx-0",children:o.hero.description}),(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center lg:justify-start",children:[(0,ga.jsxs)(Le,{to:o.hero.primaryButtonLink,className:"group relative px-10 py-5 rounded-2xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-purple-500/25",children:[(0,ga.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ga.jsxs)("div",{className:"relative flex items-center justify-center space-x-3",children:[(0,ga.jsx)("span",{children:o.hero.primaryButtonText}),(0,ga.jsx)(Dl,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,ga.jsx)(Le,{to:o.hero.secondaryButtonLink,className:"group px-10 py-5 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-lg hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:(0,ga.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,ga.jsx)(Mi,{className:"w-6 h-6"}),(0,ga.jsx)("span",{children:o.hero.secondaryButtonText})]})})]})]})}),o.hero.showHeroImage&&o.hero.heroImage&&(0,ga.jsx)("div",{className:"".concat("left"===o.hero.heroImagePosition?"lg:order-1":"lg:order-2"," relative"),children:(0,ga.jsxs)("div",{className:"relative group",children:[(0,ga.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-500"}),(0,ga.jsxs)("div",{className:"relative bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl",children:[(0,ga.jsx)("img",{src:o.hero.heroImage,alt:"Hero",className:"w-full h-auto max-h-96 object-contain rounded-2xl transform group-hover:scale-105 transition-transform duration-500"}),(0,ga.jsx)("div",{className:"absolute -top-6 -right-6 w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-xl animate-bounce",children:(0,ga.jsx)(Op,{className:"w-6 h-6 text-white"})}),(0,ga.jsx)("div",{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-xl",children:(0,ga.jsx)(ui,{className:"w-8 h-8 text-white"})}),(0,ga.jsx)("div",{className:"absolute top-1/2 -right-8 w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:(0,ga.jsx)(Gs,{className:"w-5 h-5 text-white"})})]})]})})]}),(0,ga.jsx)("div",{className:"flex justify-center mt-16",children:(0,ga.jsx)("div",{className:"animate-bounce",children:(0,ga.jsx)("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:(0,ga.jsx)("div",{className:"w-1 h-3 bg-white rounded-full mt-2 animate-pulse"})})})})]})]}),(0,ga.jsxs)("section",{className:"relative py-20 bg-white overflow-hidden",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-white"}),(0,ga.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:(0,ga.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:o.stats.map((e,t)=>{const r=Tp[e.icon]||Gs,a=Lp[e.color]||"from-purple-500 to-pink-600";return(0,ga.jsxs)("div",{className:"group text-center",children:[(0,ga.jsx)("div",{className:"relative mb-6",children:(0,ga.jsx)("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br ".concat(a," flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-500 transform group-hover:scale-110 group-hover:-rotate-6"),children:(0,ga.jsx)(r,{className:"w-10 h-10 text-white"})})}),(0,ga.jsx)("div",{className:"text-4xl font-black text-gray-900 mb-2 group-hover:text-purple-600 transition-colors duration-300",children:e.value}),(0,ga.jsx)("div",{className:"text-lg font-semibold text-gray-600 group-hover:text-gray-900 transition-colors duration-300",children:e.label})]},t)})})})]}),o.about.enabled&&(0,ga.jsx)("section",{className:"py-20 bg-gradient-to-br from-slate-900 to-purple-900",children:(0,ga.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,ga.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-purple-500/20 rounded-full px-4 py-2 mb-6",children:[(0,ga.jsx)(hi,{className:"w-5 h-5 text-purple-400"}),(0,ga.jsx)("span",{className:"text-purple-300 font-medium",children:"About Us"})]}),(0,ga.jsx)("h2",{className:"text-5xl font-black text-white mb-6",children:o.about.title}),(0,ga.jsx)("h3",{className:"text-2xl font-bold text-purple-300 mb-8",children:o.about.subtitle}),(0,ga.jsx)("p",{className:"text-xl text-gray-300 leading-relaxed mb-8",children:o.about.description})]}),(0,ga.jsx)("div",{className:"grid grid-cols-2 gap-6",children:o.about.features.map((e,t)=>(0,ga.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-xl bg-white/5 backdrop-blur-sm",children:[(0,ga.jsx)(Yi,{className:"w-6 h-6 text-green-400 flex-shrink-0"}),(0,ga.jsx)("span",{className:"text-white font-medium",children:e})]},t))})]}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsxs)("div",{className:"relative overflow-hidden rounded-3xl shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-500",children:[(0,ga.jsx)("img",{src:o.about.image,alt:"About Cataloro",className:"w-full h-96 object-cover"}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/50 to-transparent"})]}),(0,ga.jsx)("div",{className:"absolute -top-6 -right-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl p-4 shadow-xl",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"text-2xl font-black text-white",children:"4.9\u2605"}),(0,ga.jsx)("div",{className:"text-sm text-white font-medium",children:"Rating"})]})})]})]})})}),(0,ga.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(o.features.backgroundImage,")"),filter:"brightness(0.1)"}}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-purple-900/70 to-black/80"}),(0,ga.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[(0,ga.jsxs)("div",{className:"text-center mb-16",children:[(0,ga.jsx)("h2",{className:"text-5xl font-black text-white mb-8",children:o.features.title}),(0,ga.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:o.features.description})]}),o.features.categories&&o.features.categories.length>0&&(0,ga.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.features.categories.slice(0,6).map((e,t)=>{const r=Tp[e.icon]||Os,a=Lp[e.color]||"from-purple-500 to-pink-600";return(0,ga.jsx)("div",{className:"group",children:(0,ga.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 hover:bg-white/20 transition-all duration-500 transform hover:scale-105 hover:-translate-y-2",children:[(0,ga.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br ".concat(a," flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300"),children:(0,ga.jsx)(r,{className:"w-8 h-8 text-white"})}),(0,ga.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:e.name}),(0,ga.jsx)("p",{className:"text-gray-300 mb-6",children:e.description}),e.features&&e.features.slice(0,3).map((e,t)=>(0,ga.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,ga.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,ga.jsx)("span",{className:"text-gray-300 text-sm",children:e})]},t))]})},t)})})]})]}),o.testimonials.enabled&&o.testimonials.items&&o.testimonials.items.length>0&&(0,ga.jsx)("section",{className:"relative py-24 bg-gradient-to-br from-white to-gray-100",children:(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,ga.jsxs)("div",{className:"text-center mb-16",children:[(0,ga.jsx)("h2",{className:"text-5xl font-black text-gray-900 mb-8",children:o.testimonials.title}),(0,ga.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:o.testimonials.description})]}),(0,ga.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:o.testimonials.items.slice(0,3).map((e,t)=>(0,ga.jsx)("div",{className:"group",children:(0,ga.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:scale-105 border-l-4 border-purple-500",children:[(0,ga.jsx)("div",{className:"mb-6",children:(0,ga.jsx)(Pp,{className:"w-12 h-12 text-purple-500 opacity-50"})}),(0,ga.jsxs)("p",{className:"text-gray-700 text-lg mb-8 italic",children:['"',e.content,'"']}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white font-bold text-lg",children:e.name.charAt(0)})}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("div",{className:"font-bold text-gray-900",children:e.name}),(0,ga.jsx)("div",{className:"text-gray-600",children:e.role}),(0,ga.jsx)("div",{className:"flex items-center mt-1",children:[...Array(5)].map((t,r)=>(0,ga.jsx)(Gs,{className:"w-4 h-4 ".concat(r<e.rating?"text-yellow-400 fill-current":"text-gray-300")},r))})]})]})]})},t))})]})}),(0,ga.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,ga.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(o.cta.backgroundImage,")"),filter:"brightness(0.3)"}}),(0,ga.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/90 via-pink-900/70 to-purple-900/90"}),(0,ga.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[(0,ga.jsx)("h2",{className:"text-6xl font-black text-white mb-8",children:o.cta.title}),(0,ga.jsx)("p",{className:"text-2xl text-gray-300 mb-12 leading-relaxed",children:o.cta.description}),(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[(0,ga.jsxs)(Le,{to:o.cta.primaryButtonLink,className:"group relative px-12 py-6 rounded-2xl bg-gradient-to-r from-white to-gray-100 text-gray-900 font-bold text-xl hover:from-gray-100 hover:to-white transition-all duration-300 transform hover:scale-105 shadow-2xl",children:[(0,ga.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-purple-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ga.jsxs)("div",{className:"relative flex items-center justify-center space-x-3",children:[(0,ga.jsx)("span",{children:o.cta.primaryButtonText}),(0,ga.jsx)(Dl,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,ga.jsx)(Le,{to:o.cta.secondaryButtonLink,className:"group px-12 py-6 rounded-2xl bg-white/10 backdrop-blur-md border-2 border-white/30 text-white font-bold text-xl hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:(0,ga.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,ga.jsx)(Fs,{className:"w-6 h-6"}),(0,ga.jsx)("span",{children:o.cta.secondaryButtonText})]})})]})]})]})]})};function Ip(e){let{tendersOverview:t,tendersLoading:r,selectedListing:a,setSelectedListing:n,acceptingTender:s,rejectingTender:i,handleAcceptTender:o,handleRejectTender:l,totalTenders:c,totalHighestBids:d}=e;return r?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your selling data..."})]})}):(0,ga.jsx)("div",{className:"space-y-8",children:(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Tender Management"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 sm:p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex-shrink-0",children:(0,ga.jsx)(ni,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400"})}),(0,ga.jsxs)("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[(0,ga.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Active Listings"}),(0,ga.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 sm:p-3 bg-green-100 dark:bg-green-900/30 rounded-lg flex-shrink-0",children:(0,ga.jsx)(Us,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400"})}),(0,ga.jsxs)("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[(0,ga.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Total Tenders"}),(0,ga.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:c})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 sm:p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex-shrink-0",children:(0,ga.jsx)(_s,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ga.jsxs)("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[(0,ga.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Total Bid Value"}),(0,ga.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:Co(d)})]})]})})]}),0===t.length?(0,ga.jsxs)("div",{className:"text-center py-8 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ga.jsx)(_s,{className:"w-6 h-6 text-gray-400"})}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Active Tenders"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have any active listings receiving tender offers."})]}):(0,ga.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ga.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,ga.jsx)("img",{src:(null===(t=e.listing.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:e.listing.title,className:"w-full sm:w-20 sm:h-20 h-32 object-cover rounded-lg flex-shrink-0"}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,ga.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white line-clamp-2",children:e.listing.title}),(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Starting Price: ",Co(e.listing.price)]}),(0,ga.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[(0,ga.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:[(0,ga.jsx)(ni,{className:"w-3 h-3 mr-1"}),e.tender_count," tender",1!==e.tender_count?"s":""]}),e.highest_offer>0&&(0,ga.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[(0,ga.jsx)(Us,{className:"w-3 h-3 mr-1"}),"Highest: ",Co(e.highest_offer)]})]})]}),(0,ga.jsxs)("button",{onClick:()=>n(a===e.listing.id?null:e.listing.id),className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors flex items-center justify-center space-x-2 text-sm font-medium",children:[(0,ga.jsx)(Xs,{className:"w-4 h-4"}),(0,ga.jsxs)("span",{className:"sm:inline",children:[a===e.listing.id?"Hide":"View"," Tenders"]})]})]})}),a===e.listing.id&&(0,ga.jsx)("div",{className:"p-4 sm:p-6",children:0===e.tenders.length?(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"No active tenders for this listing."}):(0,ga.jsx)("div",{className:"space-y-4",children:e.tenders.map((t,r)=>(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-4 sm:space-y-0",children:[(0,ga.jsxs)("div",{className:"flex items-start sm:items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[(0,ga.jsxs)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white flex-shrink-0 ".concat(0===r?"bg-yellow-500":"bg-gray-400"),children:["#",r+1]}),(0,ga.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ga.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white text-base sm:text-lg",children:Co(t.offer_amount)}),(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:["by ",t.buyer.full_name||t.buyer.username]}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 flex items-center mt-1",children:[(0,ga.jsx)(Js,{className:"w-3 h-3 mr-1 flex-shrink-0"}),(0,ga.jsxs)("span",{className:"truncate",children:[new Date(t.created_at).toLocaleDateString()," at ",new Date(t.created_at).toLocaleTimeString()]})]})]})]}),(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,ga.jsx)("button",{onClick:()=>o(t.id,e.listing.title,t.offer_amount),disabled:s===t.id,className:"px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 text-sm",children:s===t.id?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Accepting..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Yi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Accept"})]})}),(0,ga.jsx)("button",{onClick:()=>l(t.id,e.listing.title,t.offer_amount),disabled:i===t.id,className:"px-3 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 text-sm",children:i===t.id?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ga.jsx)("span",{children:"Rejecting..."})]}):(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)($o,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Reject"})]})})]})]},t.id))})})]},e.listing.id)})})]})})}function Dp(e){let{myTenders:t,myTendersLoading:r,fetchMyTenders:a}=e;const{user:n}=_a();if(r)return(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your tender offers..."})]})});const s=e=>{switch(e){case"active":return(0,ga.jsx)(Js,{className:"w-5 h-5 text-yellow-500"});case"accepted":return(0,ga.jsx)(Yi,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,ga.jsx)($o,{className:"w-5 h-5 text-red-500"});default:return(0,ga.jsx)(Ki,{className:"w-5 h-5 text-gray-500"})}},i=e=>{switch(e){case"active":return"Pending";case"accepted":return"Accepted";case"rejected":return"Rejected";default:return"Unknown"}},o=e=>{switch(e){case"active":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},l=t.filter(e=>"active"===e.status),c=t.filter(e=>"accepted"===e.status),d=(t.filter(e=>"rejected"===e.status),t.reduce((e,t)=>e+t.offer_amount,0));return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 sm:p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex-shrink-0",children:(0,ga.jsx)(_s,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400"})}),(0,ga.jsxs)("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[(0,ga.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Total Tenders"}),(0,ga.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 sm:p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex-shrink-0",children:(0,ga.jsx)(Js,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ga.jsxs)("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[(0,ga.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Active"}),(0,ga.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:l.length})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 sm:p-3 bg-green-100 dark:bg-green-900/30 rounded-lg flex-shrink-0",children:(0,ga.jsx)(Yi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400"})}),(0,ga.jsxs)("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[(0,ga.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Accepted"}),(0,ga.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:c.length})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 sm:p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex-shrink-0",children:(0,ga.jsx)(Us,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 dark:text-purple-400"})}),(0,ga.jsxs)("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[(0,ga.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Total Value"}),(0,ga.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:Co(d)})]})]})})]}),0===t.length?(0,ga.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ga.jsx)(_s,{className:"w-8 h-8 text-gray-400"})}),(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Tender Offers"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You haven't submitted any tender offers yet."}),(0,ga.jsx)(Le,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Browse Listings"})]}):(0,ga.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t,r,a,n;return(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,ga.jsx)("div",{className:"w-full sm:w-20 sm:h-20 h-32 flex-shrink-0",children:(0,ga.jsx)("img",{src:(null===(t=e.listing.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:e.listing.title,className:"w-full h-full object-cover rounded-lg"})}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0 space-y-3 sm:space-y-0",children:[(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between space-y-2 sm:space-y-0",children:[(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white line-clamp-2",children:e.listing.title}),(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Starting Price: ",Co(e.listing.price)]}),e.seller&&(0,ga.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[(0,ga.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Seller:"}),(0,ga.jsxs)("div",{className:"flex items-center space-x-1",children:[e.seller.is_business&&(0,ga.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:"Business"}),(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.seller.business_name||e.seller.full_name||e.seller.username})]})]})]}),(0,ga.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ".concat(o(e.status)),children:[s(e.status),(0,ga.jsx)("span",{className:"ml-1",children:i(e.status)})]})]}),"accepted"===e.status&&(0,ga.jsxs)("div",{className:"mt-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-700 rounded-xl p-4",children:[(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ga.jsx)(Yi,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),(0,ga.jsx)("h4",{className:"text-lg font-bold text-green-800 dark:text-green-300",children:"Tender Accepted!"})]}),(0,ga.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:[(0,ga.jsx)("strong",{children:"Item ID:"})," ",(null===(r=e.listing)||void 0===r?void 0:r.id)||"N/A"]}),(0,ga.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-800/30 px-3 py-1 rounded-full inline-block",children:"\u2713 Moved to Bought Items"})]}),(0,ga.jsx)("div",{className:"mt-3 sm:mt-0",children:(0,ga.jsx)("span",{className:"bg-green-500 text-white px-4 py-2 rounded-lg font-semibold text-sm shadow-md",children:"Accepted"})})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-3 border-t border-green-200 dark:border-green-700",children:[(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600",children:[(0,ga.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Starting Price"}),(0,ga.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Co((null===(a=e.listing)||void 0===a?void 0:a.price)||0)})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600",children:[(0,ga.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Your Winning Bid"}),(0,ga.jsx)("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:Co(e.offer_amount)})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600",children:[(0,ga.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Seller"}),(0,ga.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===(n=e.listing)||void 0===n?void 0:n.seller_name)||"Unknown Seller"})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600",children:[(0,ga.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Date Accepted"}),(0,ga.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:new Date(e.updated_at||e.created_at).toLocaleDateString("de-DE")})]})]})]}),(0,ga.jsx)("div",{className:"mt-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 sm:p-4",children:(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4 sm:flex sm:items-center sm:justify-between sm:space-x-6",children:[(0,ga.jsxs)("div",{className:"text-center sm:text-left",children:[(0,ga.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Your Offer"}),(0,ga.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:Co(e.offer_amount)})]}),(0,ga.jsxs)("div",{className:"text-center sm:text-left",children:[(0,ga.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Submitted"}),(0,ga.jsx)("p",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white",children:new Date(e.created_at).toLocaleDateString()})]})]})}),(0,ga.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,ga.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"}),"active"===e.status&&(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium",children:"Waiting for response"}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Seller will review your offer"})]}),"rejected"===e.status&&(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Not selected"}),(0,ga.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Better luck next time"})]})]})]})]})},e.id)})})]})}function Rp(e){var t;let{listing:r,onDelete:a}=e;const[s,i]=(0,n.useState)(!1);return(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[(0,ga.jsxs)("div",{className:"relative h-48 w-full overflow-hidden rounded-t-xl",children:[(0,ga.jsx)("img",{src:(null===(t=r.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:r.title,className:"w-full h-full object-cover"}),(0,ga.jsx)("div",{className:"absolute top-3 right-3",children:(0,ga.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold shadow-lg ".concat((e=>{switch(e){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"sold":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";case"closed":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"draft":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";default:return"bg-gray-100 dark:bg-gray-700/50 text-gray-800 dark:text-gray-300"}})(r.status||(r.is_draft?"draft":"active"))),children:(r.status||(r.is_draft?"DRAFT":"ACTIVE")).toUpperCase()})})]}),(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"mb-4",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white line-clamp-2 mb-2 min-h-[3.5rem]",children:r.title}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Co(r.price)})]}),(0,ga.jsx)("div",{className:"mb-6",children:(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3 min-h-[4rem]",children:r.description})}),(0,ga.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[(0,ga.jsx)("span",{className:"truncate",children:r.category||"No category"}),(0,ga.jsx)("span",{className:"ml-2 whitespace-nowrap",children:new Date(r.created_at).toLocaleDateString()})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ga.jsx)("div",{className:"flex items-center space-x-2",children:(0,ga.jsxs)("button",{onClick:()=>window.location.href="/edit-listing/".concat(r.id),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg font-medium transition-colors",title:"Edit Listing",children:[(0,ga.jsx)(Qs,{className:"w-4 h-4 mr-1.5"}),"Edit"]})}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("button",{onClick:()=>i(!s),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",title:"More options",children:(0,ga.jsx)(rl,{className:"w-4 h-4"})}),s&&(0,ga.jsxs)("div",{className:"absolute bottom-full right-0 mb-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 min-w-[140px]",children:[(0,ga.jsxs)("button",{onClick:()=>{window.location.href="/edit-listing/".concat(r.id),i(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 rounded-t-lg",children:[(0,ga.jsx)(Qs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Edit Listing"})]}),(0,ga.jsxs)("button",{onClick:()=>{a(r.id),i(!1)},className:"w-full px-4 py-3 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-2 rounded-b-lg",children:[(0,ga.jsx)(Zs,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Delete Listing"})]})]})]})]})]})]})}function Fp(e){let{listings:t,allListings:r,listingsLoading:a,activeFilter:n,handleTileClick:s,handleCreateListing:i,handleDeleteListing:o}=e;return a?(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your listings..."})]})}):(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ga.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"My Listings"}),(0,ga.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your product listings and track their performance"})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ga.jsx)("button",{onClick:()=>s("all"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("all"===n?"ring-2 ring-blue-500 bg-blue-50/20 dark:bg-blue-900/20":""),children:(0,ga.jsxs)("div",{className:"p-6 text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:r.length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})}),(0,ga.jsx)("button",{onClick:()=>s("active"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("active"===n?"ring-2 ring-green-500 bg-green-50/20 dark:bg-green-900/20":""),children:(0,ga.jsxs)("div",{className:"p-6 text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:r.filter(e=>"active"===e.status).length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})}),(0,ga.jsx)("button",{onClick:()=>s("closed"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("closed"===n?"ring-2 ring-red-500 bg-red-50/20 dark:bg-red-900/20":""),children:(0,ga.jsxs)("div",{className:"p-6 text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:r.filter(e=>"sold"===e.status||"closed"===e.status).length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Closed"}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Sold & completed"})]})}),(0,ga.jsx)("button",{onClick:()=>s("drafts"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("drafts"===n?"ring-2 ring-orange-500 bg-orange-50/20 dark:bg-orange-900/20":""),children:(0,ga.jsxs)("div",{className:"p-6 text-center",children:[(0,ga.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:r.filter(e=>"draft"===e.status||e.is_draft).length}),(0,ga.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Drafts"}),(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Finish & publish later"})]})})]}),"all"!==n&&(0,ga.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,ga.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Showing ",n," listings (",t.length," items)"]}),(0,ga.jsx)("button",{onClick:()=>s("all"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show All"})]}),0===t.length?(0,ga.jsx)("div",{className:"text-center py-12",children:(0,ga.jsxs)("div",{className:"cataloro-card-glass p-12",children:[(0,ga.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ga.jsx)(ks,{className:"w-12 h-12 text-gray-600 dark:text-gray-300"})}),(0,ga.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"No listings yet"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Create your first listing to start selling on our modern marketplace"}),(0,ga.jsx)("button",{onClick:i,className:"cataloro-button-primary",children:"Create Your First Listing"})]})}):(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(e=>(0,ga.jsx)(Rp,{listing:e,onDelete:o},e.id))})]})}const Bp=function(e){let{showBuyTabOnly:t=!1,showSellTabOnly:r=!1}=e;const{user:a}=_a(),{showToast:s}=Fa(),i=re(),[o]=De(),[l,c]=(0,n.useState)(t?"buy":"sell"),[d,u]=(0,n.useState)([]),[m,h]=(0,n.useState)(!0),[g,p]=(0,n.useState)(null),[x,f]=(0,n.useState)(null),[b,y]=(0,n.useState)(null),v=o.get("filter"),[j,w]=(0,n.useState)([]),[k,N]=(0,n.useState)(!0),[_,S]=(0,n.useState)(v||"all"),[A,C]=(0,n.useState)([]),[E,O]=(0,n.useState)(!0);(0,n.useEffect)(()=>{a&&(t?T():r?(P(),L()):"buy"===l?T():"sell"!==l&&"listings"!==l||(P(),L()))},[a,l,t,r]),(0,n.useEffect)(()=>{if("sell"===l){const e=new URLSearchParams(window.location.search);"all"!==_?e.set("filter",_):e.delete("filter");const t="".concat(window.location.pathname).concat(e.toString()?"?"+e.toString():"");window.history.replaceState({},"",t)}},[_,l]),(0,n.useEffect)(()=>{const e=o.get("filter");e&&e!==_&&S(e)},[o,_]),(0,n.useEffect)(()=>{!a||t||r||("buy"===l&&0===A.length?T():"sell"!==l&&"listings"!==l||0!==d.length||(P(),0===j.length&&L()))},[l,a,t,r]);const P=n.useCallback(async()=>{if(null!==a&&void 0!==a&&a.id){h(!0);try{const e=await fetch("".concat("https://cataloro.com","/api/tenders/seller/").concat(a.id,"/overview"));if(e.ok){const t=await e.json();u(t)}else console.error("Failed to fetch tenders overview"),u([])}catch(e){console.error("Failed to fetch tenders overview:",e),u([])}finally{h(!1)}}},[null===a||void 0===a?void 0:a.id]),T=n.useCallback(async()=>{if(null!==a&&void 0!==a&&a.id){O(!0);try{const e=await fetch("".concat("https://cataloro.com","/api/tenders/buyer/").concat(a.id));if(e.ok){const t=await e.json();C(t)}else console.error("Failed to fetch tenders"),C([])}catch(e){console.error("Failed to fetch my tenders:",e),C([])}finally{O(!1)}}},[null===a||void 0===a?void 0:a.id]),L=n.useCallback(async()=>{if(null!==a&&void 0!==a&&a.id)try{N(!0);const e=await Ba.getMyListings(a.id);w(e)}catch(e){s("Failed to load your listings","error"),console.error("Failed to fetch listings:",e)}finally{N(!1)}},[null===a||void 0===a?void 0:a.id,s]),M=n.useCallback(e=>{S(e)},[]),I=()=>{i("/create-listing")},D=n.useMemo(()=>{switch(_){case"active":return j.filter(e=>"active"===e.status);case"drafts":return j.filter(e=>"draft"===e.status||e.is_draft);case"closed":return j.filter(e=>"sold"===e.status||"closed"===e.status);default:return j}},[j,_]);if(!a)return(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Please Login"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You need to be logged in to manage tenders and listings."})]});const R=d.reduce((e,t)=>e+t.tender_count,0),F=d.reduce((e,t)=>e+(t.highest_offer||0),0);return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,ga.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ga.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Management Center"}),(0,ga.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1 sm:mt-2",children:"Manage your tenders and listings"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-3 flex-shrink-0",children:"sell"===l?(0,ga.jsxs)("button",{onClick:P,className:"flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors text-sm w-full sm:w-auto",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Refresh Tenders"}),(0,ga.jsx)("span",{className:"sm:hidden",children:"Refresh"})]}):"buy"===l?(0,ga.jsxs)("button",{onClick:T,className:"flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors text-sm w-full sm:w-auto",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Refresh"})]}):"listings"===l?(0,ga.jsxs)("button",{onClick:I,className:"flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors text-sm w-full sm:w-auto",children:[(0,ga.jsx)(ks,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Create New Listing"}),(0,ga.jsx)("span",{className:"sm:hidden",children:"Create"})]}):null})]}),!t&&!r&&(0,ga.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("nav",{className:"flex space-x-8",children:[(0,ga.jsx)("button",{onClick:()=>c("sell"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("sell"===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(Os,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Sell"})]})}),(0,ga.jsx)("button",{onClick:()=>c("buy"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("buy"===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(_s,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Buy"})]})}),(0,ga.jsx)("button",{onClick:()=>c("listings"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("listings"===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)(wi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{children:"Listings"})]})})]})}),"sell"===l&&(0,ga.jsx)(Ip,{tendersOverview:d,tendersLoading:m,selectedListing:g,setSelectedListing:p,acceptingTender:x,rejectingTender:b,handleAcceptTender:async(e,t,r)=>{if(!a)return;if(window.confirm("Accept tender offer of ".concat(Co(r),' for "').concat(t,'"?\n\nThis will:\n- Accept this tender\n- Reject all other tenders for this listing\n- Mark the listing as SOLD\n- Send notifications to all bidders\n- Create a message thread with the winning bidder')))try{f(e);const t=await fetch("".concat("https://cataloro.com","/api/tenders/").concat(e,"/accept"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify({seller_id:a.id})});if(t.ok)s("Tender offer of ".concat(Co(r)," accepted!"),"success"),P(),L();else{const e=await t.json();s(e.detail||"Failed to accept tender","error")}}catch(n){console.error("Error accepting tender:",n),s("Error accepting tender. Please try again.","error")}finally{f(null)}},handleRejectTender:async(e,t,r)=>{if(!a)return;if(window.confirm("Reject tender offer of ".concat(Co(r),' for "').concat(t,'"?\n\nThis will send a rejection notification to the bidder.')))try{y(e);const t=await fetch("".concat("https://cataloro.com","/api/tenders/").concat(e,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify({seller_id:a.id})});if(t.ok)s("Tender offer rejected","info"),P();else{const e=await t.json();s(e.detail||"Failed to reject tender","error")}}catch(n){console.error("Error rejecting tender:",n),s("Error rejecting tender. Please try again.","error")}finally{y(null)}},totalTenders:R,totalHighestBids:F}),"buy"===l&&(0,ga.jsx)(Dp,{myTenders:A,myTendersLoading:E,fetchMyTenders:T}),"listings"===l&&(0,ga.jsx)(Fp,{listings:D,allListings:j,listingsLoading:k,activeFilter:_,handleTileClick:M,handleCreateListing:I,handleDeleteListing:async e=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await Ba.deleteListing(e),w(j.filter(t=>t.id!==e)),s("Listing deleted successfully","success")}catch(t){console.error("Error deleting listing:",t),s("Failed to delete listing","error")}}})]})},Up=js("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),qp=js("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function zp(e){let{loading:t}=e;return(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Tenders"}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"View tender requests you have submitted"})]}),t?(0,ga.jsxs)("div",{className:"text-center py-8",children:[(0,ga.jsx)(Qi,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,ga.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading tenders..."})]}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Up,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ga.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No tenders"}),(0,ga.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Tender requests you submit will appear here."})]})]})}function Hp(e){let{items:t,baskets:r,searchTerm:a,setSearchTerm:n,assignmentFilter:s,setAssignmentFilter:i,onAssignToBasket:o,onUnassignFromBasket:l,onCreateBasket:c,onMarkComplete:d,isItemCompleted:u,loading:m}=e;return(0,ga.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,ga.jsxs)("div",{className:"flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:items-center sm:justify-between sm:gap-4",children:[(0,ga.jsx)("div",{className:"flex-1 max-w-full sm:max-w-md",children:(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)(ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,ga.jsx)("input",{type:"text",placeholder:"Search bought items...",value:a,onChange:e=>n(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),(0,ga.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-2 sm:space-y-0",children:(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter:"}),(0,ga.jsxs)("select",{value:s,onChange:e=>i(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ga.jsx)("option",{value:"all",children:"All Items"}),(0,ga.jsx)("option",{value:"assigned",children:"Assigned to Basket"}),(0,ga.jsx)("option",{value:"unassigned",children:"Not in Basket"})]})]})})]}),(0,ga.jsx)("div",{className:"flex items-center justify-between",children:(0,ga.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.length," items found"]})}),m?(0,ga.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,ga.jsx)(Qi,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,ga.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading bought items..."})]}):t.length>0?(0,ga.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:t.map(e=>(0,ga.jsx)(Gp,{item:e,baskets:r,onAssignToBasket:o,onUnassignFromBasket:l,onCreateBasket:c,onMarkComplete:d,isCompleted:u(e.listing_id)},e.id))}):(0,ga.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,ga.jsx)(Ts,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400"}),(0,ga.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No bought items"}),(0,ga.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Items you purchase will appear here."})]})]})}function Vp(e){let{baskets:t,onCreateBasket:r,onEditBasket:a,onDeleteBasket:n,onExportBasket:s,onUnassignFromBasket:i,onReassignToBasket:o,calculateTotals:l,loading:c,exportingBaskets:d}=e;return(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Your Baskets"}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Organize your purchased items into baskets"})]}),(0,ga.jsxs)("button",{onClick:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,ga.jsx)(ks,{className:"w-4 h-4 mr-2"}),"Create Basket"]})]}),c?(0,ga.jsxs)("div",{className:"text-center py-8",children:[(0,ga.jsx)(Qi,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,ga.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading baskets..."})]}):t.length>0?(0,ga.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(e=>(0,ga.jsx)(Wp,{basket:e,totals:l(e),onEdit:()=>a(e),onDelete:()=>n(e.id),onExport:()=>s(e,l(e)),onUnassignFromBasket:i,onReassignToBasket:o,allBaskets:t,isExporting:d[e.id]||!1},e.id))}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(_i,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ga.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No baskets created"}),(0,ga.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create your first basket to organize items."}),(0,ga.jsxs)("button",{onClick:r,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,ga.jsx)(ks,{className:"w-4 h-4 mr-2"}),"Create First Basket"]})]})]})}function Gp(e){var t;let{item:r,baskets:a,onAssignToBasket:s,onUnassignFromBasket:i,onCreateBasket:o,onMarkComplete:l,isCompleted:c}=e;const[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1);return(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow border border-gray-200 dark:border-gray-600 relative",children:[r.image&&(0,ga.jsx)("div",{className:"aspect-w-16 aspect-h-9 overflow-hidden rounded-t-lg",children:(0,ga.jsx)("img",{src:r.image,alt:r.title,className:"w-full h-48 object-cover"})}),r.basket_id&&(0,ga.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,ga.jsxs)("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-bold bg-green-600 text-white shadow-lg",children:[(0,ga.jsx)(_i,{className:"w-4 h-4 mr-2"}),"ASSIGNED"]})}),(0,ga.jsxs)("div",{className:"p-4",children:[(0,ga.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:r.title})}),(0,ga.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(_s,{className:"w-3 h-3 mr-1"}),"\u20ac",(null===(t=r.price)||void 0===t?void 0:t.toFixed(2))||"0.00"]}),(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Es,{className:"w-3 h-3 mr-1"}),r.seller_name||"Unknown Seller"]}),(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Ks,{className:"w-3 h-3 mr-1"}),new Date(r.purchased_at).toLocaleDateString()]}),r.basket_id&&(0,ga.jsxs)("div",{className:"flex items-center text-xs text-green-600 dark:text-green-400",children:[(0,ga.jsx)(_i,{className:"w-3 h-3 mr-1"}),"Assigned to basket"]})]}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsxs)("button",{onClick:()=>c?null:h(!0),disabled:c,className:"w-full inline-flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all ".concat(c?"border-gray-300 text-gray-500 bg-gray-100 cursor-not-allowed dark:border-gray-600 dark:text-gray-400 dark:bg-gray-800":"border-green-300 text-green-700 bg-green-50 hover:bg-green-100 focus:ring-green-500 dark:border-green-600 dark:text-green-400 dark:bg-green-900 dark:hover:bg-green-800"),children:[(0,ga.jsx)(Gi,{className:"w-4 h-4 mr-2"}),c?"Completed":"Mark as Completed"]}),(0,ga.jsxs)("div",{className:"relative z-50",children:[r.basket_id?(0,ga.jsx)("button",{onClick:()=>{window.confirm("Unassign this item from the basket? This will allow you to reassign it with updated catalyst values.")&&i(r.id)},className:"w-full inline-flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all border-red-300 text-red-700 bg-red-50 hover:bg-red-100 focus:ring-red-500 dark:border-red-600 dark:text-red-400 dark:bg-red-900 dark:hover:bg-red-800",children:"Unassign"}):(0,ga.jsxs)("button",{onClick:()=>u(!d),className:"w-full inline-flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all border-blue-300 text-blue-700 bg-blue-50 hover:bg-blue-100 focus:ring-blue-500 dark:border-blue-600 dark:text-blue-400 dark:bg-blue-900 dark:hover:bg-blue-800",children:["Assign to Basket",(0,ga.jsx)(rl,{className:"w-4 h-4 ml-2"})]}),d&&!r.basket_id&&(0,ga.jsx)("div",{className:"absolute left-0 right-0 mt-2 bg-white dark:bg-gray-700 rounded-md shadow-lg border border-gray-200 dark:border-gray-600 z-[100]",children:(0,ga.jsxs)("div",{className:"py-1",children:[a.length>0?a.map(e=>(0,ga.jsxs)("button",{onClick:()=>{s(r.id,e.id),u(!1)},className:"block w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)(_i,{className:"w-4 h-4 inline mr-2"}),e.name]},e.id)):(0,ga.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No baskets available"}),a.length>0&&(0,ga.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),(0,ga.jsxs)("button",{onClick:()=>{o(),u(!1)},className:"block w-full px-4 py-2 text-sm text-left text-blue-600 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)(ks,{className:"w-4 h-4 inline mr-2"}),"Create New Basket"]})]})})]})]})]}),m&&(0,ga.jsx)(Yp,{item:r,onComplete:(e,t)=>{l(r.listing_id,e,t),h(!1)},onClose:()=>h(!1)})]})}function Wp(e){var t;let{basket:r,totals:a,onEdit:s,onDelete:i,onExport:o,onUnassignFromBasket:l,onReassignToBasket:c,allBaskets:d,isExporting:u}=e;const[m,h]=(0,n.useState)(null);return(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow border border-gray-200 dark:border-gray-600",children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.name}),r.description&&(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:r.description})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("button",{onClick:o,disabled:u,className:"p-2 transition-colors ".concat(u?"text-green-600 dark:text-green-400 cursor-not-allowed":"text-gray-400 hover:text-green-600 dark:hover:text-green-400"),title:u?"Exporting PDF...":"Export basket as PDF",children:u?(0,ga.jsx)(qp,{className:"w-4 h-4 animate-spin"}):(0,ga.jsx)(Ys,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ga.jsx)(Cl,{className:"w-4 h-4"})}),(0,ga.jsx)("button",{onClick:i,className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:(0,ga.jsx)(Zs,{className:"w-4 h-4"})})]})]}),(0,ga.jsx)("div",{className:"mb-4",children:(0,ga.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[(null===(t=r.items)||void 0===t?void 0:t.length)||0," items"]})}),(0,ga.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[(0,ga.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Summary"}),(0,ga.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("dt",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Value Paid"}),(0,ga.jsxs)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["\u20ac",a.valuePaid.toFixed(2)]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("dt",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Pt g"}),(0,ga.jsx)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.ptG.toFixed(4)})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("dt",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Pd g"}),(0,ga.jsx)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.pdG.toFixed(4)})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("dt",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rh g"}),(0,ga.jsx)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.rhG.toFixed(4)})]})]})]}),r.items&&r.items.length>0&&(0,ga.jsxs)("div",{className:"mt-4",children:[(0,ga.jsx)("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Items in Basket"}),(0,ga.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[r.items.map((e,t)=>{var a;return(0,ga.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-3",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate flex-1 mr-2",children:e.title}),(0,ga.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["\u20ac",(null===(a=e.price)||void 0===a?void 0:a.toFixed(2))||"0.00"]})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2 relative",children:[(0,ga.jsx)("button",{onClick:()=>{window.confirm('Unassign "'.concat(e.title,'" from this basket?'))&&l(e.id)},className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 dark:bg-red-900/50 dark:text-red-400 dark:hover:bg-red-900",children:"Unassign"}),(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("button",{onClick:()=>h(m===e.id?null:e.id),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 dark:bg-blue-900/50 dark:text-blue-400 dark:hover:bg-blue-900",children:"Reassign"}),m===e.id&&(0,ga.jsx)("div",{className:"absolute left-0 top-full mt-1 bg-white dark:bg-gray-700 rounded-md shadow-lg border border-gray-200 dark:border-gray-600 z-50 min-w-32",children:(0,ga.jsx)("div",{className:"py-1",children:d.filter(e=>e.id!==r.id).length>0?d.filter(e=>e.id!==r.id).map(t=>(0,ga.jsxs)("button",{onClick:()=>{c(e.id,r.id,t.id),h(null)},className:"block w-full px-3 py-2 text-sm text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ga.jsx)(_i,{className:"w-3 h-3 inline mr-2"}),t.name]},t.id)):(0,ga.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No other baskets"})})})]})]})]},t)}),r.items.length>5&&(0,ga.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Showing first 5 items"})]})]})]})})}function Kp(e){let{transactions:t,onUndoCompletion:r,loading:a}=e;return(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Completed Transactions"}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Items that have been physically handed over between buyer and seller"})]}),a?(0,ga.jsxs)("div",{className:"text-center py-8",children:[(0,ga.jsx)(Qi,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,ga.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading completed transactions..."})]}):t.length>0?(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,ga.jsx)(Jp,{transaction:e,onUndoCompletion:r},e.id))}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Gi,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ga.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No completed transactions"}),(0,ga.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Transactions you mark as completed will appear here."})]})]})}function Jp(e){var t,r;let{transaction:a,onUndoCompletion:n}=e;const s=a.is_fully_completed,i=a.user_role_in_transaction,o=a.other_party,l=!!a.buyer_confirmed_at,c=!!a.seller_confirmed_at;return(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow border border-gray-200 dark:border-gray-600 relative",children:[(0,ga.jsx)("div",{className:"absolute top-4 right-4 z-10",children:s?(0,ga.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-600 text-white shadow-lg",children:[(0,ga.jsx)(Gi,{className:"w-3 h-3 mr-1"}),"FULLY COMPLETED"]}):(0,ga.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-yellow-600 text-white shadow-lg",children:[(0,ga.jsx)(Js,{className:"w-3 h-3 mr-1"}),"PENDING"]})}),a.listing_image&&(0,ga.jsx)("div",{className:"aspect-w-16 aspect-h-9 overflow-hidden rounded-t-lg",children:(0,ga.jsx)("img",{src:a.listing_image,alt:a.listing_title,className:"w-full h-48 object-cover"})}),(0,ga.jsxs)("div",{className:"p-4",children:[(0,ga.jsxs)("div",{className:"mb-4",children:[(0,ga.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:a.listing_title}),(0,ga.jsxs)("div",{className:"space-y-1 mt-2",children:[(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(_s,{className:"w-3 h-3 mr-1"}),"\u20ac",(null===(t=a.tender_amount)||void 0===t?void 0:t.toFixed(2))||(null===(r=a.listing_price)||void 0===r?void 0:r.toFixed(2))||"0.00"]}),(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Es,{className:"w-3 h-3 mr-1"}),"buyer"===i?"Bought from":"Sold to",": ",(null===o||void 0===o?void 0:o.name)||"Unknown"]}),(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Ks,{className:"w-3 h-3 mr-1"}),"Completed: ",new Date(a.created_at).toLocaleDateString()]}),a.completion_method&&(0,ga.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(so,{className:"w-3 h-3 mr-1"}),"Method: ",a.completion_method]})]})]}),(0,ga.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,ga.jsx)("h4",{className:"text-xs font-medium text-gray-900 dark:text-white mb-2",children:"Completion Status"}),(0,ga.jsxs)("div",{className:"space-y-1",children:[(0,ga.jsxs)("div",{className:"flex items-center text-xs",children:[l?(0,ga.jsx)(Gi,{className:"w-3 h-3 text-green-600 mr-2"}):(0,ga.jsx)(Is,{className:"w-3 h-3 text-red-500 mr-2"}),(0,ga.jsx)("span",{className:l?"text-green-600":"text-gray-500",children:"Buyer confirmed"})]}),(0,ga.jsxs)("div",{className:"flex items-center text-xs",children:[c?(0,ga.jsx)(Gi,{className:"w-3 h-3 text-green-600 mr-2"}):(0,ga.jsx)(Is,{className:"w-3 h-3 text-red-500 mr-2"}),(0,ga.jsx)("span",{className:c?"text-green-600":"text-gray-500",children:"Seller confirmed"})]})]})]}),a.completion_notes&&(0,ga.jsxs)("div",{className:"mb-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,ga.jsx)("strong",{children:"Notes:"})," ",a.completion_notes]}),(0,ga.jsxs)("button",{onClick:()=>{window.confirm("Undo your completion confirmation for this transaction?")&&n(a.id)},className:"w-full inline-flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all border-red-300 text-red-700 bg-red-50 hover:bg-red-100 focus:ring-red-500 dark:border-red-600 dark:text-red-400 dark:bg-red-900 dark:hover:bg-red-800",children:[(0,ga.jsx)(Is,{className:"w-4 h-4 mr-2"}),"Undo My Confirmation"]})]})]})}function Yp(e){var t;let{item:r,onComplete:a,onClose:s}=e;const[i,o]=n.useState(""),[l,c]=n.useState("meeting");return(0,ga.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ga.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:(0,ga.jsxs)("div",{className:"mt-3",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white text-center mb-4",children:"Mark Transaction as Completed"}),(0,ga.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ga.jsx)("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:r.title}),(0,ga.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u20ac",null===(t=r.price)||void 0===t?void 0:t.toFixed(2)]})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Completion Method"}),(0,ga.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ga.jsx)("option",{value:"meeting",children:"In-person meeting"}),(0,ga.jsx)("option",{value:"pickup",children:"Pickup"}),(0,ga.jsx)("option",{value:"delivery",children:"Delivery"}),(0,ga.jsx)("option",{value:"shipping",children:"Shipping"}),(0,ga.jsx)("option",{value:"other",children:"Other"})]})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes (Optional)"}),(0,ga.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),placeholder:"Add any notes about the completion...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,ga.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,ga.jsx)("button",{onClick:()=>a(i,l),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Mark as Completed"})]})]})})})}function $p(e){let{title:t,form:r,setForm:a,onSave:n,onClose:s}=e;return(0,ga.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ga.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:(0,ga.jsxs)("div",{className:"mt-3",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white text-center mb-4",children:t}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Basket Name"}),(0,ga.jsx)("input",{type:"text",value:r.name,onChange:e=>a((0,Re.A)((0,Re.A)({},r),{},{name:e.target.value})),placeholder:"Enter basket name...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (Optional)"}),(0,ga.jsx)("textarea",{value:r.description,onChange:e=>a((0,Re.A)((0,Re.A)({},r),{},{description:e.target.value})),placeholder:"Enter description...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,ga.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,ga.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Save"})]})]})})})}const Qp=function(e){let{initialTab:t="tenders",hideNavigation:r=!1,showOnlyTab:a=null}=e;const{user:s}=_a(),{showToast:i}=Fa(),{permissions:o}=to(),[l,c]=(0,n.useState)(a||t);(0,n.useEffect)(()=>{a&&c(a)},[a]);const[d,u]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[g,p]=(0,n.useState)([]),[x,f]=(0,n.useState)(null),[b,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(""),[w,k]=(0,n.useState)("all"),[N,_]=(0,n.useState)(!1),[S,A]=(0,n.useState)(!1),[C,E]=(0,n.useState)({name:"",description:""}),[O,P]=(0,n.useState)({}),T=async()=>{if(null!==s&&void 0!==s&&s.id)try{y(!0);const e=await fetch("".concat("https://cataloro.com","/api/user/bought-items/").concat(s.id),{headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();h(t)}else console.error("Failed to load bought items"),h([])}catch(e){console.error("Error loading bought items:",e),h([])}finally{y(!1)}},L=async()=>{if(null!==s&&void 0!==s&&s.id)try{y(!0);const e=await fetch("".concat("https://cataloro.com","/api/user/baskets/").concat(s.id),{headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();p(t)}else console.error("Failed to load baskets"),p([])}catch(e){console.error("Error loading baskets:",e),p([])}finally{y(!1)}},M=async()=>{if(null!==s&&void 0!==s&&s.id)try{y(!0);const e=await fetch("".concat("https://cataloro.com","/api/user/completed-transactions/").concat(s.id),{headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();u(t)}else console.error("Failed to load completed transactions"),u([])}catch(e){console.error("Error loading completed transactions:",e),u([])}finally{y(!1)}},I=async e=>{try{const t=await fetch("".concat("https://cataloro.com","/api/user/bought-items/").concat(e,"/unassign"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(t.ok)i("Item unassigned from basket successfully","success"),h(t=>t.map(t=>t.id===e?(0,Re.A)((0,Re.A)({},t),{},{basket_id:null}):t)),T(),L();else{const e=await t.text();console.error("Unassign failed:",e),i("Failed to unassign item from basket","error")}}catch(t){console.error("Error unassigning item:",t),i("Error unassigning item from basket","error")}};(0,n.useEffect)(()=>{T(),L(),M()},[null===s||void 0===s?void 0:s.id]);const D=m.filter(e=>{var t,r;const a=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(v.toLowerCase()))||(null===(r=e.seller_name)||void 0===r?void 0:r.toLowerCase().includes(v.toLowerCase())),n="all"===w||"assigned"===w&&e.basket_id||"not-assigned"===w&&!e.basket_id;return a&&n});return o.ui.showBuyingFeatures||"Admin"===(null===s||void 0===s?void 0:s.user_role)||"Admin-Manager"===(null===s||void 0===s?void 0:s.user_role)?(0,ga.jsx)("div",{className:r?"":"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,ga.jsxs)("div",{className:r?"p-4":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[!r&&(0,ga.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(Ss,{className:"w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-blue-600"}),"Inventory"]}),(0,ga.jsx)("p",{className:"mt-1 sm:mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Manage your purchased items and organize them into baskets"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:(0,ga.jsxs)("button",{onClick:()=>{T(),L(),M()},disabled:b,className:"inline-flex items-center px-3 py-2 sm:px-4 sm:py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4 mr-1 sm:mr-2 ".concat(b?"animate-spin":"")}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})})]})}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-4 sm:mb-6",children:[!r&&(0,ga.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsxs)("nav",{className:"flex px-2 sm:px-6 overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},"aria-label":"Tabs",children:[(0,ga.jsx)("button",{onClick:()=>c("tenders"),className:"py-3 sm:py-4 px-1 sm:px-3 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap flex-shrink-0 ".concat("tenders"===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,ga.jsx)(Up,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"sm:inline",children:"Tenders"})]})}),(0,ga.jsx)("button",{onClick:()=>c("bought-items"),className:"py-3 sm:py-4 px-1 sm:px-3 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap flex-shrink-0 ".concat("bought-items"===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,ga.jsx)(Ts,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Bought Items"}),(0,ga.jsx)("span",{className:"sm:hidden",children:"Items"})]})}),(0,ga.jsx)("button",{onClick:()=>c("baskets"),className:"py-3 sm:py-4 px-1 sm:px-3 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap flex-shrink-0 ".concat("baskets"===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,ga.jsx)(_i,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"sm:inline",children:"Baskets"})]})}),(0,ga.jsx)("button",{onClick:()=>c("completed"),className:"py-3 sm:py-4 px-1 sm:px-3 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap flex-shrink-0 ".concat("completed"===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,ga.jsx)(Gi,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Completed"}),(0,ga.jsx)("span",{className:"sm:hidden",children:"Done"})]})})]})}),(0,ga.jsxs)("div",{className:"p-4 sm:p-6",children:["tenders"===l&&(0,ga.jsx)(zp,{loading:b}),"bought-items"===l&&(0,ga.jsx)(Hp,{items:D,baskets:g,searchTerm:v,setSearchTerm:j,assignmentFilter:w,setAssignmentFilter:k,onAssignToBasket:async(e,t)=>{try{const r=await fetch("".concat("https://cataloro.com","/api/user/bought-items/").concat(e,"/assign"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({basket_id:t})});if(r.ok)i("Item assigned to basket successfully","success"),h(r=>r.map(r=>r.id===e?(0,Re.A)((0,Re.A)({},r),{},{basket_id:t}):r)),T(),L();else{const e=await r.text();console.error("Assignment failed:",e),i("Failed to assign item to basket","error")}}catch(r){console.error("Error assigning item:",r),i("Error assigning item to basket","error")}},onUnassignFromBasket:I,onCreateBasket:()=>_(!0),onMarkComplete:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"meeting";try{const a=localStorage.getItem("cataloro_token"),n=await fetch("".concat("https://cataloro.com","/api/user/complete-transaction"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({listing_id:e,notes:t,method:r})});if(n.ok){const e=await n.json();i(e.is_fully_completed?"Transaction fully completed!":"Transaction marked as completed. Waiting for other party confirmation.","success"),T(),M(),c("completed")}else{const e=await n.text();console.error("Mark complete failed:",e),i("Failed to mark transaction complete","error")}}catch(a){console.error("Error marking transaction complete:",a),i("Error marking transaction complete","error")}},isItemCompleted:e=>d.some(t=>t.listing_id===e&&"buyer"===t.user_role_in_transaction),loading:b}),"baskets"===l&&(0,ga.jsx)(Vp,{baskets:g,onCreateBasket:()=>_(!0),onEditBasket:e=>{f(e),E({name:e.name,description:e.description||""}),A(!0)},onDeleteBasket:async e=>{if(window.confirm("Are you sure you want to delete this basket? All items will be unassigned."))try{(await fetch("".concat("https://cataloro.com","/api/user/baskets/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok?(i("Basket deleted successfully","success"),L(),T()):i("Failed to delete basket","error")}catch(t){console.error("Error deleting basket:",t),i("Error deleting basket","error")}},onExportBasket:async(e,t)=>{P(t=>(0,Re.A)((0,Re.A)({},t),{},{[e.id]:!0}));try{i("Generating PDF export...","info");const r={basketId:e.id,basketName:e.name,basketDescription:e.description,totals:t,items:e.items||[],userId:s.id,exportDate:(new Date).toISOString()},a=await fetch("".concat("https://cataloro.com","/api/user/export-basket-pdf"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(r)});if(!a.ok)throw new Error("Export failed: ".concat(a.statusText));const n=await a.blob(),o=window.URL.createObjectURL(n),l=document.createElement("a");l.href=o;const c=(new Date).toISOString().slice(0,19).replace(/:/g,"-"),d="cataloro-basket-".concat(e.name.replace(/[^a-zA-Z0-9]/g,"_"),"-").concat(c,".pdf");l.download=d,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o),i("Basket PDF exported successfully!","success")}catch(r){console.error("Export error:",r),i("Export failed: ".concat(r.message),"error")}finally{P(t=>(0,Re.A)((0,Re.A)({},t),{},{[e.id]:!1}))}},onUnassignFromBasket:I,onReassignToBasket:async(e,t,r)=>{try{if(!(await fetch("".concat("https://cataloro.com","/api/user/bought-items/").concat(e,"/unassign"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to unassign item");if(!(await fetch("".concat("https://cataloro.com","/api/user/bought-items/").concat(e,"/assign"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({basket_id:r})})).ok)throw new Error("Failed to assign item to new basket");i("Item reassigned to basket successfully","success"),T(),L()}catch(a){console.error("Error reassigning item:",a),i("Error reassigning item to basket","error")}},calculateTotals:e=>{const t=e.items||[];return{valuePaid:t.reduce((e,t)=>e+(t.price||0),0),ptG:t.reduce((e,t)=>t.pt_g&&t.pt_g>0?e+t.pt_g:e+(t.weight||0)*(t.pt_ppm||0)/1e3*(t.renumeration_pt||0),0),pdG:t.reduce((e,t)=>t.pd_g&&t.pd_g>0?e+t.pd_g:e+(t.weight||0)*(t.pd_ppm||0)/1e3*(t.renumeration_pd||0),0),rhG:t.reduce((e,t)=>t.rh_g&&t.rh_g>0?e+t.rh_g:e+(t.weight||0)*(t.rh_ppm||0)/1e3*(t.renumeration_rh||0),0)}},loading:b,exportingBaskets:O}),"completed"===l&&(0,ga.jsx)(Kp,{transactions:d,onUndoCompletion:async e=>{try{const t=localStorage.getItem("cataloro_token"),r=await fetch("".concat("https://cataloro.com","/api/user/completed-transactions/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(r.ok)i("Transaction completion undone successfully","success"),M(),T();else{const e=await r.text();console.error("Undo completion failed:",e),i("Failed to undo transaction completion","error")}}catch(t){console.error("Error undoing transaction completion:",t),i("Error undoing transaction completion","error")}},loading:b})]})]}),N&&(0,ga.jsx)($p,{title:"Create New Basket",form:C,setForm:E,onSave:async()=>{if(C.name.trim())try{(await fetch("".concat("https://cataloro.com","/api/user/baskets"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s.id,name:C.name.trim(),description:C.description.trim()})})).ok?(i("Basket created successfully","success"),_(!1),E({name:"",description:""}),L()):i("Failed to create basket","error")}catch(e){console.error("Error creating basket:",e),i("Error creating basket","error")}else i("Basket name is required","error")},onClose:()=>{_(!1),E({name:"",description:""})}}),S&&(0,ga.jsx)($p,{title:"Edit Basket",form:C,setForm:E,onSave:async()=>{if(C.name.trim()&&x)try{(await fetch("".concat("https://cataloro.com","/api/user/baskets/").concat(x.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C.name.trim(),description:C.description.trim()})})).ok?(i("Basket updated successfully","success"),A(!1),f(null),E({name:"",description:""}),L()):i("Failed to update basket","error")}catch(e){console.error("Error updating basket:",e),i("Error updating basket","error")}else i("Basket name is required","error")},onClose:()=>{A(!1),f(null),E({name:"",description:""})}})]})}):(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(Ts,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ga.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Access Denied"}),(0,ga.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to access buy management."})]})})};const Zp=function(){const[e,t]=(0,n.useState)("tenders"),[r,a]=De(),{user:s}=_a(),{showToast:i}=Fa();(0,n.useEffect)(()=>{const e=r.get("tab");e&&["tenders","bought-items","baskets","completed"].includes(e)&&t(e)},[r]);const o=[{id:"tenders",label:"Tenders",icon:_s,description:"Manage your bids and offers"},{id:"bought-items",label:"Bought Items",icon:Ts,description:"Items you have purchased"},{id:"baskets",label:"Baskets",icon:_i,description:"Organize your purchases"},{id:"completed",label:"Completed",icon:Yi,description:"Physically completed transactions"}];return s?(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,ga.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,ga.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(Ts,{className:"w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-blue-600"}),"Buy Management"]}),(0,ga.jsx)("p",{className:"mt-1 sm:mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Manage your purchases, bids, and completed transactions"})]})})}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow border border-gray-200 dark:border-gray-700 mb-4 sm:mb-6",children:[(0,ga.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsx)("nav",{className:"flex px-1 sm:px-6 overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},"aria-label":"Tabs",children:o.map(r=>{const n=r.icon,s=e===r.id;return(0,ga.jsx)("button",{onClick:()=>(e=>{t(e),a({tab:e})})(r.id),className:"flex-1 py-3 sm:py-4 px-1 sm:px-3 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap text-center ".concat(s?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,ga.jsx)(n,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:r.label}),(0,ga.jsx)("span",{className:"sm:hidden",children:(e=>{switch(e){case"tenders":return"Tenders";case"bought-items":return"Items";case"baskets":return"Baskets";case"completed":return"Done";default:return r.label}})(r.id)})]})},r.id)})})}),(0,ga.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,ga.jsx)("div",{style:{display:"tenders"===e?"block":"none"},children:(0,ga.jsx)(Bp,{showBuyTabOnly:!0})}),("bought-items"===e||"baskets"===e||"completed"===e)&&(0,ga.jsx)(Qp,{initialTab:e,hideNavigation:!0,showOnlyTab:e},e)]})]})]})}):(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(Qi,{className:"w-12 h-12 animate-spin mx-auto text-blue-600 mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your buying dashboard..."})]})})};function Xp(e){let{transactions:t,loading:r,onRefresh:a}=e;const{showToast:n}=Fa(),s=async e=>{try{const t=localStorage.getItem("cataloro_token"),r=await fetch("".concat("https://cataloro.com","/api/user/completed-transactions/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(r.ok)n("Transaction completion undone successfully","success"),a();else{const e=await r.text();console.error("Undo completion failed:",e),n("Failed to undo transaction completion","error")}}catch(t){console.error("Error undoing transaction completion:",t),n("Error undoing transaction completion","error")}};return(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Completed Sales"}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Items you've sold that have been physically handed over"})]}),(0,ga.jsxs)("button",{onClick:a,disabled:r,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4 mr-2 ".concat(r?"animate-spin":"")}),"Refresh"]})]}),r?(0,ga.jsxs)("div",{className:"text-center py-8",children:[(0,ga.jsx)(Qi,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,ga.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading completed sales..."})]}):t.length>0?(0,ga.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,ga.jsx)(Jp,{transaction:e,onUndoCompletion:s},e.id))}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Yi,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ga.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No completed sales"}),(0,ga.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Sales you mark as completed will appear here."})]})]})}function ex(e){let{user:t,onRefresh:r,onCompleteOrder:a,onSwitchToCompleted:s}=e;const[i,o]=(0,n.useState)([]),[l,c]=(0,n.useState)(!1),{showToast:d}=Fa(),u=async()=>{if(null!==t&&void 0!==t&&t.id)try{c(!0);const e=await fetch("".concat("https://cataloro.com","/api/tenders/seller/").concat(t.id,"/accepted"),{headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();o(t)}else console.error("Failed to load accepted tenders"),o([])}catch(e){console.error("Error loading accepted tenders:",e),o([])}finally{c(!1)}};(0,n.useEffect)(()=>{u()},[null===t||void 0===t?void 0:t.id]);return(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,ga.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ga.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white",children:"Accepted Tenders"}),(0,ga.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage tenders you have accepted and orders to fulfill"})]}),(0,ga.jsxs)("button",{onClick:u,disabled:l,className:"inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600 w-full sm:w-auto flex-shrink-0",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4 mr-2 ".concat(l?"animate-spin":"")}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Refresh"}),(0,ga.jsx)("span",{className:"sm:hidden",children:"Refresh"})]})]}),l?(0,ga.jsxs)("div",{className:"text-center py-8",children:[(0,ga.jsx)(Qi,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,ga.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading accepted tenders..."})]}):i.length>0?(0,ga.jsx)("div",{className:"space-y-4",children:i.map(e=>{var t;return(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow border border-gray-200 dark:border-gray-600 p-4 sm:p-6",children:(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-4 sm:space-y-0",children:[(0,ga.jsx)("div",{className:"flex-1 min-w-0",children:(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-3 sm:space-y-0 sm:space-x-4",children:[e.listing_image&&(0,ga.jsx)("img",{src:e.listing_image,alt:e.listing_title,className:"w-full sm:w-16 sm:h-16 h-32 rounded-lg object-cover flex-shrink-0"}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsx)("h4",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white line-clamp-2",children:e.listing_title}),(0,ga.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,ga.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(_s,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,ga.jsxs)("span",{className:"truncate",children:["Accepted Amount: \u20ac",null===(t=e.offer_amount)||void 0===t?void 0:t.toFixed(2)]})]}),(0,ga.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Es,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,ga.jsxs)("span",{className:"truncate",children:["Buyer: ",e.buyer_name||"Unknown"]})]}),(0,ga.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,ga.jsx)(Qi,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,ga.jsxs)("span",{className:"truncate",children:["Accepted: ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,ga.jsx)("div",{className:"mt-3",children:(0,ga.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-600 text-white",children:[(0,ga.jsx)(Yi,{className:"w-3 h-3 mr-1"}),"Tender Accepted"]})})]})]})}),(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-col space-y-2 w-full sm:w-auto sm:ml-4 flex-shrink-0",children:[(0,ga.jsxs)("button",{onClick:()=>(async(e,t)=>{try{const e=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/user/complete-transaction"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({listing_id:t,notes:"Order completed by seller",method:"seller_completion"})})).ok?(d("Order marked as completed successfully","success"),u(),a(),s()):d("Failed to complete order","error")}catch(r){console.error("Error completing order",r),d("Error completing order","error")}})(e.id,e.listing_id),className:"inline-flex items-center justify-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 w-full sm:w-auto",children:[(0,ga.jsx)(Yi,{className:"w-4 h-4 mr-2"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Complete Order"}),(0,ga.jsx)("span",{className:"sm:hidden",children:"Complete"})]}),(0,ga.jsxs)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Set "'.concat(t,'" back online? This will reactivate the listing and make it available for new tenders.')))try{const t=localStorage.getItem("cataloro_token");(await fetch("".concat("https://cataloro.com","/api/listings/").concat(e,"/reactivate"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).ok?(d("Listing set back online successfully","success"),u()):d("Failed to set listing back online","error")}catch(r){console.error("Error setting listing back online:",r),d("Error setting listing back online","error")}})(e.listing_id,e.listing_title),className:"inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600 w-full sm:w-auto",children:[(0,ga.jsx)(Ts,{className:"w-4 h-4 mr-2"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Set Back Online"}),(0,ga.jsx)("span",{className:"sm:hidden",children:"Set Online"})]})]})]})},e.id)})}):(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)(Yi,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ga.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No accepted tenders"}),(0,ga.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Tenders you accept will appear here for order management."})]})]})}const tx=function(){const[e,t]=(0,n.useState)("listings"),[r,a]=De(),{user:s}=_a(),{showToast:i}=Fa(),[o,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=r.get("tab");e&&["listings","tenders","accepted","completed"].includes(e)&&t(e)},[r]);const u=e=>{t(e),a({tab:e})},m=async()=>{if(null!==s&&void 0!==s&&s.id)try{d(!0);const e=await fetch("".concat("https://cataloro.com","/api/user/completed-transactions/").concat(s.id),{headers:{"Content-Type":"application/json"}});if(e.ok){const t=(await e.json()).filter(e=>"seller"===e.user_role_in_transaction);l(t)}else console.error("Failed to load completed transactions"),l([])}catch(e){console.error("Error loading completed transactions:",e),l([])}finally{d(!1)}};(0,n.useEffect)(()=>{m()},[null===s||void 0===s?void 0:s.id,e]);const h=[{id:"listings",label:"My Listings",icon:Ts,description:"Manage your active listings"},{id:"tenders",label:"Sell Tenders",icon:_s,description:"Manage received offers and bids"},{id:"accepted",label:"Accepted Tenders",icon:Yi,description:"Manage accepted tenders and orders"},{id:"completed",label:"Completed",icon:Yi,description:"Completed sales transactions"}];return s?(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,ga.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,ga.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ga.jsx)(_s,{className:"w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-green-600"}),"Sell Management"]}),(0,ga.jsx)("p",{className:"mt-1 sm:mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Manage your listings, received offers, and completed sales"})]}),(0,ga.jsx)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:(0,ga.jsxs)("a",{href:"/create-listing",className:"inline-flex items-center px-3 py-2 sm:px-4 sm:py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ga.jsx)(ks,{className:"w-4 h-4 mr-1 sm:mr-2"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:"Create Listing"}),(0,ga.jsx)("span",{className:"sm:hidden",children:"Create"})]})})]})}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow border border-gray-200 dark:border-gray-700 mb-4 sm:mb-6",children:[(0,ga.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,ga.jsx)("nav",{className:"flex px-1 sm:px-6 overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},"aria-label":"Tabs",children:h.map(t=>{const r=t.icon,a=e===t.id;return(0,ga.jsx)("button",{onClick:()=>u(t.id),className:"flex-1 py-3 sm:py-4 px-1 sm:px-3 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap text-center ".concat(a?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:(0,ga.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,ga.jsx)(r,{className:"w-4 h-4"}),(0,ga.jsx)("span",{className:"hidden sm:inline",children:t.label}),(0,ga.jsx)("span",{className:"sm:hidden",children:(e=>{switch(e){case"listings":return"Listings";case"tenders":return"Tenders";case"accepted":return"Accepted";case"completed":return"Done";default:return t.label}})(t.id)})]})},t.id)})})}),(0,ga.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,ga.jsx)("div",{style:{display:"tenders"===e?"block":"none"},children:(0,ga.jsx)(Bp,{showSellTabOnly:!0})}),"accepted"===e&&(0,ga.jsx)(ex,{user:s,onRefresh:m,onCompleteOrder:m,onSwitchToCompleted:()=>u("completed")}),(0,ga.jsx)("div",{style:{display:"listings"===e?"block":"none"},children:(0,ga.jsx)(nl,{})}),"completed"===e&&(0,ga.jsx)(Xp,{transactions:o,loading:c,onRefresh:m})]})]})]})}):(0,ga.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)(Qi,{className:"w-12 h-12 animate-spin mx-auto text-blue-600 mb-4"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your selling dashboard..."})]})})},rx=e=>{let{title:t="Dashboard",description:r="Advanced dashboard features coming soon"}=e;return(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ga.jsxs)("div",{className:"mb-8",children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:r})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ga.jsx)(ni,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Users"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"N/A"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,ga.jsx)(_s,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Revenue"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"N/A"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,ga.jsx)(mi,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activity"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"N/A"})]})]})}),(0,ga.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,ga.jsx)(Bs,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analytics"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"N/A"})]})]})})]}),(0,ga.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow-sm text-center",children:[(0,ga.jsx)(Bs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ga.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Advanced Features"}),(0,ga.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Advanced dashboard features including analytics, performance monitoring, and security insights will be available in future updates."}),(0,ga.jsx)("div",{className:"mt-6",children:(0,ga.jsx)("span",{className:"inline-flex items-center px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-lg text-sm font-medium",children:"Coming Soon"})})]})]})})},ax=()=>{const[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)("performance");(0,n.useEffect)(()=>{u();const e=setInterval(u,12e4);return()=>clearInterval(e)},[]);const u=async()=>{try{const e="https://cataloro.com",[r,n,s]=await Promise.all([fetch("".concat(e,"/api/admin/performance")),fetch("".concat(e,"/api/admin/monitoring/dashboard")),fetch("".concat(e,"/api/admin/system/health"))]),o=await r.json(),l=await n.json(),c=await s.json();t(o),a(l),i(c)}catch(e){console.error("Failed to fetch performance data:",e)}finally{l(!1)}};if(o)return(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,ga.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading Performance Dashboard..."})]})});const m=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"healthy":case"secure":case"optimized":case"enabled":return"text-green-600 bg-green-100";case"warning":case"medium_risk":case"degraded":return"text-yellow-600 bg-yellow-100";case"critical":case"high_risk":case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ga.jsxs)("div",{className:"mb-8",children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Performance & Monitoring Dashboard"}),(0,ga.jsx)("p",{className:"text-gray-600 mt-2",children:"System performance optimization and real-time monitoring"})]}),(0,ga.jsx)("div",{className:"mb-6",children:(0,ga.jsx)("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"performance",name:"Performance",icon:"\u26a1"},{id:"monitoring",name:"Monitoring",icon:"\ud83d\udcca"}].map(e=>(0,ga.jsxs)("button",{onClick:()=>d(e.id),className:"".concat(c===e.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2"),children:[(0,ga.jsx)("span",{children:e.icon}),(0,ga.jsx)("span",{children:e.name})]},e.id))})}),"performance"===c&&(()=>{var t,r,a,n,s,i,o;return(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Database Status"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:null!==e&&void 0!==e&&null!==(t=e.optimizations)&&void 0!==t&&null!==(r=t.database_indexes)&&void 0!==r&&r.includes("\u2705")?"Optimized":"Basic"}),(0,ga.jsx)("p",{className:"text-xs text-green-600",children:null!==e&&void 0!==e&&null!==(a=e.database)&&void 0!==a&&a.index_size?"".concat((e.database.index_size/1024/1024).toFixed(1),"MB indexes"):"80+ indexes created"})]}),(0,ga.jsx)("div",{className:"text-2xl",children:"\ud83d\uddc3\ufe0f"})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Cache Status"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"healthy"===(null===e||void 0===e||null===(n=e.cache)||void 0===n?void 0:n.status)?"Active":"Fallback"}),(0,ga.jsxs)("p",{className:"text-xs text-blue-600",children:[(null===e||void 0===e||null===(s=e.cache)||void 0===s?void 0:s.total_keys)||0," keys cached"]})]}),(0,ga.jsx)("div",{className:"text-2xl",children:"\ud83d\udcbe"})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Search Engine"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"enabled"===(null===e||void 0===e||null===(i=e.search)||void 0===i?void 0:i.status)?"Active":"Fallback"}),(0,ga.jsx)("p",{className:"text-xs text-purple-600",children:"Database search ready"})]}),(0,ga.jsx)("div",{className:"text-2xl",children:"\ud83d\udd0d"})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Analytics"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:null!==e&&void 0!==e&&null!==(o=e.analytics)&&void 0!==o&&o.service_enabled?"Active":"Disabled"}),(0,ga.jsx)("p",{className:"text-xs text-orange-600",children:"BI & Forecasting enabled"})]}),(0,ga.jsx)("div",{className:"text-2xl",children:"\ud83d\udcca"})]})})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Performance Optimizations"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-700",children:"Database Optimizations"}),(null===e||void 0===e?void 0:e.optimizations)&&Object.entries(e.optimizations).map(e=>{let[t,r]=e;return(0,ga.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t.replace(/_/g," ")}),(0,ga.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(r.includes("\u2705")?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:r.includes("\u2705")?"Implemented":"Basic"})]},t)})]}),(0,ga.jsxs)("div",{className:"space-y-4",children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-700",children:"Scalability Features"}),(null===e||void 0===e?void 0:e.scalability)&&Object.entries(e.scalability).map(e=>{let[t,r]=e;return(0,ga.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,ga.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t.replace(/_/g," ")}),(0,ga.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:r})]},t)})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Database Collections Status"}),(0,ga.jsx)("div",{className:"overflow-x-auto",children:(0,ga.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ga.jsx)("thead",{className:"bg-gray-50",children:(0,ga.jsxs)("tr",{children:[(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indexes"}),(0,ga.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,ga.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(null===e||void 0===e?void 0:e.collections)&&Object.entries(e.collections).map(e=>{let[t,r]=e;return(0,ga.jsxs)("tr",{children:[(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.document_count||0}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.index_count||0}),(0,ga.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ga.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Optimized"})})]},t)})})]})})]})]})})(),"monitoring"===c&&(()=>{var e,t,a,n,i,o,l,c,d,u,h,g,p,x,f,b,y,v,j,w,k,N,_,S,A;return(0,ga.jsxs)("div",{className:"space-y-6",children:[(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"System Health"}),(0,ga.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(m(null===s||void 0===s?void 0:s.overall_status)),children:(null===s||void 0===s?void 0:s.overall_status)||"unknown"})]}),(0,ga.jsx)("div",{className:"space-y-2",children:(null===s||void 0===s?void 0:s.components)&&Object.entries(s.components).map(e=>{let[t,r]=e;return(0,ga.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-gray-600 capitalize",children:t}),(0,ga.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(m(r.status)),children:r.status})]},t)})})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),(0,ga.jsxs)("div",{className:"space-y-3",children:[(0,ga.jsx)("div",{children:(0,ga.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-gray-600",children:"Uptime"}),(0,ga.jsx)("span",{className:"font-medium",children:(null===r||void 0===r||null===(e=r.uptime)||void 0===e?void 0:e.uptime_formatted)||"0m"})]})}),(0,ga.jsx)("div",{children:(0,ga.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-gray-600",children:"Avg Response Time"}),(0,ga.jsxs)("span",{className:"font-medium",children:[(null===r||void 0===r||null===(t=r.performance_metrics)||void 0===t||null===(a=t.request_metrics)||void 0===a?void 0:a.avg_response_time_ms)||0,"ms"]})]})}),(0,ga.jsx)("div",{children:(0,ga.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-gray-600",children:"Total Requests"}),(0,ga.jsx)("span",{className:"font-medium",children:(null===r||void 0===r||null===(n=r.performance_metrics)||void 0===n||null===(i=n.request_metrics)||void 0===i?void 0:i.total_requests)||0})]})}),(0,ga.jsx)("div",{children:(0,ga.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-gray-600",children:"Error Rate"}),(0,ga.jsxs)("span",{className:"font-medium",children:[(100*(null===r||void 0===r||null===(o=r.performance_metrics)||void 0===o||null===(l=o.error_metrics)||void 0===l?void 0:l.recent_error_rate)||0).toFixed(2),"%"]})]})})]})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Resources"}),(0,ga.jsx)("div",{className:"space-y-3",children:(null===r||void 0===r||null===(c=r.performance_metrics)||void 0===c?void 0:c.system_metrics)&&(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,ga.jsx)("span",{className:"text-gray-600",children:"CPU Usage"}),(0,ga.jsxs)("span",{className:"font-medium",children:[(null===(d=r.performance_metrics.system_metrics.cpu)||void 0===d||null===(u=d.percent)||void 0===u?void 0:u.toFixed(1))||0,"%"]})]}),(0,ga.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ga.jsx)("div",{className:"h-2 rounded-full ".concat(((null===(h=r.performance_metrics.system_metrics.cpu)||void 0===h?void 0:h.percent)||0)>80?"bg-red-500":((null===(g=r.performance_metrics.system_metrics.cpu)||void 0===g?void 0:g.percent)||0)>60?"bg-yellow-500":"bg-green-500"),style:{width:"".concat((null===(p=r.performance_metrics.system_metrics.cpu)||void 0===p?void 0:p.percent)||0,"%")}})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,ga.jsx)("span",{className:"text-gray-600",children:"Memory Usage"}),(0,ga.jsxs)("span",{className:"font-medium",children:[(null===(x=r.performance_metrics.system_metrics.memory)||void 0===x||null===(f=x.percent)||void 0===f?void 0:f.toFixed(1))||0,"%"]})]}),(0,ga.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ga.jsx)("div",{className:"h-2 rounded-full ".concat(((null===(b=r.performance_metrics.system_metrics.memory)||void 0===b?void 0:b.percent)||0)>85?"bg-red-500":((null===(y=r.performance_metrics.system_metrics.memory)||void 0===y?void 0:y.percent)||0)>70?"bg-yellow-500":"bg-green-500"),style:{width:"".concat((null===(v=r.performance_metrics.system_metrics.memory)||void 0===v?void 0:v.percent)||0,"%")}})})]}),(0,ga.jsxs)("div",{children:[(0,ga.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,ga.jsx)("span",{className:"text-gray-600",children:"Disk Usage"}),(0,ga.jsxs)("span",{className:"font-medium",children:[(null===(j=r.performance_metrics.system_metrics.disk)||void 0===j||null===(w=j.percent)||void 0===w?void 0:w.toFixed(1))||0,"%"]})]}),(0,ga.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ga.jsx)("div",{className:"h-2 rounded-full ".concat(((null===(k=r.performance_metrics.system_metrics.disk)||void 0===k?void 0:k.percent)||0)>90?"bg-red-500":((null===(N=r.performance_metrics.system_metrics.disk)||void 0===N?void 0:N.percent)||0)>75?"bg-yellow-500":"bg-green-500"),style:{width:"".concat((null===(_=r.performance_metrics.system_metrics.disk)||void 0===_?void 0:_.percent)||0,"%")}})})]})]})})]})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Alerts"}),(0,ga.jsx)("div",{className:"space-y-3",children:(null===r||void 0===r||null===(S=r.recent_alerts)||void 0===S?void 0:S.length)>0?r.recent_alerts.map((e,t)=>(0,ga.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ga.jsxs)("div",{children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,ga.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,ga.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ga.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(m(e.severity)),children:e.severity}),(0,ga.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t)):(0,ga.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ga.jsx)("div",{className:"text-4xl mb-2",children:"\u2705"}),(0,ga.jsx)("p",{children:"No recent alerts - System running smoothly"})]})})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monitoring Recommendations"}),(0,ga.jsx)("div",{className:"space-y-3",children:(null===r||void 0===r||null===(A=r.monitoring_recommendations)||void 0===A?void 0:A.map((e,t)=>(0,ga.jsxs)("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:[(0,ga.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,ga.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,ga.jsxs)("span",{className:"text-xs px-2 py-1 rounded mt-1 inline-block ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.priority," priority"]})]},t)))||[]})]})]})})(),(0,ga.jsx)("div",{className:"mt-8 text-center",children:(0,ga.jsx)("button",{onClick:u,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Refresh System Status"})})]})})};var nx=r(3536);const sx=e=>{let{listing:t,getSimilarListings:r}=e;const[a,s]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1);return(0,ga.jsx)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,ga.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ga.jsx)("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-gray-500 text-xs",children:"IMG"})}),(0,ga.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ga.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ga.jsxs)("div",{className:"flex-1",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:t.title}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:t.description}),(0,ga.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[(0,ga.jsx)("span",{className:"capitalize",children:t.category}),(0,ga.jsx)("span",{className:"capitalize",children:t.condition}),t.seller&&(0,ga.jsxs)("span",{children:[t.seller.username," (",t.seller.is_business?"Business":"Private",")"]})]})]}),(0,ga.jsxs)("div",{className:"flex-shrink-0 text-right",children:[(0,ga.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["\u20ac",t.price]}),(0,ga.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:new Date(t.created_at).toLocaleDateString()})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ga.jsx)("button",{onClick:async()=>{if(!i){const e=await r(t.id);s(e)}o(!i)},className:"text-sm text-blue-600 hover:text-blue-700",children:i?"Hide Similar":"Show Similar Items"}),(0,ga.jsxs)("div",{className:"flex space-x-2",children:[(0,ga.jsx)("button",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"View Details"}),(0,ga.jsx)("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors",children:"Contact Seller"})]})]}),i&&a.length>0&&(0,ga.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,ga.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Similar Items"}),(0,ga.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,ga.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ga.jsx)("span",{className:"text-gray-700 truncate flex-1 mr-2",children:e.title}),(0,ga.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20ac",e.price]})]},e.id))})]})]})]})})},ix=()=>{const[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)([]),[o,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[h,g]=(0,n.useState)({category:"",price_min:"",price_max:"",condition:"",seller_type:"",sort_by:"relevance"}),[p,x]=(0,n.useState)(1),[f,b]=(0,n.useState)(0);(0,n.useEffect)(()=>{v()},[]),(0,n.useEffect)(()=>{e.trim()?(j(),y(e)):(a([]),i([]),m(!1))},[e,h,p]);const y=(0,n.useCallback)((0,nx.debounce)(async e=>{if(!(e.length<2))try{const t="https://cataloro.com",r=await fetch("".concat(t,"/api/marketplace/search/suggestions?q=").concat(encodeURIComponent(e),"&limit=5")),a=await r.json();i(a.suggestions||[]),m(!0)}catch(t){console.error("Failed to fetch suggestions:",t)}},300),[]),v=async()=>{try{const e="https://cataloro.com",t=await fetch("".concat(e,"/api/marketplace/search/trending?limit=10")),r=await t.json();l(r.trending||[])}catch(e){console.error("Failed to fetch trending searches:",e)}},j=async()=>{if(e.trim()||Object.values(h).some(e=>e)){d(!0);try{const t="https://cataloro.com",r=new URLSearchParams((0,Re.A)({q:e,page:p.toString(),limit:20..toString()},Object.fromEntries(Object.entries(h).filter(e=>{let[t,r]=e;return r})))),n=await fetch("".concat(t,"/api/marketplace/search?").concat(r)),s=await n.json();a(s.results||[]),b(s.total||0),m(!1)}catch(t){console.error("Search failed:",t),a([])}finally{d(!1)}}},w=(e,t)=>{g(r=>(0,Re.A)((0,Re.A)({},r),{},{[e]:t})),x(1)},k=async e=>{try{const t="https://cataloro.com",r=await fetch("".concat(t,"/api/marketplace/listings/").concat(e,"/similar?limit=3"));return(await r.json()).similar_listings||[]}catch(t){return console.error("Failed to fetch similar listings:",t),[]}},N=Math.ceil(f/20);return(0,ga.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ga.jsxs)("div",{className:"mb-8",children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Advanced Search"}),(0,ga.jsx)("p",{className:"text-gray-600 mt-2",children:"Enhanced search with intelligent suggestions and advanced filtering"})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,ga.jsxs)("div",{className:"relative mb-6",children:[(0,ga.jsxs)("div",{className:"relative",children:[(0,ga.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search for catalysts, vehicles, parts...",className:"w-full px-4 py-3 pl-10 pr-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,ga.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ga.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ga.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),u&&s.length>0&&(0,ga.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:s.map((e,r)=>(0,ga.jsx)("button",{onClick:()=>(e=>{t(e),m(!1),x(1)})(e),className:"w-full px-4 py-2 text-left hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("svg",{className:"h-4 w-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ga.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e]})},r))})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:[(0,ga.jsxs)("select",{value:h.category,onChange:e=>w("category",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ga.jsx)("option",{value:"",children:"All Categories"}),(0,ga.jsx)("option",{value:"automotive",children:"Automotive"}),(0,ga.jsx)("option",{value:"industrial",children:"Industrial"}),(0,ga.jsx)("option",{value:"marine",children:"Marine"}),(0,ga.jsx)("option",{value:"motorcycle",children:"Motorcycle"})]}),(0,ga.jsx)("input",{type:"number",value:h.price_min,onChange:e=>w("price_min",e.target.value),placeholder:"Min Price (\u20ac)",className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,ga.jsx)("input",{type:"number",value:h.price_max,onChange:e=>w("price_max",e.target.value),placeholder:"Max Price (\u20ac)",className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,ga.jsxs)("select",{value:h.condition,onChange:e=>w("condition",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ga.jsx)("option",{value:"",children:"Any Condition"}),(0,ga.jsx)("option",{value:"new",children:"New"}),(0,ga.jsx)("option",{value:"used",children:"Used"}),(0,ga.jsx)("option",{value:"refurbished",children:"Refurbished"})]}),(0,ga.jsxs)("select",{value:h.seller_type,onChange:e=>w("seller_type",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ga.jsx)("option",{value:"",children:"Any Seller"}),(0,ga.jsx)("option",{value:"Business",children:"Business"}),(0,ga.jsx)("option",{value:"Private",children:"Private"})]}),(0,ga.jsxs)("select",{value:h.sort_by,onChange:e=>w("sort_by",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ga.jsx)("option",{value:"relevance",children:"Relevance"}),(0,ga.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,ga.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,ga.jsx)("option",{value:"newest",children:"Newest First"}),(0,ga.jsx)("option",{value:"oldest",children:"Oldest First"})]})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("button",{onClick:()=>{g({category:"",price_min:"",price_max:"",condition:"",seller_type:"",sort_by:"relevance"}),x(1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear all filters"}),(0,ga.jsxs)("div",{className:"text-sm text-gray-600",children:[f," results found"]})]})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,ga.jsxs)("div",{className:"lg:col-span-1",children:[(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trending Searches"}),(0,ga.jsx)("div",{className:"space-y-2",children:o.map((e,r)=>(0,ga.jsx)("button",{onClick:()=>(e=>{t(e.query),x(1)})(e),className:"w-full text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{children:e.query}),(0,ga.jsx)("span",{className:"text-xs text-gray-500",children:e.count})]})},r))})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Search Tips"}),(0,ga.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[(0,ga.jsxs)("div",{className:"flex items-start",children:[(0,ga.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3"}),(0,ga.jsx)("div",{children:'Use specific terms like "BMW catalyst" or "Ford exhaust"'})]}),(0,ga.jsxs)("div",{className:"flex items-start",children:[(0,ga.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-green-500 rounded-full mt-2 mr-3"}),(0,ga.jsx)("div",{children:"Filter by price range to find items in your budget"})]}),(0,ga.jsxs)("div",{className:"flex items-start",children:[(0,ga.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-purple-500 rounded-full mt-2 mr-3"}),(0,ga.jsx)("div",{children:"Sort by newest to see recent listings first"})]}),(0,ga.jsxs)("div",{className:"flex items-start",children:[(0,ga.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-orange-500 rounded-full mt-2 mr-3"}),(0,ga.jsx)("div",{children:"Use category filters to narrow down results"})]})]})]})]}),(0,ga.jsx)("div",{className:"lg:col-span-3",children:(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[c?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,ga.jsx)("p",{className:"text-gray-600 mt-4",children:"Searching..."})]}):0===r.length?(0,ga.jsxs)("div",{className:"text-center py-12",children:[(0,ga.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd0d"}),(0,ga.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),(0,ga.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search terms or filters"})]}):(0,ga.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,ga.jsx)(sx,{listing:e,getSimilarListings:k},e.id))}),N>1&&(0,ga.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:1===p,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ga.jsxs)("span",{className:"px-4 py-2 text-sm bg-gray-50 border-t border-b border-gray-300",children:["Page ",p," of ",N]}),(0,ga.jsx)("button",{onClick:()=>x(e=>Math.min(e+1,N)),disabled:p===N,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,ga.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",20*(p-1)+1,"-",Math.min(20*p,f)," of ",f," results"]})]})]})})]})]})})},ox=()=>{const[e,t]=(0,n.useState)("overview"),[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)(!0);(0,n.useEffect)(()=>{o()},[]);const o=async()=>{try{const e="https://cataloro.com",[t,r,n]=await Promise.all([fetch("".concat(e,"/api/admin/performance")),fetch("".concat(e,"/api/admin/analytics/kpis")),fetch("".concat(e,"/api/admin/security/dashboard"))]),s=await t.json(),i=await r.json(),o=await n.json();a({performance:s,analytics:i,security:o.security_metrics})}catch(e){console.error("Failed to fetch quick stats:",e)}finally{i(!1)}};return(0,ga.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,ga.jsx)("div",{className:"bg-white shadow",children:(0,ga.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ga.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,ga.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,ga.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Admin Dashboard Hub"}),(0,ga.jsxs)("nav",{className:"flex space-x-6",children:[(0,ga.jsx)("button",{onClick:()=>t("overview"),className:"text-sm font-medium ".concat("overview"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\ud83c\udfe0 Overview"}),(0,ga.jsx)("button",{onClick:()=>t("analytics"),className:"text-sm font-medium ".concat("analytics"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\ud83d\udcca Analytics"}),(0,ga.jsx)("button",{onClick:()=>t("performance"),className:"text-sm font-medium ".concat("performance"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\u26a1 Performance"}),(0,ga.jsx)("button",{onClick:()=>t("security"),className:"text-sm font-medium ".concat("security"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\ud83d\udee1\ufe0f Security"}),(0,ga.jsx)("button",{onClick:()=>t("search"),className:"text-sm font-medium ".concat("search"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," pb-4"),children:"\ud83d\udd0d Search"})]})]}),(0,ga.jsx)(Le,{to:"/admin",className:"text-sm text-gray-600 hover:text-gray-900",children:"\u2190 Back to Admin Panel"})]})})}),(0,ga.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===e&&(()=>{var e,a,n;return(0,ga.jsxs)("div",{className:"space-y-8",children:[(0,ga.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-white",children:[(0,ga.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Welcome to Cataloro Admin Hub"}),(0,ga.jsx)("p",{className:"text-blue-100 text-lg",children:"Complete business intelligence and system management dashboard"}),(0,ga.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[(0,ga.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,ga.jsx)("div",{className:"text-2xl font-bold",children:"Phase 1"}),(0,ga.jsx)("div",{className:"text-sm",children:"Database Optimization"})]}),(0,ga.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,ga.jsx)("div",{className:"text-2xl font-bold",children:"Phase 2"}),(0,ga.jsx)("div",{className:"text-sm",children:"Advanced Search"})]}),(0,ga.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,ga.jsx)("div",{className:"text-2xl font-bold",children:"Phase 3"}),(0,ga.jsx)("div",{className:"text-sm",children:"Security & Monitoring"})]}),(0,ga.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,ga.jsx)("div",{className:"text-2xl font-bold",children:"Phase 4"}),(0,ga.jsx)("div",{className:"text-sm",children:"Business Intelligence"})]})]})]}),!s&&r&&(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"flex-shrink-0",children:(0,ga.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white text-sm font-bold",children:"\u26a1"})})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Database Status"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"Optimized"}),(0,ga.jsx)("p",{className:"text-xs text-green-600",children:"80+ indexes active"})]})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"flex-shrink-0",children:(0,ga.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udcca"})})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=r.analytics)||void 0===e||null===(a=e.business_metrics)||void 0===a?void 0:a.total_users)||0}),(0,ga.jsx)("p",{className:"text-xs text-blue-600",children:"Analytics active"})]})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"flex-shrink-0",children:(0,ga.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udee1\ufe0f"})})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Security Status"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900 capitalize",children:(null===(n=r.security)||void 0===n?void 0:n.security_status)||"Unknown"}),(0,ga.jsx)("p",{className:"text-xs text-red-600",children:"Protection active"})]})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("div",{className:"flex-shrink-0",children:(0,ga.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-white text-sm font-bold",children:"\ud83d\udd0d"})})}),(0,ga.jsxs)("div",{className:"ml-4",children:[(0,ga.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Search Engine"}),(0,ga.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"Enhanced"}),(0,ga.jsx)("p",{className:"text-xs text-purple-600",children:"AI-powered search"})]})]})})]}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("analytics"),children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"})}),(0,ga.jsx)("span",{className:"text-sm text-blue-600 font-medium",children:"Phase 4"})]}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Business Intelligence"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Comprehensive analytics, KPIs, forecasting, and business reports with predictive insights."}),(0,ga.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"User Analytics & Engagement"]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Revenue Forecasting"]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Marketplace Performance"]})]})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("performance"),children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\u26a1"})}),(0,ga.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Phase 1 & 3"})]}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Performance & Monitoring"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Database optimization status, system monitoring, and real-time performance metrics."}),(0,ga.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Database Optimization (80+ indexes)"]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"System Health Monitoring"]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Performance Metrics"]})]})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("security"),children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\ud83d\udee1\ufe0f"})}),(0,ga.jsx)("span",{className:"text-sm text-red-600 font-medium",children:"Phase 3"})]}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Security & Compliance"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Security monitoring, audit logs, threat detection, and compliance management."}),(0,ga.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Rate Limiting & Protection"]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),"Audit Logging"]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Security Alerts"]})]})]})}),(0,ga.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("search"),children:(0,ga.jsxs)("div",{className:"p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\ud83d\udd0d"})}),(0,ga.jsx)("span",{className:"text-sm text-purple-600 font-medium",children:"Phase 2"})]}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Advanced Search & Discovery"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"AI-powered search with suggestions, trending queries, and intelligent recommendations."}),(0,ga.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Smart Search Suggestions"]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Advanced Filtering"]}),(0,ga.jsxs)("div",{className:"flex items-center",children:[(0,ga.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Similar Items Discovery"]})]})]})}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\ud83c\udfd7\ufe0f"})}),(0,ga.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"All Phases"})]}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"System Architecture"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Complete scalability implementation ready for 10,000+ users."}),(0,ga.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{children:"Database Optimization"}),(0,ga.jsx)("span",{className:"text-green-600",children:"\u2705 Complete"})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{children:"Advanced Search"}),(0,ga.jsx)("span",{className:"text-green-600",children:"\u2705 Complete"})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{children:"Security & Monitoring"}),(0,ga.jsx)("span",{className:"text-green-600",children:"\u2705 Complete"})]}),(0,ga.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ga.jsx)("span",{children:"Business Intelligence"}),(0,ga.jsx)("span",{className:"text-green-600",children:"\u2705 Complete"})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ga.jsx)("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\u2699\ufe0f"})}),(0,ga.jsx)("span",{className:"text-sm text-indigo-600 font-medium",children:"Actions"})]}),(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quick Actions"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Common administrative tasks and system management."}),(0,ga.jsxs)("div",{className:"space-y-2",children:[(0,ga.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:"\ud83d\udcca Generate Business Report"}),(0,ga.jsx)("button",{onClick:o,className:"w-full text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:"\ud83d\udd04 Refresh System Status"}),(0,ga.jsx)(Le,{to:"/admin",className:"w-full block text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:"\ud83d\udc65 Manage Users & Listings"})]})]})]}),(0,ga.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ga.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Scalability Implementation Highlights"}),(0,ga.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\ud83d\uddc3\ufe0f"})}),(0,ga.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Database Optimization"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600",children:"80+ indexes, query optimization, 50-90% faster performance"})]}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\ud83d\udd0d"})}),(0,ga.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Advanced Search"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600",children:"AI-powered search, suggestions, recommendations, trending"})]}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\ud83d\udee1\ufe0f"})}),(0,ga.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Security & Monitoring"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600",children:"Rate limiting, audit logs, real-time monitoring, alerts"})]}),(0,ga.jsxs)("div",{className:"text-center",children:[(0,ga.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ga.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"})}),(0,ga.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Business Intelligence"}),(0,ga.jsx)("p",{className:"text-sm text-gray-600",children:"Analytics, forecasting, KPIs, automated reporting"})]})]})]})]})})(),"analytics"===e&&(0,ga.jsx)(rx,{title:"Analytics Dashboard",description:"Advanced analytics features coming soon"}),"performance"===e&&(0,ga.jsx)(ax,{}),"security"===e&&(0,ga.jsx)(rx,{title:"Security Dashboard",description:"Advanced security monitoring features coming soon"}),"search"===e&&(0,ga.jsx)(ix,{})]})]})};const lx=new class{constructor(){this.intervalId=null,this.isRunning=!1,this.checkInterval=6e4,this.processedExpirations=new Set}start(){this.isRunning?console.log("\ud83d\udd04 Ads expiration service already running"):(console.log("\ud83d\ude80 Starting global ads expiration service"),this.isRunning=!0,this.checkExpirations(),this.intervalId=setInterval(()=>{this.checkExpirations()},this.checkInterval))}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.isRunning=!1,console.log("\ud83d\uded1 Stopped global ads expiration service")}async checkExpirations(){try{const e=JSON.parse(localStorage.getItem("cataloro_site_config")||"{}"),t=e.adsManager||{};console.log("\ud83d\udd0d Checking ad expirations...");for(const[r,a]of Object.entries(t))if(a.active&&a.expirationDate){const t=(0,Eo.isAdExpired)(a),n="".concat(r,"_").concat(a.expirationDate);t&&!this.processedExpirations.has(n)&&(console.log("\u23f0 Ad ".concat(r," has expired - executing events")),this.processedExpirations.add(n),await this.executeExpirationEvents(r,a,e))}}catch(e){console.error("\u274c Error checking ad expirations:",e)}}async executeExpirationEvents(e,t,r){const a=t.expirationEvents||[];console.log("\ud83d\udd14 Executing expiration events for ".concat(e,":"),a);for(const s of a)try{await this.executeEvent(s,e,t,r)}catch(n){console.error("\u274c Error executing expiration event ".concat(s," for ").concat(e,":"),n)}}async executeEvent(e,t,r,a){switch(e){case"notify":await this.executeNotifyEvent(t,r);break;case"deactivate":this.executeDeactivateEvent(t,r,a);break;case"reset":this.executeResetEvent(t,r,a);break;default:console.warn("\u2753 Unknown expiration event: ".concat(e))}}async executeNotifyEvent(e,t){console.log("\ud83d\udce7 Sending notifications for expired ad: ".concat(e));const r=t.notificationMethods||["notificationCenter"];if(r.includes("notificationCenter")){const r=t.notificationUsers||[];if(console.log("\ud83d\udd14 Sending notification center alerts to ".concat(r.length," users")),r.length>0){const n=r.map(async r=>{try{const a=t.description||e,n=this.getPageLocationName(e);return(await fetch("".concat("https://cataloro.com","/api/user/").concat(r.id,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"\u23f0 Advertisement Expired",message:'"'.concat(a,'" on ').concat(n," has expired and been processed according to your settings"),type:"warning"})})).ok?(console.log("\u2705 Expiration notification sent to user ".concat(r.email," (").concat(r.id,")")),{success:!0,user:r.email}):(console.error("\u274c Failed to send expiration notification to user ".concat(r.email)),{success:!1,user:r.email,error:"HTTP Error"})}catch(a){return console.error("\u274c Error sending expiration notification to user ".concat(r.email,":"),a),{success:!1,user:r.email,error:a.message}}});try{const e=(await Promise.all(n)).filter(e=>e.success).length;console.log("\ud83d\udcca Expiration notifications: ".concat(e,"/").concat(r.length," sent successfully"))}catch(a){console.error("\u274c Error in batch expiration notification sending:",a)}}}r.includes("email")&&console.log("\ud83d\udce7 Email notifications would be sent here"),r.includes("browserPush")&&console.log("\ud83d\udd14 Browser push notifications would be sent here")}executeDeactivateEvent(e,t,r){console.log("\ud83d\udd04 Deactivating expired ad: ".concat(e)),r.adsManager[e].active=!1,localStorage.setItem("cataloro_site_config",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:r.adsManager})),console.log("\u2705 Ad ".concat(e," has been deactivated"))}executeResetEvent(e,t,r){console.log("\ud83d\udd04 Auto-resetting duration for ad: ".concat(e));const a=(new Date).toISOString(),n=t.runtime,s=this.calculateExpirationDate(a,n);r.adsManager[e].startDate=a,r.adsManager[e].expirationDate=s,r.adsManager[e].active=!0,localStorage.setItem("cataloro_site_config",JSON.stringify(r));const i="".concat(e,"_").concat(t.expirationDate);this.processedExpirations.delete(i),this.sendRestartNotifications(e,r.adsManager[e],n,s),window.dispatchEvent(new CustomEvent("adsConfigUpdated",{detail:r.adsManager})),console.log("\u2705 Ad ".concat(e," has been automatically reset until ").concat(new Date(s).toLocaleString()))}async sendRestartNotifications(e,t,r,a){const n=t.notificationUsers||[];if((t.notificationMethods||[]).includes("notificationCenter")&&n.length>0){console.log("\ud83d\udd04 Sending ad restart notifications to ".concat(n.length," users (auto-reset)"));const i=n.map(async n=>{try{const s=t.description||e,i=this.getPageLocationName(e);return(await fetch("".concat("https://cataloro.com","/api/user/").concat(n.id,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"\ud83d\udd04 Advertisement Restarted",message:'"'.concat(s,'" on ').concat(i," has automatically restarted with a new ").concat(r," duration until ").concat(new Date(a).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})),type:"info"})})).ok?(console.log("\u2705 Ad restart notification sent to user ".concat(n.email," (").concat(n.id,")")),{success:!0,user:n.email}):(console.error("\u274c Failed to send ad restart notification to user ".concat(n.email)),{success:!1,user:n.email,error:"HTTP Error"})}catch(s){return console.error("\u274c Error sending ad restart notification to user ".concat(n.email,":"),s),{success:!1,user:n.email,error:s.message}}});try{const e=(await Promise.all(i)).filter(e=>e.success).length;console.log("\ud83d\udcca Ad restart notifications: ".concat(e,"/").concat(n.length," sent successfully"))}catch(s){console.error("\u274c Error in batch restart notification sending:",s)}}}calculateExpirationDate(e,t){const r=new Date(e),a=new Date(r);if(t.startsWith("custom_")){const e=t.match(/custom_(\d+)d_(\d+)h_(\d+)m/);if(e){const t=parseInt(e[1])||0,r=parseInt(e[2])||0,n=parseInt(e[3])||0;return a.setDate(a.getDate()+t),a.setHours(a.getHours()+r),a.setMinutes(a.getMinutes()+n),a.toISOString()}}if(t.includes("days")||t.includes("hours")||t.includes("minutes")){const e=t.match(/(\d+)\s*days?/),r=t.match(/(\d+)\s*hours?/),n=t.match(/(\d+)\s*minutes?/),s=e?parseInt(e[1]):0,i=r?parseInt(r[1]):0,o=n?parseInt(n[1]):0;return a.setDate(a.getDate()+s),a.setHours(a.getHours()+i),a.setMinutes(a.getMinutes()+o),a.toISOString()}const[n,s]=t.split(" "),i=parseInt(n);switch(null===s||void 0===s?void 0:s.toLowerCase()){case"minute":case"minutes":return new Date(r.getTime()+60*i*1e3).toISOString();case"hour":case"hours":return new Date(r.getTime()+60*i*60*1e3).toISOString();case"day":case"days":return new Date(r.getTime()+24*i*60*60*1e3).toISOString();case"week":case"weeks":return new Date(r.getTime()+7*i*24*60*60*1e3).toISOString();case"month":case"months":const e=new Date(r);return e.setMonth(e.getMonth()+i),e.toISOString();default:console.warn("Unknown runtime format: ".concat(t,", defaulting to 1 month"));const a=new Date(r);return a.setMonth(a.getMonth()+1),a.toISOString()}}cleanupProcessedExpirations(){console.log("\ud83e\uddf9 Cleaning up old expiration records")}getPageLocationName(e){return{browsePageAd:"Browse Page",favoriteAd:"Favorites Page",messengerAd:"Messages Page",footerAd:"Footer"}[e]||e}},cx=lx;const dx=function(){const[e,t]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=()=>{const e=window.innerWidth,r=navigator.userAgent,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r),n=e<1024,s="true"===new URLSearchParams(window.location.search).get("mobile"),i=n||a||e<=768||s;console.log("\ud83d\udd0d Mobile detection: width=".concat(e,", userAgent=").concat(a,", forceMobile=").concat(s,", shouldUseMobile=").concat(i)),t(i)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",()=>{setTimeout(e,100)}),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),(0,n.useEffect)(()=>{(0,Eo.loadAndApplyAdsConfiguration)(),cx.start();const e=document.getElementById("app-loader");return e&&setTimeout(()=>{e.style.display="none"},500),()=>{cx.stop()}},[]);const r=e?jo:xo,a=e?Bo:Fo;return(0,ga.jsx)("div",{className:"App",children:(0,ga.jsx)(Na,{children:(0,ga.jsx)(Ra,{children:(0,ga.jsx)(Ga,{children:(0,ga.jsx)(fs,{children:(0,ga.jsx)(Oe,{children:(0,ga.jsxs)(ke,{children:[(0,ga.jsx)(je,{path:da.LOGIN,element:(0,ga.jsx)(Ap,{})}),(0,ga.jsx)(je,{path:da.REGISTER,element:(0,ga.jsx)(Cp,{})}),(0,ga.jsx)(je,{path:"/info",element:(0,ga.jsx)(Mp,{})}),(0,ga.jsxs)(je,{path:"/",element:(0,ga.jsx)(r,{}),children:[(0,ga.jsx)(je,{index:!0,element:(0,ga.jsx)(ye,{to:da.BROWSE,replace:!0})}),(0,ga.jsx)(je,{path:da.BROWSE,element:(0,ga.jsx)(a,{})}),(0,ga.jsx)(je,{path:"product/:productId",element:e?(0,ga.jsx)(Wo,{}):(0,ga.jsx)(Vo,{})}),(0,ga.jsx)(je,{path:"listing/:id",element:e?(0,ga.jsx)(Wo,{}):(0,ga.jsx)(Vo,{})}),(0,ga.jsx)(je,{path:"search",element:(0,ga.jsx)(a,{})}),(0,ga.jsx)(je,{path:"trending",element:(0,ga.jsx)(a,{})}),(0,ga.jsx)(je,{path:"create-listing",element:(0,ga.jsx)(il,{})}),(0,ga.jsx)(je,{path:"edit-listing/:id",element:(0,ga.jsx)(ll,{})}),(0,ga.jsx)(je,{path:"pending-sales",element:(0,ga.jsx)(dl,{})}),(0,ga.jsx)(je,{path:"view-all-requests",element:(0,ga.jsx)(hl,{})}),(0,ga.jsx)(je,{path:da.MY_LISTINGS,element:(0,ga.jsx)(nl,{})}),(0,ga.jsx)(je,{path:"mobile-my-listings",element:(0,ga.jsx)(Yo,{})}),(0,ga.jsx)(je,{path:"mobile-tenders",element:(0,ga.jsx)(tl,{})}),(0,ga.jsx)(je,{path:"messages",element:(0,ga.jsx)(_p,{})}),(0,ga.jsx)(je,{path:da.TENDERS.substring(1),element:(0,ga.jsx)(Bp,{})}),(0,ga.jsx)(je,{path:da.BUY.substring(1),element:(0,ga.jsx)(Zp,{})}),(0,ga.jsx)(je,{path:da.SELL.substring(1),element:(0,ga.jsx)(tx,{})}),(0,ga.jsx)(je,{path:"buy-management",element:(0,ga.jsx)(Qp,{})}),(0,ga.jsx)(je,{path:"analytics",element:(0,ga.jsx)(xp,{})}),(0,ga.jsx)(je,{path:"performance",element:(0,ga.jsx)(xp,{})}),(0,ga.jsx)(je,{path:da.ADMIN_PANEL,element:(0,ga.jsx)(xp,{})}),(0,ga.jsx)(je,{path:"admin/analytics",element:(0,ga.jsx)(xp,{})}),(0,ga.jsx)(je,{path:"admin/users",element:(0,ga.jsx)(xp,{})}),(0,ga.jsx)(je,{path:"admin/dashboard",element:(0,ga.jsx)(ox,{})}),(0,ga.jsx)(je,{path:"admin/performance",element:(0,ga.jsx)(ax,{})}),(0,ga.jsx)(je,{path:da.FAVORITES,element:(0,ga.jsx)(bp,{})}),(0,ga.jsx)(je,{path:da.NOTIFICATIONS,element:(0,ga.jsx)(yp,{})}),(0,ga.jsx)(je,{path:da.PROFILE,element:(0,ga.jsx)(vp,{})}),(0,ga.jsx)(je,{path:"profile/:userId",element:(0,ga.jsx)(jp,{})}),(0,ga.jsx)(je,{path:"settings",element:(0,ga.jsx)(vp,{})})]}),(0,ga.jsx)(je,{path:"*",element:(0,ga.jsx)(ye,{to:da.BROWSE,replace:!0})})]})})})})})})})},ux=document.getElementById("root");(0,i.H)(ux).render((0,ga.jsx)(n.StrictMode,{children:(0,ga.jsx)(dx,{})}));var mx;mx&&mx instanceof Function&&r.e(453).then(r.bind(r,6453)).then(e=>{let{getCLS:t,getFID:r,getFCP:a,getLCP:n,getTTFB:s}=e;t(mx),r(mx),a(mx),n(mx),s(mx)})})()})();
//# sourceMappingURL=main.5d9079b8.js.map