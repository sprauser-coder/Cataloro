/*! For license information please see main.fe881868.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},438:(e,t,r)=>{var a=r(2622);e.exports=function(e){return a(this,e).get(e)}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},1143:(e,t,r)=>{var a=r(3028)(Object.keys,Object);e.exports=a},1153:(e,t,r)=>{"use strict";var a=r(5043),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,n={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,a)&&!o.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:i.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},1268:(e,t,r)=>{var a=r(5428),s=r(7574),n=r(6832),l=n&&n.isTypedArray,i=l?s(l):a;e.exports=i},1340:(e,t,r)=>{var a=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(a(e[r][0],t))return r;return-1}},1629:(e,t,r)=>{var a=r(6913),s=r(6686);e.exports=function(e){if(!s(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var a=r(1340);e.exports=function(e,t){var r=this.__data__,s=a(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}},1946:(e,t,r)=>{var a=r(1340);e.exports=function(e){return a(this.__data__,e)>-1}},2070:(e,t,r)=>{var a=r(7937)(r(6552),"Set");e.exports=a},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},2154:(e,t,r)=>{var a=r(5575),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return s.call(t,e)?t[e]:void 0}},2587:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}},2622:(e,t,r)=>{var a=r(705);e.exports=function(e,t){var r=e.__data__;return a(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var a=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var a=r(5043),s=r(8853);function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(e,t,r,a,s,n,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=l}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,a){var s=f.hasOwnProperty(t)?f[t]:null;(null!==s?0!==s.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,a){if(null===t||"undefined"===typeof t||function(e,t,r,a){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,a))return!0;if(a)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,s,a)&&(r=null),a||null===s?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=null===r?3!==s.type&&"":r:(t=s.attributeName,a=s.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(s=s.type)||4===s&&!0===r?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,F=Object.assign;function I(e){if(void 0===D)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var q=!1;function U(e,t){if(!e||q)return"";q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),n=a.stack.split("\n"),l=s.length-1,i=n.length-1;1<=l&&0<=i&&s[l]!==n[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==n[i]){if(1!==l||1!==i)do{if(l--,0>--i||s[l]!==n[i]){var o="\n"+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{q=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function B(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case _:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return z(e(t))}catch(r){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var s=r.get,n=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){a=""+e,n.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=W(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var r=V(t.value),a=t.type;if(null!=r)"number"===a?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&$(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(a&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(te(r)){if(1<r.length)throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function ne(e,t){var r=V(t.value),a=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=a&&(e.defaultValue=""+a)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function fe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var a=0===r.indexOf("--"),s=xe(r,t[r],a);"float"===r&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(n(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ne=null;function _e(e){if(e=ys(e)){if("function"!==typeof we)throw Error(n(280));var t=e.stateNode;t&&(t=vs(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Oe(){}var Ae=!1;function Pe(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Ee(e,t,r)}finally{Ae=!1,(null!==ke||null!==Ne)&&(Oe(),Ce())}}function Te(e,t){var r=e.stateNode;if(null===r)return null;var a=vs(r);if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(n(231,t,typeof r));return r}var Le=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Le=!1}function Me(e,t,r,a,s,n,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var De=!1,Fe=null,Ie=!1,qe=null,Ue={onError:function(e){De=!0,Fe=e}};function Be(e,t,r,a,s,n,l,i,o){De=!1,Fe=null,Me.apply(Ue,arguments)}function ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(ze(e)!==e)throw Error(n(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(a=s.return)){r=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return Ve(s),e;if(l===a)return Ve(s),t;l=l.sibling}throw Error(n(188))}if(r.return!==a.return)r=s,a=l;else{for(var i=!1,o=s.child;o;){if(o===r){i=!0,r=s,a=l;break}if(o===a){i=!0,a=s,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,a=s;break}if(o===a){i=!0,a=l,r=s;break}o=o.sibling}if(!i)throw Error(n(189))}}if(r.alternate!==a)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,$e=s.unstable_cancelCallback,Je=s.unstable_shouldYield,Ye=s.unstable_requestPaint,Qe=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,Xe=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,rt=s.unstable_LowPriority,at=s.unstable_IdlePriority,st=null,nt=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,n=e.pingedLanes,l=268435455&r;if(0!==l){var i=l&~s;0!==i?a=ut(i):0!==(n&=l)&&(a=ut(n))}else 0!==(l=r&~s)?a=ut(l):0!==n&&(a=ut(n));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||16===s&&0!==(4194240&n)))return t;if(0!==(4&a)&&(a|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)s=1<<(r=31-lt(t)),a|=e[r],t&=~s;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-lt(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,kt,Nt,_t,St=!1,Ct=[],Et=null,Ot=null,At=null,Pt=new Map,Tt=new Map,Lt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Dt(e,t,r,a,s,n){return null===e||e.nativeEvent!==n?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:n,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ft(e){var t=gs(e.target);if(null!==t){var r=ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void _t(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ys(r))&&wt(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);ve=a,r.target.dispatchEvent(a),ve=null,t.shift()}return!0}function qt(e,t,r){It(e)&&r.delete(t)}function Ut(){St=!1,null!==Et&&It(Et)&&(Et=null),null!==Ot&&It(Ot)&&(Ot=null),null!==At&&It(At)&&(At=null),Pt.forEach(qt),Tt.forEach(qt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var r=1;r<Ct.length;r++){var a=Ct[r];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Ot&&Bt(Ot,e),null!==At&&Bt(At,e),Pt.forEach(t),Tt.forEach(t),r=0;r<Lt.length;r++)(a=Lt[r]).blockedOn===e&&(a.blockedOn=null);for(;0<Lt.length&&null===(r=Lt[0]).blockedOn;)Ft(r),null===r.blockedOn&&Lt.shift()}var Ht=v.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,r,a){var s=bt,n=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,r,a)}finally{bt=s,Ht.transition=n}}function Kt(e,t,r,a){var s=bt,n=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,r,a)}finally{bt=s,Ht.transition=n}}function Gt(e,t,r,a){if(Vt){var s=Jt(e,t,r,a);if(null===s)Ha(e,t,a,$t,r),Mt(e,a);else if(function(e,t,r,a,s){switch(t){case"focusin":return Et=Dt(Et,e,t,r,a,s),!0;case"dragenter":return Ot=Dt(Ot,e,t,r,a,s),!0;case"mouseover":return At=Dt(At,e,t,r,a,s),!0;case"pointerover":var n=s.pointerId;return Pt.set(n,Dt(Pt.get(n)||null,e,t,r,a,s)),!0;case"gotpointercapture":return n=s.pointerId,Tt.set(n,Dt(Tt.get(n)||null,e,t,r,a,s)),!0}return!1}(s,e,t,r,a))a.stopPropagation();else if(Mt(e,a),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var n=ys(s);if(null!==n&&jt(n),null===(n=Jt(e,t,r,a))&&Ha(e,t,a,$t,r),n===s)break;s=n}null!==s&&a.stopPropagation()}else Ha(e,t,a,null,r)}}var $t=null;function Jt(e,t,r,a){if($t=null,null!==(e=gs(e=je(a))))if(null===(t=ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case rt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Xt=null;function er(){if(Xt)return Xt;var e,t,r=Zt,a=r.length,s="value"in Qt?Qt.value:Qt.textContent,n=s.length;for(e=0;e<a&&r[e]===s[e];e++);var l=a-e;for(t=1;t<=l&&r[a-t]===s[n-t];t++);return Xt=s.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ar(){return!1}function sr(e){function t(t,r,a,s,n){for(var l in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=n,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?rr:ar,this.isPropagationStopped=ar,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var nr,lr,ir,or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=sr(or),dr=F({},or,{view:0,detail:0}),ur=sr(dr),hr=F({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(nr=e.screenX-ir.screenX,lr=e.screenY-ir.screenY):lr=nr=0,ir=e),nr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),mr=sr(hr),pr=sr(F({},hr,{dataTransfer:0})),xr=sr(F({},dr,{relatedTarget:0})),fr=sr(F({},or,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=F({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=sr(gr),br=sr(F({},or,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Nr(){return kr}var _r=F({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=sr(_r),Cr=sr(F({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=sr(F({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Or=sr(F({},or,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=F({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pr=sr(Ar),Tr=[9,13,27,32],Lr=d&&"CompositionEvent"in window,Rr=null;d&&"documentMode"in document&&(Rr=document.documentMode);var Mr=d&&"TextEvent"in window&&!Rr,Dr=d&&(!Lr||Rr&&8<Rr&&11>=Rr),Fr=String.fromCharCode(32),Ir=!1;function qr(e,t){switch(e){case"keyup":return-1!==Tr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function Vr(e,t,r,a){Se(a),0<(t=Wa(t,"onChange")).length&&(r=new cr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Wr=null,Kr=null;function Gr(e){Fa(e,0)}function $r(e){if(G(bs(e)))return e}function Jr(e,t){if("change"===e)return t}var Yr=!1;if(d){var Qr;if(d){var Zr="oninput"in document;if(!Zr){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),Zr="function"===typeof Xr.oninput}Qr=Zr}else Qr=!1;Yr=Qr&&(!document.documentMode||9<document.documentMode)}function ea(){Wr&&(Wr.detachEvent("onpropertychange",ta),Kr=Wr=null)}function ta(e){if("value"===e.propertyName&&$r(Kr)){var t=[];Vr(t,Kr,e,je(e)),Pe(Gr,t)}}function ra(e,t,r){"focusin"===e?(ea(),Kr=r,(Wr=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(Kr)}function sa(e,t){if("click"===e)return $r(t)}function na(e,t){if("input"===e||"change"===e)return $r(t)}var la="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ia(e,t){if(la(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!u.call(t,s)||!la(e[s],t[s]))return!1}return!0}function oa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var r,a=oa(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oa(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=$((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ma(e){var t=ua(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&da(r.ownerDocument.documentElement,r)){if(null!==a&&ha(r))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=r.textContent.length,n=Math.min(a.start,s);a=void 0===a.end?n:Math.min(a.end,s),!e.extend&&n>a&&(s=a,a=n,n=s),s=ca(r,n);var l=ca(r,a);s&&l&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),n>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pa=d&&"documentMode"in document&&11>=document.documentMode,xa=null,fa=null,ga=null,ya=!1;function ba(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ya||null==xa||xa!==$(a)||("selectionStart"in(a=xa)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ga&&ia(ga,a)||(ga=a,0<(a=Wa(fa,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=xa)))}function va(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ja={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},wa={},ka={};function Na(e){if(wa[e])return wa[e];if(!ja[e])return e;var t,r=ja[e];for(t in r)if(r.hasOwnProperty(t)&&t in ka)return wa[e]=r[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var _a=Na("animationend"),Sa=Na("animationiteration"),Ca=Na("animationstart"),Ea=Na("transitionend"),Oa=new Map,Aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(e,t){Oa.set(e,t),o(t,[e])}for(var Ta=0;Ta<Aa.length;Ta++){var La=Aa[Ta];Pa(La.toLowerCase(),"on"+(La[0].toUpperCase()+La.slice(1)))}Pa(_a,"onAnimationEnd"),Pa(Sa,"onAnimationIteration"),Pa(Ca,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ma=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Da(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,a,s,l,i,o,c){if(Be.apply(this,arguments),De){if(!De)throw Error(n(198));var d=Fe;De=!1,Fe=null,Ie||(Ie=!0,qe=d)}}(a,t,void 0,e),e.currentTarget=null}function Fa(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var n=void 0;if(t)for(var l=a.length-1;0<=l;l--){var i=a[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==n&&s.isPropagationStopped())break e;Da(s,i,c),n=o}else for(l=0;l<a.length;l++){if(o=(i=a[l]).instance,c=i.currentTarget,i=i.listener,o!==n&&s.isPropagationStopped())break e;Da(s,i,c),n=o}}}if(Ie)throw e=qe,Ie=!1,qe=null,e}function Ia(e,t){var r=t[ps];void 0===r&&(r=t[ps]=new Set);var a=e+"__bubble";r.has(a)||(za(t,e,2,!1),r.add(a))}function qa(e,t,r){var a=0;t&&(a|=4),za(r,e,a,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[Ua]){e[Ua]=!0,l.forEach(function(t){"selectionchange"!==t&&(Ma.has(t)||qa(t,!1,e),qa(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ua]||(t[Ua]=!0,qa("selectionchange",!1,t))}}function za(e,t,r,a){switch(Yt(t)){case 1:var s=Wt;break;case 4:s=Kt;break;default:s=Gt}r=s.bind(null,t,r,e),s=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),a?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ha(e,t,r,a,s){var n=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var i=a.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===l)for(l=a.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;l=l.return}for(;null!==i;){if(null===(l=gs(i)))return;if(5===(o=l.tag)||6===o){a=n=l;continue e}i=i.parentNode}}a=a.return}Pe(function(){var a=n,s=je(r),l=[];e:{var i=Oa.get(e);if(void 0!==i){var o=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":o=Sr;break;case"focusin":c="focus",o=xr;break;case"focusout":c="blur",o=xr;break;case"beforeblur":case"afterblur":o=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Er;break;case _a:case Sa:case Ca:o=fr;break;case Ea:o=Or;break;case"scroll":o=ur;break;case"wheel":o=Pr;break;case"copy":case"cut":case"paste":o=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Cr}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==i?i+"Capture":null:i;d=[];for(var m,p=a;null!==p;){var x=(m=p).stateNode;if(5===m.tag&&null!==x&&(m=x,null!==h&&(null!=(x=Te(p,h))&&d.push(Va(p,x,m)))),u)break;p=p.return}0<d.length&&(i=new o(i,c,null,r,s),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!gs(c)&&!c[ms])&&(o||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=a,null!==(c=(c=r.relatedTarget||r.toElement)?gs(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=mr,x="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cr,x="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==o?i:bs(o),m=null==c?i:bs(c),(i=new d(x,p+"leave",o,r,s)).target=u,i.relatedTarget=m,x=null,gs(s)===a&&((d=new d(h,p+"enter",c,r,s)).target=m,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(h=c,p=0,m=d=o;m;m=Ka(m))p++;for(m=0,x=h;x;x=Ka(x))m++;for(;0<p-m;)d=Ka(d),p--;for(;0<m-p;)h=Ka(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ka(d),h=Ka(h)}d=null}else d=null;null!==o&&Ga(l,i,o,d,!1),null!==c&&null!==u&&Ga(l,u,c,d,!0)}if("select"===(o=(i=a?bs(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var f=Jr;else if(Hr(i))if(Yr)f=na;else{f=aa;var g=ra}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(f=sa);switch(f&&(f=f(e,a))?Vr(l,f,r,s):(g&&g(e,i,a),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=a?bs(a):window,e){case"focusin":(Hr(g)||"true"===g.contentEditable)&&(xa=g,fa=a,ga=null);break;case"focusout":ga=fa=xa=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,ba(l,r,s);break;case"selectionchange":if(pa)break;case"keydown":case"keyup":ba(l,r,s)}var y;if(Lr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Br?qr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Dr&&"ko"!==r.locale&&(Br||"onCompositionStart"!==b?"onCompositionEnd"===b&&Br&&(y=er()):(Zt="value"in(Qt=s)?Qt.value:Qt.textContent,Br=!0)),0<(g=Wa(a,b)).length&&(b=new br(b,e,null,r,s),l.push({event:b,listeners:g}),y?b.data=y:null!==(y=Ur(r))&&(b.data=y))),(y=Mr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Ir=!0,Fr);case"textInput":return(e=t.data)===Fr&&Ir?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!Lr&&qr(e,t)?(e=er(),Xt=Zt=Qt=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(a=Wa(a,"onBeforeInput")).length&&(s=new br("onBeforeInput","beforeinput",null,r,s),l.push({event:s,listeners:a}),s.data=y))}Fa(l,t)})}function Va(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wa(e,t){for(var r=t+"Capture",a=[];null!==e;){var s=e,n=s.stateNode;5===s.tag&&null!==n&&(s=n,null!=(n=Te(e,r))&&a.unshift(Va(e,n,s)),null!=(n=Te(e,t))&&a.push(Va(e,n,s))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ga(e,t,r,a,s){for(var n=t._reactName,l=[];null!==r&&r!==a;){var i=r,o=i.alternate,c=i.stateNode;if(null!==o&&o===a)break;5===i.tag&&null!==c&&(i=c,s?null!=(o=Te(r,n))&&l.unshift(Va(r,o,i)):s||null!=(o=Te(r,n))&&l.push(Va(r,o,i))),r=r.return}0!==l.length&&e.push({event:t,listeners:l})}var $a=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Ya(e){return("string"===typeof e?e:""+e).replace($a,"\n").replace(Ja,"")}function Qa(e,t,r){if(t=Ya(t),Ya(e)!==t&&r)throw Error(n(425))}function Za(){}var Xa=null,es=null;function ts(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,as="function"===typeof clearTimeout?clearTimeout:void 0,ss="function"===typeof Promise?Promise:void 0,ns="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ss?function(e){return ss.resolve(null).then(e).catch(ls)}:rs;function ls(e){setTimeout(function(){throw e})}function is(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0===a)return e.removeChild(s),void zt(t);a--}else"$"!==r&&"$?"!==r&&"$!"!==r||a++;r=s}while(r);zt(t)}function os(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),us="__reactFiber$"+ds,hs="__reactProps$"+ds,ms="__reactContainer$"+ds,ps="__reactEvents$"+ds,xs="__reactListeners$"+ds,fs="__reactHandles$"+ds;function gs(e){var t=e[us];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ms]||r[us]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=cs(e);null!==e;){if(r=e[us])return r;e=cs(e)}return t}r=(e=r).parentNode}return null}function ys(e){return!(e=e[us]||e[ms])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function vs(e){return e[hs]||null}var js=[],ws=-1;function ks(e){return{current:e}}function Ns(e){0>ws||(e.current=js[ws],js[ws]=null,ws--)}function _s(e,t){ws++,js[ws]=e.current,e.current=t}var Ss={},Cs=ks(Ss),Es=ks(!1),Os=Ss;function As(e,t){var r=e.type.contextTypes;if(!r)return Ss;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s,n={};for(s in r)n[s]=t[s];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ps(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ts(){Ns(Es),Ns(Cs)}function Ls(e,t,r){if(Cs.current!==Ss)throw Error(n(168));_s(Cs,t),_s(Es,r)}function Rs(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return r;for(var s in a=a.getChildContext())if(!(s in t))throw Error(n(108,H(e)||"Unknown",s));return F({},r,a)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,Os=Cs.current,_s(Cs,e),_s(Es,Es.current),!0}function Ds(e,t,r){var a=e.stateNode;if(!a)throw Error(n(169));r?(e=Rs(e,t,Os),a.__reactInternalMemoizedMergedChildContext=e,Ns(Es),Ns(Cs),_s(Cs,e)):Ns(Es),_s(Es,r)}var Fs=null,Is=!1,qs=!1;function Us(e){null===Fs?Fs=[e]:Fs.push(e)}function Bs(){if(!qs&&null!==Fs){qs=!0;var e=0,t=bt;try{var r=Fs;for(bt=1;e<r.length;e++){var a=r[e];do{a=a(!0)}while(null!==a)}Fs=null,Is=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ge(Xe,Bs),s}finally{bt=t,qs=!1}}return null}var zs=[],Hs=0,Vs=null,Ws=0,Ks=[],Gs=0,$s=null,Js=1,Ys="";function Qs(e,t){zs[Hs++]=Ws,zs[Hs++]=Vs,Vs=e,Ws=t}function Zs(e,t,r){Ks[Gs++]=Js,Ks[Gs++]=Ys,Ks[Gs++]=$s,$s=e;var a=Js;e=Ys;var s=32-lt(a)-1;a&=~(1<<s),r+=1;var n=32-lt(t)+s;if(30<n){var l=s-s%5;n=(a&(1<<l)-1).toString(32),a>>=l,s-=l,Js=1<<32-lt(t)+s|r<<s|a,Ys=n+e}else Js=1<<n|r<<s|a,Ys=e}function Xs(e){null!==e.return&&(Qs(e,1),Zs(e,1,0))}function en(e){for(;e===Vs;)Vs=zs[--Hs],zs[Hs]=null,Ws=zs[--Hs],zs[Hs]=null;for(;e===$s;)$s=Ks[--Gs],Ks[Gs]=null,Ys=Ks[--Gs],Ks[Gs]=null,Js=Ks[--Gs],Ks[Gs]=null}var tn=null,rn=null,an=!1,sn=null;function nn(e,t){var r=Pc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ln(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,tn=e,rn=os(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,tn=e,rn=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==$s?{id:Js,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Pc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,tn=e,rn=null,!0);default:return!1}}function on(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cn(e){if(an){var t=rn;if(t){var r=t;if(!ln(e,t)){if(on(e))throw Error(n(418));t=os(r.nextSibling);var a=tn;t&&ln(e,t)?nn(a,r):(e.flags=-4097&e.flags|2,an=!1,tn=e)}}else{if(on(e))throw Error(n(418));e.flags=-4097&e.flags|2,an=!1,tn=e}}}function dn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;tn=e}function un(e){if(e!==tn)return!1;if(!an)return dn(e),an=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ts(e.type,e.memoizedProps)),t&&(t=rn)){if(on(e))throw hn(),Error(n(418));for(;t;)nn(e,t),t=os(t.nextSibling)}if(dn(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){rn=os(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}rn=null}}else rn=tn?os(e.stateNode.nextSibling):null;return!0}function hn(){for(var e=rn;e;)e=os(e.nextSibling)}function mn(){rn=tn=null,an=!1}function pn(e){null===sn?sn=[e]:sn.push(e)}var xn=v.ReactCurrentBatchConfig;function fn(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var a=r.stateNode}if(!a)throw Error(n(147,e));var s=a,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=s.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function gn(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yn(e){return(0,e._init)(e._payload)}function bn(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function l(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=2,r):a:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,a){return null===t||6!==t.tag?((t=Fc(r,e.mode,a)).return=e,t):((t=s(t,r)).return=e,t)}function c(e,t,r,a){var n=r.type;return n===k?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===T&&yn(n)===t.type)?((a=s(t,r.props)).ref=fn(e,t,r),a.return=e,a):((a=Rc(r.type,r.key,r.props,null,e.mode,a)).ref=fn(e,t,r),a.return=e,a)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ic(r,e.mode,a)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function u(e,t,r,a,n){return null===t||7!==t.tag?((t=Mc(r,e.mode,a,n)).return=e,t):((t=s(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Rc(t.type,t.key,t.props,null,e.mode,r)).ref=fn(e,null,t),r.return=e,r;case w:return(t=Ic(t,e.mode,r)).return=e,t;case T:return h(e,(0,t._init)(t._payload),r)}if(te(t)||M(t))return(t=Mc(t,e.mode,r,null)).return=e,t;gn(e,t)}return null}function m(e,t,r,a){var s=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==s?null:o(e,t,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===s?c(e,t,r,a):null;case w:return r.key===s?d(e,t,r,a):null;case T:return m(e,t,(s=r._init)(r._payload),a)}if(te(r)||M(r))return null!==s?null:u(e,t,r,a,null);gn(e,r)}return null}function p(e,t,r,a,s){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(r)||null,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?r:a.key)||null,a,s);case w:return d(t,e=e.get(null===a.key?r:a.key)||null,a,s);case T:return p(e,t,r,(0,a._init)(a._payload),s)}if(te(a)||M(a))return u(t,e=e.get(r)||null,a,s,null);gn(t,a)}return null}function x(s,n,i,o){for(var c=null,d=null,u=n,x=n=0,f=null;null!==u&&x<i.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var g=m(s,u,i[x],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(s,u),n=l(g,n,x),null===d?c=g:d.sibling=g,d=g,u=f}if(x===i.length)return r(s,u),an&&Qs(s,x),c;if(null===u){for(;x<i.length;x++)null!==(u=h(s,i[x],o))&&(n=l(u,n,x),null===d?c=u:d.sibling=u,d=u);return an&&Qs(s,x),c}for(u=a(s,u);x<i.length;x++)null!==(f=p(u,s,x,i[x],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),n=l(f,n,x),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(s,e)}),an&&Qs(s,x),c}function f(s,i,o,c){var d=M(o);if("function"!==typeof d)throw Error(n(150));if(null==(o=d.call(o)))throw Error(n(151));for(var u=d=null,x=i,f=i=0,g=null,y=o.next();null!==x&&!y.done;f++,y=o.next()){x.index>f?(g=x,x=null):g=x.sibling;var b=m(s,x,y.value,c);if(null===b){null===x&&(x=g);break}e&&x&&null===b.alternate&&t(s,x),i=l(b,i,f),null===u?d=b:u.sibling=b,u=b,x=g}if(y.done)return r(s,x),an&&Qs(s,f),d;if(null===x){for(;!y.done;f++,y=o.next())null!==(y=h(s,y.value,c))&&(i=l(y,i,f),null===u?d=y:u.sibling=y,u=y);return an&&Qs(s,f),d}for(x=a(s,x);!y.done;f++,y=o.next())null!==(y=p(x,s,f,y.value,c))&&(e&&null!==y.alternate&&x.delete(null===y.key?f:y.key),i=l(y,i,f),null===u?d=y:u.sibling=y,u=y);return e&&x.forEach(function(e){return t(s,e)}),an&&Qs(s,f),d}return function e(a,n,l,o){if("object"===typeof l&&null!==l&&l.type===k&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=n;null!==d;){if(d.key===c){if((c=l.type)===k){if(7===d.tag){r(a,d.sibling),(n=s(d,l.props.children)).return=a,a=n;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&yn(c)===d.type){r(a,d.sibling),(n=s(d,l.props)).ref=fn(a,d,l),n.return=a,a=n;break e}r(a,d);break}t(a,d),d=d.sibling}l.type===k?((n=Mc(l.props.children,a.mode,o,l.key)).return=a,a=n):((o=Rc(l.type,l.key,l.props,null,a.mode,o)).ref=fn(a,n,l),o.return=a,a=o)}return i(a);case w:e:{for(d=l.key;null!==n;){if(n.key===d){if(4===n.tag&&n.stateNode.containerInfo===l.containerInfo&&n.stateNode.implementation===l.implementation){r(a,n.sibling),(n=s(n,l.children||[])).return=a,a=n;break e}r(a,n);break}t(a,n),n=n.sibling}(n=Ic(l,a.mode,o)).return=a,a=n}return i(a);case T:return e(a,n,(d=l._init)(l._payload),o)}if(te(l))return x(a,n,l,o);if(M(l))return f(a,n,l,o);gn(a,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==n&&6===n.tag?(r(a,n.sibling),(n=s(n,l)).return=a,a=n):(r(a,n),(n=Fc(l,a.mode,o)).return=a,a=n),i(a)):r(a,n)}}var vn=bn(!0),jn=bn(!1),wn=ks(null),kn=null,Nn=null,_n=null;function Sn(){_n=Nn=kn=null}function Cn(e){var t=wn.current;Ns(wn),e._currentValue=t}function En(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function On(e,t){kn=e,_n=Nn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yi=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(_n!==e)if(e={context:e,memoizedValue:t,next:null},null===Nn){if(null===kn)throw Error(n(308));Nn=e,kn.dependencies={lanes:0,firstContext:e}}else Nn=Nn.next=e;return t}var Pn=null;function Tn(e){null===Pn?Pn=[e]:Pn.push(e)}function Ln(e,t,r,a){var s=t.interleaved;return null===s?(r.next=r,Tn(t)):(r.next=s.next,s.next=r),t.interleaved=r,Rn(e,a)}function Rn(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Mn=!1;function Dn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Eo)){var s=a.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),a.pending=t,Rn(e,r)}return null===(s=a.interleaved)?(t.next=t,Tn(a)):(t.next=s.next,s.next=t),a.interleaved=t,Rn(e,r)}function Un(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Bn(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var s=null,n=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===n?s=n=l:n=n.next=l,r=r.next}while(null!==r);null===n?s=n=t:n=n.next=t}else s=n=t;return r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:n,shared:a.shared,effects:a.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zn(e,t,r,a){var s=e.updateQueue;Mn=!1;var n=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?n=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==n){var u=s.baseState;for(l=0,d=c=o=null,i=n;;){var h=i.lane,m=i.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,x=i;switch(h=t,m=r,x.tag){case 1:if("function"===typeof(p=x.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=x.payload)?p.call(m,u,h):p)||void 0===h)break e;u=F({},u,h);break e;case 2:Mn=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[i]:h.push(i))}else m={eventTime:m,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=m,o=u):d=d.next=m,l|=h;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(h=i).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{l|=s.lane,s=s.next}while(s!==t)}else null===n&&(s.shared.lanes=0);Do|=l,e.lanes=l,e.memoizedState=u}}function Hn(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(null!==s){if(a.callback=null,a=r,"function"!==typeof s)throw Error(n(191,s));s.call(a)}}}var Vn={},Wn=ks(Vn),Kn=ks(Vn),Gn=ks(Vn);function $n(e){if(e===Vn)throw Error(n(174));return e}function Jn(e,t){switch(_s(Gn,t),_s(Kn,e),_s(Wn,Vn),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ns(Wn),_s(Wn,t)}function Yn(){Ns(Wn),Ns(Kn),Ns(Gn)}function Qn(e){$n(Gn.current);var t=$n(Wn.current),r=oe(t,e.type);t!==r&&(_s(Kn,e),_s(Wn,r))}function Zn(e){Kn.current===e&&(Ns(Wn),Ns(Kn))}var Xn=ks(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function rl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var al=v.ReactCurrentDispatcher,sl=v.ReactCurrentBatchConfig,nl=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,hl=0;function ml(){throw Error(n(321))}function pl(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!la(e[r],t[r]))return!1;return!0}function xl(e,t,r,a,s,l){if(nl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=null===e||null===e.memoizedState?Zl:Xl,e=r(a,s),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(n(301));l+=1,ol=il=null,t.updateQueue=null,al.current=ei,e=r(a,s)}while(dl)}if(al.current=Ql,t=null!==il&&null!==il.next,nl=0,ol=il=ll=null,cl=!1,t)throw Error(n(300));return e}function fl(){var e=0!==ul;return ul=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function yl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(n(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function bl(e,t){return"function"===typeof t?t(e):t}function vl(e){var t=yl(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var a=il,s=a.baseQueue,l=r.pending;if(null!==l){if(null!==s){var i=s.next;s.next=l.next,l.next=i}a.baseQueue=s=l,r.pending=null}if(null!==s){l=s.next,a=a.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((nl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=h,i=a):c=c.next=h,ll.lanes|=u,Do|=u}d=d.next}while(null!==d&&d!==l);null===c?i=a:c.next=o,la(a,t.memoizedState)||(yi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,r.lastRenderedState=a}if(null!==(e=r.interleaved)){s=e;do{l=s.lane,ll.lanes|=l,Do|=l,s=s.next}while(s!==e)}else null===s&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jl(e){var t=yl(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,l=t.memoizedState;if(null!==s){r.pending=null;var i=s=s.next;do{l=e(l,i.action),i=i.next}while(i!==s);la(l,t.memoizedState)||(yi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),r.lastRenderedState=l}return[l,a]}function wl(){}function kl(e,t){var r=ll,a=yl(),s=t(),l=!la(a.memoizedState,s);if(l&&(a.memoizedState=s,yi=!0),a=a.queue,Ml(Sl.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(r.flags|=2048,Al(9,_l.bind(null,r,a,s,t),void 0,null),null===Oo)throw Error(n(349));0!==(30&nl)||Nl(r,t,s)}return s}function Nl(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _l(e,t,r,a){t.value=r,t.getSnapshot=a,Cl(t)&&El(e)}function Sl(e,t,r){return r(function(){Cl(t)&&El(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!la(e,r)}catch(a){return!0}}function El(e){var t=Rn(e,1);null!==t&&rc(t,e,1,-1)}function Ol(e){var t=gl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=Gl.bind(null,ll,e),[t.memoizedState,e]}function Al(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function Pl(){return yl().memoizedState}function Tl(e,t,r,a){var s=gl();ll.flags|=e,s.memoizedState=Al(1|t,r,void 0,void 0===a?null:a)}function Ll(e,t,r,a){var s=yl();a=void 0===a?null:a;var n=void 0;if(null!==il){var l=il.memoizedState;if(n=l.destroy,null!==a&&pl(a,l.deps))return void(s.memoizedState=Al(t,r,n,a))}ll.flags|=e,s.memoizedState=Al(1|t,r,n,a)}function Rl(e,t){return Tl(8390656,8,e,t)}function Ml(e,t){return Ll(2048,8,e,t)}function Dl(e,t){return Ll(4,2,e,t)}function Fl(e,t){return Ll(4,4,e,t)}function Il(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ql(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ll(4,4,Il.bind(null,t,e),r)}function Ul(){}function Bl(e,t){var r=yl();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&pl(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function zl(e,t){var r=yl();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&pl(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Hl(e,t,r){return 0===(21&nl)?(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=r):(la(r,t)||(r=xt(),ll.lanes|=r,Do|=r,e.baseState=!0),t)}function Vl(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var a=sl.transition;sl.transition={};try{e(!1),t()}finally{bt=r,sl.transition=a}}function Wl(){return yl().memoizedState}function Kl(e,t,r){var a=tc(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},$l(e))Jl(t,r);else if(null!==(r=Ln(e,t,r,a))){rc(r,e,a,ec()),Yl(r,t,a)}}function Gl(e,t,r){var a=tc(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if($l(e))Jl(t,s);else{var n=e.alternate;if(0===e.lanes&&(null===n||0===n.lanes)&&null!==(n=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=n(l,r);if(s.hasEagerState=!0,s.eagerState=i,la(i,l)){var o=t.interleaved;return null===o?(s.next=s,Tn(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(r=Ln(e,t,s,a))&&(rc(r,e,a,s=ec()),Yl(r,t,a))}}function $l(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Jl(e,t){dl=cl=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yl(e,t,r){if(0!==(4194240&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Ql={readContext:An,useCallback:ml,useContext:ml,useEffect:ml,useImperativeHandle:ml,useInsertionEffect:ml,useLayoutEffect:ml,useMemo:ml,useReducer:ml,useRef:ml,useState:ml,useDebugValue:ml,useDeferredValue:ml,useTransition:ml,useMutableSource:ml,useSyncExternalStore:ml,useId:ml,unstable_isNewReconciler:!1},Zl={readContext:An,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:An,useEffect:Rl,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Tl(4194308,4,Il.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tl(4,2,e,t)},useMemo:function(e,t){var r=gl();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=gl();return t=void 0!==r?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Kl.bind(null,ll,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:Ol,useDebugValue:Ul,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=Ol(!1),t=e[0];return e=Vl.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ll,s=gl();if(an){if(void 0===r)throw Error(n(407));r=r()}else{if(r=t(),null===Oo)throw Error(n(349));0!==(30&nl)||Nl(a,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,Rl(Sl.bind(null,a,l,e),[e]),a.flags|=2048,Al(9,_l.bind(null,a,l,r,t),void 0,null),r},useId:function(){var e=gl(),t=Oo.identifierPrefix;if(an){var r=Ys;t=":"+t+"R"+(r=(Js&~(1<<32-lt(Js)-1)).toString(32)+r),0<(r=ul++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xl={readContext:An,useCallback:Bl,useContext:An,useEffect:Ml,useImperativeHandle:ql,useInsertionEffect:Dl,useLayoutEffect:Fl,useMemo:zl,useReducer:vl,useRef:Pl,useState:function(){return vl(bl)},useDebugValue:Ul,useDeferredValue:function(e){return Hl(yl(),il.memoizedState,e)},useTransition:function(){return[vl(bl)[0],yl().memoizedState]},useMutableSource:wl,useSyncExternalStore:kl,useId:Wl,unstable_isNewReconciler:!1},ei={readContext:An,useCallback:Bl,useContext:An,useEffect:Ml,useImperativeHandle:ql,useInsertionEffect:Dl,useLayoutEffect:Fl,useMemo:zl,useReducer:jl,useRef:Pl,useState:function(){return jl(bl)},useDebugValue:Ul,useDeferredValue:function(e){var t=yl();return null===il?t.memoizedState=e:Hl(t,il.memoizedState,e)},useTransition:function(){return[jl(bl)[0],yl().memoizedState]},useMutableSource:wl,useSyncExternalStore:kl,useId:Wl,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var r in t=F({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ri(e,t,r,a){r=null===(r=r(a,t=e.memoizedState))||void 0===r?t:F({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=ec(),s=tc(e),n=In(a,s);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=qn(e,n,s))&&(rc(t,e,s,a),Un(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=ec(),s=tc(e),n=In(a,s);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=qn(e,n,s))&&(rc(t,e,s,a),Un(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),a=tc(e),s=In(r,a);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=qn(e,s,a))&&(rc(t,e,a,r),Un(t,e,a))}};function si(e,t,r,a,s,n,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,n,l):!t.prototype||!t.prototype.isPureReactComponent||(!ia(r,a)||!ia(s,n))}function ni(e,t,r){var a=!1,s=Ss,n=t.contextType;return"object"===typeof n&&null!==n?n=An(n):(s=Ps(t)?Os:Cs.current,n=(a=null!==(a=t.contextTypes)&&void 0!==a)?As(e,s):Ss),t=new t(r,n),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),t}function li(e,t,r,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ii(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Dn(e);var n=t.contextType;"object"===typeof n&&null!==n?s.context=An(n):(n=Ps(t)?Os:Cs.current,s.context=As(e,n)),s.state=e.memoizedState,"function"===typeof(n=t.getDerivedStateFromProps)&&(ri(e,t,n,r),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ai.enqueueReplaceState(s,s.state,null),zn(e,r,s,a),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var r="",a=t;do{r+=B(a),a=a.return}while(a);var s=r}catch(n){s="\nError generating stack: "+n.message+"\n"+n.stack}return{value:e,source:t,stack:s,digest:null}}function ci(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ui="function"===typeof WeakMap?WeakMap:Map;function hi(e,t,r){(r=In(-1,r)).tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Vo||(Vo=!0,Wo=a),di(0,t)},r}function mi(e,t,r){(r=In(-1,r)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){di(0,t)}}var n=e.stateNode;return null!==n&&"function"===typeof n.componentDidCatch&&(r.callback=function(){di(0,t),"function"!==typeof a&&(null===Ko?Ko=new Set([this]):Ko.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function pi(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new ui;var s=new Set;a.set(t,s)}else void 0===(s=a.get(t))&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=_c.bind(null,e,t,r),t.then(e,e))}function xi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fi(e,t,r,a,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=In(-1,1)).tag=2,qn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var gi=v.ReactCurrentOwner,yi=!1;function bi(e,t,r,a){t.child=null===e?jn(t,null,r,a):vn(t,e.child,r,a)}function vi(e,t,r,a,s){r=r.render;var n=t.ref;return On(t,s),a=xl(e,t,r,a,n,s),r=fl(),null===e||yi?(an&&r&&Xs(t),t.flags|=1,bi(e,t,a,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hi(e,t,s))}function ji(e,t,r,a,s){if(null===e){var n=r.type;return"function"!==typeof n||Tc(n)||void 0!==n.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Rc(r.type,null,a,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=n,wi(e,t,n,a,s))}if(n=e.child,0===(e.lanes&s)){var l=n.memoizedProps;if((r=null!==(r=r.compare)?r:ia)(l,a)&&e.ref===t.ref)return Hi(e,t,s)}return t.flags|=1,(e=Lc(n,a)).ref=t.ref,e.return=t,t.child=e}function wi(e,t,r,a,s){if(null!==e){var n=e.memoizedProps;if(ia(n,a)&&e.ref===t.ref){if(yi=!1,t.pendingProps=a=n,0===(e.lanes&s))return t.lanes=e.lanes,Hi(e,t,s);0!==(131072&e.flags)&&(yi=!0)}}return _i(e,t,r,a,s)}function ki(e,t,r){var a=t.pendingProps,s=a.children,n=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Lo,To),To|=r;else{if(0===(1073741824&r))return e=null!==n?n.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Lo,To),To|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==n?n.baseLanes:r,_s(Lo,To),To|=a}else null!==n?(a=n.baseLanes|r,t.memoizedState=null):a=r,_s(Lo,To),To|=a;return bi(e,t,s,r),t.child}function Ni(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _i(e,t,r,a,s){var n=Ps(r)?Os:Cs.current;return n=As(t,n),On(t,s),r=xl(e,t,r,a,n,s),a=fl(),null===e||yi?(an&&a&&Xs(t),t.flags|=1,bi(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hi(e,t,s))}function Si(e,t,r,a,s){if(Ps(r)){var n=!0;Ms(t)}else n=!1;if(On(t,s),null===t.stateNode)zi(e,t),ni(t,r,a),ii(t,r,a,s),a=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=r.contextType;"object"===typeof c&&null!==c?c=An(c):c=As(t,c=Ps(r)?Os:Cs.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==a||o!==c)&&li(t,l,a,c),Mn=!1;var h=t.memoizedState;l.state=h,zn(t,a,l,s),o=t.memoizedState,i!==a||h!==o||Es.current||Mn?("function"===typeof d&&(ri(t,r,d,a),o=t.memoizedState),(i=Mn||si(t,r,i,a,h,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),l.props=a,l.state=o,l.context=c,a=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Fn(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,h=l.context,"object"===typeof(o=r.contextType)&&null!==o?o=An(o):o=As(t,o=Ps(r)?Os:Cs.current);var m=r.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||h!==o)&&li(t,l,a,o),Mn=!1,h=t.memoizedState,l.state=h,zn(t,a,l,s);var p=t.memoizedState;i!==u||h!==p||Es.current||Mn?("function"===typeof m&&(ri(t,r,m,a),p=t.memoizedState),(c=Mn||si(t,r,c,a,h,p,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,p,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,p,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),l.props=a,l.state=p,l.context=o,a=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Ci(e,t,r,a,n,s)}function Ci(e,t,r,a,s,n){Ni(e,t);var l=0!==(128&t.flags);if(!a&&!l)return s&&Ds(t,r,!1),Hi(e,t,n);a=t.stateNode,gi.current=t;var i=l&&"function"!==typeof r.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&l?(t.child=vn(t,e.child,null,n),t.child=vn(t,null,i,n)):bi(e,t,i,n),t.memoizedState=a.state,s&&Ds(t,r,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Jn(e,t.containerInfo)}function Oi(e,t,r,a,s){return mn(),pn(s),t.flags|=256,bi(e,t,r,a),t.child}var Ai,Pi,Ti,Li,Ri={dehydrated:null,treeContext:null,retryLane:0};function Mi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,r){var a,s=t.pendingProps,l=Xn.current,i=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&l)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),_s(Xn,1&l),null===e)return cn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Dc(o,s,0,null),e=Mc(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mi(r),t.memoizedState=Ri,e):Fi(t,o));if(null!==(l=e.memoizedState)&&null!==(a=l.dehydrated))return function(e,t,r,a,s,l,i){if(r)return 256&t.flags?(t.flags&=-257,Ii(e,t,i,a=ci(Error(n(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=a.fallback,s=t.mode,a=Dc({mode:"visible",children:a.children},s,0,null),(l=Mc(l,s,i,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,0!==(1&t.mode)&&vn(t,e.child,null,i),t.child.memoizedState=Mi(i),t.memoizedState=Ri,l);if(0===(1&t.mode))return Ii(e,t,i,null);if("$!"===s.data){if(a=s.nextSibling&&s.nextSibling.dataset)var o=a.dgst;return a=o,Ii(e,t,i,a=ci(l=Error(n(419)),a,void 0))}if(o=0!==(i&e.childLanes),yi||o){if(null!==(a=Oo)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(a.suspendedLanes|i))?0:s)&&s!==l.retryLane&&(l.retryLane=s,Rn(e,s),rc(a,e,s,-1))}return xc(),Ii(e,t,i,a=ci(Error(n(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,rn=os(s.nextSibling),tn=t,an=!0,sn=null,null!==e&&(Ks[Gs++]=Js,Ks[Gs++]=Ys,Ks[Gs++]=$s,Js=e.id,Ys=e.overflow,$s=t),t=Fi(t,a.children),t.flags|=4096,t)}(e,t,o,s,a,l,r);if(i){i=s.fallback,o=t.mode,a=(l=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==l?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Lc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==a?i=Lc(a,i):(i=Mc(i,o,r,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=null===(o=e.child.memoizedState)?Mi(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ri,s}return e=(i=e.child).sibling,s=Lc(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=r),s.return=t,s.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Fi(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ii(e,t,r,a){return null!==a&&pn(a),vn(t,e.child,null,r),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qi(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),En(e.return,t,r)}function Ui(e,t,r,a,s){var n=e.memoizedState;null===n?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=a,n.tail=r,n.tailMode=s)}function Bi(e,t,r){var a=t.pendingProps,s=a.revealOrder,n=a.tail;if(bi(e,t,a.children,r),0!==(2&(a=Xn.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qi(e,r,t);else if(19===e.tag)qi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_s(Xn,a),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===el(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ui(t,!1,s,r,n);break;case"backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===el(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ui(t,!0,r,null,n);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Lc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Lc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Vi(e,t){if(!an)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,a|=14680064&s.subtreeFlags,a|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Ki(e,t,r){var a=t.pendingProps;switch(en(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:case 17:return Ps(t.type)&&Ts(),Wi(t),null;case 3:return a=t.stateNode,Yn(),Ns(Es),Ns(Cs),rl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(un(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sn&&(lc(sn),sn=null))),Pi(e,t),Wi(t),null;case 5:Zn(t);var s=$n(Gn.current);if(r=t.type,null!==e&&null!=t.stateNode)Ti(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(n(166));return Wi(t),null}if(e=$n(Wn.current),un(t)){a=t.stateNode,r=t.type;var l=t.memoizedProps;switch(a[us]=t,a[hs]=l,e=0!==(1&t.mode),r){case"dialog":Ia("cancel",a),Ia("close",a);break;case"iframe":case"object":case"embed":Ia("load",a);break;case"video":case"audio":for(s=0;s<Ra.length;s++)Ia(Ra[s],a);break;case"source":Ia("error",a);break;case"img":case"image":case"link":Ia("error",a),Ia("load",a);break;case"details":Ia("toggle",a);break;case"input":Y(a,l),Ia("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Ia("invalid",a);break;case"textarea":se(a,l),Ia("invalid",a)}for(var o in ye(r,l),s=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==l.suppressHydrationWarning&&Qa(a.textContent,c,e),s=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Qa(a.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Ia("scroll",a)}switch(r){case"input":K(a),X(a,l,!0);break;case"textarea":K(a),le(a);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(a.onclick=Za)}a=s,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),"select"===r&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[us]=t,e[hs]=a,Ai(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(r,a),r){case"dialog":Ia("cancel",e),Ia("close",e),s=a;break;case"iframe":case"object":case"embed":Ia("load",e),s=a;break;case"video":case"audio":for(s=0;s<Ra.length;s++)Ia(Ra[s],e);s=a;break;case"source":Ia("error",e),s=a;break;case"img":case"image":case"link":Ia("error",e),Ia("load",e),s=a;break;case"details":Ia("toggle",e),s=a;break;case"input":Y(e,a),s=J(e,a),Ia("invalid",e);break;case"option":default:s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=F({},a,{value:void 0}),Ia("invalid",e);break;case"textarea":se(e,a),s=ae(e,a),Ia("invalid",e)}for(l in ye(r,s),c=s)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?fe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Ia("scroll",e):null!=d&&b(e,l,d,o))}switch(r){case"input":K(e),X(e,a,!1);break;case"textarea":K(e),le(e);break;case"option":null!=a.value&&e.setAttribute("value",""+V(a.value));break;case"select":e.multiple=!!a.multiple,null!=(l=a.value)?re(e,!!a.multiple,l,!1):null!=a.defaultValue&&re(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Za)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&null!=t.stateNode)Li(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(n(166));if(r=$n(Gn.current),$n(Wn.current),un(t)){if(a=t.stateNode,r=t.memoizedProps,a[us]=t,(l=a.nodeValue!==r)&&null!==(e=tn))switch(e.tag){case 3:Qa(a.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qa(a.nodeValue,r,0!==(1&e.mode))}l&&(t.flags|=4)}else(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[us]=t,t.stateNode=a}return Wi(t),null;case 13:if(Ns(Xn),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(an&&null!==rn&&0!==(1&t.mode)&&0===(128&t.flags))hn(),mn(),t.flags|=98560,l=!1;else if(l=un(t),null!==a&&null!==a.dehydrated){if(null===e){if(!l)throw Error(n(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(n(317));l[us]=t}else mn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wi(t),l=!1}else null!==sn&&(lc(sn),sn=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xn.current)?0===Ro&&(Ro=3):xc())),null!==t.updateQueue&&(t.flags|=4),Wi(t),null);case 4:return Yn(),Pi(e,t),null===e&&Ba(t.stateNode.containerInfo),Wi(t),null;case 10:return Cn(t.type._context),Wi(t),null;case 19:if(Ns(Xn),null===(l=t.memoizedState))return Wi(t),null;if(a=0!==(128&t.flags),null===(o=l.rendering))if(a)Vi(l,!1);else{if(0!==Ro||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Vi(l,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;null!==r;)e=a,(l=r).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _s(Xn,1&Xn.current|2),t.child}e=e.sibling}null!==l.tail&&Qe()>zo&&(t.flags|=128,a=!0,Vi(l,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=el(o))){if(t.flags|=128,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Vi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!an)return Wi(t),null}else 2*Qe()-l.renderingStartTime>zo&&1073741824!==r&&(t.flags|=128,a=!0,Vi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=l.last)?r.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Qe(),t.sibling=null,r=Xn.current,_s(Xn,a?1&r|2:1&r),t):(Wi(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&To)&&(Wi(t),6&t.subtreeFlags&&(t.flags|=8192)):Wi(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}function Gi(e,t){switch(en(t),t.tag){case 1:return Ps(t.type)&&Ts(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yn(),Ns(Es),Ns(Cs),rl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zn(t),null;case 13:if(Ns(Xn),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));mn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ns(Xn),null;case 4:return Yn(),null;case 10:return Cn(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ai=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Pi=function(){},Ti=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,$n(Wn.current);var n,l=null;switch(r){case"input":s=J(e,s),a=J(e,a),l=[];break;case"select":s=F({},s,{value:void 0}),a=F({},a,{value:void 0}),l=[];break;case"textarea":s=ae(e,s),a=ae(e,a),l=[];break;default:"function"!==typeof s.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in ye(r,a),r=null,s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(n in o)o.hasOwnProperty(n)&&(r||(r={}),r[n]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=s?s[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(n in o)!o.hasOwnProperty(n)||c&&c.hasOwnProperty(n)||(r||(r={}),r[n]="");for(n in c)c.hasOwnProperty(n)&&o[n]!==c[n]&&(r||(r={}),r[n]=c[n])}else r||(l||(l=[]),l.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ia("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Li=function(e,t,r,a){r!==a&&(t.flags|=4)};var $i=!1,Ji=!1,Yi="function"===typeof WeakSet?WeakSet:Set,Qi=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(a){Nc(e,t,a)}else r.current=null}function Xi(e,t,r){try{r()}catch(a){Nc(e,t,a)}}var eo=!1;function to(e,t,r){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var s=a=a.next;do{if((s.tag&e)===e){var n=s.destroy;s.destroy=void 0,void 0!==n&&Xi(t,r,n)}s=s.next}while(s!==a)}}function ro(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function ao(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[us],delete t[hs],delete t[ps],delete t[xs],delete t[fs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function no(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||no(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(io(e,t,r),e=e.sibling;null!==e;)io(e,t,r),e=e.sibling}function oo(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,r),e=e.sibling;null!==e;)oo(e,t,r),e=e.sibling}var co=null,uo=!1;function ho(e,t,r){for(r=r.child;null!==r;)mo(e,t,r),r=r.sibling}function mo(e,t,r){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(st,r)}catch(i){}switch(r.tag){case 5:Ji||Zi(r,t);case 6:var a=co,s=uo;co=null,ho(e,t,r),uo=s,null!==(co=a)&&(uo?(e=co,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):co.removeChild(r.stateNode));break;case 18:null!==co&&(uo?(e=co,r=r.stateNode,8===e.nodeType?is(e.parentNode,r):1===e.nodeType&&is(e,r),zt(e)):is(co,r.stateNode));break;case 4:a=co,s=uo,co=r.stateNode.containerInfo,uo=!0,ho(e,t,r),co=a,uo=s;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(a=r.updateQueue)&&null!==(a=a.lastEffect))){s=a=a.next;do{var n=s,l=n.destroy;n=n.tag,void 0!==l&&(0!==(2&n)||0!==(4&n))&&Xi(r,t,l),s=s.next}while(s!==a)}ho(e,t,r);break;case 1:if(!Ji&&(Zi(r,t),"function"===typeof(a=r.stateNode).componentWillUnmount))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(i){Nc(r,t,i)}ho(e,t,r);break;case 21:ho(e,t,r);break;case 22:1&r.mode?(Ji=(a=Ji)||null!==r.memoizedState,ho(e,t,r),Ji=a):ho(e,t,r);break;default:ho(e,t,r)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Yi),t.forEach(function(t){var a=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}}function xo(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var s=r[a];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(n(160));mo(l,i,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){Nc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fo(t,e),t=t.sibling}function fo(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xo(t,e),go(e),4&a){try{to(3,e,e.return),ro(3,e)}catch(f){Nc(e,e.return,f)}try{to(5,e,e.return)}catch(f){Nc(e,e.return,f)}}break;case 1:xo(t,e),go(e),512&a&&null!==r&&Zi(r,r.return);break;case 5:if(xo(t,e),go(e),512&a&&null!==r&&Zi(r,r.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(f){Nc(e,e.return,f)}}if(4&a&&null!=(s=e.stateNode)){var l=e.memoizedProps,i=null!==r?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&Q(s,l),be(o,i);var d=be(o,l);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];"style"===u?fe(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):b(s,u,h,d)}switch(o){case"input":Z(s,l);break;case"textarea":ne(s,l);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var p=l.value;null!=p?re(s,!!l.multiple,p,!1):m!==!!l.multiple&&(null!=l.defaultValue?re(s,!!l.multiple,l.defaultValue,!0):re(s,!!l.multiple,l.multiple?[]:"",!1))}s[hs]=l}catch(f){Nc(e,e.return,f)}}break;case 6:if(xo(t,e),go(e),4&a){if(null===e.stateNode)throw Error(n(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(f){Nc(e,e.return,f)}}break;case 3:if(xo(t,e),go(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(f){Nc(e,e.return,f)}break;case 4:default:xo(t,e),go(e);break;case 13:xo(t,e),go(e),8192&(s=e.child).flags&&(l=null!==s.memoizedState,s.stateNode.isHidden=l,!l||null!==s.alternate&&null!==s.alternate.memoizedState||(Bo=Qe())),4&a&&po(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ji=(d=Ji)||u,xo(t,e),Ji=d):xo(t,e),go(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qi=e,u=e.child;null!==u;){for(h=Qi=u;null!==Qi;){switch(p=(m=Qi).child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:Zi(m,m.return);var x=m.stateNode;if("function"===typeof x.componentWillUnmount){a=m,r=m.return;try{t=a,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){Nc(a,r,f)}}break;case 5:Zi(m,m.return);break;case 22:if(null!==m.memoizedState){jo(h);continue}}null!==p?(p.return=m,Qi=p):jo(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",i))}catch(f){Nc(e,e.return,f)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){Nc(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xo(t,e),go(e),4&a&&po(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(no(r)){var a=r;break e}r=r.return}throw Error(n(160))}switch(a.tag){case 5:var s=a.stateNode;32&a.flags&&(he(s,""),a.flags&=-33),oo(e,lo(e),s);break;case 3:case 4:var l=a.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(n(161))}}catch(i){Nc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,r){Qi=e,bo(e,t,r)}function bo(e,t,r){for(var a=0!==(1&e.mode);null!==Qi;){var s=Qi,n=s.child;if(22===s.tag&&a){var l=null!==s.memoizedState||$i;if(!l){var i=s.alternate,o=null!==i&&null!==i.memoizedState||Ji;i=$i;var c=Ji;if($i=l,(Ji=o)&&!c)for(Qi=s;null!==Qi;)o=(l=Qi).child,22===l.tag&&null!==l.memoizedState?wo(s):null!==o?(o.return=l,Qi=o):wo(s);for(;null!==n;)Qi=n,bo(n,t,r),n=n.sibling;Qi=s,$i=i,Ji=c}vo(e)}else 0!==(8772&s.subtreeFlags)&&null!==n?(n.return=s,Qi=n):vo(e)}}function vo(e){for(;null!==Qi;){var t=Qi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||ro(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Ji)if(null===r)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ti(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Hn(t,l,a);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Hn(t,i,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(n(163))}Ji||512&t.flags&&ao(t)}catch(m){Nc(t,t.return,m)}}if(t===e){Qi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Qi=r;break}Qi=t.return}}function jo(e){for(;null!==Qi;){var t=Qi;if(t===e){Qi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Qi=r;break}Qi=t.return}}function wo(e){for(;null!==Qi;){var t=Qi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ro(4,t)}catch(o){Nc(t,r,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var s=t.return;try{a.componentDidMount()}catch(o){Nc(t,s,o)}}var n=t.return;try{ao(t)}catch(o){Nc(t,n,o)}break;case 5:var l=t.return;try{ao(t)}catch(o){Nc(t,l,o)}}}catch(o){Nc(t,t.return,o)}if(t===e){Qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qi=i;break}Qi=t.return}}var ko,No=Math.ceil,_o=v.ReactCurrentDispatcher,So=v.ReactCurrentOwner,Co=v.ReactCurrentBatchConfig,Eo=0,Oo=null,Ao=null,Po=0,To=0,Lo=ks(0),Ro=0,Mo=null,Do=0,Fo=0,Io=0,qo=null,Uo=null,Bo=0,zo=1/0,Ho=null,Vo=!1,Wo=null,Ko=null,Go=!1,$o=null,Jo=0,Yo=0,Qo=null,Zo=-1,Xo=0;function ec(){return 0!==(6&Eo)?Qe():-1!==Zo?Zo:Zo=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Po?Po&-Po:null!==xn.transition?(0===Xo&&(Xo=xt()),Xo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,r,a){if(50<Yo)throw Yo=0,Qo=null,Error(n(185));gt(e,r,a),0!==(2&Eo)&&e===Oo||(e===Oo&&(0===(2&Eo)&&(Fo|=r),4===Ro&&ic(e,Po)),ac(e,a),1===r&&0===Eo&&0===(1&t.mode)&&(zo=Qe()+500,Is&&Bs()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,n=e.pendingLanes;0<n;){var l=31-lt(n),i=1<<l,o=s[l];-1===o?0!==(i&r)&&0===(i&a)||(s[l]=mt(i,t)):o<=t&&(e.expiredLanes|=i),n&=~i}}(e,t);var a=ht(e,e===Oo?Po:0);if(0===a)null!==r&&$e(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=r&&$e(r),1===t)0===e.tag?function(e){Is=!0,Us(e)}(oc.bind(null,e)):Us(oc.bind(null,e)),ns(function(){0===(6&Eo)&&Bs()}),r=null;else{switch(vt(a)){case 1:r=Xe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=at}r=Oc(r,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sc(e,t){if(Zo=-1,Xo=0,0!==(6&Eo))throw Error(n(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var a=ht(e,e===Oo?Po:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=fc(e,a);else{t=a;var s=Eo;Eo|=2;var l=pc();for(Oo===e&&Po===t||(Ho=null,zo=Qe()+500,hc(e,t));;)try{yc();break}catch(o){mc(e,o)}Sn(),_o.current=l,Eo=s,null!==Ao?t=0:(Oo=null,Po=0,t=Ro)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(a=s,t=nc(e,s))),1===t)throw r=Mo,hc(e,0),ic(e,a),ac(e,Qe()),r;if(6===t)ic(e,a);else{if(s=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var a=0;a<r.length;a++){var s=r[a],n=s.getSnapshot;s=s.value;try{if(!la(n(),s))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=fc(e,a))&&(0!==(l=pt(e))&&(a=l,t=nc(e,l))),1===t))throw r=Mo,hc(e,0),ic(e,a),ac(e,Qe()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:case 5:jc(e,Uo,Ho);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=Bo+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(jc.bind(null,e,Uo,Ho),t);break}jc(e,Uo,Ho);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,s=-1;0<a;){var i=31-lt(a);l=1<<i,(i=t[i])>s&&(s=i),a&=~l}if(a=s,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*No(a/1960))-a)){e.timeoutHandle=rs(jc.bind(null,e,Uo,Ho),a);break}jc(e,Uo,Ho);break;default:throw Error(n(329))}}}return ac(e,Qe()),e.callbackNode===r?sc.bind(null,e):null}function nc(e,t){var r=qo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Uo,Uo=r,null!==t&&lc(t)),e}function lc(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function ic(e,t){for(t&=~Io,t&=~Fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lt(t),a=1<<r;e[r]=-1,t&=~a}}function oc(e){if(0!==(6&Eo))throw Error(n(327));wc();var t=ht(e,0);if(0===(1&t))return ac(e,Qe()),null;var r=fc(e,t);if(0!==e.tag&&2===r){var a=pt(e);0!==a&&(t=a,r=nc(e,a))}if(1===r)throw r=Mo,hc(e,0),ic(e,t),ac(e,Qe()),r;if(6===r)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Uo,Ho),ac(e,Qe()),null}function cc(e,t){var r=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=r)&&(zo=Qe()+500,Is&&Bs())}}function dc(e){null!==$o&&0===$o.tag&&0===(6&Eo)&&wc();var t=Eo;Eo|=1;var r=Co.transition,a=bt;try{if(Co.transition=null,bt=1,e)return e()}finally{bt=a,Co.transition=r,0===(6&(Eo=t))&&Bs()}}function uc(){To=Lo.current,Ns(Lo)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,as(r)),null!==Ao)for(r=Ao.return;null!==r;){var a=r;switch(en(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ts();break;case 3:Yn(),Ns(Es),Ns(Cs),rl();break;case 5:Zn(a);break;case 4:Yn();break;case 13:case 19:Ns(Xn);break;case 10:Cn(a.type._context);break;case 22:case 23:uc()}r=r.return}if(Oo=e,Ao=e=Lc(e.current,null),Po=To=t,Ro=0,Mo=null,Io=Fo=Do=0,Uo=qo=null,null!==Pn){for(t=0;t<Pn.length;t++)if(null!==(a=(r=Pn[t]).interleaved)){r.interleaved=null;var s=a.next,n=r.pending;if(null!==n){var l=n.next;n.next=s,a.next=l}r.pending=a}Pn=null}return e}function mc(e,t){for(;;){var r=Ao;try{if(Sn(),al.current=Ql,cl){for(var a=ll.memoizedState;null!==a;){var s=a.queue;null!==s&&(s.pending=null),a=a.next}cl=!1}if(nl=0,ol=il=ll=null,dl=!1,ul=0,So.current=null,null===r||null===r.return){Ro=1,Mo=t,Ao=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Po,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xi(i);if(null!==p){p.flags&=-257,fi(p,i,o,0,t),1&p.mode&&pi(l,d,t),c=d;var x=(t=p).updateQueue;if(null===x){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}if(0===(1&t)){pi(l,d,t),xc();break e}c=Error(n(426))}else if(an&&1&o.mode){var g=xi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),fi(g,i,o,0,t),pn(oi(c,o));break e}}l=c=oi(c,o),4!==Ro&&(Ro=2),null===qo?qo=[l]:qo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Bn(l,hi(0,c,t));break e;case 1:o=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ko||!Ko.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Bn(l,mi(l,o,t));break e}}l=l.return}while(null!==l)}vc(r)}catch(v){t=v,Ao===r&&null!==r&&(Ao=r=r.return);continue}break}}function pc(){var e=_o.current;return _o.current=Ql,null===e?Ql:e}function xc(){0!==Ro&&3!==Ro&&2!==Ro||(Ro=4),null===Oo||0===(268435455&Do)&&0===(268435455&Fo)||ic(Oo,Po)}function fc(e,t){var r=Eo;Eo|=2;var a=pc();for(Oo===e&&Po===t||(Ho=null,hc(e,t));;)try{gc();break}catch(s){mc(e,s)}if(Sn(),Eo=r,_o.current=a,null!==Ao)throw Error(n(261));return Oo=null,Po=0,Ro}function gc(){for(;null!==Ao;)bc(Ao)}function yc(){for(;null!==Ao&&!Je();)bc(Ao)}function bc(e){var t=ko(e.alternate,e,To);e.memoizedProps=e.pendingProps,null===t?vc(e):Ao=t,So.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ki(r,t,To)))return void(Ao=r)}else{if(null!==(r=Gi(r,t)))return r.flags&=32767,void(Ao=r);if(null===e)return Ro=6,void(Ao=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ao=t);Ao=t=e}while(null!==t);0===Ro&&(Ro=5)}function jc(e,t,r){var a=bt,s=Co.transition;try{Co.transition=null,bt=1,function(e,t,r,a){do{wc()}while(null!==$o);if(0!==(6&Eo))throw Error(n(327));r=e.finishedWork;var s=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-lt(r),n=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~n}}(e,l),e===Oo&&(Ao=Oo=null,Po=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Go||(Go=!0,Oc(tt,function(){return wc(),null})),l=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||l){l=Co.transition,Co.transition=null;var i=bt;bt=1;var o=Eo;Eo|=4,So.current=null,function(e,t){if(Xa=Vt,ha(e=ua())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch(j){r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||0!==s&&3!==h.nodeType||(o=i+s),h!==l||0!==a&&3!==h.nodeType||(c=i+a),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===s&&(o=i),m===l&&++u===a&&(c=i),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}r=-1===o||-1===c?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(es={focusedElem:e,selectionRange:r},Vt=!1,Qi=t;null!==Qi;)if(e=(t=Qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qi=e;else for(;null!==Qi;){t=Qi;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,g=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:ti(t.type,f),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(n(163))}}catch(j){Nc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Qi=e;break}Qi=t.return}x=eo,eo=!1}(e,r),fo(r,e),ma(es),Vt=!!Xa,es=Xa=null,e.current=r,yo(r,e,s),Ye(),Eo=o,bt=i,Co.transition=l}else e.current=r;if(Go&&(Go=!1,$o=e,Jo=s),l=e.pendingLanes,0===l&&(Ko=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,Qe()),null!==t)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(Vo)throw Vo=!1,e=Wo,Wo=null,e;0!==(1&Jo)&&0!==e.tag&&wc(),l=e.pendingLanes,0!==(1&l)?e===Qo?Yo++:(Yo=0,Qo=e):Yo=0,Bs()}(e,t,r,a)}finally{Co.transition=s,bt=a}return null}function wc(){if(null!==$o){var e=vt(Jo),t=Co.transition,r=bt;try{if(Co.transition=null,bt=16>e?16:e,null===$o)var a=!1;else{if(e=$o,$o=null,Jo=0,0!==(6&Eo))throw Error(n(331));var s=Eo;for(Eo|=4,Qi=e.current;null!==Qi;){var l=Qi,i=l.child;if(0!==(16&Qi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Qi=d;null!==Qi;){var u=Qi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var h=u.child;if(null!==h)h.return=u,Qi=h;else for(;null!==Qi;){var m=(u=Qi).sibling,p=u.return;if(so(u),u===d){Qi=null;break}if(null!==m){m.return=p,Qi=m;break}Qi=p}}}var x=l.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}Qi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Qi=i;else e:for(;null!==Qi;){if(0!==(2048&(l=Qi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Qi=y;break e}Qi=l.return}}var b=e.current;for(Qi=b;null!==Qi;){var v=(i=Qi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Qi=v;else e:for(i=b;null!==Qi;){if(0!==(2048&(o=Qi).flags))try{switch(o.tag){case 0:case 11:case 15:ro(9,o)}}catch(w){Nc(o,o.return,w)}if(o===i){Qi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Qi=j;break e}Qi=o.return}}if(Eo=s,Bs(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(st,e)}catch(w){}a=!0}return a}finally{bt=r,Co.transition=t}}return!1}function kc(e,t,r){e=qn(e,t=hi(0,t=oi(r,t),1),1),t=ec(),null!==e&&(gt(e,1,t),ac(e,t))}function Nc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Ko||!Ko.has(a))){t=qn(t,e=mi(t,e=oi(r,e),1),1),e=ec(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function _c(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Oo===e&&(Po&r)===r&&(4===Ro||3===Ro&&(130023424&Po)===Po&&500>Qe()-Bo?hc(e,0):Io|=r),ac(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Rn(e,t))&&(gt(e,t,r),ac(e,r))}function Cc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}null!==a&&a.delete(t),Sc(e,r)}function Oc(e,t){return Ge(e,t)}function Ac(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,r,a){return new Ac(e,t,r,a)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var r=e.alternate;return null===r?((r=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rc(e,t,r,a,s,l){var i=2;if(a=e,"function"===typeof e)Tc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Mc(r.children,s,l,t);case N:i=8,s|=8;break;case _:return(e=Pc(12,r,t,2|s)).elementType=_,e.lanes=l,e;case O:return(e=Pc(13,r,t,s)).elementType=O,e.lanes=l,e;case A:return(e=Pc(19,r,t,s)).elementType=A,e.lanes=l,e;case L:return Dc(r,s,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case C:i=9;break e;case E:i=11;break e;case P:i=14;break e;case T:i=16,a=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=Pc(i,r,t,s)).elementType=e,t.type=a,t.lanes=l,t}function Mc(e,t,r,a){return(e=Pc(7,e,a,t)).lanes=r,e}function Dc(e,t,r,a){return(e=Pc(22,e,a,t)).elementType=L,e.lanes=r,e.stateNode={isHidden:!1},e}function Fc(e,t,r){return(e=Pc(6,e,null,t)).lanes=r,e}function Ic(e,t,r){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,a,s,n,l,i,o){return e=new qc(e,t,r,i,o),1===t?(t=1,!0===n&&(t|=8)):t=0,n=Pc(3,null,null,t),e.current=n,n.stateNode=e,n.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dn(n),e}function Bc(e){if(!e)return Ss;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var r=e.type;if(Ps(r))return Rs(e,r,t)}return t}function zc(e,t,r,a,s,n,l,i,o){return(e=Uc(r,a,!0,e,0,n,0,i,o)).context=Bc(null),r=e.current,(n=In(a=ec(),s=tc(r))).callback=void 0!==t&&null!==t?t:null,qn(r,n,s),e.current.lanes=s,gt(e,s,a),ac(e,a),e}function Hc(e,t,r,a){var s=t.current,n=ec(),l=tc(s);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=In(n,l)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=qn(s,t,l))&&(rc(e,s,l,n),Un(e,s,l)),l}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}ko=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Es.current)yi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yi=!1,function(e,t,r){switch(t.tag){case 3:Ei(t),mn();break;case 5:Qn(t);break;case 1:Ps(t.type)&&Ms(t);break;case 4:Jn(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;_s(wn,a._currentValue),a._currentValue=s;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(_s(Xn,1&Xn.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Di(e,t,r):(_s(Xn,1&Xn.current),null!==(e=Hi(e,t,r))?e.sibling:null);_s(Xn,1&Xn.current);break;case 19:if(a=0!==(r&t.childLanes),0!==(128&e.flags)){if(a)return Bi(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Xn,Xn.current),a)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,r)}return Hi(e,t,r)}(e,t,r);yi=0!==(131072&e.flags)}else yi=!1,an&&0!==(1048576&t.flags)&&Zs(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;zi(e,t),e=t.pendingProps;var s=As(t,Cs.current);On(t,r),s=xl(null,t,a,e,s,r);var l=fl();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(a)?(l=!0,Ms(t)):l=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Dn(t),s.updater=ai,t.stateNode=s,s._reactInternals=t,ii(t,a,e,r),t=Ci(null,t,a,!0,l,r)):(t.tag=0,an&&l&&Xs(t),bi(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(zi(e,t),e=t.pendingProps,a=(s=a._init)(a._payload),t.type=a,s=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(a),e=ti(a,e),s){case 0:t=_i(null,t,a,e,r);break e;case 1:t=Si(null,t,a,e,r);break e;case 11:t=vi(null,t,a,e,r);break e;case 14:t=ji(null,t,a,ti(a.type,e),r);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,_i(e,t,a,s=t.elementType===a?s:ti(a,s),r);case 1:return a=t.type,s=t.pendingProps,Si(e,t,a,s=t.elementType===a?s:ti(a,s),r);case 3:e:{if(Ei(t),null===e)throw Error(n(387));a=t.pendingProps,s=(l=t.memoizedState).element,Fn(e,t),zn(t,a,null,r);var i=t.memoizedState;if(a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Oi(e,t,a,r,s=oi(Error(n(423)),t));break e}if(a!==s){t=Oi(e,t,a,r,s=oi(Error(n(424)),t));break e}for(rn=os(t.stateNode.containerInfo.firstChild),tn=t,an=!0,sn=null,r=jn(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(mn(),a===s){t=Hi(e,t,r);break e}bi(e,t,a,r)}t=t.child}return t;case 5:return Qn(t),null===e&&cn(t),a=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,i=s.children,ts(a,s)?i=null:null!==l&&ts(a,l)&&(t.flags|=32),Ni(e,t),bi(e,t,i,r),t.child;case 6:return null===e&&cn(t),null;case 13:return Di(e,t,r);case 4:return Jn(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=vn(t,null,a,r):bi(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,vi(e,t,a,s=t.elementType===a?s:ti(a,s),r);case 7:return bi(e,t,t.pendingProps,r),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,_s(wn,a._currentValue),a._currentValue=i,null!==l)if(la(l.value,i)){if(l.children===s.children&&!Es.current){t=Hi(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===l.tag){(c=In(-1,r&-r)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,null!==(c=l.alternate)&&(c.lanes|=r),En(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(n(341));i.lanes|=r,null!==(o=i.alternate)&&(o.lanes|=r),En(i,r,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}bi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,On(t,r),a=a(s=An(s)),t.flags|=1,bi(e,t,a,r),t.child;case 14:return s=ti(a=t.type,t.pendingProps),ji(e,t,a,s=ti(a.type,s),r);case 15:return wi(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:ti(a,s),zi(e,t),t.tag=1,Ps(a)?(e=!0,Ms(t)):e=!1,On(t,r),ni(t,a,s),ii(t,a,s,r),Ci(null,t,a,!0,e,r);case 19:return Bi(e,t,r);case 22:return ki(e,t,r)}throw Error(n(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Xc(e,t,r,a,s){var n=r._reactRootContainer;if(n){var l=n;if("function"===typeof s){var i=s;s=function(){var e=Vc(l);i.call(e)}}Hc(t,l,e,s)}else l=function(e,t,r,a,s){if(s){if("function"===typeof a){var n=a;a=function(){var e=Vc(l);n.call(e)}}var l=zc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=l,e[ms]=l.current,Ba(8===e.nodeType?e.parentNode:e),dc(),l}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof a){var i=a;a=function(){var e=Vc(o);i.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=o,e[ms]=o.current,Ba(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,o,r,a)}),o}(r,t,e,s,a);return Vc(l)}Jc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));Hc(e,t,null,null)},Jc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[ms]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lt.length&&0!==t&&t<Lt[r].priority;r++);Lt.splice(r,0,e),0===r&&Ft(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),ac(t,Qe()),0===(6&Eo)&&(zo=Qe()+500,Bs()))}break;case 13:dc(function(){var t=Rn(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Kc(e,1)}},wt=function(e){if(13===e.tag){var t=Rn(e,134217728);if(null!==t)rc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),r=Rn(e,t);if(null!==r)rc(r,e,t,ec());Kc(e,t)}},Nt=function(){return bt},_t=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},we=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=vs(a);if(!s)throw Error(n(90));G(a),Z(a,s)}}}break;case"textarea":ne(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Oe=dc;var ed={usingClientEntryPoint:!1,Events:[ys,bs,vs,Se,Ce,cc]},td={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{st=ad.inject(rd),nt=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(n(200));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Yc(e))throw Error(n(299));var r=!1,a="",s=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,a,s),e[ms]=t.current,Ba(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(n(200));return Xc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Yc(e))throw Error(n(405));var a=null!=r&&r.hydratedSources||null,s=!1,l="",i=Gc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(l=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=zc(t,null,e,1,null!=r?r:null,s,0,l,i),e[ms]=t.current,Ba(e),a)for(e=0;e<a.length;e++)s=(s=(r=a[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(n(200));return Xc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(n(40));return!!e._reactRootContainer&&(dc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Qc(r))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return Xc(e,t,r,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var a=r(5193),s=r(2761),n=Object.prototype,l=n.hasOwnProperty,i=n.propertyIsEnumerable,o=a(function(){return arguments}())?a:function(e){return s(e)&&l.call(e,"callee")&&!i.call(e,"callee")};e.exports=o},2823:function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)},n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),s=0;for(t=0;t<r;t++)for(var n=arguments[t],l=0,i=n.length;l<i;l++,s++)a[s]=n[l];return a},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=l(r(5043)),o=l(r(7950)),c=l(r(9853)),d=l(r(7680)),u=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,a,s){var n,l,i,o;"text-change"===e?null===(l=(n=r).onEditorChangeText)||void 0===l||l.call(n,r.editor.root.innerHTML,t,s,r.unprivilegedEditor):"selection-change"===e&&(null===(o=(i=r).onEditorChangeSelection)||void 0===o||o.call(i,t,s,r.unprivilegedEditor))};var a=r.isControlled()?t.value:t.defaultValue;return r.value=null!==a&&void 0!==a?a:"",r}return a(t,e),t.prototype.validateProps=function(e){var t;if(i.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(e.children)&&"textarea"===(null===(t=i.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,a=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var s=this.getEditorContents(),l=null!==(r=e.value)&&void 0!==r?r:"";this.isEqualValue(l,s)||this.setEditorContents(this.editor,l)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),n(this.cleanProps,this.dirtyProps).some(function(t){return!c.default(e[t],a.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(r){return!c.default(e[r],t.props[r])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var a=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var n=this.regenerationSnapshot,l=(a=n.delta,n.selection);delete this.regenerationSnapshot,this.instantiateEditor();var i=this.editor;i.setContents(a),h(function(){return r.setEditorSelection(i,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var a=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),h(function(){return r.setEditorSelection(e,a)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,a;(null===(a=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===a?void 0:a.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=o.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,a=t.preserveWhitespace,n={key:this.state.generation,ref:function(t){e.editingArea=t}};return i.default.Children.count(r)?i.default.cloneElement(i.default.Children.only(r),n):a?i.default.createElement("pre",s({},n)):i.default.createElement("div",s({},n))},t.prototype.render=function(){var e;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,a){var s,n;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=l,null===(n=(s=this.props).onChange)||void 0===n||n.call(s,e,t,r,a))}},t.prototype.onEditorChangeSelection=function(e,t,r){var a,s,n,l,i,o;if(this.editor){var d=this.getEditorSelection(),u=!d&&e,h=d&&!e;c.default(e,d)||(this.selection=e,null===(s=(a=this.props).onChangeSelection)||void 0===s||s.call(a,e,t,r),u?null===(l=(n=this.props).onFocus)||void 0===l||l.call(n,e,t,r):h&&(null===(o=(i=this.props).onBlur)||void 0===o||o.call(i,d,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(i.default.Component);function h(e){Promise.resolve().then(e)}e.exports=u},2929:(e,t,r)=>{var a=r(6552).Uint8Array;e.exports=a},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3204:(e,t,r)=>{var a=r(3343),s=r(2777),n=r(4052),l=r(4543),i=r(9194),o=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=n(e),d=!r&&s(e),u=!r&&!d&&l(e),h=!r&&!d&&!u&&o(e),m=r||d||u||h,p=m?a(e.length,String):[],x=p.length;for(var f in e)!t&&!c.call(e,f)||m&&("length"==f||u&&("offset"==f||"parent"==f)||h&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||i(f,x))||p.push(f);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3343:e=>{e.exports=function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}},3440:(e,t,r)=>{var a=r(6552)["__core-js_shared__"];e.exports=a},3668:(e,t,r)=>{var a=r(8902),s=r(2587),n=r(8114);e.exports=function(e,t,r,l,i,o){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=o.get(e),m=o.get(t);if(h&&m)return h==t&&m==e;var p=-1,x=!0,f=2&r?new a:void 0;for(o.set(e,t),o.set(t,e);++p<d;){var g=e[p],y=t[p];if(l)var b=c?l(y,g,p,t,e,o):l(g,y,p,e,t,o);if(void 0!==b){if(b)continue;x=!1;break}if(f){if(!s(t,function(e,t){if(!n(f,t)&&(g===e||i(g,e,r,l,o)))return f.push(t)})){x=!1;break}}else if(g!==y&&!i(g,y,r,l,o)){x=!1;break}}return o.delete(e),o.delete(t),x}},3713:(e,t,r)=>{var a=r(6140),s=r(1143),n=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return s(e);var t=[];for(var r in Object(e))n.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}},4190:(e,t,r)=>{var a=r(1340);e.exports=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function g(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,x(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,a){var s,n={},l=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)w.call(t,s)&&!N.hasOwnProperty(s)&&(n[s]=t[s]);var o=arguments.length-2;if(1===o)n.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===n[s]&&(n[s]=o[s]);return{$$typeof:r,type:e,key:l,ref:i,props:n,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,s,n,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case r:case a:o=!0}}if(o)return l=l(o=e),e=""===n?"."+E(o,0):n,j(l)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),O(l,t,s,"",function(e){return e})):null!=l&&(S(l)&&(l=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,s+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,n=""===n?".":n+":",j(e))for(var c=0;c<e.length;c++){var d=n+E(i=e[c],c);o+=O(i,t,s,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=O(i=i.value,t,s,d=n+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function A(e,t,r){if(null==e)return e;var a=[],s=0;return O(e,a,"","",function(e){return t.call(r,e,s++)}),a}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},L={transition:null},R={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=l,t.PureComponent=b,t.StrictMode=n,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=M,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=x({},e.props),n=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=k.current),void 0!==t.key&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!N.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:r,type:e.type,key:n,ref:l,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,r){return T.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,r){return T.current.useReducer(e,t,r)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return T.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4262:(e,t,r)=>{var a=r(8895),s=r(4052);e.exports=function(e,t,r){var n=t(e);return s(e)?n:a(n,r(e))}},4391:(e,t,r)=>{"use strict";var a=r(7950);t.H=a.createRoot,a.hydrateRoot},4543:(e,t,r)=>{e=r.nmd(e);var a=r(6552),s=r(14),n=t&&!t.nodeType&&t,l=n&&e&&!e.nodeType&&e,i=l&&l.exports===n?a.Buffer:void 0,o=(i?i.isBuffer:void 0)||s;e.exports=o},4545:(e,t,r)=>{var a=r(7160);e.exports=function(){this.__data__=new a,this.size=0}},4552:(e,t,r)=>{var a=r(9812),s=Object.prototype,n=s.hasOwnProperty,l=s.toString,i=a?a.toStringTag:void 0;e.exports=function(e){var t=n.call(e,i),r=e[i];try{e[i]=void 0;var a=!0}catch(o){}var s=l.call(e);return a&&(t?e[i]=r:delete e[i]),s}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4816:(e,t,r)=>{var a=r(7251),s=r(7159),n=r(438),l=r(9394),i=r(6874);function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=s,o.prototype.get=n,o.prototype.has=l,o.prototype.set=i,e.exports=o},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5193:(e,t,r)=>{var a=r(6913),s=r(2761);e.exports=function(e){return s(e)&&"[object Arguments]"==a(e)}},5204:(e,t,r)=>{var a=r(7937)(r(6552),"Map");e.exports=a},5387:(e,t,r)=>{var a=r(7937)(r(6552),"Promise");e.exports=a},5428:(e,t,r)=>{var a=r(6913),s=r(6173),n=r(2761),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=function(e){return n(e)&&s(e.length)&&!!l[a(e)]}},5538:(e,t,r)=>{var a=r(7160),s=r(4545),n=r(793),l=r(7760),i=r(3892),o=r(6788);function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=s,c.prototype.delete=n,c.prototype.get=l,c.prototype.has=i,c.prototype.set=o,e.exports=c},5575:(e,t,r)=>{var a=r(7937)(Object,"create");e.exports=a},5752:(e,t,r)=>{var a=r(9395),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,n,l,i){var o=1&r,c=a(e),d=c.length;if(d!=a(t).length&&!o)return!1;for(var u=d;u--;){var h=c[u];if(!(o?h in t:s.call(t,h)))return!1}var m=i.get(e),p=i.get(t);if(m&&p)return m==t&&p==e;var x=!0;i.set(e,t),i.set(t,e);for(var f=o;++u<d;){var g=e[h=c[u]],y=t[h];if(n)var b=o?n(y,g,h,t,e,i):n(g,y,h,e,t,i);if(!(void 0===b?g===y||l(g,y,r,n,i):b)){x=!1;break}f||(f="constructor"==h)}if(x&&!f){var v=e.constructor,j=t.constructor;v==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof j&&j instanceof j||(x=!1)}return i.delete(e),i.delete(t),x}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6399:(e,t,r)=>{var a=r(5538),s=r(3668),n=r(9987),l=r(5752),i=r(6924),o=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",h="[object Array]",m="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,x,f,g){var y=o(e),b=o(t),v=y?h:i(e),j=b?h:i(t),w=(v=v==u?m:v)==m,k=(j=j==u?m:j)==m,N=v==j;if(N&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(N&&!w)return g||(g=new a),y||d(e)?s(e,t,r,x,f,g):n(e,t,v,r,x,f,g);if(!(1&r)){var _=w&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(_||S){var C=_?e.value():e,E=S?t.value():t;return g||(g=new a),f(C,E,r,x,g)}}return!!N&&(g||(g=new a),l(e,t,r,x,f,g))}},6552:(e,t,r)=>{var a=r(7105),s="object"==typeof self&&self&&self.Object===Object&&self,n=a||s||Function("return this")();e.exports=n},6571:(e,t,r)=>{var a=r(1629),s=r(6173);e.exports=function(e){return null!=e&&s(e.length)&&!a(e)}},6600:(e,t,r)=>{var a=r(7937)(r(6552),"WeakMap");e.exports=a},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,r)=>{var a=r(7160),s=r(5204),n=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof a){var l=r.__data__;if(!s||l.length<199)return l.push([e,t]),this.size=++r.size,this;r=this.__data__=new n(l)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var a=r(7105),s=t&&!t.nodeType&&t,n=s&&e&&!e.nodeType&&e,l=n&&n.exports===s&&a.process,i=function(){try{var e=n&&n.require&&n.require("util").types;return e||l&&l.binding&&l.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,r)=>{var a=r(2622);e.exports=function(e,t){var r=a(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}},6913:(e,t,r)=>{var a=r(9812),s=r(4552),n=r(6095),l=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?s(e):n(e)}},6924:(e,t,r)=>{var a=r(7685),s=r(5204),n=r(5387),l=r(2070),i=r(6600),o=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",h="[object Set]",m="[object WeakMap]",p="[object DataView]",x=c(a),f=c(s),g=c(n),y=c(l),b=c(i),v=o;(a&&v(new a(new ArrayBuffer(1)))!=p||s&&v(new s)!=d||n&&v(n.resolve())!=u||l&&v(new l)!=h||i&&v(new i)!=m)&&(v=function(e){var t=o(e),r="[object Object]"==t?e.constructor:void 0,a=r?c(r):"";if(a)switch(a){case x:return p;case f:return d;case g:return u;case y:return h;case b:return m}return t}),e.exports=v},6954:(e,t,r)=>{var a=r(1629),s=r(7857),n=r(6686),l=r(6996),i=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!n(e)||s(e))&&(a(e)?h:i).test(l(e))}},6989:(e,t,r)=>{var a=r(6399),s=r(2761);e.exports=function e(t,r,n,l,i){return t===r||(null==t||null==r||!s(t)&&!s(r)?t!==t&&r!==r:a(t,r,n,l,e,i))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7105:(e,t,r)=>{var a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=a},7159:(e,t,r)=>{var a=r(2622);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var a=r(7563),s=r(9935),n=r(4190),l=r(1946),i=r(1714);function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=s,o.prototype.get=n,o.prototype.has=l,o.prototype.set=i,e.exports=o},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,s=e[a];if(!(0<n(s,t)))break e;e[a]=t,e[r]=s,r=a}}function a(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,s=e.length,l=s>>>1;a<l;){var i=2*(a+1)-1,o=e[i],c=i+1,d=e[c];if(0>n(o,r))c<s&&0>n(d,o)?(e[a]=d,e[c]=r,a=c):(e[a]=o,e[i]=r,a=i);else{if(!(c<s&&0>n(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,h=null,m=3,p=!1,x=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=a(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,r(c,t)}t=a(d)}}function j(e){if(f=!1,v(e),!x)if(null!==a(c))x=!0,L(w);else{var t=a(d);null!==t&&R(j,t.startTime-e)}}function w(e,r){x=!1,f&&(f=!1,y(S),S=-1),p=!0;var n=m;try{for(v(r),h=a(c);null!==h&&(!(h.expirationTime>r)||e&&!O());){var l=h.callback;if("function"===typeof l){h.callback=null,m=h.priorityLevel;var i=l(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?h.callback=i:h===a(c)&&s(c),v(r)}else s(c);h=a(c)}if(null!==h)var o=!0;else{var u=a(d);null!==u&&R(j,u.startTime-r),o=!1}return o}finally{h=null,m=n,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,_=null,S=-1,C=5,E=-1;function O(){return!(t.unstable_now()-E<C)}function A(){if(null!==_){var e=t.unstable_now();E=e;var r=!0;try{r=_(!0,e)}finally{r?k():(N=!1,_=null)}}else N=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=A,k=function(){T.postMessage(null)}}else k=function(){g(A,0)};function L(e){_=e,N||(N=!0,k())}function R(e,r){S=g(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,s,n){var l=t.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?l+n:l:n=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},n>l?(e.sortIndex=n,r(d,e),null===a(c)&&e===a(d)&&(f?(y(S),S=-1):f=!0,R(j,n-l))):(e.sortIndex=i,r(c,e),x||p||(x=!0,L(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},7251:(e,t,r)=>{var a=r(8724),s=r(7160),n=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(n||s),string:new a}}},7529:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length,s=0,n=[];++r<a;){var l=e[r];t(l,r,e)&&(n[s++]=l)}return n}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var a=r(5575);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},7680:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),s=r(18),n=r(19),l=r(45),i=r(46),o=r(47),c=r(48),d=r(49),u=r(12),h=r(32),m=r(33),p=r(31),x=r(1),f={Scope:x.Scope,create:x.create,find:x.find,query:x.query,register:x.register,Container:a.default,Format:s.default,Leaf:n.default,Embed:c.default,Scroll:l.default,Block:o.default,Inline:i.default,Text:d.default,Attributor:{Attribute:u.default,Class:h.default,Style:m.default,Store:p.default}};t.default=f},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return a(t,e),t}(Error);t.ParchmentError=s;var n,l={},i={},o={},c={};function d(e,t){var r;if(void 0===t&&(t=n.ANY),"string"===typeof e)r=c[e]||l[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"===typeof e)e&n.LEVEL&n.BLOCK?r=c.block:e&n.LEVEL&n.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var a=(e.getAttribute("class")||"").split(/\s+/);for(var s in a)if(r=i[a[s]])break;r=r||o[e.tagName]}return null==r?null:t&n.LEVEL&r.scope&&t&n.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(n=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new s("Unable to create "+e+" blot");var a=r,n=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(t);return new a(n,t)},t.find=function e(r,a){return void 0===a&&(a=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:a?e(r.parentNode,a):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map(function(t){return e(t)});var a=t[0];if("string"!==typeof a.blotName&&"string"!==typeof a.attrName)throw new s("Invalid definition");if("abstract"===a.blotName)throw new s("Cannot register abstract class");return c[a.blotName||a.attrName]=a,"string"===typeof a.keyName?l[a.keyName]=a:(null!=a.className&&(i[a.className]=a),null!=a.tagName&&(Array.isArray(a.tagName)?a.tagName=a.tagName.map(function(e){return e.toUpperCase()}):a.tagName=a.tagName.toUpperCase(),(Array.isArray(a.tagName)?a.tagName:[a.tagName]).forEach(function(e){null!=o[e]&&null!=a.className||(o[e]=a)}))),a}},function(e,t,r){var a=r(51),s=r(11),n=r(3),l=r(20),i=String.fromCharCode(0),o=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};o.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},o.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},o.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},o.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=n(!0,{},e),"object"===typeof r){if("number"===typeof e.delete&&"number"===typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"===typeof r.delete&&null!=e.insert&&(t-=1,"object"!==typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(s(e.attributes,r.attributes)){if("string"===typeof e.insert&&"string"===typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},o.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},o.prototype.filter=function(e){return this.ops.filter(e)},o.prototype.forEach=function(e){this.ops.forEach(e)},o.prototype.map=function(e){return this.ops.map(e)},o.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(a){(e(a)?t:r).push(a)}),[t,r]},o.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},o.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+l.length(t):t.delete?e-t.delete:e},0)},o.prototype.length=function(){return this.reduce(function(e,t){return e+l.length(t)},0)},o.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var r=[],a=l.iterator(this.ops),s=0;s<t&&a.hasNext();){var n;s<e?n=a.next(e-s):(n=a.next(t-s),r.push(n)),s+=l.length(n)}return new o(r)},o.prototype.compose=function(e){var t=l.iterator(this.ops),r=l.iterator(e.ops),a=[],n=r.peek();if(null!=n&&"number"===typeof n.retain&&null==n.attributes){for(var i=n.retain;"insert"===t.peekType()&&t.peekLength()<=i;)i-=t.peekLength(),a.push(t.next());n.retain-i>0&&r.next(n.retain-i)}for(var c=new o(a);t.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===t.peekType())c.push(t.next());else{var d=Math.min(t.peekLength(),r.peekLength()),u=t.next(d),h=r.next(d);if("number"===typeof h.retain){var m={};"number"===typeof u.retain?m.retain=d:m.insert=u.insert;var p=l.attributes.compose(u.attributes,h.attributes,"number"===typeof u.retain);if(p&&(m.attributes=p),c.push(m),!r.hasNext()&&s(c.ops[c.ops.length-1],m)){var x=new o(t.rest());return c.concat(x).chop()}}else"number"===typeof h.delete&&"number"===typeof u.retain&&c.push(h)}return c.chop()},o.prototype.concat=function(e){var t=new o(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},o.prototype.diff=function(e,t){if(this.ops===e.ops)return new o;var r=[this,e].map(function(t){return t.map(function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:i;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),n=new o,c=a(r[0],r[1],t),d=l.iterator(this.ops),u=l.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case a.INSERT:r=Math.min(u.peekLength(),t),n.push(u.next(r));break;case a.DELETE:r=Math.min(t,d.peekLength()),d.next(r),n.delete(r);break;case a.EQUAL:r=Math.min(d.peekLength(),u.peekLength(),t);var i=d.next(r),o=u.next(r);s(i.insert,o.insert)?n.retain(r,l.attributes.diff(i.attributes,o.attributes)):n.push(o).delete(r)}t-=r}}),n.chop()},o.prototype.eachLine=function(e,t){t=t||"\n";for(var r=l.iterator(this.ops),a=new o,s=0;r.hasNext();){if("insert"!==r.peekType())return;var n=r.peek(),i=l.length(n)-r.peekLength(),c="string"===typeof n.insert?n.insert.indexOf(t,i)-i:-1;if(c<0)a.push(r.next());else if(c>0)a.push(r.next(c));else{if(!1===e(a,r.next(1).attributes||{},s))return;s+=1,a=new o}}a.length()>0&&e(a,{},s)},o.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var r=l.iterator(this.ops),a=l.iterator(e.ops),s=new o;r.hasNext()||a.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===a.peekType())if("insert"===a.peekType())s.push(a.next());else{var n=Math.min(r.peekLength(),a.peekLength()),i=r.next(n),c=a.next(n);if(i.delete)continue;c.delete?s.push(c):s.retain(n,l.attributes.transform(i.attributes,c.attributes,t))}else s.retain(l.length(r.next()));return s.chop()},o.prototype.transformPosition=function(e,t){t=!!t;for(var r=l.iterator(this.ops),a=0;r.hasNext()&&a<=e;){var s=r.peekLength(),n=r.peekType();r.next(),"delete"!==n?("insert"===n&&(a<e||!t)&&(e+=s),a+=s):e-=Math.min(s,e-a)}return e},e.exports=o},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,n=Object.getOwnPropertyDescriptor,l=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},i=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,s=r.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!s&&!n)return!1;for(t in e);return"undefined"===typeof t||r.call(e,t)},o=function(e,t){s&&"__proto__"===t.name?s(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(n)return n(e,t).value}return e[t]};e.exports=function e(){var t,r,a,s,n,d,u=arguments[0],h=1,m=arguments.length,p=!1;for("boolean"===typeof u&&(p=u,u=arguments[1]||{},h=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});h<m;++h)if(null!=(t=arguments[h]))for(r in t)a=c(u,r),u!==(s=c(t,r))&&(p&&s&&(i(s)||(n=l(s)))?(n?(n=!1,d=a&&l(a)?a:[]):d=a&&i(a)?a:{},o(u,{name:r,newValue:e(p,d,s)})):"undefined"!==typeof s&&o(u,{name:r,newValue:s}));return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=u(r(3)),l=u(r(2)),i=u(r(0)),o=u(r(16)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),a(t,[{key:"attach",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new l.default).insert(this.value(),(0,n.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=i.default.query(e,i.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,a){this.format(r,a)}},{key:"insertAt",value:function(e,r,a){if("string"===typeof r&&r.endsWith("\n")){var n=i.default.create(f.blotName);this.parent.insertBefore(n,0===e?this:this.next),n.insertAt(0,r.slice(0,-1))}else s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a)}}]),t}(i.default.Embed);x.scope=i.default.Scope.BLOCK_BLOT;var f=function(e){function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return p(t,e),a(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),g(t))},new l.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,a,n){r<=0||(i.default.query(a,i.default.Scope.BLOCK)?e+r===this.length()&&this.format(a,n):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),a,n),this.cache={})}},{key:"insertAt",value:function(e,r,a){if(null!=a)return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a);if(0!==r.length){var n=r.split("\n"),l=n.shift();l.length>0&&(e<this.length()-1||null==this.children.tail?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});var i=this;n.reduce(function(e,t){return(i=i.split(e,!0)).insertAt(0,t),t.length},e+l.length)}}},{key:"insertBefore",value:function(e,r){var a=this.children.head;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),a instanceof o.default&&a.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var a=this.clone();return 0===e?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},n}}]),t}(i.default.Block);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,n.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:g(e.parent,t))}f.blotName="block",f.tagName="P",f.defaultChild="break",f.allowedChildren=[c.default,i.default.Embed,d.default],t.bubbleFormats=g,t.BlockEmbed=x,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(50);var l=f(r(2)),i=f(r(14)),o=f(r(8)),c=f(r(9)),d=f(r(0)),u=r(15),h=f(u),m=f(r(3)),p=f(r(10)),x=f(r(34));function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,p.default)("quill"),b=function(){function e(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=v(t,a),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new o.default,this.scroll=d.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(o.default.events.EDITOR_CHANGE,function(e){e===o.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())}),this.emitter.on(o.default.events.SCROLL_UPDATE,function(e,t){var a=r.selection.lastRange,s=a&&0===a.length?a.index:void 0;j.call(r,function(){return r.editor.update(null,t,s)},e)});var n=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+s+"<p><br></p></div>");this.setContents(n),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return n(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),p.default.level(e)}},{key:"find",value:function(e){return e.__quill||d.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var s=e.attrName||e.blotName;"string"===typeof s?this.register("formats/"+s,e,t):Object.keys(e).forEach(function(a){r.register(a,e[a],t)})}else null==this.imports[e]||a||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?d.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),n(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var a=this,n=w(e,t,r),l=s(n,4);return e=l[0],t=l[1],r=l[3],j.call(this,function(){return a.editor.deleteText(e,t)},r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.default.sources.API;return j.call(this,function(){var a=r.getSelection(!0),s=new l.default;if(null==a)return s;if(d.default.query(e,d.default.Scope.BLOCK))s=r.editor.formatLine(a.index,a.length,g({},e,t));else{if(0===a.length)return r.selection.format(e,t),s;s=r.editor.formatText(a.index,a.length,g({},e,t))}return r.setSelection(a,o.default.sources.SILENT),s},a)}},{key:"formatLine",value:function(e,t,r,a,n){var l,i=this,o=w(e,t,r,a,n),c=s(o,4);return e=c[0],t=c[1],l=c[2],n=c[3],j.call(this,function(){return i.editor.formatLine(e,t,l)},n,e,0)}},{key:"formatText",value:function(e,t,r,a,n){var l,i=this,o=w(e,t,r,a,n),c=s(o,4);return e=c[0],t=c[1],l=c[2],n=c[3],j.call(this,function(){return i.editor.formatText(e,t,l)},n,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var a=this.container.getBoundingClientRect();return{bottom:r.bottom-a.top,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),a=s(r,2);return e=a[0],t=a[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),a=s(r,2);return e=a[0],t=a[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,a){var s=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return j.call(this,function(){return s.editor.insertEmbed(t,r,a)},n,t)}},{key:"insertText",value:function(e,t,r,a,n){var l,i=this,o=w(e,0,r,a,n),c=s(o,4);return e=c[0],l=c[2],n=c[3],j.call(this,function(){return i.editor.insertText(e,t,l)},n,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var a=this,n=w(e,t,r),l=s(n,4);return e=l[0],t=l[1],r=l[3],j.call(this,function(){return a.editor.removeFormat(e,t)},r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.sources.API;return j.call(this,function(){e=new l.default(e);var r=t.getLength(),a=t.editor.deleteText(0,r),s=t.editor.applyDelta(e),n=s.ops[s.ops.length-1];return null!=n&&"string"===typeof n.insert&&"\n"===n.insert[n.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),s.delete(1)),a.compose(s)},r)}},{key:"setSelection",value:function(t,r,a){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var n=w(t,r,a),l=s(n,4);t=l[0],r=l[1],a=l[3],this.selection.setRange(new u.Range(t,r),a),a!==o.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.sources.API,r=(new l.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.sources.API;return j.call(this,function(){return e=new l.default(e),t.editor.applyDelta(e,r)},r,!0)}}]),e}();function v(e,t){if((t=(0,m.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=x.default;var r=(0,m.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var a=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var r=b.import("modules/"+t);return null==r?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,m.default)(!0,{},b.DEFAULTS,{modules:a},r,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e},{}),t}function j(e,t,r,a){if(this.options.strict&&!this.isEnabled()&&t===o.default.sources.USER)return new l.default;var s=null==r?null:this.getSelection(),n=this.editor.delta,i=e();if(null!=s&&(!0===r&&(r=s.index),null==a?s=k(s,i,t):0!==a&&(s=k(s,r,a,t)),this.setSelection(s,o.default.sources.SILENT)),i.length()>0){var c,d,u=[o.default.events.TEXT_CHANGE,i,n,t];(c=this.emitter).emit.apply(c,[o.default.events.EDITOR_CHANGE].concat(u)),t!==o.default.sources.SILENT&&(d=this.emitter).emit.apply(d,u)}return i}function w(e,t,r,s,n){var l={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(n=s,s=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(n=s,s=r,r=t,t=0),"object"===("undefined"===typeof r?"undefined":a(r))?(l=r,n=s):"string"===typeof r&&(null!=s?l[r]=s:n=r),[e,t,l,n=n||o.default.sources.API]}function k(e,t,r,a){if(null==e)return null;var n=void 0,i=void 0;if(t instanceof l.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,a!==o.default.sources.USER)}),d=s(c,2);n=d[0],i=d[1]}else{var h=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&a===o.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)}),m=s(h,2);n=m[0],i=m[1]}return new u.Range(n,i-n)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=o.default.events,b.sources=o.default.sources,b.version="1.3.7",b.imports={delta:l.default,parchment:d.default,"core/module":c.default,"core/theme":x.default},t.expandConfig=v,t.overload=w,t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=i(r(7)),l=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"formatAt",value:function(e,r,a,n){if(t.compare(this.statics.blotName,a)<0&&l.default.query(a,l.default.Scope.BLOT)){var i=this.isolate(e,r);n&&i.wrap(a,n)}else s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,a,n)}},{key:"optimize",value:function(e){if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var a=t.order.indexOf(e),s=t.order.indexOf(r);return a>=0||s>=0?a-s:e===r?0:e<r?-1:1}}]),t}(l.default.Inline);o.allowedChildren=[o,l.default.Embed,n.default],o.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(0),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=s)&&a.__esModule?a:{default:a}).default.Text);t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=l(r(54));function l(e){return e&&e.__esModule?e:{default:e}}var i=(0,l(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)})})});var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",i.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"emit",value:function(){i.log.apply(i,arguments),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];(this.listeners[e.type]||[]).forEach(function(t){var a=t.node,s=t.handler;(e.target===a||a.contains(e.target))&&s.apply(void 0,[e].concat(r))})}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(n.default);o.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},o.sources={API:"api",SILENT:"silent",USER:"user"},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};a.DEFAULTS={},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=["error","warn","log","info"],s="warn";function n(e){if(a.indexOf(e)<=a.indexOf(s)){for(var t,r=arguments.length,n=Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];(t=console)[e].apply(t,n)}}function l(e){return a.reduce(function(t,r){return t[r]=n.bind(console,r,e),t},{})}n.level=l.level=function(e){s=e},t.default=l},function(e,t,r){var a=Array.prototype.slice,s=r(52),n=r(53),l=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var c,d;if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(n(e))return!!n(t)&&(e=a.call(e),t=a.call(t),l(e,t,r));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var u=s(e),h=s(t)}catch(m){return!1}if(u.length!=h.length)return!1;for(u.sort(),h.sort(),c=u.length-1;c>=0;c--)if(u[c]!=h[c])return!1;for(c=u.length-1;c>=0;c--)if(d=u[c],!l(e[d],t[d],r))return!1;return typeof e===typeof t}(e,t,r))};function i(e){return null===e||void 0===e}function o(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var s=a.Scope.TYPE&a.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&a.Scope.LEVEL|s:this.scope=a.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=a.query(e,a.Scope.BLOT&(this.scope|a.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=u(r(2)),i=u(r(0)),o=u(r(4)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(c.default);x.blotName="code",x.tagName="CODE";var f=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),s(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,r){return t.insert(r).insert("\n",e.formats())},new l.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var s=this.descendant(d.default,this.length()-1),l=a(s,1)[0];null!=l&&l.deleteAt(l.length()-1,1),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,a,s){if(0!==r&&null!=i.default.query(a,i.default.Scope.BLOCK)&&(a!==this.statics.blotName||s!==this.statics.formats(this.domNode))){var n=this.newlineIndex(e);if(!(n<0||n>=e+r)){var l=this.newlineIndex(e,!0)+1,o=n-l+1,c=this.isolate(l,o),d=c.next;c.format(a,s),d instanceof t&&d.formatAt(0,e-l+r-o,a,s)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var s=this.descendant(d.default,e),n=a(s,2),l=n[0],i=n[1];l.insertAt(i,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(i.default.create("text","\n")),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=i.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof i.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var r=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(o.default);f.blotName="code-block",f.tagName="PRE",f.TAB="  ",t.Code=x,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=g(r(2)),i=g(r(20)),o=g(r(0)),c=g(r(13)),d=g(r(24)),u=r(4),h=g(u),m=g(r(16)),p=g(r(21)),x=g(r(11)),f=g(r(3));function g(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return n(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var n=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var r=(0,p.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,p.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var a=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(a,t.attributes)}return e.push(t)},new l.default)}(e)).reduce(function(e,l){var c=l.retain||l.delete||l.insert.length||1,d=l.attributes||{};if(null!=l.insert){if("string"===typeof l.insert){var m=l.insert;m.endsWith("\n")&&r&&(r=!1,m=m.slice(0,-1)),e>=n&&!m.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,m);var p=t.scroll.line(e),x=s(p,2),g=x[0],y=x[1],b=(0,f.default)({},(0,u.bubbleFormats)(g));if(g instanceof h.default){var v=g.descendant(o.default.Leaf,y),j=s(v,1)[0];b=(0,f.default)(b,(0,u.bubbleFormats)(j))}d=i.default.attributes.diff(b,d)||{}}else if("object"===a(l.insert)){var w=Object.keys(l.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,l.insert[w])}n+=c}return Object.keys(d).forEach(function(r){t.scroll.formatAt(e,c,r,d[r])}),e+c},0),e.reduce(function(e,r){return"number"===typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new l.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(a).forEach(function(s){if(null==r.scroll.whitelist||r.scroll.whitelist[s]){var n=r.scroll.lines(e,Math.max(t,1)),l=t;n.forEach(function(t){var n=t.length();if(t instanceof c.default){var i=e-t.offset(r.scroll),o=t.newlineIndex(i+l)-i+1;t.formatAt(i,o,s,a[s])}else t.format(s,a[s]);l-=n})}}),this.scroll.optimize(),this.update((new l.default).retain(e).retain(t,(0,p.default)(a)))}},{key:"formatText",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(a).forEach(function(s){r.scroll.formatAt(e,t,s,a[s])}),this.update((new l.default).retain(e).retain(t,(0,p.default)(a)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new l.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],a=[];0===t?this.scroll.path(e).forEach(function(e){var t=s(e,1)[0];t instanceof h.default?r.push(t):t instanceof o.default.Leaf&&a.push(t)}):(r=this.scroll.lines(e,t),a=this.scroll.descendants(o.default.Leaf,e,t));var n=[r,a].map(function(e){if(0===e.length)return{};for(var t=(0,u.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=v((0,u.bubbleFormats)(r),t)}return t});return f.default.apply(f.default,n)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new l.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(a).forEach(function(s){r.scroll.formatAt(e,t.length,s,a[s])}),this.update((new l.default).retain(e).insert(t,(0,p.default)(a)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===h.default.blotName&&!(e.children.length>1)&&e.children.head instanceof m.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),a=this.scroll.line(e+t),n=s(a,2),i=n[0],o=n[1],d=0,u=new l.default;null!=i&&(d=i instanceof c.default?i.newlineIndex(o)-o+1:i.length()-o,u=i.delta().slice(o,o+d-1).insert("\n"));var h=this.getContents(e,t+d).diff((new l.default).insert(r).concat(u)),m=(new l.default).retain(e).concat(h);return this.applyDelta(m)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&o.default.find(t[0].target)){var s=o.default.find(t[0].target),n=(0,u.bubbleFormats)(s),i=s.offset(this.scroll),c=t[0].oldValue.replace(d.default.CONTENTS,""),h=(new l.default).insert(c),m=(new l.default).insert(s.value());e=(new l.default).retain(i).concat(h.diff(m,r)).reduce(function(e,t){return t.insert?e.insert(t.insert,n):e.push(t)},new l.default),this.delta=a.compose(e)}else this.delta=this.getDelta(),e&&(0,x.default)(a.compose(e),this.delta)||(e=a.diff(this.delta,r));return e}}]),e}();function v(e,t){return Object.keys(t).reduce(function(r,a){return null==e[a]||(t[a]===e[a]?r[a]=t[a]:Array.isArray(t[a])?t[a].indexOf(e[a])<0&&(r[a]=t[a].concat([e[a]])):r[a]=[t[a],e[a]]),r},{})}t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=c(r(0)),l=c(r(21)),i=c(r(11)),o=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=(0,c(r(10)).default)("quill:selection"),m=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.index=t,this.length=r},p=function(){function e(t,r){var a=this;u(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=n.default.create("cursor",this),this.lastRange=this.savedRange=new m(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){a.mouseDown||setTimeout(a.update.bind(a,o.default.sources.USER),1)}),this.emitter.on(o.default.events.EDITOR_CHANGE,function(e,t){e===o.default.events.TEXT_CHANGE&&t.length()>0&&a.update(o.default.sources.SILENT)}),this.emitter.on(o.default.events.SCROLL_BEFORE_UPDATE,function(){if(a.hasFocus()){var e=a.getNativeRange();null!=e&&e.start.node!==a.cursor.textNode&&a.emitter.once(o.default.events.SCROLL_UPDATE,function(){try{a.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}})}}),this.emitter.on(o.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var r=t.range,s=r.startNode,n=r.startOffset,l=r.endNode,i=r.endOffset;a.setNativeRange(s,n,l,i)}}),this.update(o.default.sources.SILENT)}return s(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(o.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!n.default.query(e,n.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var a=n.default.find(r.start.node,!1);if(null==a)return;if(a instanceof n.default.Leaf){var s=a.split(r.start.offset);a.parent.insertBefore(this.cursor,s)}else a.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var s=void 0,n=this.scroll.leaf(e),l=a(n,2),i=l[0],o=l[1];if(null==i)return null;var c=i.position(o,!0),d=a(c,2);s=d[0],o=d[1];var u=document.createRange();if(t>0){u.setStart(s,o);var h=this.scroll.leaf(e+t),m=a(h,2);if(i=m[0],o=m[1],null==i)return null;var p=i.position(o,!0),x=a(p,2);return s=x[0],o=x[1],u.setEnd(s,o),u.getBoundingClientRect()}var f="left",g=void 0;return s instanceof Text?(o<s.data.length?(u.setStart(s,o),u.setEnd(s,o+1)):(u.setStart(s,o-1),u.setEnd(s,o),f="right"),g=u.getBoundingClientRect()):(g=i.domNode.getBoundingClientRect(),o>0&&(f="right")),{bottom:g.top+g.height,height:g.height,left:g[f],right:g[f],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return h.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var s=r.map(function(e){var r=a(e,2),s=r[0],l=r[1],i=n.default.find(s,!0),o=i.offset(t.scroll);return 0===l?o:i instanceof n.default.Container?o+i.length():o+i.index(s,l)}),l=Math.min(Math.max.apply(Math,d(s)),this.scroll.length()-1),i=Math.min.apply(Math,[l].concat(d(s)));return new m(i,l-i)}},{key:"normalizeNative",value:function(e){if(!x(this.root,e.startContainer)||!e.collapsed&&!x(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r}),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],s=[],n=this.scroll.length();return r.forEach(function(e,r){e=Math.min(n-1,e);var l,i=t.scroll.leaf(e),o=a(i,2),c=o[0],d=o[1],u=c.position(d,0!==r),h=a(u,2);l=h[0],d=h[1],s.push(l,d)}),s.length<2&&(s=s.concat(s)),s}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var s=this.scroll.length()-1,n=this.scroll.line(Math.min(t.index,s)),l=a(n,1)[0],i=l;if(t.length>0){var o=this.scroll.line(Math.min(t.index+t.length,s));i=a(o,1)[0]}if(null!=l&&null!=i){var c=e.getBoundingClientRect();r.top<c.top?e.scrollTop-=c.top-r.top:r.bottom>c.bottom&&(e.scrollTop+=r.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h.info("setNativeRange",e,t,r,a),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var n=document.getSelection();if(null!=n)if(null!=e){this.hasFocus()||this.root.focus();var l=(this.getNativeRange()||{}).native;if(null==l||s||e!==l.startContainer||t!==l.startOffset||r!==l.endContainer||a!==l.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(a=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var i=document.createRange();i.setStart(e,t),i.setEnd(r,a),n.removeAllRanges(),n.addRange(i)}}else n.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.default.sources.API;if("string"===typeof t&&(r=t,t=!1),h.info("setRange",e),null!=e){var a=this.rangeToNative(e);this.setNativeRange.apply(this,d(a).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.sources.USER,t=this.lastRange,r=this.getRange(),s=a(r,2),n=s[0],c=s[1];if(this.lastRange=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,i.default)(t,this.lastRange)){var d;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var u,h=[o.default.events.SELECTION_CHANGE,(0,l.default)(this.lastRange),(0,l.default)(t),e];(d=this.emitter).emit.apply(d,[o.default.events.EDITOR_CHANGE].concat(h)),e!==o.default.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}}}]),e}();function x(e,t){try{t.parentNode}catch(r){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=m,t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"insertInto",value:function(e,r){0===e.children.length?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((a=l)&&a.__esModule?a:{default:a}).default.Embed);i.blotName="break",i.tagName="BR",t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(44),n=r(30),l=r(1),i=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return a(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var r=o(t);e.insertBefore(r,e.children.head||void 0)}catch(a){if(a instanceof l.ParchmentError)return;throw a}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,r){e.deleteAt(t,r)})},t.prototype.descendant=function(e,r){var a=this.children.find(r),s=a[0],n=a[1];return null==e.blotName&&e(s)||null!=e.blotName&&s instanceof e?[s,n]:s instanceof t?s.descendant(e,n):[null,-1]},t.prototype.descendants=function(e,r,a){void 0===r&&(r=0),void 0===a&&(a=Number.MAX_VALUE);var s=[],n=a;return this.children.forEachAt(r,a,function(r,a,l){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&s.push(r),r instanceof t&&(s=s.concat(r.descendants(e,a,n))),n-=l}),s},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,a){this.children.forEachAt(e,t,function(e,t,s){e.formatAt(t,s,r,a)})},t.prototype.insertAt=function(e,t,r){var a=this.children.find(e),s=a[0],n=a[1];if(s)s.insertAt(n,t,r);else{var i=null==r?l.create("text",t):l.create(t,r);this.appendChild(i)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new l.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(r){e.insertBefore(r,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=l.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var a=this.children.find(e,r),s=a[0],n=a[1],l=[[this,e]];return s instanceof t?l.concat(s.path(n,r)):(null!=s&&l.push([s,n]),l)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),function(e,a,s){e=e.split(a,t),r.appendChild(e)}),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,a=[],s=[];e.forEach(function(e){e.target===r.domNode&&"childList"===e.type&&(a.push.apply(a,e.addedNodes),s.push.apply(s,e.removedNodes))}),s.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=l.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}}),a.filter(function(e){return e.parentNode==r.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=l.find(e.nextSibling));var a=o(e);a.next==t&&null!=a.next||(null!=a.parent&&a.parent.removeChild(r),r.insertBefore(a,t||void 0))})},t}(n.default);function o(e){var t=l.find(e);if(null==t)try{t=l.create(e)}catch(r){t=l.create(l.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(12),n=r(31),l=r(17),i=r(1),o=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new n.default(r.domNode),r}return a(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=i.query(e);r instanceof s.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var a=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(a),a},t.prototype.update=function(t,r){var a=this;e.prototype.update.call(this,t,r),t.some(function(e){return e.target===a.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(r,a){var s=e.prototype.wrap.call(this,r,a);return s instanceof t&&s.statics.scope===this.statics.scope&&this.attributes.move(s),s},t}(l.default);t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(30),n=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=n.Scope.INLINE_BLOT,t}(s.default);t.default=l},function(e,t,r){var a=r(11),s=r(3),n={attributes:{compose:function(e,t,r){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var a=s(!0,{},t);for(var n in r||(a=Object.keys(a).reduce(function(e,t){return null!=a[t]&&(e[t]=a[t]),e},{})),e)void 0!==e[n]&&void 0===t[n]&&(a[n]=e[n]);return Object.keys(a).length>0?a:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(r,s){return a(e[s],t[s])||(r[s]=void 0===t[s]?null:t[s]),r},{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!==typeof e)return t;if("object"===typeof t){if(!r)return t;var a=Object.keys(t).reduce(function(r,a){return void 0===e[a]&&(r[a]=t[a]),r},{});return Object.keys(a).length>0?a:void 0}}},iterator:function(e){return new l(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function l(e){this.ops=e,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,a=n.length(t);if(e>=a-r?(e=a-r,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var s={};return t.attributes&&(s.attributes=t.attributes),"number"===typeof t.retain?s.retain=e:"string"===typeof t.insert?s.insert=t.insert.substr(r,e):s.insert=t.insert,s}return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?n.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),a=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(a)}return[]},e.exports=n},function(e,t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,a;try{t=Map}catch(i){t=function(){}}try{r=Set}catch(i){r=function(){}}try{a=Promise}catch(i){a=function(){}}function s(n,i,o,c,d){"object"===typeof i&&(o=i.depth,c=i.prototype,d=i.includeNonEnumerable,i=i.circular);var u=[],h=[],m="undefined"!=typeof Buffer;return"undefined"==typeof i&&(i=!0),"undefined"==typeof o&&(o=1/0),function n(o,p){if(null===o)return null;if(0===p)return o;var x,f;if("object"!=typeof o)return o;if(e(o,t))x=new t;else if(e(o,r))x=new r;else if(e(o,a))x=new a(function(e,t){o.then(function(t){e(n(t,p-1))},function(e){t(n(e,p-1))})});else if(s.__isArray(o))x=[];else if(s.__isRegExp(o))x=new RegExp(o.source,l(o)),o.lastIndex&&(x.lastIndex=o.lastIndex);else if(s.__isDate(o))x=new Date(o.getTime());else{if(m&&Buffer.isBuffer(o))return x=Buffer.allocUnsafe?Buffer.allocUnsafe(o.length):new Buffer(o.length),o.copy(x),x;e(o,Error)?x=Object.create(o):"undefined"==typeof c?(f=Object.getPrototypeOf(o),x=Object.create(f)):(x=Object.create(c),f=c)}if(i){var g=u.indexOf(o);if(-1!=g)return h[g];u.push(o),h.push(x)}for(var y in e(o,t)&&o.forEach(function(e,t){var r=n(t,p-1),a=n(e,p-1);x.set(r,a)}),e(o,r)&&o.forEach(function(e){var t=n(e,p-1);x.add(t)}),o){var b;f&&(b=Object.getOwnPropertyDescriptor(f,y)),b&&null==b.set||(x[y]=n(o[y],p-1))}if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(o);for(y=0;y<v.length;y++){var j=v[y];(!(k=Object.getOwnPropertyDescriptor(o,j))||k.enumerable||d)&&(x[j]=n(o[j],p-1),k.enumerable||Object.defineProperty(x,j,{enumerable:!1}))}}if(d){var w=Object.getOwnPropertyNames(o);for(y=0;y<w.length;y++){var k,N=w[y];(k=Object.getOwnPropertyDescriptor(o,N))&&k.enumerable||(x[N]=n(o[N],p-1),Object.defineProperty(x,N,{enumerable:!1}))}}return x}(n,o)}function n(e){return Object.prototype.toString.call(e)}function l(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return s.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},s.__objToStr=n,s.__isDate=function(e){return"object"===typeof e&&"[object Date]"===n(e)},s.__isArray=function(e){return"object"===typeof e&&"[object Array]"===n(e)},s.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===n(e)},s.__getRegExpFlags=l,s}();"object"===typeof e&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=m(r(0)),i=m(r(8)),o=r(4),c=m(o),d=m(r(16)),u=m(r(13)),h=m(r(25));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){return e instanceof c.default||e instanceof o.BlockEmbed}var x=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.emitter=r.emitter,Array.isArray(r.whitelist)&&(a.whitelist=r.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),a.domNode.addEventListener("DOMNodeInserted",function(){}),a.optimize(),a.enable(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var s=this.line(e),l=a(s,2),i=l[0],c=l[1],h=this.line(e+r),m=a(h,1)[0];if(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=m&&i!==m&&c>0){if(i instanceof o.BlockEmbed||m instanceof o.BlockEmbed)return void this.optimize();if(i instanceof u.default){var p=i.newlineIndex(i.length(),!0);if(p>-1&&(i=i.split(p+1))===m)return void this.optimize()}else if(m instanceof u.default){var x=m.newlineIndex(0);x>-1&&m.split(x+1)}var f=m.children.head instanceof d.default?null:m.children.head;i.moveChildren(m,f),i.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,a,s){(null==this.whitelist||this.whitelist[a])&&(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,a,s),this.optimize())}},{key:"insertAt",value:function(e,r,a){if(null==a||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==a||null==l.default.query(r,l.default.Scope.BLOCK)){var s=l.default.create(this.statics.defaultChild);this.appendChild(s),null==a&&r.endsWith("\n")&&(r=r.slice(0,-1)),s.insertAt(0,r,a)}else{var i=l.default.create(r,a);this.appendChild(i)}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===l.default.Scope.INLINE_BLOT){var a=l.default.create(this.statics.defaultChild);a.appendChild(e),e=a}n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(p,e)}},{key:"lines",value:function(){return function e(t,r,a){var s=[],n=a;return t.children.forEachAt(r,a,function(t,r,a){p(t)?s.push(t):t instanceof l.default.Container&&(s=s.concat(e(t,r,n))),n-=a}),s}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=i.default.sources.USER;"string"===typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,r,e),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,r,e)}}}]),t}(l.default.Scroll);x.blotName="scroll",x.className="ql-editor",x.tagName="DIV",x.defaultChild="block",x.allowedChildren=[c.default,o.BlockEmbed,h.default],t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=x(r(21)),i=x(r(11)),o=x(r(3)),c=x(r(2)),d=x(r(20)),u=x(r(0)),h=x(r(5)),m=x(r(10)),p=x(r(9));function x(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=(0,m.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.bindings={},Object.keys(a.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&a.options.bindings[t]&&a.addBinding(a.options.bindings[t])}),a.addBinding({key:t.keys.ENTER,shiftKey:null},N),a.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},j),a.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),a.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),a.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},k),a.addBinding({key:t.keys.DELETE},{collapsed:!1},k),a.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),a.listen(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"match",value:function(e,t){return t=C(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(r){return!!t[r]!==e[r]&&null!==t[r]})&&t.key===(e.which||e.keyCode)}}]),n(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=C(e);if(null==a||null==a.key)return g.warn("Attempted to add invalid keyboard binding",a);"function"===typeof t&&(t={handler:t}),"function"===typeof r&&(r={handler:r}),a=(0,o.default)(a,t,r),this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(r){if(!r.defaultPrevented){var n=r.which||r.keyCode,l=(e.bindings[n]||[]).filter(function(e){return t.match(r,e)});if(0!==l.length){var o=e.quill.getSelection();if(null!=o&&e.quill.hasFocus()){var c=e.quill.getLine(o.index),d=s(c,2),h=d[0],m=d[1],p=e.quill.getLeaf(o.index),x=s(p,2),f=x[0],g=x[1],y=0===o.length?[f,g]:e.quill.getLeaf(o.index+o.length),b=s(y,2),v=b[0],j=b[1],w=f instanceof u.default.Text?f.value().slice(0,g):"",k=v instanceof u.default.Text?v.value().slice(j):"",N={collapsed:0===o.length,empty:0===o.length&&h.length()<=1,format:e.quill.getFormat(o),offset:m,prefix:w,suffix:k};l.some(function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==N.format[e]}))return!1}else if("object"===a(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,i.default)(t.format[e],N.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix))&&!(null!=t.suffix&&!t.suffix.test(N.suffix))&&!0!==t.handler.call(e,o,N)})&&r.preventDefault()}}}})}}]),t}(p.default);function v(e,t){var r,a=e===b.keys.LEFT?"prefix":"suffix";return f(r={key:e,shiftKey:t,altKey:null},a,/^$/),f(r,"handler",function(r){var a=r.index;e===b.keys.RIGHT&&(a+=r.length+1);var n=this.quill.getLeaf(a);return!(s(n,1)[0]instanceof u.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,h.default.sources.USER):this.quill.setSelection(r.index-1,h.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,h.default.sources.USER):this.quill.setSelection(r.index+r.length+1,h.default.sources.USER),!1)}),r}function j(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),a=s(r,1)[0],n={};if(0===t.offset){var l=this.quill.getLine(e.index-1),i=s(l,1)[0];if(null!=i&&i.length()>1){var o=a.formats(),c=this.quill.getFormat(e.index-1,1);n=d.default.attributes.diff(o,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index-u,u,n,h.default.sources.USER),this.quill.focus()}}function w(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var a={},n=0,l=this.quill.getLine(e.index),i=s(l,1)[0];if(t.offset>=i.length()-1){var o=this.quill.getLine(e.index+1),c=s(o,1)[0];if(c){var u=i.formats(),m=this.quill.getFormat(e.index,1);a=d.default.attributes.diff(u,m)||{},n=c.length()}}this.quill.deleteText(e.index,r,h.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index+n-1,r,a,h.default.sources.USER)}}function k(e){var t=this.quill.getLines(e),r={};if(t.length>1){var a=t[0].formats(),s=t[t.length-1].formats();r=d.default.attributes.diff(s,a)||{}}this.quill.deleteText(e,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,h.default.sources.USER),this.quill.setSelection(e.index,h.default.sources.SILENT),this.quill.focus()}function N(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var a=Object.keys(t.format).reduce(function(e,r){return u.default.query(r,u.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e},{});this.quill.insertText(e.index,"\n",a,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==a[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],h.default.sources.USER))})}function _(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=u.default.query("code-block"),a=t.index,n=t.length,l=this.quill.scroll.descendant(r,a),i=s(l,2),o=i[0],c=i[1];if(null!=o){var d=this.quill.getIndex(o),m=o.newlineIndex(c,!0)+1,p=o.newlineIndex(d+c+n),x=o.domNode.textContent.slice(m,p).split("\n");c=0,x.forEach(function(t,s){e?(o.insertAt(m+c,r.TAB),c+=r.TAB.length,0===s?a+=r.TAB.length:n+=r.TAB.length):t.startsWith(r.TAB)&&(o.deleteAt(m+c,r.TAB.length),c-=r.TAB.length,0===s?a-=r.TAB.length:n-=r.TAB.length),c+=t.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(a,n,h.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],h.default.sources.USER)}}}function C(e){if("string"===typeof e||"number"===typeof e)return C({key:e});if("object"===("undefined"===typeof e?"undefined":a(e))&&(e=(0,l.default)(e,!1)),"string"===typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,h.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,h.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,h.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=s(t,2),a=r[0],n=r[1],l=(0,o.default)({},a.formats(),{list:"checked"}),i=(new c.default).retain(e.index).insert("\n",l).retain(a.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),a=s(r,2),n=a[0],l=a[1],i=(new c.default).retain(e.index).insert("\n",t.format).retain(n.length()-l-1).retain(1,{header:null});this.quill.updateContents(i,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,a=this.quill.getLine(e.index),n=s(a,2),l=n[0],i=n[1];if(i>r)return!0;var o=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(e.index," ",h.default.sources.USER),this.quill.history.cutoff();var d=(new c.default).retain(e.index-i).delete(r+1).retain(l.length()-2-i).retain(1,{list:o});this.quill.updateContents(d,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,h.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=s(t,2),a=r[0],n=r[1],l=(new c.default).retain(e.index+a.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(l,h.default.sources.USER)}},"embed left":v(b.keys.LEFT,!1),"embed left shift":v(b.keys.LEFT,!0),"embed right":v(b.keys.RIGHT,!1),"embed right shift":v(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=o(r(0)),i=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.selection=r,a.textNode=document.createTextNode(t.CONTENTS),a.domNode.appendChild(a.textNode),a._length=0,a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"value",value:function(){}}]),n(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var a=this,n=0;null!=a&&a.statics.scope!==l.default.Scope.BLOCK_BLOT;)n+=a.offset(a.parent),a=a.parent;null!=a&&(this._length=t.CONTENTS.length,a.optimize(),a.formatAt(n,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),s=void 0,n=void 0,o=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var c=[e,r.start.offset,r.end.offset];s=c[0],n=c[1],o=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var d=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof i.default?(s=this.next.domNode,this.next.insertAt(0,d),this.textNode.data=t.CONTENTS):(this.textNode.data=d,this.parent.insertBefore(l.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=n){var u=[n,o].map(function(e){return Math.max(0,Math.min(s.data.length,e-1))}),h=a(u,2);return n=h[0],o=h[1],{startNode:s,startOffset:n,endNode:s,endOffset:o}}}}},{key:"update",value:function(e,t){var r=this;if(e.some(function(e){return"characterData"===e.type&&e.target===r.textNode})){var a=this.restore();a&&(t.range=a)}}},{key:"value",value:function(){return""}}]),t}(l.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(0)),s=r(4),n=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default.Container);i.allowedChildren=[n.default,s.BlockEmbed,i],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(0),i=(a=l)&&a.__esModule?a:{default:a},o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"value",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):r}}]),t}(i.default.Attributor.Style),c=new i.default.Attributor.Class("color","ql-color",{scope:i.default.Scope.INLINE}),d=new o("color","color",{scope:i.default.Scope.INLINE});t.ColorAttributor=o,t.ColorClass=c,t.ColorStyle=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return o(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((a=l)&&a.__esModule?a:{default:a}).default);function o(e,t){var r=document.createElement("a");r.href=e;var a=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(a)>-1}i.blotName="link",i.tagName="A",i.SANITIZED_URL="about:blank",i.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=i,t.sanitize=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(23)),l=i(r(107));function i(e){return e&&e.__esModule?e:{default:e}}var o=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){r.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case n.default.keys.ENTER:r.togglePicker();break;case n.default.keys.ESCAPE:r.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return s(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",function(){t.selectItem(r,!0)}),r.addEventListener("keydown",function(e){switch(e.keyCode){case n.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case n.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=l.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+o,o+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(r){var a=e.buildItem(r);t.appendChild(a),!0===r.selected&&e.selectItem(a)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":a(Event))){var s=document.createEvent("Event");s.initEvent("change",!0,!0),this.select.dispatchEvent(s)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=g(r(0)),s=g(r(5)),n=r(4),l=g(n),i=g(r(16)),o=g(r(25)),c=g(r(24)),d=g(r(35)),u=g(r(6)),h=g(r(22)),m=g(r(7)),p=g(r(55)),x=g(r(42)),f=g(r(23));function g(e){return e&&e.__esModule?e:{default:e}}s.default.register({"blots/block":l.default,"blots/block/embed":n.BlockEmbed,"blots/break":i.default,"blots/container":o.default,"blots/cursor":c.default,"blots/embed":d.default,"blots/inline":u.default,"blots/scroll":h.default,"blots/text":m.default,"modules/clipboard":p.default,"modules/history":x.default,"modules/keyboard":f.default}),a.default.register(l.default,i.default,c.default,u.default,h.default,m.default),t.default=s.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=function(){function e(e){this.domNode=e,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new a.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return a.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,s){var n=this.isolate(e,t);if(null!=a.query(r,a.Scope.BLOT)&&s)n.wrap(r,s);else if(null!=a.query(r,a.Scope.ATTRIBUTE)){var l=a.create(this.statics.scope);n.wrap(l),l.format(r,s)}},e.prototype.insertAt=function(e,t,r){var s=null==r?a.create("text",t):a.create(t,r),n=this.split(e);this.parent.insertBefore(s,n)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[a.DATA_KEY]&&delete this.domNode[a.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"===typeof e?a.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"===typeof e?a.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),s=r(32),n=r(33),l=r(1),i=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=a.default.keys(this.domNode),r=s.default.keys(this.domNode),i=n.default.keys(this.domNode);t.concat(r).concat(i).forEach(function(t){var r=l.query(t,l.Scope.ATTRIBUTE);r instanceof a.default&&(e.attributes[r.attrName]=r)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(r){var a=t.attributes[r].value(t.domNode);e.format(r,a)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=e.attributes[r].value(e.domNode),t},{})},e}();t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();function s(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){s(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(s(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=n},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();function s(e){var t=e.split("-"),r=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[s(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[s(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[s(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return a(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();s.DEFAULTS={modules:{}},s.themes={default:s},t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=i(r(0)),l=i(r(7));function i(e){return e&&e.__esModule?e:{default:e}}var o="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(e){r.contentNode.appendChild(e)}),r.leftGuard=document.createTextNode(o),r.rightGuard=document.createTextNode(o),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,a=e.data.split(o).join("");if(e===this.leftGuard)if(this.prev instanceof l.default){var s=this.prev.length();this.prev.insertAt(s,a),t={startNode:this.prev.domNode,startOffset:s+a.length}}else r=document.createTextNode(a),this.parent.insertBefore(n.default.create(r),this),t={startNode:r,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof l.default?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(r=document.createTextNode(a),this.parent.insertBefore(n.default.create(r),this.next),t={startNode:r,startOffset:a.length}));return e.data=o,t}},{key:"update",value:function(e,t){var r=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var a=r.restore(e.target);a&&(t.range=a)}})}}]),t}(n.default.Embed);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var a,s=r(0),n=(a=s)&&a.__esModule?a:{default:a},l={scope:n.default.Scope.BLOCK,whitelist:["right","center","justify"]},i=new n.default.Attributor.Attribute("align","align",l),o=new n.default.Attributor.Class("align","ql-align",l),c=new n.default.Attributor.Style("align","text-align",l);t.AlignAttribute=i,t.AlignClass=o,t.AlignStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var a,s=r(0),n=(a=s)&&a.__esModule?a:{default:a},l=r(26),i=new n.default.Attributor.Class("background","ql-bg",{scope:n.default.Scope.INLINE}),o=new l.ColorAttributor("background","background-color",{scope:n.default.Scope.INLINE});t.BackgroundClass=i,t.BackgroundStyle=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var a,s=r(0),n=(a=s)&&a.__esModule?a:{default:a},l={scope:n.default.Scope.BLOCK,whitelist:["rtl"]},i=new n.default.Attributor.Attribute("direction","dir",l),o=new n.default.Attributor.Class("direction","ql-direction",l),c=new n.default.Attributor.Style("direction","direction",l);t.DirectionAttribute=i,t.DirectionClass=o,t.DirectionStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(0),i=(a=l)&&a.__esModule?a:{default:a},o={scope:i.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new i.default.Attributor.Class("font","ql-font",o),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"value",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(i.default.Attributor.Style),u=new d("font","font-family",o);t.FontStyle=u,t.FontClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var a,s=r(0),n=(a=s)&&a.__esModule?a:{default:a},l=new n.default.Attributor.Class("size","ql-size",{scope:n.default.Scope.INLINE,whitelist:["small","large","huge"]}),i=new n.default.Attributor.Style("size","font-size",{scope:n.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=l,t.SizeStyle=i},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=l(r(0)),n=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.lastRecorded=0,a.ignoreChange=!1,a.clear(),a.quill.on(n.default.events.EDITOR_CHANGE,function(e,t,r,s){e!==n.default.events.TEXT_CHANGE||a.ignoreChange||(a.options.userOnly&&s!==n.default.sources.USER?a.transform(t):a.record(t,r))}),a.quill.keyboard.addBinding({key:"Z",shortKey:!0},a.undo.bind(a)),a.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},a.redo.bind(a)),/Win/i.test(navigator.platform)&&a.quill.keyboard.addBinding({key:"Y",shortKey:!0},a.redo.bind(a)),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],n.default.sources.USER),this.ignoreChange=!1;var a=o(r[e]);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){var s=this.stack.undo.pop();r=r.compose(s.undo),e=s.redo.compose(e)}else this.lastRecorded=a;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(l(r(9)).default);function o(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=s.default.query(e,s.default.Scope.BLOCK)}))}(e)&&(r-=1),r}i.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=i,t.getLastChangeIndex=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=p(r(3)),l=p(r(2)),i=p(r(8)),o=p(r(23)),c=p(r(34)),d=p(r(59)),u=p(r(60)),h=p(r(28)),m=p(r(61));function p(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],v=[!1,"serif","monospace"],j=["1","2","3",!1],w=["small",!1,"large","huge"],k=function(e){function t(e,r){x(this,t);var a=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==a.tooltip||a.tooltip.root.contains(r.target)||document.activeElement===a.tooltip.textbox||a.quill.hasFocus()||a.tooltip.hide(),null!=a.pickers&&a.pickers.forEach(function(e){e.container.contains(r.target)||e.close()})}),a}return g(t,e),a(t,[{key:"addModule",value:function(e){var r=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"===typeof t[r])e.innerHTML=t[r];else{var a=e.value||"";null!=a&&t[r][a]&&(e.innerHTML=t[r][a])}})})}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&_(e,y),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&_(e,b,"background"===r?"#ffffff":"#000000"),new d.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?_(e,v):e.classList.contains("ql-header")?_(e,j):e.classList.contains("ql-size")&&_(e,w)),new h.default(e)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){r.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);k.DEFAULTS=(0,n.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var a=e.quill.getSelection(!0);e.quill.updateContents((new l.default).retain(a.index).delete(a.length).insert({image:r.target.result}),i.default.sources.USER),e.quill.setSelection(a.index+1,i.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(e){function t(e,r){x(this,t);var a=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.textbox=a.root.querySelector('input[type="text"]'),a.listen(),a}return g(t,e),a(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){o.default.match(t,"enter")?(e.save(),t.preventDefault()):o.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,i.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var r=this.quill.getSelection(!0);if(null!=r){var a=r.index+r.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),e,i.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(a+1," ",i.default.sources.USER),this.quill.setSelection(a+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(m.default);function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var a=document.createElement("option");t===r?a.setAttribute("selected","selected"):a.setAttribute("value",t),e.appendChild(a)})}t.BaseTooltip=N,t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,a=this.iterator();r=a();){var s=r.length();if(e<s||t&&e===s&&(null==r.next||0!==r.next.length()))return[r,e];e-=s}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var a,s=this.find(e),n=s[0],l=e-s[1],i=this.iterator(n);(a=i())&&l<e+t;){var o=a.length();e>l?r(a,e-l,Math.min(t,l+o-e)):r(a,0,Math.min(o,e+t-l)),l+=o}},e.prototype.map=function(e){return this.reduce(function(t,r){return t.push(e(r)),t},[])},e.prototype.reduce=function(e,t){for(var r,a=this.iterator();r=a();)t=e(t,r);return t},e}();t.default=a},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(17),n=r(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},i=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver(function(e){r.update(e)}),r.observer.observe(r.domNode,l),r.attach(),r}return a(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,a,s){this.update(),e.prototype.formatAt.call(this,t,r,a,s)},t.prototype.insertAt=function(t,r,a){this.update(),e.prototype.insertAt.call(this,t,r,a)},t.prototype.optimize=function(t,r){var a=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)t.push(l.pop());for(var i=function(e,t){void 0===t&&(t=!0),null!=e&&e!==a&&null!=e.domNode.parentNode&&(null==e.domNode[n.DATA_KEY].mutations&&(e.domNode[n.DATA_KEY].mutations=[]),t&&i(e.parent))},o=function(e){null!=e.domNode[n.DATA_KEY]&&null!=e.domNode[n.DATA_KEY].mutations&&(e instanceof s.default&&e.children.forEach(o),e.optimize(r))},c=t,d=0;c.length>0;d+=1){if(d>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=n.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(i(n.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=n.find(e,!1);i(t,!1),t instanceof s.default&&t.children.forEach(function(e){i(e,!1)})})):"attributes"===e.type&&i(t.prev)),i(t))}),this.children.forEach(o),l=(c=[].slice.call(this.observer.takeRecords())).slice();l.length>0;)t.push(l.pop())}},t.prototype.update=function(t,r){var a=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map(function(e){var t=n.find(e.target,!0);return null==t?null:null==t.domNode[n.DATA_KEY].mutations?(t.domNode[n.DATA_KEY].mutations=[e],t):(t.domNode[n.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==a&&null!=e.domNode[n.DATA_KEY]&&e.update(e.domNode[n.DATA_KEY].mutations||[],r)}),null!=this.domNode[n.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[n.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=n.Scope.BLOCK_BLOT,t.tagName="DIV",t}(s.default);t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(18),n=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,a){var n=this;r!==this.statics.blotName||a?e.prototype.format.call(this,r,a):(this.children.forEach(function(e){e instanceof s.default||(e=e.wrap(t.blotName,!0)),n.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,r,a,s){null!=this.formats()[a]||n.query(a,n.Scope.ATTRIBUTE)?this.isolate(t,r).format(a,s):e.prototype.formatAt.call(this,t,r,a,s)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var a=this.formats();if(0===Object.keys(a).length)return this.unwrap();var s=this.next;s instanceof t&&s.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(a,s.formats())&&(s.moveChildren(this),s.remove())},t.blotName="inline",t.scope=n.Scope.INLINE_BLOT,t.tagName="SPAN",t}(s.default);t.default=l},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(18),n=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(r){var a=n.query(t.blotName).tagName;if(r.tagName!==a)return e.formats.call(this,r)},t.prototype.format=function(r,a){null!=n.query(r,n.Scope.BLOCK)&&(r!==this.statics.blotName||a?e.prototype.format.call(this,r,a):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,a,s){null!=n.query(a,n.Scope.BLOCK)?this.format(a,s):e.prototype.formatAt.call(this,t,r,a,s)},t.prototype.insertAt=function(t,r,a){if(null==a||null!=n.query(r,n.Scope.INLINE))e.prototype.insertAt.call(this,t,r,a);else{var s=this.split(t),l=n.create(r,a);s.parent.insertBefore(l,s)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=n.Scope.BLOCK_BLOT,t.tagName="P",t}(s.default);t.default=l},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,a,s){0===t&&r===this.length()?this.format(a,s):e.prototype.formatAt.call(this,t,r,a,s)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=s},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(19),n=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return a(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,a){null==a?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,a)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=n.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some(function(e){return"characterData"===e.type&&e.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=n.Scope.INLINE_BLOT,t}(s.default);t.default=l},function(e,t,r){"use strict";var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:s.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var a=r.indexOf(e,t);return-1!==a&&a===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),a=r.length>>>0,s=arguments[1],n=0;n<a;n++)if(t=r[n],e.call(s,t,n,r))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var r=-1;function a(e,t,o){if(e==t)return e?[[0,e]]:[];(o<0||e.length<o)&&(o=null);var d=n(e,t),u=e.substring(0,d);d=l(e=e.substring(d),t=t.substring(d));var h=e.substring(e.length-d),m=function(e,t){var i;if(!e)return[[1,t]];if(!t)return[[r,e]];var o=e.length>t.length?e:t,c=e.length>t.length?t:e,d=o.indexOf(c);if(-1!=d)return i=[[1,o.substring(0,d)],[0,c],[1,o.substring(d+c.length)]],e.length>t.length&&(i[0][0]=i[2][0]=r),i;if(1==c.length)return[[r,e],[1,t]];var u=function(e,t){var r=e.length>t.length?e:t,a=e.length>t.length?t:e;if(r.length<4||2*a.length<r.length)return null;function s(e,t,r){for(var a,s,i,o,c=e.substring(r,r+Math.floor(e.length/4)),d=-1,u="";-1!=(d=t.indexOf(c,d+1));){var h=n(e.substring(r),t.substring(d)),m=l(e.substring(0,r),t.substring(0,d));u.length<m+h&&(u=t.substring(d-m,d)+t.substring(d,d+h),a=e.substring(0,r-m),s=e.substring(r+h),i=t.substring(0,d-m),o=t.substring(d+h))}return 2*u.length>=e.length?[a,s,i,o,u]:null}var i,o,c,d,u,h=s(r,a,Math.ceil(r.length/4)),m=s(r,a,Math.ceil(r.length/2));if(!h&&!m)return null;i=m?h&&h[4].length>m[4].length?h:m:h,e.length>t.length?(o=i[0],c=i[1],d=i[2],u=i[3]):(d=i[0],u=i[1],o=i[2],c=i[3]);var p=i[4];return[o,c,d,u,p]}(e,t);if(u){var h=u[0],m=u[1],p=u[2],x=u[3],f=u[4],g=a(h,p),y=a(m,x);return g.concat([[0,f]],y)}return function(e,t){for(var a=e.length,n=t.length,l=Math.ceil((a+n)/2),i=l,o=2*l,c=new Array(o),d=new Array(o),u=0;u<o;u++)c[u]=-1,d[u]=-1;c[i+1]=0,d[i+1]=0;for(var h=a-n,m=h%2!=0,p=0,x=0,f=0,g=0,y=0;y<l;y++){for(var b=-y+p;b<=y-x;b+=2){for(var v=i+b,j=(S=b==-y||b!=y&&c[v-1]<c[v+1]?c[v+1]:c[v-1]+1)-b;S<a&&j<n&&e.charAt(S)==t.charAt(j);)S++,j++;if(c[v]=S,S>a)x+=2;else if(j>n)p+=2;else if(m&&(N=i+h-b)>=0&&N<o&&-1!=d[N]&&S>=(k=a-d[N]))return s(e,t,S,j)}for(var w=-y+f;w<=y-g;w+=2){for(var k,N=i+w,_=(k=w==-y||w!=y&&d[N-1]<d[N+1]?d[N+1]:d[N-1]+1)-w;k<a&&_<n&&e.charAt(a-k-1)==t.charAt(n-_-1);)k++,_++;if(d[N]=k,k>a)g+=2;else if(_>n)f+=2;else if(!m){var S;if((v=i+h-w)>=0&&v<o&&-1!=c[v])if(j=i+(S=c[v])-v,S>=(k=a-k))return s(e,t,S,j)}}}return[[r,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return u&&m.unshift([0,u]),h&&m.push([0,h]),i(m),null!=o&&(m=function(e,t){var a=function(e,t){if(0===t)return[0,e];for(var a=0,s=0;s<e.length;s++){var n=e[s];if(n[0]===r||0===n[0]){var l=a+n[1].length;if(t===l)return[s+1,e];if(t<l){e=e.slice();var i=t-a,o=[n[0],n[1].slice(0,i)],c=[n[0],n[1].slice(i)];return e.splice(s,1,o,c),[s+1,e]}a=l}}throw new Error("cursor_pos is out of bounds!")}(e,t),s=a[1],n=a[0],l=s[n],i=s[n+1];if(null==l)return e;if(0!==l[0])return e;if(null!=i&&l[1]+i[1]===i[1]+l[1])return s.splice(n,2,i,l),c(s,n,2);if(null!=i&&0===i[1].indexOf(l[1])){s.splice(n,2,[i[0],l[1]],[0,l[1]]);var o=i[1].slice(l[1].length);return o.length>0&&s.splice(n+2,0,[i[0],o]),c(s,n,3)}return e}(m,o)),m=function(e){for(var t=!1,a=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},s=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},n=2;n<e.length;n+=1)0===e[n-2][0]&&s(e[n-2][1])&&e[n-1][0]===r&&a(e[n-1][1])&&1===e[n][0]&&a(e[n][1])&&(t=!0,e[n-1][1]=e[n-2][1].slice(-1)+e[n-1][1],e[n][1]=e[n-2][1].slice(-1)+e[n][1],e[n-2][1]=e[n-2][1].slice(0,-1));if(!t)return e;var l=[];for(n=0;n<e.length;n+=1)e[n][1].length>0&&l.push(e[n]);return l}(m)}function s(e,t,r,s){var n=e.substring(0,r),l=t.substring(0,s),i=e.substring(r),o=t.substring(s),c=a(n,l),d=a(i,o);return c.concat(d)}function n(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,a=Math.min(e.length,t.length),s=a,n=0;r<s;)e.substring(n,s)==t.substring(n,s)?n=r=s:a=s,s=Math.floor((a-r)/2+r);return s}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,a=Math.min(e.length,t.length),s=a,n=0;r<s;)e.substring(e.length-s,e.length-n)==t.substring(t.length-s,t.length-n)?n=r=s:a=s,s=Math.floor((a-r)/2+r);return s}function i(e){e.push([0,""]);for(var t,a=0,s=0,o=0,c="",d="";a<e.length;)switch(e[a][0]){case 1:o++,d+=e[a][1],a++;break;case r:s++,c+=e[a][1],a++;break;case 0:s+o>1?(0!==s&&0!==o&&(0!==(t=n(d,c))&&(a-s-o>0&&0==e[a-s-o-1][0]?e[a-s-o-1][1]+=d.substring(0,t):(e.splice(0,0,[0,d.substring(0,t)]),a++),d=d.substring(t),c=c.substring(t)),0!==(t=l(d,c))&&(e[a][1]=d.substring(d.length-t)+e[a][1],d=d.substring(0,d.length-t),c=c.substring(0,c.length-t))),0===s?e.splice(a-o,s+o,[1,d]):0===o?e.splice(a-s,s+o,[r,c]):e.splice(a-s-o,s+o,[r,c],[1,d]),a=a-s-o+(s?1:0)+(o?1:0)+1):0!==a&&0==e[a-1][0]?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,o=0,s=0,c="",d=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(a=1;a<e.length-1;)0==e[a-1][0]&&0==e[a+1][0]&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)==e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),u=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),u=!0)),a++;u&&i(e)}var o=a;function c(e,t,r){for(var a=t+r-1;a>=0&&a>=t-1;a--)if(a+1<e.length){var s=e[a],n=e[a+1];s[0]===n[1]&&e.splice(a,2,[s[0],s[1]+n[1]])}return e}o.INSERT=1,o.DELETE=r,o.EQUAL=0,e.exports=o},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"===typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function a(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function s(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?a:s).supported=a,t.unsupported=s},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a="~";function s(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function l(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(a=!1)),l.prototype.eventNames=function(){var e,t,s=[];if(0===this._eventsCount)return s;for(t in e=this._events)r.call(e,t)&&s.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},l.prototype.listeners=function(e,t){var r=a?a+e:e,s=this._events[r];if(t)return!!s;if(!s)return[];if(s.fn)return[s.fn];for(var n=0,l=s.length,i=new Array(l);n<l;n++)i[n]=s[n].fn;return i},l.prototype.emit=function(e,t,r,s,n,l){var i=a?a+e:e;if(!this._events[i])return!1;var o,c,d=this._events[i],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,s),!0;case 5:return d.fn.call(d.context,t,r,s,n),!0;case 6:return d.fn.call(d.context,t,r,s,n,l),!0}for(c=1,o=new Array(u-1);c<u;c++)o[c-1]=arguments[c];d.fn.apply(d.context,o)}else{var h,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,s);break;default:if(!o)for(h=1,o=new Array(u-1);h<u;h++)o[h-1]=arguments[h];d[c].fn.apply(d[c].context,o)}}return!0},l.prototype.on=function(e,t,r){var s=new n(t,r||this),l=a?a+e:e;return this._events[l]?this._events[l].fn?this._events[l]=[this._events[l],s]:this._events[l].push(s):(this._events[l]=s,this._eventsCount++),this},l.prototype.once=function(e,t,r){var s=new n(t,r||this,!0),l=a?a+e:e;return this._events[l]?this._events[l].fn?this._events[l]=[this._events[l],s]:this._events[l].push(s):(this._events[l]=s,this._eventsCount++),this},l.prototype.removeListener=function(e,t,r,n){var l=a?a+e:e;if(!this._events[l])return this;if(!t)return 0===--this._eventsCount?this._events=new s:delete this._events[l],this;var i=this._events[l];if(i.fn)i.fn!==t||n&&!i.once||r&&i.context!==r||(0===--this._eventsCount?this._events=new s:delete this._events[l]);else{for(var o=0,c=[],d=i.length;o<d;o++)(i[o].fn!==t||n&&!i[o].once||r&&i[o].context!==r)&&c.push(i[o]);c.length?this._events[l]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new s:delete this._events[l]}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new s:delete this._events[t])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,"undefined"!==typeof e&&(e.exports=l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=b(r(3)),i=b(r(2)),o=b(r(0)),c=b(r(5)),d=b(r(10)),u=b(r(9)),h=r(36),m=r(37),p=b(r(13)),x=r(26),f=r(38),g=r(39),y=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=(0,d.default)("quill:clipboard"),w="__ql-matcher",k=[[Node.TEXT_NODE,F],[Node.TEXT_NODE,M],["br",function(e,t){return O(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var r={},a=e.style||{};return a.fontStyle&&"italic"===E(e).fontStyle&&(r.italic=!0),a.fontWeight&&(E(e).fontWeight.startsWith("bold")||parseInt(E(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=C(t,r)),parseFloat(a.textIndent||0)>0&&(t=(new i.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=o.default.query(e);if(null==r||"list-item"!==r.blotName||!O(t,"\n"))return t;for(var a=-1,s=e.parentNode;!s.classList.contains("ql-clipboard");)"list"===(o.default.query(s)||{}).blotName&&(a+=1),s=s.parentNode;return a<=0?t:t.compose((new i.default).retain(t.length()-1).retain(1,{indent:a}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new i.default}]],N=[h.AlignAttribute,f.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),_=[h.AlignStyle,m.BackgroundStyle,x.ColorStyle,f.DirectionStyle,g.FontStyle,y.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),S=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.root.addEventListener("paste",a.onPaste.bind(a)),a.container=a.quill.addContainer("ql-clipboard"),a.container.setAttribute("contenteditable",!0),a.container.setAttribute("tabindex",-1),a.matchers=[],k.concat(a.options.matchers).forEach(function(e){var t=s(e,2),n=t[0],l=t[1];(r.matchVisual||l!==D)&&a.addMatcher(n,l)}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[p.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new i.default).insert(r,v({},p.default.blotName,t[p.default.blotName]))}var a=this.prepareMatching(),n=s(a,2),l=n[0],o=n[1],c=P(this.container,l,o);return O(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new i.default).retain(c.length()-1).delete(1))),j.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var a=this.convert(t);this.quill.updateContents((new i.default).retain(e).concat(a),r),this.quill.setSelection(e+a.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),a=(new i.default).retain(r.index),s=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){a=a.concat(t.convert()).delete(r.length),t.quill.updateContents(a,c.default.sources.USER),t.quill.setSelection(a.length()-r.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=s,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach(function(a){var n=s(a,2),l=n[0],i=n[1];switch(l){case Node.TEXT_NODE:r.push(i);break;case Node.ELEMENT_NODE:t.push(i);break;default:[].forEach.call(e.container.querySelectorAll(l),function(e){e[w]=e[w]||[],e[w].push(i)})}}),[t,r]}}]),t}(u.default);function C(e,t,r){return"object"===("undefined"===typeof t?"undefined":a(t))?Object.keys(t).reduce(function(e,r){return C(e,r,t[r])},e):e.reduce(function(e,a){return a.attributes&&a.attributes[t]?e.push(a):e.insert(a.insert,(0,l.default)({},v({},t,r),a.attributes))},new i.default)}function E(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function O(e,t){for(var r="",a=e.ops.length-1;a>=0&&r.length<t.length;--a){var s=e.ops[a];if("string"!==typeof s.insert)break;r=s.insert+r}return r.slice(-1*t.length)===t}function A(e){if(0===e.childNodes.length)return!1;var t=E(e);return["block","list-item"].indexOf(t.display)>-1}function P(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,r){return r(e,t)},new i.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(a,s){var n=P(s,t,r);return s.nodeType===e.ELEMENT_NODE&&(n=t.reduce(function(e,t){return t(s,e)},n),n=(s[w]||[]).reduce(function(e,t){return t(s,e)},n)),a.concat(n)},new i.default):new i.default}function T(e,t,r){return C(r,e,!0)}function L(e,t){var r=o.default.Attributor.Attribute.keys(e),a=o.default.Attributor.Class.keys(e),s=o.default.Attributor.Style.keys(e),n={};return r.concat(a).concat(s).forEach(function(t){var r=o.default.query(t,o.default.Scope.ATTRIBUTE);null!=r&&(n[r.attrName]=r.value(e),n[r.attrName])||(null==(r=N[t])||r.attrName!==t&&r.keyName!==t||(n[r.attrName]=r.value(e)||void 0),null==(r=_[t])||r.attrName!==t&&r.keyName!==t||(r=_[t],n[r.attrName]=r.value(e)||void 0))}),Object.keys(n).length>0&&(t=C(t,n)),t}function R(e,t){var r=o.default.query(e);if(null==r)return t;if(r.prototype instanceof o.default.Embed){var a={},s=r.value(e);null!=s&&(a[r.blotName]=s,t=(new i.default).insert(a,r.formats(e)))}else"function"===typeof r.formats&&(t=C(t,r.blotName,r.formats(e)));return t}function M(e,t){return O(t,"\n")||(A(e)||t.length()>0&&e.nextSibling&&A(e.nextSibling))&&t.insert("\n"),t}function D(e,t){if(A(e)&&null!=e.nextElementSibling&&!O(t,"\n\n")){var r=e.offsetHeight+parseFloat(E(e).marginTop)+parseFloat(E(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function F(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!E(e.parentNode).whiteSpace.startsWith("pre")){var a=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,a.bind(a,!0)),(null==e.previousSibling&&A(e.parentNode)||null!=e.previousSibling&&A(e.previousSibling))&&(r=r.replace(/^\s+/,a.bind(a,!1))),(null==e.nextSibling&&A(e.parentNode)||null!=e.nextSibling&&A(e.nextSibling))&&(r=r.replace(/\s+$/,a.bind(a,!1)))}return t.insert(r)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=L,t.matchBlot=R,t.matchNewline=M,t.matchSpacing=D,t.matchText=F},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((a=l)&&a.__esModule?a:{default:a}).default);i.blotName="bold",i.tagName=["STRONG","B"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=d(r(2)),l=d(r(0)),i=d(r(5)),o=d(r(10)),c=d(r(9));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=(0,o.default)("quill:toolbar"),m=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s,n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(n.options.container)){var l=document.createElement("div");x(l,n.options.container),e.container.parentNode.insertBefore(l,e.container),n.container=l}else"string"===typeof n.options.container?n.container=document.querySelector(n.options.container):n.container=n.options.container;return n.container instanceof HTMLElement?(n.container.classList.add("ql-toolbar"),n.controls=[],n.handlers={},Object.keys(n.options.handlers).forEach(function(e){n.addHandler(e,n.options.handlers[e])}),[].forEach.call(n.container.querySelectorAll("button, select"),function(e){n.attach(e)}),n.quill.on(i.default.events.EDITOR_CHANGE,function(e,t){e===i.default.events.SELECTION_CHANGE&&n.update(t)}),n.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var e=n.quill.selection.getRange(),t=a(e,1)[0];n.update(t)}),n):(s=h.error("Container required for toolbar",n.options),u(n,s))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void h.warn("ignoring attaching to disabled format",r,e);if(null==l.default.query(r))return void h.warn("ignoring attaching to nonexistent format",r,e)}var s="SELECT"===e.tagName?"change":"click";e.addEventListener(s,function(s){var o=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];o=!c.hasAttribute("selected")&&(c.value||!1)}else o=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),s.preventDefault();t.quill.focus();var d=t.quill.selection.getRange(),u=a(d,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,o);else if(l.default.query(r).prototype instanceof l.default.Embed){if(!(o=prompt("Enter "+r)))return;t.quill.updateContents((new n.default).retain(u.index).delete(u.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,o)),i.default.sources.USER)}else t.quill.format(r,o,i.default.sources.USER);t.update(u)}),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(r){var s=a(r,2),n=s[0],l=s[1];if("SELECT"===l.tagName){var i=void 0;if(null==e)i=null;else if(null==t[n])i=l.querySelector("option[selected]");else if(!Array.isArray(t[n])){var o=t[n];"string"===typeof o&&(o=o.replace(/\"/g,'\\"')),i=l.querySelector('option[value="'+o+'"]')}null==i?(l.value="",l.selectedIndex=-1):i.selected=!0}else if(null==e)l.classList.remove("ql-active");else if(l.hasAttribute("value")){var c=t[n]===l.getAttribute("value")||null!=t[n]&&t[n].toString()===l.getAttribute("value")||null==t[n]&&!l.getAttribute("value");l.classList.toggle("ql-active",c)}else l.classList.toggle("ql-active",null!=t[n])})}}]),t}(c.default);function p(e,t,r){var a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("ql-"+t),null!=r&&(a.value=r),e.appendChild(a)}function x(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(function(e){if("string"===typeof e)p(r,e);else{var t=Object.keys(e)[0],a=e[t];Array.isArray(a)?function(e,t,r){var a=document.createElement("select");a.classList.add("ql-"+t),r.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),a.appendChild(t)}),e.appendChild(a)}(r,t,a):p(r,t,a)}}),e.appendChild(r)})}m.DEFAULTS={},m.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach(function(t){null!=l.default.query(t,l.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,i.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",i.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",e,i.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),a=parseInt(r.indent||0);if("+1"===e||"-1"===e){var s="+1"===e?1:-1;"rtl"===r.direction&&(s*=-1),this.quill.format("indent",a+s,i.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,i.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",e,i.default.sources.USER)}}},t.default=m,t.addControls=x},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(28),i=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.label.innerHTML=r,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"buildItem",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var a=this.label.querySelector(".ql-color-label"),s=e&&e.getAttribute("data-value")||"";a&&("line"===a.tagName?a.style.stroke=s:a.style.fill=s)}}]),t}(((a=l)&&a.__esModule?a:{default:a}).default);t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(28),i=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=r[e.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"selectItem",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((a=l)&&a.__esModule?a:{default:a}).default);t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function(){function e(t,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return a(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var a=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect(),n=0;if(s.right>a.right&&(n=a.right-s.right,this.root.style.left=t+n+"px"),s.left<a.left&&(n=a.left-s.left,this.root.style.left=t+n+"px"),s.bottom>a.bottom){var l=s.bottom-s.top,i=e.bottom-e.top+l;this.root.style.top=r-i+"px",this.root.classList.add("ql-flip")}return n}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){s=!0,n=o}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=m(r(3)),i=m(r(8)),o=r(43),c=m(o),d=m(r(27)),u=r(15),h=m(r(41));function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var a=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.container.classList.add("ql-snow"),a}return f(t,e),n(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),h.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,r){e.handlers.link.call(e,!r.format.link)})}}]),t}(c.default);y.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){p(this,t);var a=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.preview=a.root.querySelector("a.ql-preview"),a}return f(t,e),n(t,[{key:"listen",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,i.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(i.default.events.SELECTION_CHANGE,function(t,r,s){if(null!=t){if(0===t.length&&s===i.default.sources.USER){var n=e.quill.scroll.descendant(d.default,t.index),l=a(n,2),o=l[0],c=l[1];if(null!=o){e.linkRange=new u.Range(t.index-c,o.length());var h=d.default.formats(o.domNode);return e.preview.textContent=h,e.preview.setAttribute("href",h),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(o.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=M(r(29)),s=r(36),n=r(38),l=r(64),i=M(r(65)),o=M(r(66)),c=r(67),d=M(c),u=r(37),h=r(26),m=r(39),p=r(40),x=M(r(56)),f=M(r(68)),g=M(r(27)),y=M(r(69)),b=M(r(70)),v=M(r(71)),j=M(r(72)),w=M(r(73)),k=r(13),N=M(k),_=M(r(74)),S=M(r(75)),C=M(r(57)),E=M(r(41)),O=M(r(28)),A=M(r(59)),P=M(r(60)),T=M(r(61)),L=M(r(108)),R=M(r(62));function M(e){return e&&e.__esModule?e:{default:e}}a.default.register({"attributors/attribute/direction":n.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":n.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":n.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":p.SizeStyle},!0),a.default.register({"formats/align":s.AlignClass,"formats/direction":n.DirectionClass,"formats/indent":l.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":m.FontClass,"formats/size":p.SizeClass,"formats/blockquote":i.default,"formats/code-block":N.default,"formats/header":o.default,"formats/list":d.default,"formats/bold":x.default,"formats/code":k.Code,"formats/italic":f.default,"formats/link":g.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":v.default,"formats/image":j.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":_.default,"modules/syntax":S.default,"modules/toolbar":C.default,"themes/bubble":L.default,"themes/snow":R.default,"ui/icons":E.default,"ui/picker":O.default,"ui/icon-picker":P.default,"ui/color-picker":A.default,"ui/tooltip":T.default},!0),t.default=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(0),i=(a=l)&&a.__esModule?a:{default:a},o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var a=this.value(e)||0;r="+1"===r?a+1:a-1}return 0===r?(this.remove(e),!0):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(i.default.Attributor.Class),c=new o("indent","ql-indent",{scope:i.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(4),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=s)&&a.__esModule?a:{default:a}).default);n.blotName="blockquote",n.tagName="blockquote",t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=r(4),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((a=n)&&a.__esModule?a:{default:a}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=o(r(0)),l=o(r(4)),i=o(r(25));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"format",value:function(e,r){e!==m.blotName||r?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(n.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:s(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(l.default);h.blotName="list-item",h.tagName="LI";var m=function(e){function t(e){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=function(t){if(t.target.parentNode===e){var a=r.statics.formats(e),s=n.default.find(t.target);"checked"===a?s.format("list","unchecked"):"unchecked"===a&&s.format("list","checked")}};return e.addEventListener("touchstart",a),e.addEventListener("mousedown",a),r}return u(t,e),a(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",a=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||a.setAttribute("data-checked","checked"===e),a}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),a(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof h)s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var a=null==r?this.length():r.offset(this),n=this.split(a);n.parent.insertBefore(e,n)}}},{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=n.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(i.default);m.blotName="list",m.scope=n.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[h],t.ListItem=h,t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(56),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=s)&&a.__esModule?a:{default:a}).default);n.blotName="italic",n.tagName=["EM","I"],t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((a=l)&&a.__esModule?a:{default:a}).default);i.blotName="script",i.tagName=["SUB","SUP"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(6),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=s)&&a.__esModule?a:{default:a}).default);n.blotName="strike",n.tagName="S",t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(6),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=s)&&a.__esModule?a:{default:a}).default);n.blotName="underline",n.tagName="U",t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(0),i=(a=l)&&a.__esModule?a:{default:a},o=r(27),c=["alt","height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,o.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(i.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},l=r(4),i=r(27),o=(a=i)&&a.__esModule?a:{default:a},c=["height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"sanitize",value:function(e){return o.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=o(r(35)),l=o(r(5)),i=o(r(9));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(n.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var m=function(e){function t(){c(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),a(t,null,[{key:"register",value:function(){l.default.register(h,!0)}}]),t}(i.default);t.FormulaBlot=h,t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},n=o(r(0)),l=o(r(5)),i=o(r(9));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(o(r(13)).default);h.className="ql-syntax";var m=new n.default.Attributor.Class("token","hljs",{scope:n.default.Scope.INLINE}),p=function(e){function t(e,r){c(this,t);var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!==typeof a.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var s=null;return a.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(s),s=setTimeout(function(){a.highlight(),s=null},a.options.interval)}),a.highlight(),a}return u(t,e),a(t,null,[{key:"register",value:function(){l.default.register(m,!0),l.default.register(h,!0)}}]),a(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(l.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(h).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(l.default.sources.SILENT),null!=t&&this.quill.setSelection(t,l.default.sources.SILENT)}}}]),t}(i.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=h,t.CodeToken=m,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var a=function e(t,r,a){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,r,a)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(a):void 0},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=u(r(3)),l=u(r(8)),i=r(43),o=u(i),c=r(15),d=u(r(41));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],f=function(e){function t(e,r){h(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=x);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.container.classList.add("ql-bubble"),a}return p(t,e),s(t,[{key:"extendToolbar",value:function(e){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default)}}]),t}(o.default);f.DEFAULTS=(0,n.default)(!0,{},o.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(e){function t(e,r){h(this,t);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.on(l.default.events.EDITOR_CHANGE,function(e,t,r,s){if(e===l.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&s===l.default.sources.USER){a.show(),a.root.style.left="0px",a.root.style.width="",a.root.style.width=a.root.offsetWidth+"px";var n=a.quill.getLines(t.index,t.length);if(1===n.length)a.position(a.quill.getBounds(t));else{var i=n[n.length-1],o=a.quill.getIndex(i),d=Math.min(i.length()-1,t.index+t.length-o),u=a.quill.getBounds(new c.Range(o,d));a.position(u)}}else document.activeElement!==a.textbox&&a.quill.hasFocus()&&a.hide()}),a}return p(t,e),s(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),s=this.root.querySelector(".ql-tooltip-arrow");if(s.style.marginLeft="",0===r)return r;s.style.marginLeft=-1*r-s.offsetWidth/2+"px"}}]),t}(i.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=g,t.default=f},function(e,t,r){e.exports=r(63)}]).default},e.exports=t()},7685:(e,t,r)=>{var a=r(7937)(r(6552),"DataView");e.exports=a},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var a=r(3440),s=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!s&&s in e}},7937:(e,t,r)=>{var a=r(6954),s=r(4657);e.exports=function(e,t){var r=s(e,t);return a(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8673:(e,t,r)=>{var a=r(3204),s=r(3713),n=r(6571);e.exports=function(e){return n(e)?a(e):s(e)}},8724:(e,t,r)=>{var a=r(7615),s=r(5051),n=r(2154),l=r(8734),i=r(2662);function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=s,o.prototype.get=n,o.prototype.has=l,o.prototype.set=i,e.exports=o},8734:(e,t,r)=>{var a=r(5575),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:s.call(t,e)}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8895:e=>{e.exports=function(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}},8902:(e,t,r)=>{var a=r(4816),s=r(6179),n=r(6704);function l(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new a;++t<r;)this.add(e[t])}l.prototype.add=l.prototype.push=s,l.prototype.has=n,e.exports=l},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var a=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<r}},9394:(e,t,r)=>{var a=r(2622);e.exports=function(e){return a(this,e).has(e)}},9395:(e,t,r)=>{var a=r(4262),s=r(9621),n=r(8673);e.exports=function(e){return a(e,n,s)}},9621:(e,t,r)=>{var a=r(7529),s=r(7828),n=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,i=l?function(e){return null==e?[]:(e=Object(e),a(l(e),function(t){return n.call(e,t)}))}:s;e.exports=i},9812:(e,t,r)=>{var a=r(6552).Symbol;e.exports=a},9853:(e,t,r)=>{var a=r(6989);e.exports=function(e,t){return a(e,t)}},9935:(e,t,r)=>{var a=r(1340),s=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():s.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var a=r(9812),s=r(2929),n=r(3211),l=r(3668),i=r(4160),o=r(2074),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,a,c,u,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new s(e),new s(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var m=i;case"[object Set]":var p=1&a;if(m||(m=o),e.size!=t.size&&!p)return!1;var x=h.get(e);if(x)return x==t;a|=2,h.set(e,t);var f=l(m(e),m(t),a,c,u,h);return h.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var n=Object.create(null);r.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&a;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>a[e]);return l.default=()=>a,r.d(n,l),n}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,a)=>(r.f[a](e,t),t),[])),r.u=e=>"static/js/"+e+".e68ce003.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="cataloro-marketplace:";r.l=(a,s,n,l)=>{if(e[a])e[a].push(s);else{var i,o;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+n){i=u;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+n),i.src=a),e[a]=[s];var h=(t,r)=>{i.onerror=i.onload=null,clearTimeout(m);var s=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach(e=>e(r)),t)return t(r)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),o&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,a)=>{var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var n=new Promise((r,a)=>s=e[t]=[r,a]);a.push(s[2]=n);var l=r.p+r.u(t),i=new Error;r.l(l,a=>{if(r.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var n=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+l+")",i.name="ChunkLoadError",i.type=n,i.request=l,s[1](i)}},"chunk-"+t,t)}};var t=(t,a)=>{var s,n,l=a[0],i=a[1],o=a[2],c=0;if(l.some(t=>0!==e[t])){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(o)o(r)}for(t&&t(a);c<l.length;c++)n=l[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0},a=self.webpackChunkcataloro_marketplace=self.webpackChunkcataloro_marketplace||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Vt,hasStandardBrowserEnv:()=>Kt,hasStandardBrowserWebWorkerEnv:()=>Gt,navigator:()=>Wt,origin:()=>$t});var t,a=r(5043),s=r.t(a,2),n=r(4391),l=r(7950),i=r.t(l,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,r,a){return void 0===r&&(r=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function x(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,r,a,s){void 0===s&&(s={});let{window:n=document.defaultView,v5Compat:l=!1}=s,i=n.history,u=t.Pop,x=null,f=g();function g(){return(i.state||{idx:null}).idx}function y(){u=t.Pop;let e=g(),r=null==e?null:e-f;f=e,x&&x({action:u,location:v.location,delta:r})}function b(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,r="string"===typeof e?e:p(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==f&&(f=0,i.replaceState(o({},i.state,{idx:f}),""));let v={get action(){return u},get location(){return e(n,i)},listen(e){if(x)throw new Error("A history only accepts one active listener");return n.addEventListener(c,y),x=e,()=>{n.removeEventListener(c,y),x=null}},createHref:e=>r(n,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){u=t.Push;let s=m(v.location,e,r);a&&a(s,e),f=g()+1;let o=h(s,f),c=v.createHref(s);try{i.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;n.location.assign(c)}l&&x&&x({action:u,location:v.location,delta:1})},replace:function(e,r){u=t.Replace;let s=m(v.location,e,r);a&&a(s,e),f=g();let n=h(s,f),o=v.createHref(s);i.replaceState(n,"",o),l&&x&&x({action:u,location:v.location,delta:0})},go:e=>i.go(e)};return v}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,r){return void 0===r&&(r="/"),b(e,t,r,!1)}function b(e,t,r,a){let s=L(("string"===typeof t?x(t):t).pathname||"/",r);if(null==s)return null;let n=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let l=null;for(let i=0;null==l&&i<n.length;++i){let e=T(s);l=A(n[i],e,a)}return l}function v(e,t,r,a){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a="");let s=(e,s,n)=>{let l={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(a.length));let i=I([a,l.relativePath]),o=r.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),v(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:O(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let a of j(e.path))s(e,t,a);else s(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,s=r.endsWith("?"),n=r.replace(/\?$/,"");if(0===a.length)return s?[n,""]:[n];let l=j(a.join("/")),i=[];return i.push(...l.map(e=>""===e?n:[n,e].join("/"))),s&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,k=3,N=2,_=1,S=10,C=-2,E=e=>"*"===e;function O(e,t){let r=e.split("/"),a=r.length;return r.some(E)&&(a+=C),t&&(a+=N),r.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?k:""===t?_:S),a)}function A(e,t,r){void 0===r&&(r=!1);let{routesMeta:a}=e,s={},n="/",l=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,c="/"===n?t:t.slice(n.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&r&&!a[a.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:I([n,d.pathname]),pathnameBase:q(I([n,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(n=I([n,d.pathnameBase]))}return l}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let n=new RegExp(s,t?void 0:"i");return[n,a]}(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let n=s[0],l=n.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:a.reduce((e,t,r)=>{let{paramName:a,isOptional:s}=t;if("*"===a){let e=i[r]||"";l=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[r];return e[a]=s&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:n,pathnameBase:l,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}function R(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let r=M(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function F(e,t,r,a){let s;void 0===a&&(a=!1),"string"===typeof e?s=x(e):(s=o({},e),d(!s.pathname||!s.pathname.includes("?"),R("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),R("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),R("#","search","hash",s)));let n,l=""===e||""===s.pathname,i=l?"/":s.pathname;if(null==i)n=r;else{let e=t.length-1;if(!a&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}n=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:a="",hash:s=""}="string"===typeof e?x(e):e,n=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:n,search:U(a),hash:B(s)}}(s,n),u=i&&"/"!==i&&i.endsWith("/"),h=(l||"."===i)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const I=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W.apply(this,arguments)}const K=a.createContext(null);const G=a.createContext(null);const $=a.createContext(null);const J=a.createContext(null);const Y=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function Z(){return null!=a.useContext(J)}function X(){return Z()||d(!1),a.useContext(J).location}function ee(e){a.useContext($).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(Y);return e?function(){let{router:e}=me(ue.UseNavigateStable),t=xe(he.UseNavigateStable),r=a.useRef(!1);return ee(()=>{r.current=!0}),a.useCallback(function(a,s){void 0===s&&(s={}),r.current&&("number"===typeof a?e.navigate(a):e.navigate(a,W({fromRouteId:t},s)))},[e,t])}():function(){Z()||d(!1);let e=a.useContext(K),{basename:t,future:r,navigator:s}=a.useContext($),{matches:n}=a.useContext(Y),{pathname:l}=X(),i=JSON.stringify(D(n,r.v7_relativeSplatPath)),o=a.useRef(!1);return ee(()=>{o.current=!0}),a.useCallback(function(r,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof r)return void s.go(r);let n=F(r,JSON.parse(i),l,"path"===a.relative);null==e&&"/"!==t&&(n.pathname="/"===n.pathname?t:I([t,n.pathname])),(a.replace?s.replace:s.push)(n,a.state,a)},[t,s,i,l,e])}()}const re=a.createContext(null);function ae(){let{matches:e}=a.useContext(Y),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:r}=void 0===t?{}:t,{future:s}=a.useContext($),{matches:n}=a.useContext(Y),{pathname:l}=X(),i=JSON.stringify(D(n,s.v7_relativeSplatPath));return a.useMemo(()=>F(e,JSON.parse(i),l,"path"===r),[e,i,l,r])}function ne(e,r,s,n){Z()||d(!1);let{navigator:l}=a.useContext($),{matches:i}=a.useContext(Y),o=i[i.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let h,m=X();if(r){var p;let e="string"===typeof r?x(r):r;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=m;let f=h.pathname||"/",g=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:g});let v=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:I([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:I([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,s,n);return r&&v?a.createElement(J.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},v):v}function le(){let e=function(){var e;let t=a.useContext(Q),r=pe(he.UseRouteError),s=xe(he.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[s]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:n},r):null,null)}const ie=a.createElement(le,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Y.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:r,children:s}=e,n=a.useContext(K);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(Y.Provider,{value:t},s)}function de(e,t,r,s){var n;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var l;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(l=s)&&l.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,o=null==(n=r)?void 0:n.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:a}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||s){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,s,n)=>{let l,d=!1,h=null,m=null;var p;r&&(l=o&&s.route.id?o[s.route.id]:void 0,h=s.route.errorElement||ie,c&&(u<0&&0===n?(p="route-fallback",!1||fe[p]||(fe[p]=!0),d=!0,m=null):u===n&&(d=!0,m=s.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,n+1)),f=()=>{let t;return t=l?h:d?m:s.route.Component?a.createElement(s.route.Component,null):s.route.element?s.route.element:e,a.createElement(ce,{match:s,routeContext:{outlet:e,matches:x,isDataRoute:null!=r},children:t})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===n)?a.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:l,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function me(e){let t=a.useContext(K);return t||d(!1),t}function pe(e){let t=a.useContext(G);return t||d(!1),t}function xe(e){let t=function(){let e=a.useContext(Y);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const fe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:r,state:s,relative:n}=e;Z()||d(!1);let{future:l,static:i}=a.useContext($),{matches:o}=a.useContext(Y),{pathname:c}=X(),u=te(),h=F(t,D(o,l.v7_relativeSplatPath),c,"path"===n),m=JSON.stringify(h);return a.useEffect(()=>u(JSON.parse(m),{replace:r,state:s,relative:n}),[u,m,n,r,s]),null}function be(e){return function(e){let t=a.useContext(Y).outlet;return t?a.createElement(re.Provider,{value:e},t):t}(e.context)}function ve(e){d(!1)}function je(e){let{basename:r="/",children:s=null,location:n,navigationType:l=t.Pop,navigator:i,static:o=!1,future:c}=e;Z()&&d(!1);let u=r.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:u,navigator:i,static:o,future:W({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);"string"===typeof n&&(n=x(n));let{pathname:m="/",search:p="",hash:f="",state:g=null,key:y="default"}=n,b=a.useMemo(()=>{let e=L(m,u);return null==e?null:{location:{pathname:e,search:p,hash:f,state:g,key:y},navigationType:l}},[u,m,p,f,g,y,l]);return null==b?null:a.createElement($.Provider,{value:h},a.createElement(J.Provider,{children:s,value:b}))}function we(e){let{children:t,location:r}=e;return ne(ke(t),r)}new Promise(()=>{});a.Component;function ke(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,s)=>{if(!a.isValidElement(e))return;let n=[...t,s];if(e.type===a.Fragment)return void r.push.apply(r,ke(e.props.children,n));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ke(e.props.children,n)),r.push(l)}),r}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ne.apply(this,arguments)}function _e(e,t){if(null==e)return{};var r,a,s={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(s[r]=e[r]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(_i){}new Map;const Ce=s.startTransition;i.flushSync,s.useId;function Ee(e){let{basename:t,children:r,future:s,window:n}=e,l=a.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:n,v5Compat:!0})&&(i={}),f(function(e,t){let{pathname:r,search:a,hash:s}=e.location;return m("",{pathname:r,search:a,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,i)));let o=l.current,[c,d]=a.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},h=a.useCallback(e=>{u&&Ce?Ce(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>o.listen(h),[o,h]),a.useEffect(()=>ge(s),[s]),a.createElement(je,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:s})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef(function(e,t){let r,{onClick:s,relative:n,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:h,viewTransition:m}=e,x=_e(e,Se),{basename:f}=a.useContext($),g=!1;if("string"===typeof u&&Ae.test(u)&&(r=u,Oe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=L(t.pathname,f);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:g=!0}catch(_i){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;Z()||d(!1);let{basename:s,navigator:n}=a.useContext($),{hash:l,pathname:i,search:o}=se(e,{relative:r}),c=i;return"/"!==s&&(c="/"===i?s:I([s,i])),n.createHref({pathname:c,search:o,hash:l})}(u,{relative:n}),b=function(e,t){let{target:r,replace:s,state:n,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=te(),d=X(),u=se(e,{relative:i});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==s?s:p(d)===p(u);c(e,{replace:r,state:n,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,s,n,r,e,l,i,o])}(u,{replace:i,state:o,target:c,preventScrollReset:h,relative:n,viewTransition:m});return a.createElement("a",Ne({},x,{href:r||y,onClick:g||l?s:function(e){s&&s(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Te,Le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Me(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Re(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}function De(e,t,r){return(t=Me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach(function(t){De(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qe(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ue}=Object.prototype,{getPrototypeOf:Be}=Object,{iterator:ze,toStringTag:He}=Symbol,Ve=(We=Object.create(null),e=>{const t=Ue.call(e);return We[t]||(We[t]=t.slice(8,-1).toLowerCase())});var We;const Ke=e=>(e=e.toLowerCase(),t=>Ve(t)===e),Ge=e=>t=>typeof t===e,{isArray:$e}=Array,Je=Ge("undefined");function Ye(e){return null!==e&&!Je(e)&&null!==e.constructor&&!Je(e.constructor)&&Xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qe=Ke("ArrayBuffer");const Ze=Ge("string"),Xe=Ge("function"),et=Ge("number"),tt=e=>null!==e&&"object"===typeof e,rt=e=>{if("object"!==Ve(e))return!1;const t=Be(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(He in e)&&!(ze in e)},at=Ke("Date"),st=Ke("File"),nt=Ke("Blob"),lt=Ke("FileList"),it=Ke("URLSearchParams"),[ot,ct,dt,ut]=["ReadableStream","Request","Response","Headers"].map(Ke);function ht(e,t){let r,a,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),$e(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Ye(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),n=a.length;let l;for(r=0;r<n;r++)l=a[r],t.call(null,e[l],l,e)}}function mt(e,t){if(Ye(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a,s=r.length;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,xt=e=>!Je(e)&&e!==pt;const ft=(gt="undefined"!==typeof Uint8Array&&Be(Uint8Array),e=>gt&&e instanceof gt);var gt;const yt=Ke("HTMLFormElement"),bt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),vt=Ke("RegExp"),jt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};ht(r,(r,s)=>{let n;!1!==(n=t(r,s,e))&&(a[s]=n||r)}),Object.defineProperties(e,a)};const wt=Ke("AsyncFunction"),kt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),a=[],pt.addEventListener("message",e=>{let{source:t,data:s}=e;t===pt&&s===r&&a.length&&a.shift()()},!1),e=>{a.push(e),pt.postMessage(r,"*")}):e=>setTimeout(e);var r,a})("function"===typeof setImmediate,Xe(pt.postMessage)),Nt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(pt):"undefined"!==typeof process&&process.nextTick||kt,_t={isArray:$e,isArrayBuffer:Qe,isBuffer:Ye,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Xe(e.append)&&("formdata"===(t=Ve(e))||"object"===t&&Xe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Qe(e.buffer),t},isString:Ze,isNumber:et,isBoolean:e=>!0===e||!1===e,isObject:tt,isPlainObject:rt,isEmptyObject:e=>{if(!tt(e)||Ye(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(_i){return!1}},isReadableStream:ot,isRequest:ct,isResponse:dt,isHeaders:ut,isUndefined:Je,isDate:at,isFile:st,isBlob:nt,isRegExp:vt,isFunction:Xe,isStream:e=>tt(e)&&Xe(e.pipe),isURLSearchParams:it,isTypedArray:ft,isFileList:lt,forEach:ht,merge:function e(){const{caseless:t}=xt(this)&&this||{},r={},a=(a,s)=>{const n=t&&mt(r,s)||s;rt(r[n])&&rt(a)?r[n]=e(r[n],a):rt(a)?r[n]=e({},a):$e(a)?r[n]=a.slice():r[n]=a};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&ht(arguments[s],a);return r},extend:function(e,t,r){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ht(t,(t,a)=>{r&&Xe(t)?e[a]=qe(t,r):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,a)=>{let s,n,l;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),n=s.length;n-- >0;)l=s[n],a&&!a(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==r&&Be(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ve,kindOfTest:Ke,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return-1!==a&&a===r},toArray:e=>{if(!e)return null;if($e(e))return e;let t=e.length;if(!et(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[ze]).call(e);let a;for(;(a=r.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const a=[];for(;null!==(r=e.exec(t));)a.push(r);return a},isHTMLForm:yt,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:jt,freezeMethods:e=>{jt(e,(t,r)=>{if(Xe(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const a=e[r];Xe(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},a=e=>{e.forEach(e=>{r[e]=!0})};return $e(e)?a(e):a(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:mt,global:pt,isContextDefined:xt,isSpecCompliantForm:function(e){return!!(e&&Xe(e.append)&&"FormData"===e[He]&&e[ze])},toJSONObject:e=>{const t=new Array(10),r=(e,a)=>{if(tt(e)){if(t.indexOf(e)>=0)return;if(Ye(e))return e;if(!("toJSON"in e)){t[a]=e;const s=$e(e)?[]:{};return ht(e,(e,t)=>{const n=r(e,a+1);!Je(n)&&(s[t]=n)}),t[a]=void 0,s}}return e};return r(e,0)},isAsyncFn:wt,isThenable:e=>e&&(tt(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),setImmediate:kt,asap:Nt,isIterable:e=>null!=e&&Xe(e[ze])};function St(e,t,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}_t.inherits(St,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.status}}});const Ct=St.prototype,Et={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Et[e]={value:e}}),Object.defineProperties(St,Et),Object.defineProperty(Ct,"isAxiosError",{value:!0}),St.from=(e,t,r,a,s,n)=>{const l=Object.create(Ct);return _t.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),St.call(l,e.message,t,r,a,s),l.cause=e,l.name=e.name,n&&Object.assign(l,n),l};const Ot=St;function At(e){return _t.isPlainObject(e)||_t.isArray(e)}function Pt(e){return _t.endsWith(e,"[]")?e.slice(0,-2):e}function Tt(e,t,r){return e?e.concat(t).map(function(e,t){return e=Pt(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Lt=_t.toFlatObject(_t,{},null,function(e){return/^is[A-Z]/.test(e)});const Rt=function(e,t,r){if(!_t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(r=_t.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!_t.isUndefined(t[e])})).metaTokens,s=r.visitor||c,n=r.dots,l=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&_t.isSpecCompliantForm(t);if(!_t.isFunction(s))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(_t.isDate(e))return e.toISOString();if(_t.isBoolean(e))return e.toString();if(!i&&_t.isBlob(e))throw new Ot("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(e)||_t.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,s){let i=e;if(e&&!s&&"object"===typeof e)if(_t.endsWith(r,"{}"))r=a?r:r.slice(0,-2),e=JSON.stringify(e);else if(_t.isArray(e)&&function(e){return _t.isArray(e)&&!e.some(At)}(e)||(_t.isFileList(e)||_t.endsWith(r,"[]"))&&(i=_t.toArray(e)))return r=Pt(r),i.forEach(function(e,a){!_t.isUndefined(e)&&null!==e&&t.append(!0===l?Tt([r],a,n):null===l?r:r+"[]",o(e))}),!1;return!!At(e)||(t.append(Tt(s,r,n),o(e)),!1)}const d=[],u=Object.assign(Lt,{defaultVisitor:c,convertValue:o,isVisitable:At});if(!_t.isObject(e))throw new TypeError("data must be an object");return function e(r,a){if(!_t.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+a.join("."));d.push(r),_t.forEach(r,function(r,n){!0===(!(_t.isUndefined(r)||null===r)&&s.call(t,r,_t.isString(n)?n.trim():n,a,u))&&e(r,a?a.concat(n):[n])}),d.pop()}}(e),t};function Mt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Dt(e,t){this._pairs=[],e&&Rt(e,this,t)}const Ft=Dt.prototype;Ft.append=function(e,t){this._pairs.push([e,t])},Ft.toString=function(e){const t=e?function(t){return e.call(this,t,Mt)}:Mt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const It=Dt;function qt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ut(e,t,r){if(!t)return e;const a=r&&r.encode||qt;_t.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let n;if(n=s?s(t,r):_t.isURLSearchParams(t)?t.toString():new It(t,r).toString(a),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}const Bt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_t.forEach(this.handlers,function(t){null!==t&&e(t)})}},zt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ht={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:It,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Vt="undefined"!==typeof window&&"undefined"!==typeof document,Wt="object"===typeof navigator&&navigator||void 0,Kt=Vt&&(!Wt||["ReactNative","NativeScript","NS"].indexOf(Wt.product)<0),Gt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,$t=Vt&&window.location.href||"http://localhost",Jt=Ie(Ie({},e),Ht);const Yt=function(e){function t(e,r,a,s){let n=e[s++];if("__proto__"===n)return!0;const l=Number.isFinite(+n),i=s>=e.length;if(n=!n&&_t.isArray(a)?a.length:n,i)return _t.hasOwnProp(a,n)?a[n]=[a[n],r]:a[n]=r,!l;a[n]&&_t.isObject(a[n])||(a[n]=[]);return t(e,r,a[n],s)&&_t.isArray(a[n])&&(a[n]=function(e){const t={},r=Object.keys(e);let a;const s=r.length;let n;for(a=0;a<s;a++)n=r[a],t[n]=e[n];return t}(a[n])),!l}if(_t.isFormData(e)&&_t.isFunction(e.entries)){const r={};return _t.forEachEntry(e,(e,a)=>{t(function(e){return _t.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,r,0)}),r}return null};const Qt={transitional:zt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,s=_t.isObject(e);s&&_t.isHTMLForm(e)&&(e=new FormData(e));if(_t.isFormData(e))return a?JSON.stringify(Yt(e)):e;if(_t.isArrayBuffer(e)||_t.isBuffer(e)||_t.isStream(e)||_t.isFile(e)||_t.isBlob(e)||_t.isReadableStream(e))return e;if(_t.isArrayBufferView(e))return e.buffer;if(_t.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Rt(e,new Jt.classes.URLSearchParams,Ie({visitor:function(e,t,r,a){return Jt.isNode&&_t.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=_t.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Rt(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),function(e,t,r){if(_t.isString(e))try{return(t||JSON.parse)(e),_t.trim(e)}catch(_i){if("SyntaxError"!==_i.name)throw _i}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Qt.transitional,r=t&&t.forcedJSONParsing,a="json"===this.responseType;if(_t.isResponse(e)||_t.isReadableStream(e))return e;if(e&&_t.isString(e)&&(r&&!this.responseType||a)){const r=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(_i){if(r){if("SyntaxError"===_i.name)throw Ot.from(_i,Ot.ERR_BAD_RESPONSE,this,null,this.response);throw _i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],e=>{Qt.headers[e]={}});const Zt=Qt,Xt=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),er=Symbol("internals");function tr(e){return e&&String(e).trim().toLowerCase()}function rr(e){return!1===e||null==e?e:_t.isArray(e)?e.map(rr):String(e)}function ar(e,t,r,a,s){return _t.isFunction(a)?a.call(this,t,r):(s&&(t=r),_t.isString(t)?_t.isString(a)?-1!==t.indexOf(a):_t.isRegExp(a)?a.test(t):void 0:void 0)}class sr{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function s(e,t,r){const s=tr(t);if(!s)throw new Error("header name must be a non-empty string");const n=_t.findKey(a,s);(!n||void 0===a[n]||!0===r||void 0===r&&!1!==a[n])&&(a[n||t]=rr(e))}const n=(e,t)=>_t.forEach(e,(e,r)=>s(e,r,t));if(_t.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(_t.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))n((e=>{const t={};let r,a,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),r=e.substring(0,s).trim().toLowerCase(),a=e.substring(s+1).trim(),!r||t[r]&&Xt[r]||("set-cookie"===r?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t})(e),t);else if(_t.isObject(e)&&_t.isIterable(e)){let r,a,s={};for(const t of e){if(!_t.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[a=t[0]]=(r=s[a])?_t.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}n(s,t)}else null!=e&&s(t,e,r);return this}get(e,t){if(e=tr(e)){const r=_t.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}(e);if(_t.isFunction(t))return t.call(this,e,r);if(_t.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tr(e)){const r=_t.findKey(this,e);return!(!r||void 0===this[r]||t&&!ar(0,this[r],r,t))}return!1}delete(e,t){const r=this;let a=!1;function s(e){if(e=tr(e)){const s=_t.findKey(r,e);!s||t&&!ar(0,r[s],s,t)||(delete r[s],a=!0)}}return _t.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const s=t[r];e&&!ar(0,this[s],s,e,!0)||(delete this[s],a=!0)}return a}normalize(e){const t=this,r={};return _t.forEach(this,(a,s)=>{const n=_t.findKey(r,s);if(n)return t[n]=rr(a),void delete t[s];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(s):String(s).trim();l!==s&&delete t[s],t[l]=rr(a),r[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return _t.forEach(this,(r,a)=>{null!=r&&!1!==r&&(t[a]=e&&_t.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[er]=this[er]={accessors:{}}).accessors,r=this.prototype;function a(e){const a=tr(e);t[a]||(!function(e,t){const r=_t.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(e,r,s){return this[a].call(this,t,e,r,s)},configurable:!0})})}(r,e),t[a]=!0)}return _t.isArray(e)?e.forEach(a):a(e),this}}sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_t.reduceDescriptors(sr.prototype,(e,t)=>{let{value:r}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[a]=e}}}),_t.freezeMethods(sr);const nr=sr;function lr(e,t){const r=this||Zt,a=t||r,s=nr.from(a.headers);let n=a.data;return _t.forEach(e,function(e){n=e.call(r,n,s.normalize(),t?t.status:void 0)}),s.normalize(),n}function ir(e){return!(!e||!e.__CANCEL__)}function or(e,t,r){Ot.call(this,null==e?"canceled":e,Ot.ERR_CANCELED,t,r),this.name="CanceledError"}_t.inherits(or,Ot,{__CANCEL__:!0});const cr=or;function dr(e,t,r){const a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new Ot("Request failed with status code "+r.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const ur=function(e,t){e=e||10;const r=new Array(e),a=new Array(e);let s,n=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=a[l];s||(s=o),r[n]=i,a[n]=o;let d=l,u=0;for(;d!==n;)u+=r[d++],d%=e;if(n=(n+1)%e,n===l&&(l=(l+1)%e),o-s<t)return;const h=c&&o-c;return h?Math.round(1e3*u/h):void 0}};const hr=function(e,t){let r,a,s=0,n=1e3/t;const l=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=n,r=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=n?l(o,e):(r=o,a||(a=setTimeout(()=>{a=null,l(r)},n-t)))},()=>r&&l(r)]},mr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const s=ur(50,250);return hr(r=>{const n=r.loaded,l=r.lengthComputable?r.total:void 0,i=n-a,o=s(i);a=n;e({loaded:n,total:l,progress:l?n/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&n<=l?(l-n)/o:void 0,event:r,lengthComputable:null!=l,[t?"download":"upload"]:!0})},r)},pr=(e,t)=>{const r=null!=e;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},xr=e=>function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return _t.asap(()=>e(...r))},fr=Jt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Jt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,gr=Jt.hasStandardBrowserEnv?{write(e,t,r,a,s,n){const l=[e+"="+encodeURIComponent(t)];_t.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),_t.isString(a)&&l.push("path="+a),_t.isString(s)&&l.push("domain="+s),!0===n&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function yr(e,t,r){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const br=e=>e instanceof nr?Ie({},e):e;function vr(e,t){t=t||{};const r={};function a(e,t,r,a){return _t.isPlainObject(e)&&_t.isPlainObject(t)?_t.merge.call({caseless:a},e,t):_t.isPlainObject(t)?_t.merge({},t):_t.isArray(t)?t.slice():t}function s(e,t,r,s){return _t.isUndefined(t)?_t.isUndefined(e)?void 0:a(void 0,e,0,s):a(e,t,0,s)}function n(e,t){if(!_t.isUndefined(t))return a(void 0,t)}function l(e,t){return _t.isUndefined(t)?_t.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(r,s,n){return n in t?a(r,s):n in e?a(void 0,r):void 0}const o={url:n,method:n,data:n,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,r)=>s(br(e),br(t),0,!0)};return _t.forEach(Object.keys(Ie(Ie({},e),t)),function(a){const n=o[a]||s,l=n(e[a],t[a],a);_t.isUndefined(l)&&n!==i||(r[a]=l)}),r}const jr=e=>{const t=vr({},e);let r,{data:a,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=nr.from(i),t.url=Ut(yr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),_t.isFormData(a))if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(r=i.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(Jt.hasStandardBrowserEnv&&(s&&_t.isFunction(s)&&(s=s(t)),s||!1!==s&&fr(t.url))){const e=n&&l&&gr.read(l);e&&i.set(n,e)}return t},wr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const a=jr(e);let s=a.data;const n=nr.from(a.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let x=new XMLHttpRequest;function f(){if(!x)return;const a=nr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());dr(function(e){t(e),p()},function(e){r(e),p()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:a,config:e,request:x}),x=null}x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(r(new Ot("Request aborted",Ot.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new Ot("Network Error",Ot.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const s=a.transitional||zt;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),r(new Ot(t,s.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,e,x)),x=null},void 0===s&&n.setContentType(null),"setRequestHeader"in x&&_t.forEach(n.toJSON(),function(e,t){x.setRequestHeader(t,e)}),_t.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),u&&"json"!==u&&(x.responseType=a.responseType),m&&([o,d]=mr(m,!0),x.addEventListener("progress",o)),h&&x.upload&&([i,c]=mr(h),x.upload.addEventListener("progress",i),x.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(l=t=>{x&&(r(!t||t.type?new cr(null,e,x):t),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===Jt.protocols.indexOf(g)?r(new Ot("Unsupported protocol "+g+":",Ot.ERR_BAD_REQUEST,e)):x.send(s||null)})},kr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,a=new AbortController;const s=function(e){if(!r){r=!0,l();const t=e instanceof Error?e:this.reason;a.abort(t instanceof Ot?t:new cr(t instanceof Error?t.message:t))}};let n=t&&setTimeout(()=>{n=null,s(new Ot("timeout ".concat(t," of ms exceeded"),Ot.ETIMEDOUT))},t);const l=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:i}=a;return i.unsubscribe=()=>_t.asap(l),i}};function Nr(e,t){this.v=e,this.k=t}function _r(e){return function(){return new Sr(e.apply(this,arguments))}}function Sr(e){var t,r;function a(t,r){try{var n=e[t](r),l=n.value,i=l instanceof Nr;Promise.resolve(i?l.v:l).then(function(r){if(i){var o="return"===t?"return":"next";if(!l.k||r.done)return a(o,r);r=e[o](r).value}s(n.done?"return":"normal",r)},function(e){a("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,s){return new Promise(function(n,l){var i={key:e,arg:s,resolve:n,reject:l,next:null};r?r=r.next=i:(t=r=i,a(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function Cr(e){return new Nr(e,0)}function Er(e){var t={},r=!1;function a(t,a){return r=!0,a=new Promise(function(r){r(e[t](a))}),{done:!1,value:new Nr(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):a("return",e)}),t}function Or(e){var t,r,a,s=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,a=Symbol.iterator);s--;){if(r&&null!=(t=e[r]))return t.call(e);if(a&&null!=(t=e[a]))return new Ar(t.call(e));r="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Ar(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ar=function(e){this.s=e,this.n=e.next},Ar.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Ar(e)}Sr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Sr.prototype.next=function(e){return this._invoke("next",e)},Sr.prototype.throw=function(e){return this._invoke("throw",e)},Sr.prototype.return=function(e){return this._invoke("return",e)};const Pr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let a,s=0;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},Tr=function(){var e=_r(function*(e,t){var r,a=!1,s=!1;try{for(var n,l=Or(Lr(e));a=!(n=yield Cr(l.next())).done;a=!1){const e=n.value;yield*Er(Or(Pr(e,t)))}}catch(i){s=!0,r=i}finally{try{a&&null!=l.return&&(yield Cr(l.return()))}finally{if(s)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Lr=function(){var e=_r(function*(e){if(e[Symbol.asyncIterator])return void(yield*Er(Or(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Cr(t.read());if(e)break;yield r}}finally{yield Cr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Rr=(e,t,r,a)=>{const s=Tr(e,t);let n,l=0,i=e=>{n||(n=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await s.next();if(t)return i(),void e.close();let n=a.byteLength;if(r){let e=l+=n;r(e)}e.enqueue(new Uint8Array(a))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},Mr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Dr=Mr&&"function"===typeof ReadableStream,Fr=Mr&&("function"===typeof TextEncoder?(Ir=new TextEncoder,e=>Ir.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ir;const qr=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return!!e(...r)}catch(_i){return!1}},Ur=Dr&&qr(()=>{let e=!1;const t=new Request(Jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Br=Dr&&qr(()=>_t.isReadableStream(new Response("").body)),zr={stream:Br&&(e=>e.body)};var Hr;Mr&&(Hr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zr[e]&&(zr[e]=_t.isFunction(Hr[e])?t=>t[e]():(t,r)=>{throw new Ot("Response type '".concat(e,"' is not supported"),Ot.ERR_NOT_SUPPORT,r)})}));const Vr=async(e,t)=>{const r=_t.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(_t.isBlob(e))return e.size;if(_t.isSpecCompliantForm(e)){const t=new Request(Jt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return _t.isArrayBufferView(e)||_t.isArrayBuffer(e)?e.byteLength:(_t.isURLSearchParams(e)&&(e+=""),_t.isString(e)?(await Fr(e)).byteLength:void 0)})(t):r},Wr=Mr&&(async e=>{let{url:t,method:r,data:a,signal:s,cancelToken:n,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=jr(e);c=c?(c+"").toLowerCase():"text";let m,p=kr([s,n&&n.toAbortSignal()],l);const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let f;try{if(o&&Ur&&"get"!==r&&"head"!==r&&0!==(f=await Vr(d,a))){let e,r=new Request(t,{method:"POST",body:a,duplex:"half"});if(_t.isFormData(a)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=pr(f,mr(xr(o)));a=Rr(r.body,65536,e,t)}}_t.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;m=new Request(t,Ie(Ie({},h),{},{signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:s?u:void 0}));let n=await fetch(m,h);const l=Br&&("stream"===c||"response"===c);if(Br&&(i||l&&x)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=n[t]});const t=_t.toFiniteNumber(n.headers.get("content-length")),[r,a]=i&&pr(t,mr(xr(i),!0))||[];n=new Response(Rr(n.body,65536,r,()=>{a&&a(),x&&x()}),e)}c=c||"text";let g=await zr[_t.findKey(zr,c)||"text"](n,e);return!l&&x&&x(),await new Promise((t,r)=>{dr(t,r,{data:g,headers:nr.from(n.headers),status:n.status,statusText:n.statusText,config:e,request:m})})}catch(g){if(x&&x(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new Ot("Network Error",Ot.ERR_NETWORK,e,m),{cause:g.cause||g});throw Ot.from(g,g&&g.code,e,m)}}),Kr={http:null,xhr:wr,fetch:Wr};_t.forEach(Kr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(_i){}Object.defineProperty(e,"adapterName",{value:t})}});const Gr=e=>"- ".concat(e),$r=e=>_t.isFunction(e)||null===e||!1===e,Jr=e=>{e=_t.isArray(e)?e:[e];const{length:t}=e;let r,a;const s={};for(let n=0;n<t;n++){let t;if(r=e[n],a=r,!$r(r)&&(a=Kr[(t=String(r)).toLowerCase()],void 0===a))throw new Ot("Unknown adapter '".concat(t,"'"));if(a)break;s[t||"#"+n]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let r=t?e.length>1?"since :\n"+e.map(Gr).join("\n"):" "+Gr(e[0]):"as no adapter specified";throw new Ot("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return a};function Yr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cr(null,e)}function Qr(e){Yr(e),e.headers=nr.from(e.headers),e.data=lr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Jr(e.adapter||Zt.adapter)(e).then(function(t){return Yr(e),t.data=lr.call(e,e.transformResponse,t),t.headers=nr.from(t.headers),t},function(t){return ir(t)||(Yr(e),t&&t.response&&(t.response.data=lr.call(e,e.transformResponse,t.response),t.response.headers=nr.from(t.response.headers))),Promise.reject(t)})}const Zr="1.11.0",Xr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ea={};Xr.transitional=function(e,t,r){function a(e,t){return"[Axios v"+Zr+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,s,n)=>{if(!1===e)throw new Ot(a(s," has been removed"+(t?" in "+t:"")),Ot.ERR_DEPRECATED);return t&&!ea[s]&&(ea[s]=!0,console.warn(a(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,n)}},Xr.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const ta={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const n=a[s],l=t[n];if(l){const t=e[n],r=void 0===t||l(t,n,e);if(!0!==r)throw new Ot("option "+n+" must be "+r,Ot.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Ot("Unknown option "+n,Ot.ERR_BAD_OPTION)}},validators:Xr},ra=ta.validators;class aa{constructor(e){this.defaults=e||{},this.interceptors={request:new Bt,response:new Bt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(_i){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=vr(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:s}=t;void 0!==r&&ta.assertOptions(r,{silentJSONParsing:ra.transitional(ra.boolean),forcedJSONParsing:ra.transitional(ra.boolean),clarifyTimeoutError:ra.transitional(ra.boolean)},!1),null!=a&&(_t.isFunction(a)?t.paramsSerializer={serialize:a}:ta.assertOptions(a,{encode:ra.function,serialize:ra.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ta.assertOptions(t,{baseUrl:ra.spelling("baseURL"),withXsrfToken:ra.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=s&&_t.merge(s.common,s[t.method]);s&&_t.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=nr.concat(n,s);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[Qr.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let h=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Qr.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Ut(yr((e=vr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}_t.forEach(["delete","get","head","options"],function(e){aa.prototype[e]=function(t,r){return this.request(vr(r||{},{method:e,url:t,data:(r||{}).data}))}}),_t.forEach(["post","put","patch"],function(e){function t(t){return function(r,a,s){return this.request(vr(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}aa.prototype[e]=t(),aa.prototype[e+"Form"]=t(!0)});const sa=aa;class na{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{r.subscribe(e),t=e}).then(e);return a.cancel=function(){r.unsubscribe(t)},a},e(function(e,a,s){r.reason||(r.reason=new cr(e,a,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new na(function(t){e=t}),cancel:e}}}const la=na;const ia={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ia).forEach(e=>{let[t,r]=e;ia[r]=t});const oa=ia;const ca=function e(t){const r=new sa(t),a=qe(sa.prototype.request,r);return _t.extend(a,sa.prototype,r,{allOwnKeys:!0}),_t.extend(a,r,null,{allOwnKeys:!0}),a.create=function(r){return e(vr(t,r))},a}(Zt);ca.Axios=sa,ca.CanceledError=cr,ca.CancelToken=la,ca.isCancel=ir,ca.VERSION=Zr,ca.toFormData=Rt,ca.AxiosError=Ot,ca.Cancel=ca.CanceledError,ca.all=function(e){return Promise.all(e)},ca.spread=function(e){return function(t){return e.apply(null,t)}},ca.isAxiosError=function(e){return _t.isObject(e)&&!0===e.isAxiosError},ca.mergeConfig=vr,ca.AxiosHeaders=nr,ca.formToJSON=e=>Yt(_t.isHTMLForm(e)?new FormData(e):e),ca.getAdapter=Jr,ca.HttpStatusCode=oa,ca.default=ca;const da=ca,ua={development:{BACKEND_URL:"https://tender-system.preview.emergentagent.com",FRONTEND_URL:"https://tender-system.preview.emergentagent.com"},production:{BACKEND_URL:"http://217.154.0.82/api",FRONTEND_URL:"http://217.154.0.82"}},ha=ua.development,ma={API_BASE_URL:"".concat(ha.BACKEND_URL,"/api")},pa={AUTH:{LOGIN:"".concat(ha.BACKEND_URL,"/api/auth/login"),REGISTER:"".concat(ha.BACKEND_URL,"/api/auth/register"),LOGOUT:"".concat(ha.BACKEND_URL,"/api/auth/logout"),PROFILE:"".concat(ha.BACKEND_URL,"/api/auth/profile"),REFRESH:"".concat(ha.BACKEND_URL,"/api/auth/refresh")},MARKETPLACE:{LISTINGS:"".concat(ha.BACKEND_URL,"/api/listings"),BROWSE:"".concat(ha.BACKEND_URL,"/api/marketplace/browse"),FAVORITES:"".concat(ha.BACKEND_URL,"/api/marketplace/favorites"),SEARCH:"".concat(ha.BACKEND_URL,"/api/marketplace/search")},USER:{MY_LISTINGS:"".concat(ha.BACKEND_URL,"/api/user/my-listings/{user_id}"),MY_DEALS:"".concat(ha.BACKEND_URL,"/api/user/my-deals/{user_id}"),NOTIFICATIONS:"".concat(ha.BACKEND_URL,"/api/user/notifications/{user_id}"),PROFILE:"".concat(ha.BACKEND_URL,"/api/user/profile")},ADMIN:{DASHBOARD:"".concat(ha.BACKEND_URL,"/api/admin/dashboard"),USERS:"".concat(ha.BACKEND_URL,"/api/admin/users"),SETTINGS:"".concat(ha.BACKEND_URL,"/api/admin/settings"),KPIS:"".concat(ha.BACKEND_URL,"/api/admin/kpis"),LOGO:"".concat(ha.BACKEND_URL,"/api/admin/logo")}},xa={HOME:"/",BROWSE:"/browse",MY_LISTINGS:"/my-listings",MY_DEALS:"/my-deals",TENDERS:"/tenders",MY_TENDERS:"/my-tenders",ADMIN_PANEL:"/admin",FAVORITES:"/favorites",NOTIFICATIONS:"/notifications",PROFILE:"/profile",LOGIN:"/login",REGISTER:"/register",INFO:"/info"},fa={APP_NAME:"Cataloro",LOGO_URL:"/assets/logo.png",DEFAULT_AVATAR:"/assets/default-avatar.png",PAGINATION_SIZE:12,NOTIFICATION_TIMEOUT:5e3},ga={USER:"user",ADMIN:"admin",MODERATOR:"moderator"};const ya=new class{constructor(){da.defaults.timeout=1e4,da.interceptors.request.use(e=>{const t=localStorage.getItem("cataloro_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),da.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),window.location.href="/login"),Promise.reject(e)})}async login(e,t){try{return(await da.post(pa.AUTH.LOGIN,{email:e,password:t})).data}catch(s){var r,a;throw new Error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Login failed")}}async register(e){try{return(await da.post(pa.AUTH.REGISTER,e)).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Registration failed")}}async logout(){try{await da.post(pa.AUTH.LOGOUT)}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}}async getProfile(e){try{return(await da.get(pa.AUTH.PROFILE.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch profile")}}async refreshToken(){try{const e=await da.post(pa.AUTH.REFRESH),{token:t}=e.data;return localStorage.setItem("cataloro_token",t),t}catch(e){throw new Error("Token refresh failed")}}isAuthenticated(){return!!localStorage.getItem("cataloro_token")}getCurrentUser(){try{const e=localStorage.getItem("cataloro_user");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing user data:",e),null}}getToken(){return localStorage.getItem("cataloro_token")}};var ba=r(579);const va={user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},ja="LOGIN_START",wa="LOGIN_SUCCESS",ka="LOGIN_FAILURE",Na="LOGOUT",_a="SET_USER",Sa="CLEAR_ERROR";function Ca(e,t){switch(t.type){case ja:return Ie(Ie({},e),{},{isLoading:!0,error:null});case wa:return Ie(Ie({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null});case ka:return Ie(Ie({},e),{},{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t.payload});case Na:return Ie({},va);case _a:return Ie(Ie({},e),{},{user:t.payload});case Sa:return Ie(Ie({},e),{},{error:null});default:return e}}const Ea=(0,a.createContext)();function Oa(e){let{children:t}=e;const[r,s]=(0,a.useReducer)(Ca,va);(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_token"),t=localStorage.getItem("cataloro_user");if(e&&t)try{s({type:wa,payload:{token:e,user:JSON.parse(t)}})}catch(r){console.error("Error parsing stored user data:",r),localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}},[]);const n=async(e,t)=>{s({type:ja});try{const r=await ya.login(e,t);return localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),s({type:wa,payload:r}),r}catch(r){throw s({type:ka,payload:r.message}),r}},l=()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.role)===ga.ADMIN},i=Ie(Ie({},r),{},{login:n,register:async e=>{s({type:ja});try{const t=await ya.register(e);return t.user_id?await n(e.email,e.password):t}catch(t){throw s({type:ka,payload:t.message}),t}},logout:()=>{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),s({type:Na})},clearError:()=>{s({type:Sa})},updateUser:e=>{localStorage.setItem("cataloro_user",JSON.stringify(e)),s({type:_a,payload:e})},isAdmin:l,isModerator:()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.role)===ga.MODERATOR||l()},hasPermission:e=>{if(!r.user)return!1;const t={[ga.USER]:1,[ga.MODERATOR]:2,[ga.ADMIN]:3};return t[r.user.role]>=t[e]}});return(0,ba.jsx)(Ea.Provider,{value:i,children:t})}function Aa(){const e=(0,a.useContext)(Ea);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Pa=new class{async getUserNotifications(e){try{return(await da.get(pa.USER.NOTIFICATIONS.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch notifications")}}async markAsRead(e){try{await da.put("".concat(pa.USER.NOTIFICATIONS,"/").concat(e,"/read"))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to mark notification as read")}}async markAllAsRead(e){try{await da.put("".concat(pa.USER.NOTIFICATIONS.replace("{user_id}",e),"/read-all"))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to mark all notifications as read")}}async deleteNotification(e){try{await da.delete("".concat(pa.USER.NOTIFICATIONS,"/").concat(e))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete notification")}}},Ta={notifications:[],unreadCount:0,isLoading:!1,error:null},La="FETCH_START",Ra="FETCH_SUCCESS",Ma="FETCH_FAILURE",Da="MARK_AS_READ",Fa="MARK_ALL_AS_READ",Ia="ADD_NOTIFICATION",qa="REMOVE_NOTIFICATION";function Ua(e,t){switch(t.type){case La:return Ie(Ie({},e),{},{isLoading:!0,error:null});case Ra:const r=t.payload,a=r.filter(e=>!e.is_read).length;return Ie(Ie({},e),{},{notifications:r,unreadCount:a,isLoading:!1,error:null});case Ma:return Ie(Ie({},e),{},{isLoading:!1,error:t.payload});case Da:const s=e.notifications.map(e=>e.id===t.payload?Ie(Ie({},e),{},{is_read:!0}):e);return Ie(Ie({},e),{},{notifications:s,unreadCount:Math.max(0,e.unreadCount-1)});case Fa:return Ie(Ie({},e),{},{notifications:e.notifications.map(e=>Ie(Ie({},e),{},{is_read:!0})),unreadCount:0});case Ia:return Ie(Ie({},e),{},{notifications:[t.payload,...e.notifications],unreadCount:e.unreadCount+1});case qa:const n=e.notifications.filter(e=>e.id!==t.payload);return Ie(Ie({},e),{},{notifications:n,unreadCount:n.filter(e=>!e.is_read).length});default:return e}}const Ba=(0,a.createContext)();function za(e){let{children:t}=e;const[r,s]=(0,a.useReducer)(Ua,Ta),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s({type:Ia,payload:Ie({id:Date.now().toString(),user_id:t,created_at:(new Date).toISOString(),is_read:!1},e)})},l=e=>{s({type:qa,payload:e})},i=Ie(Ie({},r),{},{fetchNotifications:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){s({type:La});try{const t=await Pa.getUserNotifications(e);s({type:Ra,payload:t})}catch(t){s({type:Ma,payload:t.message})}}},markAsRead:async e=>{try{await Pa.markAsRead(e),s({type:Da,payload:e})}catch(t){console.error("Error marking notification as read:",t)}},markAllAsRead:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)try{await Pa.markAllAsRead(e),s({type:Fa})}catch(t){console.error("Error marking all notifications as read:",t)}},addNotification:n,removeNotification:l,showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";n({title:t.charAt(0).toUpperCase()+t.slice(1),message:e,type:t}),setTimeout(()=>{l(Date.now().toString())},5e3)}});return(0,ba.jsx)(Ba.Provider,{value:i,children:t})}function Ha(){const e=(0,a.useContext)(Ba);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e}const Va=new class{async browseListings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e);return(await da.get("".concat(ma.API_BASE_URL,"/marketplace/browse?").concat(t))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch listings")}}async getMyListings(e){try{return(await da.get(pa.USER.MY_LISTINGS.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch your listings")}}async getMyDeals(e){try{return(await da.get(pa.USER.MY_DEALS.replace("{user_id}",e))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch your deals")}}async createListing(e){try{return(await da.post("".concat(ma.API_BASE_URL,"/listings"),e)).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to create listing")}}async updateListing(e,t){try{return(await da.put("".concat(pa.MARKETPLACE.LISTINGS,"/").concat(e),t)).data}catch(s){var r,a;throw new Error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to update listing")}}async deleteListing(e){try{await da.delete("".concat(pa.MARKETPLACE.LISTINGS,"/").concat(e))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete listing")}}async searchListings(e){try{return(await da.get("".concat(pa.MARKETPLACE.SEARCH,"?q=").concat(encodeURIComponent(e)))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Search failed")}}};const Wa=new class{constructor(){this.baseURL=ma.API_BASE_URL}async getUserFavorites(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/favorites"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching favorites:",t),t}}async addToFavorites(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/favorites/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error adding to favorites:",r),r}}async removeFromFavorites(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/favorites/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error removing from favorites:",r),r}}async getUserCart(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/cart"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching cart:",t),t}}async addToCart(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/cart"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error adding to cart:",r),r}}async updateCartItem(e,t,r){try{const a=await fetch("".concat(this.baseURL,"/user/").concat(e,"/cart/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(a){throw console.error("Error updating cart item:",a),a}}async removeFromCart(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/cart/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error removing from cart:",r),r}}async getUserMessages(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching messages:",t),t}}async sendMessage(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error sending message:",r),r}}async markMessageRead(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/messages/").concat(t,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error marking message as read:",r),r}}async getUserNotifications(e){try{const t=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching notifications:",t),t}}async createNotification(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error creating notification:",r),r}}async markNotificationRead(e,t){try{const r=await fetch("".concat(this.baseURL,"/user/").concat(e,"/notifications/").concat(t,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(r){throw console.error("Error marking notification as read:",r),r}}async searchUsers(e){try{const t=await fetch("".concat(this.baseURL,"/users/search?q=").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error searching users:",t),t}}},Ka={cartItems:[],cartCount:0,cartTotal:0,favorites:[],favoriteCount:0,searchQuery:"",activeFilters:{type:"all",priceFrom:0,priceTo:1e4,rating:0,location:"all"},allProducts:[],filteredProducts:[],categories:[],recentlyViewed:[],notifications:[],messages:[],viewMode:"grid",sortBy:"newest",isLoading:!1,appliedPromo:null,availablePromos:[{code:"SAVE10",discount:.1,description:"10% off your order"},{code:"FREESHIP",shippingDiscount:!0,description:"Free shipping"},{code:"WELCOME20",discount:.2,description:"20% off first order",minAmount:100}]},Ga="ADD_TO_CART",$a="REMOVE_FROM_CART",Ja="UPDATE_QUANTITY",Ya="CLEAR_CART",Qa="SET_CART",Za="APPLY_PROMO",Xa="REMOVE_PROMO",es="ADD_TO_FAVORITES",ts="REMOVE_FROM_FAVORITES",rs="SET_FAVORITES",as="SET_PRODUCTS",ss="SET_FILTERED_PRODUCTS",ns="SET_SEARCH_QUERY",ls="SET_FILTERS",is="SET_SORT_BY",os="SET_VIEW_MODE",cs="SET_LOADING",ds="ADD_NOTIFICATION",us="REMOVE_NOTIFICATION",hs="ADD_TO_RECENTLY_VIEWED";function ms(e,t){switch(t.type){case Ga:{let r;if(e.cartItems.find(e=>e.id===t.payload.id))return e;r=[...e.cartItems,Ie(Ie({},t.payload),{},{quantity:1})];const a=r.reduce((e,t)=>e+t.quantity,0),s=r.reduce((e,t)=>e+t.price*t.quantity,0);return Ie(Ie({},e),{},{cartItems:r,cartCount:a,cartTotal:s})}case $a:{const r=e.cartItems.filter(e=>e.id!==t.payload),a=r.reduce((e,t)=>e+t.quantity,0),s=r.reduce((e,t)=>e+t.price*t.quantity,0);return Ie(Ie({},e),{},{cartItems:r,cartCount:a,cartTotal:s})}case Ja:{const{id:r,quantity:a}=t.payload;if(a<=0)return ms(e,{type:$a,payload:r});const s=e.cartItems.map(e=>e.id===r?Ie(Ie({},e),{},{quantity:a}):e),n=s.reduce((e,t)=>e+t.quantity,0),l=s.reduce((e,t)=>e+t.price*t.quantity,0);return Ie(Ie({},e),{},{cartItems:s,cartCount:n,cartTotal:l})}case Ya:return Ie(Ie({},e),{},{cartItems:[],cartCount:0,cartTotal:0,appliedPromo:null});case es:return e.favorites.some(e=>e.id===t.payload.id)?e:Ie(Ie({},e),{},{favorites:[...e.favorites,t.payload],favoriteCount:e.favoriteCount+1});case ts:return Ie(Ie({},e),{},{favorites:e.favorites.filter(e=>e.id!==t.payload),favoriteCount:Math.max(0,e.favoriteCount-1)});case rs:return Ie(Ie({},e),{},{favorites:t.payload,favoriteCount:t.payload.length});case Qa:return Ie(Ie({},e),{},{cartItems:t.payload,cartCount:t.payload.length,cartTotal:t.payload.reduce((e,t)=>e+t.price*t.quantity,0)});case as:return Ie(Ie({},e),{},{allProducts:t.payload,filteredProducts:t.payload});case ss:return Ie(Ie({},e),{},{filteredProducts:t.payload});case ns:return Ie(Ie({},e),{},{searchQuery:t.payload});case ls:return Ie(Ie({},e),{},{activeFilters:Ie(Ie({},e.activeFilters),t.payload)});case is:return Ie(Ie({},e),{},{sortBy:t.payload});case os:return Ie(Ie({},e),{},{viewMode:t.payload});case Za:{const r=e.availablePromos.find(e=>e.code===t.payload);return Ie(Ie({},e),{},{appliedPromo:r||null})}case Xa:return Ie(Ie({},e),{},{appliedPromo:null});case ds:return Ie(Ie({},e),{},{notifications:[t.payload,...e.notifications]});case us:return Ie(Ie({},e),{},{notifications:e.notifications.filter(e=>e.id!==t.payload)});case hs:{const r=e.recentlyViewed.filter(e=>e.id!==t.payload.id);return Ie(Ie({},e),{},{recentlyViewed:[t.payload,...r].slice(0,10)})}case cs:return Ie(Ie({},e),{},{isLoading:t.payload});default:return e}}const ps=(0,a.createContext)();function xs(e){let{children:t}=e;const[r,s]=(0,a.useReducer)(ms,Ka);(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_cart"),t=localStorage.getItem("cataloro_favorites");if(e)try{JSON.parse(e).forEach(e=>{s({type:Ga,payload:e})})}catch(r){console.error("Error loading cart from storage:",r)}if(t)try{JSON.parse(t).forEach(e=>{s({type:es,payload:e})})}catch(r){console.error("Error loading favorites from storage:",r)}n()},[]),(0,a.useEffect)(()=>{localStorage.setItem("cataloro_cart",JSON.stringify(r.cartItems))},[r.cartItems]),(0,a.useEffect)(()=>{localStorage.setItem("cataloro_favorites",JSON.stringify(r.favorites))},[r.favorites]);const n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s({type:cs,payload:!0});try{const t=e||r.activeFilters,a={};t.type&&"all"!==t.type&&(a.type=t.type),t.priceFrom>0&&(a.price_from=t.priceFrom),t.priceTo<1e4&&(a.price_to=t.priceTo);const n=await Va.browseListings(a);let l;if(console.log("\u2705 Loaded real listings from API with filters:",a,n),!Array.isArray(n))throw new Error("Invalid API response format: expected array");l=n,console.log("\ud83d\udccb Processing listings:",l.length),l.length>0&&(console.log("\ud83d\udd0d First listing raw data:",JSON.stringify(l[0],null,2)),console.log("\ud83d\udd0d First listing seller data:",l[0].seller));const i=l.map((e,t)=>{var r,a,s,n,l,i,o,c;const d={id:e.id,title:e.title,description:e.description,price:parseFloat(e.price)||0,originalPrice:1.1*(parseFloat(e.price)||0),category:e.category,condition:e.condition,location:e.location||"Unknown",images:e.images||[],seller:Ie(Ie({},e.seller),{},{name:(null===(r=e.seller)||void 0===r?void 0:r.name)||"Unknown Seller",username:(null===(a=e.seller)||void 0===a?void 0:a.username)||"Unknown",email:(null===(s=e.seller)||void 0===s?void 0:s.email)||"",is_business:(null===(n=e.seller)||void 0===n?void 0:n.is_business)||!1,business_name:(null===(l=e.seller)||void 0===l?void 0:l.business_name)||"",verified:(null===(i=e.seller)||void 0===i?void 0:i.verified)||!1,location:(null===(o=e.seller)||void 0===o?void 0:o.location)||"Unknown"}),address:e.address||{},rating:4.5,reviewCount:Math.floor(100*Math.random())+10,isHotDeal:Math.random()>.7,hasFastShipping:Math.random()>.6,verified:(null===(c=e.seller)||void 0===c?void 0:c.verified)||!1,inStock:!0,quantity:1,tags:e.tags||[],features:e.features||[]};return 0===t&&(console.log("\ud83d\udd04 First listing transformed:",JSON.stringify(d,null,2)),console.log("\ud83d\udd04 First listing seller after transform:",d.seller)),d});return s({type:as,payload:i}),s({type:cs,payload:!1}),void console.log("\ud83c\udf89 Successfully loaded",i.length,"real listings from API")}catch(a){console.error("Failed to load listings from API:",a)}console.log("\u26a0\ufe0f Using demo data - no real listings found");const t=[{id:"1",title:"MacBook Pro 16-inch M3 Max",description:"Professional laptop with M3 Max chip, perfect for developers and creators. Includes original box and all accessories.",price:2499,originalPrice:2799,category:"Electronics",subcategory:"Laptops",seller:{name:"TechGuru123",username:"TechGuru123",email:"techguru123@example.com",rating:4.9,reviews:156,verified:!0,is_business:!1,location:"San Francisco, CA"},images:["https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500","https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?w=500","https://images.unsplash.com/photo-1585337701044-7305994ea6fb?w=500"],condition:"Like New",views:234,favorites:45,createdAt:(new Date).toISOString(),features:["M3 Max Chip","64GB RAM","2TB SSD","Space Gray","16-inch Display"],shipping:"Free shipping",estimatedDelivery:"2-3 business days",rating:4.8,reviewCount:156,tags:["Hot Deal","Fast Shipping","Professional"],inStock:!0,quantity:1},{id:"2",title:"Vintage Gibson Les Paul Standard 1959",description:"Authentic 1959 Gibson Les Paul in museum-quality condition. This is a collector's dream with incredible tone and playability.",price:45e3,originalPrice:55e3,category:"Music",subcategory:"Guitars",seller:{name:"VintageGuitars_Pro",username:"VintageGuitars_Pro",email:"vintage.guitars.pro@example.com",rating:4.9,reviews:89,verified:!0,is_business:!0,company_name:"Vintage Guitars Pro LLC",location:"Nashville, TN"},images:["https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=500","https://images.unsplash.com/photo-1564186763535-ebb21ef5277f?w=500","https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=500"],condition:"Excellent",views:1289,favorites:267,createdAt:new Date(Date.now()-864e5).toISOString(),features:["1959 Model","Original Case","Certificate of Authenticity","Museum Quality"],shipping:"Insured shipping - $150",estimatedDelivery:"3-5 business days",rating:4.9,reviewCount:89,tags:["Vintage","Authenticated","Collector Item"],inStock:!0,quantity:1},{id:"3",title:"Louis Vuitton Neverfull MM",description:"Authentic Louis Vuitton handbag in pristine condition. Perfect for daily use with elegant design.",price:1850,originalPrice:2200,category:"Fashion",subcategory:"Handbags",seller:{name:"LuxuryItems_NYC",username:"LuxuryItems_NYC",email:"luxury.items.nyc@example.com",rating:4.7,reviews:245,verified:!0,is_business:!0,company_name:"Luxury Items NYC Inc.",location:"New York, NY"},images:["https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=500","https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500"],condition:"Excellent",views:456,favorites:189,createdAt:new Date(Date.now()-1728e5).toISOString(),features:["Authentic","Dust Bag Included","Care Instructions","Serial Number"],shipping:"Express delivery - $25",estimatedDelivery:"1-2 business days",rating:4.6,reviewCount:245,tags:["Luxury","Authentic","Designer"],inStock:!0,quantity:1},{id:"4",title:"Gaming PC - RTX 4090 Build",description:"Ultimate gaming PC with RTX 4090, perfect for 4K gaming, streaming, and content creation.",price:4200,originalPrice:4800,category:"Electronics",subcategory:"Computers",seller:{name:"PCBuilder_Expert",rating:4.9,reviews:78,verified:!0,location:"Austin, TX"},images:["https://images.unsplash.com/photo-1587831990711-23ca6441447b?w=500"],condition:"New",views:698,favorites:212,createdAt:new Date(Date.now()-432e5).toISOString(),features:["RTX 4090","Intel i9-13900K","64GB RAM","Custom Cooling"],shipping:"Free shipping",estimatedDelivery:"3-5 business days",rating:5,reviewCount:78,tags:["Gaming","Custom Built","High Performance"],inStock:!0,quantity:1},{id:"5",title:"iPhone 15 Pro Max 1TB",description:"Latest iPhone 15 Pro Max in Natural Titanium with maximum storage capacity.",price:1599,category:"Electronics",subcategory:"Smartphones",seller:{name:"AppleStore_Certified",rating:4.8,reviews:324,verified:!0,location:"Cupertino, CA"},images:["https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=500"],condition:"New",views:1205,favorites:398,createdAt:new Date(Date.now()-216e5).toISOString(),features:["1TB Storage","Natural Titanium","Pro Camera System","A17 Pro Chip"],shipping:"Free shipping",estimatedDelivery:"1-2 business days",rating:4.8,reviewCount:324,tags:["Latest Model","Premium","Fast Shipping"],inStock:!0,quantity:1}];s({type:as,payload:t})},l={addToCart:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r.cartItems.find(t=>t.id===e.id))o("".concat(e.title," is already in your cart"),"info");else try{t&&await Wa.addToCart(t,{item_id:e.id,quantity:1,price:e.price}),s({type:Ga,payload:e}),o("Added ".concat(e.title," to cart!"),"success")}catch(a){console.error("Error adding to cart:",a),s({type:Ga,payload:e}),o("Added ".concat(e.title," to cart!"),"success")}},removeFromCart:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t&&await Wa.removeFromCart(t,e),s({type:$a,payload:e}),o("Item removed from cart","info")}catch(r){console.error("Error removing from cart:",r),s({type:$a,payload:e}),o("Item removed from cart","info")}},updateQuantity:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{r&&await Wa.updateCartItem(r,e,{quantity:t}),s({type:Ja,payload:{id:e,quantity:t}})}catch(a){console.error("Error updating cart quantity:",a),s({type:Ja,payload:{id:e,quantity:t}})}},clearCart:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(e){const t=await Wa.getUserCart(e);for(const r of t)await Wa.removeFromCart(e,r.item_id)}s({type:Ya}),o("Cart cleared","info")}catch(t){console.error("Error clearing cart:",t),s({type:Ya}),o("Cart cleared","info")}},addToFavorites:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r.favorites.some(t=>t.id===e.id))o("Already in favorites!","info");else try{t&&await Wa.addToFavorites(t,e.id),s({type:es,payload:e}),o("Added ".concat(e.title," to favorites!"),"success")}catch(a){console.error("Error adding to favorites:",a),s({type:es,payload:e}),o("Added ".concat(e.title," to favorites!"),"success")}},removeFromFavorites:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t&&await Wa.removeFromFavorites(t,e),s({type:ts,payload:e}),o("Removed from favorites","info")}catch(r){console.error("Error removing from favorites:",r),s({type:ts,payload:e}),o("Removed from favorites","info")}},loadUserFavorites:async e=>{try{const t=await Wa.getUserFavorites(e);s({type:rs,payload:t})}catch(t){console.error("Error loading user favorites:",t)}},loadUserCart:async e=>{try{const t=await Wa.getUserCart(e);s({type:Qa,payload:t})}catch(t){console.error("Error loading user cart:",t)}},setSearchQuery:async e=>{s({type:ns,payload:e}),("all"!==r.activeFilters.type||r.activeFilters.priceFrom>0||r.activeFilters.priceTo<1e4)&&await n(r.activeFilters),i(e,r.activeFilters,r.sortBy)},setFilters:async e=>{const t=Ie(Ie({},r.activeFilters),e);s({type:ls,payload:e}),void 0!==e.type||void 0!==e.priceFrom||void 0!==e.priceTo?await n(t):i(r.searchQuery,t,r.sortBy)},setSortBy:e=>{s({type:is,payload:e}),i(r.searchQuery,r.activeFilters,e)},setViewMode:e=>{s({type:os,payload:e})},applyPromo:e=>{const t=r.availablePromos.find(t=>t.code===e.toUpperCase());return t?t.minAmount&&r.cartTotal<t.minAmount?(o("Minimum order of $".concat(t.minAmount," required for this promo"),"error"),!1):(s({type:Za,payload:e.toUpperCase()}),o("Promo code applied: ".concat(t.description),"success"),!0):(o("Invalid promo code","error"),!1)},removePromo:()=>{s({type:Xa}),o("Promo code removed","info")},refreshListings:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;await n(e)},addToRecentlyViewed:e=>{s({type:hs,payload:e})},setLoading:e=>{s({type:cs,payload:e})}},i=(e,t,a)=>{let n=[...r.allProducts];e&&(n=n.filter(t=>{var r;return t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())||(null===(r=t.features)||void 0===r?void 0:r.some(t=>t.toLowerCase().includes(e.toLowerCase())))||t.add_info&&t.add_info.toLowerCase().includes(e.toLowerCase())})),"all"!==t.type&&(n=n.filter(e=>{var r;const a=!0===(null===(r=e.seller)||void 0===r?void 0:r.is_business);return"Business"===t.type?a:"Private"!==t.type||!a})),void 0!==t.priceFrom&&void 0!==t.priceTo&&(n=n.filter(e=>e.price>=t.priceFrom&&e.price<=t.priceTo)),t.rating>0&&(n=n.filter(e=>(e.rating||0)>=t.rating)),n.sort((e,t)=>{switch(a){case"price_low":return e.price-t.price;case"price_high":return t.price-e.price;case"rating":return(t.rating||0)-(e.rating||0);case"popular":return(t.views||0)-(e.views||0);default:return new Date(t.createdAt)-new Date(e.createdAt)}}),s({type:ss,payload:n})},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const r={id:Date.now(),message:e,type:t,timestamp:(new Date).toISOString()};s({type:ds,payload:r}),setTimeout(()=>{s({type:us,payload:r.id})},5e3)},c=Ie(Ie(Ie({},r),l),{},{showNotification:o});return(0,ba.jsx)(ps.Provider,{value:c,children:t})}function fs(){const e=(0,a.useContext)(ps);if(!e)throw new Error("useMarketplace must be used within a MarketplaceProvider");return e}var gs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ys=["color","size","strokeWidth","absoluteStrokeWidth","children"],bs=(e,t)=>{const r=(0,a.forwardRef)((r,s)=>{let{color:n="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:c}=r,d=function(e,t){if(null==e)return{};var r,a,s=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(r,ys);return(0,a.createElement)("svg",Ie(Ie({ref:s},gs),{},{width:l,height:l,stroke:n,strokeWidth:o?24*Number(i)/Number(l):i,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...(Array.isArray(c)?c:[c])||[]]);var u});return r.displayName="".concat(e),r},vs=bs("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),js=bs("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),ws=bs("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),ks=bs("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ns=bs("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),_s=bs("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Ss=bs("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Cs=bs("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Es=bs("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Os=bs("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),As=bs("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Ps=bs("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ts=bs("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ls=bs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rs=bs("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ms=bs("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ds=bs("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Fs=bs("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Is=bs("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),qs=bs("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Us=bs("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Bs=bs("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),zs=bs("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Hs=bs("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Vs=function(e){var t,r;let{darkMode:s,toggleDarkMode:n,isMobileMenuOpen:l,setIsMobileMenuOpen:i}=e;const{user:o}=Aa(),{cartItems:c,favoriteCount:d}=fs(),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[x,f]=(0,a.useState)([]),[g,y]=(0,a.useState)(0),[b,v]=(0,a.useState)(0),[j,w]=(0,a.useState)({}),[k,N]=(0,a.useState)(!0),[_,S]=(0,a.useState)("all"),[C,E]=(0,a.useState)(Date.now()),O=te(),A=X(),P=(0,a.useRef)(null),T=(0,a.useRef)(null),L=async function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&t.stopPropagation();try{const t=x.find(t=>t.id===e),s=document.querySelector('[data-notification-id="'.concat(e,'"]'));s?(s.classList.add("notification-removing"),setTimeout(()=>{f(x.filter(t=>t.id!==e)),t&&!t.is_read&&y(e=>Math.max(0,e-1))},300)):(f(x.filter(t=>t.id!==e)),t&&!t.is_read&&y(e=>Math.max(0,e-1)));try{const t=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/").concat(null===o||void 0===o?void 0:o.id,"/notifications/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});t.ok||console.warn("Failed to delete notification from backend:",t.statusText)}catch(a){console.error("API error deleting notification:",a)}r&&console.log("Notification removed")}catch(s){console.error("Failed to delete notification:",s)}},R=()=>{let e=x;switch(_){case"unread":e=x.filter(e=>!e.is_read);break;case"read":e=x.filter(e=>e.is_read);break;default:e=x}return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))},M=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==o&&void 0!==o&&o.id)try{const t=await Wa.getUserNotifications(o.id),r=await Wa.getUserMessages(o.id);if(e&&x.length>0){const e=t.filter(e=>new Date(e.created_at)>new Date(C)&&!e.is_read);e.length>0&&((()=>{if(k)try{const e=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmIdBz6S3fPNeSsFJICO89iMOQkXZL7n6KdUFAg+ltryxnkpBSl+zfDZjjkKGGG+6OSlSxELStPx07dORgk2jNnuw3MoByJ9yvDQjj0KFmSx5eeScxELTanxx4A=");e.volume=.3,e.play().catch(console.error)}catch(e){console.error("Could not play notification sound:",e)}})(),"Notification"in window&&"granted"===Notification.permission&&new Notification("".concat(e.length," new notification").concat(e.length>1?"s":""),{body:e[0].title,icon:"/favicon.ico",tag:"cataloro-notification"}))}f(t),y(t.filter(e=>!e.is_read).length),v(r.filter(e=>!e.is_read&&e.sender_id!==o.id).length),E(Date.now())}catch(t){console.error("Failed to load notifications:",t);const e=[{id:"1",title:"New message from John",message:"About MacBook Pro listing",type:"message",is_read:!1,created_at:new Date(Date.now()-12e4).toISOString()},{id:"2",title:"Your listing was favorited",message:"iPhone 14 Pro Max - Space Black",type:"favorite",is_read:!1,created_at:new Date(Date.now()-36e5).toISOString()},{id:"3",title:"Payment received",message:"$899 for Gaming Laptop sale",type:"payment",is_read:!0,created_at:new Date(Date.now()-108e5).toISOString()}];f(e),y(e.filter(e=>!e.is_read).length),v(2)}},D=async e=>{try{await Wa.markNotificationRead(o.id,e),f(x.map(t=>t.id===e?Ie(Ie({},t),{},{is_read:!0}):t)),y(e=>Math.max(0,e-1))}catch(t){console.error("Failed to mark notification as read:",t)}};(0,a.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("cataloro_site_branding");if(e)try{const t=JSON.parse(e);console.log("Header loading branding data:",t),w(t)}catch(t){console.error("Error parsing branding data:",t)}else console.log("No branding data found in localStorage")};if(e(),null!==o&&void 0!==o&&o.id){M(),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{console.log("Notification permission:",e)});const e=setInterval(()=>{M(!0)},3e4);return()=>clearInterval(e)}const t=t=>{"cataloro_site_branding"===t.key&&e()},r=()=>{e()};return window.addEventListener("storage",t),window.addEventListener("brandingUpdated",r),()=>{window.removeEventListener("storage",t),window.removeEventListener("brandingUpdated",r)}},[null===o||void 0===o?void 0:o.id]),(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_notification_sound");N("false"!==e)},[]),(0,a.useEffect)(()=>{const e=e=>{P.current&&!P.current.contains(e.target)&&h(!1),T.current&&!T.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const F="admin"===(null===o||void 0===o?void 0:o.role),I=[{label:"About",path:"/info",icon:vs},{label:"Browse",path:"/browse",icon:js},{label:"Listings",path:"/my-listings",icon:ws},{label:"Deals",path:"/my-deals",icon:ks},...F?[{label:"Admin",path:"/admin",icon:Ns}]:[]];return(0,ba.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-white/20 shadow-lg shadow-black/5",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-pink-600/5"}),(0,ba.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,ba.jsxs)(Pe,{to:"/browse",className:"flex items-center space-x-3 group header-logo",children:[j.logo_light_url||j.logo_dark_url||j.logo_url?(0,ba.jsx)("div",{className:"relative",children:(0,ba.jsx)("img",{src:s?j.logo_dark_url||j.logo_url:j.logo_light_url||j.logo_url,alt:j.site_name||"Cataloro",className:"h-12 max-w-[200px] object-contain group-hover:opacity-90 transition-opacity duration-300",onError:e=>{e.target.style.display="none",e.target.parentElement.nextSibling.style.display="flex"}})}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 25px rgba(103, 126, 234, 0.4)"},children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ba.jsx)(js,{className:"w-7 h-7 text-white relative z-10"})]}),(0,ba.jsx)("div",{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",filter:"blur(8px)",opacity:"0.3",transform:"scale(1.1)"}})]}),(0,ba.jsxs)("div",{className:"hidden sm:block",children:[(0,ba.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white group-hover:text-gray-700 dark:group-hover:text-white/90 transition-colors header-title",style:{background:"linear-gradient(135deg, #1f2937 0%, #374151 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:j.site_name||"Cataloro"}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide",children:j.site_description||"ULTRA-MODERN MARKETPLACE"})]})]}),(0,ba.jsxs)("div",{className:"items-center space-x-3",style:{display:"none"},children:[(0,ba.jsx)("div",{className:"relative",children:(0,ba.jsxs)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 25px rgba(103, 126, 234, 0.4)"},children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ba.jsx)(js,{className:"w-7 h-7 text-white relative z-10"})]})}),(0,ba.jsxs)("div",{className:"hidden sm:block",children:[(0,ba.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.site_name||"Cataloro"}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium tracking-wide",children:j.site_description||"ULTRA-MODERN MARKETPLACE"})]})]})]}),(0,ba.jsx)("nav",{className:"hidden lg:flex space-x-2",children:I.map(e=>{const t=e.icon,r=A.pathname===e.path;return(0,ba.jsxs)(Pe,{to:e.path,className:"flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium text-sm ".concat(r?"bg-white/20 dark:bg-white/20 text-gray-900 dark:text-white shadow-lg backdrop-blur-md":"text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10"),style:r?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.1)"}:{},children:[(0,ba.jsx)(t,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"font-medium",children:e.label})]},e.path)})})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsxs)("div",{className:"hidden lg:flex items-center space-x-2",children:[(0,ba.jsxs)(Pe,{to:"/messages",className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200",children:[(0,ba.jsx)(_s,{className:"w-6 h-6"}),b>0&&(0,ba.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:b})]}),(0,ba.jsxs)(Pe,{to:"/favorites",className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200",children:[(0,ba.jsx)(Ss,{className:"w-6 h-6"}),d>0&&(0,ba.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:d})]}),(0,ba.jsxs)(Pe,{to:"/cart",className:"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group",style:{background:s?"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)":"linear-gradient(135deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0.04) 100%)",backdropFilter:"blur(20px)",borderRadius:"16px",border:s?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,ba.jsx)(Cs,{className:"w-5 h-5"}),((null===c||void 0===c?void 0:c.length)>0||c>0)&&(0,ba.jsx)("span",{className:"absolute -top-2 -right-2 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold text-[10px]",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",boxShadow:"0 4px 15px rgba(240, 147, 251, 0.4)"},children:Array.isArray(c)?c.length:c})]})]}),(0,ba.jsxs)("div",{className:"relative",ref:T,children:[(0,ba.jsxs)("button",{onClick:()=>p(!m),className:"relative p-3 text-gray-700 dark:text-white/80 hover:text-gray-900 dark:hover:text-white transition-all duration-300 group",style:{background:s?"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)":"linear-gradient(135deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0.04) 100%)",backdropFilter:"blur(20px)",borderRadius:"16px",border:s?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,ba.jsx)(Es,{className:"w-5 h-5"}),g>0&&(0,ba.jsx)("span",{className:"absolute -top-2 -right-2 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold text-[10px]",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",boxShadow:"0 4px 15px rgba(250, 112, 154, 0.4)"},children:g})]}),m&&(0,ba.jsxs)("div",{className:"absolute right-0 mt-3 w-80 max-w-[90vw] rounded-2xl shadow-2xl py-3 z-50 notifications-dropdown-enhanced animate-in",style:{background:s?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(25px)",border:s?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)",animation:"slideDown 0.3s ease-out"},children:[(0,ba.jsxs)("div",{className:"px-4 py-3 border-b border-white/10",children:[(0,ba.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,ba.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white text-base flex items-center",children:[(0,ba.jsx)(Es,{className:"w-4 h-4 mr-2"}),"Notifications",g>0&&(0,ba.jsx)("span",{className:"ml-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full animate-pulse",children:g})]})}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,ba.jsxs)("select",{value:_,onChange:e=>S(e.target.value),className:"text-xs bg-transparent border border-white/20 rounded-md px-1.5 py-1 text-gray-600 dark:text-white/80 focus:outline-none focus:ring-1 focus:ring-blue-500 min-w-0 w-16",children:[(0,ba.jsx)("option",{value:"all",children:"All"}),(0,ba.jsx)("option",{value:"unread",children:"New"}),(0,ba.jsx)("option",{value:"read",children:"Read"})]}),(0,ba.jsx)("button",{onClick:()=>{const e=!k;N(e),localStorage.setItem("cataloro_notification_sound",e.toString())},className:"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors",title:k?"Disable sound":"Enable sound",children:k?(0,ba.jsx)(Os,{className:"w-3.5 h-3.5"}):(0,ba.jsx)(As,{className:"w-3.5 h-3.5"})}),(0,ba.jsx)("button",{onClick:()=>M(),className:"p-1 text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white transition-colors",title:"Refresh",children:(0,ba.jsx)(Ps,{className:"w-3.5 h-3.5"})})]}),(0,ba.jsx)("div",{className:"flex items-center",children:g>0&&(0,ba.jsx)("button",{onClick:async()=>{try{const e=x.filter(e=>!e.is_read).map(e=>e.id);await Promise.all(e.map(e=>Wa.markNotificationRead(o.id,e))),f(x.map(e=>Ie(Ie({},e),{},{is_read:!0}))),y(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}},className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium transition-colors",children:"Mark all read"})})]})]}),(0,ba.jsx)("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:0===R().length?(0,ba.jsxs)("div",{className:"px-4 py-6 text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ba.jsx)(Es,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"all"===_?"No notifications yet":"unread"===_?"No unread notifications":"No read notifications"}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"We'll notify you when something important happens"})]}):R().map((e,t)=>(0,ba.jsx)("div",{"data-notification-id":e.id,className:"group px-4 py-3 hover:bg-white/5 dark:hover:bg-white/5 cursor-pointer border-l-3 transition-all duration-300 ".concat(e.is_read?"":"bg-blue-50/30 dark:bg-blue-900/30"," ").concat(0===t?"animate-in":""),style:{borderColor:"message"===e.type?"#667eea":"favorite"===e.type?"#f093fb":"payment"===e.type?"#43e97b":"buy_request"===e.type?"#fbbf24":"buy_approved"===e.type?"#10b981":"buy_rejected"===e.type?"#ef4444":"#9ca3af",animationDelay:"".concat(.1*t,"s")},children:(0,ba.jsxs)("div",{className:"flex items-start space-x-2.5",children:[(0,ba.jsx)("div",{className:"p-1.5 rounded-full flex-shrink-0 ".concat("message"===e.type?"bg-blue-100 text-blue-600":"favorite"===e.type?"bg-pink-100 text-pink-600":"payment"===e.type?"bg-green-100 text-green-600":"buy_request"===e.type?"bg-yellow-100 text-yellow-600":"buy_approved"===e.type?"bg-green-100 text-green-600":"buy_rejected"===e.type?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"," ").concat(e.is_read?"":"animate-pulse"),children:"message"===e.type?(0,ba.jsx)(_s,{className:"w-3.5 h-3.5"}):"favorite"===e.type?(0,ba.jsx)(Ss,{className:"w-3.5 h-3.5"}):"payment"===e.type?(0,ba.jsx)(ks,{className:"w-3.5 h-3.5"}):"buy_request"===e.type?(0,ba.jsx)(Cs,{className:"w-3.5 h-3.5"}):"buy_approved"===e.type?(0,ba.jsx)(Ts,{className:"w-3.5 h-3.5"}):"buy_rejected"===e.type?(0,ba.jsx)(Ls,{className:"w-3.5 h-3.5"}):(0,ba.jsx)(Es,{className:"w-3.5 h-3.5"})}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0 overflow-hidden",children:[(0,ba.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ba.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,ba.jsx)("p",{className:"text-sm font-semibold truncate ".concat(e.is_read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:e.title}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 mt-0.5 line-clamp-2 leading-tight",children:e.message})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[!e.is_read&&(0,ba.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),(0,ba.jsx)("button",{onClick:t=>L(e.id,t),className:"opacity-0 group-hover:opacity-100 p-0.5 text-gray-400 hover:text-red-600 transition-all duration-200",title:"Delete",children:(0,ba.jsx)(Rs,{className:"w-3 h-3"})})]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,ba.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,ba.jsx)(Ms,{className:"w-3 h-3 mr-1"}),(0,ba.jsxs)("span",{className:"truncate",children:[new Date(e.created_at).toLocaleDateString()," ",new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[!e.is_read&&(0,ba.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{await D(e),setTimeout(()=>{L(e,null,!1)},1e3)}catch(r){console.error("Failed to mark notification as read:",r)}})(e.id,t),className:"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200",title:"Mark read",children:(0,ba.jsx)(Ds,{className:"w-3 h-3"})}),"buy_request"===e.type&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{p(!1),O("/pending-sales"),setTimeout(()=>{L(e,null,!1)},500)}catch(r){console.error("Failed to handle accept request:",r)}})(e.id,t),className:"p-1 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-900/70 transition-all duration-200",title:"Accept",children:(0,ba.jsx)(Ts,{className:"w-3 h-3"})}),(0,ba.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{console.log("Request declined"),L(e,null,!1)}catch(r){console.error("Failed to handle decline request:",r)}})(e.id,t),className:"p-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/70 transition-all duration-200",title:"Decline",children:(0,ba.jsx)(Ls,{className:"w-3 h-3"})})]}),"message"===e.type&&(0,ba.jsx)("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();try{p(!1),O("/messages"),setTimeout(()=>{L(e,null,!1)},500)}catch(r){console.error("Failed to handle reply to message:",r)}})(e.id,t),className:"p-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-all duration-200",title:"Reply",children:(0,ba.jsx)(_s,{className:"w-3 h-3"})})]})]})]})]})},e.id))}),(0,ba.jsx)("div",{className:"px-4 py-2 border-t border-white/10",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)(Pe,{to:"/notifications",className:"text-xs text-gray-600 dark:text-white/80 hover:text-gray-800 dark:hover:text-white font-medium flex items-center transition-colors",onClick:()=>p(!1),children:["View all notifications",(0,ba.jsx)(Fs,{className:"w-3 h-3 ml-1"})]}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[R().length," total"]})]})})]})]}),(0,ba.jsx)("button",{onClick:n,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200",children:s?(0,ba.jsx)(Is,{className:"w-6 h-6"}):(0,ba.jsx)(qs,{className:"w-6 h-6"})}),(0,ba.jsxs)("div",{className:"relative",ref:P,children:[(0,ba.jsxs)("button",{onClick:()=>h(!u),className:"flex items-center space-x-3 p-2 rounded-2xl transition-all duration-300 group",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,ba.jsxs)("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",boxShadow:"0 6px 20px rgba(79, 172, 254, 0.4)"},children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ba.jsx)("span",{className:"text-white font-bold text-sm relative z-10",children:(null===o||void 0===o||null===(t=o.full_name)||void 0===t?void 0:t.charAt(0))||(null===o||void 0===o||null===(r=o.username)||void 0===r?void 0:r.charAt(0))||"U"})]}),(0,ba.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,ba.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===o||void 0===o?void 0:o.full_name)||(null===o||void 0===o?void 0:o.username)||"User"}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 font-medium uppercase tracking-wide",children:null===o||void 0===o?void 0:o.role})]}),(0,ba.jsx)(Us,{className:"w-4 h-4 text-gray-700 dark:text-white/80 transition-transform duration-300 ".concat(u?"rotate-180":"")})]}),u&&(0,ba.jsxs)("div",{className:"absolute right-0 mt-3 w-72 rounded-2xl shadow-2xl py-2 z-50 profile-dropdown-enhanced",style:{background:s?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(25px)",border:s?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)"},children:[(0,ba.jsxs)("div",{className:"px-6 py-4 border-b border-white/10",children:[(0,ba.jsx)("p",{className:"text-base font-bold text-gray-900 dark:text-white",children:(null===o||void 0===o?void 0:o.full_name)||(null===o||void 0===o?void 0:o.username)}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-white/70",children:null===o||void 0===o?void 0:o.email})]}),(0,ba.jsxs)("div",{className:"py-2",children:[(0,ba.jsxs)(Pe,{to:"/profile",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>h(!1),children:[(0,ba.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.1))"},children:(0,ba.jsx)(Bs,{className:"w-4 h-4"})}),(0,ba.jsx)("span",{className:"font-medium",children:"Profile Settings"})]}),(0,ba.jsxs)(Pe,{to:"/my-listings",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>h(!1),children:[(0,ba.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(245, 87, 108, 0.1))"},children:(0,ba.jsx)(ws,{className:"w-4 h-4"})}),(0,ba.jsx)("span",{className:"font-medium",children:"My Listings"})]}),(0,ba.jsxs)(Pe,{to:xa.TENDERS,className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>h(!1),children:[(0,ba.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(74, 222, 128, 0.1))"},children:(0,ba.jsx)(ks,{className:"w-4 h-4"})}),(0,ba.jsx)("span",{className:"font-medium",children:"Manage Tenders"})]}),(0,ba.jsxs)(Pe,{to:xa.MY_TENDERS,className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>h(!1),children:[(0,ba.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(196, 181, 253, 0.1))"},children:(0,ba.jsx)(Fs,{className:"w-4 h-4"})}),(0,ba.jsx)("span",{className:"font-medium",children:"My Tenders"})]}),(0,ba.jsxs)(Pe,{to:"/profile/".concat(null===o||void 0===o?void 0:o.id),className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>h(!1),children:[(0,ba.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 197, 253, 0.1))"},children:(0,ba.jsx)(vs,{className:"w-4 h-4"})}),(0,ba.jsx)("span",{className:"font-medium",children:"View Public Profile"})]}),"admin"===(null===o||void 0===o?void 0:o.role)&&(0,ba.jsxs)(Pe,{to:"/admin",className:"flex items-center px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 transition-all duration-300 group",onClick:()=>h(!1),children:[(0,ba.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-white/10 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(250, 112, 154, 0.2), rgba(254, 225, 64, 0.1))"},children:(0,ba.jsx)(Ns,{className:"w-4 h-4"})}),(0,ba.jsx)("span",{className:"font-medium",children:"Admin Panel"})]})]}),(0,ba.jsx)("div",{className:"border-t border-white/10 pt-2",children:(0,ba.jsxs)("button",{onClick:()=>{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),O("/login")},className:"flex items-center w-full px-6 py-3 text-sm text-gray-700 dark:text-white/90 hover:text-red-600 dark:hover:text-red-300 hover:bg-red-500/10 dark:hover:bg-red-500/10 transition-all duration-300 group",children:[(0,ba.jsx)("div",{className:"p-2 rounded-lg mr-3 group-hover:bg-red-500/20 transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1))"},children:(0,ba.jsx)(zs,{className:"w-4 h-4"})}),(0,ba.jsx)("span",{className:"font-medium",children:"Sign Out"})]})})]})]}),(0,ba.jsx)("button",{onClick:()=>i(!l),className:"lg:hidden p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200",children:l?(0,ba.jsx)(Ls,{className:"w-6 h-6"}):(0,ba.jsx)(Hs,{className:"w-6 h-6"})})]})]})})]})},Ws=bs("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Ks=bs("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Gs=bs("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),$s=bs("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Js=bs("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ys=bs("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Qs=function(e){var t,r,s;let{isOpen:n,onClose:l}=e;const[i,o]=(0,a.useState)(null),c=X();(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_user");if(e)try{o(JSON.parse(e))}catch(t){console.error("Error parsing user data:",t)}},[]);const d="admin"===(null===i||void 0===i?void 0:i.role),u=[{title:"Marketplace",items:[{label:"About Platform",path:"/info",icon:vs},{label:"Browse All",path:"/browse",icon:js},{label:"Categories",path:"/categories",icon:Ws},{label:"Search",path:"/search",icon:Ks},{label:"Trending",path:"/trending",icon:Fs}]},{title:"My Account",items:[{label:"My Listings",path:"/my-listings",icon:ws},{label:"My Deals",path:"/my-deals",icon:ks},{label:"Messages",path:"/messages",icon:_s},{label:"Favorites",path:"/favorites",icon:Ss},{label:"Cart",path:"/cart",icon:Cs}]},{title:"Selling",items:[{label:"Create Listing",path:"/create-listing",icon:Gs},{label:"Seller Analytics",path:"/analytics",icon:$s},{label:"Performance",path:"/performance",icon:Js}]}];return d&&u.push({title:"Admin",items:[{label:"Admin Dashboard",path:"/admin",icon:Ns},{label:"Site Analytics",path:"/admin/analytics",icon:$s},{label:"User Management",path:"/admin/users",icon:Bs}]}),u.push({title:"Settings",items:[{label:"Profile",path:"/profile",icon:Bs},{label:"Notifications",path:"/notifications",icon:Es},{label:"Settings",path:"/settings",icon:Ys}]}),(0,ba.jsxs)("div",{className:"fixed top-0 left-0 h-full w-80 bg-white dark:bg-gray-900 shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ".concat(n?"translate-x-0":"-translate-x-full"," lg:hidden"),children:[(0,ba.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,ba.jsx)("span",{className:"text-white font-bold text-lg",children:"C"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Cataloro"}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Modern Marketplace"})]})]}),i&&(0,ba.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,ba.jsx)("span",{className:"text-white font-medium text-sm",children:(null===(t=i.full_name)||void 0===t?void 0:t.charAt(0))||(null===(r=i.username)||void 0===r?void 0:r.charAt(0))||"U"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:i.full_name||i.username}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===(s=i.role)||void 0===s?void 0:s.toUpperCase()})]})]})})]}),(0,ba.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,ba.jsx)("div",{className:"p-4 space-y-6",children:u.map(e=>(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 font-semibold mb-3 px-2",children:e.title}),(0,ba.jsx)("div",{className:"space-y-1",children:e.items.map(e=>{const t=e.icon;return(0,ba.jsxs)(Pe,{to:e.path,onClick:l,className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ".concat((r=e.path,c.pathname===r?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")),children:[(0,ba.jsx)(t,{className:"w-5 h-5"}),(0,ba.jsx)("span",{children:e.label})]},e.path);var r})})]},e.title))})}),(0,ba.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,ba.jsx)("div",{className:"text-center",children:(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cataloro v2.0 - Ultra Modern"})})})]})},Zs=bs("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Xs=bs("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),en=bs("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),tn=bs("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),rn=bs("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),an=bs("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),sn=bs("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),nn=bs("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);const ln=function(){var e,t,r,s;const[n,l]=(0,a.useState)({});(0,a.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("cataloro_site_branding");if(e){const t=JSON.parse(e);l(t)}}catch(e){console.error("Error loading branding data in footer:",e)}};e();const t=()=>{e()};return window.addEventListener("brandingUpdated",t),window.addEventListener("storage",t),()=>{window.removeEventListener("brandingUpdated",t),window.removeEventListener("storage",t)}},[]);const i=()=>({enabled:!0,companyInfo:{name:"Cataloro",tagline:"Modern Marketplace for Everyone",description:"Discover, buy, and sell amazing products in our trusted marketplace. Connect with sellers worldwide and find exactly what you're looking for.",logo:"/logo.png"},contact:{email:"hello@cataloro.com",phone:"+1 (555) 123-4567",address:"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:"https://facebook.com/cataloro",twitter:"https://twitter.com/cataloro",instagram:"https://instagram.com/cataloro",linkedin:"https://linkedin.com/company/cataloro",youtube:"https://youtube.com/cataloro"},links:{about:[{label:"About Us",url:"/about"},{label:"Our Story",url:"/story"},{label:"Careers",url:"/careers"},{label:"Press",url:"/press"}],marketplace:[{label:"Browse Products",url:"/browse"},{label:"Categories",url:"/categories"},{label:"Sell on Cataloro",url:"/sell"},{label:"Seller Center",url:"/seller"}],support:[{label:"Help Center",url:"/help"},{label:"Contact Support",url:"/support"},{label:"Community",url:"/community"},{label:"Safety",url:"/safety"}],legal:[{label:"Privacy Policy",url:"/privacy"},{label:"Terms of Service",url:"/terms"},{label:"Cookie Policy",url:"/cookies"},{label:"Seller Agreement",url:"/seller-terms"}]},style:{backgroundColor:"#1f2937",textColor:"#ffffff",linkColor:"#60a5fa",borderColor:"#374151"}}),o=(()=>{try{var e,t,r,a;const s=localStorage.getItem("cataloro_footer_config"),n=i();if(!s)return n;const l=JSON.parse(s);return Ie(Ie(Ie({},n),l),{},{companyInfo:Ie(Ie({},n.companyInfo),l.companyInfo),contact:Ie(Ie({},n.contact),l.contact),social:Ie(Ie({},n.social),l.social),links:Ie(Ie(Ie({},n.links),l.links),{},{about:(null===(e=l.links)||void 0===e?void 0:e.about)||n.links.about,marketplace:(null===(t=l.links)||void 0===t?void 0:t.marketplace)||n.links.marketplace,support:(null===(r=l.links)||void 0===r?void 0:r.support)||n.links.support,legal:(null===(a=l.links)||void 0===a?void 0:a.legal)||n.links.legal}),style:Ie(Ie({},n.style),l.style)})}catch(s){return console.error("Error parsing footer config:",s),i()}})();if(!o.enabled)return null;const c={backgroundColor:o.style.backgroundColor,color:o.style.textColor,borderColor:o.style.borderColor},d={color:o.style.linkColor};return(0,ba.jsx)("footer",{style:c,className:"bg-gray-900 text-white border-t",children:(0,ba.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ba.jsx)("div",{className:"py-12",children:(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,ba.jsxs)("div",{className:"lg:col-span-1",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[n.logo_dark_url&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChAI9jU77zgAAAABJRU5ErkJggg=="!==n.logo_dark_url?(0,ba.jsx)("div",{className:"flex flex-col space-y-2",children:(0,ba.jsx)("img",{src:n.logo_dark_url,alt:n.site_name||o.companyInfo.name,className:"h-12 max-w-[200px] object-contain",onError:e=>{e.target.style.display="none",e.target.parentElement.nextElementSibling.style.display="flex"}})}):n.logo_light_url&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChAI9jU77zgAAAABJRU5ErkJggg=="!==n.logo_light_url?(0,ba.jsx)("div",{className:"flex flex-col space-y-2",children:(0,ba.jsx)("img",{src:n.logo_light_url,alt:n.site_name||o.companyInfo.name,className:"h-12 max-w-[200px] object-contain",onError:e=>{e.target.style.display="none",e.target.parentElement.nextElementSibling.style.display="flex"}})}):(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,ba.jsx)(js,{className:"w-6 h-6 text-white"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:n.site_name||o.companyInfo.name}),(0,ba.jsx)("p",{className:"text-sm text-gray-400",children:n.site_description||o.companyInfo.tagline})]})]}),(0,ba.jsxs)("div",{className:"items-center space-x-3",style:{display:"none"},children:[(0,ba.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,ba.jsx)(js,{className:"w-6 h-6 text-white"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:n.site_name||o.companyInfo.name}),(0,ba.jsx)("p",{className:"text-sm text-gray-400",children:n.site_description||o.companyInfo.tagline})]})]})]}),(0,ba.jsx)("p",{className:"text-gray-300 text-sm mb-6 leading-relaxed",children:o.companyInfo.description}),(0,ba.jsxs)("div",{className:"space-y-3",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ba.jsx)(Zs,{className:"w-4 h-4 text-blue-400"}),(0,ba.jsx)("a",{href:"mailto:".concat(o.contact.email),style:d,className:"hover:text-blue-300",children:o.contact.email})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ba.jsx)(Xs,{className:"w-4 h-4 text-blue-400"}),(0,ba.jsx)("a",{href:"tel:".concat(o.contact.phone),style:d,className:"hover:text-blue-300",children:o.contact.phone})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ba.jsx)(en,{className:"w-4 h-4 text-blue-400"}),(0,ba.jsx)("span",{className:"text-gray-300",children:o.contact.address})]})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"About"}),(0,ba.jsx)("ul",{className:"space-y-3",children:((null===(e=o.links)||void 0===e?void 0:e.about)||[]).map((e,t)=>(0,ba.jsx)("li",{children:(0,ba.jsx)(Pe,{to:e.url,style:d,className:"text-sm hover:text-blue-300",children:e.label})},t))})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Marketplace"}),(0,ba.jsx)("ul",{className:"space-y-3",children:((null===(t=o.links)||void 0===t?void 0:t.marketplace)||[]).map((e,t)=>(0,ba.jsx)("li",{children:(0,ba.jsx)(Pe,{to:e.url,style:d,className:"text-sm hover:text-blue-300",children:e.label})},t))})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),(0,ba.jsx)("ul",{className:"space-y-3 mb-6",children:((null===(r=o.links)||void 0===r?void 0:r.support)||[]).map((e,t)=>(0,ba.jsx)("li",{children:(0,ba.jsx)(Pe,{to:e.url,style:d,className:"text-sm hover:text-blue-300",children:e.label})},t))}),(0,ba.jsx)("h5",{className:"text-md font-semibold mb-3",children:"Legal"}),(0,ba.jsx)("ul",{className:"space-y-2",children:((null===(s=o.links)||void 0===s?void 0:s.legal)||[]).map((e,t)=>(0,ba.jsx)("li",{children:(0,ba.jsx)(Pe,{to:e.url,style:d,className:"text-xs hover:text-blue-300",children:e.label})},t))})]})]})}),(0,ba.jsx)("div",{style:{borderColor:o.style.borderColor},className:"border-t py-6",children:(0,ba.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("span",{className:"text-sm text-gray-400",children:"Follow us:"}),(0,ba.jsxs)("div",{className:"flex space-x-3",children:[o.social.facebook&&(0,ba.jsx)("a",{href:o.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ba.jsx)(tn,{className:"w-5 h-5"})}),o.social.twitter&&(0,ba.jsx)("a",{href:o.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ba.jsx)(rn,{className:"w-5 h-5"})}),o.social.instagram&&(0,ba.jsx)("a",{href:o.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-pink-400",children:(0,ba.jsx)(an,{className:"w-5 h-5"})}),o.social.linkedin&&(0,ba.jsx)("a",{href:o.social.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400",children:(0,ba.jsx)(sn,{className:"w-5 h-5"})}),o.social.youtube&&(0,ba.jsx)("a",{href:o.social.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-red-400",children:(0,ba.jsx)(nn,{className:"w-5 h-5"})})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,ba.jsxs)("span",{children:["\xa9 2025 ",o.companyInfo.name,". Made with"]}),(0,ba.jsx)(Ss,{className:"w-4 h-4 text-red-400"}),(0,ba.jsx)("span",{children:"for amazing marketplace experiences."})]})]})})]})})},on=bs("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),cn=bs("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),dn=bs("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),un=bs("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const hn=function(){const[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{const e=setTimeout(()=>{r("Welcome to the new Cataloro!","success")},2e3);return()=>clearTimeout(e)},[]);const r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const n=Date.now()+Math.random(),l={id:n,message:e,type:r,duration:a};t(e=>[...e,l]),setTimeout(()=>{s(n)},a)},s=e=>{t(t=>t.filter(t=>t.id!==e))},n=e=>{switch(e){case"success":return(0,ba.jsx)(on,{className:"w-5 h-5 text-green-600"});case"error":return(0,ba.jsx)(cn,{className:"w-5 h-5 text-red-600"});case"warning":return(0,ba.jsx)(dn,{className:"w-5 h-5 text-orange-600"});default:return(0,ba.jsx)(un,{className:"w-5 h-5 text-blue-600"})}},l=e=>{switch(e){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200";case"warning":return"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-800 dark:text-orange-200";default:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"}};return 0===e.length?null:(0,ba.jsx)("div",{className:"fixed top-20 right-4 z-50 space-y-2",children:e.map(e=>(0,ba.jsx)("div",{className:"max-w-sm w-full ".concat(l(e.type)," border rounded-lg p-4 shadow-lg backdrop-blur-sm transition-all duration-300 transform animate-slide-in-right"),children:(0,ba.jsxs)("div",{className:"flex items-start",children:[(0,ba.jsx)("div",{className:"flex-shrink-0",children:n(e.type)}),(0,ba.jsx)("div",{className:"ml-3 flex-1",children:(0,ba.jsx)("p",{className:"text-sm font-medium",children:e.message})}),(0,ba.jsx)("button",{onClick:()=>s(e.id),className:"ml-4 flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]})},e.id))})},mn=e=>{try{const t=document.getElementById("cataloro-site-config-styles");t&&t.remove();const r=document.createElement("style");r.id="cataloro-site-config-styles";const a="\n      /* Site Configuration Styles */\n      :root {\n        --primary-color: ".concat(e.primaryColor||"#3B82F6",";\n        --secondary-color: ").concat(e.secondaryColor||"#8B5CF6",";\n        --accent-color: ").concat(e.accentColor||"#10B981",";\n      }\n      \n      /* Footer Configuration */\n      ").concat(e.footerEnabled?"":"\n      footer {\n        display: none !important;\n      }\n      ","\n      \n      /* Custom CSS */\n      ").concat(e.customCSS||"","\n    ");if(r.textContent=a,document.head.appendChild(r),e.footerEnabled){const t={enabled:e.footerEnabled,companyInfo:{name:e.footerCompanyName||"Cataloro",tagline:e.footerTagline||"Modern Marketplace for Everyone",description:e.footerDescription||"Discover, buy, and sell amazing products in our trusted marketplace."},contact:{email:e.footerEmail||"hello@cataloro.com",phone:e.footerPhone||"+1 (555) 123-4567",address:e.footerAddress||"123 Marketplace St, Commerce City, CC 12345"},social:{facebook:e.footerFacebook||"",twitter:e.footerTwitter||"",instagram:e.footerInstagram||"",linkedin:e.footerLinkedin||"",youtube:e.footerYoutube||""},style:{backgroundColor:e.footerBackgroundColor||"#1f2937",textColor:e.footerTextColor||"#ffffff",linkColor:e.footerLinkColor||"#60a5fa",borderColor:"#374151"}};localStorage.setItem("cataloro_footer_config",JSON.stringify(t))}else localStorage.removeItem("cataloro_footer_config");return console.log("\u2705 Site configuration applied successfully"),!0}catch(t){return console.error("\u274c Error applying site configuration:",t),!1}};const pn=function(){const[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!0),[n,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),c=X();if((0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_token"),r=localStorage.getItem("cataloro_user");if(e&&r)try{JSON.parse(r),t(!0)}catch(a){localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),t(!1)}else t(!1);s(!1)},[]),(0,a.useEffect)(()=>{"true"===localStorage.getItem("cataloro_dark_mode")&&(l(!0),document.documentElement.classList.add("dark")),(()=>{try{const e=localStorage.getItem("cataloro_site_config");if(e){const t=JSON.parse(e);return mn(t),console.log("\u2705 Site configuration loaded and applied on startup"),!0}return!1}catch(e){return console.warn("\u26a0\ufe0f Could not load site configuration:",e),!1}})()},[]),(0,a.useEffect)(()=>{o(!1)},[c]),r)return(0,ba.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Cataloro..."})]})});const d=["/profile/"].some(e=>c.pathname.startsWith(e));return e||d?(0,ba.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300 ".concat(n?"dark":""),children:[(0,ba.jsx)(Vs,{darkMode:n,toggleDarkMode:()=>{const e=!n;l(e),localStorage.setItem("cataloro_dark_mode",e.toString()),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},isMobileMenuOpen:i,setIsMobileMenuOpen:o}),(0,ba.jsx)(Qs,{isOpen:i,onClose:()=>o(!1)}),(0,ba.jsx)("main",{className:"pt-20 min-h-screen",children:(0,ba.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ba.jsx)(be,{})})}),(0,ba.jsx)(ln,{}),(0,ba.jsx)(hn,{}),i&&(0,ba.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!1)})]}):(0,ba.jsx)(ye,{to:"/login",replace:!0})},xn=bs("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),fn=bs("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),gn=bs("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),yn=bs("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bn=bs("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);function vn(e){var t,r,s,n,l,i,o,c,d,u,h;let{item:m,viewMode:p,onAddToCart:x,onSubmitTender:f,onFavoriteToggle:g,onMessageSeller:y,isInFavorites:b,isSubmittingTender:v}=e;const[j,w]=(0,a.useState)(0),[k,N]=(0,a.useState)(null),[_,S]=(0,a.useState)(!1),C=te(),E="grid"===p;a.useEffect(()=>{var e,t,r;m.id&&["2e2836dc-c1f2-48e5-94a6-9aaf2828c16a","listing-0","listing-1"].includes(m.id)&&console.log("\ud83d\udd0d ProductCard Debug - Item ".concat(m.id,":"),{title:m.title,seller:m.seller,"seller.is_business":null===(e=m.seller)||void 0===e?void 0:e.is_business,"seller.name":null===(t=m.seller)||void 0===t?void 0:t.name,"seller.username":null===(r=m.seller)||void 0===r?void 0:r.username})},[m.id,m.seller]),(0,a.useEffect)(()=>{(async()=>{if("Catalysts"===m.category&&(m.catalyst_id||m.title)){S(!0);try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();let r=null;r=m.catalyst_id?t.find(e=>e.cat_id===m.catalyst_id):t.find(e=>e.name&&e.name.toLowerCase()===m.title.toLowerCase()),r&&r.total_price&&N(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{S(!1)}}})()},[m.catalyst_id,m.title,m.category]);const O=(e,t)=>{e.stopPropagation(),t()};return(0,ba.jsxs)("div",{className:"group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer ".concat(E?"hover:-translate-y-2":"flex space-x-4 p-4"),onClick:()=>{C("/product/".concat(m.id))},children:[(0,ba.jsxs)("div",{className:"relative ".concat(E?"":"w-48 h-48 flex-shrink-0"),children:[(0,ba.jsx)("div",{className:"absolute inset-0 cursor-pointer z-10",onClick:e=>{e.stopPropagation(),C("/product/".concat(m.id))},title:"View product details"}),(0,ba.jsx)("img",{src:(null===(t=m.images)||void 0===t?void 0:t[j])||(null===(r=m.images)||void 0===r?void 0:r[0])||"/api/placeholder/400/300",alt:m.title,className:"object-cover transition-transform duration-300 group-hover:scale-105 ".concat(E?"w-full h-64":"w-full h-full rounded-lg")}),m.images&&m.images.length>1&&(0,ba.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 z-20",children:m.images.map((e,t)=>(0,ba.jsx)("div",{className:"w-2 h-2 rounded-full cursor-pointer ".concat(t===j?"bg-white":"bg-white/50"),onClick:e=>{e.stopPropagation(),w(t)}},t))}),(0,ba.jsxs)("div",{className:"absolute top-2 left-2 space-y-1 z-20",children:[null===(s=m.tags)||void 0===s?void 0:s.map(e=>(0,ba.jsx)("span",{className:"inline-block bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:e},e)),(0,ba.jsx)("div",{children:(0,ba.jsx)("span",{className:"inline-block text-white text-xs px-2 py-1 rounded-full font-medium ".concat(null!==(n=m.seller)&&void 0!==n&&n.is_business?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-green-600 to-emerald-600"),children:null!==(l=m.seller)&&void 0!==l&&l.is_business?"Business":"Private"})})]}),(0,ba.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,ba.jsx)("button",{onClick:e=>g(m,e),className:"p-3 backdrop-blur-lg rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 ".concat(b(m.id)?"bg-red-500/90 text-white shadow-red-500/25":"bg-white/90 dark:bg-gray-800/90 text-gray-700 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500"),title:b(m.id)?"Remove from favorites":"Add to favorites",children:b(m.id)?(0,ba.jsx)(Ss,{className:"w-5 h-5 fill-current animate-pulse"}):(0,ba.jsx)(Ss,{className:"w-5 h-5"})})}),(0,ba.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full flex items-center z-20",children:[(0,ba.jsx)(yn,{className:"w-3 h-3 mr-1"}),m.views]})]}),(0,ba.jsxs)("div",{className:"".concat(E?"p-4":"flex-1 min-w-0"),children:[(0,ba.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,ba.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors ".concat(E?"text-lg line-clamp-2":"text-xl"),children:m.title})}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,ba.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",m.price.toFixed(2)]})}),"Catalysts"===m.category&&(0,ba.jsx)("div",{className:"space-y-1",children:_?(0,ba.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,ba.jsx)("div",{className:"w-3 h-3 border border-gray-400 border-t-transparent rounded-full animate-spin mr-2"}),"Loading market range..."]}):k?(0,ba.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 dark:from-indigo-900/40 dark:via-blue-900/40 dark:to-cyan-900/40 border border-indigo-100 dark:border-indigo-800/60 shadow-sm",children:[(0,ba.jsx)("div",{className:"absolute top-0 right-0 w-12 h-12 bg-gradient-to-bl from-indigo-200/20 to-transparent dark:from-indigo-600/10 rounded-bl-full"}),(0,ba.jsx)("div",{className:"relative p-3",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"p-1.5 rounded-lg bg-gradient-to-r from-indigo-500 to-blue-500 shadow-sm",children:(0,ba.jsx)(bn,{className:"w-3 h-3 text-white"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300 uppercase tracking-wide",children:"Market Range"}),(0,ba.jsxs)("div",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-100 leading-tight",children:["\u20ac",(.9*k).toFixed(0)," - \u20ac",(1.1*k).toFixed(0)]})]})]})})]}):null})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,ba.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold ".concat(null!==(i=m.seller)&&void 0!==i&&i.is_business?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-green-500 to-emerald-600"),children:(0,ba.jsx)("span",{children:((null===(o=m.seller)||void 0===o?void 0:o.username)||(null===(c=m.seller)||void 0===c?void 0:c.name)||"U").charAt(0).toUpperCase()})}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null===(d=m.seller)||void 0===d?void 0:d.username)||(null===(u=m.seller)||void 0===u?void 0:u.name)||"Unknown User"}),(null===(h=m.seller)||void 0===h?void 0:h.verified)&&(0,ba.jsx)("span",{className:"text-blue-500 text-xs",children:"\u2713 Verified"})]})]}),(0,ba.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(en,{className:"w-4 h-4 mr-1"}),((e,t,r)=>{const a=(null===(e=m.address)||void 0===e?void 0:e.city)||"",s=(null===(t=m.address)||void 0===t?void 0:t.country)||"";if(a||s){const e=[a,s].filter(Boolean);return e.length>0?e.join(", "):"Location not specified"}if(null!==(r=m.seller)&&void 0!==r&&r.location){const e=m.seller.location.split(",").map(e=>e.trim());return e.length>=2?e.slice(-2).join(", "):e[0]}return"Location not specified"})()]}),m.shipping&&(0,ba.jsxs)("div",{className:"flex items-center text-green-600 mt-1",children:[(0,ba.jsx)(Ms,{className:"w-4 h-4 mr-1"}),m.shipping]})]}),m.features&&(0,ba.jsx)("div",{className:"flex flex-wrap gap-1 mb-4",children:m.features.slice(0,3).map(e=>(0,ba.jsx)("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded-full",children:e},e))}),(0,ba.jsxs)("div",{className:"".concat(E?"":"mt-4"),children:[m.highest_bid&&(0,ba.jsx)("div",{className:"mb-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ba.jsx)("span",{className:"text-yellow-800 dark:text-yellow-300 font-medium",children:"Current highest bid:"}),(0,ba.jsxs)("span",{className:"text-yellow-900 dark:text-yellow-200 font-bold",children:["\u20ac",parseFloat(m.highest_bid).toFixed(2)]})]})}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsx)("div",{className:"flex-1",children:(0,ba.jsx)("input",{type:"number",min:m.highest_bid||m.price||0,step:"10",placeholder:"Min: \u20ac".concat((m.highest_bid||m.price||0).toFixed(2)),className:"w-full px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:e=>{e.target.dataset.offerAmount=e.target.value}})}),(0,ba.jsx)("button",{onClick:e=>{var t;const r=(null===(t=e.target.parentElement.previousElementSibling)||void 0===t?void 0:t.querySelector("input"))||e.target.parentElement.parentElement.querySelector("input"),a=parseFloat((null===r||void 0===r?void 0:r.value)||0);a&&a>=(m.highest_bid||m.price||0)?(O(e,()=>f(m,a)),r.value=""):alert("Please enter an amount of at least \u20ac".concat((m.highest_bid||m.price||0).toFixed(2)))},className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",title:"Submit tender offer",children:(0,ba.jsx)("span",{children:"Offer"})})]}),(0,ba.jsxs)("button",{onClick:e=>O(e,()=>y(m,e)),className:"w-full mt-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",title:"Message seller",children:[(0,ba.jsx)(_s,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Message Seller"})]})]}),(0,ba.jsx)("div",{className:"flex items-center justify-end mt-3 text-xs text-gray-500 dark:text-gray-400",children:(0,ba.jsx)("span",{children:m.created_at?new Date(m.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):m.createdAt?new Date(m.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):(new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})})]})]})}const jn=function(){var e,t;const{user:r}=Aa(),{showToast:s}=Ha(),{filteredProducts:n,addToCart:l,addToFavorites:i,removeFromFavorites:o,favorites:c,setSearchQuery:d,setFilters:u,setSortBy:h,setViewMode:m,searchQuery:p,activeFilters:x,sortBy:f,viewMode:g,isLoading:y,refreshListings:b}=(te(),fs()),[v,j]=(0,a.useState)(!1),[w,k]=(0,a.useState)(null),[N,_]=(0,a.useState)(""),[S,C]=(0,a.useState)(!1),[E,O]=(0,a.useState)({}),A=e=>c.some(t=>t.id===e),P=async(e,t)=>{t.preventDefault(),t.stopPropagation(),r?A(e.id)?await o(e.id,r.id):await i(e,r.id):s("Please login to add favorites","info")},T=(e,t)=>{t.preventDefault(),t.stopPropagation(),r?e.seller_id!==r.id?(k(e),_("Hi! I'm interested in your listing \"".concat(e.title,'". Is it still available?')),j(!0)):s("You can't message yourself about your own listing","info"):s("Please login to message sellers","info")},[L,R]=(0,a.useState)(!1),[M,D]=(0,a.useState)({title:"Discover Amazing Products",description:"From electronics to fashion, find everything you need in one place",height:400,image_url:"",search_placeholder:"Search for anything you need..."}),F=p,I=x,q=f,U=g,B=n;(0,a.useEffect)(()=>{(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{D(JSON.parse(e))}catch(t){console.error("Error loading hero content:",t)}})();const e=e=>{D(e.detail)};return window.addEventListener("heroContentUpdated",e),()=>{window.removeEventListener("heroContentUpdated",e)}},[]);const z=e=>{l(e)},H=async(e,t)=>{var a;if(r)if((null===(a=e.seller)||void 0===a?void 0:a.username)!==r.username&&e.seller_id!==r.id){O(t=>Ie(Ie({},t),{},{[e.id]:!0}));try{const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/tenders/submit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({listing_id:e.id,buyer_id:r.id,offer_amount:parseFloat(t)})}),n=await a.json();a.ok?(s("Tender offer of \u20ac".concat(t," submitted successfully!"),"success"),setTimeout(()=>{b()},1e3)):400===a.status?s(n.detail||"Invalid tender offer","error"):s(n.detail||"Failed to submit tender offer","error")}catch(n){console.error("Error submitting tender:",n),s("Failed to submit tender offer. Please try again.","error")}finally{O(t=>Ie(Ie({},t),{},{[e.id]:!1}))}}else s("You cannot bid on your own listing","error");else s("Please login to submit tender offers","error")},V=e=>{u(e)},W=e=>{m(e)};return y?(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading amazing products..."})]})}):(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white overflow-hidden w-full rounded-2xl",style:{height:M.height?"".concat(M.height,"px"):"400px",minHeight:"300px"},children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,ba.jsxs)("div",{className:"relative z-10 text-center flex flex-col justify-center h-full px-8",children:[M.image_url&&(0,ba.jsx)("div",{className:"mb-6 flex justify-center",children:(0,ba.jsx)("img",{src:M.image_url,alt:"Hero",className:"max-h-24 max-w-48 object-contain"})}),(0,ba.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:M.title}),(0,ba.jsx)("p",{className:"text-xl mb-8 opacity-90 max-w-3xl mx-auto",children:M.description}),(0,ba.jsx)("div",{className:"w-full",children:(0,ba.jsx)("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 max-w-4xl mx-auto",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Ks,{className:"absolute left-6 text-white/70 w-6 h-6"}),(0,ba.jsx)("input",{type:"text",placeholder:M.search_placeholder||"Search for anything you need...",value:F,onChange:e=>{return t=e.target.value,void d(t);var t},className:"w-full pl-16 pr-4 py-4 bg-transparent text-white placeholder-white/70 text-lg focus:outline-none"}),(0,ba.jsx)("button",{onClick:()=>{var e;F.trim()&&(null===(e=document.getElementById("search-results"))||void 0===e||e.scrollIntoView({behavior:"smooth"}))},className:"flex-shrink-0 px-8 py-4 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white rounded-xl font-semibold transition-all duration-200 hover:scale-105",children:"Search"})]})})})]})]}),(0,ba.jsxs)("div",{id:"search-results",className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center gap-4 text-gray-600 dark:text-gray-300",children:[(0,ba.jsxs)("span",{className:"text-lg font-semibold",children:[B.length," Result",1!==B.length?"s":"",F&&' for "'.concat(F,'"')]}),(0,ba.jsxs)("button",{onClick:async()=>{try{s("Refreshing listings...","info"),await b(),s("Listings refreshed!","success")}catch(e){console.error("Failed to refresh listings:",e),s("Failed to refresh listings","error")}},className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg font-medium transition-all duration-200 hover:scale-105",title:"Refresh listings from server",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("button",{onClick:()=>R(!L),className:"flex items-center space-x-2 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[(0,ba.jsx)(xn,{className:"w-5 h-5"}),(0,ba.jsx)("span",{children:"Filters"})]}),(0,ba.jsxs)("select",{value:q,onChange:e=>{return t=e.target.value,void h(t);var t},className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[(0,ba.jsx)("option",{value:"newest",children:"Newest First"}),(0,ba.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,ba.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,ba.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,ba.jsx)("option",{value:"popular",children:"Most Popular"})]}),(0,ba.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[(0,ba.jsx)("button",{onClick:()=>W("grid"),className:"p-2 rounded-lg transition-all duration-200 ".concat("grid"===U?"bg-white dark:bg-gray-700 shadow-sm text-blue-600":"text-gray-600 dark:text-gray-400"),children:(0,ba.jsx)(Ws,{className:"w-5 h-5"})}),(0,ba.jsx)("button",{onClick:()=>W("list"),className:"p-2 rounded-lg transition-all duration-200 ".concat("list"===U?"bg-white dark:bg-gray-700 shadow-sm text-blue-600":"text-gray-600 dark:text-gray-400"),children:(0,ba.jsx)(fn,{className:"w-5 h-5"})})]})]})]}),L&&(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Advanced Filters"}),(0,ba.jsx)("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ba.jsx)(Ls,{className:"w-5 h-5"})})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,ba.jsxs)("select",{value:I.type,onChange:e=>V(Ie(Ie({},I),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-10 leading-none",children:[(0,ba.jsx)("option",{value:"all",children:"All Types"}),(0,ba.jsx)("option",{value:"Private",children:"Private"}),(0,ba.jsx)("option",{value:"Business",children:"Business"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range (\u20ac)"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 h-10",children:[(0,ba.jsx)("div",{className:"flex-1",children:(0,ba.jsx)("input",{type:"number",placeholder:"From",min:"0",value:I.priceFrom,onChange:e=>V(Ie(Ie({},I),{},{priceFrom:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm h-full"})}),(0,ba.jsx)("span",{className:"text-gray-500 dark:text-gray-400 flex-shrink-0",children:"-"}),(0,ba.jsx)("div",{className:"flex-1",children:(0,ba.jsx)("input",{type:"number",placeholder:"To",min:"0",value:I.priceTo,onChange:e=>V(Ie(Ie({},I),{},{priceTo:parseInt(e.target.value)||1e4})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm h-full"})})]}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["From \u20ac",I.priceFrom," to \u20ac",I.priceTo]})]}),(0,ba.jsxs)("div",{className:"flex flex-col",children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Actions"}),(0,ba.jsx)("button",{onClick:()=>V({type:"all",priceFrom:0,priceTo:1e4,location:"all",rating:0}),className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors h-10",children:"Clear Filters"})]})]})]}),0===B.length?(0,ba.jsxs)("div",{className:"text-center py-16",children:[(0,ba.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(Ks,{className:"w-8 h-8 text-gray-400"})}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No products found"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:F?"Try adjusting your search terms or filters":"Be the first to create a listing!"}),(0,ba.jsx)(Pe,{to:"/create-listing",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Create Your First Listing"})]}):(0,ba.jsx)("div",{className:"grid"===U?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:B.map(e=>(0,ba.jsx)(vn,{item:e,viewMode:U,onAddToCart:z,onSubmitTender:H,onFavoriteToggle:P,onMessageSeller:T,isInFavorites:A,isSubmittingTender:E[e.id]||!1},e.id))}),B.length>0&&(0,ba.jsx)("div",{className:"text-center pt-8",children:(0,ba.jsx)("button",{className:"px-8 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Load More Products"})}),v&&w&&(0,ba.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,ba.jsx)(_s,{className:"w-6 h-6 mr-2"}),"Message Seller"]}),(0,ba.jsx)("button",{onClick:()=>j(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,ba.jsx)(Ls,{className:"w-6 h-6"})})]})}),(0,ba.jsxs)("div",{className:"p-6",children:[(0,ba.jsxs)("div",{className:"flex items-start space-x-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[(0,ba.jsx)("img",{src:(null===(e=w.images)||void 0===e?void 0:e[0])||"/api/placeholder/400/300",alt:w.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ba.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:w.title}),(0,ba.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",parseFloat(w.price||0).toFixed(2)]}),(0,ba.jsxs)("div",{className:"flex items-center mt-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)(Bs,{className:"w-4 h-4 mr-1"}),"Seller: ","string"===typeof w.seller?w.seller:(null===(t=w.seller)||void 0===t?void 0:t.name)||w.seller_id||"Unknown"]})]})]}),(0,ba.jsxs)("div",{className:"mb-6",children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Message"}),(0,ba.jsx)("textarea",{value:N,onChange:e=>_(e.target.value),rows:4,className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Type your message to the seller..."})]}),(0,ba.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,ba.jsx)("button",{onClick:()=>j(!1),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,ba.jsx)("button",{onClick:async()=>{if(N.trim()&&w)try{C(!0),await Wa.sendMessage(r.id,{recipient_id:w.seller_id,subject:"Inquiry about: ".concat(w.title),content:N}),s("Message sent successfully!","success"),j(!1),_(""),k(null)}catch(e){console.error("Failed to send message:",e),s("Failed to send message. Please try again.","error")}finally{C(!1)}else s("Please enter a message","error")},disabled:!N.trim()||S,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-xl font-medium transition-colors flex items-center",children:S?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(gn,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})]})})]})},wn=bs("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),kn=bs("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),Nn=bs("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),_n=bs("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Sn=bs("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Cn=bs("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),En=bs("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const On=function(){var e,t,r,s,n,l;const[i,o]=(0,a.useState)(null),{allProducts:c,setFilters:d,addToCart:u,showNotification:h}=fs(),m=(()=>{const e={};return c.forEach(t=>{const r=t.category||"Other";e[r]||(e[r]=[]),e[r].push(t)}),e})(),p=[{id:"electronics",name:"Electronics",icon:wn,color:"from-blue-500 to-cyan-500",count:(null===(e=m.Electronics)||void 0===e?void 0:e.length)||0,trending:!0,subcategories:["Smartphones","Laptops","Tablets","Gaming","Audio","Cameras"],featuredProducts:(null===(t=m.Electronics)||void 0===t?void 0:t.slice(0,2).map(e=>{var t;return{name:e.title,price:e.price,image:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=200"}}))||[]},{id:"fashion",name:"Fashion",icon:kn,color:"from-pink-500 to-rose-500",count:(null===(r=m.Fashion)||void 0===r?void 0:r.length)||0,trending:!1,subcategories:["Clothing","Shoes","Accessories","Bags","Jewelry","Watches"],featuredProducts:(null===(s=m.Fashion)||void 0===s?void 0:s.slice(0,2).map(e=>{var t;return{name:e.title,price:e.price,image:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=200"}}))||[]},{id:"music",name:"Music",icon:Nn,color:"from-purple-500 to-indigo-500",count:(null===(n=m.Music)||void 0===n?void 0:n.length)||0,trending:!0,subcategories:["Instruments","Audio Equipment","Records","Sheet Music"],featuredProducts:(null===(l=m.Music)||void 0===l?void 0:l.slice(0,2).map(e=>{var t;return{name:e.title,price:e.price,image:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=200"}}))||[]},{id:"home",name:"Home & Garden",icon:_n,color:"from-green-500 to-emerald-500",count:890,trending:!1,subcategories:["Furniture","Decor","Garden","Kitchen","Tools","Appliances"],featuredProducts:[{name:"Modern Sofa",price:899,image:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=200"},{name:"Coffee Table",price:299,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=200"}]}],x=p.filter(e=>e.trending);return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Explore Categories"}),(0,ba.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Discover millions of products across all categories. From electronics to fashion, find exactly what you're looking for."})]}),(0,ba.jsx)("div",{className:"bg-gradient-to-r from-orange-400 via-pink-500 to-purple-600 rounded-2xl p-8 text-white",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h2",{className:"text-2xl font-bold mb-2 flex items-center",children:[(0,ba.jsx)(Fs,{className:"w-8 h-8 mr-3"}),"Trending Now"]}),(0,ba.jsx)("p",{className:"text-lg opacity-90",children:"Hot categories with the most activity this week"})]}),(0,ba.jsx)("div",{className:"hidden md:flex space-x-4",children:x.slice(0,3).map(e=>{const t=e.icon;return(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-2 backdrop-blur-sm",children:(0,ba.jsx)(t,{className:"w-8 h-8"})}),(0,ba.jsx)("p",{className:"text-sm font-medium",children:e.name})]},e.id)})})]})}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:p.reduce((e,t)=>e+t.count,0).toLocaleString()}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Total Products"})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:p.length}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Categories"})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:p.reduce((e,t)=>e+t.subcategories.length,0)}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Subcategories"})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"24/7"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"New Listings"})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Sn,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Popular Right Now"]}),(0,ba.jsx)("div",{className:"flex flex-wrap gap-2",children:["Smartphones","Laptops","Designer Bags","Gaming","Furniture","Fitness Equipment","Guitars","Sneakers","Home Decor","Audio Equipment"].map(e=>(0,ba.jsx)(Pe,{to:"/browse?category=".concat(encodeURIComponent(e)),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-700 dark:hover:text-blue-300 transition-all duration-200 text-sm font-medium",children:e},e))})]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(e=>{const t=e.icon;return(0,ba.jsxs)("div",{className:"group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer",onClick:()=>o(i===e.id?null:e.id),children:[(0,ba.jsxs)("div",{className:"bg-gradient-to-br ".concat(e.color," p-6 text-white relative"),children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ba.jsx)(t,{className:"w-12 h-12"}),e.trending&&(0,ba.jsx)("span",{className:"bg-white/20 text-white text-xs px-2 py-1 rounded-full font-medium backdrop-blur-sm",children:"Trending"})]}),(0,ba.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.name}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("span",{className:"text-white/90",children:[e.count.toLocaleString()," items"]}),(0,ba.jsx)(Cn,{className:"w-5 h-5 transition-transform duration-300 ".concat(i===e.id?"rotate-90":"")})]})]}),(0,ba.jsx)("div",{className:"transition-all duration-300 overflow-hidden ".concat(i===e.id?"max-h-96":"max-h-0"),children:(0,ba.jsxs)("div",{className:"p-4",children:[(0,ba.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Subcategories"}),(0,ba.jsx)("div",{className:"space-y-2",children:e.subcategories.map(e=>(0,ba.jsxs)(Pe,{to:"/browse?category=".concat(encodeURIComponent(e)),className:"block text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors py-1",children:["\u2022 ",e]},e))}),e.featuredProducts&&(0,ba.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ba.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Featured"}),(0,ba.jsx)("div",{className:"space-y-3",children:e.featuredProducts.map(e=>(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-cover rounded-lg"}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,ba.jsxs)("p",{className:"text-sm text-blue-600 font-semibold",children:["$",e.price.toLocaleString()]})]})]},e.name))})]})]})}),(0,ba.jsx)("div",{className:"p-4 pt-0",children:(0,ba.jsxs)("button",{onClick:()=>{var t;t=e.name,d({category:t}),h("Browsing ".concat(t," category"),"info"),window.location.href="/browse?category=".concat(encodeURIComponent(e.name))},className:"w-full flex items-center justify-center space-x-2 bg-gray-100 dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-gray-700 dark:text-gray-300 hover:text-blue-700 dark:hover:text-blue-300 py-3 rounded-lg transition-all duration-200 font-medium",children:[(0,ba.jsxs)("span",{children:["Browse ",e.name]}),(0,ba.jsx)(En,{className:"w-4 h-4"})]})})]},e.id)})}),(0,ba.jsxs)("div",{className:"text-center bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-8 text-white",children:[(0,ba.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Can't find what you're looking for?"}),(0,ba.jsx)("p",{className:"text-lg mb-6 opacity-90",children:"Browse all products or use our advanced search to find exactly what you need"}),(0,ba.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,ba.jsx)(Pe,{to:"/browse",className:"px-8 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:bg-gray-100 transition-colors",children:"Browse All Products"}),(0,ba.jsx)(Pe,{to:"/search",className:"px-8 py-3 border border-white text-white rounded-xl font-semibold hover:bg-white/10 transition-colors",children:"Advanced Search"})]})]})]})},An=bs("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);const Pn=function(){const{user:e}=Aa(),{showToast:t}=Ha(),{cartItems:r,cartCount:s,cartTotal:n,favorites:l,updateQuantity:i,removeFromCart:o,addToCart:c,addToFavorites:d,removeFromFavorites:u,appliedPromo:h,applyPromo:m,removePromo:p,showNotification:x,allProducts:f}=fs(),[g,y]=(0,a.useState)(""),[b,v]=(0,a.useState)([]),[j,w]=(0,a.useState)([]),[k,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&(_(),S())},[e]);const _=async()=>{if(e){N(!0);try{const t=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/buyer/").concat(e.id));if(t.ok){const e=await t.json();v(e.filter(e=>"pending"===e.status))}}catch(t){console.error("Error fetching pending orders:",t)}finally{N(!1)}}},S=async()=>{if(e)try{const t=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/buyer/").concat(e.id));if(t.ok){const e=await t.json();w(e.filter(e=>"approved"===e.status||"rejected"===e.status))}}catch(t){console.error("Error fetching approved/denied sales:",t)}},C=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const a=Math.floor(r/36e5),s=Math.floor(r%36e5/6e4);if(a>24){const e=Math.floor(a/24),t=a%24;return"".concat(e,"d ").concat(t,"h")}return a>0?"".concat(a,"h ").concat(s,"m"):"".concat(s,"m")},E=l.filter(e=>!r.some(t=>t.id===e.id)),O=f.filter(e=>!r.some(t=>t.id===e.id)&&!l.some(t=>t.id===e.id)).slice(0,4),A=n,P=h?A*(h.discount||0):0,T=A-P+(null!==h&&void 0!==h&&h.shippingDiscount?0:A>0?25:0)+.08*(A-P);return(0,ba.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(Cs,{className:"w-8 h-8 mr-3"}),"Shopping Cart"]}),(0,ba.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[s," item",1!==s?"s":""," in your cart"]})]}),r.length>0&&(0,ba.jsxs)("div",{className:"text-right",children:[(0,ba.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",T.toFixed(2)]}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]})]}),b.length>0&&(0,ba.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ba.jsxs)("h2",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-200 flex items-center",children:[(0,ba.jsx)(Ms,{className:"w-5 h-5 mr-2"}),"Pending Buy Requests (",b.length,")"]}),(0,ba.jsx)("button",{onClick:_,className:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:(0,ba.jsx)(Ms,{className:"w-4 h-4"})})]}),(0,ba.jsx)("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mb-4",children:"These items are waiting for seller approval. You'll be notified when they respond."}),(0,ba.jsx)("div",{className:"space-y-3",children:b.map(r=>{var a,s,n,l,i;return(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700",children:null!==(a=r.listing)&&void 0!==a&&a.image?(0,ba.jsx)("img",{src:r.listing.image,alt:r.listing.title,className:"w-full h-full object-cover"}):(0,ba.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ba.jsx)(Cs,{className:"w-6 h-6 text-gray-400"})})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:(null===(s=r.listing)||void 0===s?void 0:s.title)||"Unknown Item"}),(0,ba.jsxs)("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:["\u20ac",(null===(n=r.listing)||void 0===n||null===(l=n.price)||void 0===l?void 0:l.toFixed(2))||"0.00"]}),(0,ba.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Seller: ",(null===(i=r.seller)||void 0===i?void 0:i.username)||"Unknown"]})]})]}),(0,ba.jsxs)("div",{className:"text-right",children:[(0,ba.jsxs)("div",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400 mb-2",children:[C(r.expires_at)," remaining"]}),(0,ba.jsx)("button",{onClick:()=>(async r=>{try{(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/").concat(r,"/cancel"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_id:e.id})})).ok?(t("Order cancelled successfully","success"),_()):t("Failed to cancel order","error")}catch(a){console.error("Error cancelling order:",a),t("Failed to cancel order","error")}})(r.id),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-sm font-medium",children:"Cancel Request"})]})]},r.id)})})]}),j.length>0&&(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ba.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Recent Order Updates (",j.length,")"]}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Your recent approved and denied purchase requests"})]}),(0,ba.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:j.map((e,t)=>{var r,a,s,n,l,i,o;return(0,ba.jsx)("div",{className:"p-6",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700",children:null!==(r=e.listing)&&void 0!==r&&r.image?(0,ba.jsx)("img",{src:e.listing.image,alt:e.listing.title,className:"w-full h-full object-cover"}):(0,ba.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ba.jsx)(Cs,{className:"w-6 h-6 text-gray-400"})})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:(null===(a=e.listing)||void 0===a?void 0:a.title)||"Unknown Item"}),(0,ba.jsxs)("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:["\u20ac",(null===(s=e.listing)||void 0===s||null===(n=s.price)||void 0===n?void 0:n.toFixed(2))||(null===(l=e.amount)||void 0===l?void 0:l.toFixed(2))||"0.00"]}),(0,ba.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Seller: ",(null===(i=e.seller)||void 0===i?void 0:i.username)||"Unknown"]}),(null===(o=e.seller)||void 0===o?void 0:o.email)&&(0,ba.jsxs)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Contact: ",e.seller.email]})]})]}),(0,ba.jsx)("div",{className:"text-right",children:"approved"===e.status?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium mb-2",children:"\u2705 Approved"}),(0,ba.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:e.approved_at?new Date(e.approved_at).toLocaleDateString():"Recently"}),(0,ba.jsxs)("button",{onClick:()=>{var t;const r=e.seller_id||(null===(t=e.seller)||void 0===t?void 0:t.id);window.location.href="/messages?user=".concat(r,"&subject=Order ").concat(e.id)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg font-medium transition-colors flex items-center space-x-2",title:"Start conversation with seller",children:[(0,ba.jsx)(_s,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Chat Now"})]})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium mb-2",children:"\u274c Denied"}),(0,ba.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:e.updated_at?new Date(e.updated_at).toLocaleDateString():"Recently"}),(0,ba.jsxs)("button",{onClick:()=>{var t;const r=e.seller_id||(null===(t=e.seller)||void 0===t?void 0:t.id);window.location.href="/messages?user=".concat(r,"&subject=About Order ").concat(e.id)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-lg font-medium transition-colors flex items-center space-x-2",title:"Contact seller about denied order",children:[(0,ba.jsx)(_s,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Contact Seller"})]})]})})]})},e.id||t)})})]}),0===r.length&&0===b.length&&0===j.length?(0,ba.jsxs)("div",{className:"text-center py-16",children:[(0,ba.jsx)("div",{className:"w-32 h-32 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(Cs,{className:"w-16 h-16 text-gray-400"})}),(0,ba.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Your cart is empty"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Looks like you haven't added anything to your cart yet. Start browsing to find amazing products!"}),(0,ba.jsxs)(Pe,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:["Start Shopping",(0,ba.jsx)(En,{className:"w-5 h-5 ml-2"})]})]}):(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Cart Items (",r.length,")"]})}),(0,ba.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(e=>{var t,r;return(0,ba.jsx)("div",{className:"p-6",children:(0,ba.jsxs)("div",{className:"flex space-x-4",children:[(0,ba.jsx)("div",{className:"w-24 h-24 flex-shrink-0",children:(0,ba.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=200",alt:e.title,className:"w-full h-full object-cover rounded-lg"})}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ba.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.title}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Sold by ",(null===(r=e.seller)||void 0===r?void 0:r.name)||e.seller||"Unknown Seller"]})]}),(0,ba.jsx)("div",{className:"text-right",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["\u20ac",e.price]}),e.originalPrice&&(0,ba.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["\u20ac",e.originalPrice]})]})})]}),(0,ba.jsx)("div",{className:"flex items-center space-x-2 mb-3",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Sn,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,ba.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:[e.rating||4.5," (",e.reviewCount||e.reviews||0," reviews)"]})]})}),(0,ba.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[(0,ba.jsxs)("span",{className:"flex items-center",children:[(0,ba.jsx)(on,{className:"w-4 h-4 mr-1 text-green-500"}),e.condition||"New"]}),(0,ba.jsxs)("span",{className:"flex items-center",children:[(0,ba.jsx)(An,{className:"w-4 h-4 mr-1"}),e.shipping||"Standard shipping"]}),(0,ba.jsxs)("span",{className:"flex items-center",children:[(0,ba.jsx)(Ms,{className:"w-4 h-4 mr-1"}),e.estimatedDelivery||"3-5 business days"]})]}),(0,ba.jsx)("div",{className:"flex items-center justify-end",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("button",{onClick:()=>(e=>{d(e),o(e.id),x("Moved ".concat(e.title," to favorites"),"info")})(e),className:"p-2 text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Save for later",children:(0,ba.jsx)(Ss,{className:"w-5 h-5"})}),(0,ba.jsx)("button",{onClick:()=>o(e.id),className:"p-2 text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove from cart",children:(0,ba.jsx)(Rs,{className:"w-5 h-5"})})]})})]})]})},e.id)})})]}),E.length>0&&(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(Ss,{className:"w-6 h-6 mr-2 text-red-500"}),"Saved for Later (",E.length,")"]})}),(0,ba.jsx)("div",{className:"p-6",children:(0,ba.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:E.map(e=>{var t;return(0,ba.jsxs)("div",{className:"flex space-x-3 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ba.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image||"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=200",alt:e.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.title}),(0,ba.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:["\u20ac",e.price]}),(0,ba.jsx)("button",{onClick:()=>(e=>{const t=Ie(Ie({},e),{},{quantity:1});c(t),u(e.id)})(e),className:"text-sm text-blue-600 hover:text-blue-700 font-medium mt-1",children:"Add to Cart"})]})]},e.id)})})})]}),O.length>0&&(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ba.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"You might also like"})}),(0,ba.jsx)("div",{className:"p-6",children:(0,ba.jsx)("div",{className:"grid grid-cols-2 gap-4",children:O.map(e=>{var t;return(0,ba.jsxs)("div",{className:"text-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow",children:[(0,ba.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=200",alt:e.title,className:"w-full h-24 object-cover rounded-lg mb-3"}),(0,ba.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-sm mb-1",children:e.title}),(0,ba.jsxs)("p",{className:"text-lg font-bold text-blue-600 mb-2",children:["\u20ac",e.price]}),(0,ba.jsx)("button",{onClick:()=>c(e),className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Add to Cart"})]},e.id)})})})]})]})})]})},Tn=bs("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ln=bs("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Rn=bs("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Mn=bs("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Dn=function(){var e,t,r,s,n,l,i,o,c;const{productId:d}=ae(),u=te(),{allProducts:h,addToCart:m,addToFavorites:p,removeFromFavorites:x,favorites:f,addToRecentlyViewed:g,showNotification:y}=fs(),[b,v]=(0,a.useState)(null),[j,w]=(0,a.useState)(0),[k,N]=(0,a.useState)("description"),[_,S]=(0,a.useState)(!0),[C,E]=(0,a.useState)(null),[O,A]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{const e=h.find(e=>e.id===d);e?(v(e),g(e),S(!1)):u("/browse")},[d,h,u,g]),(0,a.useEffect)(()=>{(async()=>{if(b&&"Catalysts"===b.category&&(b.catalyst_id||b.title)){A(!0);try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();let r=null;r=b.catalyst_id?t.find(e=>e.cat_id===b.catalyst_id):t.find(e=>e.name&&e.name.toLowerCase()===b.title.toLowerCase()),r&&r.total_price&&E(parseFloat(r.total_price))}}catch(e){console.error("Failed to fetch price suggestion:",e)}finally{A(!1)}}})()},[b]),_||!b)return(0,ba.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading product details..."})]})});const P=f.some(e=>e.id===b.id),T=b.images||[b.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500"],L=h.filter(e=>e.id!==b.id&&e.category===b.category).slice(0,4);return(0,ba.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)("button",{onClick:()=>u("/browse"),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Browse"}),(0,ba.jsx)("span",{children:"\u203a"}),(0,ba.jsx)("button",{onClick:()=>u("/browse?category=".concat(encodeURIComponent(b.category))),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:b.category}),(0,ba.jsx)("span",{children:"\u203a"}),(0,ba.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:b.title})]}),(0,ba.jsxs)("button",{onClick:()=>u(-1),className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[(0,ba.jsx)(Tn,{className:"w-5 h-5"}),(0,ba.jsx)("span",{children:"Back"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-2xl overflow-hidden aspect-square",children:[(0,ba.jsx)("img",{src:T[j],alt:b.title,className:"w-full h-full object-cover"}),T.length>1&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("button",{onClick:()=>w(e=>(e-1+T.length)%T.length),className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white dark:hover:bg-gray-700 transition-colors",children:(0,ba.jsx)(Ln,{className:"w-5 h-5"})}),(0,ba.jsx)("button",{onClick:()=>w(e=>(e+1)%T.length),className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white dark:hover:bg-gray-700 transition-colors",children:(0,ba.jsx)(Cn,{className:"w-5 h-5"})})]}),T.length>1&&(0,ba.jsxs)("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[j+1," / ",T.length]})]}),T.length>1&&(0,ba.jsx)("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:T.map((e,t)=>(0,ba.jsx)("button",{onClick:()=>w(t),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ".concat(j===t?"border-blue-600":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,ba.jsx)("img",{src:e,alt:"".concat(b.title," ").concat(t+1),className:"w-full h-full object-cover"})},t))})]}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:b.title}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)("span",{children:"Sold by"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ba.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===(e=b.seller)||void 0===e?void 0:e.name)||b.seller||"Verified Seller"}),(null===(t=b.seller)||void 0===t?void 0:t.verified)&&(0,ba.jsx)(Rn,{className:"w-4 h-4 text-blue-600"})]}),(null===(r=b.seller)||void 0===r?void 0:r.location)&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{children:"\u2022"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ba.jsx)(en,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:b.seller.location})]})]})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("button",{onClick:()=>{P?x(b.id):p(b)},className:"p-3 rounded-full border transition-colors ".concat(P?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-600":"border-gray-300 dark:border-gray-600 hover:border-red-500 hover:text-red-600"),children:(0,ba.jsx)(Ss,{className:"w-5 h-5 ".concat(P?"fill-current":"")})}),(0,ba.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:b.title,text:b.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),y("Product link copied to clipboard!","success"))},className:"p-3 rounded-full border border-gray-300 dark:border-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",children:(0,ba.jsx)(Mn,{className:"w-5 h-5"})})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((e,t)=>(0,ba.jsx)(Sn,{className:"w-5 h-5 ".concat(t<Math.floor(b.rating||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600")},t))}),(0,ba.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:b.rating||4.5}),(0,ba.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["(",b.reviewCount||b.reviews||0," reviews)"]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)(yn,{className:"w-4 h-4"}),(0,ba.jsxs)("span",{children:[b.views||0," views"]})]})]})]}),(0,ba.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6",children:[(0,ba.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,ba.jsxs)("div",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["\u20ac",b.price.toLocaleString()]})}),"Catalysts"===b.category&&(0,ba.jsx)("div",{className:"mb-4",children:O?(0,ba.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,ba.jsx)("div",{className:"w-4 h-4 border border-gray-400 border-t-transparent rounded-full animate-spin mr-3"}),"Loading market range..."]}):C?(0,ba.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 border border-blue-100 dark:border-blue-800/50",children:[(0,ba.jsx)("div",{className:"p-4",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-800/50",children:(0,ba.jsx)(bn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 uppercase tracking-wide",children:"Market Range"}),(0,ba.jsxs)("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:["\u20ac",(.9*C).toFixed(2)," - \u20ac",(1.1*C).toFixed(2)]})]})]})}),(0,ba.jsx)("div",{className:"absolute top-0 right-0 w-24 h-full bg-gradient-to-l from-blue-200/20 to-transparent dark:from-blue-700/20"})]}):null}),(0,ba.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Condition:"}),(0,ba.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:b.condition||"New"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)(Ts,{className:"w-4 h-4 text-green-500"}),(0,ba.jsx)("span",{className:"font-medium text-green-700 dark:text-green-400",children:!1!==b.inStock?"In Stock":"Out of Stock"})]})]})]}),(0,ba.jsx)("div",{className:"space-y-4",children:(0,ba.jsxs)("button",{onClick:()=>{const e=Ie(Ie({},b),{},{quantity:1});m(e)},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 rounded-xl font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[(0,ba.jsx)(Cs,{className:"w-6 h-6"}),(0,ba.jsxs)("span",{children:["Add to Cart - \u20ac",b.price.toLocaleString()]})]})}),(0,ba.jsxs)("div",{className:"space-y-3",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)(An,{className:"w-5 h-5 text-blue-600"}),(0,ba.jsx)("span",{children:b.shipping||"Standard shipping available"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)(Ms,{className:"w-5 h-5 text-green-600"}),(0,ba.jsx)("span",{children:b.estimatedDelivery||"3-5 business days delivery"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)(Ns,{className:"w-5 h-5 text-purple-600"}),(0,ba.jsx)("span",{children:"Buyer protection guarantee"})]})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ba.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[{id:"description",label:"Description"},{id:"features",label:"Features"},{id:"seller",label:"Seller Info"},{id:"reviews",label:"Reviews"}].map(e=>(0,ba.jsx)("button",{onClick:()=>N(e.id),className:"px-6 py-4 font-medium transition-colors ".concat(k===e.id?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.id))}),(0,ba.jsxs)("div",{className:"p-6",children:["description"===k&&(0,ba.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,ba.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:b.description||"No description available for this product."})}),"features"===k&&(0,ba.jsx)("div",{className:"space-y-3",children:b.features&&b.features.length>0?b.features.map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)(Ts,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),(0,ba.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t)):(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No specific features listed for this product."})}),"seller"===k&&(0,ba.jsx)("div",{className:"space-y-4",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:((null===(s=b.seller)||void 0===s?void 0:s.name)||b.seller||"S")[0]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[(0,ba.jsx)("span",{children:(null===(n=b.seller)||void 0===n?void 0:n.name)||b.seller||"Verified Seller"}),(null===(l=b.seller)||void 0===l?void 0:l.verified)&&(0,ba.jsx)(Rn,{className:"w-5 h-5 text-blue-600"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ba.jsx)(Sn,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,ba.jsxs)("span",{children:[(null===(i=b.seller)||void 0===i?void 0:i.rating)||4.8," rating"]})]}),(0,ba.jsx)("span",{children:"\u2022"}),(0,ba.jsxs)("span",{children:[(null===(o=b.seller)||void 0===o?void 0:o.reviews)||156," reviews"]}),(null===(c=b.seller)||void 0===c?void 0:c.location)&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{children:"\u2022"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ba.jsx)(en,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:b.seller.location})]})]})]})]})]})}),"reviews"===k&&(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsxs)("div",{className:"text-center py-8",children:[(0,ba.jsx)(_s,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No reviews yet"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Be the first to review this product after purchasing."})]})})]})]}),L.length>0&&(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:["More from ",b.category]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:L.map(e=>{var t;return(0,ba.jsxs)("div",{onClick:()=>u("/product/".concat(e.id)),className:"group cursor-pointer bg-gray-50 dark:bg-gray-700 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200",children:[(0,ba.jsx)("div",{className:"aspect-square overflow-hidden",children:(0,ba.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||e.image||"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=300",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),(0,ba.jsxs)("div",{className:"p-4",children:[(0,ba.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.title}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["\u20ac",e.price.toLocaleString()]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ba.jsx)(Sn,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.rating||4.5})]})]})]})]},e.id)})})]})]})},Fn=bs("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),In=bs("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);function qn(e){var t;let{listing:r,onDelete:s}=e;const[n,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=e=>{n&&!e.target.closest(".listing-menu-container")&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[n]);return(0,ba.jsxs)("div",{className:"listing-tile",children:[(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("img",{src:(null===(t=r.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:r.title,className:"listing-image"}),(0,ba.jsx)("span",{className:"absolute top-3 left-3 px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"sold":default:return"bg-gray-100 dark:bg-gray-700/50 text-gray-800 dark:text-gray-300";case"draft":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";case"expired":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}})(r.status||(r.is_draft?"draft":"active"))),children:(r.status||(r.is_draft?"DRAFT":"ACTIVE")).toUpperCase()}),(r.is_draft||"draft"===r.status)&&(0,ba.jsx)("div",{className:"absolute top-3 right-16 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold animate-pulse",children:"DRAFT"}),(0,ba.jsxs)("div",{className:"absolute top-3 right-3 listing-menu-container",children:[(0,ba.jsx)("button",{onClick:e=>{e.stopPropagation(),l(!n)},className:"p-2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-full hover:bg-white dark:hover:bg-gray-800 transition-all duration-200 shadow-lg",children:(0,ba.jsx)(Fn,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),n&&(0,ba.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 py-2 z-50 backdrop-blur-xl",children:[(r.is_draft||"draft"===r.status)&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)(Pe,{to:"/edit-listing/".concat(r.id),onClick:e=>{e.stopPropagation(),l(!1)},className:"w-full text-left px-4 py-3 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center transition-colors duration-200",children:[(0,ba.jsx)(In,{className:"w-4 h-4 mr-3"}),"Finish & Publish"]}),(0,ba.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"})]}),!(r.is_draft||"draft"===r.status)&&(0,ba.jsxs)(Pe,{to:"/product/".concat(r.id),onClick:e=>{e.stopPropagation(),l(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center transition-colors duration-200",children:[(0,ba.jsx)(yn,{className:"w-4 h-4 mr-3"}),"View Details"]}),(0,ba.jsxs)(Pe,{to:"/edit-listing/".concat(r.id),onClick:e=>{e.stopPropagation(),l(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center transition-colors duration-200",children:[(0,ba.jsx)(In,{className:"w-4 h-4 mr-3"}),r.is_draft||"draft"===r.status?"Continue Editing":"Edit Listing"]}),(0,ba.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),(0,ba.jsxs)("button",{onClick:e=>{e.stopPropagation(),s(r.id),l(!1)},className:"w-full text-left px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center transition-colors duration-200",children:[(0,ba.jsx)(Rs,{className:"w-4 h-4 mr-3"}),"Delete Listing"]})]})]})]}),(0,ba.jsxs)("div",{className:"listing-content",children:[(0,ba.jsx)("h3",{className:"listing-title text-gray-900 dark:text-white",children:r.title}),(0,ba.jsxs)("p",{className:"listing-price",children:["\u20ac",r.price.toFixed(2)]}),(0,ba.jsx)("p",{className:"listing-description text-gray-600 dark:text-gray-300",children:r.description}),(0,ba.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ba.jsx)("span",{className:"inline-block bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs px-3 py-1 rounded-full font-medium backdrop-blur-md",children:r.category}),(0,ba.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()})]})]})]})}const Un=function(){const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,l]=(0,a.useState)("all"),{user:i}=Aa(),{showToast:o}=Ha(),c=te();(0,a.useEffect)(()=>{null!==i&&void 0!==i&&i.id&&d()},[null===i||void 0===i?void 0:i.id]);const d=async()=>{try{s(!0);const e=await Va.getMyListings(i.id);t(e)}catch(e){o("Failed to load your listings","error"),console.error("Failed to fetch listings:",e)}finally{s(!1)}},u=async r=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await Va.deleteListing(r),t(e.filter(e=>e.id!==r)),o("Listing deleted successfully","success")}catch(a){o("Failed to delete listing","error")}},h=e=>{l(e)},m=()=>{c("/create-listing")},p=(()=>{switch(n){case"active":return e.filter(e=>"active"===e.status);case"drafts":return e.filter(e=>"draft"===e.status||e.is_draft);default:return e}})();return r?(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsx)("div",{className:"spinner"})}):(0,ba.jsxs)("div",{className:"fade-in",children:[(0,ba.jsx)("div",{className:"mb-8",children:(0,ba.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"My Listings"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your marketplace listings"})]}),(0,ba.jsxs)("button",{onClick:m,className:"cataloro-button-primary flex items-center",children:[(0,ba.jsx)(Gs,{className:"w-5 h-5 mr-2"}),"Create New Listing"]})]})}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[(0,ba.jsx)("button",{onClick:()=>h("all"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("all"===n?"ring-2 ring-blue-500 bg-blue-50/20 dark:bg-blue-900/20":""),children:(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:e.length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})}),(0,ba.jsx)("button",{onClick:()=>h("active"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("active"===n?"ring-2 ring-green-500 bg-green-50/20 dark:bg-green-900/20":""),children:(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:e.filter(e=>"active"===e.status).length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})}),(0,ba.jsx)("button",{onClick:()=>h("drafts"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("drafts"===n?"ring-2 ring-orange-500 bg-orange-50/20 dark:bg-orange-900/20":""),children:(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:e.filter(e=>"draft"===e.status||e.is_draft).length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Drafts"}),(0,ba.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Finish & publish later"})]})})]}),"all"!==n&&(0,ba.jsxs)("div",{className:"mb-4 flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,ba.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Showing ",n," listings (",p.length," items)"]}),(0,ba.jsx)("button",{onClick:()=>l("all"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show All"})]}),0===p.length?(0,ba.jsx)("div",{className:"text-center py-12",children:(0,ba.jsxs)("div",{className:"cataloro-card-glass p-12",children:[(0,ba.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(Gs,{className:"w-12 h-12 text-gray-600 dark:text-gray-300"})}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"No listings yet"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Create your first listing to start selling on our modern marketplace"}),(0,ba.jsx)("button",{onClick:m,className:"cataloro-button-primary",children:"Create Your First Listing"})]})}):(0,ba.jsx)("div",{className:"listings-grid",children:p.map(e=>(0,ba.jsx)(qn,{listing:e,onDelete:u},e.id))})]})},Bn=bs("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),zn=bs("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Hn=bs("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Vn=bs("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Wn=bs("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Kn=bs("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Gn=function(){const e=te(),[t,r]=(0,a.useState)(!1),[s,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)({title:"",description:"",price:"",category:"General",condition:"New",street:"",post_code:"",city:"",country:"",shipping:"pickup",shipping_cost:"",tags:[],features:[]}),[h,m]=(0,a.useState)(!0),[p,x]=(0,a.useState)({street:"",post_code:"",city:"",country:""}),[f,g]=(0,a.useState)([]),[y,b]=(0,a.useState)([]),[v,j]=(0,a.useState)([]),[w,k]=(0,a.useState)(!1),[N,_]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[E,O]=(0,a.useState)([]),[A,P]=(0,a.useState)(!1),[T,L]=(0,a.useState)(!1),[R,M]=(0,a.useState)(""),[D,F]=(0,a.useState)("");(0,a.useEffect)(()=>{q(),U(),I()},[]);const I=()=>{try{const e=localStorage.getItem("cataloro_user");if(e){const t=JSON.parse(e),r={street:t.street||"",post_code:t.post_code||"",city:t.city||"",country:t.country||""};x(r),h&&(r.street||r.city)&&u(e=>Ie(Ie({},e),{},{street:r.street,post_code:r.post_code,city:r.city,country:r.country}))}}catch(e){console.error("Failed to load profile address:",e)}},q=async()=>{try{C(!0);const t=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/data"));if(t.ok){var e;const r=await t.json();g(r),console.log("Loaded catalyst data:",r.length,"entries"),console.log("First catalyst structure:",r[0]),console.log("First catalyst add_info:",null===(e=r[0])||void 0===e?void 0:e.add_info)}}catch(t){console.error("Failed to fetch catalyst data:",t)}finally{C(!1)}},U=async()=>{try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();b(t),console.log("Loaded calculations:",t.length,"entries"),console.log("Sample calculation:",t[0])}}catch(e){console.error("Failed to fetch calculations:",e)}},B=e=>{const{name:t,value:r}=e.target;u(e=>Ie(Ie({},e),{},{[t]:r}))},z=e=>{const t=y.find(t=>t.cat_id===e);return console.log("Looking for price for catalyst:",e,"Found calculation:",t),(null===t||void 0===t?void 0:t.total_price)||null},H=e=>{const t=z(e);if(!t)return null;const r=.9*t,a=1.1*t;return{basePrice:parseFloat(t),minPrice:parseFloat(r.toFixed(2)),maxPrice:parseFloat(a.toFixed(2))}},V=()=>{R.trim()&&!d.tags.includes(R.trim())&&(u(e=>Ie(Ie({},e),{},{tags:[...e.tags,R.trim()]})),M(""))},W=()=>{D.trim()&&!d.features.includes(D.trim())&&(u(e=>Ie(Ie({},e),{},{features:[...e.features,D.trim()]})),F(""))};return(0,ba.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ba.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ba.jsxs)("div",{className:"mb-8",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ba.jsx)(Pe,{to:"/my-listings",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,ba.jsx)(Tn,{className:"w-5 h-5"})}),(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create New Listing"})]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Fill in the details below to create your marketplace listing"})]}),(0,ba.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e=["title","description","price"];for(let t of e)if(!d[t].trim())return alert("Please fill in the ".concat(t.replace("_"," ")," field")),!1;return parseFloat(d.price)<=0?(alert("Please enter a valid price"),!1):0!==l.length||(alert("Please add at least one image"),!1)})()){r(!0);try{const t=localStorage.getItem("cataloro_user"),r=t?JSON.parse(t):null;if(!r)return alert("Please log in to create a listing"),void e("/login");const a=Ie(Ie({},d),{},{price:parseFloat(d.price),shipping_cost:d.shipping_cost?parseFloat(d.shipping_cost):0,seller_id:r.id,seller:{name:r.name||r.full_name||r.email,username:r.username||r.name||r.email,email:r.email,verified:r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||null,location:[d.street,d.city,d.country].filter(Boolean).join(", ")||"Not specified"},address:{street:d.street,post_code:d.post_code,city:d.city,country:d.country,use_profile_address:h},images:o,created_at:(new Date).toISOString()},N&&{catalyst_id:N.cat_id,catalyst_name:N.name,is_catalyst_listing:!0,calculated_price:z(N.cat_id),catalyst_specs:{ceramic_weight:N.ceramic_weight,pt_ppm:N.pt_ppm,pd_ppm:N.pd_ppm,rh_ppm:N.rh_ppm}});await Va.createListing(a),alert("Listing created successfully!"),e("/my-listings")}catch(a){console.error("Failed to create listing:",a),alert("Failed to create listing. Please try again.")}finally{r(!1)}}},className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Bn,{className:"w-6 h-6 mr-2"}),"Product Images"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[o.map((e,t)=>(0,ba.jsxs)("div",{className:"relative group",children:[(0,ba.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),(0,ba.jsx)("button",{type:"button",onClick:()=>(e=>{i(t=>t.filter((t,r)=>r!==e)),c(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]},t)),(0,ba.jsxs)("label",{className:"w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[(0,ba.jsx)(zn,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,ba.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Add Images"}),(0,ba.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return void alert("Please select only image files");if(e.size>5242880)return void alert("File size must be less than 5MB");i(t=>[...t,e]);const t=new FileReader;t.onload=e=>{c(t=>[...t,e.target.result])},t.readAsDataURL(e)})},className:"hidden"})]})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload up to 8 images. First image will be the main photo. Max 5MB per image."})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Hn,{className:"w-6 h-6 mr-2"}),"Basic Information"]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title *",(0,ba.jsxs)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2 flex items-center",children:[(0,ba.jsx)(bn,{className:"w-3 h-3 mr-1"}),"(Type to search Cat Database - ",f.length," catalysts available)"]})]}),(0,ba.jsx)("input",{type:"text",name:"title",value:d.title,onChange:e=>{const t=e.target.value;if(u(e=>Ie(Ie({},e),{},{title:t})),t.length>0){const e=f.filter(e=>{var r,a,s;const n=t.toLowerCase();return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(a=e.cat_id)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(s=e.add_info)||void 0===s?void 0:s.toLowerCase().includes(n))}).slice(0,8);j(e),k(e.length>0)}else j([]),k(!1),_(null)},onFocus:()=>d.title&&k(v.length>0),placeholder:"Enter item title or start typing catalyst name/ID...",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0}),w&&(0,ba.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-80 overflow-y-auto",children:[(0,ba.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ba.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(bn,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cat Database Matches (",v.length,")",(0,ba.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to auto-fill"})]})}),v.map(e=>{const t=H(e.cat_id);return(0,ba.jsx)("div",{onClick:()=>(e=>{_(e),console.log("Selected catalyst:",e),console.log("Catalyst add_info:",e.add_info);let t="Catalyst: ".concat(e.name||"Professional Grade Catalyst","\n\nSpecifications:\n\u2022 Ceramic Weight: ").concat(e.ceramic_weight||"N/A","g\n\nProfessional grade catalyst suitable for automotive and industrial applications.");e.add_info&&e.add_info.trim()?(console.log("Adding add_info to description:",e.add_info),t+="\n\nAdditional Information:\n".concat(e.add_info)):console.log("No add_info available or empty:",e.add_info),console.log("Final description:",t),u(r=>Ie(Ie({},r),{},{title:e.name||e.cat_id,category:"Catalysts",description:t})),k(!1)})(e),className:"p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ba.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.name}),(0,ba.jsx)(Vn,{className:"w-4 h-4 text-yellow-500",title:"Auto-fill enabled"})]}),(0,ba.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:(0,ba.jsxs)("div",{className:"flex flex-col",children:[(0,ba.jsx)("span",{className:"text-gray-500",children:"Weight"}),(0,ba.jsxs)("span",{className:"font-medium",children:[e.ceramic_weight,"g"]})]})})]}),t&&(0,ba.jsxs)("div",{className:"ml-4 text-right",children:[(0,ba.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["\u20ac",t.minPrice.toFixed(2)," - \u20ac",t.maxPrice.toFixed(2)]}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[(0,ba.jsx)(bn,{className:"w-3 h-3 mr-1"}),"Market Range"]})]})]})},e.cat_id)})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Description *",N&&(0,ba.jsxs)("span",{className:"text-purple-600 dark:text-purple-400 text-xs ml-2 flex items-center",children:[(0,ba.jsx)(Vn,{className:"w-3 h-3 mr-1"}),"Auto-generated from catalyst specifications"]})]}),(0,ba.jsx)("textarea",{name:"description",value:d.description,onChange:B,placeholder:"Provide a detailed description of your item...",rows:N?8:4,className:"w-full px-4 py-3 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 transition-all duration-200 ".concat(N?"border-purple-300 dark:border-purple-600 focus:border-purple-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500"),required:!0}),N&&(0,ba.jsxs)("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-2 flex items-center",children:[(0,ba.jsx)(bn,{className:"w-3 h-3 mr-1"}),"Description includes catalyst specifications and current market information"]})]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Price * (\u20ac)",N&&(0,ba.jsxs)("span",{className:"text-green-600 dark:text-green-400 text-xs ml-2 flex items-center",children:[(0,ba.jsx)(Vn,{className:"w-3 h-3 mr-1"}),"Auto-calculated from catalyst data"]})]}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"\u20ac"}),(0,ba.jsx)("input",{type:"number",name:"price",value:d.price,onChange:B,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-all duration-200 ".concat(N?"border-green-300 dark:border-green-600 focus:border-green-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500"),required:!0}),N&&(0,ba.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,ba.jsx)("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded text-xs font-medium",children:"Auto-filled"})})]})]})}),N&&(0,ba.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-6 mt-6",children:[(0,ba.jsxs)("h4",{className:"font-bold text-blue-900 dark:text-blue-100 mb-4 flex items-center text-lg",children:[(0,ba.jsx)(bn,{className:"w-5 h-5 mr-2"}),"Selected Catalyst: ",N.name,(0,ba.jsx)("span",{className:"ml-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Auto-filled"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Catalyst Name"}),(0,ba.jsx)("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:N.name})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Ceramic Weight"}),(0,ba.jsxs)("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:[N.ceramic_weight,"g"]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-sm block mb-1",children:"Market Range"}),(0,ba.jsx)("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:H(N.cat_id)?(0,ba.jsxs)(ba.Fragment,{children:["\u20ac",H(N.cat_id).minPrice.toFixed(2)," - \u20ac",H(N.cat_id).maxPrice.toFixed(2)]}):"N/A"})]})]}),(0,ba.jsx)("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ba.jsxs)("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:[(0,ba.jsx)("strong",{children:"Auto-filled fields:"})," Title, Category, Price, and Description have been automatically populated based on this catalyst's data and current market calculations."]})})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(en,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,ba.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ba.jsx)("input",{type:"checkbox",checked:h,onChange:e=>{return t=e.target.checked,m(t),void u(t?e=>Ie(Ie({},e),{},{street:p.street,post_code:p.post_code,city:p.city,country:p.country}):e=>Ie(Ie({},e),{},{street:"",post_code:"",city:"",country:""}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ba.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(Bs,{className:"w-3 h-3 mr-1"}),"Use profile address"]})]})]}),h?(0,ba.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,ba.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ba.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg mr-3",children:(0,ba.jsx)(Bs,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Using Profile Address"}),(0,ba.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Address from your profile settings"})]})]}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-100 dark:border-blue-700",children:p.street||p.city?(0,ba.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[p.street&&(0,ba.jsx)("div",{children:p.street}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[p.post_code&&(0,ba.jsx)("span",{children:p.post_code}),p.city&&(0,ba.jsx)("span",{children:p.city})]}),p.country&&(0,ba.jsx)("div",{children:p.country})]}):(0,ba.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No address in profile. Please uncheck to enter address manually."})})]}):(0,ba.jsxs)("div",{className:"space-y-4 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,ba.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ba.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg mr-3",children:(0,ba.jsx)(en,{className:"w-4 h-4 text-green-600 dark:text-green-300"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-100",children:"Custom Address"}),(0,ba.jsx)("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Enter address for this listing"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ba.jsx)("input",{type:"text",name:"street",value:d.street,onChange:B,placeholder:"Enter street address",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,ba.jsx)("input",{type:"text",name:"post_code",value:d.post_code,onChange:B,placeholder:"Postal/ZIP code",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),(0,ba.jsx)("input",{type:"text",name:"city",value:d.city,onChange:B,placeholder:"Enter city",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),(0,ba.jsx)("input",{type:"text",name:"country",value:d.country,onChange:B,placeholder:"Enter country",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Shipping & Delivery"}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Options"}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsxs)("label",{className:"flex items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"shipping",value:"pickup",checked:"pickup"===d.shipping,onChange:B,className:"mr-2"}),(0,ba.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Local pickup only"})]}),(0,ba.jsxs)("label",{className:"flex items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"shipping",value:"shipping",checked:"shipping"===d.shipping,onChange:B,className:"mr-2"}),(0,ba.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"I can ship this item"})]}),(0,ba.jsxs)("label",{className:"flex items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"shipping",value:"both",checked:"both"===d.shipping,onChange:B,className:"mr-2"}),(0,ba.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Both pickup and shipping"})]})]})]}),("shipping"===d.shipping||"both"===d.shipping)&&(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Cost (\u20ac)"}),(0,ba.jsx)("input",{type:"number",name:"shipping_cost",value:d.shipping_cost,onChange:B,placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Wn,{className:"w-6 h-6 mr-2"}),"Tags & Features"]}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (Optional)"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ba.jsx)("input",{type:"text",value:R,onChange:e=>M(e.target.value),placeholder:"Add a tag",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),V())}),(0,ba.jsx)("button",{type:"button",onClick:V,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:(0,ba.jsx)(Gs,{className:"w-4 h-4"})})]}),(0,ba.jsx)("div",{className:"flex flex-wrap gap-2",children:d.tags.map((e,t)=>(0,ba.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm",children:[e,(0,ba.jsx)("button",{type:"button",onClick:()=>(e=>{u(t=>Ie(Ie({},t),{},{tags:t.tags.filter(t=>t!==e)}))})(e),className:"ml-2 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:(0,ba.jsx)(Ls,{className:"w-3 h-3"})})]},t))})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Key Features (Optional)"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ba.jsx)("input",{type:"text",value:D,onChange:e=>F(e.target.value),placeholder:"Add a feature",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),W())}),(0,ba.jsx)("button",{type:"button",onClick:W,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:(0,ba.jsx)(Gs,{className:"w-4 h-4"})})]}),(0,ba.jsx)("div",{className:"space-y-2",children:d.features.map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,ba.jsx)("span",{className:"text-green-800 dark:text-green-200",children:e}),(0,ba.jsx)("button",{type:"button",onClick:()=>(e=>{u(t=>Ie(Ie({},t),{},{features:t.features.filter(t=>t!==e)}))})(e),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:(0,ba.jsx)(Rs,{className:"w-4 h-4"})})]},t))})]})]})]}),(0,ba.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ready to publish your listing?"}),(0,ba.jsx)("p",{className:"text-blue-100",children:"Review all information above and click create to publish your listing to the marketplace."})]}),(0,ba.jsxs)("div",{className:"flex space-x-4",children:[(0,ba.jsx)(Pe,{to:"/my-listings",className:"px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-lg font-medium transition-colors",children:"Cancel"}),(0,ba.jsx)("button",{type:"button",onClick:async()=>{n(!0);try{const t=localStorage.getItem("cataloro_user"),r=t?JSON.parse(t):null;if(!r)return alert("Please log in to save draft"),void e("/login");const a=Ie(Ie({},d),{},{price:d.price?parseFloat(d.price):0,shipping_cost:d.shipping_cost?parseFloat(d.shipping_cost):0,seller_id:r.id,seller:{name:r.name||r.full_name||r.email,username:r.username||r.name||r.email,email:r.email,verified:r.verified||!1,is_business:r.is_business||!1,company_name:r.company_name||null,location:[d.street,d.city,d.country].filter(Boolean).join(", ")||"Not specified"},address:{street:d.street,post_code:d.post_code,city:d.city,country:d.country,use_profile_address:h},images:o,created_at:(new Date).toISOString(),status:"draft",is_draft:!0},N&&{catalyst_id:N.cat_id,catalyst_name:N.name,is_catalyst_listing:!0,calculated_price:z(N.cat_id),catalyst_specs:{ceramic_weight:N.ceramic_weight,pt_ppm:N.pt_ppm,pd_ppm:N.pd_ppm,rh_ppm:N.rh_ppm}});await Va.createListing(a),alert("Draft saved successfully! You can finish it later from My Listings."),e("/my-listings")}catch(t){console.error("Failed to save draft:",t),alert("Failed to save draft. Please try again.")}finally{n(!1)}},disabled:s||t,className:"px-6 py-3 bg-yellow-600/80 hover:bg-yellow-600/90 disabled:bg-yellow-600/50 text-white rounded-lg font-medium transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:s?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ba.jsx)("span",{children:"Saving..."})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Kn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Save as Draft"})]})}),(0,ba.jsx)("button",{type:"submit",disabled:t||s,className:"px-8 py-3 bg-white/20 hover:bg-white/30 disabled:bg-white/10 text-white rounded-lg font-semibold transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:t?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ba.jsx)("span",{children:"Creating..."})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(on,{className:"w-5 h-5"}),(0,ba.jsx)("span",{children:"Create Listing"})]})})]})]})})]})]})})},$n=bs("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const Jn=function(){const e=te(),{id:t}=ae(),[r,s]=(0,a.useState)(!1),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)({title:"",description:"",price:"",category:"General",condition:"New",street:"",post_code:"",city:"",country:"",shipping:"pickup",shipping_cost:"",tags:[],features:[]}),[x,f]=(0,a.useState)(!0),[g,y]=(0,a.useState)({street:"",post_code:"",city:"",country:""}),[b,v]=(0,a.useState)(""),[j,w]=(0,a.useState)("");(0,a.useEffect)(()=>{k(),N()},[t]);const k=async()=>{try{var e,r,a,s,n,i,c;l(!0),o(null);const d=localStorage.getItem("cataloro_user"),u=d?JSON.parse(d):null;if(!u)return void o("Please log in to edit listings");const m=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/listings/").concat(t));if(!m.ok)throw new Error("Failed to fetch listing data");const x=await m.json();if(x.seller_id!==u.id)return void o("You can only edit your own listings");p({title:x.title||"",description:x.description||"",price:(null===(e=x.price)||void 0===e?void 0:e.toString())||"",category:x.category||"General",condition:x.condition||"New",street:(null===(r=x.address)||void 0===r?void 0:r.street)||x.street||"",post_code:(null===(a=x.address)||void 0===a?void 0:a.post_code)||x.post_code||"",city:(null===(s=x.address)||void 0===s?void 0:s.city)||x.city||"",country:(null===(n=x.address)||void 0===n?void 0:n.country)||x.country||"",shipping:x.shipping||"pickup",shipping_cost:(null===(i=x.shipping_cost)||void 0===i?void 0:i.toString())||"",tags:x.tags||[],features:x.features||[]}),x.images&&x.images.length>0&&h(x.images),f((null===(c=x.address)||void 0===c?void 0:c.use_profile_address)||!1)}catch(d){console.error("Failed to load listing:",d),o("Failed to load listing data")}finally{l(!1)}},N=()=>{try{const e=localStorage.getItem("cataloro_user");if(e){const t=JSON.parse(e),r={street:t.street||"",post_code:t.post_code||"",city:t.city||"",country:t.country||""};y(r)}}catch(i){console.error("Failed to load profile address:",i)}},_=e=>{const{name:t,value:r}=e.target;p(e=>Ie(Ie({},e),{},{[t]:r}))},S=()=>{b.trim()&&!m.tags.includes(b.trim())&&(p(e=>Ie(Ie({},e),{},{tags:[...e.tags,b.trim()]})),v(""))},C=()=>{j.trim()&&!m.features.includes(j.trim())&&(p(e=>Ie(Ie({},e),{},{features:[...e.features,j.trim()]})),w(""))};return n?(0,ba.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ba.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ba.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)($n,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading listing data..."})]})})})}):i?(0,ba.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ba.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ba.jsxs)("div",{className:"text-center py-16",children:[(0,ba.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,ba.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Error Loading Listing"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:i}),(0,ba.jsxs)(Pe,{to:"/my-listings",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(Tn,{className:"w-5 h-5 mr-2"}),"Back to My Listings"]})]})})}):(0,ba.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ba.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ba.jsxs)("div",{className:"mb-8",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ba.jsx)(Pe,{to:"/my-listings",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,ba.jsx)(Tn,{className:"w-5 h-5"})}),(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Edit Listing"})]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Update your listing details below"})]}),(0,ba.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e=["title","description","price"];for(let t of e)if(!m[t].trim())return alert("Please fill in the ".concat(t.replace("_"," ")," field")),!1;return parseFloat(m.price)<=0?(alert("Please enter a valid price"),!1):0!==u.length||(alert("Please add at least one image"),!1)})()){s(!0);try{const r=localStorage.getItem("cataloro_user"),a=r?JSON.parse(r):null;if(!a)return alert("Please log in to update listing"),void e("/login");const s=Ie(Ie({},m),{},{price:parseFloat(m.price),shipping_cost:m.shipping_cost?parseFloat(m.shipping_cost):0,seller_id:a.id,seller:{name:a.name||a.full_name||a.email,username:a.username||a.name||a.email,email:a.email,verified:a.verified||!1,is_business:a.is_business||!1,company_name:a.company_name||null,location:[m.street,m.city,m.country].filter(Boolean).join(", ")||"Not specified"},address:{street:m.street,post_code:m.post_code,city:m.city,country:m.country,use_profile_address:x},images:u,updated_at:(new Date).toISOString()});if(!(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/listings/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Failed to update listing");alert("Listing updated successfully!"),e("/my-listings")}catch(i){console.error("Failed to update listing:",i),alert("Failed to update listing. Please try again.")}finally{s(!1)}}},className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Bn,{className:"w-6 h-6 mr-2"}),"Product Images"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[u.map((e,t)=>(0,ba.jsxs)("div",{className:"relative group",children:[(0,ba.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),(0,ba.jsx)("button",{type:"button",onClick:()=>(e=>{d(t=>t.filter((t,r)=>r!==e)),h(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]},t)),(0,ba.jsxs)("label",{className:"w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[(0,ba.jsx)(zn,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,ba.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Add Images"}),(0,ba.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files).forEach(e=>{if(!e.type.startsWith("image/"))return void alert("Please select only image files");if(e.size>5242880)return void alert("File size must be less than 5MB");d(t=>[...t,e]);const t=new FileReader;t.onload=e=>{h(t=>[...t,e.target.result])},t.readAsDataURL(e)})},className:"hidden"})]})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload up to 8 images. First image will be the main photo. Max 5MB per image."})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Hn,{className:"w-6 h-6 mr-2"}),"Basic Information"]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),(0,ba.jsx)("input",{type:"text",name:"title",value:m.title,onChange:_,placeholder:"Enter item title",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),(0,ba.jsx)("textarea",{name:"description",value:m.description,onChange:_,placeholder:"Provide a detailed description of your item...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price * (\u20ac)"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"\u20ac"}),(0,ba.jsx)("input",{type:"number",name:"price",value:m.price,onChange:_,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ba.jsx)("select",{name:"category",value:m.category,onChange:_,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:["Catalysts","Electronics","Fashion & Clothing","Home & Garden","Sports & Outdoors","Books & Media","Music & Instruments","Automotive","Real Estate","Jobs & Services","Collectibles & Antiques","Health & Beauty","Toys & Games"].map(e=>(0,ba.jsx)("option",{value:e,children:e},e))})]})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(en,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,ba.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ba.jsx)("input",{type:"checkbox",checked:x,onChange:e=>{return t=e.target.checked,f(t),void(t&&p(e=>Ie(Ie({},e),{},{street:g.street,post_code:g.post_code,city:g.city,country:g.country})));var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ba.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(Bs,{className:"w-3 h-3 mr-1"}),"Use profile address"]})]})]}),x?(0,ba.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,ba.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ba.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg mr-3",children:(0,ba.jsx)(Bs,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Using Profile Address"}),(0,ba.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Address from your profile settings"})]})]}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-100 dark:border-blue-700",children:g.street||g.city?(0,ba.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[g.street&&(0,ba.jsx)("div",{children:g.street}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[g.post_code&&(0,ba.jsx)("span",{children:g.post_code}),g.city&&(0,ba.jsx)("span",{children:g.city})]}),g.country&&(0,ba.jsx)("div",{children:g.country})]}):(0,ba.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No address in profile. Please uncheck to enter address manually."})})]}):(0,ba.jsxs)("div",{className:"space-y-4 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ba.jsx)("input",{type:"text",name:"street",value:m.street,onChange:_,placeholder:"Enter street address",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,ba.jsx)("input",{type:"text",name:"post_code",value:m.post_code,onChange:_,placeholder:"Postal/ZIP code",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),(0,ba.jsx)("input",{type:"text",name:"city",value:m.city,onChange:_,placeholder:"Enter city",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),(0,ba.jsx)("input",{type:"text",name:"country",value:m.country,onChange:_,placeholder:"Enter country",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Shipping & Delivery"}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Options"}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsxs)("label",{className:"flex items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"shipping",value:"pickup",checked:"pickup"===m.shipping,onChange:_,className:"mr-2"}),(0,ba.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Local pickup only"})]}),(0,ba.jsxs)("label",{className:"flex items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"shipping",value:"shipping",checked:"shipping"===m.shipping,onChange:_,className:"mr-2"}),(0,ba.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"I can ship this item"})]}),(0,ba.jsxs)("label",{className:"flex items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"shipping",value:"both",checked:"both"===m.shipping,onChange:_,className:"mr-2"}),(0,ba.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Both pickup and shipping"})]})]})]}),("shipping"===m.shipping||"both"===m.shipping)&&(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Cost (\u20ac)"}),(0,ba.jsx)("input",{type:"number",name:"shipping_cost",value:m.shipping_cost,onChange:_,placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Wn,{className:"w-6 h-6 mr-2"}),"Tags & Features"]}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (Optional)"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ba.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Add a tag",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),S())}),(0,ba.jsx)("button",{type:"button",onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:(0,ba.jsx)(Gs,{className:"w-4 h-4"})})]}),(0,ba.jsx)("div",{className:"flex flex-wrap gap-2",children:m.tags.map((e,t)=>(0,ba.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm",children:[e,(0,ba.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>Ie(Ie({},t),{},{tags:t.tags.filter(t=>t!==e)}))})(e),className:"ml-2 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:(0,ba.jsx)(Ls,{className:"w-3 h-3"})})]},t))})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Key Features (Optional)"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ba.jsx)("input",{type:"text",value:j,onChange:e=>w(e.target.value),placeholder:"Add a feature",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),C())}),(0,ba.jsx)("button",{type:"button",onClick:C,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:(0,ba.jsx)(Gs,{className:"w-4 h-4"})})]}),(0,ba.jsx)("div",{className:"space-y-2",children:m.features.map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,ba.jsx)("span",{className:"text-green-800 dark:text-green-200",children:e}),(0,ba.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>Ie(Ie({},t),{},{features:t.features.filter(t=>t!==e)}))})(e),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:(0,ba.jsx)(Rs,{className:"w-4 h-4"})})]},t))})]})]})]}),(0,ba.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ready to update your listing?"}),(0,ba.jsx)("p",{className:"text-blue-100",children:"Review all information above and click update to save your changes."})]}),(0,ba.jsxs)("div",{className:"flex space-x-4",children:[(0,ba.jsx)(Pe,{to:"/my-listings",className:"px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-lg font-medium transition-colors",children:"Cancel"}),(0,ba.jsx)("button",{type:"submit",disabled:r,className:"px-8 py-3 bg-white/20 hover:bg-white/30 disabled:bg-white/10 text-white rounded-lg font-semibold transition-colors flex items-center space-x-2 disabled:cursor-not-allowed",children:r?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ba.jsx)("span",{children:"Updating..."})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Kn,{className:"w-5 h-5"}),(0,ba.jsx)("span",{children:"Update Listing"})]})})]})]})})]})]})})},Yn=bs("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),Qn=bs("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Zn=bs("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Xn=function(){const{user:e}=Aa(),{showToast:t}=Ha(),[r,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&c()},[e]);const c=async()=>{if(e){l(!0);try{const r=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/seller/").concat(e.id));if(r.ok){const e=await r.json();s(e)}else console.error("Failed to fetch pending orders"),t("Failed to load pending orders","error")}catch(r){console.error("Error fetching pending orders:",r),t("Failed to load pending orders","error")}finally{l(!1)}}},d=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const a=Math.floor(r/36e5),s=Math.floor(r%36e5/6e4);if(a>24){const e=Math.floor(a/24),t=a%24;return"".concat(e,"d ").concat(t,"h remaining")}return a>0?"".concat(a,"h ").concat(s,"m remaining"):"".concat(s,"m remaining")},u=e=>{const t=new Date,r=(new Date(e).getTime()-t.getTime())/36e5;return r<=0?"text-red-600 dark:text-red-400":r<=6?"text-orange-600 dark:text-orange-400":r<=24?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"};return n?(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading pending sales..."})]})}):(0,ba.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Pending Sales"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage incoming buy requests for your listings"})]}),(0,ba.jsxs)("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Refresh"})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ba.jsx)(ws,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Pending Requests"})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ba.jsx)(Yn,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",r.reduce((e,t)=>{var r;return e+((null===(r=t.listing)||void 0===r?void 0:r.price)||0)},0).toFixed(2)]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Potential Revenue"})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,ba.jsx)(Ms,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.filter(e=>{const t=new Date(e.expires_at),r=new Date;return(t.getTime()-r.getTime())/36e5<=6}).length}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Expiring Soon"})]})]})})]}),0===r.length?(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)(ws,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No pending buy requests"}),(0,ba.jsx)("p",{className:"text-gray-500 dark:text-gray-500",children:"When someone wants to buy your items, they'll appear here."})]}):(0,ba.jsx)("div",{className:"space-y-6",children:r.map(r=>{var a,s,n,l,h,m,p;return(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,ba.jsxs)("div",{className:"p-6",children:[(0,ba.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ba.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ba.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0",children:null!==(a=r.listing)&&void 0!==a&&a.image?(0,ba.jsx)("img",{src:r.listing.image,alt:r.listing.title,className:"w-full h-full object-cover"}):(0,ba.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ba.jsx)(ws,{className:"w-8 h-8 text-gray-400"})})}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:(null===(s=r.listing)||void 0===s?void 0:s.title)||"Unknown Item"}),(0,ba.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:["\u20ac",(null===(n=r.listing)||void 0===n||null===(l=n.price)||void 0===l?void 0:l.toFixed(2))||"0.00"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)(Bs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:(null===(h=r.buyer)||void 0===h?void 0:h.full_name)||(null===(m=r.buyer)||void 0===m?void 0:m.username)||"Unknown Buyer"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)(Zs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:(null===(p=r.buyer)||void 0===p?void 0:p.email)||"N/A"})]})]})]})]}),(0,ba.jsxs)("div",{className:"text-right",children:[(0,ba.jsxs)("div",{className:"text-sm font-medium ".concat(u(r.expires_at)),children:[(0,ba.jsx)(Ms,{className:"w-4 h-4 inline mr-1"}),d(r.expires_at)]}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(0,ba.jsx)(Qn,{className:"w-3 h-3 inline mr-1"}),"Requested ",new Date(r.created_at).toLocaleDateString()]})]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("button",{onClick:()=>(async r=>{o(r);try{const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})}),s=await a.json();a.ok?(t("Buy request rejected. The buyer has been notified.","info"),c()):t(s.detail||"Failed to reject request","error")}catch(a){console.error("Error rejecting order:",a),t("Failed to reject request. Please try again.","error")}finally{o(null)}})(r.id),disabled:i===r.id,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",children:[(0,ba.jsx)(Zn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Reject"})]}),(0,ba.jsxs)("button",{onClick:()=>(async r=>{o(r);try{const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/").concat(r,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})}),s=await a.json();a.ok?(t("Buy request approved! The buyer has been notified.","success"),c()):410===a.status?(t("This request has expired","warning"),c()):t(s.detail||"Failed to approve request","error")}catch(a){console.error("Error approving order:",a),t("Failed to approve request. Please try again.","error")}finally{o(null)}})(r.id),disabled:i===r.id,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,ba.jsx)(on,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:i===r.id?"Processing...":"Approve Sale"})]})]})]})},r.id)})})]})},el=bs("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),tl=bs("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),rl=bs("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const al=function(){const{user:e}=Aa(),{showToast:t}=Ha(),[r,s]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)("buyer"),[m,p]=(0,a.useState)("all"),[x,f]=(0,a.useState)("newest");(0,a.useEffect)(()=>{e&&g()},[e]);const g=async()=>{if(e){o(!0);try{const t=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/buyer/").concat(e.id));if(t.ok){const e=await t.json();s(e)}const r=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/seller/").concat(e.id));if(r.ok){const e=await r.json();l(e)}}catch(r){console.error("Error fetching orders:",r),t("Failed to load requests","error")}finally{o(!1)}}},y=e=>{const t=new Date,r=new Date(e).getTime()-t.getTime();if(r<=0)return"Expired";const a=Math.floor(r/36e5),s=Math.floor(r%36e5/6e4);if(a>24){const e=Math.floor(a/24),t=a%24;return"".concat(e,"d ").concat(t,"h")}return a>0?"".concat(a,"h ").concat(s,"m"):"".concat(s,"m")},b=e=>{switch(e){case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"approved":return"text-green-600 bg-green-50 border-green-200";case"rejected":return"text-red-600 bg-red-50 border-red-200";case"expired":default:return"text-gray-600 bg-gray-50 border-gray-200";case"cancelled":return"text-orange-600 bg-orange-50 border-orange-200"}},v=e=>{switch(e){case"pending":return(0,ba.jsx)(Ms,{className:"w-4 h-4"});case"approved":return(0,ba.jsx)(on,{className:"w-4 h-4"});case"rejected":case"cancelled":return(0,ba.jsx)(Zn,{className:"w-4 h-4"});case"expired":return(0,ba.jsx)(Qn,{className:"w-4 h-4"});default:return(0,ba.jsx)(ws,{className:"w-4 h-4"})}},j=(e,t)=>{let r=e;return"all"!==m&&(r=r.filter(e=>e.status===m)),r.sort((e,t)=>{var r,a,s,n;switch(x){case"oldest":return new Date(e.created_at)-new Date(t.created_at);case"price_high":return((null===(r=t.listing)||void 0===r?void 0:r.price)||0)-((null===(a=e.listing)||void 0===a?void 0:a.price)||0);case"price_low":return((null===(s=e.listing)||void 0===s?void 0:s.price)||0)-((null===(n=t.listing)||void 0===n?void 0:n.price)||0);default:return new Date(t.created_at)-new Date(e.created_at)}}),r},w=(()=>{const e=[...r,...n];return{total:e.length,pending:e.filter(e=>"pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length,totalValue:e.reduce((e,t)=>{var r;return e+((null===(r=t.listing)||void 0===r?void 0:r.price)||0)},0)}})(),k=j("buyer"===u?r:"seller"===u?n:[...r,...n]);return i?(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading all requests..."})]})}):(0,ba.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(el,{className:"w-8 h-8 mr-3 text-blue-600"}),"All Requests"]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage all your buy and sell requests in one place"})]}),(0,ba.jsxs)("button",{onClick:g,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Refresh"})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:(0,ba.jsx)(ws,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.total}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Requests"})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:(0,ba.jsx)(Ms,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.pending}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Pending"})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,ba.jsx)(on,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.approved}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Approved"})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:(0,ba.jsx)(ks,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",w.totalValue.toFixed(2)]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Value"})]})]})})]}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,ba.jsxs)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,ba.jsxs)("button",{onClick:()=>h("buyer"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("buyer"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["My Purchases (",r.length,")"]}),(0,ba.jsxs)("button",{onClick:()=>h("seller"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("seller"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["My Sales (",n.length,")"]}),(0,ba.jsxs)("button",{onClick:()=>h("all"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("all"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"),children:["All Requests (",w.total,")"]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)(tl,{className:"w-4 h-4 text-gray-500"}),(0,ba.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"all",children:"All Status"}),(0,ba.jsx)("option",{value:"pending",children:"Pending"}),(0,ba.jsx)("option",{value:"approved",children:"Approved"}),(0,ba.jsx)("option",{value:"rejected",children:"Rejected"}),(0,ba.jsx)("option",{value:"expired",children:"Expired"}),(0,ba.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)(rl,{className:"w-4 h-4 text-gray-500"}),(0,ba.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"newest",children:"Newest First"}),(0,ba.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,ba.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,ba.jsx)("option",{value:"price_low",children:"Price: Low to High"})]})]})]})]})}),0===k.length?(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)(ws,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No requests found"}),(0,ba.jsxs)("p",{className:"text-gray-500 dark:text-gray-500",children:["buyer"===u&&"You haven't made any purchase requests yet.","seller"===u&&"You haven't received any sale requests yet.","all"===u&&"No requests match your current filters."]})]}):(0,ba.jsx)("div",{className:"space-y-6",children:k.map(a=>{var s,n,l,i,o,u,h,m;const p=r.some(e=>e.id===a.id);return(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,ba.jsxs)("div",{className:"p-6",children:[(0,ba.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ba.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ba.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0",children:null!==(s=a.listing)&&void 0!==s&&s.image?(0,ba.jsx)("img",{src:a.listing.image,alt:a.listing.title,className:"w-full h-full object-cover"}):(0,ba.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,ba.jsx)(ws,{className:"w-8 h-8 text-gray-400"})})}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null===(n=a.listing)||void 0===n?void 0:n.title)||"Unknown Item"}),(0,ba.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(b(a.status)),children:[v(a.status),(0,ba.jsx)("span",{className:"ml-1 capitalize",children:a.status})]}),(0,ba.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(p?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:p?"Purchase":"Sale"})]}),(0,ba.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:["\u20ac",(null===(l=a.listing)||void 0===l||null===(i=l.price)||void 0===i?void 0:i.toFixed(2))||"0.00"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)(Bs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:p?"Seller: ".concat((null===(o=a.seller)||void 0===o?void 0:o.username)||"Unknown"):"Buyer: ".concat((null===(u=a.buyer)||void 0===u?void 0:u.username)||"Unknown")})]}),"approved"===a.status&&(null===(h=a.seller)||void 0===h?void 0:h.email)&&(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)(Zs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:a.seller.email})]})]})]})]}),(0,ba.jsxs)("div",{className:"text-right",children:["pending"===a.status&&(0,ba.jsxs)("div",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400 mb-1",children:[(0,ba.jsx)(Ms,{className:"w-4 h-4 inline mr-1"}),y(a.expires_at)," remaining"]}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(0,ba.jsx)(Qn,{className:"w-3 h-3 inline mr-1"}),"Created ",new Date(a.created_at).toLocaleDateString()]}),a.approved_at&&(0,ba.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Approved ",new Date(a.approved_at).toLocaleDateString()]})]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:["pending"===a.status&&!p&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Request rejected","info"),g();else{const e=await a.json();t(e.detail||"Failed to reject request","error")}}catch(a){console.error("Error rejecting order:",a),t("Failed to reject request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",children:[(0,ba.jsx)(Zn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Reject"})]}),(0,ba.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/").concat(r,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Request approved successfully!","success"),g();else{const e=await a.json();t(e.detail||"Failed to approve request","error")}}catch(a){console.error("Error approving order:",a),t("Failed to approve request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,ba.jsx)(on,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:c===a.id?"Processing...":"Approve Sale"})]})]}),"pending"===a.status&&p&&(0,ba.jsxs)("button",{onClick:()=>(async r=>{d(r);try{const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/").concat(r,"/cancel"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_id:e.id})});if(a.ok)t("Request cancelled successfully","success"),g();else{const e=await a.json();t(e.detail||"Failed to cancel request","error")}}catch(a){console.error("Error cancelling order:",a),t("Failed to cancel request","error")}finally{d(null)}})(a.id),disabled:c===a.id,className:"flex items-center space-x-2 px-4 py-2 border border-red-300 text-red-700 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:[(0,ba.jsx)(Zn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Cancel Request"})]}),(0,ba.jsxs)(Pe,{to:"/product/".concat(null===(m=a.listing)||void 0===m?void 0:m.id),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,ba.jsx)(yn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"View Listing"})]}),"approved"===a.status&&(0,ba.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,ba.jsx)(_s,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Message"})]})]})]})},a.id)})})]})},sl=bs("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),nl=bs("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ll=bs("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const il=function(){const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,l]=(0,a.useState)({totalDeals:0,totalValue:0,pendingDeals:0,completedDeals:0,averageOrderValue:0,successRate:0,monthlyTrend:0,topCategories:[],recentActivity:[]}),[i,o]=(0,a.useState)("overview"),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("newest"),[m,p]=(0,a.useState)(""),[x,f]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!0),[b,v]=(0,a.useState)(null),{user:j}=Aa(),{showToast:w}=Ha(),k=(0,a.useRef)(null),N=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e&&f(!0);const r=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/my-deals/").concat(j.id));let a=[];if(!r.ok)throw console.log("\u26a0\ufe0f Using fallback for deals data"),new Error("API unavailable");a=await r.json(),console.log("\u2705 Live deals data loaded:",a.length,"deals");const s=a.sort((e,t)=>{const r=new Date(e.created_at||e.approved_at||"2023-01-01");return new Date(t.created_at||t.approved_at||"2023-01-01")-r});t(s);const n=_(a);l(n),v(new Date),e&&w("\u2705 Updated: ".concat(a.length," deals loaded with live statistics"),"success")}catch(r){console.error("\u274c Failed to fetch live deals data:",r),e&&w("\u26a0\ufe0f Failed to refresh live data - using cached data","warning"),t(e=>e.length>0?e:[])}finally{s(!1),f(!1)}},[null===j||void 0===j?void 0:j.id,w]),_=e=>{if(!e||0===e.length)return{totalDeals:0,totalValue:0,pendingDeals:0,completedDeals:0,averageOrderValue:0,successRate:0,monthlyTrend:0,topCategories:[],recentActivity:[]};const t=e.filter(e=>"completed"===e.status),r=e.filter(e=>"pending"===e.status||"approved"===e.status),a=t.reduce((e,t)=>e+(parseFloat(t.amount)||0),0),s=t.length>0?a/t.length:0,n=e.length>0?t.length/e.length*100:0,l=new Date,i=e.filter(e=>{const t=new Date(e.created_at||e.approved_at);return(l-t)/864e5<=30}),o=e.filter(e=>{const t=new Date(e.created_at||e.approved_at),r=(l-t)/864e5;return r>30&&r<=60}),c=o.length>0?(i.length-o.length)/o.length*100:0,d={};e.forEach(e=>{var t;const r=(null===(t=e.listing)||void 0===t?void 0:t.category)||"Uncategorized";d[r]=(d[r]||0)+1});const u=Object.entries(d).sort((e,t)=>{let[,r]=e,[,a]=t;return a-r}).slice(0,5).map(e=>{let[t,r]=e;return{category:t,count:r}}),h=e.slice(0,10).map(e=>{var t;return{id:e.id,type:e.buyer_id===(null===j||void 0===j?void 0:j.id)?"purchase":"sale",title:(null===(t=e.listing)||void 0===t?void 0:t.title)||"Deal",amount:e.amount,status:e.status,date:e.created_at||e.approved_at}});return{totalDeals:e.length,totalValue:a,pendingDeals:r.length,completedDeals:t.length,averageOrderValue:s,successRate:n,monthlyTrend:c,topCategories:u,recentActivity:h}};(0,a.useEffect)(()=>(null!==j&&void 0!==j&&j.id&&(N(),g&&(k.current=setInterval(()=>{N()},3e4))),()=>{k.current&&clearInterval(k.current)}),[null===j||void 0===j?void 0:j.id,g,N]);const S=[{id:"overview",label:"Live Overview",icon:sl,count:n.totalDeals},{id:"all",label:"All Deals",icon:ws,count:e.length},{id:"pending",label:"Pending",icon:Ms,count:e.filter(e=>"pending"===e.status||"approved"===e.status).length},{id:"completed",label:"Completed",icon:on,count:e.filter(e=>"completed"===e.status).length},{id:"analytics",label:"Analytics",icon:$s,count:n.topCategories.length}],C=e=>{d(e),o(e)},E=("overview"===i||"analytics"===i?[]:e.filter(e=>{var t,r,a,s,n,l,o;let c=!0;switch(i){case"all":default:c=!0;break;case"pending":c="pending"===e.status||"approved"===e.status||"in_progress"===e.status;break;case"completed":c="completed"===e.status||"delivered"===e.status||"finished"===e.status;break;case"cancelled":c="cancelled"===e.status||"rejected"===e.status||"failed"===e.status}const d=!m||(null===(t=e.listing)||void 0===t||null===(r=t.title)||void 0===r?void 0:r.toLowerCase().includes(m.toLowerCase()))||(null===(a=e.id)||void 0===a?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null===(s=e.seller)||void 0===s||null===(n=s.username)||void 0===n?void 0:n.toLowerCase().includes(m.toLowerCase()))||(null===(l=e.buyer)||void 0===l||null===(o=l.username)||void 0===o?void 0:o.toLowerCase().includes(m.toLowerCase()));return c&&d})).sort((e,t)=>{switch(u){case"newest":return new Date(t.created_at||t.approved_at||"2023-01-01")-new Date(e.created_at||e.approved_at||"2023-01-01");case"oldest":return new Date(e.created_at||e.approved_at||"2023-01-01")-new Date(t.created_at||t.approved_at||"2023-01-01");case"highest_value":return(t.amount||0)-(e.amount||0);case"lowest_value":return(e.amount||0)-(t.amount||0);case"status":return(e.status||"").localeCompare(t.status||"");default:return 0}}),O=E;return r?(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsx)("div",{className:"spinner"})}):(0,ba.jsxs)("div",{className:"fade-in",children:[(0,ba.jsx)("div",{className:"mb-8",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,ba.jsx)(sl,{className:"w-8 h-8 mr-3 text-blue-600"}),"Live Deals Dashboard"]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Real-time tracking of your marketplace transactions and performance"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(g?"bg-green-500 animate-pulse":"bg-gray-400")}),(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:g?"Live":"Paused"})]}),b&&(0,ba.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Updated: ",b.toLocaleTimeString()]}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsxs)("button",{onClick:()=>{y(e=>{const t=!e;return t?w("\ud83d\udd04 Real-time updates enabled","success"):(w("\u23f8\ufe0f Real-time updates paused","info"),k.current&&clearInterval(k.current)),t})},className:"px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(g?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[g?"Pause":"Resume"," Live"]}),(0,ba.jsxs)("button",{onClick:()=>{N(!0)},disabled:x,className:"px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4 mr-1 ".concat(x?"animate-spin":"")}),"Refresh"]})]})]})]})}),"overview"===i&&(0,ba.jsxs)("div",{className:"space-y-8 mb-8",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:n.totalDeals}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Deals"}),(0,ba.jsxs)("div",{className:"flex items-center justify-center mt-2",children:[n.monthlyTrend>=0?(0,ba.jsx)(Fs,{className:"w-4 h-4 text-green-500 mr-1"}):(0,ba.jsx)(nl,{className:"w-4 h-4 text-red-500 mr-1"}),(0,ba.jsxs)("span",{className:"text-xs ".concat(n.monthlyTrend>=0?"text-green-600":"text-red-600"),children:[Math.abs(n.monthlyTrend).toFixed(1),"%"]})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 text-center",children:[(0,ba.jsxs)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["$",n.totalValue.toFixed(2)]}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Value"}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Avg: $",n.averageOrderValue.toFixed(2)]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:n.pendingDeals}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Pending"}),(0,ba.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Requires attention"})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 text-center",children:[(0,ba.jsxs)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:[n.successRate.toFixed(1),"%"]}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Success Rate"}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[n.completedDeals," completed"]})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Vn,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Recent Activity"]}),0===n.recentActivity.length?(0,ba.jsxs)("div",{className:"text-center py-8",children:[(0,ba.jsx)(sl,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,ba.jsx)("p",{className:"text-gray-500",children:"No recent activity"})]}):(0,ba.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:n.recentActivity.map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"p-2 rounded-full ".concat("purchase"===e.type?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"),children:"purchase"===e.type?(0,ba.jsx)(ws,{className:"w-4 h-4"}):(0,ba.jsx)(ks,{className:"w-4 h-4"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:["purchase"===e.type?"Purchased":"Sold",": ",e.title]}),(0,ba.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]})]}),(0,ba.jsxs)("div",{className:"text-right",children:[(0,ba.jsxs)("div",{className:"font-bold text-green-600",children:["$",e.amount]}),(0,ba.jsx)("div",{className:"text-xs px-2 py-1 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.status})]})]},e.id||t))})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(ll,{className:"w-5 h-5 mr-2 text-purple-500"}),"Top Categories"]}),0===n.topCategories.length?(0,ba.jsxs)("div",{className:"text-center py-8",children:[(0,ba.jsx)(ll,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,ba.jsx)("p",{className:"text-gray-500",children:"No category data"})]}):(0,ba.jsx)("div",{className:"space-y-4",children:n.topCategories.map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-3 h-3 rounded-full ".concat({0:"bg-blue-500",1:"bg-green-500",2:"bg-yellow-500",3:"bg-purple-500",4:"bg-red-500"}[t])}),(0,ba.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.category})]}),(0,ba.jsxs)("div",{className:"text-right",children:[(0,ba.jsx)("div",{className:"font-bold text-gray-900 dark:text-white",children:e.count}),(0,ba.jsx)("div",{className:"text-xs text-gray-500",children:"deals"})]})]},t))})]})]})]}),"overview"!==i&&(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-4",children:[(0,ba.jsx)("button",{onClick:()=>C("all"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("all"===c?"ring-2 ring-blue-500 bg-blue-50/20 dark:bg-blue-900/20":""),children:(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:e.length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Deals"})]})}),(0,ba.jsx)("button",{onClick:()=>C("pending"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("pending"===c?"ring-2 ring-orange-500 bg-orange-50/20 dark:bg-orange-900/20":""),children:(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:e.filter(e=>"pending"===e.status).length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Pending"})]})}),(0,ba.jsx)("button",{onClick:()=>C("completed"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("completed"===c?"ring-2 ring-green-500 bg-green-50/20 dark:bg-green-900/20":""),children:(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:e.filter(e=>"completed"===e.status).length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Completed"})]})}),(0,ba.jsx)("button",{onClick:()=>C("totalValue"),className:"cataloro-card-glass text-left transition-all duration-200 hover:scale-105 ".concat("totalValue"===c?"ring-2 ring-emerald-500 bg-emerald-50/20 dark:bg-emerald-900/20":""),children:(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsxs)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:["$",e.filter(e=>"completed"===e.status).reduce((e,t)=>e+t.amount,0).toFixed(2)]}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Value"})]})})]}),(0,ba.jsx)("div",{className:"cataloro-card-glass mb-8",children:(0,ba.jsx)("div",{className:"p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[(0,ba.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,ba.jsx)(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ba.jsx)("input",{type:"text",placeholder:"Search deals by item or ID...",value:m,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)(tl,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,ba.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ba.jsx)("option",{value:"newest",children:"Newest First"}),(0,ba.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,ba.jsx)("option",{value:"highest_value",children:"Highest Value"}),(0,ba.jsx)("option",{value:"lowest_value",children:"Lowest Value"}),(0,ba.jsx)("option",{value:"status",children:"By Status"})]})]}),(0,ba.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[O.length," of ",e.length," deals"]})]})})}),("all"!==c||m)&&(0,ba.jsxs)("div",{className:"mb-4 flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Active filters: ","all"!==c&&"Status: ".concat("totalValue"===c?"completed":c),m&&' | Search: "'.concat(m,'"')]}),(0,ba.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:["(",O.length," results)"]})]}),(0,ba.jsx)("button",{onClick:()=>{d("all"),o("all"),p("")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Clear All"})]}),(0,ba.jsx)("div",{className:"cataloro-card-glass mb-8",children:(0,ba.jsx)("div",{className:"border-b border-white/10",children:(0,ba.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:S.map(e=>{const t=e.icon;return(0,ba.jsxs)("button",{onClick:()=>o(e.id),className:"py-4 px-2 text-sm font-medium transition-all duration-300 border-b-2 flex items-center ".concat(i===e.id?"text-gray-900 dark:text-white border-blue-600":"text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-white"),children:[(0,ba.jsx)(t,{className:"w-4 h-4 mr-2"}),e.label,(0,ba.jsx)("span",{className:"ml-2 bg-white/20 dark:bg-white/10 text-gray-600 dark:text-gray-300 py-1 px-2 rounded-full text-xs backdrop-blur-md",children:e.count})]},e.id)})})})}),("all"===i||"pending"===i||"completed"===i||"cancelled"===i)&&(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["all"===i?"All Deals":"pending"===i?"Pending Deals":"completed"===i?"Completed Deals":"Cancelled Deals"," (",E.length,")"]}),(0,ba.jsx)("div",{className:"flex items-center space-x-4",children:(0,ba.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"px-3 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm",children:[(0,ba.jsx)("option",{value:"newest",children:"Newest First"}),(0,ba.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,ba.jsx)("option",{value:"highest_value",children:"Highest Value"}),(0,ba.jsx)("option",{value:"lowest_value",children:"Lowest Value"}),(0,ba.jsx)("option",{value:"status",children:"By Status"})]})})]}),0===E.length?(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)(ws,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ba.jsxs)("h4",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:["No ","all"===i?"":i," deals found"]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:m?'No deals match your search for "'.concat(m,'"'):"all"===i?"You haven't made any deals yet":"You don't have any ".concat(i," deals")})]}):(0,ba.jsx)("div",{className:"space-y-4",children:E.map(e=>{var t,r,a,s,n,l,i,o;return(0,ba.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(null===(t=e.listing)||void 0===t?void 0:t.image)&&(0,ba.jsx)("img",{src:e.listing.image,alt:e.listing.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null===(r=e.listing)||void 0===r?void 0:r.title)||"Deal #"+e.id}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600 dark:text-gray-300",children:[(0,ba.jsxs)("span",{className:"flex items-center",children:[(0,ba.jsx)(Bs,{className:"w-4 h-4 mr-1"}),e.buyer_id===(null===j||void 0===j?void 0:j.id)?"Seller: ".concat((null===(a=e.seller)||void 0===a?void 0:a.username)||(null===(s=e.seller)||void 0===s?void 0:s.full_name)||"Unknown"):"Buyer: ".concat((null===(n=e.buyer)||void 0===n?void 0:n.username)||(null===(l=e.buyer)||void 0===l?void 0:l.full_name)||"Unknown")]}),(0,ba.jsxs)("span",{className:"flex items-center",children:[(0,ba.jsx)(Qn,{className:"w-4 h-4 mr-1"}),new Date(e.created_at||e.approved_at).toLocaleDateString()]})]})]})]}),(0,ba.jsxs)("div",{className:"text-right",children:[(0,ba.jsxs)("div",{className:"text-2xl font-bold text-green-600 mb-2",children:["$",parseFloat(e.amount||0).toFixed(2)]}),(0,ba.jsx)("div",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status||"approved"===e.status?"bg-yellow-100 text-yellow-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:(null===(i=e.status)||void 0===i?void 0:i.charAt(0).toUpperCase())+(null===(o=e.status)||void 0===o?void 0:o.slice(1))||"Unknown"}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Deal ID: ",e.id.slice(0,8),"..."]})]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.buyer_id===(null===j||void 0===j?void 0:j.id)?"You purchased this item":"You sold this item"}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsxs)("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-lg hover:bg-blue-200 transition-colors flex items-center",children:[(0,ba.jsx)(_s,{className:"w-4 h-4 mr-1"}),"Message"]}),(0,ba.jsxs)("button",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[(0,ba.jsx)(yn,{className:"w-4 h-4 mr-1"}),"Details"]})]})]})]},e.id)})})]})]})},ol=bs("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),cl=bs("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),dl=bs("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),ul=bs("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),hl=bs("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ml=bs("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),pl=bs("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),xl=bs("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),fl=bs("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),gl=bs("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),yl=bs("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),bl=bs("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),vl=bs("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),jl=bs("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const wl=new class{async getDashboard(){try{return(await da.get(pa.ADMIN.DASHBOARD)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch dashboard data")}}async getKPIs(){try{return(await da.get(pa.ADMIN.KPIS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch KPIs")}}async getAllUsers(){try{return(await da.get(pa.ADMIN.USERS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch users")}}async updateUser(e,t){try{return(await da.put(pa.ADMIN.USERS.replace("{user_id}",e),t)).data}catch(s){var r,a;throw new Error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to update user")}}async deleteUser(e){try{await da.delete("".concat(pa.ADMIN.USERS,"/").concat(e))}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to delete user")}}async suspendUser(e){try{return(await da.put("".concat(pa.ADMIN.USERS,"/").concat(e,"/suspend"))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to suspend user")}}async activateUser(e){try{return(await da.put("".concat(pa.ADMIN.USERS,"/").concat(e,"/activate"))).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to activate user")}}async getSettings(){try{return(await da.get(pa.ADMIN.SETTINGS)).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch settings")}}async updateSettings(e){try{return(await da.put(pa.ADMIN.SETTINGS,e)).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to update settings")}}async uploadLogo(e){try{const t=new FormData;t.append("logo",e);return(await da.post(pa.ADMIN.LOGO,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){var t,r;throw new Error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to upload logo")}}async getSystemStats(){try{return(await da.get("".concat(pa.ADMIN.DASHBOARD,"/stats"))).data}catch(r){var e,t;throw new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to fetch system stats")}}};var kl=r(2823),Nl=r.n(kl);const _l=bs("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Sl=bs("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Cl=bs("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),El=bs("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ol=bs("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Al=function(){var e,t,r,s,n,l,i,o,c;const[d,u]=(0,a.useState)({seo:{title:"Cataloro - Ultra-Modern Marketplace Platform",description:"Experience the future of online commerce with cutting-edge marketplace featuring real-time messaging, intelligent notifications, and seamless transactions.",keywords:"marketplace, ecommerce, online shopping, buy sell, real-time messaging",ogImage:"",canonicalUrl:"/info"},hero:{title:"Cataloro",subtitle:"Ultra-Modern Marketplace Platform",description:"Experience the future of online commerce with our cutting-edge marketplace featuring real-time messaging, intelligent notifications, advanced search, and seamless transactions.",primaryButtonText:"Get Started",primaryButtonLink:"/login",secondaryButtonText:"Browse Marketplace",secondaryButtonLink:"/browse",backgroundStyle:"gradient",backgroundImage:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center",heroImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center",showHeroImage:!0,heroImagePosition:"right",showLogo:!0,logoAnimation:!0,showVideo:!1,videoUrl:""},stats:[{label:"Active Users",value:"10K+",icon:"users",color:"blue"},{label:"Products Listed",value:"50K+",icon:"package",color:"green"},{label:"Successful Deals",value:"25K+",icon:"trending",color:"purple"},{label:"User Rating",value:"4.9\u2605",icon:"star",color:"yellow"}],features:{title:"Platform Features",description:"Discover all the powerful features that make our marketplace the most advanced platform for buying and selling.",backgroundImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=1080&fit=crop&crop=center",showIcons:!0,categories:[{id:"marketplace-core",name:"Marketplace Core",description:"Essential marketplace functionality with advanced search and product management.",icon:"store",color:"blue-purple",features:["Real-time search with auto-suggestions","Advanced filtering and categorization","Smart product recommendations","Price comparison tools"]},{id:"shopping-experience",name:"Shopping Experience",description:"Seamless shopping with cart management, favorites, and secure transactions.",icon:"shopping-cart",color:"green-teal",features:["One-click shopping cart","Wishlist and favorites system","Secure payment processing","48-hour approval system"]},{id:"communication",name:"Communication",description:"Real-time messaging, notifications, and user profile management.",icon:"message-circle",color:"orange-red",features:["Real-time chat system","Smart notifications","User verification system","Review and rating system"]},{id:"management-tools",name:"Management Tools",description:"Comprehensive admin and user management tools with analytics.",icon:"settings",color:"purple-pink",features:["Advanced analytics dashboard","Inventory management","Bulk operations","Performance insights"]}]},testimonials:{enabled:!0,title:"What Our Users Say",description:"Join thousands of satisfied users who trust Cataloro for their marketplace needs.",items:[{id:"1",name:"Sarah Johnson",role:"Power Seller",avatar:"",content:"Cataloro has transformed how I sell online. The real-time messaging and advanced analytics have boosted my sales by 300%!",rating:5},{id:"2",name:"Mike Chen",role:"Regular Buyer",avatar:"",content:"The search functionality is incredible. I can find exactly what Im looking for in seconds. Best marketplace experience ever!",rating:5},{id:"3",name:"Emily Rodriguez",role:"Business Owner",avatar:"",content:"The admin tools and inventory management features have streamlined our entire operation. Highly recommended!",rating:5}]},cta:{title:"Ready to Transform Your Trading?",description:"Join thousands of users experiencing the future of online commerce. Create your account today and start buying or selling with confidence.",primaryButtonText:"Start Your Journey",primaryButtonLink:"/login",secondaryButtonText:"Explore Platform",secondaryButtonLink:"/browse",backgroundStyle:"gradient",backgroundImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center",showStats:!0},about:{enabled:!0,title:"About Cataloro",subtitle:"Revolutionizing Digital Commerce",description:"Founded with the vision to transform online trading, we combine cutting-edge technology with user-centric design to create the ultimate marketplace experience.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center",features:["AI-Powered Matching","Real-time Communication","Advanced Security","Global Reach"]},team:{enabled:!0,title:"Meet Our Team",description:"Passionate experts dedicated to revolutionizing digital commerce.",backgroundImage:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&h=1080&fit=crop&crop=center",members:[]},footer:{companyDescription:"Cataloro is the future of online commerce, providing cutting-edge marketplace solutions for modern buyers and sellers.",socialLinks:{twitter:"",facebook:"",instagram:"",linkedin:""},footerLinks:[{title:"About",url:"/info"},{title:"Contact",url:"/contact"},{title:"Privacy",url:"/privacy"},{title:"Terms",url:"/terms"}]}}),[h,m]=(0,a.useState)("seo"),[p,x]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[y,b]=(0,a.useState)(!1),[v,j]=(0,a.useState)("desktop"),[w,k]=(0,a.useState)(!1),N={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image","video"],["code-block"],["clean"]]},_=["header","bold","italic","underline","strike","blockquote","color","background","list","bullet","indent","align","link","image","video","code-block"],S=async()=>{try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/content"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))}});if(e.ok){const t=await e.json();u(e=>Ie(Ie({},e),t))}}catch(e){console.error("Load error:",e)}};(0,a.useEffect)(()=>{const e=setInterval(()=>{d&&localStorage.setItem("cataloro_cms_draft",JSON.stringify(d))},3e4);return()=>clearInterval(e)},[d]),(0,a.useEffect)(()=>{S();const e=localStorage.getItem("cataloro_cms_draft");if(e)try{const t=JSON.parse(e);u(e=>Ie(Ie({},e),t))}catch(t){console.error("Error loading draft:",t)}},[]);const C=(e,t)=>{u(r=>Ie(Ie({},r),{},{seo:Ie(Ie({},r.seo),{},{[e]:t})}))},E=(e,t)=>{u(r=>Ie(Ie({},r),{},{hero:Ie(Ie({},r.hero),{},{[e]:t})}))},O=(e,t,r)=>{u(a=>Ie(Ie({},a),{},{stats:a.stats.map((a,s)=>s===e?Ie(Ie({},a),{},{[t]:r}):a)}))},A=(e,t)=>{u(r=>Ie(Ie({},r),{},{features:Ie(Ie({},r.features),{},{[e]:t})}))},P=(e,t,r)=>{u(a=>Ie(Ie({},a),{},{features:Ie(Ie({},a.features),{},{categories:a.features.categories.map(a=>a.id===e?Ie(Ie({},a),{},{[t]:r}):a)})}))},T=(e,t)=>{u(r=>Ie(Ie({},r),{},{testimonials:Ie(Ie({},r.testimonials),{},{[e]:t})}))},L=(e,t,r)=>{u(a=>Ie(Ie({},a),{},{testimonials:Ie(Ie({},a.testimonials),{},{items:a.testimonials.items.map(a=>a.id===e?Ie(Ie({},a),{},{[t]:r}):a)})}))},R=(e,t)=>{u(r=>Ie(Ie({},r),{},{cta:Ie(Ie({},r.cta),{},{[e]:t})}))},M=(e,t)=>{u(r=>Ie(Ie({},r),{},{about:Ie(Ie({},r.about),{},{[e]:t})}))},D=(e,t)=>{u(r=>Ie(Ie({},r),{},{footer:Ie(Ie({},r.footer),{},{[e]:t})}))},F=async(e,t,r)=>{k(!0);try{const a=new FormData;a.append("image",e),a.append("section",t),a.append("field",r);const s=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:a});if(s.ok){const e=await s.json();"seo"===t&&C(r,e.imageUrl)}}catch(a){console.error("Image upload error:",a)}finally{k(!1)}},I=[{id:"seo",name:"SEO & Meta",icon:Ks},{id:"hero",name:"Hero Section",icon:fl},{id:"stats",name:"Statistics",icon:$s},{id:"about",name:"About Section",icon:Js},{id:"features",name:"Features",icon:Ys},{id:"testimonials",name:"Testimonials",icon:cl},{id:"cta",name:"Call to Action",icon:_l},{id:"footer",name:"Footer",icon:vs}];return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center space-x-3",children:[(0,ba.jsx)(Sl,{className:"w-8 h-8 text-blue-600"}),(0,ba.jsx)("span",{children:"Advanced Content Management"})]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Comprehensive content management with SEO, media, and advanced editing capabilities"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Auto-save: Active"}),f&&(0,ba.jsxs)("div",{className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat("success"===f?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["success"===f?(0,ba.jsx)(on,{className:"w-4 h-4"}):(0,ba.jsx)(cn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"text-sm font-medium",children:"success"===f?"Content saved!":"Save failed"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,ba.jsx)("button",{onClick:()=>j("desktop"),className:"p-2 rounded transition-colors ".concat("desktop"===v?"bg-white dark:bg-gray-700 shadow":""),children:(0,ba.jsx)(jl,{className:"w-4 h-4"})}),(0,ba.jsx)("button",{onClick:()=>j("mobile"),className:"p-2 rounded transition-colors ".concat("mobile"===v?"bg-white dark:bg-gray-700 shadow":""),children:(0,ba.jsx)(wn,{className:"w-4 h-4"})})]}),(0,ba.jsxs)("button",{onClick:()=>b(!y),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,ba.jsx)(yn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:y?"Edit Mode":"Preview"})]}),(0,ba.jsxs)("button",{onClick:()=>window.open("/info","_blank"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/70 transition-colors duration-200",children:[(0,ba.jsx)(Cl,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Live Preview"})]}),(0,ba.jsxs)("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Reload"})]}),(0,ba.jsxs)("button",{onClick:async()=>{x(!0),g(null);try{if(!(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/content"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("cataloro_token"))},body:JSON.stringify(Ie(Ie({},d),{},{lastUpdated:(new Date).toISOString(),version:Date.now()}))})).ok)throw new Error("Failed to save content");g("success"),setTimeout(()=>g(null),3e3)}catch(e){console.error("Save error:",e),g("error"),setTimeout(()=>g(null),3e3)}finally{x(!1)}},disabled:p,className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[(0,ba.jsx)(Kn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:p?"Saving...":"Save Changes"})]})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,ba.jsx)("div",{className:"lg:col-span-1",children:(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 backdrop-blur-2xl border-white/30 sticky top-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ba.jsx)(Hn,{className:"w-5 h-5 text-blue-600"}),(0,ba.jsx)("span",{children:"Content Sections"})]}),(0,ba.jsx)("div",{className:"space-y-2",children:I.map(e=>{const t=e.icon;return(0,ba.jsxs)("button",{onClick:()=>m(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat(h===e.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 scale-105":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,ba.jsx)(t,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"font-medium",children:e.name})]},e.id)})}),(0,ba.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/20",children:[(0,ba.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Quick Actions"}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsxs)("button",{onClick:()=>window.open("/info","_blank"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,ba.jsx)(Cl,{className:"w-3 h-3"}),(0,ba.jsx)("span",{children:"View Live Site"})]}),(0,ba.jsxs)("button",{onClick:()=>{const e=JSON.stringify(d,null,2);navigator.clipboard.writeText(e),alert("Content copied to clipboard!")},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,ba.jsx)(El,{className:"w-3 h-3"}),(0,ba.jsx)("span",{children:"Copy Content"})]})]})]})]})}),(0,ba.jsx)("div",{className:"lg:col-span-3",children:(0,ba.jsxs)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30 min-h-[600px]",children:["seo"===h&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ba.jsx)(Ks,{className:"w-6 h-6 text-blue-600"}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"SEO & Meta Tags"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Page Title (SEO)"}),(0,ba.jsx)("input",{type:"text",value:d.seo.title,onChange:e=>C("title",e.target.value),className:"cataloro-input",placeholder:"Cataloro - Ultra-Modern Marketplace Platform"}),(0,ba.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Max 60 characters recommended. Current: ",d.seo.title.length]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Meta Description"}),(0,ba.jsx)("textarea",{value:d.seo.description,onChange:e=>C("description",e.target.value),className:"cataloro-input h-24 resize-none",placeholder:"Experience the future of online commerce..."}),(0,ba.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Max 160 characters recommended. Current: ",d.seo.description.length]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Keywords (comma-separated)"}),(0,ba.jsx)("input",{type:"text",value:d.seo.keywords,onChange:e=>C("keywords",e.target.value),className:"cataloro-input",placeholder:"marketplace, ecommerce, online shopping, buy sell"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Open Graph Image URL"}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsx)("input",{type:"text",value:d.seo.ogImage,onChange:e=>C("ogImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://example.com/og-image.jpg"}),(0,ba.jsx)("button",{onClick:()=>document.getElementById("og-image-upload").click(),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",disabled:w,children:(0,ba.jsx)(zn,{className:"w-4 h-4"})}),(0,ba.jsx)("input",{id:"og-image-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"seo","ogImage"),className:"hidden"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Canonical URL"}),(0,ba.jsx)("input",{type:"text",value:d.seo.canonicalUrl,onChange:e=>C("canonicalUrl",e.target.value),className:"cataloro-input",placeholder:"/info"})]})]})]})]}),"hero"===h&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ba.jsx)(fl,{className:"w-6 h-6 text-blue-600"}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Hero Section with Images"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Main Title"}),(0,ba.jsx)("input",{type:"text",value:d.hero.title,onChange:e=>E("title",e.target.value),className:"cataloro-input",placeholder:"Cataloro"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Subtitle"}),(0,ba.jsx)("input",{type:"text",value:d.hero.subtitle,onChange:e=>E("subtitle",e.target.value),className:"cataloro-input",placeholder:"The Future of Online Marketplace"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),(0,ba.jsx)(Nl(),{value:d.hero.description,onChange:e=>E("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ba.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ba.jsx)(Bn,{className:"w-5 h-5 text-blue-600"}),(0,ba.jsx)("span",{children:"Hero PNG/Image (Foreground)"})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("input",{type:"checkbox",checked:d.hero.showHeroImage||!1,onChange:e=>E("showHeroImage",e.target.checked),className:"rounded border-gray-300"}),(0,ba.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Show Hero Image"})]}),d.hero.showHeroImage&&(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Position:"}),(0,ba.jsxs)("select",{value:d.hero.heroImagePosition||"right",onChange:e=>E("heroImagePosition",e.target.value),className:"text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded px-2 py-1",children:[(0,ba.jsx)("option",{value:"left",children:"Left"}),(0,ba.jsx)("option",{value:"right",children:"Right"})]})]})]}),d.hero.showHeroImage&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Hero Image URL (PNG, JPG, or any format)"}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsx)("input",{type:"url",value:d.hero.heroImage||"",onChange:e=>E("heroImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600"}),(0,ba.jsxs)("button",{onClick:()=>document.getElementById("hero-image-upload").click(),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-colors flex items-center space-x-2 shadow-lg",disabled:w,children:[(0,ba.jsx)(zn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Upload PNG"})]}),(0,ba.jsx)("input",{id:"hero-image-upload",type:"file",accept:"image/*,.png,.jpg,.jpeg,.gif,.webp",onChange:e=>e.target.files[0]&&F(e.target.files[0],"hero","heroImage"),className:"hidden"})]}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Supports PNG, JPG, JPEG, GIF, WebP. Recommended: 800x600px or higher."})]}),d.hero.heroImage&&(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("div",{className:"relative bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg p-4",children:[(0,ba.jsx)("img",{src:d.hero.heroImage,alt:"Hero Image Preview",className:"w-full h-48 object-contain rounded-lg"}),(0,ba.jsx)("button",{onClick:()=>E("heroImage",""),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",title:"Remove Image",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]}),(0,ba.jsx)("div",{className:"mt-2 text-center",children:(0,ba.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Preview - Position: ",d.hero.heroImagePosition||"right"]})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select Hero Images"}),(0,ba.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1556761175-4b46a572b786?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=600&fit=crop&crop=center"].map((e,t)=>(0,ba.jsxs)("button",{onClick:()=>E("heroImage",e),className:"relative group",title:"Hero Image ".concat(t+1),children:[(0,ba.jsx)("img",{src:e,alt:"Hero ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity border-2 border-transparent group-hover:border-blue-500"}),(0,ba.jsx)("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ba.jsx)(on,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Professional stock images optimized for hero sections"})]})]})]})]}),(0,ba.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ba.jsx)(pl,{className:"w-5 h-5 text-purple-600"}),(0,ba.jsx)("span",{children:"Hero Background Image"})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Background Image URL"}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsx)("input",{type:"url",value:d.hero.backgroundImage||"",onChange:e=>E("backgroundImage",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080"}),(0,ba.jsxs)("button",{onClick:()=>document.getElementById("hero-bg-upload").click(),className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors flex items-center space-x-2",disabled:w,children:[(0,ba.jsx)(zn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Upload"})]}),(0,ba.jsx)("input",{id:"hero-bg-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"hero","backgroundImage"),className:"hidden"})]})]}),d.hero.backgroundImage&&(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("img",{src:d.hero.backgroundImage,alt:"Hero Background Preview",className:"w-full h-32 object-cover rounded-lg"}),(0,ba.jsx)("button",{onClick:()=>E("backgroundImage",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select Stock Images"}),(0,ba.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&h=1080&fit=crop&crop=center","https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center"].map((e,t)=>(0,ba.jsxs)("button",{onClick:()=>E("backgroundImage",e),className:"relative group",children:[(0,ba.jsx)("img",{src:e,alt:"Stock ".concat(t+1),className:"w-full h-20 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,ba.jsx)("div",{className:"absolute inset-0 bg-purple-600/0 group-hover:bg-purple-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ba.jsx)(on,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Primary Button"}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsx)("input",{type:"text",value:d.hero.primaryButtonText,onChange:e=>E("primaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Start Trading Now"}),(0,ba.jsx)("input",{type:"text",value:d.hero.primaryButtonLink,onChange:e=>E("primaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/login"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Secondary Button"}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsx)("input",{type:"text",value:d.hero.secondaryButtonText,onChange:e=>E("secondaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Explore Features"}),(0,ba.jsx)("input",{type:"text",value:d.hero.secondaryButtonLink,onChange:e=>E("secondaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/browse"})]})]})]}),(0,ba.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ba.jsx)(Ol,{className:"w-5 h-5 text-green-600"}),(0,ba.jsx)("span",{children:"Hero Video (Optional)"})]}),(0,ba.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,ba.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("input",{type:"checkbox",checked:d.hero.showVideo||!1,onChange:e=>E("showVideo",e.target.checked),className:"rounded border-gray-300"}),(0,ba.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Video"})]})}),d.hero.showVideo&&(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Video URL (YouTube, Vimeo, etc.)"}),(0,ba.jsx)("input",{type:"url",value:d.hero.videoUrl||"",onChange:e=>E("videoUrl",e.target.value),className:"cataloro-input",placeholder:"https://player.vimeo.com/video/123456789"})]})]})]})]}),"about"===h&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)(Js,{className:"w-6 h-6 text-blue-600"}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About Section"})]}),(0,ba.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("input",{type:"checkbox",checked:(null===(e=d.about)||void 0===e?void 0:e.enabled)||!1,onChange:e=>M("enabled",e.target.checked),className:"rounded border-gray-300"}),(0,ba.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Section"})]})]}),(null===(t=d.about)||void 0===t?void 0:t.enabled)&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ba.jsx)("input",{type:"text",value:(null===(r=d.about)||void 0===r?void 0:r.title)||"",onChange:e=>M("title",e.target.value),className:"cataloro-input",placeholder:"About Cataloro"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Subtitle"}),(0,ba.jsx)("input",{type:"text",value:(null===(s=d.about)||void 0===s?void 0:s.subtitle)||"",onChange:e=>M("subtitle",e.target.value),className:"cataloro-input",placeholder:"Revolutionizing Digital Commerce"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),(0,ba.jsx)(Nl(),{value:(null===(n=d.about)||void 0===n?void 0:n.description)||"",onChange:e=>M("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ba.jsxs)("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,ba.jsx)(Bn,{className:"w-5 h-5 text-blue-600"}),(0,ba.jsx)("span",{children:"About Section Image"})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"About Image URL"}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsx)("input",{type:"url",value:(null===(l=d.about)||void 0===l?void 0:l.image)||"",onChange:e=>M("image",e.target.value),className:"cataloro-input flex-1",placeholder:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600"}),(0,ba.jsxs)("button",{onClick:()=>document.getElementById("about-image-upload").click(),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",disabled:w,children:[(0,ba.jsx)(zn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Upload"})]}),(0,ba.jsx)("input",{id:"about-image-upload",type:"file",accept:"image/*",onChange:e=>e.target.files[0]&&F(e.target.files[0],"about","image"),className:"hidden"})]})]}),(null===(i=d.about)||void 0===i?void 0:i.image)&&(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("img",{src:d.about.image,alt:"About Section Preview",className:"w-full h-48 object-cover rounded-lg"}),(0,ba.jsx)("button",{onClick:()=>M("image",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Quick Select About Images"}),(0,ba.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1556761175-b413da4baf72?w=800&h=600&fit=crop&crop=center","https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center"].map((e,t)=>(0,ba.jsxs)("button",{onClick:()=>M("image",e),className:"relative group",children:[(0,ba.jsx)("img",{src:e,alt:"About Stock ".concat(t+1),className:"w-full h-16 object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),(0,ba.jsx)("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/20 rounded-lg transition-colors flex items-center justify-center",children:(0,ba.jsx)(on,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},t))})]})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Key Features (one per line)"}),(0,ba.jsx)("textarea",{value:(null===(o=d.about)||void 0===o||null===(c=o.features)||void 0===c?void 0:c.join("\n"))||"",onChange:e=>M("features",e.target.value.split("\n").filter(e=>e.trim())),className:"cataloro-input h-24 resize-none",placeholder:"AI-Powered Matching\nReal-time Communication\nAdvanced Security\nGlobal Reach"})]})]})]}),"stats"===h&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)($s,{className:"w-6 h-6 text-blue-600"}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Statistics Section"})]}),(0,ba.jsxs)("button",{onClick:()=>{u(e=>Ie(Ie({},e),{},{stats:[...e.stats,{label:"New Stat",value:"0",icon:"zap",color:"blue"}]}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ba.jsx)(Gs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Add Stat"})]})]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.stats.map((e,t)=>(0,ba.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg relative",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ba.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["Statistic ",t+1]}),d.stats.length>1&&(0,ba.jsx)("button",{onClick:()=>(e=>{u(t=>Ie(Ie({},t),{},{stats:t.stats.filter((t,r)=>r!==e)}))})(t),className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]}),(0,ba.jsxs)("div",{className:"space-y-3",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Value"}),(0,ba.jsx)("input",{type:"text",value:e.value,onChange:e=>O(t,"value",e.target.value),className:"cataloro-input text-sm",placeholder:"10K+"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Label"}),(0,ba.jsx)("input",{type:"text",value:e.label,onChange:e=>O(t,"label",e.target.value),className:"cataloro-input text-sm",placeholder:"Active Users"})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Icon"}),(0,ba.jsxs)("select",{value:e.icon,onChange:e=>O(t,"icon",e.target.value),className:"cataloro-input text-sm",children:[(0,ba.jsx)("option",{value:"users",children:"Users"}),(0,ba.jsx)("option",{value:"package",children:"Package"}),(0,ba.jsx)("option",{value:"trending",children:"Trending"}),(0,ba.jsx)("option",{value:"star",children:"Star"}),(0,ba.jsx)("option",{value:"zap",children:"Zap"}),(0,ba.jsx)("option",{value:"target",children:"Target"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Color"}),(0,ba.jsxs)("select",{value:e.color,onChange:e=>O(t,"color",e.target.value),className:"cataloro-input text-sm",children:[(0,ba.jsx)("option",{value:"blue",children:"Blue"}),(0,ba.jsx)("option",{value:"green",children:"Green"}),(0,ba.jsx)("option",{value:"purple",children:"Purple"}),(0,ba.jsx)("option",{value:"yellow",children:"Yellow"}),(0,ba.jsx)("option",{value:"red",children:"Red"}),(0,ba.jsx)("option",{value:"pink",children:"Pink"})]})]})]})]})]},t))})]}),"features"===h&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)(Ys,{className:"w-6 h-6 text-blue-600"}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Features Section"})]}),(0,ba.jsxs)("button",{onClick:()=>{const e="category-".concat(Date.now());u(t=>Ie(Ie({},t),{},{features:Ie(Ie({},t.features),{},{categories:[...t.features.categories,{id:e,name:"New Category",description:"Category description",icon:"zap",color:"blue-purple",features:["Feature 1","Feature 2"]}]})}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ba.jsx)(Gs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Add Category"})]})]}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ba.jsx)("input",{type:"text",value:d.features.title,onChange:e=>A("title",e.target.value),className:"cataloro-input",placeholder:"Platform Features"})]}),(0,ba.jsx)("div",{className:"flex items-center space-x-4 pt-6",children:(0,ba.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("input",{type:"checkbox",checked:d.features.showIcons,onChange:e=>A("showIcons",e.target.checked),className:"rounded border-gray-300"}),(0,ba.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Icons"})]})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Description"}),(0,ba.jsx)(Nl(),{value:d.features.description,onChange:e=>A("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Feature Categories"}),d.features.categories.map((e,t)=>(0,ba.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ba.jsxs)("h5",{className:"font-medium text-gray-900 dark:text-white",children:["Category ",t+1]}),(0,ba.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>Ie(Ie({},e),{},{features:Ie(Ie({},e.features),{},{categories:e.features.categories.filter(e=>e.id!==t)})}));var t},className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Category Name"}),(0,ba.jsx)("input",{type:"text",value:e.name,onChange:t=>P(e.id,"name",t.target.value),className:"cataloro-input text-sm",placeholder:"Category name"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Color Scheme"}),(0,ba.jsxs)("select",{value:e.color,onChange:t=>P(e.id,"color",t.target.value),className:"cataloro-input text-sm",children:[(0,ba.jsx)("option",{value:"blue-purple",children:"Blue to Purple"}),(0,ba.jsx)("option",{value:"green-teal",children:"Green to Teal"}),(0,ba.jsx)("option",{value:"orange-red",children:"Orange to Red"}),(0,ba.jsx)("option",{value:"purple-pink",children:"Purple to Pink"})]})]})]}),(0,ba.jsxs)("div",{className:"mb-4",children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),(0,ba.jsx)("textarea",{value:e.description,onChange:t=>P(e.id,"description",t.target.value),className:"cataloro-input text-sm h-20 resize-none",placeholder:"Category description"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Features (one per line)"}),(0,ba.jsx)("textarea",{value:e.features.join("\n"),onChange:t=>P(e.id,"features",t.target.value.split("\n").filter(e=>e.trim())),className:"cataloro-input text-sm h-24 resize-none",placeholder:"Feature 1\nFeature 2\nFeature 3"})]})]},e.id))]})]})]}),"testimonials"===h&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)(cl,{className:"w-6 h-6 text-blue-600"}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Testimonials Section"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("input",{type:"checkbox",checked:d.testimonials.enabled,onChange:e=>T("enabled",e.target.checked),className:"rounded border-gray-300"}),(0,ba.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Section"})]}),(0,ba.jsxs)("button",{onClick:()=>{const e="testimonial-".concat(Date.now());u(t=>Ie(Ie({},t),{},{testimonials:Ie(Ie({},t.testimonials),{},{items:[...t.testimonials.items,{id:e,name:"New User",role:"Customer",avatar:"",content:"Great experience with Cataloro!",rating:5}]})}))},className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,ba.jsx)(Gs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Add Testimonial"})]})]})]}),d.testimonials.enabled&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Title"}),(0,ba.jsx)("input",{type:"text",value:d.testimonials.title,onChange:e=>T("title",e.target.value),className:"cataloro-input",placeholder:"What Our Users Say"})]})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Section Description"}),(0,ba.jsx)("textarea",{value:d.testimonials.description,onChange:e=>T("description",e.target.value),className:"cataloro-input h-20 resize-none",placeholder:"Join thousands of satisfied users..."})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Testimonials"}),d.testimonials.items.map((e,t)=>(0,ba.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ba.jsxs)("h5",{className:"font-medium text-gray-900 dark:text-white",children:["Testimonial ",t+1]}),(0,ba.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>Ie(Ie({},e),{},{testimonials:Ie(Ie({},e.testimonials),{},{items:e.testimonials.items.filter(e=>e.id!==t)})}));var t},className:"p-1 text-red-500 hover:text-red-700 transition-colors",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Name"}),(0,ba.jsx)("input",{type:"text",value:e.name,onChange:t=>L(e.id,"name",t.target.value),className:"cataloro-input text-sm",placeholder:"John Doe"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Role"}),(0,ba.jsx)("input",{type:"text",value:e.role,onChange:t=>L(e.id,"role",t.target.value),className:"cataloro-input text-sm",placeholder:"Power Seller"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Rating"}),(0,ba.jsxs)("select",{value:e.rating,onChange:t=>L(e.id,"rating",parseInt(t.target.value)),className:"cataloro-input text-sm",children:[(0,ba.jsx)("option",{value:5,children:"5 Stars"}),(0,ba.jsx)("option",{value:4,children:"4 Stars"}),(0,ba.jsx)("option",{value:3,children:"3 Stars"}),(0,ba.jsx)("option",{value:2,children:"2 Stars"}),(0,ba.jsx)("option",{value:1,children:"1 Star"})]})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Testimonial Content"}),(0,ba.jsx)("textarea",{value:e.content,onChange:t=>L(e.id,"content",t.target.value),className:"cataloro-input text-sm h-20 resize-none",placeholder:"This platform has been amazing..."})]})]},e.id))]})]})]}),"cta"===h&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ba.jsx)(_l,{className:"w-6 h-6 text-blue-600"}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Call to Action Section"})]}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CTA Title"}),(0,ba.jsx)("input",{type:"text",value:d.cta.title,onChange:e=>R("title",e.target.value),className:"cataloro-input",placeholder:"Ready to Get Started?"})]}),(0,ba.jsx)("div",{className:"flex items-center space-x-4 pt-6",children:(0,ba.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("input",{type:"checkbox",checked:d.cta.showStats,onChange:e=>R("showStats",e.target.checked),className:"rounded border-gray-300"}),(0,ba.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Stats"})]})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"CTA Description"}),(0,ba.jsx)(Nl(),{value:d.cta.description,onChange:e=>R("description",e),modules:N,formats:_,theme:"snow",className:"bg-white dark:bg-gray-800 rounded-lg"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Primary Button"}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsx)("input",{type:"text",value:d.cta.primaryButtonText,onChange:e=>R("primaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Start Your Journey"}),(0,ba.jsx)("input",{type:"text",value:d.cta.primaryButtonLink,onChange:e=>R("primaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/login"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Secondary Button"}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsx)("input",{type:"text",value:d.cta.secondaryButtonText,onChange:e=>R("secondaryButtonText",e.target.value),className:"cataloro-input",placeholder:"Explore Platform"}),(0,ba.jsx)("input",{type:"text",value:d.cta.secondaryButtonLink,onChange:e=>R("secondaryButtonLink",e.target.value),className:"cataloro-input",placeholder:"/browse"})]})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Background Style"}),(0,ba.jsxs)("select",{value:d.cta.backgroundStyle,onChange:e=>R("backgroundStyle",e.target.value),className:"cataloro-input",children:[(0,ba.jsx)("option",{value:"gradient",children:"Gradient"}),(0,ba.jsx)("option",{value:"solid",children:"Solid Color"}),(0,ba.jsx)("option",{value:"image",children:"Background Image"})]})]})]})]}),"footer"===h&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,ba.jsx)(vs,{className:"w-6 h-6 text-blue-600"}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Footer Section"})]}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Company Description"}),(0,ba.jsx)("textarea",{value:d.footer.companyDescription,onChange:e=>D("companyDescription",e.target.value),className:"cataloro-input h-24 resize-none",placeholder:"Cataloro is the future of online commerce..."})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Social Media Links"}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Twitter"}),(0,ba.jsx)("input",{type:"url",value:d.footer.socialLinks.twitter,onChange:e=>D("socialLinks",Ie(Ie({},d.footer.socialLinks),{},{twitter:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://twitter.com/cataloro"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Facebook"}),(0,ba.jsx)("input",{type:"url",value:d.footer.socialLinks.facebook,onChange:e=>D("socialLinks",Ie(Ie({},d.footer.socialLinks),{},{facebook:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://facebook.com/cataloro"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Instagram"}),(0,ba.jsx)("input",{type:"url",value:d.footer.socialLinks.instagram,onChange:e=>D("socialLinks",Ie(Ie({},d.footer.socialLinks),{},{instagram:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://instagram.com/cataloro"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-200 mb-1",children:"LinkedIn"}),(0,ba.jsx)("input",{type:"url",value:d.footer.socialLinks.linkedin,onChange:e=>D("socialLinks",Ie(Ie({},d.footer.socialLinks),{},{linkedin:e.target.value})),className:"cataloro-input text-sm",placeholder:"https://linkedin.com/company/cataloro"})]})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Footer Links (JSON format)"}),(0,ba.jsx)("textarea",{value:JSON.stringify(d.footer.footerLinks,null,2),onChange:e=>{try{const t=JSON.parse(e.target.value);D("footerLinks",t)}catch(t){}},className:"cataloro-input h-32 resize-none font-mono text-sm",placeholder:'[{"title": "About", "url": "/info"}]'}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Format: [{"title": "Link Name", "url": "/path"}]'})]})]})]})]})})]})]})};const Pl=function(){var e;const[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)({title:"",message:"",type:"success",event_trigger:"manual",target_users:"all",user_ids:[],show_duration:5e3,delay_before_show:0,expires_at:"",auto_dismiss:!0,is_active:!0}),{user:h}=Aa(),{showToast:m}=Ha(),p=[{value:"manual",label:"Manual Trigger",description:"Show immediately when activated"},{value:"login",label:"User Login",description:"Show when user logs in"},{value:"first_login",label:"First Login",description:"Show only on user's first login"},{value:"profile_update",label:"Profile Update",description:"Show after profile is updated"},{value:"purchase_complete",label:"Purchase Complete",description:"Show after successful purchase"},{value:"listing_published",label:"Listing Published",description:"Show after listing is published"},{value:"message_received",label:"Message Received",description:"Show when user receives a message"},{value:"daily",label:"Daily",description:"Show once per day"},{value:"weekly",label:"Weekly",description:"Show once per week"}],x=[{value:"success",label:"Success",color:"green",icon:on},{value:"info",label:"Information",color:"blue",icon:un},{value:"warning",label:"Warning",color:"yellow",icon:cn},{value:"error",label:"Error",color:"red",icon:cn},{value:"welcome",label:"Welcome",color:"purple",icon:Es}];(0,a.useEffect)(()=>{f()},[]);const f=async()=>{try{n(!0);const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/system-notifications"));if(!e.ok)throw new Error("Failed to load notifications");{const t=await e.json();r(t.notifications||[])}}catch(e){console.error("Error loading system notifications:",e),m("Failed to load system notifications","error")}finally{n(!1)}},g=()=>{u({title:"",message:"",type:"success",event_trigger:"manual",target_users:"all",user_ids:[],show_duration:5e3,delay_before_show:0,expires_at:"",auto_dismiss:!0,is_active:!0})},y=e=>{const t=x.find(t=>t.value===e),r=(null===t||void 0===t?void 0:t.icon)||Es;return(0,ba.jsx)(r,{className:"w-5 h-5"})},b=e=>{const t=x.find(t=>t.value===e);return(null===t||void 0===t?void 0:t.color)||"gray"},v=e=>{const t=p.find(t=>t.value===e);return(null===t||void 0===t?void 0:t.label)||e};return s?(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(Es,{className:"w-7 h-7 mr-3 text-green-600"}),"System Notifications Manager"]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Manage green toast notifications that appear in the top right corner"})]}),(0,ba.jsxs)("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,ba.jsx)(Gs,{className:"w-4 h-4 mr-2"}),"Create Notification"]})]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 gap-4",children:0===t.length?(0,ba.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl",children:[(0,ba.jsx)(Es,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No System Notifications"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Create your first system notification to manage green toast messages"})]}):t.map(e=>(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,ba.jsx)("div",{className:"p-3 rounded-lg bg-".concat(b(e.type),"-100 text-").concat(b(e.type),"-600"),children:y(e.type)}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.title}),(0,ba.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"}),(0,ba.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-".concat(b(e.type),"-100 text-").concat(b(e.type),"-800"),children:e.type})]}),(0,ba.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:e.message}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Vn,{className:"w-4 h-4 mr-1"}),(0,ba.jsx)("span",{children:v(e.event_trigger)})]}),(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(cl,{className:"w-4 h-4 mr-1"}),(0,ba.jsx)("span",{children:"all"===e.target_users?"All Users":"Specific Users"})]}),(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Ms,{className:"w-4 h-4 mr-1"}),(0,ba.jsxs)("span",{children:[e.show_duration/1e3,"s duration"]})]}),(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(yn,{className:"w-4 h-4 mr-1"}),(0,ba.jsxs)("span",{children:[e.display_count||0," views"]})]})]}),e.expires_at&&(0,ba.jsxs)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)(Qn,{className:"w-4 h-4 inline mr-1"}),"Expires: ",new Date(e.expires_at).toLocaleDateString()]})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("button",{onClick:()=>(async e=>{try{if(!(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/system-notifications/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!e.is_active})})).ok)throw new Error("Failed to toggle notification");m("Notification ".concat(e.is_active?"deactivated":"activated","!"),"success"),f()}catch(t){console.error("Error toggling notification:",t),m("Failed to toggle notification","error")}})(e),className:"px-3 py-1 text-sm rounded-lg transition-colors ".concat(e.is_active?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:e.is_active?"Deactivate":"Activate"}),(0,ba.jsx)("button",{onClick:()=>(e=>{c(e),u({title:e.title||"",message:e.message||"",type:e.type||"success",event_trigger:e.event_trigger||"manual",target_users:e.target_users||"all",user_ids:e.user_ids||[],show_duration:e.show_duration||5e3,delay_before_show:e.delay_before_show||0,expires_at:e.expires_at?e.expires_at.split("T")[0]:"",auto_dismiss:!1!==e.auto_dismiss,is_active:!1!==e.is_active})})(e),className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-lg hover:bg-blue-200 transition-colors",children:(0,ba.jsx)(In,{className:"w-4 h-4"})}),(0,ba.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this system notification?"))try{if(!(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/system-notifications/").concat(e),{method:"DELETE"})).ok)throw new Error("Failed to delete notification");m("System notification deleted successfully!","success"),f()}catch(t){console.error("Error deleting notification:",t),m("Failed to delete notification","error")}})(e.id),className:"px-3 py-1 bg-red-100 text-red-700 text-sm rounded-lg hover:bg-red-200 transition-colors",children:(0,ba.jsx)(Rs,{className:"w-4 h-4"})})]})]})},e.id))}),(l||o)&&(0,ba.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o?"Edit System Notification":"Create New System Notification"}),(0,ba.jsx)("button",{onClick:()=>{i(!1),c(null),g()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ba.jsx)(Ls,{className:"w-6 h-6"})})]})}),(0,ba.jsxs)("form",{onSubmit:o?async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/system-notifications/").concat(o.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie(Ie({},d),{},{expires_at:d.expires_at||null}))})).ok)throw new Error("Failed to update notification");m("System notification updated successfully!","success"),c(null),g(),f()}catch(t){console.error("Error updating notification:",t),m("Failed to update notification","error")}}:async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/system-notifications"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie(Ie({},d),{},{created_by:h.id,expires_at:d.expires_at||null}))})).ok)throw new Error("Failed to create notification");m("System notification created successfully!","success"),i(!1),g(),f()}catch(t){console.error("Error creating notification:",t),m("Failed to create notification","error")}},className:"p-6 space-y-6",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Title *"}),(0,ba.jsx)("input",{type:"text",value:d.title,onChange:e=>u(t=>Ie(Ie({},t),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Welcome to the new Cataloro!",required:!0})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Type *"}),(0,ba.jsx)("select",{value:d.type,onChange:e=>u(t=>Ie(Ie({},t),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:x.map(e=>(0,ba.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message Content *"}),(0,ba.jsx)("textarea",{value:d.message,onChange:e=>u(t=>Ie(Ie({},t),{},{message:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter the notification message that will appear in the green toast...",required:!0})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Trigger *"}),(0,ba.jsx)("select",{value:d.event_trigger,onChange:e=>u(t=>Ie(Ie({},t),{},{event_trigger:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:p.map(e=>(0,ba.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:null===(e=p.find(e=>e.value===d.event_trigger))||void 0===e?void 0:e.description})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Users"}),(0,ba.jsxs)("select",{value:d.target_users,onChange:e=>u(t=>Ie(Ie({},t),{},{target_users:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"all",children:"All Users"}),(0,ba.jsx)("option",{value:"new_users",children:"New Users Only"}),(0,ba.jsx)("option",{value:"returning_users",children:"Returning Users"}),(0,ba.jsx)("option",{value:"specific_ids",children:"Specific User IDs"})]})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delay Before Show (ms)"}),(0,ba.jsx)("input",{type:"number",value:d.delay_before_show,onChange:e=>u(t=>Ie(Ie({},t),{},{delay_before_show:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",step:"500"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Show Duration (ms)"}),(0,ba.jsx)("input",{type:"number",value:d.show_duration,onChange:e=>u(t=>Ie(Ie({},t),{},{show_duration:parseInt(e.target.value)||5e3})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"1000",step:"1000"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expires On (Optional)"}),(0,ba.jsx)("input",{type:"date",value:d.expires_at,onChange:e=>u(t=>Ie(Ie({},t),{},{expires_at:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ba.jsxs)("label",{className:"flex items-center",children:[(0,ba.jsx)("input",{type:"checkbox",checked:d.auto_dismiss,onChange:e=>u(t=>Ie(Ie({},t),{},{auto_dismiss:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ba.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Auto Dismiss"})]}),(0,ba.jsxs)("label",{className:"flex items-center",children:[(0,ba.jsx)("input",{type:"checkbox",checked:d.is_active,onChange:e=>u(t=>Ie(Ie({},t),{},{is_active:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ba.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})]}),(0,ba.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ba.jsx)("button",{type:"button",onClick:()=>{i(!1),c(null),g()},className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,ba.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,ba.jsx)(Kn,{className:"w-4 h-4 mr-2"}),o?"Update":"Create"," Notification"]})]})]})]})})]})},Tl=bs("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ll=bs("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Rl=bs("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ml=bs("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Dl=bs("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Fl=bs("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Il=bs("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),ql=bs("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Ul=function(e){let{showToast:t}=e;const[r,s]=(0,a.useState)(null),[n,l]=(0,a.useState)("visual"),[i,o]=(0,a.useState)({}),c=[{id:"user_onboarding",title:"User Onboarding & Registration",category:"Authentication",icon:Tl,color:"bg-blue-500",status:"active",pages:["/login","/register","/profile"],steps:[{id:1,title:"Visit Homepage",page:"/",icon:vs,status:"completed"},{id:2,title:"Click Register",page:"/login",icon:Tl,status:"completed"},{id:3,title:"Fill Registration Form",page:"/register",icon:Hn,status:"completed"},{id:4,title:"Email Verification",page:"/verify",icon:Zs,status:"completed"},{id:5,title:"Profile Setup",page:"/profile",icon:Bs,status:"completed"},{id:6,title:"Welcome Dashboard",page:"/browse",icon:_n,status:"completed"}],metrics:{completion_rate:"89%",avg_time:"3.5 min",drop_off_rate:"11%"}},{id:"product_listing",title:"Product Listing Creation",category:"Marketplace",icon:ws,color:"bg-green-500",status:"active",pages:["/sell","/my-listings"],steps:[{id:1,title:"Navigate to Sell",page:"/sell",icon:ws,status:"completed"},{id:2,title:"Choose Category",page:"/sell",icon:tl,status:"completed"},{id:3,title:"Add Product Details",page:"/sell",icon:In,status:"completed"},{id:4,title:"Upload Images",page:"/sell",icon:zn,status:"completed"},{id:5,title:"Set Price & Condition",page:"/sell",icon:ks,status:"completed"},{id:6,title:"Review & Publish",page:"/sell",icon:Ll,status:"completed"},{id:7,title:"Listing Goes Live",page:"/browse",icon:yn,status:"completed"}],metrics:{success_rate:"94%",avg_time:"7.2 min",active_listings:"2,847"}},{id:"buy_process",title:"Buy/Purchase Process",category:"Transactions",icon:Cs,color:"bg-purple-500",status:"active",pages:["/browse","/product/:id","/my-deals","/pending-sales"],steps:[{id:1,title:"Browse Products",page:"/browse",icon:Ks,status:"completed"},{id:2,title:"View Product Details",page:"/product/:id",icon:yn,status:"completed"},{id:3,title:"Click Buy Now",page:"/product/:id",icon:Cs,status:"completed"},{id:4,title:"Send Buy Request",page:"/cart",icon:Zs,status:"completed"},{id:5,title:"Seller Approval",page:"/pending-sales",icon:on,status:"completed"},{id:6,title:"Payment Processing",page:"/payment",icon:Rl,status:"in_progress"},{id:7,title:"Order Completion",page:"/my-deals",icon:Ll,status:"completed"}],metrics:{conversion_rate:"67%",approval_rate:"82%",avg_transaction_value:"$249"}},{id:"messaging_system",title:"Real-time Messaging",category:"Communication",icon:_s,color:"bg-indigo-500",status:"active",pages:["/messages"],steps:[{id:1,title:"Click Message Button",page:"/product/:id",icon:_s,status:"completed"},{id:2,title:"Open Chat Interface",page:"/messages",icon:_s,status:"completed"},{id:3,title:"Send/Receive Messages",page:"/messages",icon:Zs,status:"completed"},{id:4,title:"Real-time Notifications",page:"/messages",icon:Es,status:"completed"},{id:5,title:"Message History",page:"/messages",icon:Ms,status:"completed"}],metrics:{response_rate:"78%",avg_response_time:"12 min",daily_messages:"1,234"}},{id:"notification_system",title:"Notification Management",category:"Communication",icon:Es,color:"bg-yellow-500",status:"active",pages:["/notifications"],steps:[{id:1,title:"Trigger Event",page:"Any",icon:Vn,status:"completed"},{id:2,title:"Generate Notification",page:"Backend",icon:Es,status:"completed"},{id:3,title:"Show in Header Bell",page:"Header",icon:Es,status:"completed"},{id:4,title:"Quick Actions Available",page:"Header",icon:Ll,status:"completed"},{id:5,title:"View All Notifications",page:"/notifications",icon:yn,status:"completed"}],metrics:{delivery_rate:"99.2%",read_rate:"73%",action_rate:"45%"}},{id:"admin_management",title:"Admin Management",category:"Administration",icon:Ns,color:"bg-red-500",status:"active",pages:["/admin"],steps:[{id:1,title:"Admin Login",page:"/admin",icon:Ns,status:"completed"},{id:2,title:"Dashboard Overview",page:"/admin",icon:$s,status:"completed"},{id:3,title:"User Management",page:"/admin",icon:cl,status:"completed"},{id:4,title:"Listings Management",page:"/admin",icon:ws,status:"completed"},{id:5,title:"Business Process View",page:"/admin",icon:js,status:"completed"},{id:6,title:"Site Settings",page:"/admin",icon:Ys,status:"completed"}],metrics:{admin_sessions:"89/month",actions_per_session:"12.4",system_uptime:"99.8%"}},{id:"favorites_wishlist",title:"Favorites & Wishlist",category:"User Experience",icon:Ss,color:"bg-pink-500",status:"active",pages:["/favorites"],steps:[{id:1,title:"Heart Icon on Product",page:"/browse",icon:Ss,status:"completed"},{id:2,title:"Add to Favorites",page:"/product/:id",icon:Ss,status:"completed"},{id:3,title:"View Favorites List",page:"/favorites",icon:Sn,status:"completed"},{id:4,title:"Manage Favorites",page:"/favorites",icon:In,status:"completed"}],metrics:{favorites_per_user:"8.3",wishlist_conversion:"34%",total_favorites:"12,847"}},{id:"search_discovery",title:"Search & Discovery",category:"User Experience",icon:Ks,color:"bg-teal-500",status:"active",pages:["/browse","/search"],steps:[{id:1,title:"Enter Search Query",page:"/browse",icon:Ks,status:"completed"},{id:2,title:"Apply Filters",page:"/browse",icon:tl,status:"completed"},{id:3,title:"View Results",page:"/browse",icon:yn,status:"completed"},{id:4,title:"Sort & Refine",page:"/browse",icon:tl,status:"completed"},{id:5,title:"Product Selection",page:"/product/:id",icon:_l,status:"completed"}],metrics:{search_success_rate:"87%",avg_results:"23.7",filter_usage:"45%"}}],d=e=>{switch(e){case"completed":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30";case"in_progress":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/30";case"pending":return"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900/30";case"failed":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/30"}},u=(e,t)=>{const r=e.icon;return(0,ba.jsx)("div",{className:"p-3 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"in_progress"===e.status?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"),children:(0,ba.jsx)(r,{className:"w-5 h-5"})})};return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,ba.jsx)(js,{className:"w-8 h-8"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h2",{className:"text-3xl font-bold",children:"Business Process Map"}),(0,ba.jsx)("p",{className:"text-purple-100",children:"Visual overview of all marketplace business processes and user journeys"})]})]}),(0,ba.jsx)("div",{className:"flex items-center space-x-4",children:(0,ba.jsx)("div",{className:"bg-white/20 px-4 py-2 rounded-lg backdrop-blur-sm",children:(0,ba.jsxs)("span",{className:"text-sm font-medium",children:[c.length," Active Processes"]})})})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Process View"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,ba.jsxs)("button",{onClick:()=>l("visual"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("visual"===n?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,ba.jsx)(Ml,{className:"w-4 h-4 mr-2 inline"}),"Visual Map"]}),(0,ba.jsxs)("button",{onClick:()=>l("list"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("list"===n?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,ba.jsx)(Dl,{className:"w-4 h-4 mr-2 inline"}),"List View"]})]})]})}),"visual"===n&&(0,ba.jsxs)("div",{className:"cataloro-card-glass p-8",children:[(0,ba.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8 flex items-center",children:[(0,ba.jsx)(Ml,{className:"w-6 h-6 mr-3"}),"Business Process Flow Diagram"]}),(0,ba.jsx)("div",{className:"space-y-8",children:c.map((e,r)=>(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("div",{className:"flex items-center mb-6",children:[(0,ba.jsx)("div",{className:"p-4 rounded-2xl ".concat(e.color," text-white mr-4"),children:(0,ba.jsx)(e.icon,{className:"w-8 h-8"})}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.title}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.category})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.toUpperCase()}),(0,ba.jsx)("button",{onClick:()=>{return t=e.id,void o(e=>Ie(Ie({},e),{},{[t]:!e[t]}));var t},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:i[e.id]?(0,ba.jsx)(Fl,{className:"w-5 h-5"}):(0,ba.jsx)(Il,{className:"w-5 h-5"})})]})]}),(0,ba.jsxs)("div",{className:"ml-16 transition-all duration-300 ".concat(i[e.id]?"max-h-full opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:[(0,ba.jsx)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:e.steps.map((r,s)=>(0,ba.jsxs)(a.Fragment,{children:[(0,ba.jsxs)("div",{className:"flex flex-col items-center group cursor-pointer hover:scale-105 transition-transform",onClick:()=>t("Step: ".concat(r.title," (Page: ").concat(r.page,")"),"info"),children:[u(r),(0,ba.jsxs)("div",{className:"mt-2 text-center min-w-[120px]",children:[(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:r.title}),(0,ba.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.page})]})]}),s<e.steps.length-1&&(0,ba.jsx)(En,{className:"w-6 h-6 text-gray-400 dark:text-gray-600 flex-shrink-0"})]},r.id))}),(0,ba.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[(0,ba.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Process Metrics"}),(0,ba.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e.metrics).map(e=>{let[t,r]=e;return(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r}),(0,ba.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:t.replace("_"," ")})]},t)})})]})]}),r<c.length-1&&(0,ba.jsx)("div",{className:"flex justify-center mt-8",children:(0,ba.jsx)(ql,{className:"w-8 h-8 text-gray-400 dark:text-gray-600"})})]},e.id))})]}),"list"===n&&(0,ba.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(e=>(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"p-3 rounded-xl ".concat(e.color," text-white"),children:(0,ba.jsx)(e.icon,{className:"w-6 h-6"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.title}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.category})]})]}),(0,ba.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.toUpperCase()})]}),(0,ba.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:Object.entries(e.metrics).map(e=>{let[t,r]=e;return(0,ba.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,ba.jsx)("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r}),(0,ba.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:t.replace("_"," ")})]},t)})}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Related Pages:"}),(0,ba.jsx)("div",{className:"flex flex-wrap gap-2",children:e.pages.map((e,t)=>(0,ba.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-md text-xs",children:[(0,ba.jsx)(en,{className:"w-3 h-3 mr-1"}),e]},t))})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ba.jsxs)("button",{onClick:()=>s(e),className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 text-sm",children:[(0,ba.jsx)(yn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"View Details"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,ba.jsx)(Ms,{className:"w-3 h-3"}),(0,ba.jsxs)("span",{children:[e.steps.length," steps"]})]})]})]},e.id))}),r&&(0,ba.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("div",{className:"p-3 rounded-xl ".concat(r.color," text-white"),children:(0,ba.jsx)(r.icon,{className:"w-8 h-8"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r.category})]})]}),(0,ba.jsx)("button",{onClick:()=>s(null),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:(0,ba.jsx)(Ls,{className:"w-6 h-6"})})]})}),(0,ba.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Process Steps"}),(0,ba.jsx)("div",{className:"space-y-4",children:r.steps.map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[(0,ba.jsx)("div",{className:"flex-shrink-0",children:(0,ba.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat("completed"===e.status?"bg-green-500 text-white":"in_progress"===e.status?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"),children:t+1})}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,ba.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(d(e.status)),children:e.status.replace("_"," ").toUpperCase()})]}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page: ",e.page]})]}),u(e)]},e.id))})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Performance Metrics"}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(r.metrics).map(e=>{let[t,r]=e;return(0,ba.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl",children:[(0,ba.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize mt-1",children:t.replace("_"," ")})]},t)})})]})]})]})}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Business Process Summary"}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.length}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Processes"})]}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:c.filter(e=>"active"===e.status).length}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Processes"})]}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:c.reduce((e,t)=>e+t.steps.length,0)}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Steps"})]}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:new Set(c.flatMap(e=>e.pages)).size}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unique Pages"})]})]})]})]})};function Bl(){const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{n()},[]);const n=async()=>{s(!0);try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/notifications"));if(e.ok){const r=await e.json();t(r.slice(0,10))}else{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/notifications/admin"));if(e.ok){const r=await e.json();t(r.slice(0,10))}}}catch(e){console.error("Failed to fetch system notifications:",e),t([])}finally{s(!1)}};return r?(0,ba.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ba.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,ba.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading notifications..."})]}):0===e.length?(0,ba.jsxs)("div",{className:"text-center py-8",children:[(0,ba.jsx)(Es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No System Notifications"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No notifications are currently active in the system."})]}):(0,ba.jsxs)("div",{className:"space-y-3",children:[e.map(e=>(0,ba.jsx)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:(0,ba.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ba.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("message"===e.type?"bg-blue-500":"buy_approved"===e.type?"bg-green-500":"favorite"===e.type?"bg-pink-500":"buy_request"===e.type?"bg-orange-500":"payment"===e.type?"bg-green-600":"bg-gray-500")}),(0,ba.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,ba.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.is_read?"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:e.is_read?"Read":"Unread"})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.message}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-500",children:[(0,ba.jsxs)("span",{children:["User: ",e.user_id]}),(0,ba.jsxs)("span",{children:["Type: ",e.type]}),(0,ba.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,ba.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:(0,ba.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/notifications/").concat(e),{method:"DELETE"})).ok&&t(t=>t.filter(t=>t.id!==e))}catch(r){console.error("Failed to delete notification:",r)}})(e.id),className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete notification",children:(0,ba.jsx)(Rs,{className:"w-4 h-4"})})})]})},e.id)),(0,ba.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,ba.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e.length," recent notifications"]}),(0,ba.jsx)("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Refresh"})]})]})}function zl(e){var t,r,a,s,n,l,i,o,c;let{dashboardData:d,loading:u}=e;if(u||!d)return(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})});const{kpis:h,recent_activity:m}=d;return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(cl,{className:"w-8 h-8 text-blue-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent flex items-center justify-center",children:(null===(t=h.total_users)||void 0===t?void 0:t.toLocaleString())||0}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Users"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(ws,{className:"w-8 h-8 text-green-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent flex items-center justify-center",children:(null===(r=h.total_products)||void 0===r?void 0:r.toLocaleString())||0}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Products"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-orange-100/80 dark:bg-orange-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(sl,{className:"w-8 h-8 text-orange-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent flex items-center justify-center",children:(null===(a=h.active_products)||void 0===a?void 0:a.toLocaleString())||0}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Active Products"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-purple-100/80 dark:bg-purple-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(Cs,{className:"w-8 h-8 text-purple-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:(null===(s=h.cart_items)||void 0===s?void 0:s.toLocaleString())||0}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Cart Items"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(Ss,{className:"w-8 h-8 text-red-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:(null===(n=h.favorites_count)||void 0===n?void 0:n.toLocaleString())||0}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Favorites"})]})]})})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between w-full mb-2",children:[(0,ba.jsx)("div",{className:"p-3 bg-indigo-100/80 dark:bg-indigo-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(yn,{className:"w-6 h-6 text-indigo-500"})}),(0,ba.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium bg-green-100/80 dark:bg-green-900/30 px-2 py-1 rounded-full backdrop-blur-md",children:"+15%"})]}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-2xl font-bold mb-1 bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent flex items-center justify-center",children:(null===(l=h.total_views)||void 0===l?void 0:l.toLocaleString())||0}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Views"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between w-full mb-2",children:[(0,ba.jsx)("div",{className:"p-3 bg-emerald-100/80 dark:bg-emerald-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(ks,{className:"w-6 h-6 text-emerald-500"})}),(0,ba.jsxs)("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium bg-green-100/80 dark:bg-green-900/30 px-2 py-1 rounded-full backdrop-blur-md",children:["+",h.growth_rate,"%"]})]}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsxs)("div",{className:"text-2xl font-bold mb-1 bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent flex items-center justify-center",children:["$",(null===(i=h.total_revenue)||void 0===i?void 0:i.toLocaleString())||0]}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Revenue"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between w-full mb-2",children:[(0,ba.jsx)("div",{className:"p-3 bg-yellow-100/80 dark:bg-yellow-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(Sn,{className:"w-6 h-6 text-yellow-500"})}),(0,ba.jsx)("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-medium bg-yellow-100/80 dark:bg-yellow-900/30 px-2 py-1 rounded-full backdrop-blur-md",children:"Excellent"})]}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-2xl font-bold mb-1 bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent flex items-center justify-center",children:(null===(o=h.average_rating)||void 0===o?void 0:o.toFixed(1))||"0.0"}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"VG Rating"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between w-full mb-2",children:[(0,ba.jsx)("div",{className:"p-3 bg-amber-100/80 dark:bg-amber-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(Es,{className:"w-6 h-6 text-amber-500"})}),(0,ba.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium bg-blue-100/80 dark:bg-blue-900/30 px-2 py-1 rounded-full backdrop-blur-md",children:"Active"})]}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-2xl font-bold mb-1 bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent flex items-center justify-center",children:(null===(c=h.notifications_count)||void 0===c?void 0:c.toLocaleString())||0}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Notifications"})]})]})})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:[(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(sl,{className:"w-5 h-5 mr-2"}),"Live Activity"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ba.jsx)("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Live"})]})]}),(0,ba.jsx)("div",{className:"space-y-3",children:null===m||void 0===m?void 0:m.map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-white/10 dark:bg-white/5 rounded-xl backdrop-blur-md",children:[(0,ba.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ba.jsx)("p",{className:"text-sm text-gray-900 dark:text-white font-medium mb-1",children:e.action}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(e.timestamp).toLocaleString()})]})]},t))})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(Ns,{className:"w-5 h-5 mr-2 text-green-500"}),"System Health"]}),(0,ba.jsx)("div",{className:"p-2 bg-green-100/80 dark:bg-green-900/30 rounded-lg backdrop-blur-md",children:(0,ba.jsx)(Ns,{className:"w-5 h-5 text-green-500"})})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 dark:bg-white/5 rounded-lg backdrop-blur-md",children:[(0,ba.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(bn,{className:"w-4 h-4 mr-2"}),"Database"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,ba.jsx)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Optimal"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 dark:bg-white/5 rounded-lg backdrop-blur-md",children:[(0,ba.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(dl,{className:"w-4 h-4 mr-2"}),"API Response"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,ba.jsx)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Fast"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 dark:bg-white/5 rounded-lg backdrop-blur-md",children:[(0,ba.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(ul,{className:"w-4 h-4 mr-2"}),"Server Load"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,ba.jsx)("span",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:"Normal"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 dark:bg-white/5 rounded-lg backdrop-blur-md",children:[(0,ba.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(hl,{className:"w-4 h-4 mr-2"}),"Security"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,ba.jsx)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Secure"})]})]})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ba.jsx)(Vn,{className:"w-5 h-5 mr-2"}),"Quick Actions"]}),(0,ba.jsxs)("div",{className:"space-y-3",children:[(0,ba.jsxs)("button",{className:"w-full flex items-center justify-between p-4 bg-blue-50/80 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-xl hover:bg-blue-100/80 dark:hover:bg-blue-900/40 backdrop-blur-md",children:[(0,ba.jsxs)("span",{className:"font-medium flex items-center",children:[(0,ba.jsx)(ml,{className:"w-4 h-4 mr-3"}),"Export Data"]}),(0,ba.jsx)(ml,{className:"w-4 h-4"})]}),(0,ba.jsxs)("button",{className:"w-full flex items-center justify-between p-4 bg-green-50/80 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-xl hover:bg-green-100/80 dark:hover:bg-green-900/40 backdrop-blur-md",children:[(0,ba.jsxs)("span",{className:"font-medium flex items-center",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4 mr-3"}),"Refresh Stats"]}),(0,ba.jsx)(Ps,{className:"w-4 h-4"})]}),(0,ba.jsxs)("button",{className:"w-full flex items-center justify-between p-4 bg-purple-50/80 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-xl hover:bg-purple-100/80 dark:hover:bg-purple-900/40 backdrop-blur-md",children:[(0,ba.jsxs)("span",{className:"font-medium flex items-center",children:[(0,ba.jsx)(Ns,{className:"w-4 h-4 mr-3"}),"System Backup"]}),(0,ba.jsx)(Ns,{className:"w-4 h-4"})]}),(0,ba.jsxs)("button",{className:"w-full flex items-center justify-between p-4 bg-orange-50/80 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-xl hover:bg-orange-100/80 dark:hover:bg-orange-900/40 backdrop-blur-md",children:[(0,ba.jsxs)("span",{className:"font-medium flex items-center",children:[(0,ba.jsx)(yn,{className:"w-4 h-4 mr-3"}),"View Logs"]}),(0,ba.jsx)(yn,{className:"w-4 h-4"})]})]})]})]})]})}function Hl(e){let{users:t,onUpdateUser:r,showToast:s}=e;const[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[x,f]=(0,a.useState)("all"),[g,y]=(0,a.useState)("all"),b=async e=>{try{await wl.suspendUser(e),r(),s("User suspended successfully","success")}catch(t){s("Failed to suspend user","error")}},v=async e=>{try{await wl.activateUser(e),r(),s("User activated successfully","success")}catch(t){s("Failed to activate user","error")}},j=t.filter(e=>{var t,r,a;const s=(null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(m.toLowerCase()))||(null===(a=e.full_name)||void 0===a?void 0:a.toLowerCase().includes(m.toLowerCase())),n="all"===x||e.role===x,l="all"===g||"active"===g&&e.is_active||"inactive"===g&&!e.is_active;return s&&n&&l}),w=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||u;if(e&&0!==c.length)try{let t=0;switch(e){case"activate":for(const e of c)await v(e),t++;s("".concat(t," users activated"),"success");break;case"suspend":for(const e of c)await b(e),t++;s("".concat(t," users suspended"),"success");break;case"promote":s("".concat(c.length," users promoted to admin"),"success");break;case"demote":s("".concat(c.length," users demoted to user role"),"success");break;case"delete":window.confirm("Are you sure you want to delete ".concat(c.length," users? This action cannot be undone."))&&s("".concat(c.length," users deleted"),"success");break;case"message":s("Message sent to ".concat(c.length," users"),"success");break;case"export":s("".concat(c.length," users exported"),"success");break;case"reset-password":window.confirm("Are you sure you want to reset passwords for ".concat(c.length," users?"))&&s("Password reset emails sent to ".concat(c.length," users"),"success")}d([]),h(""),r()}catch(t){s("Error performing bulk action","error")}};return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(cl,{className:"w-8 h-8 text-blue-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent flex items-center justify-center",children:t.length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Total Users"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(on,{className:"w-8 h-8 text-green-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>e.is_active).length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Active Users"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-purple-100/80 dark:bg-purple-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(Ns,{className:"w-8 h-8 text-purple-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>"admin"===e.role).length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Admins"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-full min-h-[140px]",children:[(0,ba.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md flex items-center justify-center",children:(0,ba.jsx)(ol,{className:"w-8 h-8 text-red-500"})}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center",children:t.filter(e=>!e.is_active).length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:"Suspended"})]})]})})]}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between space-y-6 xl:space-y-0",children:[(0,ba.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Users"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ba.jsx)("input",{type:"text",placeholder:"Search by name, email, or username...",value:m,onChange:e=>p(e.target.value),className:"pl-10 cataloro-input w-full"})]})]}),(0,ba.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Role"}),(0,ba.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"cataloro-input w-auto min-w-[120px]",children:[(0,ba.jsx)("option",{value:"all",children:"All Roles"}),(0,ba.jsx)("option",{value:"admin",children:"Admin"}),(0,ba.jsx)("option",{value:"user",children:"User"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,ba.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"cataloro-input w-auto min-w-[120px]",children:[(0,ba.jsx)("option",{value:"all",children:"All Status"}),(0,ba.jsx)("option",{value:"active",children:"Active"}),(0,ba.jsx)("option",{value:"inactive",children:"Suspended"})]})]})]})]})}),c.length>0&&(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 border-2 border-blue-200 dark:border-blue-800 shadow-xl",children:[(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ba.jsx)("div",{className:"flex items-center space-x-4",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full animate-pulse"}),(0,ba.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[c.length," user",1!==c.length?"s":""," selected"]}),(0,ba.jsx)("div",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-sm font-medium rounded-full",children:"Ready for action"})]})}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,ba.jsxs)("button",{onClick:()=>w("activate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Activate selected users",children:[(0,ba.jsx)(on,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Activate"})]}),(0,ba.jsxs)("button",{onClick:()=>w("suspend"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Suspend selected users",children:[(0,ba.jsx)(ol,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Suspend"})]}),(0,ba.jsxs)("button",{onClick:()=>w("delete"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Delete selected users",children:[(0,ba.jsx)(Rs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,ba.jsxs)("button",{onClick:()=>w("promote"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Promote to admin",children:[(0,ba.jsx)(Ns,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Promote"})]}),(0,ba.jsxs)("button",{onClick:()=>w("message"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Send message to selected users",children:[(0,ba.jsx)(Zs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Message"})]})]})]}),(0,ba.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-3",children:[(0,ba.jsxs)("button",{onClick:()=>w("export"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(ml,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Export Selected"})]}),(0,ba.jsxs)("button",{onClick:()=>w("reset-password"),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(hl,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Reset Passwords"})]}),(0,ba.jsxs)("button",{onClick:()=>d([]),className:"flex items-center space-x-2 px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(Ls,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Clear Selection"})]})]})})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass overflow-hidden",children:[(0,ba.jsx)("div",{className:"px-6 py-4 border-b border-white/10 dark:border-white/10",children:(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Management"})}),(0,ba.jsx)("div",{className:"overflow-x-auto",children:(0,ba.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,ba.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-md",children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:(0,ba.jsx)("input",{type:"checkbox",onChange:e=>{return t=e.target.checked,void d(t?j.map(e=>e.id):[]);var t},checked:c.length===j.length&&j.length>0,className:"admin-checkbox purple-theme"})}),(0,ba.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),(0,ba.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),(0,ba.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),(0,ba.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Joined"}),(0,ba.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,ba.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(e=>{var t,r,a;return(0,ba.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,ba.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ba.jsx)("input",{type:"checkbox",checked:c.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void d(a?[...c,r]:c.filter(e=>e!==r));var r,a},className:"admin-checkbox purple-theme"})}),(0,ba.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,ba.jsx)("span",{className:"text-white font-medium text-sm",children:(null===(t=e.full_name)||void 0===t?void 0:t.charAt(0))||(null===(r=e.username)||void 0===r?void 0:r.charAt(0))})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.full_name}),(0,ba.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email})]})]})}),(0,ba.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ba.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("admin"===e.role?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:null===(a=e.role)||void 0===a?void 0:a.toUpperCase()})}),(0,ba.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ba.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:e.is_active?"ACTIVE":"SUSPENDED"})}),(0,ba.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString()}),(0,ba.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,ba.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,ba.jsx)("button",{onClick:()=>{l(e),o(!0)},className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit User",children:(0,ba.jsx)(In,{className:"w-4 h-4"})}),e.is_active?(0,ba.jsx)("button",{onClick:()=>b(e.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Suspend User",children:(0,ba.jsx)(ol,{className:"w-4 h-4"})}):(0,ba.jsx)("button",{onClick:()=>v(e.id),className:"p-2 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"Activate User",children:(0,ba.jsx)(on,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]})]})}function Vl(e){let{showToast:t}=e;const[r,s]=(0,a.useState)({title:"Discover Amazing Products",description:"From electronics to fashion, find everything you need in one place",height:400,image_url:"",search_placeholder:"Search for anything you need..."}),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=localStorage.getItem("cataloro_hero_content");if(e)try{s(JSON.parse(e))}catch(t){console.error("Error loading hero content:",t)}},[]);const u=(e,t)=>{s(r=>Ie(Ie({},r),{},{[e]:t}))},h=()=>{l(null),o(""),s(e=>Ie(Ie({},e),{},{image_url:""})),t("Hero image removed","info")};return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-white",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,ba.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,ba.jsx)(Sn,{className:"w-8 h-8"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h2",{className:"text-3xl font-bold",children:"Hero Selection"}),(0,ba.jsx)("p",{className:"text-purple-100",children:"Customize the main hero section on the Browse page"})]})]})}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8",children:[(0,ba.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ba.jsx)(In,{className:"w-6 h-6 mr-3"}),"Edit Hero Content"]}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Image (Optional)"}),(0,ba.jsxs)("div",{className:"space-y-4",children:[i||r.image_url?(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center overflow-hidden",children:(0,ba.jsx)("img",{src:i||r.image_url,alt:"Hero",className:"w-full h-full object-contain"})}),(0,ba.jsx)("button",{onClick:h,className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]}):(0,ba.jsx)("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)(pl,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,ba.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No image uploaded"})]})}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("label",{className:"inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-pointer transition-colors",children:[(0,ba.jsx)(zn,{className:"w-4 h-4 mr-2"}),"Upload Hero Image",(0,ba.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void t("Please select an image file (PNG, JPG, etc.)","error");if(r.size>2097152)return void t("File size must be less than 2MB","error");l(r);const e=new FileReader;e.onload=e=>{const t=e.target.result;o(t),s(e=>Ie(Ie({},e),{},{image_url:t}))},e.readAsDataURL(r),t("Hero image ready - click Save & Apply to update the Browse page","info")}},className:"hidden"})]}),(i||r.image_url)&&(0,ba.jsx)("button",{onClick:h,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Remove Image"})]})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Upload a PNG/JPG image to display above the hero title. Recommended size: 200x100px (max 2MB)"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Title"}),(0,ba.jsx)("input",{type:"text",value:r.title,onChange:e=>u("title",e.target.value),placeholder:"Enter the main headline for the hero section",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg font-semibold"}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This appears as the main headline on the Browse page (recommended: 3-8 words)"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Description"}),(0,ba.jsx)("textarea",{value:r.description,onChange:e=>u("description",e.target.value),placeholder:"Enter a compelling description that appears below the title",rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This description appears below the title (recommended: 10-25 words)"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Search Bar Placeholder Text"}),(0,ba.jsx)("input",{type:"text",value:r.search_placeholder,onChange:e=>u("search_placeholder",e.target.value),placeholder:"Enter the placeholder text for the search bar",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:'This text appears inside the search bar when it\'s empty (e.g., "Search for anything you need...")'})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hero Section Height"}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsx)("input",{type:"range",min:"300",max:"800",step:"50",value:r.height||400,onChange:e=>u("height",parseInt(e.target.value)),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),(0,ba.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)("span",{children:"Compact (300px)"}),(0,ba.jsxs)("span",{className:"font-semibold text-purple-600 dark:text-purple-400 text-lg",children:["Current: ",r.height||400,"px"]}),(0,ba.jsx)("span",{children:"Extra Tall (800px)"})]}),(0,ba.jsx)("div",{className:"flex flex-wrap gap-2",children:[300,400,500,600,700,800].map(e=>(0,ba.jsxs)("button",{onClick:()=>u("height",e),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat((r.height||400)===e?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"px"]},e))})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Adjust the height of the hero section (300px = compact, 400px = standard, 600px+ = prominent)"})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8",children:[(0,ba.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ba.jsx)(yn,{className:"w-6 h-6 mr-3"}),"Live Preview"]}),(0,ba.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white overflow-hidden w-full rounded-2xl",style:{height:"".concat(r.height||400,"px"),minHeight:"300px"},children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,ba.jsxs)("div",{className:"relative z-10 text-center flex flex-col justify-center h-full px-8",children:[(i||r.image_url)&&(0,ba.jsx)("div",{className:"mb-6 flex justify-center",children:(0,ba.jsx)("img",{src:i||r.image_url,alt:"Hero",className:"max-h-24 max-w-48 object-contain"})}),(0,ba.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:r.title||"Enter your title above"}),(0,ba.jsx)("p",{className:"text-xl mb-8 opacity-90",children:r.description||"Enter your description above"}),(0,ba.jsx)("div",{className:"w-full",children:(0,ba.jsx)("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 max-w-4xl mx-auto",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Ks,{className:"absolute left-6 text-white/70 w-6 h-6"}),(0,ba.jsx)("input",{type:"text",placeholder:r.search_placeholder||"Search for anything you need...",className:"w-full pl-16 pr-4 py-4 bg-transparent text-white placeholder-white/70 text-lg focus:outline-none",disabled:!0}),(0,ba.jsx)("div",{className:"flex-shrink-0 px-8 py-4 bg-white/20 backdrop-blur-sm text-white rounded-xl font-semibold",children:"Search"})]})})})]})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4 text-center",children:"\u2191 This is exactly how your hero section will appear on the Browse page"})]}),(0,ba.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h4",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[(0,ba.jsx)(Kn,{className:"w-6 h-6 mr-2"}),"Save Hero Content"]}),(0,ba.jsx)("p",{className:"text-green-100",children:"Apply changes to the Browse page hero section. Changes take effect immediately."})]}),(0,ba.jsxs)("div",{className:"flex space-x-4",children:[(0,ba.jsxs)("button",{onClick:()=>{d(!c),c||t("\ud83d\udc41\ufe0f Preview mode enabled - see how it will look on the Browse page","info")},className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-medium",children:[(0,ba.jsx)(yn,{className:"w-5 h-5"}),(0,ba.jsx)("span",{children:"Preview on Browse Page"})]}),(0,ba.jsxs)("button",{onClick:()=>{try{localStorage.setItem("cataloro_hero_content",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("heroContentUpdated",{detail:r})),t("\u2705 Hero content saved successfully! Changes are live on the Browse page.","success")}catch(e){t("\u274c Failed to save hero content","error")}},className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-8 py-3 rounded-xl font-bold border border-white/20",children:[(0,ba.jsx)(Kn,{className:"w-5 h-5"}),(0,ba.jsx)("span",{children:"Save & Apply"})]})]})]})})]})}function Wl(e){let{settings:t,onUpdateSettings:r,showToast:s}=e;const[n,l]=(0,a.useState)(t),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)("");(0,a.useEffect)(()=>{l(t)},[t]);const x=e=>{l(Ie(Ie({},n),{},{[e.target.name]:e.target.value}))},f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void s("Please select an image file","error");if(r.size>2097152)return void s("File size must be less than 2MB","error");"light"===t?o(r):d(r);const e=new FileReader;e.onload=e=>{const r=e.target.result;"light"===t?(h(r),l(e=>Ie(Ie({},e),{},{logo_light_url:r}))):(p(r),l(e=>Ie(Ie({},e),{},{logo_dark_url:r})))},e.readAsDataURL(r),s("".concat("light"===t?"Light":"Dark"," mode logo ready - click Save Settings to apply"),"info")}},g=e=>{const t=document.querySelector(".header-logo img, .header-logo"),r=e.logo_light_url||e.logo_url,a=e.logo_dark_url||e.logo_url;if(t&&("IMG"===t.tagName&&(t.src=r||"/favicon.ico",t.alt=e.site_name||"Cataloro"),r&&a)){const e=document.getElementById("dynamic-logo-style")||document.createElement("style");e.id="dynamic-logo-style",e.textContent="\n          .header-logo img {\n            content: url('".concat(r,"');\n          }\n          .dark .header-logo img {\n            content: url('").concat(a,"');\n          }\n        "),document.head.appendChild(e)}if(e.site_name){const t=document.querySelector(".site-name, .header-title");t&&(t.textContent=e.site_name),document.title=e.site_name||"Cataloro"}if(r){const e=document.querySelector('link[rel="icon"]')||document.createElement("link");e.rel="icon",e.href=r,document.head.appendChild(e)}};return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Site Branding"}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Site Logos (Light & Dark Mode)"}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ba.jsxs)("div",{className:"space-y-3",children:[(0,ba.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded mr-2"}),"Light Mode Logo"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("div",{className:"w-20 h-20 bg-white border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center overflow-hidden",children:u||n.logo_light_url||n.logo_url?(0,ba.jsx)("img",{src:u||n.logo_light_url||n.logo_url,alt:"Light Logo",className:"w-full h-full object-contain"}):(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)(pl,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,ba.jsx)("span",{className:"text-xs text-gray-400",children:"Light"})]})}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("label",{className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition-colors text-sm",children:[(0,ba.jsx)(zn,{className:"w-4 h-4 mr-2"}),"Upload Light Logo",(0,ba.jsx)("input",{type:"file",accept:"image/*",onChange:e=>f(e,"light"),className:"hidden"})]}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For light backgrounds"})]})]})]}),(0,ba.jsxs)("div",{className:"space-y-3",children:[(0,ba.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)("div",{className:"w-4 h-4 bg-gray-800 border border-gray-600 rounded mr-2"}),"Dark Mode Logo"]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("div",{className:"w-20 h-20 bg-gray-800 border-2 border-dashed border-gray-600 rounded-xl flex items-center justify-center overflow-hidden",children:m||n.logo_dark_url?(0,ba.jsx)("img",{src:m||n.logo_dark_url,alt:"Dark Logo",className:"w-full h-full object-contain"}):(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)(pl,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,ba.jsx)("span",{className:"text-xs text-gray-400",children:"Dark"})]})}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("label",{className:"inline-flex items-center px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-pointer transition-colors text-sm",children:[(0,ba.jsx)(zn,{className:"w-4 h-4 mr-2"}),"Upload Dark Logo",(0,ba.jsx)("input",{type:"file",accept:"image/*",onChange:e=>f(e,"dark"),className:"hidden"})]}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For dark backgrounds"})]})]})]})]}),(0,ba.jsx)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,ba.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ba.jsx)("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",children:"\ud83d\udca1"}),(0,ba.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,ba.jsx)("strong",{children:"Logo Usage:"})," Upload both logos for automatic theme switching. Light logo shows on light backgrounds, dark logo shows on dark backgrounds. Recommended size: 200x60px or similar aspect ratio."]})]})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Name"}),(0,ba.jsx)("input",{type:"text",name:"site_name",value:n.site_name||"Cataloro",onChange:x,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter site name"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Description"}),(0,ba.jsx)("textarea",{name:"site_description",rows:3,value:n.site_description||"Modern Marketplace",onChange:x,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Enter site description"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Theme Color"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"relative",children:(0,ba.jsx)("input",{type:"color",name:"theme_color",value:n.theme_color||"#3B82F6",onChange:x,className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer bg-transparent"})}),(0,ba.jsx)("input",{type:"text",name:"theme_color",value:n.theme_color||"#3B82F6",onChange:x,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"#3B82F6"}),(0,ba.jsx)("div",{className:"w-12 h-12 rounded-lg border border-gray-300 dark:border-gray-600",style:{backgroundColor:n.theme_color||"#3B82F6"}})]})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Platform Configuration"}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"User Registration"}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ba.jsx)("input",{type:"checkbox",name:"allow_registration",checked:n.allow_registration||!0,onChange:e=>l(Ie(Ie({},n),{},{allow_registration:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ba.jsxs)("div",{className:"ml-3",children:[(0,ba.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Allow new user registration"}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable public user registration on the platform"})]})]}),(0,ba.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ba.jsx)("input",{type:"checkbox",name:"require_approval",checked:n.require_approval||!1,onChange:e=>l(Ie(Ie({},n),{},{require_approval:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ba.jsxs)("div",{className:"ml-3",children:[(0,ba.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Require admin approval"}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"New users need admin approval before accessing the platform"})]})]}),(0,ba.jsxs)("label",{className:"flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[(0,ba.jsx)("input",{type:"checkbox",name:"email_notifications",checked:n.email_notifications||!0,onChange:e=>l(Ie(Ie({},n),{},{email_notifications:e.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),(0,ba.jsxs)("div",{className:"ml-3",children:[(0,ba.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Email notifications"}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Send email notifications for important events"})]})]})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Marketplace Features"}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commission Rate (%)"}),(0,ba.jsx)("input",{type:"number",name:"commission_rate",value:n.commission_rate||5,onChange:x,min:"0",max:"50",step:"0.1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max File Size (MB)"}),(0,ba.jsx)("input",{type:"number",name:"max_file_size",value:n.max_file_size||10,onChange:x,min:"1",max:"100",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]})]})]}),(0,ba.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h4",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[(0,ba.jsx)(Kn,{className:"w-6 h-6 mr-2"}),"Save Site Branding"]}),(0,ba.jsx)("p",{className:"text-green-100",children:"Apply all branding changes including logos to the site header. Changes take effect immediately."}),(0,ba.jsx)("div",{className:"mt-2 text-sm text-green-100",children:"\u2713 Site Name & Description \u2022 \u2713 Light & Dark Mode Logos \u2022 \u2713 Theme Colors \u2022 \u2713 Platform Settings"})]}),(0,ba.jsxs)("button",{onClick:async()=>{try{localStorage.setItem("cataloro_site_branding",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("brandingUpdated")),g(n),await wl.updateSettings(n),s("\u2705 Site branding saved and applied successfully! Logos now visible in header.","success"),r()}catch(e){g(n),s("\u2705 Site branding applied locally! Changes visible in header.","success")}},className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-xl font-bold shadow-lg border border-white/20",children:[(0,ba.jsx)(Kn,{className:"w-6 h-6"}),(0,ba.jsx)("span",{className:"text-lg",children:"Save & Apply Changes"})]})]})})]})}function Kl(e){let{showToast:t}=e;const[r,s]=a.useState("appearance"),[n,l]=a.useState(!1),[i,o]=a.useState({primaryColor:"#3B82F6",secondaryColor:"#8B5CF6",accentColor:"#10B981",fontFamily:"inter",fontSize:"16",borderRadius:"8",enableDarkMode:!0,defaultTheme:"light",customCSS:"",headerStyle:"modern",sidebarEnabled:!1,breadcrumbsEnabled:!0,footerEnabled:!0,compactMode:!1,animationsEnabled:!0,footerCompanyName:"Cataloro",footerTagline:"Modern Marketplace for Everyone",footerDescription:"Discover, buy, and sell amazing products in our trusted marketplace. Connect with sellers worldwide and find exactly what you're looking for.",footerEmail:"hello@cataloro.com",footerPhone:"+1 (555) 123-4567",footerAddress:"123 Marketplace St, Commerce City, CC 12345",footerFacebook:"https://facebook.com/cataloro",footerTwitter:"https://twitter.com/cataloro",footerInstagram:"https://instagram.com/cataloro",footerLinkedin:"https://linkedin.com/company/cataloro",footerYoutube:"https://youtube.com/cataloro",footerBackgroundColor:"#1f2937",footerTextColor:"#ffffff",footerLinkColor:"#60a5fa",heroSectionEnabled:!0,featuredProductsEnabled:!0,categoriesShowcase:!0,testimonialSection:!1,newsletterSignup:!0,searchBarProminent:!1,userRegistration:!0,guestBrowsing:!0,productReviews:!0,wishlistEnabled:!0,compareFeature:!1,advancedFilters:!0,bulkOperations:!1,productVariations:!0,inventoryTracking:!0,twoFactorAuth:!1,emailVerification:!0,passwordPolicy:"medium",sessionTimeout:60,ipWhitelist:"",contentModeration:!0,autoSpamDetection:!0,cacheEnabled:!0,compressionEnabled:!0,lazyLoading:!0,seoOptimization:!0,sitemapGeneration:!0,robotsTxt:!0,emailNotifications:!0,pushNotifications:!1,smsNotifications:!1,inAppMessaging:!0,newsletterSystem:!0,googleAnalytics:"",facebookPixel:"",customTracking:"",userBehaviorTracking:!0,performanceMonitoring:!0,maintenanceMode:!1,debugMode:!1,logLevel:"info",backupEnabled:!0,autoUpdates:!1}),c=(e,t)=>{o(r=>Ie(Ie({},r),{},{[e]:t}))};a.useEffect(()=>{const e=localStorage.getItem("cataloro_site_config");if(e)try{const t=JSON.parse(e);o(e=>Ie(Ie({},e),t)),console.log("Loaded saved site configuration (not applied yet)")}catch(t){console.warn("Could not load saved configuration")}},[]);const d=[{id:"appearance",label:"Appearance & Themes",icon:xl,description:"Customize site appearance, colors, fonts, and layout"},{id:"content",label:"Content Management",icon:Hn,description:"Manage info page content with rich text editing capabilities"},{id:"system-notifications",label:"System Notifications Manager",icon:Es,description:"Manage green toast notifications that appear in the top right corner with event triggers"},{id:"hero",label:"Hero Selection",icon:Sn,description:"Customize the main hero section on the Browse page"},{id:"footer",label:"Footer Configuration",icon:fl,description:"Customize footer content, links, and social media"},{id:"features",label:"Feature Management",icon:Vn,description:"Enable/disable marketplace features and functionality"},{id:"security",label:"Security & Privacy",icon:hl,description:"Configure security settings and privacy controls"},{id:"performance",label:"Performance & SEO",icon:Fs,description:"Optimize site performance and search engine visibility"},{id:"communications",label:"Communications",icon:Zs,description:"Manage notifications, emails, and messaging systems"},{id:"notifications",label:"Notification Center",icon:Es,description:"Manage system notifications like Welcome Back messages, alerts, and announcements"},{id:"system",label:"System & Maintenance",icon:ul,description:"System settings, maintenance, and advanced configuration"}];return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Site Administration"}),(0,ba.jsx)("p",{className:"text-blue-100",children:"Complete control over your marketplace platform"})]}),(0,ba.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsxs)("button",{onClick:()=>{const e=Ie(Ie({},i),{},{primaryColor:"#FF4500",secondaryColor:"#9400D3",accentColor:"#32CD32",fontFamily:"poppins",fontSize:"18",borderRadius:"16",compactMode:!0,animationsEnabled:!1,heroSectionEnabled:!0,featuredProductsEnabled:!0,wishlistEnabled:!0,productReviews:!0});mn(e),t("\ud83d\ude80 COMPREHENSIVE TEST APPLIED! Check all changes: Colors, Fonts, Layout, Features","info")},className:"bg-orange-500/90 hover:bg-orange-600 backdrop-blur-sm text-white px-3 py-2 rounded-lg font-medium flex items-center space-x-2 text-sm",children:[(0,ba.jsx)(Vn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Full Test"})]}),(0,ba.jsxs)("button",{onClick:()=>{const e=Ie(Ie({},i),{},{fontFamily:"roboto",fontSize:"20",borderRadius:"24"});mn(e),t("\ud83d\udcdd Typography Test: Roboto font, 20px size, 24px radius","info")},className:"bg-blue-500/90 hover:bg-blue-600 backdrop-blur-sm text-white px-3 py-2 rounded-lg font-medium flex items-center space-x-2 text-sm",children:[(0,ba.jsx)(gl,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Typography"})]}),(0,ba.jsxs)("button",{onClick:()=>{const e=Ie(Ie({},i),{},{compactMode:!i.compactMode,animationsEnabled:!i.animationsEnabled,wishlistEnabled:!i.wishlistEnabled});mn(e),o(e),t("\u26a1 Feature Toggle Test: Compact mode, animations, wishlist toggled","info")},className:"bg-purple-500/90 hover:bg-purple-600 backdrop-blur-sm text-white px-3 py-2 rounded-lg font-medium flex items-center space-x-2 text-sm",children:[(0,ba.jsx)(yl,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Features"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 ml-2",children:[(0,ba.jsxs)("button",{onClick:()=>mn(i),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-3 py-2 rounded-lg font-medium flex items-center space-x-2 text-sm",children:[(0,ba.jsx)(yn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Preview"})]}),(0,ba.jsx)("button",{onClick:async()=>{try{l(!0),await new Promise(e=>setTimeout(e,1500)),localStorage.setItem("cataloro_site_config",JSON.stringify(i));if(!mn(i))throw new Error("Configuration application failed");{const e=Object.entries(i).filter(e=>{let[t,r]=e;return"boolean"===typeof r&&r}).length,r=Object.entries(i).filter(e=>{let[t,r]=e;return null!==r&&void 0!==r&&""!==r}).length;t("\u2705 Site configuration saved and applied successfully! \n          ".concat(r," settings configured, ").concat(e," features enabled. \n          All changes are now live across the site."),"success"),console.log("\ud83c\udf89 COMPLETE Site Configuration Applied:",Ie(Ie({},i),{},{appliedAt:(new Date).toISOString(),totalSettings:r,enabledFeatures:e})),document.body.style.transition="opacity 0.3s ease",document.body.style.opacity="0.95",setTimeout(()=>{document.body.style.opacity="1",setTimeout(()=>{document.body.style.transition=""},300)},150)}}catch(e){console.error("Save error:",e),t("Failed to save and apply configuration. Please try again.","error")}finally{l(!1)}},disabled:n,className:"bg-white/20 hover:bg-white/30 disabled:bg-white/10 backdrop-blur-sm text-white px-4 py-2.5 rounded-lg font-semibold flex items-center space-x-2 text-sm disabled:cursor-not-allowed",children:n?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ba.jsx)("span",{children:"Saving..."})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Kn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Save All Changes"})]})}),(0,ba.jsx)("div",{className:"bg-green-500/90 backdrop-blur-sm p-2 rounded-lg hover:bg-green-600",children:(0,ba.jsx)(Ns,{className:"w-5 h-5"})})]})]})]})}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Administration Sections"}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>{const t=e.icon;return(0,ba.jsxs)("button",{onClick:()=>s(e.id),className:"p-4 rounded-lg border-2 transition-all duration-200 text-left ".concat(r===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ba.jsx)(t,{className:"w-6 h-6 ".concat(r===e.id?"text-blue-600":"text-gray-500")}),(0,ba.jsx)("span",{className:"font-medium ".concat(r===e.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"),children:e.label})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]},e.id)})})]}),(0,ba.jsxs)("div",{className:"space-y-6",children:["appearance"===r&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(xl,{className:"w-5 h-5 mr-2"}),"Color Scheme & Branding"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Color"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("input",{type:"color",value:i.primaryColor,onChange:e=>c("primaryColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ba.jsx)("input",{type:"text",value:i.primaryColor,onChange:e=>c("primaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Secondary Color"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("input",{type:"color",value:i.secondaryColor,onChange:e=>c("secondaryColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ba.jsx)("input",{type:"text",value:i.secondaryColor,onChange:e=>c("secondaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Accent Color"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("input",{type:"color",value:i.accentColor,onChange:e=>c("accentColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ba.jsx)("input",{type:"text",value:i.accentColor,onChange:e=>c("accentColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(gl,{className:"w-5 h-5 mr-2"}),"Typography & Layout"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Font Family"}),(0,ba.jsxs)("select",{value:i.fontFamily,onChange:e=>c("fontFamily",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"inter",children:"Inter (Modern)"}),(0,ba.jsx)("option",{value:"roboto",children:"Roboto (Clean)"}),(0,ba.jsx)("option",{value:"opensans",children:"Open Sans (Friendly)"}),(0,ba.jsx)("option",{value:"lato",children:"Lato (Professional)"}),(0,ba.jsx)("option",{value:"poppins",children:"Poppins (Trendy)"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Base Font Size"}),(0,ba.jsxs)("select",{value:i.fontSize,onChange:e=>c("fontSize",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"14",children:"Small (14px)"}),(0,ba.jsx)("option",{value:"16",children:"Medium (16px)"}),(0,ba.jsx)("option",{value:"18",children:"Large (18px)"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Border Radius"}),(0,ba.jsxs)("select",{value:i.borderRadius,onChange:e=>c("borderRadius",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"4",children:"Minimal (4px)"}),(0,ba.jsx)("option",{value:"8",children:"Modern (8px)"}),(0,ba.jsx)("option",{value:"12",children:"Rounded (12px)"}),(0,ba.jsx)("option",{value:"16",children:"Very Rounded (16px)"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Default Theme"}),(0,ba.jsxs)("select",{value:i.defaultTheme,onChange:e=>c("defaultTheme",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"light",children:"Light Theme"}),(0,ba.jsx)("option",{value:"dark",children:"Dark Theme"}),(0,ba.jsx)("option",{value:"auto",children:"Auto (System)"})]})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(fl,{className:"w-5 h-5 mr-2"}),"Layout Configuration"]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"sidebarEnabled",label:"Enable Sidebar Navigation",desc:"Show sidebar navigation instead of header"},{key:"breadcrumbsEnabled",label:"Show Breadcrumbs",desc:"Display navigation breadcrumbs"},{key:"footerEnabled",label:"Show Footer",desc:"Display site footer"},{key:"compactMode",label:"Compact Mode",desc:"Reduce spacing for more content"},{key:"animationsEnabled",label:"Enable Animations",desc:"Show transitions and animations"},{key:"enableDarkMode",label:"Dark Mode Available",desc:"Allow users to toggle dark mode"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 text-blue-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(vl,{className:"w-5 h-5 mr-2"}),"Custom CSS Injection"]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom CSS Code"}),(0,ba.jsx)("textarea",{value:i.customCSS,onChange:e=>c("customCSS",e.target.value),placeholder:"/* Enter custom CSS here */",rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm resize-none"}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Add custom CSS to override default styles. Changes apply site-wide."})]})]})]}),"content"===r&&(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsx)(Al,{})}),"system-notifications"===r&&(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsx)(Pl,{})}),"hero"===r&&(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsx)(Vl,{showToast:t})}),"footer"===r&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(fl,{className:"w-5 h-5 mr-2"}),"Footer Display Settings"]}),(0,ba.jsx)("div",{className:"space-y-4",children:(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c("footerEnabled",!i.footerEnabled),className:"mt-1",children:i.footerEnabled?(0,ba.jsx)(yl,{className:"w-6 h-6 text-green-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Enable Footer"}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show/hide the site footer"})]})]})})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(jl,{className:"w-5 h-5 mr-2"}),"Company Information"]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),(0,ba.jsx)("input",{type:"text",value:i.footerCompanyName,onChange:e=>c("footerCompanyName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your Company Name"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tagline"}),(0,ba.jsx)("input",{type:"text",value:i.footerTagline,onChange:e=>c("footerTagline",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your company tagline"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,ba.jsx)("textarea",{value:i.footerDescription,onChange:e=>c("footerDescription",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Brief description of your company..."})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Xs,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,ba.jsx)("input",{type:"email",value:i.footerEmail,onChange:e=>c("footerEmail",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"contact@company.com"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),(0,ba.jsx)("input",{type:"tel",value:i.footerPhone,onChange:e=>c("footerPhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"+1 (555) 123-4567"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),(0,ba.jsx)("input",{type:"text",value:i.footerAddress,onChange:e=>c("footerAddress",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"123 Street, City, State"})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(vs,{className:"w-5 h-5 mr-2"}),"Social Media Links"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook URL"}),(0,ba.jsx)("input",{type:"url",value:i.footerFacebook,onChange:e=>c("footerFacebook",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://facebook.com/yourpage"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter URL"}),(0,ba.jsx)("input",{type:"url",value:i.footerTwitter,onChange:e=>c("footerTwitter",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://twitter.com/youraccount"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram URL"}),(0,ba.jsx)("input",{type:"url",value:i.footerInstagram,onChange:e=>c("footerInstagram",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://instagram.com/youraccount"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn URL"}),(0,ba.jsx)("input",{type:"url",value:i.footerLinkedin,onChange:e=>c("footerLinkedin",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://linkedin.com/company/yourcompany"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"YouTube URL"}),(0,ba.jsx)("input",{type:"url",value:i.footerYoutube,onChange:e=>c("footerYoutube",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://youtube.com/yourchannel"})]})]})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(xl,{className:"w-5 h-5 mr-2"}),"Footer Styling"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Background Color"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("input",{type:"color",value:i.footerBackgroundColor,onChange:e=>c("footerBackgroundColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ba.jsx)("input",{type:"text",value:i.footerBackgroundColor,onChange:e=>c("footerBackgroundColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Text Color"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("input",{type:"color",value:i.footerTextColor,onChange:e=>c("footerTextColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ba.jsx)("input",{type:"text",value:i.footerTextColor,onChange:e=>c("footerTextColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link Color"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("input",{type:"color",value:i.footerLinkColor,onChange:e=>c("footerLinkColor",e.target.value),className:"w-16 h-12 rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer"}),(0,ba.jsx)("input",{type:"text",value:i.footerLinkColor,onChange:e=>c("footerLinkColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]})]}),"features"===r&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(vs,{className:"w-5 h-5 mr-2"}),"Homepage Configuration"]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"heroSectionEnabled",label:"Hero Section",desc:"Show main banner/hero section on homepage"},{key:"featuredProductsEnabled",label:"Featured Products",desc:"Display featured products carousel"},{key:"categoriesShowcase",label:"Categories Showcase",desc:"Show category grid on homepage"},{key:"testimonialSection",label:"Testimonials",desc:"Display customer testimonials"},{key:"newsletterSignup",label:"Newsletter Signup",desc:"Show newsletter subscription form"},{key:"searchBarProminent",label:"Prominent Search",desc:"Make search bar more prominent"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 text-green-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(js,{className:"w-5 h-5 mr-2"}),"Marketplace Features"]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"userRegistration",label:"User Registration",desc:"Allow new users to register accounts"},{key:"guestBrowsing",label:"Guest Browsing",desc:"Allow non-registered users to browse products"},{key:"productReviews",label:"Product Reviews",desc:"Enable product rating and review system"},{key:"wishlistEnabled",label:"Wishlist/Favorites",desc:"Allow users to save favorite products"},{key:"compareFeature",label:"Product Compare",desc:"Side-by-side product comparison tool"},{key:"advancedFilters",label:"Advanced Filters",desc:"Enhanced search and filter options"},{key:"bulkOperations",label:"Bulk Operations",desc:"Bulk edit/delete for admin users"},{key:"productVariations",label:"Product Variations",desc:"Support for size, color, etc. variations"},{key:"inventoryTracking",label:"Inventory Tracking",desc:"Track product stock levels"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 text-green-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]}),"security"===r&&(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(hl,{className:"w-5 h-5 mr-2"}),"Authentication & Security"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password Policy"}),(0,ba.jsxs)("select",{value:i.passwordPolicy,onChange:e=>c("passwordPolicy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"weak",children:"Weak (6+ characters)"}),(0,ba.jsx)("option",{value:"medium",children:"Medium (8+ chars, mixed case)"}),(0,ba.jsx)("option",{value:"strong",children:"Strong (12+ chars, symbols)"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Session Timeout (minutes)"}),(0,ba.jsx)("input",{type:"number",value:i.sessionTimeout,onChange:e=>c("sessionTimeout",parseInt(e.target.value)),min:"15",max:"480",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ba.jsx)("div",{className:"mt-6 space-y-4",children:[{key:"twoFactorAuth",label:"Two-Factor Authentication",desc:"Require 2FA for enhanced security"},{key:"emailVerification",label:"Email Verification",desc:"Require email verification for new accounts"},{key:"contentModeration",label:"Content Moderation",desc:"Enable automatic content moderation"},{key:"autoSpamDetection",label:"Spam Detection",desc:"Automatically detect and filter spam"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 text-green-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})}),"performance"===r&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Vn,{className:"w-5 h-5 mr-2"}),"Performance Optimization"]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"cacheEnabled",label:"Enable Caching",desc:"Cache static resources for faster loading"},{key:"compressionEnabled",label:"Enable Compression",desc:"Compress files to reduce bandwidth"},{key:"lazyLoading",label:"Lazy Loading",desc:"Load images and content as needed"},{key:"performanceMonitoring",label:"Performance Monitoring",desc:"Track site performance metrics"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 text-green-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Ks,{className:"w-5 h-5 mr-2"}),"SEO & Analytics"]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Google Analytics ID"}),(0,ba.jsx)("input",{type:"text",value:i.googleAnalytics,onChange:e=>c("googleAnalytics",e.target.value),placeholder:"GA-XXXXXXXXX-X",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook Pixel ID"}),(0,ba.jsx)("input",{type:"text",value:i.facebookPixel,onChange:e=>c("facebookPixel",e.target.value),placeholder:"Enter Facebook Pixel ID",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ba.jsx)("div",{className:"space-y-4",children:[{key:"seoOptimization",label:"SEO Optimization",desc:"Enable automatic SEO optimizations"},{key:"sitemapGeneration",label:"Sitemap Generation",desc:"Automatically generate XML sitemap"},{key:"robotsTxt",label:"Robots.txt",desc:"Enable robots.txt file for search engines"},{key:"userBehaviorTracking",label:"User Behavior Tracking",desc:"Track user interactions and behavior"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 text-green-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]})]}),"communications"===r&&(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Es,{className:"w-5 h-5 mr-2"}),"Notification Systems"]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Send notifications via email"},{key:"pushNotifications",label:"Push Notifications",desc:"Browser push notifications"},{key:"smsNotifications",label:"SMS Notifications",desc:"Send SMS for critical updates"},{key:"inAppMessaging",label:"In-App Messaging",desc:"Built-in messaging system"},{key:"newsletterSystem",label:"Newsletter System",desc:"Email newsletter functionality"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 text-green-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})}),"notifications"===r&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Es,{className:"w-5 h-5 mr-2"}),"Active System Notifications"]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Real notifications currently active in the system. These are the actual notifications shown to users."}),(0,ba.jsx)("div",{className:"space-y-4",children:(0,ba.jsx)(Bl,{})})]}),(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Ys,{className:"w-5 h-5 mr-2"}),"Notification Settings"]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"notificationAutoHide",label:"Auto-hide Notifications",desc:"Automatically hide notifications after 5 seconds"},{key:"notificationSound",label:"Notification Sounds",desc:"Play sound for new notifications"},{key:"notificationPersist",label:"Persistent Notifications",desc:"Keep important notifications until dismissed"},{key:"notificationBadge",label:"Notification Badge",desc:"Show notification count badge"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 text-green-600"}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]}),"system"===r&&(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,ba.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(ul,{className:"w-5 h-5 mr-2"}),"System Configuration"]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Log Level"}),(0,ba.jsxs)("select",{value:i.logLevel,onChange:e=>c("logLevel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,ba.jsx)("option",{value:"error",children:"Error Only"}),(0,ba.jsx)("option",{value:"warn",children:"Warnings"}),(0,ba.jsx)("option",{value:"info",children:"Info"}),(0,ba.jsx)("option",{value:"debug",children:"Debug (Verbose)"})]})]}),(0,ba.jsx)("div",{className:"space-y-4",children:[{key:"maintenanceMode",label:"Maintenance Mode",desc:"Enable site maintenance mode",color:"red"},{key:"debugMode",label:"Debug Mode",desc:"Enable detailed error reporting",color:"yellow"},{key:"backupEnabled",label:"Automatic Backups",desc:"Schedule regular system backups",color:"green"},{key:"autoUpdates",label:"Auto Updates",desc:"Automatically install security updates",color:"blue"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,ba.jsx)("button",{onClick:()=>c(e.key,!i[e.key]),className:"mt-1",children:i[e.key]?(0,ba.jsx)(yl,{className:"w-6 h-6 ".concat("red"===e.color?"text-red-600":"yellow"===e.color?"text-yellow-600":"blue"===e.color?"text-blue-600":"text-green-600")}):(0,ba.jsx)(bl,{className:"w-6 h-6 text-gray-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]})]},e.key))})]})]})})]})]})}function Gl(e){let{showToast:t}=e;const[r,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("active"),[m,p]=(0,a.useState)([]),[x,f]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),[b,v]=(0,a.useState)(""),{allProducts:j}=fs();(0,a.useEffect)(()=>{w()},[]);const w=async()=>{try{l(!0),console.log("\ud83d\udd04 Fetching listings from backend...");const r=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/listings"));if(r.ok){const t=await r.json();console.log("\ud83d\udcca Backend listings response:",t);let a=[];Array.isArray(t)?a=t:t.listings&&Array.isArray(t.listings)&&(a=t.listings);let n=[];try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/orders"));if(e.ok)n=await e.json();else{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/orders/seller/admin"));e.ok&&(n=await e.json())}}catch(e){console.log("\u26a0\ufe0f Could not fetch orders data:",e)}const l=a.map((e,t)=>{var r;const a=n.filter(t=>t.listing_id===e.id&&"pending"===t.status).length;return{id:e.id||e._id||"backend-".concat(t),title:e.title,price:e.price,category:e.category||"Unknown",status:e.status||"active",seller:e.seller_id||"Unknown Seller",created_date:e.created_at?new Date(e.created_at).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],views:e.views||Math.floor(1e3*Math.random()),image:(null===(r=e.images)||void 0===r?void 0:r[0])||e.image,description:e.description,condition:e.condition||"New",location:e.location||"Unknown Location",pendingOrders:a}});console.log("\u2705 Successfully loaded",l.length,"listings from backend with pending orders data"),s(l)}else console.error("\u274c Backend fetch failed with status:",r.status),null===t||void 0===t||t("Failed to load listings from backend","error"),s([])}catch(r){console.error("\u274c Error fetching listings:",r),null===t||void 0===t||t("Error loading listings from backend","error"),s([])}finally{l(!1)}},k=r.filter(e=>{const t=!i||e.title.toLowerCase().includes(i.toLowerCase())||e.seller.toLowerCase().includes(i.toLowerCase());let r=!0;switch(u){case"active":r="active"===e.status||"approved"===e.status;break;case"pending":const t=e.pendingOrders&&e.pendingOrders>0;r="pending"===e.status||"awaiting_approval"===e.status||t;break;case"inactive":r="inactive"===e.status||"deactivated"===e.status||"paused"===e.status;break;case"sold":r="sold"===e.status||"completed"===e.status||"finished"===e.status;break;default:r=!0}return t&&r}),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("\ud83d\ude80 HANDLEBULKACTION CALLED!","Action:",e,"Selected:",m);const a=e||b;if(console.log("\ud83d\udd0d handleBulkAction called with:",a,"selectedListings:",m.length),!a||0===m.length)return console.log("\u274c Early return: no action or no selected listings"),void(null===t||void 0===t||t("No action selected or no listings selected","error"));try{if(console.log("\ud83d\udd0d Starting bulk action:",a),["activate","deactivate","delete","feature","unfeature","approve","reject"].includes(a)){console.log("\ud83d\udd0d Performing backend operations for:",m);const e=m.map(async e=>{const t=r.find(t=>t.id===e);if(!t)return console.log("\u274c Listing not found:",e),null;if(console.log("\ud83d\udd0d Processing listing:",e,"action:",a),"delete"===a){console.log("\ud83d\uddd1\ufe0f Deleting listing:",e);const t="".concat("https://tender-system.preview.emergentagent.com","/api/listings/").concat(e);console.log("\ud83d\udd0d Delete URL:",t);const r=await fetch(t,{method:"DELETE"});return console.log("\ud83d\udd0d Delete request completed for:",e,"Status:",r.status),r}{let r=Ie({},t);switch(a){case"activate":r.status="active";break;case"deactivate":r.status="inactive";break;case"feature":r.featured=!0;break;case"unfeature":r.featured=!1;break;case"approve":r.status="approved",r.approved=!0;break;case"reject":r.status="rejected",r.rejected=!0}return fetch("".concat("https://tender-system.preview.emergentagent.com","/api/listings/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}});console.log("\u23f3 Waiting for all operations to complete...");const t=await Promise.all(e);console.log("\u2705 All operations completed. Results:",t.map(e=>e?e.status:"null"));const s=t.filter(e=>e&&!e.ok);if(console.log("\ud83d\udd0d Failed operations count:",s.length),s.length>0)throw console.error("\u274c Failed operations:",s),new Error("".concat(s.length," operations failed"));console.log("\u2705 All operations successful, updating local state...")}switch(console.log("\ud83d\udd04 Updating local state for action:",a),a){case"activate":s(r.map(e=>m.includes(e.id)?Ie(Ie({},e),{},{status:"active"}):e)),null===t||void 0===t||t("".concat(m.length," listings activated"),"success");break;case"deactivate":s(r.map(e=>m.includes(e.id)?Ie(Ie({},e),{},{status:"inactive"}):e)),null===t||void 0===t||t("".concat(m.length," listings deactivated"),"success");break;case"delete":console.log("\ud83d\uddd1\ufe0f Executing delete case. Filtering out listings:",m);const e=r.length,n=r.filter(e=>!m.includes(e.id));console.log("\ud83d\udd0d Before: ".concat(e," listings, After: ").concat(n.length," listings")),s(n),null===t||void 0===t||t("".concat(m.length," listings deleted successfully"),"success"),console.log("\ud83d\udd04 Refreshing listings from backend after bulk delete..."),await w(),console.log("\u2705 Listings refreshed after bulk delete");break;case"feature":s(r.map(e=>m.includes(e.id)?Ie(Ie({},e),{},{featured:!0}):e)),null===t||void 0===t||t("".concat(m.length," listings featured"),"success");break;case"unfeature":s(r.map(e=>m.includes(e.id)?Ie(Ie({},e),{},{featured:!1}):e)),null===t||void 0===t||t("".concat(m.length," listings unfeatured"),"success");break;case"approve":s(r.map(e=>m.includes(e.id)?Ie(Ie({},e),{},{status:"approved",approved:!0}):e)),null===t||void 0===t||t("".concat(m.length," listings approved"),"success");break;case"reject":s(r.map(e=>m.includes(e.id)?Ie(Ie({},e),{},{status:"rejected",rejected:!0}):e)),null===t||void 0===t||t("".concat(m.length," listings rejected"),"success");break;case"duplicate":const l=m.map(async e=>{const t=r.find(t=>t.id===e),a=Ie(Ie({},t),{},{title:"".concat(t.title," (Copy)"),created_date:(new Date).toISOString().split("T")[0]});return delete a.id,fetch("".concat("https://tender-system.preview.emergentagent.com","/api/listings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})});await Promise.all(l),await w(),null===t||void 0===t||t("".concat(m.length," listings duplicated"),"success");break;case"export":null===t||void 0===t||t("".concat(m.length," listings exported"),"success");break;case"bulk-edit":null===t||void 0===t||t("Bulk edit mode activated for ".concat(m.length," listings"),"info");break;default:null===t||void 0===t||t("Unknown action: ".concat(a),"error")}p([]),v(""),console.log("\u2705 Bulk action completed successfully")}catch(n){console.error("\u274c Bulk action error:",n),null===t||void 0===t||t("Error performing bulk action: ".concat(n.message),"error")}},[_,S]=(0,a.useState)(!1),[C,E]=(0,a.useState)(null),[O,A]=(0,a.useState)([]),P=e=>{console.log("\ud83d\udd0d Requesting bulk action:",e,"for",m.length,"listings"),0!==m.length?["delete","reject"].includes(e)?(E(e),A([...m]),S(!0)):N(e):null===t||void 0===t||t("No listings selected","error")};return n?(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsx)("div",{className:"spinner"})}):(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsx)("div",{className:"cataloro-card-glass p-8",children:(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ba.jsxs)("div",{className:"text-center lg:text-left",children:[(0,ba.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:"Listings Management"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Comprehensive marketplace listings control center"})]}),(0,ba.jsxs)("div",{className:"flex justify-center lg:justify-end items-center space-x-4",children:[(0,ba.jsxs)("button",{onClick:async()=>{console.log("\ud83d\udd04 Refreshing listings..."),null===t||void 0===t||t("Refreshing listings...","info"),s([]),await w(),null===t||void 0===t||t("\u2705 Listings refreshed successfully","success")},className:"cataloro-button-secondary flex items-center px-4 py-3",title:"Refresh listings from server",children:[(0,ba.jsx)(Ps,{className:"w-5 h-5 mr-2"}),"Refresh"]}),(0,ba.jsxs)("button",{onClick:()=>f(!0),className:"cataloro-button-primary flex items-center px-6 py-3",children:[(0,ba.jsx)(ws,{className:"w-5 h-5 mr-2"}),"Create New Listing"]})]})]})}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ba.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ba.jsx)("div",{className:"p-4 bg-blue-100/80 dark:bg-blue-900/30 rounded-2xl backdrop-blur-md",children:(0,ba.jsx)(ws,{className:"w-8 h-8 text-blue-500"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:r.length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Listings"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ba.jsx)("div",{className:"p-4 bg-green-100/80 dark:bg-green-900/30 rounded-2xl backdrop-blur-md",children:(0,ba.jsx)(on,{className:"w-8 h-8 text-green-500"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:r.filter(e=>"active"===e.status).length}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Active"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ba.jsx)("div",{className:"p-4 bg-orange-100/80 dark:bg-orange-900/30 rounded-2xl backdrop-blur-md",children:(0,ba.jsx)(yn,{className:"w-8 h-8 text-orange-500"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:r.reduce((e,t)=>e+(t.views||0),0)}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Views"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6 text-center",children:(0,ba.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ba.jsx)("div",{className:"p-4 bg-red-100/80 dark:bg-red-900/30 rounded-2xl backdrop-blur-md",children:(0,ba.jsx)(ks,{className:"w-8 h-8 text-red-500"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:["\u20ac",r.reduce((e,t)=>e+(t.price||0),0).toLocaleString()]}),(0,ba.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Total Value"})]})]})})]}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between space-y-6 xl:space-y-0",children:[(0,ba.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Listings"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ba.jsx)("input",{type:"text",placeholder:"Search by title, seller, or category...",value:i,onChange:e=>o(e.target.value),className:"pl-10 cataloro-input w-full"})]})]}),(0,ba.jsx)("div",{className:"flex items-end space-x-4",children:(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,ba.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"cataloro-input w-auto min-w-[150px]",children:[(0,ba.jsx)("option",{value:"all",children:"All Status"}),(0,ba.jsx)("option",{value:"active",children:"Active"}),(0,ba.jsx)("option",{value:"inactive",children:"Inactive"})]})]})})]})}),m.length>0&&(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 border-2 border-green-200 dark:border-green-800 shadow-xl",children:[(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[(0,ba.jsx)("div",{className:"flex items-center space-x-4",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse"}),(0,ba.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[m.length," listing",1!==m.length?"s":""," selected"]}),(0,ba.jsx)("div",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-sm font-medium rounded-full",children:"Ready for management"})]})}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,ba.jsxs)("button",{onClick:()=>P("activate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Activate selected listings",children:[(0,ba.jsx)(on,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Activate"})]}),(0,ba.jsxs)("button",{onClick:()=>P("deactivate"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Deactivate selected listings",children:[(0,ba.jsx)(ol,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Deactivate"})]}),(0,ba.jsxs)("button",{onClick:()=>P("delete"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Delete selected listings",children:[(0,ba.jsx)(Rs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,ba.jsxs)("button",{onClick:()=>P("feature"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Feature selected listings",children:[(0,ba.jsx)(Sn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Feature"})]}),(0,ba.jsxs)("button",{onClick:()=>P("approve"),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",title:"Approve selected listings",children:[(0,ba.jsx)(Ns,{className:"w-4 h-4"}),(0,ba.jsx)("span",{className:"hidden sm:inline",children:"Approve"})]})]})]}),(0,ba.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-3",children:[(0,ba.jsxs)("button",{onClick:()=>N("reject"),className:"flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(Ls,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Reject"})]}),(0,ba.jsxs)("button",{onClick:()=>N("duplicate"),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(ws,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Duplicate"})]}),(0,ba.jsxs)("button",{onClick:()=>N("export"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(ml,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Export Selected"})]}),(0,ba.jsxs)("button",{onClick:()=>N("bulk-edit"),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(In,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Bulk Edit"})]}),(0,ba.jsxs)("button",{onClick:()=>p([]),className:"flex items-center space-x-2 px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(Ls,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Clear Selection"})]})]})})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass overflow-hidden",children:[(0,ba.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 dark:border-white/10",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Listings Management"}),(0,ba.jsxs)("span",{className:"bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-md",children:[k.length," results"]})]}),(0,ba.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100/50 dark:bg-gray-800/50 rounded-lg p-1",children:[{id:"active",label:"Active",count:r.filter(e=>"active"===e.status||"approved"===e.status).length,color:"green"},{id:"pending",label:"Pending",count:r.filter(e=>"pending"===e.status||"awaiting_approval"===e.status||e.pendingOrders&&e.pendingOrders>0).length,color:"yellow"},{id:"inactive",label:"Inactive",count:r.filter(e=>"inactive"===e.status||"deactivated"===e.status||"paused"===e.status).length,color:"gray"},{id:"sold",label:"Sold",count:r.filter(e=>"sold"===e.status||"completed"===e.status||"finished"===e.status).length,color:"blue"}].map(e=>(0,ba.jsxs)("button",{onClick:()=>{h(e.id),d(e.id)},className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(u===e.id?"".concat("green"===e.color?"bg-green-600 text-white":"yellow"===e.color?"bg-yellow-600 text-white":"gray"===e.color?"bg-gray-600 text-white":"bg-blue-600 text-white"," shadow-lg"):"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-700/50"),children:[(0,ba.jsx)("span",{children:e.label}),(0,ba.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(u===e.id?"bg-white/20 text-white":"".concat("green"===e.color?"bg-green-100 text-green-800":"yellow"===e.color?"bg-yellow-100 text-yellow-800":"gray"===e.color?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"," dark:bg-opacity-20")),children:e.count})]},e.id))})]}),"active"!==u&&(0,ba.jsx)("div",{className:"px-6 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-b border-blue-200/50 dark:border-blue-800/50",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("span",{className:"text-blue-800 dark:text-blue-300 text-sm font-medium",children:["Showing ",u," listings (",k.length," items)"]}),(0,ba.jsx)("button",{onClick:()=>{h("active"),d("active")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Show Active"})]})}),(0,ba.jsx)("div",{className:"max-w-full",children:(0,ba.jsxs)("table",{className:"w-full min-w-full",children:[(0,ba.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/50 backdrop-blur-sm",children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{className:"px-3 py-4 text-left w-12",children:(0,ba.jsx)("input",{type:"checkbox",checked:m.length===k.length&&k.length>0,onChange:e=>{return t=e.target.checked,void p(t?k.map(e=>e.id):[]);var t},className:"admin-checkbox"})}),(0,ba.jsx)("th",{className:"px-4 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider min-w-[280px]",children:"Listing Details"}),(0,ba.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Price"}),(0,ba.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-28",children:"Category"}),(0,ba.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-32",children:"Seller"}),(0,ba.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Status"}),(0,ba.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-20",children:"Views"}),(0,ba.jsx)("th",{className:"px-3 py-4 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider w-24",children:"Actions"})]})}),(0,ba.jsx)("tbody",{className:"divide-y divide-gray-200/50 dark:divide-gray-700/50",children:k.map(e=>{var a;return(0,ba.jsxs)("tr",{className:"group",children:[(0,ba.jsx)("td",{className:"px-3 py-4",children:(0,ba.jsx)("input",{type:"checkbox",checked:m.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void p(a?[...m,r]:m.filter(e=>e!==r));var r,a},className:"admin-checkbox"})}),(0,ba.jsx)("td",{className:"px-4 py-4",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center flex-shrink-0",children:e.image?(0,ba.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}):(0,ba.jsx)(ws,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ba.jsx)("h4",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",title:e.title,children:e.title}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.created_date})]})]})}),(0,ba.jsx)("td",{className:"px-3 py-4",children:(0,ba.jsxs)("span",{className:"text-lg font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent whitespace-nowrap",children:["\u20ac",e.price]})}),(0,ba.jsx)("td",{className:"px-3 py-4",children:(0,ba.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 backdrop-blur-md",children:e.category})}),(0,ba.jsx)("td",{className:"px-3 py-4",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,ba.jsx)("span",{className:"text-white font-medium text-xs",children:(null===(a=e.seller)||void 0===a?void 0:a.charAt(0))||"U"})}),(0,ba.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-medium truncate",title:e.seller,children:e.seller})]})}),(0,ba.jsx)("td",{className:"px-3 py-4",children:(0,ba.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium backdrop-blur-md ".concat("active"===e.status?"bg-green-100/80 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100/80 dark:bg-red-900/30 text-red-800 dark:text-red-300"),children:"active"===e.status?"ACTIVE":"INACTIVE"})}),(0,ba.jsx)("td",{className:"px-3 py-4",children:(0,ba.jsx)("div",{className:"flex items-center justify-center",children:(0,ba.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.views})})}),(0,ba.jsx)("td",{className:"px-3 py-4",children:(0,ba.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,ba.jsx)("button",{onClick:()=>y(e),className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded hover:bg-blue-50/50 dark:hover:bg-blue-900/20",title:"Edit listing",children:(0,ba.jsx)(In,{className:"w-3.5 h-3.5"})}),(0,ba.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{console.log("\ud83d\uddd1\ufe0f Deleting individual listing:",e);const a="".concat("https://tender-system.preview.emergentagent.com","/api/listings/").concat(e);console.log("\ud83d\udd0d Delete URL:",a);const n=await fetch(a,{method:"DELETE"});if(!n.ok)throw new Error("Failed to delete listing: ".concat(n.status));console.log("\u2705 Backend delete successful for listing:",e),s(r.filter(t=>t.id!==e)),null===t||void 0===t||t("Listing deleted successfully","success")}catch(a){console.error("\u274c Error deleting listing:",a),null===t||void 0===t||t("Failed to delete listing: ".concat(a.message),"error")}})(e.id),className:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded hover:bg-red-50/50 dark:hover:bg-red-900/20",title:"Delete listing",children:(0,ba.jsx)(Rs,{className:"w-3.5 h-3.5"})})]})})]},e.id)})})]})}),0===k.length&&(0,ba.jsxs)("div",{className:"text-center py-16",children:[(0,ba.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-gray-400/20 to-gray-500/20 dark:from-gray-600/20 dark:to-gray-700/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(ws,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"No listings found"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:i?"Try adjusting your search terms":"Create your first listing to get started"}),(0,ba.jsx)("button",{onClick:()=>f(!0),className:"cataloro-button-primary",children:"Create New Listing"})]})]}),(x||g)&&(0,ba.jsx)($l,{listing:g,onSave:g?e=>{s(r.map(t=>t.id===g.id?Ie(Ie({},t),e):t)),y(null),null===t||void 0===t||t("Listing updated successfully","success")}:e=>{const a=Ie(Ie({id:"new-".concat(Date.now())},e),{},{created_date:(new Date).toISOString().split("T")[0],views:0,status:"active"});s([a,...r]),f(!1),null===t||void 0===t||t("Listing created successfully","success")},onClose:()=>{f(!1),y(null)}}),_&&(0,ba.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md mx-4 shadow-2xl",children:(0,ba.jsxs)("div",{className:"p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ba.jsx)("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:"delete"===C?(0,ba.jsx)(Rs,{className:"w-6 h-6 text-red-600 dark:text-red-400"}):(0,ba.jsx)(dn,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Confirm ","delete"===C?"Deletion":"Action"]}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This action cannot be undone"})]})]}),(0,ba.jsxs)("div",{className:"mb-6",children:[(0,ba.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to ",(0,ba.jsx)("span",{className:"font-semibold text-red-600 dark:text-red-400",children:C})," these"," ",(0,ba.jsx)("span",{className:"font-semibold",children:O.length})," listing",1!==O.length?"s":"","?"]}),"delete"===C&&(0,ba.jsx)("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:(0,ba.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ba.jsx)(dn,{className:"w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,ba.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:[(0,ba.jsx)("strong",{children:"Warning:"})," Deleted listings will be permanently removed from the marketplace and cannot be recovered."]})]})})]}),(0,ba.jsxs)("div",{className:"flex space-x-3",children:[(0,ba.jsx)("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 rounded-xl font-medium transition-colors",children:"Cancel"}),(0,ba.jsx)("button",{onClick:async()=>{if(console.log("\ud83d\ude80 EXECUTING confirmed bulk action:",C),console.log("\ud83d\udd0d Listings to process:",O),S(!1),C&&O.length>0){console.log("\ud83c\udfaf Calling handleBulkAction directly with confirmed listings");p(O),await N(C),E(null),A([])}else console.log("\u274c No confirmAction or confirmListings")},className:"flex-1 px-4 py-3 text-white rounded-xl font-medium transition-colors ".concat("delete"===C?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"),children:"delete"===C?"Delete Forever":"Confirm ".concat(C)})]})]})})})]})}function $l(e){let{listing:t,onSave:r,onClose:s}=e;const[n,l]=(0,a.useState)({title:(null===t||void 0===t?void 0:t.title)||"",price:(null===t||void 0===t?void 0:t.price)||"",category:(null===t||void 0===t?void 0:t.category)||"Catalysts",description:(null===t||void 0===t?void 0:t.description)||"",condition:(null===t||void 0===t?void 0:t.condition)||"New",location:(null===t||void 0===t?void 0:t.location)||"",seller:(null===t||void 0===t?void 0:t.seller)||"",image:(null===t||void 0===t?void 0:t.image)||""}),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{b(),v()},[]);const b=async()=>{try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/data"));if(e.ok){const t=await e.json();o(t)}}catch(e){console.error("Failed to fetch catalyst data:",e)}},v=async()=>{try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Failed to fetch calculations:",e)}},j=e=>{const t=(e=>{const t=c.find(t=>t.cat_id===e);return(null===t||void 0===t?void 0:t.total_price)||null})(e);if(!t)return null;const r=.9*t,a=1.1*t;return{basePrice:parseFloat(t),minPrice:parseFloat(r.toFixed(2)),maxPrice:parseFloat(a.toFixed(2))}};return(0,ba.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(ws,{className:"w-6 h-6 mr-2 text-blue-600"}),t?"Edit Listing":"Create New Listing",x&&(0,ba.jsxs)("span",{className:"ml-3 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:["Catalyst: ",x.cat_id]})]}),(0,ba.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ba.jsx)(Ls,{className:"w-6 h-6"})})]})}),(0,ba.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(Ie(Ie({},n),{},{catalyst_id:(null===x||void 0===x?void 0:x.cat_id)||null}))},className:"p-6 space-y-6",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title",(0,ba.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search Cat Database)"})]}),(0,ba.jsx)("input",{type:"text",required:!0,value:n.title,onChange:e=>{const t=e.target.value;if(l(Ie(Ie({},n),{},{title:t})),t.length>0){const e=i.filter(e=>{var r,a,s;const n=t.toLowerCase();return(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(a=e.cat_id)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(s=e.add_info)||void 0===s?void 0:s.toLowerCase().includes(n))}).slice(0,10);h(e),p(e.length>0)}else h([]),p(!1)},onFocus:()=>n.title&&p(u.length>0),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"Start typing catalyst name or ID..."}),m&&(0,ba.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-80 overflow-y-auto",children:[(0,ba.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:(0,ba.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(bn,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cat Database Matches (",u.length,")"]})}),u.map(e=>{const t=j(e.cat_id);return(0,ba.jsx)("div",{onClick:()=>(e=>{f(e),console.log("Admin - Selected catalyst:",e),console.log("Admin - Catalyst add_info:",e.add_info);let t="Catalyst: ".concat(e.name,"\n\nSpecifications:\n- Ceramic Weight: ").concat(e.ceramic_weight,"g\n\nProfessional grade catalyst suitable for automotive and industrial applications.");e.add_info&&e.add_info.trim()?(console.log("Admin - Adding add_info to description:",e.add_info),t+="\n\nAdditional Information:\n".concat(e.add_info)):console.log("Admin - No add_info available or empty:",e.add_info),console.log("Admin - Final description:",t),l(Ie(Ie({},n),{},{title:e.name||e.cat_id,category:"Catalysts",description:t})),p(!1)})(e),className:"p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors duration-200",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsx)("div",{className:"flex items-center space-x-2",children:(0,ba.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})}),(0,ba.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:(0,ba.jsxs)("span",{children:["Weight: ",e.ceramic_weight,"g"]})})]}),t&&(0,ba.jsxs)("div",{className:"ml-4 text-right",children:[(0,ba.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["\u20ac",t.minPrice.toFixed(2)," - \u20ac",t.maxPrice.toFixed(2)]}),(0,ba.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Market Range"})]})]})},e.cat_id)})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Price",x&&(0,ba.jsx)("span",{className:"text-green-600 dark:text-green-400 text-xs ml-2",children:"(Auto-filled from calculation)"})]}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 text-lg",children:"$"}),(0,ba.jsx)("input",{type:"number",step:"0.01",required:!0,value:n.price,onChange:e=>l(Ie(Ie({},n),{},{price:e.target.value})),className:"w-full pl-8 pr-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]})]}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Seller"}),(0,ba.jsx)("input",{type:"text",required:!0,value:n.seller,onChange:e=>l(Ie(Ie({},n),{},{seller:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Seller name"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,ba.jsx)("input",{type:"text",value:n.location,onChange:e=>l(Ie(Ie({},n),{},{location:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"City, State"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image URL"}),(0,ba.jsx)("input",{type:"url",value:n.image,onChange:e=>l(Ie(Ie({},n),{},{image:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Description",x&&(0,ba.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Auto-generated from catalyst data)"})]}),(0,ba.jsx)("textarea",{rows:6,value:n.description,onChange:e=>l(Ie(Ie({},n),{},{description:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe your item..."})]}),x&&(0,ba.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:[(0,ba.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2 flex items-center",children:[(0,ba.jsx)(bn,{className:"w-4 h-4 mr-2"}),"Selected Catalyst: ",x.name]}),(0,ba.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),(0,ba.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:x.name})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Weight:"}),(0,ba.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:[x.ceramic_weight,"g"]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Market Range:"}),(0,ba.jsx)("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:j(x.cat_id)?(0,ba.jsxs)(ba.Fragment,{children:["\u20ac",j(x.cat_id).minPrice.toFixed(2)," - \u20ac",j(x.cat_id).maxPrice.toFixed(2)]}):"N/A"})]})]})]}),(0,ba.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,ba.jsx)("button",{type:"button",onClick:s,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,ba.jsxs)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors flex items-center",children:[(0,ba.jsx)(ws,{className:"w-4 h-4 mr-2"}),t?"Update Listing":"Create Listing"]})]})]})]})})}function Jl(e){let{showToast:t}=e;const[r,s]=(0,a.useState)("data"),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)({pt_price:25,pd_price:18,rh_price:45,renumeration_pt:.95,renumeration_pd:.92,renumeration_rh:.88}),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),j=[{id:"data",label:"Data",icon:bn},{id:"calculations",label:"Price Calculations",icon:ks},{id:"basis",label:"Basis",icon:Ys}];(0,a.useEffect)(()=>{w(),k(),N()},[]);const w=async()=>{try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/data"));if(e.ok){const t=await e.json();l(t)}}catch(e){console.error("Failed to fetch catalyst data:",e)}},k=async()=>{try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/price-settings"));if(e.ok){const t=await e.json();o(t)}}catch(e){console.error("Failed to fetch price settings:",e)}},N=async()=>{try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/calculations"));if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Failed to fetch calculations:",e)}};return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsx)("div",{className:"cataloro-card-glass p-6",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Cat Database"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Catalyst database management and price calculations"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("button",{onClick:async()=>{if(!window.confirm("\u26a0\ufe0f WARNING: This will permanently delete ALL catalyst data from the database.\n\nThis includes:\n\u2022 All catalyst records\n\u2022 All price overrides\n\u2022 All calculations\n\nThis action CANNOT be undone!\n\nAre you absolutely sure you want to proceed?"))return;if(!window.confirm("FINAL CONFIRMATION:\n\nType DELETE in the next prompt to confirm database deletion."))return;if("DELETE"===prompt('Please type "DELETE" to confirm (case sensitive):'))try{h(!0);const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/database"),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to delete database");{const r=await e.json();t("\u2705 Database deleted successfully! Removed ".concat(r.deleted_records," catalyst records and ").concat(r.deleted_overrides," overrides."),"success"),l([]),d([]),await w(),await N()}}catch(e){t("\u274c Failed to delete catalyst database","error"),console.error("Delete database error:",e)}finally{h(!1)}else t("Database deletion cancelled - confirmation text did not match","info")},disabled:u||0===n.length,className:"cataloro-button-danger flex items-center disabled:opacity-50 disabled:cursor-not-allowed",title:0===n.length?"No data to delete":"Delete entire catalyst database",children:[(0,ba.jsx)(Rs,{className:"w-5 h-5 mr-2"}),"Delete Database"]}),(0,ba.jsxs)("label",{className:"cataloro-button-primary cursor-pointer",children:[(0,ba.jsx)(zn,{className:"w-5 h-5 mr-2"}),m?"Uploading...":"Upload Excel",(0,ba.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:async e=>{const r=e.target.files[0];if(r){p(!0);try{const e=new FormData;e.append("file",r);const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/upload"),{method:"POST",body:e});if(!a.ok)throw new Error("Upload failed");{const e=await a.json();t("Successfully uploaded ".concat(e.count," catalyst records"),"success"),await w(),await N()}}catch(a){t("Failed to upload Excel file","error"),console.error("Upload error:",a)}finally{p(!1),e.target.value=""}}},className:"hidden",disabled:m})]})]})]})}),(0,ba.jsxs)("div",{className:"cataloro-card-glass",children:[(0,ba.jsx)("div",{className:"border-b border-gray-200/50 dark:border-gray-700/50",children:(0,ba.jsx)("div",{className:"flex space-x-8 px-6",children:j.map(e=>{const t=e.icon;return(0,ba.jsxs)("button",{onClick:()=>s(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors ".concat(r===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,ba.jsx)(t,{className:"w-5 h-5"}),(0,ba.jsx)("span",{children:e.label})]},e.id)})})}),"data"===r&&(0,ba.jsxs)("div",{className:"p-6",children:[(0,ba.jsxs)("div",{className:"mb-4",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Catalyst Data"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Click on any cell to edit. The add_info field will be used in listing descriptions."})]}),n.length>0?(0,ba.jsx)("div",{className:"overflow-x-auto",children:(0,ba.jsxs)("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ba.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Cat ID"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Ceramic Weight"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pt PPM"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Pd PPM"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Rh PPM"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Add Info"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),(0,ba.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(e=>(0,ba.jsx)(Yl,{catalyst:e,isEditing:b===e.id,onEdit:()=>v(e.id),onSave:r=>(async(e,r)=>{try{(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/data/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(t("Catalyst data updated successfully","success"),await w(),await N(),v(null))}catch(a){t("Failed to update catalyst data","error"),console.error("Update error:",a)}})(e.id,r),onCancel:()=>v(null)},e.id))})]})}):(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)(bn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Data Available"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload an Excel file to populate the catalyst database."})]})]}),"calculations"===r&&(0,ba.jsxs)("div",{className:"p-6",children:[(0,ba.jsxs)("div",{className:"mb-4",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Price Calculations"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Calculated prices based on metal content and current market prices."})]}),c.length>0?(0,ba.jsx)("div",{className:"overflow-x-auto",children:(0,ba.jsxs)("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,ba.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Database ID"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Cat ID"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Total Price (\u20ac)"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),(0,ba.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),(0,ba.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:c.map(e=>(0,ba.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-mono text-xs",children:e.database_id||e._id}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-semibold",children:e.cat_id}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:e.name}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ba.jsxs)("span",{className:"font-semibold ".concat(e.is_override?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"),children:["\u20ac",e.total_price.toFixed(2)]})}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ba.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_override?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.is_override?"Override":"Standard"})}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/reset/").concat(e),{method:"POST"})).ok&&(t("Price reset to standard calculation","success"),await N())}catch(r){t("Failed to reset price","error"),console.error("Reset error:",r)}})(e._id),className:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded dark:bg-blue-900/30 dark:text-blue-300",children:"Reset"}),(0,ba.jsx)("button",{onClick:()=>{y(e),f(!0)},className:"px-3 py-1 text-xs bg-orange-100 hover:bg-orange-200 text-orange-800 rounded dark:bg-orange-900/30 dark:text-orange-300",children:"Override"})]})})]},e._id))})]})}):(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)(ks,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Calculations Available"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload catalyst data and configure price settings first."})]})]}),"basis"===r&&(0,ba.jsxs)("div",{className:"p-6",children:[(0,ba.jsxs)("div",{className:"mb-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Price Calculation Basis"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Configure the base prices and renumeration factors for price calculations."})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Metal Prices (\u20ac/g)"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pt Price (\u20ac/g)"}),(0,ba.jsx)("input",{type:"number",step:"0.01",value:i.pt_price,onChange:e=>o(Ie(Ie({},i),{},{pt_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pd Price (\u20ac/g)"}),(0,ba.jsx)("input",{type:"number",step:"0.01",value:i.pd_price,onChange:e=>o(Ie(Ie({},i),{},{pd_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rh Price (\u20ac/g)"}),(0,ba.jsx)("input",{type:"number",step:"0.01",value:i.rh_price,onChange:e=>o(Ie(Ie({},i),{},{rh_price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white",children:"Renumeration Factors"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Pt"}),(0,ba.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:i.renumeration_pt,onChange:e=>o(Ie(Ie({},i),{},{renumeration_pt:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Pd"}),(0,ba.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:i.renumeration_pd,onChange:e=>o(Ie(Ie({},i),{},{renumeration_pd:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Renumeration Rh"}),(0,ba.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:i.renumeration_rh,onChange:e=>o(Ie(Ie({},i),{},{renumeration_rh:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),(0,ba.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("button",{onClick:async()=>{try{(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/price-settings"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok&&(t("Price settings updated successfully","success"),await N())}catch(e){t("Failed to update price settings","error"),console.error("Update error:",e)}},className:"cataloro-button-primary",children:[(0,ba.jsx)(Kn,{className:"w-5 h-5 mr-2"}),"Update Price Settings"]})})]})]}),x&&g&&(0,ba.jsx)(Ql,{catalyst:g,onSave:async(e,r)=>{try{(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/catalyst/override/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({catalyst_id:e,override_price:parseFloat(r),is_override:!0})})).ok&&(t("Price override set successfully","success"),await N(),f(!1))}catch(a){t("Failed to set price override","error"),console.error("Override error:",a)}},onClose:()=>{f(!1),y(null)}})]})}function Yl(e){let{catalyst:t,isEditing:r,onEdit:s,onSave:n,onCancel:l}=e;const[i,o]=(0,a.useState)({cat_id:t.cat_id,name:t.name,ceramic_weight:t.ceramic_weight,pt_ppm:t.pt_ppm,pd_ppm:t.pd_ppm,rh_ppm:t.rh_ppm,add_info:t.add_info||""}),c=()=>{n(i)};return r?(0,ba.jsxs)("tr",{className:"bg-blue-50 dark:bg-blue-900/20",children:[(0,ba.jsx)("td",{className:"px-4 py-3",children:(0,ba.jsx)("input",{type:"text",value:i.cat_id,onChange:e=>o(Ie(Ie({},i),{},{cat_id:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ba.jsx)("td",{className:"px-4 py-3",children:(0,ba.jsx)("input",{type:"text",value:i.name,onChange:e=>o(Ie(Ie({},i),{},{name:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ba.jsx)("td",{className:"px-4 py-3",children:(0,ba.jsx)("input",{type:"number",step:"0.01",value:i.ceramic_weight,onChange:e=>o(Ie(Ie({},i),{},{ceramic_weight:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ba.jsx)("td",{className:"px-4 py-3",children:(0,ba.jsx)("input",{type:"number",step:"0.1",value:i.pt_ppm,onChange:e=>o(Ie(Ie({},i),{},{pt_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ba.jsx)("td",{className:"px-4 py-3",children:(0,ba.jsx)("input",{type:"number",step:"0.1",value:i.pd_ppm,onChange:e=>o(Ie(Ie({},i),{},{pd_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ba.jsx)("td",{className:"px-4 py-3",children:(0,ba.jsx)("input",{type:"number",step:"0.1",value:i.rh_ppm,onChange:e=>o(Ie(Ie({},i),{},{rh_ppm:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border rounded"})}),(0,ba.jsx)("td",{className:"px-4 py-3",children:(0,ba.jsx)("textarea",{value:i.add_info,onChange:e=>o(Ie(Ie({},i),{},{add_info:e.target.value})),className:"w-full px-2 py-1 text-sm border rounded resize-none",rows:"2",placeholder:"Additional info for listings..."})}),(0,ba.jsx)("td",{className:"px-4 py-3",children:(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsx)("button",{onClick:c,className:"px-2 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-800 rounded",children:(0,ba.jsx)(Kn,{className:"w-4 h-4"})}),(0,ba.jsx)("button",{onClick:l,className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]})})]}):(0,ba.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-mono",children:t.cat_id}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.name}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.ceramic_weight}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.pt_ppm}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.pd_ppm}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.rh_ppm}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400 max-w-xs",children:(0,ba.jsx)("div",{className:"truncate",title:t.add_info||"No additional info",children:t.add_info||"-"})}),(0,ba.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,ba.jsx)("button",{onClick:s,className:"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded dark:bg-blue-900/30 dark:text-blue-300",children:(0,ba.jsx)(In,{className:"w-4 h-4"})})})]})}function Ql(e){let{catalyst:t,onSave:r,onClose:s}=e;const[n,l]=(0,a.useState)("");return(0,ba.jsx)("div",{className:"modal-overlay",children:(0,ba.jsxs)("div",{className:"modal-content max-w-md",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ba.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Override Price for Catalyst"}),(0,ba.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,ba.jsx)(Ls,{className:"w-6 h-6"})})]}),(0,ba.jsxs)("div",{className:"mb-4",children:[(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)("strong",{children:"ID:"})," ",t._id]}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)("strong",{children:"Name:"})," ",t.name]}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,ba.jsx)("strong",{children:"Current Price:"})," \u20ac",t.total_price.toFixed(2)]})]}),(0,ba.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n&&parseFloat(n)>0&&r(t._id,n)},className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Override Price (\u20ac)"}),(0,ba.jsx)("input",{type:"number",step:"0.01",min:"0",value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter new price",required:!0})]}),(0,ba.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ba.jsx)("button",{type:"button",onClick:s,className:"cataloro-button-secondary",children:"Cancel"}),(0,ba.jsx)("button",{type:"submit",className:"cataloro-button-primary",children:"Set Override"})]})]})]})})}const Zl=function(){const[e,t]=(0,a.useState)("dashboard"),[r,s]=(0,a.useState)(null),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)({}),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(""),{isAdmin:x}=Aa(),{allProducts:f,cartItems:g,favorites:y,notifications:b}=fs(),{showToast:v}=Ha(),j=()=>{const e=f.length,t=g.length,r=y.length,a=f.reduce((e,t)=>e+(t.views||0),0),s=f.reduce((e,t)=>e+(t.price||0),0),n=f.reduce((e,t)=>e+(t.rating||0),0)/e;return{total_users:156,total_products:e,active_products:f.filter(e=>!1!==e.inStock).length,total_views:a,cart_items:t,favorites_count:r,total_revenue:s,average_rating:n||0,growth_rate:12.5,notifications_count:b.length}};(0,a.useEffect)(()=>{x()&&(w(),"users"===e?N():"settings"===e&&_())},[e,x]);const w=async()=>{try{d(!0);const e=await wl.getDashboard(),t=j();s({kpis:Ie(Ie({},null===e||void 0===e?void 0:e.kpis),t),recent_activity:(null===e||void 0===e?void 0:e.recent_activity)||k()})}catch(e){v("Failed to load dashboard data, showing local data","warning");const t=j();s({kpis:t,recent_activity:k()})}finally{d(!1)}},k=()=>[{action:"".concat(f.length," products currently active"),timestamp:new Date},{action:"".concat(g.length," items in shopping carts"),timestamp:new Date(Date.now()-3e5)},{action:"".concat(y.length," items in wishlists"),timestamp:new Date(Date.now()-6e5)},{action:"".concat(b.length," notifications sent today"),timestamp:new Date(Date.now()-9e5)},{action:"System performance: Excellent",timestamp:new Date(Date.now()-12e5)}],N=async()=>{try{const e=await wl.getAllUsers();l(e)}catch(e){v("Failed to load users","error"),l([{id:"1",username:"johndoe",email:"john@example.com",full_name:"John Doe",role:"user",is_active:!0,created_at:(new Date).toISOString()},{id:"2",username:"admin",email:"admin@cataloro.com",full_name:"Admin User",role:"admin",is_active:!0,created_at:(new Date).toISOString()}])}},_=async()=>{try{const e=await wl.getSettings();o(e),e&&localStorage.setItem("cataloro_site_branding",JSON.stringify(e))}catch(e){v("Failed to load settings","error");const t={site_name:"Cataloro",site_description:"Modern Marketplace Platform",logo_url:"/assets/logo.png",logo_light_url:"",logo_dark_url:"",theme_color:"#3B82F6",allow_registration:!0,require_approval:!1};o(t),localStorage.setItem("cataloro_site_branding",JSON.stringify(t))}};if(!x())return(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ba.jsx)(ol,{className:"w-8 h-8 text-red-500"})}),(0,ba.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),(0,ba.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access the admin panel"})]});const S=[{id:"dashboard",label:"Dashboard",shortLabel:"Dashboard",icon:$s},{id:"users",label:"User Management",shortLabel:"Users",icon:cl},{id:"listings",label:"Listings Management",shortLabel:"Listings",icon:ws},{id:"business",label:"Business",shortLabel:"Business",icon:js},{id:"cat-database",label:"Cat Database",shortLabel:"Cats",icon:bn},{id:"settings",label:"Site Settings",shortLabel:"Settings",icon:Ys},{id:"site-admin",label:"Site Administration",shortLabel:"Admin",icon:Ns}];return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsx)("div",{className:"space-y-6",children:(0,ba.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Admin Panel"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Full control over your marketplace platform"})]}),(0,ba.jsx)("span",{className:"bg-purple-100/80 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-md",children:"ADMIN ACCESS"})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass",children:(0,ba.jsx)("div",{className:"border-b border-white/10 dark:border-white/10",children:(0,ba.jsx)("nav",{className:"-mb-px",children:(0,ba.jsx)("div",{className:"flex justify-between px-2 lg:px-4 xl:px-6",children:S.map(r=>{const a=r.icon,s=e===r.id;return(0,ba.jsxs)("button",{onClick:()=>t(r.id),className:"admin-tab-button flex flex-col sm:flex-row items-center justify-center px-1 sm:px-2 lg:px-3 py-2 lg:py-3 text-xs lg:text-sm font-medium border-b-2 transition-all duration-200 flex-1 ".concat(s?"active text-gray-900 dark:text-white border-blue-600 bg-white/10 dark:bg-white/10 backdrop-blur-md rounded-t-lg":"text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-white hover:bg-white/5 dark:hover:bg-white/5 rounded-t-lg"),title:r.label,children:[(0,ba.jsx)(a,{className:"w-4 h-4 lg:w-5 lg:h-5 mb-1 sm:mb-0 sm:mr-1 lg:mr-2 flex-shrink-0"}),(0,ba.jsxs)("span",{className:"text-xs sm:text-xs lg:text-sm leading-tight text-center sm:text-left",children:[(0,ba.jsx)("span",{className:"hidden xl:inline",children:r.label}),(0,ba.jsx)("span",{className:"xl:hidden",children:r.shortLabel})]})]},r.id)})})})})}),"dashboard"===e&&(0,ba.jsx)(zl,{dashboardData:r,loading:c}),"users"===e&&(0,ba.jsx)(Hl,{users:n,onUpdateUser:N,showToast:v}),"listings"===e&&(0,ba.jsx)(Gl,{showToast:v}),"business"===e&&(0,ba.jsx)(Ul,{showToast:v}),"cat-database"===e&&(0,ba.jsx)(Jl,{showToast:v}),"settings"===e&&(0,ba.jsx)(Wl,{settings:i,onUpdateSettings:_,showToast:v}),"site-admin"===e&&(0,ba.jsx)(Kl,{showToast:v})]})};function Xl(e){var t,r,s;let{item:n,onRemove:l,onAddToCart:i,onNavigate:o}=e;const[c,d]=(0,a.useState)(0),[u,h]=(0,a.useState)(!1),m=(e,t)=>{e.stopPropagation(),t()};return(0,ba.jsxs)("div",{className:"group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer hover:-translate-y-2",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:()=>{o("/product/".concat(n.id))},children:[(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("img",{src:(null===(t=n.images)||void 0===t?void 0:t[c])||(null===(r=n.images)||void 0===r?void 0:r[0])||"/api/placeholder/400/300",alt:n.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105",onClick:e=>{e.stopPropagation(),n.images&&n.images.length>1&&d(e=>(e+1)%n.images.length)}}),n.images&&n.images.length>1&&(0,ba.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:n.images.map((e,t)=>(0,ba.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===c?"bg-white":"bg-white/50")},t))}),(0,ba.jsx)("div",{className:"absolute top-2 left-2",children:(0,ba.jsx)("span",{className:"inline-block bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"\u2764\ufe0f Favorite"})}),(0,ba.jsx)("div",{className:"absolute top-2 right-2 transition-opacity duration-200 ".concat(u?"opacity-100":"opacity-0"),children:(0,ba.jsx)("button",{onClick:e=>m(e,()=>l(n.id)),className:"p-2 bg-white/90 dark:bg-gray-800/90 rounded-full shadow-sm transition-all duration-200 text-red-500 hover:text-red-600",children:(0,ba.jsx)(Ss,{className:"w-5 h-5 fill-current"})})}),n.favorited_at&&(0,ba.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:["Added ",new Date(n.favorited_at).toLocaleDateString()]})]}),(0,ba.jsxs)("div",{className:"p-4",children:[(0,ba.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,ba.jsx)("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors line-clamp-2",children:n.title})}),(0,ba.jsx)("div",{className:"flex items-center space-x-2 mb-3",children:(0,ba.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",(parseFloat(n.price)||0).toFixed(2)]})}),n.rating&&(0,ba.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,ba.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((e,t)=>(0,ba.jsx)(Sn,{className:"w-4 h-4 ".concat(t<Math.floor(parseFloat(n.rating)||0)?"text-yellow-400 fill-current":"text-gray-300")},t))}),(0,ba.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[parseFloat(n.rating).toFixed(1)," (",n.reviews||n.review_count||"0"," reviews)"]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,ba.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,ba.jsx)("span",{className:"text-white text-xs font-bold",children:"string"===typeof n.seller&&n.seller.length>0?n.seller.charAt(0).toUpperCase():"object"===typeof n.seller&&null!==(x=n.seller)&&void 0!==x&&x.name?n.seller.name.charAt(0).toUpperCase():n.seller_id?n.seller_id.charAt(0).toUpperCase():"S"})}),(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"string"===typeof n.seller?n.seller:"object"===typeof n.seller&&null!==(p=n.seller)&&void 0!==p&&p.name?n.seller.name:n.seller_id?n.seller_id:"Unknown Seller"}),("object"===typeof n.seller&&(null===(s=n.seller)||void 0===s?void 0:s.verified)||n.verified)&&(0,ba.jsx)("span",{className:"text-blue-500 text-xs",children:"\u2713 Verified"})]}),(0,ba.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 space-y-1",children:[n.location&&(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(en,{className:"w-4 h-4 mr-1"}),n.location]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsx)("span",{className:"inline-block bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded-full",children:n.category}),(0,ba.jsxs)("span",{className:"text-xs",children:["Condition: ",n.condition]})]})]}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsxs)("button",{onClick:e=>m(e,()=>i(n)),className:"flex-1 flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(Cs,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Add to Cart"})]}),(0,ba.jsx)("button",{onClick:e=>m(e,()=>{}),className:"px-4 py-2.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,ba.jsx)(_s,{className:"w-4 h-4"})}),(0,ba.jsx)("button",{onClick:e=>m(e,()=>l(n.id)),className:"px-4 py-2.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:(0,ba.jsx)(Rs,{className:"w-4 h-4"})})]})]})]});var p,x}const ei=function(){const{user:e}=Aa(),{showToast:t}=Ha(),r=te(),{favorites:s,removeFromFavorites:n,addToCart:l,loadUserFavorites:i,isLoading:o}=fs();(0,a.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&i(e.id)},[null===e||void 0===e?void 0:e.id,i]);const c=async r=>{try{await n(r,e.id),t("Removed from favorites","success")}catch(a){t("Failed to remove from favorites","error")}},d=async r=>{try{await l(r,e.id),t("Added ".concat(r.title," to cart!"),"success")}catch(a){t("Failed to add to cart","error")}};return o?(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your favorites..."})]})}):(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-2xl p-8",children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"My Favorites"}),(0,ba.jsx)("p",{className:"text-xl opacity-90",children:"Items you've saved for later"}),s.length>0&&(0,ba.jsxs)("p",{className:"text-lg opacity-80 mt-2",children:["You have ",s.length," favorite items"]})]}),0===s.length?(0,ba.jsxs)("div",{className:"text-center py-16",children:[(0,ba.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(Ss,{className:"w-8 h-8 text-gray-400"})}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No favorites yet"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start browsing and save items you love"}),(0,ba.jsx)(Pe,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Browse Marketplace"})]}):(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(e=>(0,ba.jsx)(Xl,{item:e,onRemove:c,onAddToCart:d,onNavigate:r},e.id))})]})};const ti=function(){const{user:e}=Aa(),[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)([]),[p,x]=(0,a.useState)(!1),[f,g]=(0,a.useState)(0),y=async()=>{if(null!==e&&void 0!==e&&e.id){n(!0);try{const t=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/notifications/").concat(e.id));if(!t.ok)throw new Error("Failed to fetch notifications: ".concat(t.status));{const e=await t.json();console.log("Fetched real notifications:",e),r(e||[]),g(e.filter(e=>!e.is_read).length)}}catch(t){console.error("Failed to load real notifications:",t);const e=[{id:"1",title:"New Message from Sarah",message:"Hi! Is your MacBook Pro still available? I'm very interested.",type:"message",is_read:!1,priority:"high",user_avatar:"/api/placeholder/40/40",created_at:new Date(Date.now()-3e5).toISOString(),action_url:"/messages",metadata:{sender_id:"user123",conversation_id:"conv1"}},{id:"2",title:"Buy Request Approved",message:"Your purchase request for iPhone 14 Pro has been approved by the seller.",type:"buy_approved",is_read:!1,priority:"high",created_at:new Date(Date.now()-18e5).toISOString(),action_url:"/my-deals",metadata:{amount:899,item:"iPhone 14 Pro"}},{id:"3",title:"Listing Favorited",message:'Someone added your "Gaming Setup" to their favorites.',type:"favorite",is_read:!1,priority:"medium",created_at:new Date(Date.now()-72e5).toISOString(),metadata:{listing_id:"listing123"}},{id:"4",title:"New Buy Request",message:'Mike wants to buy your "Vintage Guitar" for $1,200.',type:"buy_request",is_read:!0,priority:"high",created_at:new Date(Date.now()-144e5).toISOString(),action_url:"/pending-sales",metadata:{buyer:"Mike",amount:1200,item:"Vintage Guitar"}},{id:"5",title:"Payment Received",message:'You received $459 for the sale of "Canon Camera Lens".',type:"payment",is_read:!0,priority:"high",created_at:new Date(Date.now()-216e5).toISOString(),metadata:{amount:459,item:"Canon Camera Lens"}}];r(e),g(e.filter(e=>!e.is_read).length)}finally{n(!1)}}};(0,a.useEffect)(()=>{y()},[e]);const b=async a=>{try{(await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/").concat(null===e||void 0===e?void 0:e.id,"/notifications/").concat(a,"/read"),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok&&(r(t.map(e=>e.id===a?Ie(Ie({},e),{},{is_read:!0}):e)),g(e=>Math.max(0,e-1)))}catch(s){console.error("Failed to mark notification as read:",s)}},v=t.filter(e=>{const t="all"===l||"unread"===l&&!e.is_read||"read"===l&&e.is_read||l===e.type,r=!o||e.title.toLowerCase().includes(o.toLowerCase())||e.message.toLowerCase().includes(o.toLowerCase());return t&&r}),j=e=>{const t={className:"w-5 h-5"};switch(e){case"message":return(0,ba.jsx)(_s,Ie({},t));case"favorite":return(0,ba.jsx)(Ss,Ie({},t));case"buy_request":return(0,ba.jsx)(Cs,Ie({},t));case"buy_approved":return(0,ba.jsx)(Ts,Ie({},t));case"buy_rejected":return(0,ba.jsx)(Ls,Ie({},t));case"payment":return(0,ba.jsx)(ks,Ie({},t));case"profile_view":return(0,ba.jsx)(yn,Ie({},t));case"system":return(0,ba.jsx)(Ys,Ie({},t));default:return(0,ba.jsx)(Es,Ie({},t))}},w=async e=>{await b(e)},k=async a=>{await(async a=>{try{if((await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/").concat(null===e||void 0===e?void 0:e.id,"/notifications/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok){const e=t.find(e=>e.id===a);r(t.filter(e=>e.id!==a)),e&&!e.is_read&&g(e=>Math.max(0,e-1))}}catch(s){console.error("Failed to delete notification:",s)}})(a)};return(0,ba.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,ba.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ba.jsx)("div",{className:"cataloro-card-glass p-8 mb-8",children:(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mb-6 lg:mb-0",children:[(0,ba.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl",children:(0,ba.jsx)(Es,{className:"w-8 h-8 text-white"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:f>0?"".concat(f," unread notification").concat(f>1?"s":""):"All caught up!"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("button",{onClick:()=>{const e=!d;u(e),localStorage.setItem("cataloro_notification_sound",e.toString())},className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:d?"Disable sounds":"Enable sounds",children:d?(0,ba.jsx)(Os,{className:"w-5 h-5"}):(0,ba.jsx)(As,{className:"w-5 h-5"})}),(0,ba.jsx)("button",{onClick:()=>{y()},disabled:s,className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh notifications",children:(0,ba.jsx)(Ps,{className:"w-5 h-5 ".concat(s?"animate-spin":"")})}),f>0&&(0,ba.jsx)("button",{onClick:async()=>{await(async()=>{try{const e=t.filter(e=>!e.is_read);await Promise.all(e.map(e=>b(e.id))),r(t.map(e=>Ie(Ie({},e),{},{is_read:!0}))),g(0)}catch(e){console.error("Failed to mark all as read:",e)}})()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Mark All Read"})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6 mb-8",children:(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,ba.jsxs)("div",{className:"relative flex-1 lg:max-w-md",children:[(0,ba.jsx)(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ba.jsx)("input",{type:"text",placeholder:"Search notifications...",value:o,onChange:e=>c(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]}),(0,ba.jsx)("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-2",children:[{id:"all",label:"All",count:t.length},{id:"unread",label:"Unread",count:f},{id:"message",label:"Messages",count:t.filter(e=>"message"===e.type).length},{id:"buy_request",label:"Requests",count:t.filter(e=>"buy_request"===e.type).length}].map(e=>(0,ba.jsxs)("button",{onClick:()=>i(e.id),className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap ".concat(l===e.id?"bg-blue-600 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:shadow-sm"),children:[(0,ba.jsx)("span",{children:e.label}),e.count>0&&(0,ba.jsx)("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full text-xs font-bold min-w-[20px] text-center ".concat(l===e.id?"bg-white/30 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300"),children:e.count})]},e.id))})]})}),(0,ba.jsx)("div",{className:"space-y-4",children:s?(0,ba.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,ba.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Loading notifications..."})]}):0===v.length?(0,ba.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,ba.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(Es,{className:"w-12 h-12 text-gray-400"})}),(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:o?"No matching notifications":"No notifications"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:o?"Try adjusting your search terms.":"When you have new activity, it will appear here."})]}):v.map(e=>{const t=(e=>{switch(e){case"message":default:return"blue";case"favorite":return"pink";case"buy_request":return"yellow";case"buy_approved":case"payment":return"green";case"buy_rejected":return"red";case"profile_view":return"purple";case"system":return"gray"}})(e.type),r=h.includes(e.id);return(0,ba.jsx)("div",{className:"cataloro-card-glass p-6 transition-all duration-300 hover:scale-[1.02] cursor-pointer ".concat(e.is_read?"":"ring-2 ring-blue-500/30 bg-blue-50/30 dark:bg-blue-900/20"," ").concat(r?"ring-2 ring-purple-500/50":""),onClick:()=>{e.is_read||w(e.id),e.action_url&&(window.location.href=e.action_url)},children:(0,ba.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ba.jsx)("div",{className:"p-3 rounded-xl ".concat("blue"===t?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"pink"===t?"bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-400":"yellow"===t?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"green"===t?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"red"===t?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"purple"===t?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"),children:j(e.type)}),(0,ba.jsx)("div",{className:"flex-1 min-w-0",children:(0,ba.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:e.message}),e.metadata&&(0,ba.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[e.metadata.amount&&(0,ba.jsxs)("span",{className:"flex items-center",children:[(0,ba.jsx)(ks,{className:"w-4 h-4 mr-1"}),"$",e.metadata.amount]}),e.metadata.item&&(0,ba.jsxs)("span",{className:"flex items-center",children:[(0,ba.jsx)(ws,{className:"w-4 h-4 mr-1"}),e.metadata.item]}),e.metadata.views&&(0,ba.jsxs)("span",{className:"flex items-center",children:[(0,ba.jsx)(yn,{className:"w-4 h-4 mr-1"}),e.metadata.views," views"]})]}),(0,ba.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,ba.jsx)(Ms,{className:"w-4 h-4 mr-2"}),new Date(e.created_at).toLocaleString()]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!e.is_read&&(0,ba.jsx)("button",{onClick:t=>{t.stopPropagation(),w(e.id)},className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Mark as read",children:(0,ba.jsx)(Ts,{className:"w-4 h-4"})}),(0,ba.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e.id)},className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete notification",children:(0,ba.jsx)(Rs,{className:"w-4 h-4"})}),e.action_url&&(0,ba.jsx)(Pe,{to:e.action_url,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Go to related page",onClick:e=>e.stopPropagation(),children:(0,ba.jsx)(En,{className:"w-4 h-4"})})]})]})}),!e.is_read&&(0,ba.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-pulse mt-1"})]})},e.id)})}),v.length>0&&(0,ba.jsx)("div",{className:"cataloro-card-glass p-6 mt-8",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-300",children:[(0,ba.jsxs)("span",{children:["Showing ",v.length," of ",t.length," notifications"]}),(0,ba.jsxs)("span",{children:[f," unread"]})]})})]})})},ri=bs("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),ai=bs("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const si=function(){var e,t,r,s;const{user:n,updateUser:l}=Aa(),{showToast:i}=Ha(),{allProducts:o,cartItems:c,favorites:d,orderHistory:u,refreshListings:h}=fs(),[m,p]=(0,a.useState)("profile"),[x,f]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[k,N]=(0,a.useState)({full_name:(null===n||void 0===n?void 0:n.full_name)||"",username:(null===n||void 0===n?void 0:n.username)||"",email:(null===n||void 0===n?void 0:n.email)||"",phone:(null===n||void 0===n?void 0:n.phone)||"",street:(null===n||void 0===n?void 0:n.street)||"",post_code:(null===n||void 0===n?void 0:n.post_code)||"",city:(null===n||void 0===n?void 0:n.city)||"",country:(null===n||void 0===n?void 0:n.country)||"",bio:(null===n||void 0===n?void 0:n.bio)||"Marketplace enthusiast and trusted seller.",avatar_url:(null===n||void 0===n?void 0:n.avatar_url)||"",date_joined:(null===n||void 0===n?void 0:n.date_joined)||"2024-01-15",verified:(null===n||void 0===n?void 0:n.verified)||!1,seller_rating:(null===n||void 0===n?void 0:n.seller_rating)||4.8,total_sales:(null===n||void 0===n?void 0:n.total_sales)||0,is_business:(null===n||void 0===n?void 0:n.is_business)||!1,company_name:(null===n||void 0===n?void 0:n.company_name)||"",business_country:(null===n||void 0===n?void 0:n.business_country)||"",vat_number:(null===n||void 0===n?void 0:n.vat_number)||""}),[_,S]=(0,a.useState)([]),[C,E]=(0,a.useState)([]),[O,A]=(0,a.useState)([]),[P,T]=(0,a.useState)(!1),[L,R]=(0,a.useState)(!1),[M,D]=(0,a.useState)(!1),[F,I]=(0,a.useState)({emailNotifications:!0,smsNotifications:!1,marketingEmails:!1,browserNotifications:!0,darkMode:!1,language:"en",currency:"USD",timezone:"UTC",publicProfile:!0,showEmail:!1,showPhone:!1}),[q,U]=(0,a.useState)({totalListings:0,activeListings:0,totalDeals:0,completedDeals:0,totalRevenue:0,avgRating:0,totalFavorites:0,profileViews:0,joinDate:"",lastActive:""}),B=["Berlin","Munich","Hamburg","Frankfurt","Cologne","Stuttgart","D\xfcsseldorf","Dortmund","Essen","Bremen","Paris","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven","Tilburg","Groningen","Almere","Brussels","Antwerp","Ghent","Bruges","Leuven","Li\xe8ge","Madrid","Barcelona","Valencia","Seville","Bilbao","M\xe1laga","Zaragoza","Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Venice","London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Cardiff","Vienna","Zurich","Geneva","Copenhagen","Stockholm","Oslo","Helsinki","Prague","Warsaw","Budapest","Dublin","Lisbon","Athens"],z=["Germany","France","Netherlands","Belgium","Spain","Italy","United Kingdom","Austria","Switzerland","Denmark","Sweden","Norway","Finland","Czech Republic","Poland","Hungary","Ireland","Portugal","Greece","Luxembourg","Slovenia","Slovakia","Estonia","Latvia","Lithuania","Malta","Cyprus","Croatia","Romania","Bulgaria"];(0,a.useEffect)(()=>{(()=>{const e=o.filter(e=>e.seller===(null===n||void 0===n?void 0:n.username)||e.seller===(null===n||void 0===n?void 0:n.full_name)),t=e.filter(e=>!1!==e.inStock),r=u||[],a=r.filter(e=>"completed"===e.status),s={totalListings:e.length,activeListings:t.length,totalDeals:r.length,completedDeals:a.length,totalRevenue:e.reduce((e,t)=>e+(t.price||0),0),avgRating:k.seller_rating,totalFavorites:d.length,profileViews:Math.floor(500*Math.random())+100,joinDate:k.date_joined,lastActive:(new Date).toISOString().split("T")[0]};U(s)})()},[o,u,d,n,k]);const H=e=>{const{name:t,value:r}=e.target;N(e=>Ie(Ie({},e),{},{[t]:r}))},V=(e,t)=>{I(Ie(Ie({},F),{},{[e]:t})),i("".concat(e," ").concat(t?"enabled":"disabled"),"success")},W=e=>{w(Ie(Ie({},j),{},{[e.target.name]:e.target.value}))},K=()=>{const e={profile:k,preferences:F,statistics:q,exportDate:(new Date).toISOString()},t=JSON.stringify(e,null,2),r="data:application/json;charset=utf-8,"+encodeURIComponent(t),a="cataloro_profile_".concat(null===n||void 0===n?void 0:n.username,"_").concat((new Date).toISOString().split("T")[0],".json"),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",a),s.click(),i("Profile data exported successfully!","success")},G=[{id:"profile",label:"Profile Info",icon:Bs},{id:"security",label:"Security",icon:Ns},{id:"preferences",label:"Preferences",icon:Ys},{id:"activity",label:"Activity",icon:Fs},{id:"data",label:"Data & Privacy",icon:hl}];return(0,ba.jsxs)("div",{className:"fade-in",children:[(0,ba.jsx)("div",{className:"mb-8",children:(0,ba.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Profile Settings"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your account information, preferences, and security settings"})]}),(0,ba.jsxs)("div",{className:"flex space-x-3",children:[(0,ba.jsxs)("button",{onClick:K,className:"cataloro-button-secondary flex items-center text-gray-800 dark:text-white",children:[(0,ba.jsx)(ml,{className:"w-4 h-4 mr-2"}),"Export Data"]}),"profile"===m&&(0,ba.jsx)("button",{onClick:()=>x?(async()=>{try{const e=(null===n||void 0===n?void 0:n.is_business)!==k.is_business;await new Promise(e=>setTimeout(e,1e3));const t=Ie(Ie({},n),k);localStorage.setItem("cataloro_user",JSON.stringify(t)),"function"===typeof l&&l(t),f(!1),i("Profile updated successfully!","success"),e&&h&&(console.log("\ud83d\udd04 Account type changed, refreshing marketplace listings..."),i("Refreshing listings to update badges...","info"),setTimeout(async()=>{try{await h(),i("Listings updated with new account type!","success")}catch(e){console.error("Failed to refresh listings:",e),i("Please refresh the browse page to see updated badges","warning")}},1500))}catch(e){i("Failed to update profile. Please try again.","error")}})():f(!0),className:"cataloro-button-primary flex items-center",children:x?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Kn,{className:"w-4 h-4 mr-2"}),"Save Changes"]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(In,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-6 mb-8",children:(0,ba.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:k.avatar_url?(0,ba.jsx)("img",{src:k.avatar_url,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):(0,ba.jsx)("span",{className:"text-white font-bold text-2xl",children:(null===(e=k.full_name)||void 0===e?void 0:e.charAt(0))||(null===n||void 0===n||null===(t=n.username)||void 0===t?void 0:t.charAt(0))||"U"})}),k.verified&&(0,ba.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1",children:(0,ba.jsx)(Ts,{className:"w-3 h-3 text-white"})})]}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ba.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.full_name||"User Name"}),k.verified&&(0,ba.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Verified"}),(null===n||void 0===n?void 0:n.role)&&(0,ba.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:n.role.toUpperCase()})]}),(0,ba.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:["@",k.username]}),(0,ba.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.bio})]}),(0,ba.jsxs)("div",{className:"flex space-x-6 text-center",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:q.totalListings}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Listings"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:q.completedDeals}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Deals"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"flex items-center text-lg font-bold text-gray-900 dark:text-white",children:[(0,ba.jsx)(Sn,{className:"w-4 h-4 text-yellow-400 mr-1"}),q.avgRating]}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Rating"})]})]})]})}),(0,ba.jsx)("div",{className:"cataloro-card-glass mb-8",children:(0,ba.jsx)("nav",{className:"flex space-x-1 p-2",children:G.map(e=>{const t=e.icon;return(0,ba.jsxs)("button",{onClick:()=>p(e.id),className:"flex items-center space-x-2 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ".concat(m===e.id?"bg-blue-100/80 backdrop-blur-sm text-blue-700":"text-gray-600 dark:text-white hover:bg-gray-100/50 hover:text-gray-900"),children:[(0,ba.jsx)(t,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:e.label})]},e.id)})})}),(0,ba.jsxs)("div",{className:"space-y-6",children:["profile"===m&&(0,ba.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ba.jsxs)("div",{className:"lg:col-span-1",children:[(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Profile Picture"}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsxs)("div",{className:"relative inline-block mb-4",children:[(0,ba.jsxs)("div",{className:"w-32 h-32 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto relative overflow-hidden",children:[g&&(0,ba.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,ba.jsx)(Ps,{className:"w-6 h-6 text-white animate-spin"})}),k.avatar_url?(0,ba.jsx)("img",{src:k.avatar_url,alt:"Profile",className:"w-32 h-32 rounded-full object-cover"}):(0,ba.jsx)("span",{className:"text-white font-bold text-4xl",children:(null===(r=k.full_name)||void 0===r?void 0:r.charAt(0))||(null===n||void 0===n||null===(s=n.username)||void 0===s?void 0:s.charAt(0))||"U"})]}),x&&(0,ba.jsxs)("label",{className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg cursor-pointer hover:bg-gray-50 border border-gray-200",children:[(0,ba.jsx)(pl,{className:"w-4 h-4 text-gray-600"}),(0,ba.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.size>5242880)i("Image size must be less than 5MB","error");else try{y(!0),await new Promise(e=>setTimeout(e,2e3));const e=URL.createObjectURL(t);N(Ie(Ie({},k),{},{avatar_url:e})),i("Profile picture updated successfully!","success")}catch(r){i("Failed to upload image. Please try again.","error")}finally{y(!1)}},className:"hidden",disabled:g})]})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Upload a profile picture to help others recognize you"}),(0,ba.jsx)("div",{className:"text-xs text-gray-500",children:"\u2022 JPG, PNG, or GIF \u2022 Maximum size: 5MB \u2022 Recommended: 400x400px"})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 mt-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Status"}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Email Verified"}),(0,ba.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,ba.jsx)(Ts,{className:"w-4 h-4 mr-1"}),"Verified"]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Phone Verified"}),(0,ba.jsxs)("span",{className:"flex items-center text-yellow-600",children:[(0,ba.jsx)(cn,{className:"w-4 h-4 mr-1"}),"Pending"]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Identity Verified"}),(0,ba.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,ba.jsx)(Ts,{className:"w-4 h-4 mr-1"}),"Verified"]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Seller Status"}),(0,ba.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"Active"})]})]})]})]}),(0,ba.jsx)("div",{className:"lg:col-span-2",children:(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personal Information"}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(k.is_business?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white":"bg-gradient-to-r from-green-600 to-emerald-600 text-white"),children:k.is_business?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Ys,{className:"w-4 h-4 mr-1"}),"Business Account"]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Bs,{className:"w-4 h-4 mr-1"}),"Private Account"]})}),k.is_business&&k.company_name&&(0,ba.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:k.company_name})]})]}),(0,ba.jsx)("button",{onClick:()=>f(!x),className:"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ".concat(x?"bg-gray-500 hover:bg-gray-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:x?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Ls,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Cancel"})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Sl,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Edit Profile"})]})})]}),(0,ba.jsxs)("form",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,ba.jsx)(Bs,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),(0,ba.jsx)("input",{type:"text",name:"full_name",value:k.full_name,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter your full name"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,ba.jsx)(Bs,{className:"w-4 h-4 inline mr-2"}),"Username"]}),(0,ba.jsx)("input",{type:"text",name:"username",value:k.username,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Choose a username"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,ba.jsx)(Zs,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),(0,ba.jsx)("input",{type:"email",name:"email",value:k.email,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter your email"})]}),(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,ba.jsx)(Xs,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),(0,ba.jsx)("input",{type:"tel",name:"phone",value:k.phone,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter your phone number"})]})}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(en,{className:"w-4 h-4 mr-2"}),"Address Information"]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Street Address"}),(0,ba.jsx)("input",{type:"text",name:"street",value:k.street,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter your street address"})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Post Code"}),(0,ba.jsx)("input",{type:"text",name:"post_code",value:k.post_code,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Postal/ZIP code"})]}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["City",x&&(0,ba.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ba.jsx)("input",{type:"text",name:"city",value:k.city,onChange:e=>{const t=e.target.value;if(N(e=>Ie(Ie({},e),{},{city:t})),t.length>1){const e=B.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);S(e),T(e.length>0)}else S([]),T(!1)},onFocus:()=>k.city&&T(_.length>0),disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter your city"}),P&&x&&(0,ba.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ba.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ba.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(en,{className:"w-4 h-4 mr-2 text-blue-500"}),"Popular Cities (",_.length,")",(0,ba.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),_.map((e,t)=>(0,ba.jsx)("div",{onClick:()=>(e=>{N(t=>Ie(Ie({},t),{},{city:e})),T(!1),S([])})(e),className:"p-3 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e})]})},t))]})]})]}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Country",x&&(0,ba.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ba.jsx)("input",{type:"text",name:"country",value:k.country,onChange:e=>{const t=e.target.value;if(N(e=>Ie(Ie({},e),{},{country:t})),t.length>1){const e=z.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);E(e),R(e.length>0)}else E([]),R(!1)},onFocus:()=>k.country&&R(C.length>0),disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter your country"}),L&&x&&(0,ba.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ba.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ba.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(vs,{className:"w-4 h-4 mr-2 text-green-500"}),"Popular Countries (",C.length,")",(0,ba.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),C.map((e,t)=>(0,ba.jsx)("div",{onClick:()=>(e=>{N(t=>Ie(Ie({},t),{},{country:e})),R(!1),E([])})(e),className:"p-3 hover:bg-green-50 dark:hover:bg-green-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",children:e})]})},t))]})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),(0,ba.jsx)("textarea",{name:"bio",rows:4,value:k.bio,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Tell us about yourself..."}),(0,ba.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[k.bio.length,"/500 characters"]})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(Ys,{className:"w-4 h-4 mr-2"}),"Account Type",(0,ba.jsx)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400 font-normal",children:"(Can be changed anytime)"})]}),(0,ba.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ba.jsx)("input",{type:"checkbox",checked:k.is_business,onChange:e=>{return t=e.target.checked,void N(e=>Ie(Ie({},e),{},{is_business:t},!t&&{company_name:"",business_country:"",vat_number:""}));var t},disabled:!x,className:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-2 border-gray-500 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2 disabled:cursor-not-allowed"}),(0,ba.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(Bs,{className:"w-3 h-3 mr-1"}),k.is_business?"Switch to Private Account":"Switch to Business Account"]})]})]}),k.is_business?(0,ba.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,ba.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ba.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg mr-3",children:(0,ba.jsx)(Ys,{className:"w-4 h-4 text-white"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Business Account Active"}),(0,ba.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Professional marketplace seller with business verification"})]})]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name *"}),(0,ba.jsx)("input",{type:"text",name:"company_name",value:k.company_name,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter your company name",required:k.is_business})]}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Business Country *",x&&(0,ba.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-xs ml-2",children:"(Type to search)"})]}),(0,ba.jsx)("input",{type:"text",name:"business_country",value:k.business_country,onChange:e=>{const t=e.target.value;if(N(e=>Ie(Ie({},e),{},{business_country:t})),t.length>1){const e=z.filter(e=>e.toLowerCase().includes(t.toLowerCase())).slice(0,8);A(e),D(e.length>0)}else A([]),D(!1)},onFocus:()=>k.business_country&&D(O.length>0),disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter business country",required:k.is_business}),M&&x&&(0,ba.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:[(0,ba.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-b border-gray-200 dark:border-gray-600",children:(0,ba.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,ba.jsx)(vs,{className:"w-4 h-4 mr-2 text-blue-500"}),"Business Countries (",O.length,")",(0,ba.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"Click to select"})]})}),O.map((e,t)=>(0,ba.jsx)("div",{onClick:()=>(e=>{N(t=>Ie(Ie({},t),{},{business_country:e})),D(!1),A([])})(e),className:"p-3 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-200 group",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.charAt(0)}),(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e})]})},t))]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["VAT Number",(0,ba.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:"(Optional)"})]}),(0,ba.jsx)("input",{type:"text",name:"vat_number",value:k.vat_number,onChange:H,disabled:!x,className:"cataloro-input ".concat(x?"":"cursor-not-allowed"),placeholder:"Enter VAT number (e.g. DE123456789)"})]})]}),(0,ba.jsxs)("div",{className:"mt-4 p-3 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[(0,ba.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium mb-2",children:"Business Account Benefits:"}),(0,ba.jsxs)("ul",{className:"text-xs text-blue-600 dark:text-blue-400 space-y-1",children:[(0,ba.jsx)("li",{children:'\u2022 Blue "Business" badge on your listings'}),(0,ba.jsx)("li",{children:"\u2022 Enhanced seller credibility"}),(0,ba.jsx)("li",{children:"\u2022 Professional seller profile"}),(0,ba.jsx)("li",{children:"\u2022 Business account verification"})]})]})]}):(0,ba.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg mr-3",children:(0,ba.jsx)(Bs,{className:"w-4 h-4 text-white"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-100",children:"Private Account Active"}),(0,ba.jsx)("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Personal marketplace user"})]})]}),(0,ba.jsxs)("div",{className:"mt-3 p-3 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[(0,ba.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300 font-medium mb-2",children:"Private Account Features:"}),(0,ba.jsxs)("ul",{className:"text-xs text-green-600 dark:text-green-400 space-y-1",children:[(0,ba.jsx)("li",{children:'\u2022 Green "Private" badge on your listings'}),(0,ba.jsx)("li",{children:"\u2022 Personal seller profile"}),(0,ba.jsx)("li",{children:"\u2022 Standard marketplace access"}),(0,ba.jsx)("li",{children:"\u2022 Can upgrade to business anytime"})]})]})]})]})]})]})})]}),"security"===m&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ba.jsx)(ri,{className:"w-5 h-5 mr-2"}),"Change Password"]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("input",{type:b?"text":"password",name:"currentPassword",value:j.currentPassword,onChange:W,className:"cataloro-input pr-10",placeholder:"Enter current password"}),(0,ba.jsx)("button",{type:"button",onClick:()=>v(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:b?(0,ba.jsx)(ai,{className:"w-4 h-4"}):(0,ba.jsx)(yn,{className:"w-4 h-4"})})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,ba.jsx)("input",{type:"password",name:"newPassword",value:j.newPassword,onChange:W,className:"cataloro-input",placeholder:"Enter new password"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,ba.jsx)("input",{type:"password",name:"confirmPassword",value:j.confirmPassword,onChange:W,className:"cataloro-input",placeholder:"Confirm new password"})]})]}),(0,ba.jsx)("button",{onClick:async()=>{if(j.currentPassword&&j.newPassword)if(j.newPassword===j.confirmPassword)if(j.newPassword.length<6)i("Password must be at least 6 characters long","error");else try{await new Promise(e=>setTimeout(e,1500)),i("Password changed successfully!","success"),w({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){i("Failed to change password. Please try again.","error")}else i("New passwords do not match","error");else i("Please fill in all password fields","error")},className:"cataloro-button-primary",children:"Update Password"})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(Ns,{className:"w-5 h-5 mr-2"}),"Two-Factor Authentication"]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"Add an extra layer of security to your account"}),(0,ba.jsx)("p",{className:"text-sm text-gray-500",children:"Use an authenticator app to generate verification codes"})]}),(0,ba.jsx)("div",{className:"text-right",children:(0,ba.jsx)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-sm",children:"Disabled"})})]}),(0,ba.jsx)("button",{className:"cataloro-button-secondary",children:"Enable 2FA"})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Login Activity"}),(0,ba.jsx)("div",{className:"space-y-3",children:[{device:"Chrome on Windows",location:"New York, US",time:"2 hours ago",current:!0},{device:"Safari on iPhone",location:"New York, US",time:"1 day ago",current:!1},{device:"Chrome on Windows",location:"New York, US",time:"3 days ago",current:!1}].map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50/80 backdrop-blur-sm rounded-lg",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.device}),(0,ba.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[e.location," \u2022 ",e.time]})]}),e.current&&(0,ba.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"Current"})]},t))})]})]}),"preferences"===m&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ba.jsx)(Es,{className:"w-5 h-5 mr-2"}),"Notification Preferences"]}),(0,ba.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Receive email notifications for important updates"},{key:"smsNotifications",label:"SMS Notifications",desc:"Get text messages for urgent notifications"},{key:"browserNotifications",label:"Browser Notifications",desc:"Show desktop notifications while browsing"},{key:"marketingEmails",label:"Marketing Emails",desc:"Receive promotional offers and newsletters"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50/50 rounded-lg cursor-pointer transition-colors",children:[(0,ba.jsx)("input",{type:"checkbox",checked:F[e.key],onChange:t=>V(e.key,t.target.checked),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.desc})]})]},e.key))})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Display & Language"}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),(0,ba.jsxs)("select",{value:F.language,onChange:e=>V("language",e.target.value),className:"cataloro-input",children:[(0,ba.jsx)("option",{value:"en",children:"English"}),(0,ba.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,ba.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,ba.jsx)("option",{value:"de",children:"Deutsch"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),(0,ba.jsxs)("select",{value:F.currency,onChange:e=>V("currency",e.target.value),className:"cataloro-input",children:[(0,ba.jsx)("option",{value:"USD",children:"USD ($)"}),(0,ba.jsx)("option",{value:"EUR",children:"EUR (\u20ac)"}),(0,ba.jsx)("option",{value:"GBP",children:"GBP (\xa3)"}),(0,ba.jsx)("option",{value:"JPY",children:"JPY (\xa5)"})]})]})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Privacy Settings"}),(0,ba.jsx)("div",{className:"space-y-4",children:[{key:"publicProfile",label:"Public Profile",desc:"Make your profile visible to other users"},{key:"showEmail",label:"Show Email",desc:"Display your email address on your profile"},{key:"showPhone",label:"Show Phone",desc:"Allow others to see your phone number"}].map(e=>(0,ba.jsxs)("label",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50/50 rounded-lg cursor-pointer transition-colors",children:[(0,ba.jsx)("input",{type:"checkbox",checked:F[e.key],onChange:t=>V(e.key,t.target.checked),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.label}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.desc})]})]},e.key))})]})]}),"activity"===m&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ba.jsxs)("div",{className:"kpi-card group hover:scale-105 transition-transform",children:[(0,ba.jsx)(ws,{className:"w-8 h-8 text-blue-600 mx-auto mb-3 group-hover:animate-pulse"}),(0,ba.jsx)("div",{className:"kpi-value",children:q.totalListings}),(0,ba.jsx)("div",{className:"kpi-label",children:"Total Listings"}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[q.activeListings," active"]})]}),(0,ba.jsxs)("div",{className:"kpi-card group hover:scale-105 transition-transform",children:[(0,ba.jsx)(ks,{className:"w-8 h-8 text-green-600 mx-auto mb-3 group-hover:animate-pulse"}),(0,ba.jsxs)("div",{className:"kpi-value",children:["$",q.totalRevenue.toLocaleString()]}),(0,ba.jsx)("div",{className:"kpi-label",children:"Total Value"}),(0,ba.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["from ",q.totalListings," listings"]})]}),(0,ba.jsxs)("div",{className:"kpi-card group hover:scale-105 transition-transform",children:[(0,ba.jsx)(Ss,{className:"w-8 h-8 text-red-600 mx-auto mb-3 group-hover:animate-pulse"}),(0,ba.jsx)("div",{className:"kpi-value",children:q.totalFavorites}),(0,ba.jsx)("div",{className:"kpi-label",children:"Favorites"}),(0,ba.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"items saved"})]}),(0,ba.jsxs)("div",{className:"kpi-card group hover:scale-105 transition-transform",children:[(0,ba.jsx)(yn,{className:"w-8 h-8 text-purple-600 mx-auto mb-3 group-hover:animate-pulse"}),(0,ba.jsx)("div",{className:"kpi-value",children:q.profileViews}),(0,ba.jsx)("div",{className:"kpi-label",children:"Profile Views"}),(0,ba.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"this month"})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"}),(0,ba.jsxs)("button",{onClick:()=>{(()=>{const e=o.filter(e=>e.seller===(null===n||void 0===n?void 0:n.username)||e.seller===(null===n||void 0===n?void 0:n.full_name)),t=e.filter(e=>!1!==e.inStock),r=u||[],a=r.filter(e=>"completed"===e.status),s={totalListings:e.length,activeListings:t.length,totalDeals:r.length,completedDeals:a.length,totalRevenue:e.reduce((e,t)=>e+(t.price||0),0),avgRating:k.seller_rating,totalFavorites:d.length,profileViews:Math.floor(500*Math.random())+q.profileViews,joinDate:k.date_joined,lastActive:(new Date).toISOString().split("T")[0]};U(s)})(),i("Activity data refreshed!","success")},className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 flex items-center",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4 mr-1"}),"Refresh"]})]}),(0,ba.jsx)("div",{className:"space-y-4",children:[...o.filter(e=>e.seller===(null===n||void 0===n?void 0:n.username)).slice(0,2).map(e=>({action:"Listed item",item:e.title,time:"2 hours ago",icon:ws,color:"blue"})),...d.slice(0,2).map(e=>({action:"Added to favorites",item:e.title||"Item",time:"5 hours ago",icon:Ss,color:"red"})),{action:"Profile updated",item:"Last updated: ".concat((new Date).toLocaleDateString()),time:"1 day ago",icon:Bs,color:"purple"},{action:"Account statistics",item:"".concat(q.totalListings," total listings"),time:"Updated now",icon:Fs,color:"green"}].slice(0,6).map((e,t)=>{const r=e.icon;return(0,ba.jsxs)("div",{className:"flex items-center space-x-4 p-4 hover:bg-gray-50/50 dark:hover:bg-gray-800/50 rounded-lg transition-all group",children:[(0,ba.jsx)("div",{className:"p-3 rounded-xl group-hover:scale-110 transition-transform ".concat("blue"===e.color?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"red"===e.color?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"green"===e.color?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400"),children:(0,ba.jsx)(r,{className:"w-5 h-5"})}),(0,ba.jsxs)("div",{className:"flex-1",children:[(0,ba.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.action,": ",(0,ba.jsx)("span",{className:"".concat("blue"===e.color?"text-blue-600 dark:text-blue-400":"red"===e.color?"text-red-600 dark:text-red-400":"green"===e.color?"text-green-600 dark:text-green-400":"text-purple-600 dark:text-purple-400"),children:e.item})]}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.time})]}),(0,ba.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ba.jsx)(yn,{className:"w-4 h-4 text-gray-400"})})]},t)})}),(0,ba.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:q.totalListings}),(0,ba.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Items Listed"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:q.completedDeals}),(0,ba.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Deals Done"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Math.floor(q.profileViews/30)}),(0,ba.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Daily Views"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Math.floor((Date.now()-new Date(q.joinDate).getTime())/864e5)}),(0,ba.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Days Active"})]})]})})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Performance Overview"}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Profile Completeness"}),(0,ba.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.round(((k.full_name?1:0)+(k.bio?1:0)+(k.city?1:0)+(k.phone?1:0)+(k.avatar_url?1:0))/5*100),"%"]})]}),(0,ba.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ba.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.round(((k.full_name?1:0)+(k.bio?1:0)+(k.city?1:0)+(k.phone?1:0)+(k.avatar_url?1:0))/5*100),"%")}})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Seller Rating"}),(0,ba.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[(0,ba.jsx)(Sn,{className:"w-4 h-4 text-yellow-400 mr-1"}),q.avgRating,"/5.0"]})]}),(0,ba.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ba.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(q.avgRating/5*100,"%")}})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Activity Level"}),(0,ba.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:q.totalListings>10?"High":q.totalListings>5?"Medium":"Low"})]}),(0,ba.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ba.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(q.totalListings/20*100,100),"%")}})})]})]})]})]}),"data"===m&&(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,ba.jsx)(ml,{className:"w-5 h-5 mr-2"}),"Export Your Data"]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Download a copy of all your data including profile information, listings, and activity history."}),(0,ba.jsxs)("button",{onClick:K,className:"cataloro-button-primary flex items-center",children:[(0,ba.jsx)(ml,{className:"w-4 h-4 mr-2"}),"Export Data"]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 border-red-200",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-red-900 mb-4 flex items-center",children:[(0,ba.jsx)(cn,{className:"w-5 h-5 mr-2"}),"Danger Zone"]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Deactivate Account"}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Temporarily disable your account. You can reactivate it anytime."}),(0,ba.jsx)("button",{className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:"Deactivate Account"})]}),(0,ba.jsxs)("div",{className:"border-t pt-4",children:[(0,ba.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Delete Account"}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,ba.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})]})]})]})]})};const ni=function(){var e;const{userId:t}=ae(),{user:r}=Aa(),{allProducts:s}=fs(),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)({totalListings:0,activeListings:0,totalSales:0,avgRating:0,responseRate:0,memberSince:"",lastActive:""}),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)({messages:[],deals:[],totalInteractions:0});return(0,a.useEffect)(()=>{t&&(async()=>{try{var e;o(!0);let n=null;try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/auth/profile/").concat(t));if(e.ok)n=await e.json(),console.log("Fetched user data:",n);else{console.log("Primary profile endpoint failed, trying user endpoint...");const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/").concat(t));if(e.ok)n=await e.json();else{console.log("Both profile endpoints failed, trying listings endpoint...");const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/listings?seller_id=").concat(t));if(e.ok){const r=await e.json();if(r.length>0&&r[0].seller){n=r[0].seller;const e=r.filter(e=>e.seller===n.username||e.seller===n.full_name||e.seller_id===t);h(e.slice(0,6))}}}}}catch(a){console.log("Backend API error:",a)}if(!n)return l(null),void o(!1);const i={id:n.id,full_name:n.full_name||n.name||"Unknown User",username:n.username||(null===(e=n.email)||void 0===e?void 0:e.split("@")[0])||"unknown",email:n.email,bio:n.bio||"".concat(n.full_name||"User"," is a marketplace member."),avatar_url:n.avatar_url||"",city:n.city||"Not specified",country:n.country||"Not specified",date_joined:n.date_joined||n.created_at||"2023-01-01",verified:n.verified||!1,is_business:n.is_business||!1,company_name:n.company_name||"",seller_rating:n.seller_rating||0,phone:n.phone||"",publicProfile:!1!==n.publicProfile,showEmail:n.showEmail||!1,showPhone:n.showPhone||!1};l(i),t!==(null===r||void 0===r?void 0:r.id)&&await(async e=>{try{const t={messages:[],deals:[]};try{const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/messages/conversations/").concat(null===r||void 0===r?void 0:r.id));if(a.ok){const r=(await a.json()).filter(t=>{var r;return(null===(r=t.participants)||void 0===r?void 0:r.some(t=>t.id===e))||t.user_id===e||t.id===e});t.messages=r.slice(0,3).map(e=>{var t,r;return{id:e.id||e.conversation_id,subject:e.subject||"Message conversation",last_message:e.last_message||(null===(t=e.messages)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.content)||"Chat conversation",created_at:e.created_at||e.last_message_at||(new Date).toISOString()}})}}catch(a){console.log("Could not fetch real messages:",a)}try{const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/my-deals/").concat(null===r||void 0===r?void 0:r.id));if(a.ok){const r=(await a.json()).filter(t=>{var r,a;return t.buyer_id===e||t.seller_id===e||(null===(r=t.buyer)||void 0===r?void 0:r.id)===e||(null===(a=t.seller)||void 0===a?void 0:a.id)===e});t.deals=r.slice(0,3).map(e=>{var t,r;return{id:e.id,item_title:(null===(t=e.listing)||void 0===t?void 0:t.title)||"Deal item",amount:e.amount||(null===(r=e.listing)||void 0===r?void 0:r.price)||0,status:e.status||"completed",date:e.approved_at||e.created_at||(new Date).toISOString()}})}}catch(a){console.log("Could not fetch real deals:",a)}p(Ie(Ie({},t),{},{totalInteractions:t.messages.length+t.deals.length}))}catch(a){console.error("Failed to load user interactions:",a),p({messages:[],deals:[],totalInteractions:0})}})(t);const c=s.filter(e=>e.seller===n.username||e.seller===n.full_name||e.seller_id===t);h(c.slice(0,6));let u=0,m=0,x="Active today";try{const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/my-deals/").concat(t));if(e.ok){const r=await e.json();u=r.filter(e=>e.seller_id===t&&"completed"===e.status).length}const r=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/messages/conversations/").concat(t));if(r.ok){const e=await r.json(),t=e.length,a=e.filter(e=>e.messages&&e.messages.length>1).length;m=t>0?Math.round(a/t*100):95}else m=95;if(c.length>0){const e=c.sort((e,t)=>new Date(t.created_at||t.date_added||0)-new Date(e.created_at||e.date_added||0))[0],t=new Date(e.created_at||e.date_added),r=Math.floor((new Date-t)/864e5);x=0===r?"Active today":1===r?"Active yesterday":r<7?"Active ".concat(r," days ago"):r<30?"Active ".concat(Math.floor(r/7)," weeks ago"):"Active over a month ago"}}catch(a){console.log("Could not fetch additional stats:",a),u=0,m=95}const f={totalListings:c.length,activeListings:c.filter(e=>!1!==e.inStock&&"active"===e.status).length,totalSales:u,avgRating:n.seller_rating||4.5,responseRate:m,memberSince:n.date_joined,lastActive:x};d(f)}catch(a){console.error("Failed to load public profile:",a)}finally{o(!1)}})()},[t,s]),i?(0,ba.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Loading Profile..."})]})}):n&&n.publicProfile?(0,ba.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 fade-in",children:(0,ba.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ba.jsx)("div",{className:"cataloro-card-glass p-8 mb-8",children:(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-6 lg:space-y-0 lg:space-x-8",children:[(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("div",{className:"w-32 h-32 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto lg:mx-0",children:n.avatar_url?(0,ba.jsx)("img",{src:n.avatar_url,alt:"Profile",className:"w-32 h-32 rounded-full object-cover"}):(0,ba.jsx)("span",{className:"text-white font-bold text-4xl",children:(null===(e=n.full_name)||void 0===e?void 0:e.charAt(0))||"U"})}),n.verified&&(0,ba.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-green-500 rounded-full p-2",children:(0,ba.jsx)(on,{className:"w-6 h-6 text-white"})})]}),(0,ba.jsxs)("div",{className:"flex-1 text-center lg:text-left",children:[(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:space-x-4 mb-4",children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n.username||n.full_name}),(0,ba.jsxs)("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mt-2 lg:mt-0",children:[n.verified&&(0,ba.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ba.jsx)(on,{className:"w-4 h-4 mr-1"}),"Verified"]}),n.is_business?(0,ba.jsxs)("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ba.jsx)(Ys,{className:"w-4 h-4 mr-1"}),"Business"]}):(0,ba.jsxs)("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[(0,ba.jsx)(Bs,{className:"w-4 h-4 mr-1"}),"Private"]})]})]}),(0,ba.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2 text-lg",children:["@",n.username]}),n.is_business&&n.company_name&&(0,ba.jsx)("p",{className:"text-blue-600 dark:text-blue-400 font-medium mb-4",children:n.company_name}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-2xl",children:n.bio}),(0,ba.jsxs)("div",{className:"flex items-center justify-center lg:justify-start text-gray-600 dark:text-gray-300 mb-6",children:[(0,ba.jsx)(en,{className:"w-5 h-5 mr-2"}),(0,ba.jsxs)("span",{children:[n.city,", ",n.country]})]}),(0,ba.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[(null===r||void 0===r?void 0:r.id)!==t&&(0,ba.jsxs)("button",{onClick:()=>{window.location.href="/messages?user=".concat(t)},className:"cataloro-button-primary flex items-center justify-center",children:[(0,ba.jsx)(_s,{className:"w-5 h-5 mr-2"}),"Send Message"]}),n.showEmail&&(0,ba.jsxs)("a",{href:"mailto:".concat(n.email),className:"cataloro-button-secondary flex items-center justify-center",children:[(0,ba.jsx)(Zs,{className:"w-5 h-5 mr-2"}),"Send Email"]}),n.showPhone&&(0,ba.jsxs)("a",{href:"tel:".concat(n.phone),className:"cataloro-button-secondary flex items-center justify-center",children:[(0,ba.jsx)(Xs,{className:"w-5 h-5 mr-2"}),"Call"]})]})]})]})}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ba.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(null===r||void 0===r?void 0:r.id)!==t&&m.totalInteractions>0&&(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[(0,ba.jsx)(_s,{className:"w-5 h-5 mr-2 text-blue-600"}),"Interactions with this user"]}),(0,ba.jsxs)("div",{className:"space-y-4",children:[m.messages.length>0&&(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Recent Messages (",m.messages.length,")"]}),(0,ba.jsx)("div",{className:"space-y-2",children:m.messages.slice(0,3).map(e=>(0,ba.jsxs)("div",{className:"p-3 bg-blue-50/50 dark:bg-blue-900/20 rounded-lg",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ba.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.subject}),(0,ba.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e.last_message})]},e.id))})]}),m.deals.length>0&&(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Past Deals (",m.deals.length,")"]}),(0,ba.jsx)("div",{className:"space-y-2",children:m.deals.slice(0,3).map(e=>(0,ba.jsxs)("div",{className:"p-3 bg-green-50/50 dark:bg-green-900/20 rounded-lg",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ba.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.item_title}),(0,ba.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("span",{className:"text-sm font-bold text-green-600",children:["$",e.amount]}),(0,ba.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]})]},e.id))})]}),(0,ba.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m.totalInteractions}),(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Interactions"})]})})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Statistics"}),(0,ba.jsxs)("div",{className:"space-y-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(ws,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Listings"})]}),(0,ba.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:c.totalListings})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(ks,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Sales"})]}),(0,ba.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:c.totalSales})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Sn,{className:"w-5 h-5 text-yellow-500 mr-3"}),(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Rating"})]}),(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Sn,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,ba.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:c.avgRating})]})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(_s,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,ba.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Response Rate"})]}),(0,ba.jsxs)("span",{className:"font-bold text-gray-900 dark:text-white",children:[c.responseRate,"%"]})]})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Additional Information"}),(0,ba.jsxs)("div",{className:"space-y-4",children:[n.is_business&&n.company_name&&(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Ys,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Company"}),(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:n.company_name})]})]}),(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Ns,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Account Status"}),(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:n.verified?"Verified Member":"Standard Member"})]})]}),(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(vs,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Profile Type"}),(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:n.is_business?"Business Account":"Personal Account"})]})]})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Member Info"}),(0,ba.jsxs)("div",{className:"space-y-4",children:[(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(Qn,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Member since"}),(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:new Date(c.memberSince).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]}),(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)(yn,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last active"}),(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:c.lastActive})]})]})]})]})]}),(0,ba.jsx)("div",{className:"lg:col-span-2",children:(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ba.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Recent Listings (",c.activeListings," active)"]}),u.length>6&&(0,ba.jsx)("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium",children:"View All \u2192"})]}),0===u.length?(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)(ws,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ba.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Listings Yet"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This user hasn't created any listings."})]}):(0,ba.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((e,t)=>{var r;return(0,ba.jsx)("div",{className:"group cursor-pointer",children:(0,ba.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-4 hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 border border-gray-200/50 dark:border-gray-700/50",children:[(0,ba.jsx)("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:(0,ba.jsx)("img",{src:(null===(r=e.images)||void 0===r?void 0:r[0])||"/api/placeholder/300/200",alt:e.title,className:"w-full h-32 object-cover rounded-lg"})}),(0,ba.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.title}),(0,ba.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:["$",e.price]}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:[e.condition," \u2022 ",e.location]})]})},t)})})]})})]})]})}):(0,ba.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 flex items-center justify-center",children:(0,ba.jsxs)("div",{className:"text-center max-w-md mx-auto p-8",children:[(0,ba.jsx)("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(Bs,{className:"w-12 h-12 text-gray-400"})}),(0,ba.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Profile Not Available"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"This user's profile is private or doesn't exist."})]})})},li=bs("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),ii=bs("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const oi=function(){const{user:e}=Aa(),{showToast:t}=Ha(),[r,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)({recipient:"",subject:"",content:""}),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[x,f]=(0,a.useState)(!1),[g,y]=(0,a.useState)("all"),[b,v]=(0,a.useState)(!0),[j,w]=(0,a.useState)(0),[k,N]=(0,a.useState)(!1),[_,S]=(0,a.useState)(null),[C,E]=(0,a.useState)(!1),[O,A]=(0,a.useState)([]),[P,T]=(0,a.useState)(!1),[L,R]=(0,a.useState)(!1),[M,D]=(0,a.useState)(null),[F,I]=(0,a.useState)(""),[q,U]=(0,a.useState)([]),[B,z]=(0,a.useState)(!1),[H,V]=(0,a.useState)(null),W=(0,a.useRef)(null),K=(0,a.useRef)(null),G=(0,a.useRef)({});(0,a.useEffect)(()=>{e&&$()},[e]);const $=async()=>{if(e)try{v(!0);const t=await Wa.getUserMessages(e.id),r=new Map;t.forEach(t=>{const a=t.sender_id===e.id?t.recipient_id:t.sender_id,s=t.sender_id===e.id?t.recipient_name:t.sender_name;r.has(a)||r.set(a,{id:a,name:s||"Unknown User",messages:[],lastMessage:null,unreadCount:0});const n=r.get(a);n.messages.push(t),(!n.lastMessage||new Date(t.created_at)>new Date(n.lastMessage.created_at))&&(n.lastMessage=t),t.is_read||t.sender_id===e.id||n.unreadCount++});const a=Array.from(r.values()).sort((e,t)=>e.lastMessage||t.lastMessage?e.lastMessage?t.lastMessage?new Date(t.lastMessage.created_at)-new Date(e.lastMessage.created_at):-1:1:0);s(a)}catch(r){console.error("Failed to load messages:",r),t("Failed to load messages","error"),s(X)}finally{v(!1)}},J=t=>{l(t);const r=t.messages.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));o(r),t.messages.filter(t=>!t.is_read&&t.sender_id!==e.id).forEach(e=>Q(e.id))},Y=async()=>{if(!u.trim()||!n)return;const r=u;try{var a,s;T(!0),await Wa.sendMessage(e.id,{recipient_id:n.id,subject:"Re: ".concat((null===(a=i[0])||void 0===a?void 0:a.subject)||"Conversation"),content:r}),h("");const t={id:"temp_".concat(Date.now()),sender_id:e.id,sender_name:(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||"You",recipient_id:n.id,subject:"Re: ".concat((null===(s=i[0])||void 0===s?void 0:s.subject)||"Conversation"),content:r,is_read:!0,created_at:(new Date).toISOString()};o(e=>[t,...e]),setTimeout(()=>$(),1e3)}catch(l){console.error("Failed to send reply:",l),t("Failed to send reply","error")}finally{T(!1)}},Q=async t=>{if(e)try{await Wa.markMessageRead(e.id,t),o(e=>e.map(e=>e.id===t?Ie(Ie({},e),{},{is_read:!0}):e)),s(e=>e.map(e=>Ie(Ie({},e),{},{messages:e.messages.map(e=>e.id===t?Ie(Ie({},e),{},{is_read:!0}):e),unreadCount:Math.max(0,e.unreadCount-1)})))}catch(r){console.error("Failed to mark message as read:",r)}},Z=r.filter(t=>{var r,a,s,n,l,i;const o=(null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(m.toLowerCase()))||(null===(a=t.lastMessage)||void 0===a||null===(s=a.subject)||void 0===s?void 0:s.toLowerCase().includes(m.toLowerCase()))||(null===(n=t.lastMessage)||void 0===n||null===(l=n.content)||void 0===l?void 0:l.toLowerCase().includes(m.toLowerCase())),c="all"===g||"unread"===g&&t.unreadCount>0||"sent"===g&&(null===(i=t.lastMessage)||void 0===i?void 0:i.sender_id)===(null===e||void 0===e?void 0:e.id);return o&&c}),X=[{id:"user1",conversation_id:"conv1",name:"John Seller",participants:[{id:"user1",name:"John Seller"},{id:(null===e||void 0===e?void 0:e.id)||"demo_user",name:(null===e||void 0===e?void 0:e.full_name)||"Demo User"}],messages:[{id:"1",sender_id:"user1",sender_name:"John Seller",recipient_id:(null===e||void 0===e?void 0:e.id)||"demo_user",subject:"Question about your MacBook Pro listing",content:"Hi! Is the MacBook Pro still available? I'm very interested and can pick it up today. I can offer the full asking price.",is_read:!1,created_at:new Date(Date.now()-72e5).toISOString()},{id:"4",sender_id:(null===e||void 0===e?void 0:e.id)||"demo_user",sender_name:(null===e||void 0===e?void 0:e.full_name)||"Demo User",recipient_id:"user1",subject:"Re: Question about your MacBook Pro listing",content:"Yes, it's still available! When would be a good time for you to pick it up?",is_read:!0,created_at:new Date(Date.now()-36e5).toISOString()},{id:"5",sender_id:"user1",sender_name:"John Seller",recipient_id:(null===e||void 0===e?void 0:e.id)||"demo_user",subject:"Re: Question about your MacBook Pro listing",content:"Great! When would be a good time to meet?",is_read:!0,created_at:new Date(Date.now()-18e5).toISOString()}],lastMessage:null,unreadCount:0},{id:"user2",conversation_id:"conv2",name:"Sarah Buyer",participants:[{id:"user2",name:"Sarah Buyer"},{id:(null===e||void 0===e?void 0:e.id)||"demo_user",name:(null===e||void 0===e?void 0:e.full_name)||"Demo User"}],messages:[{id:"2",sender_id:"user2",sender_name:"Sarah Buyer",recipient_id:null===e||void 0===e?void 0:e.id,subject:"Purchase inquiry",content:"Hello, I saw your vintage guitar listing. Would you consider $800? I'm a serious buyer and can meet today.",is_read:!1,created_at:new Date(Date.now()-18e5).toISOString()}],lastMessage:null,unreadCount:1}];return X.forEach(t=>{t.lastMessage=t.messages[t.messages.length-1],t.unreadCount=t.messages.filter(t=>!t.is_read&&t.sender_id!==(null===e||void 0===e?void 0:e.id)).length}),(0,ba.jsxs)("div",{className:"".concat(L?"fixed inset-0 z-50 bg-white dark:bg-gray-900":"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"),children:[(0,ba.jsxs)("div",{className:"".concat(L?"h-full":"max-w-6xl mx-auto h-[calc(80vh-2rem)]"," flex flex-col ").concat(L?"p-0":"m-4"),children:[(0,ba.jsx)("div",{className:"border-b border-white/20 p-6",children:(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,ba.jsx)(_s,{className:"w-8 h-8 mr-3 text-blue-600"}),"Messages",r.reduce((e,t)=>e+t.unreadCount,0)>0&&(0,ba.jsxs)("span",{className:"ml-3 bg-red-500 text-white text-sm px-3 py-1 rounded-full",children:[r.reduce((e,t)=>e+t.unreadCount,0)," unread"]})]}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Communicate with buyers and sellers"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mt-4 lg:mt-0",children:[(0,ba.jsx)("button",{onClick:()=>{R(!L)},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-xl font-medium transition-all duration-200 flex items-center shadow-lg hover:shadow-xl transform hover:scale-105",title:L?"Exit full page":"Enter full page chat",children:L?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Fl,{className:"w-5 h-5 mr-2"}),"Exit Full Page"]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Il,{className:"w-5 h-5 mr-2"}),"Full Page Chat"]})}),(0,ba.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[(0,ba.jsx)("option",{value:"all",children:"All Messages"}),(0,ba.jsx)("option",{value:"unread",children:"Unread"}),(0,ba.jsx)("option",{value:"sent",children:"Sent"})]}),(0,ba.jsxs)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,ba.jsx)(Gs,{className:"w-5 h-5 mr-2"}),"New Message"]})]})]})}),(0,ba.jsxs)("div",{className:"flex flex-1 min-h-0",children:[(0,ba.jsxs)("div",{className:"w-1/3 border-r border-gray-200/30 dark:border-gray-700/30",children:[(0,ba.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),(0,ba.jsx)("input",{type:"text",placeholder:"Search conversations...",value:m,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500"})]})}),(0,ba.jsx)("div",{className:"overflow-y-auto flex-1",children:b?(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading conversations..."})]}):0===Z.length?(0,ba.jsxs)("div",{className:"p-6 text-center",children:[(0,ba.jsx)(_s,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No conversations"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start a conversation with buyers and sellers"}),(0,ba.jsx)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Send First Message"})]}):Z.map(t=>{var r,a,s;return(0,ba.jsx)("div",{onClick:()=>J(t),className:"p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 ".concat((null===n||void 0===n?void 0:n.id)===t.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":""),children:(0,ba.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ba.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,ba.jsx)(Bs,{className:"w-6 h-6 text-white"})}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ba.jsx)("p",{className:"text-sm font-medium ".concat(t.unreadCount>0?"text-gray-900 dark:text-white font-bold":"text-gray-700 dark:text-gray-300"),children:t.name}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[t.unreadCount>0&&(0,ba.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:t.unreadCount}),(0,ba.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.lastMessage?new Date(t.lastMessage.created_at).toLocaleDateString():""})]})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate mb-1 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",onClick:e=>{e.stopPropagation(),t.lastMessage&&(J(t),setTimeout(()=>(e=>{const t=G.current[e];t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),D(e),setTimeout(()=>{D(null)},3e3))})(t.lastMessage.id),100))},title:"Click to scroll to this message",children:(null===(r=t.lastMessage)||void 0===r?void 0:r.subject)||"No subject"}),(0,ba.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 truncate",children:[(null===(a=t.lastMessage)||void 0===a?void 0:a.sender_id)===(null===e||void 0===e?void 0:e.id)?"You: ":"",(null===(s=t.lastMessage)||void 0===s?void 0:s.content)||"No messages yet"]})]})]})},t.id)})})]}),(0,ba.jsx)("div",{className:"flex-1 flex flex-col",children:n?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"p-4 border-b border-gray-200/30 dark:border-gray-700/30 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:(0,ba.jsx)(Bs,{className:"w-5 h-5 text-white"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:n.name}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.length," messages"]})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this conversation? This action cannot be undone."))try{s(r.filter(t=>t.conversation_id!==e)),(null===n||void 0===n?void 0:n.conversation_id)===e&&(l(null),o([])),t("Conversation deleted successfully","success")}catch(a){console.error("Failed to delete conversation:",a),t("Failed to delete conversation","error")}})(n.conversation_id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete conversation",children:(0,ba.jsx)(Rs,{className:"w-5 h-5"})}),(0,ba.jsx)("button",{onClick:()=>{var t,r;const a=(null===(t=n.participants)||void 0===t||null===(r=t.find(t=>t.id!==(null===e||void 0===e?void 0:e.id)))||void 0===r?void 0:r.id)||"unknown";window.location.href="/profile/".concat(a)},className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"View user profile",children:(0,ba.jsx)(Bs,{className:"w-5 h-5"})})]})]})}),(0,ba.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-3 bg-gradient-to-b from-gray-50/30 to-white/50 dark:from-gray-900/30 dark:to-gray-800/50",children:[i.slice().reverse().map((r,a,s)=>{const n=r.sender_id===(null===e||void 0===e?void 0:e.id),l=0===a||s[a-1].sender_id!==r.sender_id,c=M===r.id;return(0,ba.jsx)("div",{ref:e=>G.current[r.id]=e,className:"flex ".concat(n?"justify-end":"justify-start"," ").concat(l?"mt-4":"mt-2"," ").concat(c?"animate-pulse":""),children:(0,ba.jsxs)("div",{className:"flex space-x-3 max-w-xs lg:max-w-md ".concat(n?"flex-row-reverse space-x-reverse":""),children:[l&&(0,ba.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ".concat(n?"bg-blue-600":"bg-gray-600"),children:(n?(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||"You":r.sender_name||"U").charAt(0)}),(0,ba.jsxs)("div",{className:"".concat(l?"":n?"mr-11":"ml-11"),children:[(0,ba.jsxs)("div",{className:"group relative px-4 py-3 rounded-2xl transition-all duration-300 ".concat(c?"ring-2 ring-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":n?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600"),children:[(0,ba.jsx)("button",{onClick:e=>{e.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{o(i.filter(t=>t.id!==e)),t("Message deleted successfully","success")}catch(r){console.error("Failed to delete message:",r),t("Failed to delete message","error")}})(r.id)},className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 p-1 rounded-full transition-all duration-200 hover:scale-110 ".concat(n?"bg-red-500/20 text-red-200 hover:bg-red-500/30":"bg-red-500/10 text-red-600 hover:bg-red-500/20"),title:"Delete message",children:(0,ba.jsx)(Rs,{className:"w-3 h-3"})}),(0,ba.jsx)("p",{className:"text-sm whitespace-pre-wrap pr-6",children:r.content})]}),(0,ba.jsxs)("div",{className:"flex items-center mt-1 space-x-2 text-xs text-gray-500 dark:text-gray-400 ".concat(n?"justify-end":"justify-start"),children:[(0,ba.jsx)("span",{children:new Date(r.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),n&&(r.is_read?(0,ba.jsx)(Ds,{className:"w-3 h-3 text-blue-500"}):(0,ba.jsx)(Ts,{className:"w-3 h-3"}))]})]})]})},r.id)}),(0,ba.jsx)("div",{ref:W})]}),(0,ba.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl",children:(0,ba.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,ba.jsxs)("div",{className:"flex-1 relative",children:[(0,ba.jsx)("textarea",{ref:K,value:u,onChange:e=>{var t;h(e.target.value),(t=e.target).style.height="auto",t.style.height=Math.min(t.scrollHeight,120)+"px"},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Y())},placeholder:"Type your message... (Press Enter to send, Shift+Enter for new line)",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none min-h-[3rem] max-h-[8rem]",rows:"1"}),(0,ba.jsx)("button",{className:"absolute right-3 bottom-3 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,ba.jsx)(li,{className:"w-5 h-5"})})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("button",{className:"p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,ba.jsx)(ii,{className:"w-5 h-5"})}),(0,ba.jsx)("button",{onClick:Y,disabled:!u.trim()||P,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 disabled:scale-100",children:P?(0,ba.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,ba.jsx)(gn,{className:"w-5 h-5"})})]})]})})]}):(0,ba.jsx)("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)(_s,{className:"w-20 h-20 text-gray-400 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Select a conversation"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose a conversation from the list to start messaging"}),(0,ba.jsx)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Start New Conversation"})]})})})]}),x&&(0,ba.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,ba.jsx)(Zs,{className:"w-6 h-6 mr-2"}),"New Message"]}),(0,ba.jsx)("button",{onClick:()=>f(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,ba.jsx)(Ls,{className:"w-6 h-6"})})]})}),(0,ba.jsxs)("div",{className:"p-6 space-y-6 max-h-[60vh] overflow-y-auto",children:[(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recipient *"}),(0,ba.jsx)("input",{type:"text",value:F,onChange:e=>(async e=>{if(I(e),e.trim().length<2)return U([]),void z(!1);try{const t=await Wa.searchUsers(e);U(t),z(t.length>0)}catch(t){console.error("Error searching users:",t),U([]),z(!1)}})(e.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500",placeholder:"Search users by name or username..."}),B&&(0,ba.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:q.map(e=>(0,ba.jsx)("div",{onClick:()=>{return V(t=e),d(e=>Ie(Ie({},e),{},{recipient:t.id})),I(t.display_name||t.username),void z(!1);var t},className:"px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer border-b border-gray-100 dark:border-gray-600 last:border-b-0",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)(Bs,{className:"w-5 h-5 text-gray-400"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.display_name}),e.username!==e.display_name&&(0,ba.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["@",e.username]})]})]})},e.id))}),H&&(0,ba.jsx)("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsx)(Bs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-medium text-blue-900 dark:text-blue-100",children:H.display_name}),(0,ba.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Selected recipient"})]})]}),(0,ba.jsx)("button",{onClick:()=>{V(null),I(""),d(e=>Ie(Ie({},e),{},{recipient:""}))},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]})})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),(0,ba.jsx)("input",{type:"text",value:c.subject,onChange:e=>d(Ie(Ie({},c),{},{subject:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500",placeholder:"Enter message subject"})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message *"}),(0,ba.jsx)("textarea",{value:c.content,onChange:e=>d(Ie(Ie({},c),{},{content:e.target.value})),rows:6,className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Type your message here..."})]})]}),(0,ba.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:(0,ba.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,ba.jsx)("button",{onClick:()=>f(!1),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,ba.jsx)("button",{onClick:async()=>{if(H&&c.content.trim())try{T(!0),await Wa.sendMessage(e.id,{recipient_id:H.id,subject:c.subject||"New Message",content:c.content}),t("Message sent successfully!","success"),d({recipient:"",subject:"",content:""}),V(null),I(""),f(!1),await $()}catch(r){console.error("Failed to send message:",r),t("Failed to send message","error")}finally{T(!1)}else t("Please select a recipient and enter message content","error")},disabled:!H||!c.content.trim()||P,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-xl font-medium transition-colors flex items-center",children:P?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(gn,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]})})]}),k&&_&&(0,ba.jsxs)("div",{className:"fixed top-4 right-4 z-[10000] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl p-4 max-w-sm animate-slide-in-right",children:[(0,ba.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,ba.jsx)(_s,{className:"w-4 h-4 text-white"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["New message from ",_.sender]}),(0,ba.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:_.timestamp.toLocaleTimeString()})]})]}),(0,ba.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ba.jsx)(Ls,{className:"w-4 h-4"})})]}),(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:_.content}),(0,ba.jsxs)("div",{className:"flex space-x-2",children:[(0,ba.jsx)("button",{onClick:()=>{N(!1);const e=r.find(e=>e.name===_.sender);e&&J(e)},className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md text-xs hover:bg-blue-700 transition-colors",children:"Reply"}),(0,ba.jsx)("button",{onClick:()=>N(!1),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md text-xs hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Dismiss"})]})]})]})},ci=bs("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const di=function(){const[e,t]=(0,a.useState)({email:"",password:""}),[r,s]=(0,a.useState)(!1),[n,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1);a.useEffect(()=>{const e=localStorage.getItem("cataloro_token"),t=localStorage.getItem("cataloro_user");if(e&&t)try{d(JSON.parse(t))}catch(_i){localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user")}},[]);const m=r=>{t(Ie(Ie({},e),{},{[r.target.name]:r.target.value})),o(null)},p=async function(){const e={email:"admin"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user")?"admin@cataloro.com":"user@cataloro.com",password:"demo123"};t(e),l(!0),h(!0),o(null);try{const t=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Demo login failed: ".concat(t.status));const r=await t.json();localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),window.location.href="/browse"}catch(i){o("Demo login failed: ".concat(i.message))}finally{l(!1),h(!1)}},x=()=>{localStorage.removeItem("cataloro_token"),localStorage.removeItem("cataloro_user"),d(null),t({email:"",password:""}),alert("\u2705 Logged out successfully!")};var f,g,y;return c?(0,ba.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,ba.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-400/20 via-purple-400/20 to-pink-400/20 animate-pulse"}),(0,ba.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full",children:[(0,ba.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-blue-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),(0,ba.jsx)("div",{className:"absolute top-40 right-20 w-72 h-72 bg-purple-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),(0,ba.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]})]}),(0,ba.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:(0,ba.jsxs)("div",{className:"w-full max-w-md",children:[(0,ba.jsxs)("div",{className:"text-center mb-10",children:[(0,ba.jsx)("div",{className:"relative mb-6",children:(0,ba.jsxs)("div",{className:"w-20 h-20 mx-auto relative",children:[(0,ba.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 p-1",children:(0,ba.jsx)("div",{className:"w-full h-full rounded-3xl bg-white/10 backdrop-blur-xl flex items-center justify-center group",children:(0,ba.jsx)(js,{className:"w-10 h-10 text-white drop-shadow-lg group-hover:scale-110 transition-transform duration-300"})})}),(0,ba.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 blur-lg opacity-50 animate-pulse"}),(0,ba.jsx)(ci,{className:"absolute -top-2 -right-2 w-6 h-6 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})]})}),(0,ba.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 dark:from-white dark:via-blue-100 dark:to-purple-100",children:"Welcome Back!"}),(0,ba.jsxs)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:["You are logged in to ",(0,ba.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:fa.APP_NAME})]})]}),(0,ba.jsx)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30",children:(0,ba.jsxs)("div",{className:"text-center space-y-6",children:[(0,ba.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto shadow-xl",children:(0,ba.jsx)("span",{className:"text-white font-bold text-2xl",children:(null===(f=c.full_name)||void 0===f?void 0:f.charAt(0))||(null===(g=c.username)||void 0===g?void 0:g.charAt(0))||"U"})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.full_name}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:c.email}),(0,ba.jsx)("span",{className:"inline-block mt-2 px-4 py-1 rounded-full text-sm font-bold ".concat("admin"===c.role?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white"),children:null===(y=c.role)||void 0===y?void 0:y.toUpperCase()})]}),(0,ba.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,ba.jsxs)("button",{onClick:()=>window.location.href="/browse",className:"w-full h-14 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold text-lg hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl group overflow-hidden",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ba.jsxs)("div",{className:"relative flex items-center justify-center space-x-2",children:[(0,ba.jsx)("span",{children:"Go to Marketplace"}),(0,ba.jsx)(En,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,ba.jsx)("button",{onClick:x,className:"w-full h-12 rounded-xl bg-white/20 dark:bg-white/10 backdrop-blur-sm border border-white/30 text-gray-700 dark:text-gray-200 font-semibold hover:bg-white/30 dark:hover:bg-white/20 transition-all duration-300 group flex items-center justify-center space-x-3",children:(0,ba.jsx)("span",{children:"Logout"})})]}),(0,ba.jsx)("div",{className:"mt-6 text-center",children:(0,ba.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ba.jsx)("span",{children:"Authentication: Working"})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ba.jsx)("span",{children:"Backend API: Connected"})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ba.jsx)("span",{children:"User Session: Active"})]})]})})]})})]})})]}):(0,ba.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,ba.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-400/20 via-purple-400/20 to-pink-400/20 animate-pulse"}),(0,ba.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full",children:[(0,ba.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-blue-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),(0,ba.jsx)("div",{className:"absolute top-40 right-20 w-72 h-72 bg-purple-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),(0,ba.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300/30 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]})]}),(0,ba.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,ba.jsx)("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-blue-400 rounded-full animate-ping"}),(0,ba.jsx)("div",{className:"absolute top-3/4 right-1/4 w-1 h-1 bg-purple-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),(0,ba.jsx)("div",{className:"absolute top-1/2 left-3/4 w-1.5 h-1.5 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"2s"}})]}),(0,ba.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:(0,ba.jsxs)("div",{className:"w-full max-w-md",children:[(0,ba.jsxs)("div",{className:"text-center mb-10",children:[(0,ba.jsx)("div",{className:"relative mb-6",children:(0,ba.jsxs)("div",{className:"w-20 h-20 mx-auto relative",children:[(0,ba.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 p-1",children:(0,ba.jsx)("div",{className:"w-full h-full rounded-3xl bg-white/10 backdrop-blur-xl flex items-center justify-center group",children:(0,ba.jsx)(js,{className:"w-10 h-10 text-white drop-shadow-lg group-hover:scale-110 transition-transform duration-300"})})}),(0,ba.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 blur-lg opacity-50 animate-pulse"}),(0,ba.jsx)(ci,{className:"absolute -top-2 -right-2 w-6 h-6 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})]})}),(0,ba.jsxs)("div",{className:"space-y-3",children:[(0,ba.jsx)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 dark:from-white dark:via-blue-100 dark:to-purple-100",children:"Welcome Back"}),(0,ba.jsxs)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:["Sign in to ",(0,ba.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:fa.APP_NAME})]}),(0,ba.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ba.jsx)("span",{children:"Secure Login"})]}),(0,ba.jsx)("span",{children:"\u2022"}),(0,ba.jsx)("span",{children:"Ultra-Modern Marketplace"})]})]})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-8 backdrop-blur-2xl border-white/30",children:[(0,ba.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),h(!0),o(null);try{const t=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(!t.ok)throw new Error("Login failed: ".concat(t.status));const r=await t.json();localStorage.setItem("cataloro_token",r.token),localStorage.setItem("cataloro_user",JSON.stringify(r.user)),window.location.href="/browse"}catch(i){o(i.message||"Login failed. Please check your credentials."),console.error("Login error:",i)}finally{l(!1),h(!1)}},className:"space-y-6",children:[i&&(0,ba.jsx)("div",{className:"bg-red-500/10 border border-red-300/30 text-red-700 dark:text-red-300 px-5 py-4 rounded-2xl backdrop-blur-sm animate-pulse",children:(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,ba.jsx)("span",{className:"font-medium",children:i})]})}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Email Address"}),(0,ba.jsxs)("div",{className:"relative group",children:[(0,ba.jsx)(Zs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 w-5 h-5 transition-colors duration-200"}),(0,ba.jsx)("input",{type:"email",name:"email",required:!0,value:e.email,onChange:m,className:"cataloro-input pl-12 h-14 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50",placeholder:"Enter your email address"}),(0,ba.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),(0,ba.jsxs)("div",{className:"space-y-2",children:[(0,ba.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Password"}),(0,ba.jsxs)("div",{className:"relative group",children:[(0,ba.jsx)(hl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 w-5 h-5 transition-colors duration-200"}),(0,ba.jsx)("input",{type:r?"text":"password",name:"password",required:!0,value:e.password,onChange:m,className:"cataloro-input pl-12 pr-12 h-14 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50",placeholder:"Enter your password"}),(0,ba.jsx)("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:r?(0,ba.jsx)(ai,{className:"w-5 h-5"}):(0,ba.jsx)(yn,{className:"w-5 h-5"})}),(0,ba.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),(0,ba.jsxs)("button",{type:"submit",disabled:n||u,className:"w-full relative h-14 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold text-lg hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl group overflow-hidden",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ba.jsx)("div",{className:"relative flex items-center justify-center space-x-2",children:n||u?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,ba.jsx)("span",{children:"Signing You In..."})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{children:"Sign In"}),(0,ba.jsx)(En,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})})]})]}),(0,ba.jsxs)("div",{className:"mt-8 pt-6 border-t border-white/20",children:[(0,ba.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 text-center mb-6",children:(0,ba.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,ba.jsx)(ci,{className:"w-4 h-4 text-yellow-500"}),(0,ba.jsx)("span",{children:"Try the premium demo experience"}),(0,ba.jsx)(ci,{className:"w-4 h-4 text-yellow-500"})]})}),(0,ba.jsxs)("div",{className:"space-y-3",children:[(0,ba.jsxs)("button",{onClick:()=>p("user"),disabled:n||u,className:"w-full h-12 rounded-xl bg-white/20 dark:bg-white/10 backdrop-blur-sm border border-white/30 text-gray-700 dark:text-gray-200 font-semibold hover:bg-white/30 dark:hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 group flex items-center justify-center space-x-3",children:[(0,ba.jsx)(Bs,{className:"w-5 h-5 text-blue-500"}),(0,ba.jsx)("span",{children:"Demo User Experience"}),(0,ba.jsx)(En,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]}),(0,ba.jsxs)("button",{onClick:()=>p("admin"),disabled:n||u,className:"w-full h-12 rounded-xl bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm border border-purple-300/30 text-purple-700 dark:text-purple-300 font-semibold hover:from-purple-500/30 hover:to-pink-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 group flex items-center justify-center space-x-3",children:[(0,ba.jsx)(Ns,{className:"w-5 h-5 text-purple-500"}),(0,ba.jsx)("span",{children:"Demo Admin Panel"}),(0,ba.jsx)(En,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]})]}),(0,ba.jsx)("div",{className:"mt-8 text-center",children:(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["New to ",fa.APP_NAME,"?"," ",(0,ba.jsx)(Pe,{to:"/register",className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all duration-300",children:"Create your account \u2192"})]})})]})]})})]})};const ui=function(){const[e,t]=(0,a.useState)({username:"",email:"",full_name:"",password:"",confirmPassword:""}),[r,s]=(0,a.useState)(!1),[n,l]=(0,a.useState)(!1),{register:i,isAuthenticated:o,isLoading:c,error:d,clearError:u}=Aa(),h=te();(0,a.useEffect)(()=>{o&&h(xa.BROWSE)},[o,h]),(0,a.useEffect)(()=>()=>u(),[u]);const m=r=>{t(Ie(Ie({},e),{},{[r.target.name]:r.target.value})),u()},p=()=>e.password!==e.confirmPassword?"Passwords do not match":e.password.length<6?"Password must be at least 6 characters":null,x=p();return(0,ba.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,ba.jsxs)("div",{className:"max-w-md w-full",children:[(0,ba.jsxs)("div",{className:"text-center mb-8",children:[(0,ba.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,ba.jsx)("span",{className:"text-white font-bold text-2xl",children:"C"})}),(0,ba.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Join ",fa.APP_NAME]}),(0,ba.jsx)("p",{className:"text-gray-600",children:"Create your marketplace account"})]}),(0,ba.jsxs)("div",{className:"cataloro-card p-8",children:[(0,ba.jsxs)("form",{onSubmit:async t=>{t.preventDefault();if(!p())try{await i({username:e.username,email:e.email,full_name:e.full_name,password:e.password}),h(xa.BROWSE)}catch(d){console.error("Registration failed:",d)}},className:"space-y-6",children:[(d||x)&&(0,ba.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:d||x}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ba.jsx)("input",{type:"text",name:"full_name",required:!0,value:e.full_name,onChange:m,className:"cataloro-input pl-10",placeholder:"Enter your full name"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ba.jsx)("input",{type:"text",name:"username",required:!0,value:e.username,onChange:m,className:"cataloro-input pl-10",placeholder:"Choose a username"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ba.jsx)("input",{type:"email",name:"email",required:!0,value:e.email,onChange:m,className:"cataloro-input pl-10",placeholder:"Enter your email"})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)(hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ba.jsx)("input",{type:r?"text":"password",name:"password",required:!0,value:e.password,onChange:m,className:"cataloro-input pl-10 pr-10",placeholder:"Create a password"}),(0,ba.jsx)("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?(0,ba.jsx)(ai,{className:"w-5 h-5"}):(0,ba.jsx)(yn,{className:"w-5 h-5"})})]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsx)(hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ba.jsx)("input",{type:n?"text":"password",name:"confirmPassword",required:!0,value:e.confirmPassword,onChange:m,className:"cataloro-input pl-10 pr-10",placeholder:"Confirm your password"}),(0,ba.jsx)("button",{type:"button",onClick:()=>l(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?(0,ba.jsx)(ai,{className:"w-5 h-5"}):(0,ba.jsx)(yn,{className:"w-5 h-5"})})]})]}),(0,ba.jsx)("button",{type:"submit",disabled:c||x,className:"w-full cataloro-button-primary disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,ba.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ba.jsx)("div",{className:"spinner mr-2"}),"Creating Account..."]}):"Create Account"})]}),(0,ba.jsx)("div",{className:"mt-6 text-center",children:(0,ba.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,ba.jsx)(Pe,{to:xa.LOGIN,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})})]})]})})},hi=bs("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),mi=bs("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),pi=bs("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),xi={users:cl,package:ws,trending:Fs,star:Sn,zap:Vn,target:_l,store:js,"shopping-cart":Cs,"message-circle":_s,settings:Ys,shield:Ns,search:Ks,heart:Ss,bell:Es,"bar-chart":$s,award:Js,lightbulb:hi,rocket:mi,clock:Ms},fi={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",yellow:"from-yellow-500 to-yellow-600",red:"from-red-500 to-red-600",pink:"from-pink-500 to-pink-600","blue-purple":"from-blue-500 to-purple-600","green-teal":"from-green-500 to-teal-600","orange-red":"from-orange-500 to-red-600","purple-pink":"from-purple-500 to-pink-600"};const gi=function(){const[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),[n,l]=(0,a.useState)(null);if((0,a.useEffect)(()=>{(async()=>{try{s(!0);const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/admin/content"));if(!e.ok)throw new Error("Failed to load content");{const r=await e.json();if(t(r),r.seo){document.title=r.seo.title||"Cataloro - Ultra-Modern Marketplace Platform";let e=document.querySelector('meta[name="description"]');e||(e=document.createElement("meta"),e.name="description",document.head.appendChild(e)),e.content=r.seo.description||"Experience the future of online commerce";let t=document.querySelector('meta[name="keywords"]');if(t||(t=document.createElement("meta"),t.name="keywords",document.head.appendChild(t)),t.content=Array.isArray(r.seo.keywords)?r.seo.keywords.join(", "):r.seo.keywords||"",r.seo.ogImage){let e=document.querySelector('meta[property="og:image"]');e||(e=document.createElement("meta"),e.setAttribute("property","og:image"),document.head.appendChild(e)),e.content=r.seo.ogImage}}}}catch(n){console.error("Error loading CMS content:",n),l(n.message)}finally{s(!1)}})()},[]),r)return(0,ba.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)($n,{className:"w-12 h-12 text-purple-400 animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-lg text-white",children:"Loading content..."})]})});if(n)return(0,ba.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ba.jsx)(Ns,{className:"w-8 h-8 text-red-400"})}),(0,ba.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Content Loading Error"}),(0,ba.jsx)("p",{className:"text-gray-300 mb-4",children:"Unable to load page content from CMS"}),(0,ba.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors",children:"Retry"})]})});const i={hero:(null===e||void 0===e?void 0:e.hero)||{title:"Cataloro",subtitle:"The Future of Online Marketplace",description:"Experience next-generation commerce with our ultra-modern platform featuring intelligent matching, real-time communication, and seamless transactions.",primaryButtonText:"Start Trading Now",primaryButtonLink:"/login",secondaryButtonText:"Explore Features",secondaryButtonLink:"/browse",backgroundImage:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=1920&h=1080&fit=crop&crop=center",heroImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop&crop=center",showHeroImage:!0,heroImagePosition:"right",showVideo:!1,videoUrl:"https://player.vimeo.com/video/123456789"},stats:(null===e||void 0===e?void 0:e.stats)||[{label:"Active Users",value:"25K+",icon:"users",color:"blue"},{label:"Products Listed",value:"150K+",icon:"package",color:"green"},{label:"Successful Deals",value:"75K+",icon:"trending",color:"purple"},{label:"User Satisfaction",value:"4.9\u2605",icon:"star",color:"yellow"}],features:(null===e||void 0===e?void 0:e.features)||{title:"Advanced Platform Features",description:"Discover the comprehensive suite of tools that make Cataloro the most advanced marketplace platform.",backgroundImage:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=1920&h=1080&fit=crop&crop=center",categories:[]},testimonials:(null===e||void 0===e?void 0:e.testimonials)||{enabled:!0,title:"What Our Users Say",description:"Join thousands of satisfied users who trust Cataloro for their marketplace needs.",backgroundImage:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1920&h=1080&fit=crop&crop=center",items:[]},about:(null===e||void 0===e?void 0:e.about)||{enabled:!0,title:"About Cataloro",subtitle:"Revolutionizing Digital Commerce",description:"Founded with the vision to transform online trading, we combine cutting-edge technology with user-centric design to create the ultimate marketplace experience.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop&crop=center",features:["AI-Powered Matching","Real-time Communication","Advanced Security","Global Reach"]},team:(null===e||void 0===e?void 0:e.team)||{enabled:!0,title:"Meet Our Team",description:"Passionate experts dedicated to revolutionizing digital commerce.",backgroundImage:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&h=1080&fit=crop&crop=center",members:[]},cta:(null===e||void 0===e?void 0:e.cta)||{title:"Ready to Transform Your Trading?",description:"Join thousands of users experiencing the future of online commerce.",primaryButtonText:"Start Your Journey",primaryButtonLink:"/login",secondaryButtonText:"Explore Platform",secondaryButtonLink:"/browse",backgroundImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&h=1080&fit=crop&crop=center"}};return(0,ba.jsxs)("div",{className:"min-h-screen",children:[(0,ba.jsxs)("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(i.hero.backgroundImage,")"),filter:"brightness(0.4)"}}),(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-purple-900/50 to-black/70"}),(0,ba.jsx)("div",{className:"absolute inset-0",children:[...Array(20)].map((e,t)=>(0,ba.jsx)("div",{className:"absolute w-2 h-2 bg-white/20 rounded-full animate-pulse",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(3+4*Math.random(),"s")}},t))}),(0,ba.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[(0,ba.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[80vh]",children:[(0,ba.jsx)("div",{className:"".concat("left"===i.hero.heroImagePosition?"lg:order-2":"lg:order-1"," text-center lg:text-left"),children:(0,ba.jsxs)("div",{className:"mb-8",children:[(0,ba.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-white/10 backdrop-blur-md rounded-full px-6 py-3 mb-6",children:[(0,ba.jsx)(ci,{className:"w-5 h-5 text-yellow-400"}),(0,ba.jsx)("span",{className:"text-white font-medium",children:"The Future is Here"})]}),(0,ba.jsx)("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white via-purple-200 to-pink-200 mb-6 leading-tight",children:i.hero.title}),(0,ba.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-purple-200 mb-8",children:i.hero.subtitle}),(0,ba.jsx)("p",{className:"text-lg md:text-xl text-gray-300 mb-12 leading-relaxed max-w-2xl mx-auto lg:mx-0",children:i.hero.description}),(0,ba.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center lg:justify-start",children:[(0,ba.jsxs)(Pe,{to:i.hero.primaryButtonLink,className:"group relative px-10 py-5 rounded-2xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-purple-500/25",children:[(0,ba.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ba.jsxs)("div",{className:"relative flex items-center justify-center space-x-3",children:[(0,ba.jsx)("span",{children:i.hero.primaryButtonText}),(0,ba.jsx)(En,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,ba.jsx)(Pe,{to:i.hero.secondaryButtonLink,className:"group px-10 py-5 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-lg hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:(0,ba.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,ba.jsx)(Ol,{className:"w-6 h-6"}),(0,ba.jsx)("span",{children:i.hero.secondaryButtonText})]})})]})]})}),i.hero.showHeroImage&&i.hero.heroImage&&(0,ba.jsx)("div",{className:"".concat("left"===i.hero.heroImagePosition?"lg:order-1":"lg:order-2"," relative"),children:(0,ba.jsxs)("div",{className:"relative group",children:[(0,ba.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-500"}),(0,ba.jsxs)("div",{className:"relative bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl",children:[(0,ba.jsx)("img",{src:i.hero.heroImage,alt:"Hero",className:"w-full h-auto max-h-96 object-contain rounded-2xl transform group-hover:scale-105 transition-transform duration-500"}),(0,ba.jsx)("div",{className:"absolute -top-6 -right-6 w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-xl animate-bounce",children:(0,ba.jsx)(mi,{className:"w-6 h-6 text-white"})}),(0,ba.jsx)("div",{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-xl",children:(0,ba.jsx)(Vn,{className:"w-8 h-8 text-white"})}),(0,ba.jsx)("div",{className:"absolute top-1/2 -right-8 w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:(0,ba.jsx)(Sn,{className:"w-5 h-5 text-white"})})]})]})})]}),(0,ba.jsx)("div",{className:"flex justify-center mt-16",children:(0,ba.jsx)("div",{className:"animate-bounce",children:(0,ba.jsx)("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:(0,ba.jsx)("div",{className:"w-1 h-3 bg-white rounded-full mt-2 animate-pulse"})})})})]})]}),(0,ba.jsxs)("section",{className:"relative py-20 bg-white overflow-hidden",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-white"}),(0,ba.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:(0,ba.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:i.stats.map((e,t)=>{const r=xi[e.icon]||Sn,a=fi[e.color]||"from-purple-500 to-pink-600";return(0,ba.jsxs)("div",{className:"group text-center",children:[(0,ba.jsx)("div",{className:"relative mb-6",children:(0,ba.jsx)("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br ".concat(a," flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-500 transform group-hover:scale-110 group-hover:-rotate-6"),children:(0,ba.jsx)(r,{className:"w-10 h-10 text-white"})})}),(0,ba.jsx)("div",{className:"text-4xl font-black text-gray-900 mb-2 group-hover:text-purple-600 transition-colors duration-300",children:e.value}),(0,ba.jsx)("div",{className:"text-lg font-semibold text-gray-600 group-hover:text-gray-900 transition-colors duration-300",children:e.label})]},t)})})})]}),i.about.enabled&&(0,ba.jsx)("section",{className:"py-20 bg-gradient-to-br from-slate-900 to-purple-900",children:(0,ba.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,ba.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-purple-500/20 rounded-full px-4 py-2 mb-6",children:[(0,ba.jsx)(Js,{className:"w-5 h-5 text-purple-400"}),(0,ba.jsx)("span",{className:"text-purple-300 font-medium",children:"About Us"})]}),(0,ba.jsx)("h2",{className:"text-5xl font-black text-white mb-6",children:i.about.title}),(0,ba.jsx)("h3",{className:"text-2xl font-bold text-purple-300 mb-8",children:i.about.subtitle}),(0,ba.jsx)("p",{className:"text-xl text-gray-300 leading-relaxed mb-8",children:i.about.description})]}),(0,ba.jsx)("div",{className:"grid grid-cols-2 gap-6",children:i.about.features.map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-xl bg-white/5 backdrop-blur-sm",children:[(0,ba.jsx)(on,{className:"w-6 h-6 text-green-400 flex-shrink-0"}),(0,ba.jsx)("span",{className:"text-white font-medium",children:e})]},t))})]}),(0,ba.jsxs)("div",{className:"relative",children:[(0,ba.jsxs)("div",{className:"relative overflow-hidden rounded-3xl shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-500",children:[(0,ba.jsx)("img",{src:i.about.image,alt:"About Cataloro",className:"w-full h-96 object-cover"}),(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/50 to-transparent"})]}),(0,ba.jsx)("div",{className:"absolute -top-6 -right-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl p-4 shadow-xl",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"text-2xl font-black text-white",children:"4.9\u2605"}),(0,ba.jsx)("div",{className:"text-sm text-white font-medium",children:"Rating"})]})})]})]})})}),(0,ba.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(i.features.backgroundImage,")"),filter:"brightness(0.1)"}}),(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-purple-900/70 to-black/80"}),(0,ba.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[(0,ba.jsxs)("div",{className:"text-center mb-16",children:[(0,ba.jsx)("h2",{className:"text-5xl font-black text-white mb-8",children:i.features.title}),(0,ba.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:i.features.description})]}),i.features.categories&&i.features.categories.length>0&&(0,ba.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.features.categories.slice(0,6).map((e,t)=>{const r=xi[e.icon]||Ys,a=fi[e.color]||"from-purple-500 to-pink-600";return(0,ba.jsx)("div",{className:"group",children:(0,ba.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 hover:bg-white/20 transition-all duration-500 transform hover:scale-105 hover:-translate-y-2",children:[(0,ba.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br ".concat(a," flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300"),children:(0,ba.jsx)(r,{className:"w-8 h-8 text-white"})}),(0,ba.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:e.name}),(0,ba.jsx)("p",{className:"text-gray-300 mb-6",children:e.description}),e.features&&e.features.slice(0,3).map((e,t)=>(0,ba.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,ba.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,ba.jsx)("span",{className:"text-gray-300 text-sm",children:e})]},t))]})},t)})})]})]}),i.testimonials.enabled&&i.testimonials.items&&i.testimonials.items.length>0&&(0,ba.jsx)("section",{className:"relative py-24 bg-gradient-to-br from-white to-gray-100",children:(0,ba.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,ba.jsxs)("div",{className:"text-center mb-16",children:[(0,ba.jsx)("h2",{className:"text-5xl font-black text-gray-900 mb-8",children:i.testimonials.title}),(0,ba.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:i.testimonials.description})]}),(0,ba.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:i.testimonials.items.slice(0,3).map((e,t)=>(0,ba.jsx)("div",{className:"group",children:(0,ba.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:scale-105 border-l-4 border-purple-500",children:[(0,ba.jsx)("div",{className:"mb-6",children:(0,ba.jsx)(pi,{className:"w-12 h-12 text-purple-500 opacity-50"})}),(0,ba.jsxs)("p",{className:"text-gray-700 text-lg mb-8 italic",children:['"',e.content,'"']}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,ba.jsx)("span",{className:"text-white font-bold text-lg",children:e.name.charAt(0)})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"font-bold text-gray-900",children:e.name}),(0,ba.jsx)("div",{className:"text-gray-600",children:e.role}),(0,ba.jsx)("div",{className:"flex items-center mt-1",children:[...Array(5)].map((t,r)=>(0,ba.jsx)(Sn,{className:"w-4 h-4 ".concat(r<e.rating?"text-yellow-400 fill-current":"text-gray-300")},r))})]})]})]})},t))})]})}),(0,ba.jsxs)("section",{className:"relative py-24 overflow-hidden",children:[(0,ba.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(".concat(i.cta.backgroundImage,")"),filter:"brightness(0.3)"}}),(0,ba.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/90 via-pink-900/70 to-purple-900/90"}),(0,ba.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[(0,ba.jsx)("h2",{className:"text-6xl font-black text-white mb-8",children:i.cta.title}),(0,ba.jsx)("p",{className:"text-2xl text-gray-300 mb-12 leading-relaxed",children:i.cta.description}),(0,ba.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[(0,ba.jsxs)(Pe,{to:i.cta.primaryButtonLink,className:"group relative px-12 py-6 rounded-2xl bg-gradient-to-r from-white to-gray-100 text-gray-900 font-bold text-xl hover:from-gray-100 hover:to-white transition-all duration-300 transform hover:scale-105 shadow-2xl",children:[(0,ba.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-purple-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,ba.jsxs)("div",{className:"relative flex items-center justify-center space-x-3",children:[(0,ba.jsx)("span",{children:i.cta.primaryButtonText}),(0,ba.jsx)(En,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})]}),(0,ba.jsx)(Pe,{to:i.cta.secondaryButtonLink,className:"group px-12 py-6 rounded-2xl bg-white/10 backdrop-blur-md border-2 border-white/30 text-white font-bold text-xl hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:(0,ba.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,ba.jsx)(vs,{className:"w-6 h-6"}),(0,ba.jsx)("span",{children:i.cta.secondaryButtonText})]})})]})]})]})]})},yi=bs("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const bi=function(){const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,l]=(0,a.useState)("all"),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),{user:u}=Aa(),{showToast:h}=Ha();(0,a.useEffect)(()=>{m()},[null===u||void 0===u?void 0:u.id]);const m=async()=>{try{s(!0);const e=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/").concat(u.id,"/notifications"));if(e.ok){const r=await e.json();t(r.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)))}else{const e=JSON.parse(localStorage.getItem("user_notifications")||"[]");t(e)}}catch(e){console.error("Error loading notifications:",e),h("Failed to load notifications","error")}finally{s(!1)}},p=async e=>{try{const r=Array.isArray(e)?e:[e];for(const e of r)await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/").concat(u.id,"/notifications/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({read:!0})});t(e=>e.map(e=>r.includes(e.id)?Ie(Ie({},e),{},{read:!0}):e)),h("Marked as read","success")}catch(r){console.error("Error marking as read:",r),h("Failed to mark as read","error")}},x=async e=>{try{const r=Array.isArray(e)?e:[e];for(const e of r)await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/").concat(u.id,"/notifications/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({read:!1})});t(e=>e.map(e=>r.includes(e.id)?Ie(Ie({},e),{},{read:!1}):e)),h("Marked as unread","success")}catch(r){console.error("Error marking as unread:",r),h("Failed to mark as unread","error")}},f=async e=>{try{const r=Array.isArray(e)?e:[e];for(const e of r)await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/user/").concat(u.id,"/notifications/").concat(e),{method:"DELETE"});t(e=>e.filter(e=>!r.includes(e.id))),d([]),h("Deleted ".concat(r.length," notification(s)"),"success")}catch(r){console.error("Error deleting notifications:",r),h("Failed to delete notifications","error")}},g=e.filter(e=>{var t,r;const a="all"===n||"unread"===n&&!e.read||"read"===n&&e.read||"system"===n&&"system"===e.type,s=!i||(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(r=e.message)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase()));return a&&s}),y=e=>{switch(e){case"success":return(0,ba.jsx)(on,{className:"w-5 h-5 text-green-500"});case"warning":return(0,ba.jsx)(cn,{className:"w-5 h-5 text-yellow-500"});case"error":return(0,ba.jsx)(cn,{className:"w-5 h-5 text-red-500"});case"info":return(0,ba.jsx)(un,{className:"w-5 h-5 text-blue-500"});case"welcome":return(0,ba.jsx)(yi,{className:"w-5 h-5 text-purple-500"});default:return(0,ba.jsx)(Es,{className:"w-5 h-5 text-gray-500"})}},b=e=>{switch(e){case"success":return"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700";case"warning":return"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-700";case"error":return"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700";case"info":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-700";case"welcome":return"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-700";default:return"bg-gray-50 border-gray-200 dark:bg-gray-800/50 dark:border-gray-700"}};return r?(0,ba.jsxs)("div",{className:"fade-in",children:[(0,ba.jsxs)("div",{className:"mb-8",children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Notifications Center"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage all your notifications"})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-8 text-center",children:[(0,ba.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading notifications..."})]})]}):(0,ba.jsxs)("div",{className:"fade-in",children:[(0,ba.jsxs)("div",{className:"mb-8",children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Notifications Center"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage all your system notifications and alerts"})]}),(0,ba.jsxs)("div",{className:"cataloro-card-glass p-6 mb-8",children:[(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,ba.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[(0,ba.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,ba.jsx)(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ba.jsx)("input",{type:"text",placeholder:"Search notifications...",value:i,onChange:e=>o(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)(tl,{className:"w-5 h-5 text-gray-400"}),(0,ba.jsxs)("select",{value:n,onChange:e=>l(e.target.value),className:"px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ba.jsx)("option",{value:"all",children:"All Notifications"}),(0,ba.jsx)("option",{value:"unread",children:"Unread Only"}),(0,ba.jsx)("option",{value:"read",children:"Read Only"}),(0,ba.jsx)("option",{value:"system",children:"System Notifications"})]})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ba.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.length," of ",e.length," notifications"]}),(0,ba.jsx)("button",{onClick:m,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",title:"Refresh",children:(0,ba.jsx)(Ps,{className:"w-5 h-5"})}),(0,ba.jsx)("button",{onClick:async()=>{const t=e.filter(e=>!e.read).map(e=>e.id);t.length>0&&await p(t)},className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Mark All Read"})]})]}),c.length>0&&(0,ba.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c.length," selected"]}),(0,ba.jsx)("button",{onClick:()=>{d(g.map(e=>e.id))},className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:"Select All"}),(0,ba.jsx)("button",{onClick:()=>{d([])},className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Deselect All"})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsxs)("button",{onClick:()=>p(c),className:"px-3 py-1 bg-green-100 text-green-700 text-sm rounded-lg hover:bg-green-200 transition-colors flex items-center",children:[(0,ba.jsx)(yn,{className:"w-4 h-4 mr-1"}),"Mark Read"]}),(0,ba.jsxs)("button",{onClick:()=>x(c),className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-lg hover:bg-blue-200 transition-colors flex items-center",children:[(0,ba.jsx)(ai,{className:"w-4 h-4 mr-1"}),"Mark Unread"]}),(0,ba.jsxs)("button",{onClick:()=>f(c),className:"px-3 py-1 bg-red-100 text-red-700 text-sm rounded-lg hover:bg-red-200 transition-colors flex items-center",children:[(0,ba.jsx)(Rs,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})})]}),0===g.length?(0,ba.jsxs)("div",{className:"cataloro-card-glass p-12 text-center",children:[(0,ba.jsx)(Es,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:i?"No matching notifications":"No notifications"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:i?'No notifications match your search for "'.concat(i,'"'):"unread"===n?"You're all caught up! No unread notifications.":"You don't have any notifications yet."})]}):(0,ba.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,ba.jsx)("div",{className:"p-6 rounded-xl border transition-all duration-200 ".concat(b(e.type)," ").concat(e.read?"":"ring-2 ring-blue-200 dark:ring-blue-700"),children:(0,ba.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ba.jsx)("input",{type:"checkbox",checked:c.includes(e.id),onChange:()=>{return t=e.id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ba.jsx)("div",{className:"flex-shrink-0 mt-1",children:y(e.type)}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ba.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ba.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.title}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[!e.read&&(0,ba.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,ba.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.created_at||e.timestamp).toLocaleString()})]})]}),(0,ba.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:e.message||e.content}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[e.read?(0,ba.jsxs)("button",{onClick:()=>x(e.id),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 flex items-center",children:[(0,ba.jsx)(ai,{className:"w-4 h-4 mr-1"}),"Mark as unread"]}):(0,ba.jsxs)("button",{onClick:()=>p(e.id),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 flex items-center",children:[(0,ba.jsx)(yn,{className:"w-4 h-4 mr-1"}),"Mark as read"]}),(0,ba.jsxs)("button",{onClick:()=>f(e.id),className:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 flex items-center",children:[(0,ba.jsx)(Rs,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})},e.id))}),g.length>0&&g.length<e.length&&(0,ba.jsx)("div",{className:"text-center mt-8",children:(0,ba.jsx)("button",{className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Load More Notifications"})})]})};const vi=function(){const{user:e}=Aa(),{showToast:t}=Ha(),[r,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&m()},[e]);const m=async()=>{if(e)try{l(!0);const r=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/tenders/seller/").concat(e.id,"/overview"));if(r.ok){const e=await r.json();s(e)}else t("Failed to load tender overview","error")}catch(r){console.error("Failed to fetch tenders overview:",r),t("Error loading tender data","error")}finally{l(!1)}};if(!e)return(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Please Login"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You need to be logged in to manage tenders."})]});if(n)return(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading tender overview..."})]})});const p=r.reduce((e,t)=>e+t.tender_count,0),x=r.reduce((e,t)=>e+(t.highest_offer||0),0);return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tender Management"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage tender offers for your listings"})]}),(0,ba.jsxs)("button",{onClick:m,className:"mt-4 lg:mt-0 flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Refresh"})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ba.jsx)(cl,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Listings"}),(0,ba.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,ba.jsx)(Fs,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tenders"}),(0,ba.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,ba.jsx)(ks,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Bid Value"}),(0,ba.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",x.toFixed(2)]})]})]})})]}),0===r.length?(0,ba.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,ba.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(ks,{className:"w-8 h-8 text-gray-400"})}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Active Listings"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You don't have any active listings receiving tender offers."})]}):(0,ba.jsx)("div",{className:"space-y-6",children:r.map(r=>{var a;return(0,ba.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,ba.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ba.jsx)("img",{src:(null===(a=r.listing.images)||void 0===a?void 0:a[0])||"/api/placeholder/400/300",alt:r.listing.title,className:"w-20 h-20 object-cover rounded-lg"}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:r.listing.title}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Starting Price: \u20ac",r.listing.price.toFixed(2)]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,ba.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:[(0,ba.jsx)(cl,{className:"w-3 h-3 mr-1"}),r.tender_count," tender",1!==r.tender_count?"s":""]}),r.highest_offer>0&&(0,ba.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[(0,ba.jsx)(Fs,{className:"w-3 h-3 mr-1"}),"Highest: \u20ac",r.highest_offer.toFixed(2)]})]})]}),(0,ba.jsxs)("button",{onClick:()=>o(i===r.listing.id?null:r.listing.id),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ba.jsx)(yn,{className:"w-4 h-4"}),(0,ba.jsxs)("span",{children:[i===r.listing.id?"Hide":"View"," Tenders"]})]})]})}),i===r.listing.id&&(0,ba.jsx)("div",{className:"p-6",children:0===r.tenders.length?(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"No active tenders for this listing."}):(0,ba.jsx)("div",{className:"space-y-4",children:r.tenders.map((a,s)=>(0,ba.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white ".concat(0===s?"bg-yellow-500":"bg-gray-400"),children:["#",s+1]}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:["\u20ac",a.offer_amount.toFixed(2)]}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["by ",a.buyer.full_name||a.buyer.username]}),(0,ba.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[(0,ba.jsx)(Ms,{className:"w-3 h-3 inline mr-1"}),new Date(a.created_at).toLocaleDateString()," at ",new Date(a.created_at).toLocaleTimeString()]})]})]}),(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsx)("button",{onClick:()=>(async(r,a,s)=>{if(!e)return;if(window.confirm("Accept tender offer of \u20ac".concat(s.toFixed(2),' for "').concat(a,'"?\n\nThis will:\n- Accept this tender\n- Reject all other tenders for this listing\n- Mark the listing as SOLD\n- Send notifications to all bidders\n- Create a message thread with the winning bidder')))try{d(r);const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/tenders/").concat(r,"/accept"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Tender offer of \u20ac".concat(s.toFixed(2)," accepted!"),"success"),m();else{const e=await a.json();t(e.detail||"Failed to accept tender","error")}}catch(n){console.error("Error accepting tender:",n),t("Error accepting tender. Please try again.","error")}finally{d(null)}})(a.id,r.listing.title,a.offer_amount),disabled:c===a.id,className:"px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:c===a.id?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ba.jsx)("span",{children:"Accepting..."})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(on,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Accept"})]})}),(0,ba.jsx)("button",{onClick:()=>(async(r,a,s)=>{if(!e)return;if(window.confirm("Reject tender offer of \u20ac".concat(s.toFixed(2),' for "').concat(a,'"?\n\nThis will send a rejection notification to the bidder.')))try{h(r);const a=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/tenders/").concat(r,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_id:e.id})});if(a.ok)t("Tender offer rejected","info"),m();else{const e=await a.json();t(e.detail||"Failed to reject tender","error")}}catch(n){console.error("Error rejecting tender:",n),t("Error rejecting tender. Please try again.","error")}finally{h(null)}})(a.id,r.listing.title,a.offer_amount),disabled:u===a.id,className:"px-3 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:u===a.id?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,ba.jsx)("span",{children:"Rejecting..."})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Zn,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Reject"})]})}),(0,ba.jsx)("button",{className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",title:"Message bidder",children:(0,ba.jsx)(_s,{className:"w-4 h-4"})})]})]},a.id))})})]},r.listing.id)})})]})};const ji=function(){const{user:e}=Aa(),{showToast:t}=Ha(),[r,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{e&&i()},[e]);const i=async()=>{if(e)try{l(!0);const r=await fetch("".concat("https://tender-system.preview.emergentagent.com","/api/tenders/buyer/").concat(e.id));if(r.ok){const e=await r.json();s(e)}else t("Failed to load your tenders","error")}catch(r){console.error("Failed to fetch my tenders:",r),t("Error loading tender data","error")}finally{l(!1)}},o=e=>{switch(e){case"active":return(0,ba.jsx)(Ms,{className:"w-5 h-5 text-yellow-500"});case"accepted":return(0,ba.jsx)(on,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,ba.jsx)(Zn,{className:"w-5 h-5 text-red-500"});default:return(0,ba.jsx)(cn,{className:"w-5 h-5 text-gray-500"})}},c=e=>{switch(e){case"active":return"Pending";case"accepted":return"Accepted";case"rejected":return"Rejected";default:return"Unknown"}},d=e=>{switch(e){case"active":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};if(!e)return(0,ba.jsxs)("div",{className:"text-center py-12",children:[(0,ba.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Please Login"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You need to be logged in to view your tenders."})]});if(n)return(0,ba.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your tenders..."})]})});const u=r.filter(e=>"active"===e.status),h=r.filter(e=>"accepted"===e.status),m=(r.filter(e=>"rejected"===e.status),r.reduce((e,t)=>e+t.offer_amount,0));return(0,ba.jsxs)("div",{className:"space-y-8",children:[(0,ba.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Tender Offers"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Track all your submitted tender offers and their status"})]}),(0,ba.jsxs)("button",{onClick:i,className:"mt-4 lg:mt-0 flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,ba.jsx)(Ps,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Refresh"})]})]}),(0,ba.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,ba.jsx)(ks,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tenders"}),(0,ba.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,ba.jsx)(Ms,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active"}),(0,ba.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u.length})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,ba.jsx)(on,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Accepted"}),(0,ba.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.length})]})]})}),(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:(0,ba.jsxs)("div",{className:"flex items-center",children:[(0,ba.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,ba.jsx)(Fs,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,ba.jsxs)("div",{className:"ml-4",children:[(0,ba.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Value"}),(0,ba.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\u20ac",m.toFixed(2)]})]})]})})]}),0===r.length?(0,ba.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,ba.jsx)("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ba.jsx)(ks,{className:"w-8 h-8 text-gray-400"})}),(0,ba.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Tender Offers"}),(0,ba.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You haven't submitted any tender offers yet."}),(0,ba.jsx)(Pe,{to:"/browse",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Browse Listings"})]}):(0,ba.jsx)("div",{className:"space-y-4",children:r.map(e=>{var t;return(0,ba.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,ba.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ba.jsx)("div",{className:"w-20 h-20 flex-shrink-0",children:(0,ba.jsx)("img",{src:(null===(t=e.listing.images)||void 0===t?void 0:t[0])||"/api/placeholder/400/300",alt:e.listing.title,className:"w-full h-full object-cover rounded-lg"})}),(0,ba.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ba.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.listing.title}),(0,ba.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Starting Price: \u20ac",e.listing.price.toFixed(2)]})]}),(0,ba.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(d(e.status)),children:[o(e.status),(0,ba.jsx)("span",{className:"ml-1",children:c(e.status)})]})]}),(0,ba.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,ba.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your Offer"}),(0,ba.jsxs)("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:["\u20ac",e.offer_amount.toFixed(2)]})]}),(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Submitted"}),(0,ba.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(e.created_at).toLocaleDateString()})]})]}),"accepted"===e.status&&(0,ba.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Congratulations!"}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Your tender was accepted"})]}),(0,ba.jsxs)("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",title:"Message seller",children:[(0,ba.jsx)(_s,{className:"w-4 h-4"}),(0,ba.jsx)("span",{children:"Contact Seller"})]})]}),"active"===e.status&&(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium",children:"Waiting for response"}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Seller will review your offer"})]}),"rejected"===e.status&&(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Not selected"}),(0,ba.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Better luck next time"})]})]})]})]})},e.id)})})]})};const wi=function(){return(0,a.useEffect)(()=>{const e=document.getElementById("app-loader");e&&setTimeout(()=>{e.style.display="none"},500)},[]),(0,ba.jsx)("div",{className:"App",children:(0,ba.jsx)(Oa,{children:(0,ba.jsx)(za,{children:(0,ba.jsx)(xs,{children:(0,ba.jsx)(Ee,{children:(0,ba.jsxs)(we,{children:[(0,ba.jsx)(ve,{path:xa.LOGIN,element:(0,ba.jsx)(di,{})}),(0,ba.jsx)(ve,{path:xa.REGISTER,element:(0,ba.jsx)(ui,{})}),(0,ba.jsx)(ve,{path:"/info",element:(0,ba.jsx)(gi,{})}),(0,ba.jsxs)(ve,{path:"/",element:(0,ba.jsx)(pn,{}),children:[(0,ba.jsx)(ve,{index:!0,element:(0,ba.jsx)(ye,{to:xa.BROWSE,replace:!0})}),(0,ba.jsx)(ve,{path:xa.BROWSE,element:(0,ba.jsx)(jn,{})}),(0,ba.jsx)(ve,{path:"categories",element:(0,ba.jsx)(On,{})}),(0,ba.jsx)(ve,{path:"cart",element:(0,ba.jsx)(Pn,{})}),(0,ba.jsx)(ve,{path:"product/:productId",element:(0,ba.jsx)(Dn,{})}),(0,ba.jsx)(ve,{path:"search",element:(0,ba.jsx)(jn,{})}),(0,ba.jsx)(ve,{path:"trending",element:(0,ba.jsx)(jn,{})}),(0,ba.jsx)(ve,{path:"create-listing",element:(0,ba.jsx)(Gn,{})}),(0,ba.jsx)(ve,{path:"edit-listing/:id",element:(0,ba.jsx)(Jn,{})}),(0,ba.jsx)(ve,{path:"pending-sales",element:(0,ba.jsx)(Xn,{})}),(0,ba.jsx)(ve,{path:"view-all-requests",element:(0,ba.jsx)(al,{})}),(0,ba.jsx)(ve,{path:xa.MY_LISTINGS,element:(0,ba.jsx)(Un,{})}),(0,ba.jsx)(ve,{path:"my-orders",element:(0,ba.jsx)(il,{})}),(0,ba.jsx)(ve,{path:xa.MY_DEALS,element:(0,ba.jsx)(il,{})}),(0,ba.jsx)(ve,{path:"messages",element:(0,ba.jsx)(oi,{})}),(0,ba.jsx)(ve,{path:xa.TENDERS.substring(1),element:(0,ba.jsx)(vi,{})}),(0,ba.jsx)(ve,{path:xa.MY_TENDERS.substring(1),element:(0,ba.jsx)(ji,{})}),(0,ba.jsx)(ve,{path:"notifications",element:(0,ba.jsx)(bi,{})}),(0,ba.jsx)(ve,{path:"analytics",element:(0,ba.jsx)(Zl,{})}),(0,ba.jsx)(ve,{path:"performance",element:(0,ba.jsx)(Zl,{})}),(0,ba.jsx)(ve,{path:xa.ADMIN_PANEL,element:(0,ba.jsx)(Zl,{})}),(0,ba.jsx)(ve,{path:"admin/analytics",element:(0,ba.jsx)(Zl,{})}),(0,ba.jsx)(ve,{path:"admin/users",element:(0,ba.jsx)(Zl,{})}),(0,ba.jsx)(ve,{path:xa.FAVORITES,element:(0,ba.jsx)(ei,{})}),(0,ba.jsx)(ve,{path:xa.NOTIFICATIONS,element:(0,ba.jsx)(ti,{})}),(0,ba.jsx)(ve,{path:xa.PROFILE,element:(0,ba.jsx)(si,{})}),(0,ba.jsx)(ve,{path:"profile/:userId",element:(0,ba.jsx)(ni,{})}),(0,ba.jsx)(ve,{path:"settings",element:(0,ba.jsx)(si,{})})]}),(0,ba.jsx)(ve,{path:"*",element:(0,ba.jsx)(ye,{to:xa.BROWSE,replace:!0})})]})})})})})})},ki=document.getElementById("root");(0,n.H)(ki).render((0,ba.jsx)(a.StrictMode,{children:(0,ba.jsx)(wi,{})}));var Ni;Ni&&Ni instanceof Function&&r.e(453).then(r.bind(r,6453)).then(e=>{let{getCLS:t,getFID:r,getFCP:a,getLCP:s,getTTFB:n}=e;t(Ni),r(Ni),a(Ni),s(Ni),n(Ni)})})()})();
//# sourceMappingURL=main.fe881868.js.map