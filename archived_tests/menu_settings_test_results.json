{
  "test_timestamp": "2025-09-11T15:43:05.255556",
  "menu_settings_get_endpoint": {
    "test_name": "Menu Settings GET Endpoint",
    "success": true,
    "response_time_ms": 52.28424072265625,
    "has_desktop_menu": true,
    "has_mobile_menu": true,
    "desktop_items_count": 1,
    "mobile_items_count": 1,
    "expected_desktop_items": 0,
    "expected_mobile_items": 0,
    "valid_item_structure": true,
    "sample_item": null,
    "full_response": {
      "desktop_menu": {
        "custom_items": [
          {
            "id": "workflow_external",
            "label": "External Resource",
            "url": "https://docs.example.com",
            "icon": "Store",
            "type": "custom_url",
            "target": "_blank",
            "position": 200,
            "enabled": true,
            "roles": [
              "admin",
              "manager"
            ]
          }
        ]
      },
      "mobile_menu": {
        "custom_items": [
          {
            "id": "workflow_external",
            "label": "External Resource",
            "url": "https://docs.example.com",
            "icon": "Store",
            "type": "custom_url",
            "target": "_blank",
            "position": 200,
            "enabled": true,
            "roles": [
              "admin",
              "manager"
            ]
          }
        ]
      }
    }
  },
  "data_structure_comparison": {
    "test_name": "Menu Settings Data Structure",
    "success": false,
    "desktop_comparison": {
      "has_browse": false,
      "has_create_listing": false,
      "has_messages": false,
      "has_my_listings": false,
      "has_tenders": false,
      "has_inventory": false,
      "has_admin_panel": false,
      "has_custom_items": true
    },
    "mobile_comparison": {
      "has_browse": false,
      "has_create_listing": false,
      "has_messages": false,
      "has_my_listings": false,
      "has_tenders": false,
      "has_inventory": false,
      "has_admin_drawer": false,
      "has_custom_items": true
    },
    "desktop_match_percent": 12.5,
    "mobile_match_percent": 12.5,
    "sample_item_properties": {},
    "actual_desktop_keys": [
      "custom_items"
    ],
    "actual_mobile_keys": [
      "custom_items"
    ],
    "expected_vs_actual": {
      "desktop_expected": [
        "browse",
        "create_listing",
        "messages",
        "my_listings",
        "tenders",
        "inventory",
        "admin_panel",
        "custom_items"
      ],
      "desktop_actual": [
        "custom_items"
      ],
      "mobile_expected": [
        "browse",
        "create_listing",
        "messages",
        "my_listings",
        "tenders",
        "inventory",
        "admin_drawer",
        "custom_items"
      ],
      "mobile_actual": [
        "custom_items"
      ]
    }
  },
  "menu_settings_post_endpoint": {
    "test_name": "Menu Settings POST Endpoint",
    "success": true,
    "response_time_ms": 18.259525299072266,
    "post_successful": true,
    "update_verified": true,
    "post_response": {
      "message": "Menu settings updated successfully",
      "settings": {
        "desktop_menu": {
          "custom_items": [
            {
              "id": "workflow_external",
              "label": "External Resource",
              "url": "https://docs.example.com",
              "icon": "Store",
              "type": "custom_url",
              "target": "_blank",
              "position": 200,
              "enabled": true,
              "roles": [
                "admin",
                "manager"
              ]
            }
          ],
          "browse": {
            "enabled": true,
            "label": "Browse Test",
            "roles": [
              "buyer",
              "seller"
            ]
          }
        },
        "mobile_menu": {
          "custom_items": [
            {
              "id": "workflow_external",
              "label": "External Resource",
              "url": "https://docs.example.com",
              "icon": "Store",
              "type": "custom_url",
              "target": "_blank",
              "position": 200,
              "enabled": true,
              "roles": [
                "admin",
                "manager"
              ]
            }
          ],
          "browse": {
            "enabled": true,
            "label": "Browse Test Mobile",
            "roles": [
              "buyer",
              "seller"
            ]
          }
        }
      }
    },
    "verification_data": {
      "desktop_menu": {
        "custom_items": [
          {
            "id": "workflow_external",
            "label": "External Resource",
            "url": "https://docs.example.com",
            "icon": "Store",
            "type": "custom_url",
            "target": "_blank",
            "position": 200,
            "enabled": true,
            "roles": [
              "admin",
              "manager"
            ]
          }
        ],
        "browse": {
          "enabled": true,
          "label": "Browse Test",
          "roles": [
            "buyer",
            "seller"
          ]
        }
      },
      "mobile_menu": {
        "custom_items": [
          {
            "id": "workflow_external",
            "label": "External Resource",
            "url": "https://docs.example.com",
            "icon": "Store",
            "type": "custom_url",
            "target": "_blank",
            "position": 200,
            "enabled": true,
            "roles": [
              "admin",
              "manager"
            ]
          }
        ],
        "browse": {
          "enabled": true,
          "label": "Browse Test Mobile",
          "roles": [
            "buyer",
            "seller"
          ]
        }
      }
    }
  },
  "default_items_verification": {
    "test_name": "Default Menu Items Verification",
    "success": false,
    "desktop_verification": [
      {
        "item": "browse",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "create_listing",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "messages",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "my_listings",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "tenders",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "inventory",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      }
    ],
    "mobile_verification": [
      {
        "item": "browse",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "create_listing",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "messages",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "my_listings",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "tenders",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      },
      {
        "item": "inventory",
        "exists": false,
        "has_enabled": false,
        "has_label": false,
        "has_roles": false,
        "valid_structure": false
      }
    ],
    "desktop_valid_items": 0,
    "mobile_valid_items": 0,
    "desktop_success_rate": 0.0,
    "mobile_success_rate": 0.0,
    "expected_items": [
      "browse",
      "create_listing",
      "messages",
      "my_listings",
      "tenders",
      "inventory"
    ],
    "total_expected": 6
  },
  "database_cleanup_impact": {
    "test_name": "Database Cleanup Impact",
    "success": false,
    "cleanup_analysis": {
      "has_desktop_menu": true,
      "has_mobile_menu": true,
      "desktop_menu_empty": false,
      "mobile_menu_empty": false,
      "has_custom_items": true,
      "corrupted_custom_items": 0,
      "placeholder_items": 0,
      "missing_desktop_defaults": [
        "browse",
        "create_listing",
        "messages",
        "my_listings",
        "tenders"
      ],
      "missing_mobile_defaults": [
        "browse",
        "create_listing",
        "messages",
        "my_listings",
        "tenders"
      ],
      "missing_defaults_count": 10
    },
    "cleanup_issues_detected": true,
    "desktop_items_count": 1,
    "mobile_items_count": 1,
    "custom_items_desktop": 1,
    "custom_items_mobile": 1,
    "recommendations": [
      null,
      null,
      "Restore missing default items",
      null
    ]
  },
  "user_menu_settings_endpoint": {
    "test_name": "User Menu Settings Endpoint",
    "success": false,
    "response_time_ms": 17.716169357299805,
    "has_desktop_menu": true,
    "has_mobile_menu": true,
    "has_user_role": true,
    "user_role": "admin",
    "desktop_items_count": 1,
    "mobile_items_count": 1,
    "admin_items_desktop": [],
    "admin_items_mobile": [],
    "custom_items_desktop": 1,
    "custom_items_mobile": 1,
    "custom_items_properly_filtered": true,
    "full_response": {
      "desktop_menu": {
        "custom_items": [
          {
            "id": "workflow_external",
            "label": "External Resource",
            "url": "https://docs.example.com",
            "icon": "Store",
            "type": "custom_url",
            "target": "_blank",
            "position": 200,
            "enabled": true,
            "roles": [
              "admin",
              "manager"
            ]
          }
        ]
      },
      "mobile_menu": {
        "custom_items": [
          {
            "id": "workflow_external",
            "label": "External Resource",
            "url": "https://docs.example.com",
            "icon": "Store",
            "type": "custom_url",
            "target": "_blank",
            "position": 200,
            "enabled": true,
            "roles": [
              "admin",
              "manager"
            ]
          }
        ]
      },
      "user_role": "admin"
    }
  },
  "summary": {
    "overall_success_rate": 33.33333333333333,
    "menu_get_working": true,
    "data_structure_correct": false,
    "menu_post_working": true,
    "default_items_valid": false,
    "database_cleanup_ok": false,
    "user_menu_filtering_working": false,
    "all_tests_passed": false,
    "critical_functionality_working": false,
    "menu_settings_functional": true
  }
}