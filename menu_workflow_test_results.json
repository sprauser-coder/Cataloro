{
  "test_timestamp": "2025-09-11T16:31:15.855280",
  "test_focus": "Menu Visibility Workflow - Review Request Scenario",
  "browse_workflow_test": {
    "test_name": "Browse Menu Visibility Workflow",
    "success": true,
    "workflow_results": {
      "initial_state": {
        "demo_has_desktop_browse": false,
        "demo_has_mobile_browse": false,
        "desktop_browse_enabled": false,
        "mobile_browse_enabled": false,
        "desktop_browse_data": {},
        "mobile_browse_data": {}
      },
      "admin_settings": {
        "desktop_browse_exists": true,
        "mobile_browse_exists": true,
        "desktop_browse_enabled": false,
        "mobile_browse_enabled": false
      },
      "disable_operation": {
        "success": true,
        "response_time_ms": 21.648645401000977,
        "error": null
      },
      "admin_verification": {
        "desktop_browse_disabled": true,
        "mobile_browse_disabled": true,
        "desktop_browse_data": {
          "enabled": false,
          "label": "Browse",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        },
        "mobile_browse_data": {
          "enabled": false,
          "label": "Browse",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      "demo_user_after_disable": {
        "has_desktop_browse": false,
        "has_mobile_browse": false,
        "desktop_browse_enabled": false,
        "mobile_browse_enabled": false,
        "total_desktop_items": 5,
        "total_mobile_items": 3,
        "desktop_items": [
          "messages",
          "tenders",
          "profile",
          "buy_management",
          "favorites"
        ],
        "mobile_items": [
          "messages",
          "tenders",
          "profile"
        ]
      },
      "admin_user_after_disable": {
        "has_desktop_browse": false,
        "has_mobile_browse": false,
        "desktop_browse_enabled": false,
        "mobile_browse_enabled": false,
        "total_desktop_items": 6,
        "total_mobile_items": 7
      },
      "restore_operation": {
        "success": true,
        "error": null
      },
      "analysis": {
        "demo_browse_filtered_correctly": true,
        "admin_browse_filtered_correctly": true,
        "disabled_items_completely_filtered": true,
        "backend_filtering_working": true,
        "workflow_success": true
      }
    }
  },
  "properties_analysis_test": {
    "test_name": "Menu Item Properties Analysis",
    "success": true,
    "all_items_analysis": [
      {
        "menu_type": "desktop",
        "item_key": "messages",
        "all_properties": [
          "enabled",
          "label",
          "roles"
        ],
        "enabled": true,
        "visible": null,
        "disabled": null,
        "label": "Messages",
        "roles": [
          "admin",
          "manager",
          "seller",
          "buyer"
        ],
        "raw_data": {
          "enabled": true,
          "label": "Messages",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      {
        "menu_type": "desktop",
        "item_key": "tenders",
        "all_properties": [
          "enabled",
          "label",
          "roles"
        ],
        "enabled": true,
        "visible": null,
        "disabled": null,
        "label": "Tenders",
        "roles": [
          "admin",
          "manager",
          "seller",
          "buyer"
        ],
        "raw_data": {
          "enabled": true,
          "label": "Tenders",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      {
        "menu_type": "desktop",
        "item_key": "profile",
        "all_properties": [
          "enabled",
          "label",
          "roles"
        ],
        "enabled": true,
        "visible": null,
        "disabled": null,
        "label": "Profile",
        "roles": [
          "admin",
          "manager",
          "seller",
          "buyer"
        ],
        "raw_data": {
          "enabled": true,
          "label": "Profile",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      {
        "menu_type": "desktop",
        "item_key": "buy_management",
        "all_properties": [
          "enabled",
          "label",
          "roles"
        ],
        "enabled": true,
        "visible": null,
        "disabled": null,
        "label": "Inventory",
        "roles": [
          "admin",
          "manager",
          "buyer"
        ],
        "raw_data": {
          "enabled": true,
          "label": "Inventory",
          "roles": [
            "admin",
            "manager",
            "buyer"
          ]
        }
      },
      {
        "menu_type": "desktop",
        "item_key": "favorites",
        "all_properties": [
          "enabled",
          "label",
          "roles"
        ],
        "enabled": true,
        "visible": null,
        "disabled": null,
        "label": "Favorites",
        "roles": [
          "admin",
          "manager",
          "seller",
          "buyer"
        ],
        "raw_data": {
          "enabled": true,
          "label": "Favorites",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      {
        "menu_type": "mobile",
        "item_key": "messages",
        "all_properties": [
          "enabled",
          "label",
          "roles"
        ],
        "enabled": true,
        "visible": null,
        "disabled": null,
        "label": "Messages",
        "roles": [
          "admin",
          "manager",
          "seller",
          "buyer"
        ],
        "raw_data": {
          "enabled": true,
          "label": "Messages",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      {
        "menu_type": "mobile",
        "item_key": "tenders",
        "all_properties": [
          "enabled",
          "label",
          "roles"
        ],
        "enabled": true,
        "visible": null,
        "disabled": null,
        "label": "Tenders",
        "roles": [
          "admin",
          "manager",
          "seller",
          "buyer"
        ],
        "raw_data": {
          "enabled": true,
          "label": "Tenders",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      {
        "menu_type": "mobile",
        "item_key": "profile",
        "all_properties": [
          "enabled",
          "label",
          "roles"
        ],
        "enabled": true,
        "visible": null,
        "disabled": null,
        "label": "Profile",
        "roles": [
          "admin",
          "manager",
          "seller",
          "buyer"
        ],
        "raw_data": {
          "enabled": true,
          "label": "Profile",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      }
    ],
    "property_stats": {
      "total_items": 8,
      "items_with_enabled": 8,
      "items_with_visible": 0,
      "items_with_disabled": 0,
      "enabled_true_count": 8,
      "enabled_false_count": 0,
      "enabled_null_count": 0,
      "common_properties": [
        "label",
        "roles",
        "enabled"
      ]
    },
    "user_role": "buyer",
    "full_response": {
      "desktop_menu": {
        "messages": {
          "enabled": true,
          "label": "Messages",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        },
        "tenders": {
          "enabled": true,
          "label": "Tenders",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        },
        "profile": {
          "enabled": true,
          "label": "Profile",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        },
        "buy_management": {
          "enabled": true,
          "label": "Inventory",
          "roles": [
            "admin",
            "manager",
            "buyer"
          ]
        },
        "favorites": {
          "enabled": true,
          "label": "Favorites",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      "mobile_menu": {
        "messages": {
          "enabled": true,
          "label": "Messages",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        },
        "tenders": {
          "enabled": true,
          "label": "Tenders",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        },
        "profile": {
          "enabled": true,
          "label": "Profile",
          "roles": [
            "admin",
            "manager",
            "seller",
            "buyer"
          ]
        }
      },
      "user_role": "buyer"
    }
  },
  "summary": {
    "workflow_success": true,
    "key_findings": {
      "backend_api_filtering_works": true,
      "disabled_items_completely_filtered": true,
      "admin_can_disable_items": true,
      "user_api_respects_admin_settings": true,
      "property_used_for_visibility": "enabled"
    },
    "conclusion": "Backend filtering working correctly"
  }
}